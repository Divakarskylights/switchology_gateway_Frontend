-- -- Generated by the database client.
-- CREATE TABLE activity_log(
--     id SERIAL NOT NULL,
--     timestamp timestamp with time zone NOT NULL DEFAULT now(),
--     "source" varchar(100) NOT NULL,
--     item_type varchar(50),
--     item_id varchar(255),
--     item_name varchar(255),
--     "action" varchar(255) NOT NULL,
--     details text,
--     user_id varchar(255),
--     PRIMARY KEY(id)
-- );
-- CREATE INDEX idx_activity_log_timestamp ON public.activity_log USING btree ("timestamp" DESC);
-- CREATE INDEX idx_activity_log_source ON public.activity_log USING btree (source);
-- CREATE INDEX idx_activity_log_item_name ON public.activity_log USING btree (item_name);
-- CREATE INDEX idx_activity_log_user_id ON public.activity_log USING btree (user_id);

-- -- Generated by the database client.
-- CREATE TABLE auth(
--     auth_verified boolean NOT NULL,
--     id SERIAL NOT NULL,
--     PRIMARY KEY(id)
-- );

-- -- Generated by the database client.
-- CREATE TABLE automation_rules(
--     id SERIAL NOT NULL,
--     name varchar(255) NOT NULL,
--     trigger_type varchar(50) NOT NULL,
--     trigger_device_id varchar(255) NOT NULL,
--     trigger_device_label varchar(255),
--     condition_operator varchar(10) NOT NULL,
--     condition_value numeric NOT NULL,
--     condition_unit varchar(20),
--     action_type varchar(50) NOT NULL,
--     action_device_id varchar(255) NOT NULL,
--     action_device_label varchar(255),
--     is_enabled boolean NOT NULL DEFAULT true,
--     created_at timestamp with time zone NOT NULL DEFAULT now(),
--     updated_at timestamp with time zone NOT NULL DEFAULT now(),
--     PRIMARY KEY(id)
-- );
-- CREATE INDEX idx_automation_rules_trigger_device_id ON public.automation_rules USING btree (trigger_device_id);
-- CREATE INDEX idx_automation_rules_action_device_id ON public.automation_rules USING btree (action_device_id);

-- -- Generated by the database client.
-- CREATE TABLE devices(
--     id SERIAL NOT NULL,
--     name varchar(255) NOT NULL,
--     relay_number integer,
--     config_json jsonb,
--     created_at timestamp with time zone DEFAULT now(),
--     updated_at timestamp with time zone DEFAULT now(),
--     input_relay_number integer,
--     PRIMARY KEY(id)
-- );
-- CREATE INDEX idx_devices_relay_number ON public.devices USING btree (relay_number);
-- COMMENT ON COLUMN devices.input_relay_number IS 'The input relay number (1-8) this device monitors for its input status, corresponds to ip_statusX fields in relay_status table.';

-- -- Generated by the database client.
-- CREATE TABLE generated_json_data(
--     meter_id text,
--     json_data jsonb NOT NULL,
--     id uuid NOT NULL DEFAULT gen_random_uuid(),
--     date_and_time timestamp with time zone NOT NULL DEFAULT now(),
--     PRIMARY KEY(id)
-- );
-- CREATE UNIQUE INDEX generated_json_data_date_and_time_key ON public.generated_json_data USING btree (date_and_time);

-- -- Generated by the database client.
-- CREATE TABLE meter_configration(
--     id SERIAL NOT NULL,
--     con jsonb,
--     device varchar(100),
--     label varchar(50),
--     meter_model varchar(50),
--     meter_name varchar(100),
--     meter_no integer,
--     meter_type varchar(100),
--     meter_make varchar(50),
--     interval double precision,
--     PRIMARY KEY(id)
-- );

-- -- Generated by the database client.
-- CREATE TABLE profiles(
--     "logStatus" boolean DEFAULT true,
--     address varchar(255),
--     building_name varchar(255),
--     email varchar(100),
--     gateway_name varchar(50),
--     name varchar(100),
--     orgname varchar(100),
--     "adminPassword" varchar(50),
--     userid varchar(50) NOT NULL,
--     create_time timestamp with time zone DEFAULT CURRENT_TIMESTAMP,
--     "viewerPassword" varchar,
--     role varchar DEFAULT 'ADMIN'::character varying,
--     PRIMARY KEY(userid)
-- );
-- CREATE UNIQUE INDEX profiles_email_key ON public.profiles USING btree (email);

-- -- Generated by the database client.
-- CREATE TABLE relay_status(
--     id uuid NOT NULL DEFAULT gen_random_uuid(),
--     ip_status1 boolean NOT NULL DEFAULT false,
--     ip_status2 boolean NOT NULL DEFAULT false,
--     ip_status3 boolean NOT NULL DEFAULT false,
--     ip_status4 boolean NOT NULL DEFAULT false,
--     ip_status5 boolean NOT NULL DEFAULT false,
--     ip_status6 boolean NOT NULL DEFAULT false,
--     ip_status7 boolean NOT NULL DEFAULT false,
--     ip_status8 boolean NOT NULL DEFAULT false,
--     op_status1 boolean NOT NULL DEFAULT false,
--     op_status2 boolean NOT NULL DEFAULT false,
--     op_status3 boolean NOT NULL DEFAULT false,
--     op_status4 boolean NOT NULL DEFAULT false,
--     op_status5 boolean NOT NULL DEFAULT false,
--     op_status6 boolean NOT NULL DEFAULT false,
--     op_status7 boolean NOT NULL DEFAULT false,
--     op_status8 boolean NOT NULL DEFAULT false,
--     created_at timestamp with time zone NOT NULL DEFAULT now(),
--     PRIMARY KEY(id)
-- );
-- COMMENT ON TABLE relay_status IS 'Stores the current input/output relay statuses.';

-- -- Generated by the database client.
-- CREATE TABLE reportdata(
--     "firstMeter" varchar NOT NULL,
--     id SERIAL NOT NULL,
--     tariff varchar,
--     bescom_bill integer NOT NULL DEFAULT 0,
--     created_at timestamp with time zone NOT NULL DEFAULT now(),
--     eb_present varchar,
--     eb_previous varchar,
--     dg_present varchar,
--     dg_previous varchar,
--     updated_at timestamp with time zone,
--     "isDg" boolean NOT NULL DEFAULT false,
--     PRIMARY KEY(id)
-- );
-- CREATE UNIQUE INDEX reportdata_created_at_key ON public.reportdata USING btree (created_at);

-- -- Generated by the database client.
-- CREATE TABLE scada_diagrams(
--     id SERIAL NOT NULL,
--     name varchar(255) NOT NULL,
--     description text,
--     diagram_model_json jsonb NOT NULL,
--     created_at timestamp with time zone NOT NULL DEFAULT now(),
--     updated_at timestamp with time zone NOT NULL DEFAULT now(),
--     default_name text DEFAULT 'diagram'::text,
--     PRIMARY KEY(id)
-- );
-- CREATE UNIQUE INDEX scada_diagrams_name_key ON public.scada_diagrams USING btree (name);
-- CREATE INDEX idx_scada_diagrams_name ON public.scada_diagrams USING btree (name);
-- COMMENT ON COLUMN scada_diagrams.diagram_model_json IS 'Stores the GoJS model: { "class": "GraphLinksModel", "nodeDataArray": [...], "linkDataArray": [...], "modelData": {...} }';

-- -- Generated by the database client.
-- CREATE TABLE schedules(
--     id SERIAL NOT NULL,
--     device_id varchar(255) NOT NULL,
--     device_name_label varchar(255),
--     "action" varchar(50) NOT NULL,
--     time time without time zone NOT NULL,
--     frequency varchar(50) NOT NULL,
--     custom_days character varying[],
--     is_enabled boolean NOT NULL DEFAULT true,
--     last_run_at timestamp with time zone,
--     next_run_at timestamp with time zone,
--     created_at timestamp with time zone NOT NULL DEFAULT now(),
--     updated_at timestamp with time zone NOT NULL DEFAULT now(),
--     PRIMARY KEY(id)
-- );
-- CREATE INDEX idx_schedules_device_id ON public.schedules USING btree (device_id);
-- CREATE INDEX idx_schedules_next_run_at ON public.schedules USING btree (next_run_at);

-- -- Generated by the database client.
-- CREATE TABLE tariffs(
--     id uuid NOT NULL DEFAULT gen_random_uuid(),
--     tariff_name varchar(255) NOT NULL,
--     percent_of_cd_kva double precision,
--     demand_charges_rs_kva double precision,
--     energy_charges_rs_kwh double precision,
--     fuel_cost_adj_rs_kwh double precision,
--     interest_on_revenue double precision,
--     interest_on_tax double precision,
--     tax_percent double precision,
--     created_date timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
--     updated_date timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
--     PRIMARY KEY(id)
-- );

-- INSERT INTO profiles (
--   "logStatus",
--   address,
--   "adminPassword",
--   building_name,
--   email,
--   gateway_name,
--   name,
--   orgname,
--   role,
--   userid,
--   "viewerPassword",
--   create_time
-- )
-- VALUES (
--   true,
--   'No.127, 23rd Cross, 5th Main, 7th Sector, Hsr Layout Bangalore KA 560102',
--   '3333',
--   'Skylights Building',
--   'shakeerm@skylightsenergy.sss',
--   'sky0625be3b18',
--   'shakeer',
--   'Skylights Organization',
--   'ADMIN',
--   'shakeerm',
--   '5566',
--   '2025-02-28T11:33:56.316371+00:00'
-- );