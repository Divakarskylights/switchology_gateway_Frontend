import"./monaco-ljVK7JGM.js";function PA(i,t){for(var s=0;s<t.length;s++){const r=t[s];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in i)){const u=Object.getOwnPropertyDescriptor(r,a);u&&Object.defineProperty(i,a,u.get?u:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function s(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(a){if(a.ep)return;a.ep=!0;const u=s(a);fetch(a.href,u)}})();function Qn(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function La(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var t=i.default;if(typeof t=="function"){var s=function r(){var a=!1;try{a=this instanceof r}catch{}return a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(i).forEach(function(r){var a=Object.getOwnPropertyDescriptor(i,r);Object.defineProperty(s,r,a.get?a:{enumerable:!0,get:function(){return i[r]}})}),s}var Ix={exports:{}},wd={},Fx={exports:{}},ti={},FC;function lL(){if(FC)return ti;FC=1;/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=Symbol.for("react.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.iterator;function M(be){return be===null||typeof be!="object"?null:(be=S&&be[S]||be["@@iterator"],typeof be=="function"?be:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,E={};function _(be,Ne,_e){this.props=be,this.context=Ne,this.refs=E,this.updater=_e||A}_.prototype.isReactComponent={},_.prototype.setState=function(be,Ne){if(typeof be!="object"&&typeof be!="function"&&be!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,be,Ne,"setState")},_.prototype.forceUpdate=function(be){this.updater.enqueueForceUpdate(this,be,"forceUpdate")};function T(){}T.prototype=_.prototype;function B(be,Ne,_e){this.props=be,this.context=Ne,this.refs=E,this.updater=_e||A}var z=B.prototype=new T;z.constructor=B,R(z,_.prototype),z.isPureReactComponent=!0;var W=Array.isArray,L=Object.prototype.hasOwnProperty,U={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function q(be,Ne,_e){var Me,qe={},ze=null,$e=null;if(Ne!=null)for(Me in Ne.ref!==void 0&&($e=Ne.ref),Ne.key!==void 0&&(ze=""+Ne.key),Ne)L.call(Ne,Me)&&!I.hasOwnProperty(Me)&&(qe[Me]=Ne[Me]);var Ue=arguments.length-2;if(Ue===1)qe.children=_e;else if(1<Ue){for(var Pe=Array(Ue),Re=0;Re<Ue;Re++)Pe[Re]=arguments[Re+2];qe.children=Pe}if(be&&be.defaultProps)for(Me in Ue=be.defaultProps,Ue)qe[Me]===void 0&&(qe[Me]=Ue[Me]);return{$$typeof:i,type:be,key:ze,ref:$e,props:qe,_owner:U.current}}function ee(be,Ne){return{$$typeof:i,type:be.type,key:Ne,ref:be.ref,props:be.props,_owner:be._owner}}function te(be){return typeof be=="object"&&be!==null&&be.$$typeof===i}function ce(be){var Ne={"=":"=0",":":"=2"};return"$"+be.replace(/[=:]/g,function(_e){return Ne[_e]})}var re=/\/+/g;function ae(be,Ne){return typeof be=="object"&&be!==null&&be.key!=null?ce(""+be.key):Ne.toString(36)}function ue(be,Ne,_e,Me,qe){var ze=typeof be;(ze==="undefined"||ze==="boolean")&&(be=null);var $e=!1;if(be===null)$e=!0;else switch(ze){case"string":case"number":$e=!0;break;case"object":switch(be.$$typeof){case i:case t:$e=!0}}if($e)return $e=be,qe=qe($e),be=Me===""?"."+ae($e,0):Me,W(qe)?(_e="",be!=null&&(_e=be.replace(re,"$&/")+"/"),ue(qe,Ne,_e,"",function(Re){return Re})):qe!=null&&(te(qe)&&(qe=ee(qe,_e+(!qe.key||$e&&$e.key===qe.key?"":(""+qe.key).replace(re,"$&/")+"/")+be)),Ne.push(qe)),1;if($e=0,Me=Me===""?".":Me+":",W(be))for(var Ue=0;Ue<be.length;Ue++){ze=be[Ue];var Pe=Me+ae(ze,Ue);$e+=ue(ze,Ne,_e,Pe,qe)}else if(Pe=M(be),typeof Pe=="function")for(be=Pe.call(be),Ue=0;!(ze=be.next()).done;)ze=ze.value,Pe=Me+ae(ze,Ue++),$e+=ue(ze,Ne,_e,Pe,qe);else if(ze==="object")throw Ne=String(be),Error("Objects are not valid as a React child (found: "+(Ne==="[object Object]"?"object with keys {"+Object.keys(be).join(", ")+"}":Ne)+"). If you meant to render a collection of children, use an array instead.");return $e}function ie(be,Ne,_e){if(be==null)return be;var Me=[],qe=0;return ue(be,Me,"","",function(ze){return Ne.call(_e,ze,qe++)}),Me}function he(be){if(be._status===-1){var Ne=be._result;Ne=Ne(),Ne.then(function(_e){(be._status===0||be._status===-1)&&(be._status=1,be._result=_e)},function(_e){(be._status===0||be._status===-1)&&(be._status=2,be._result=_e)}),be._status===-1&&(be._status=0,be._result=Ne)}if(be._status===1)return be._result.default;throw be._result}var pe={current:null},de={transition:null},xe={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:de,ReactCurrentOwner:U};function Se(){throw Error("act(...) is not supported in production builds of React.")}return ti.Children={map:ie,forEach:function(be,Ne,_e){ie(be,function(){Ne.apply(this,arguments)},_e)},count:function(be){var Ne=0;return ie(be,function(){Ne++}),Ne},toArray:function(be){return ie(be,function(Ne){return Ne})||[]},only:function(be){if(!te(be))throw Error("React.Children.only expected to receive a single React element child.");return be}},ti.Component=_,ti.Fragment=s,ti.Profiler=a,ti.PureComponent=B,ti.StrictMode=r,ti.Suspense=m,ti.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xe,ti.act=Se,ti.cloneElement=function(be,Ne,_e){if(be==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+be+".");var Me=R({},be.props),qe=be.key,ze=be.ref,$e=be._owner;if(Ne!=null){if(Ne.ref!==void 0&&(ze=Ne.ref,$e=U.current),Ne.key!==void 0&&(qe=""+Ne.key),be.type&&be.type.defaultProps)var Ue=be.type.defaultProps;for(Pe in Ne)L.call(Ne,Pe)&&!I.hasOwnProperty(Pe)&&(Me[Pe]=Ne[Pe]===void 0&&Ue!==void 0?Ue[Pe]:Ne[Pe])}var Pe=arguments.length-2;if(Pe===1)Me.children=_e;else if(1<Pe){Ue=Array(Pe);for(var Re=0;Re<Pe;Re++)Ue[Re]=arguments[Re+2];Me.children=Ue}return{$$typeof:i,type:be.type,key:qe,ref:ze,props:Me,_owner:$e}},ti.createContext=function(be){return be={$$typeof:d,_currentValue:be,_currentValue2:be,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},be.Provider={$$typeof:u,_context:be},be.Consumer=be},ti.createElement=q,ti.createFactory=function(be){var Ne=q.bind(null,be);return Ne.type=be,Ne},ti.createRef=function(){return{current:null}},ti.forwardRef=function(be){return{$$typeof:p,render:be}},ti.isValidElement=te,ti.lazy=function(be){return{$$typeof:b,_payload:{_status:-1,_result:be},_init:he}},ti.memo=function(be,Ne){return{$$typeof:y,type:be,compare:Ne===void 0?null:Ne}},ti.startTransition=function(be){var Ne=de.transition;de.transition={};try{be()}finally{de.transition=Ne}},ti.unstable_act=Se,ti.useCallback=function(be,Ne){return pe.current.useCallback(be,Ne)},ti.useContext=function(be){return pe.current.useContext(be)},ti.useDebugValue=function(){},ti.useDeferredValue=function(be){return pe.current.useDeferredValue(be)},ti.useEffect=function(be,Ne){return pe.current.useEffect(be,Ne)},ti.useId=function(){return pe.current.useId()},ti.useImperativeHandle=function(be,Ne,_e){return pe.current.useImperativeHandle(be,Ne,_e)},ti.useInsertionEffect=function(be,Ne){return pe.current.useInsertionEffect(be,Ne)},ti.useLayoutEffect=function(be,Ne){return pe.current.useLayoutEffect(be,Ne)},ti.useMemo=function(be,Ne){return pe.current.useMemo(be,Ne)},ti.useReducer=function(be,Ne,_e){return pe.current.useReducer(be,Ne,_e)},ti.useRef=function(be){return pe.current.useRef(be)},ti.useState=function(be){return pe.current.useState(be)},ti.useSyncExternalStore=function(be,Ne,_e){return pe.current.useSyncExternalStore(be,Ne,_e)},ti.useTransition=function(){return pe.current.useTransition()},ti.version="18.3.1",ti}var jC;function Gl(){return jC||(jC=1,Fx.exports=lL()),Fx.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _C;function cL(){if(_C)return wd;_C=1;var i=Gl(),t=Symbol.for("react.element"),s=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(p,m,y){var b,S={},M=null,A=null;y!==void 0&&(M=""+y),m.key!==void 0&&(M=""+m.key),m.ref!==void 0&&(A=m.ref);for(b in m)r.call(m,b)&&!u.hasOwnProperty(b)&&(S[b]=m[b]);if(p&&p.defaultProps)for(b in m=p.defaultProps,m)S[b]===void 0&&(S[b]=m[b]);return{$$typeof:t,type:p,key:M,ref:A,props:S,_owner:a.current}}return wd.Fragment=s,wd.jsx=d,wd.jsxs=d,wd}var zC;function Li(){return zC||(zC=1,Ix.exports=cL()),Ix.exports}var D=Li(),X=Gl();const _n=Qn(X),ab=PA({__proto__:null,default:_n},[X]);var Lg={},jx={exports:{}},Vr={},_x={exports:{}},zx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BC;function uL(){return BC||(BC=1,function(i){function t(de,xe){var Se=de.length;de.push(xe);e:for(;0<Se;){var be=Se-1>>>1,Ne=de[be];if(0<a(Ne,xe))de[be]=xe,de[Se]=Ne,Se=be;else break e}}function s(de){return de.length===0?null:de[0]}function r(de){if(de.length===0)return null;var xe=de[0],Se=de.pop();if(Se!==xe){de[0]=Se;e:for(var be=0,Ne=de.length,_e=Ne>>>1;be<_e;){var Me=2*(be+1)-1,qe=de[Me],ze=Me+1,$e=de[ze];if(0>a(qe,Se))ze<Ne&&0>a($e,qe)?(de[be]=$e,de[ze]=Se,be=ze):(de[be]=qe,de[Me]=Se,be=Me);else if(ze<Ne&&0>a($e,Se))de[be]=$e,de[ze]=Se,be=ze;else break e}}return xe}function a(de,xe){var Se=de.sortIndex-xe.sortIndex;return Se!==0?Se:de.id-xe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();i.unstable_now=function(){return d.now()-p}}var m=[],y=[],b=1,S=null,M=3,A=!1,R=!1,E=!1,_=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(de){for(var xe=s(y);xe!==null;){if(xe.callback===null)r(y);else if(xe.startTime<=de)r(y),xe.sortIndex=xe.expirationTime,t(m,xe);else break;xe=s(y)}}function W(de){if(E=!1,z(de),!R)if(s(m)!==null)R=!0,he(L);else{var xe=s(y);xe!==null&&pe(W,xe.startTime-de)}}function L(de,xe){R=!1,E&&(E=!1,T(q),q=-1),A=!0;var Se=M;try{for(z(xe),S=s(m);S!==null&&(!(S.expirationTime>xe)||de&&!ce());){var be=S.callback;if(typeof be=="function"){S.callback=null,M=S.priorityLevel;var Ne=be(S.expirationTime<=xe);xe=i.unstable_now(),typeof Ne=="function"?S.callback=Ne:S===s(m)&&r(m),z(xe)}else r(m);S=s(m)}if(S!==null)var _e=!0;else{var Me=s(y);Me!==null&&pe(W,Me.startTime-xe),_e=!1}return _e}finally{S=null,M=Se,A=!1}}var U=!1,I=null,q=-1,ee=5,te=-1;function ce(){return!(i.unstable_now()-te<ee)}function re(){if(I!==null){var de=i.unstable_now();te=de;var xe=!0;try{xe=I(!0,de)}finally{xe?ae():(U=!1,I=null)}}else U=!1}var ae;if(typeof B=="function")ae=function(){B(re)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,ie=ue.port2;ue.port1.onmessage=re,ae=function(){ie.postMessage(null)}}else ae=function(){_(re,0)};function he(de){I=de,U||(U=!0,ae())}function pe(de,xe){q=_(function(){de(i.unstable_now())},xe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(de){de.callback=null},i.unstable_continueExecution=function(){R||A||(R=!0,he(L))},i.unstable_forceFrameRate=function(de){0>de||125<de?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<de?Math.floor(1e3/de):5},i.unstable_getCurrentPriorityLevel=function(){return M},i.unstable_getFirstCallbackNode=function(){return s(m)},i.unstable_next=function(de){switch(M){case 1:case 2:case 3:var xe=3;break;default:xe=M}var Se=M;M=xe;try{return de()}finally{M=Se}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(de,xe){switch(de){case 1:case 2:case 3:case 4:case 5:break;default:de=3}var Se=M;M=de;try{return xe()}finally{M=Se}},i.unstable_scheduleCallback=function(de,xe,Se){var be=i.unstable_now();switch(typeof Se=="object"&&Se!==null?(Se=Se.delay,Se=typeof Se=="number"&&0<Se?be+Se:be):Se=be,de){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=Se+Ne,de={id:b++,callback:xe,priorityLevel:de,startTime:Se,expirationTime:Ne,sortIndex:-1},Se>be?(de.sortIndex=Se,t(y,de),s(m)===null&&de===s(y)&&(E?(T(q),q=-1):E=!0,pe(W,Se-be))):(de.sortIndex=Ne,t(m,de),R||A||(R=!0,he(L))),de},i.unstable_shouldYield=ce,i.unstable_wrapCallback=function(de){var xe=M;return function(){var Se=M;M=xe;try{return de.apply(this,arguments)}finally{M=Se}}}}(zx)),zx}var VC;function hL(){return VC||(VC=1,_x.exports=uL()),_x.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HC;function dL(){if(HC)return Vr;HC=1;var i=Gl(),t=hL();function s(x){for(var C="https://reactjs.org/docs/error-decoder.html?invariant="+x,O=1;O<arguments.length;O++)C+="&args[]="+encodeURIComponent(arguments[O]);return"Minified React error #"+x+"; visit "+C+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,a={};function u(x,C){d(x,C),d(x+"Capture",C)}function d(x,C){for(a[x]=C,x=0;x<C.length;x++)r.add(C[x])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b={},S={};function M(x){return m.call(S,x)?!0:m.call(b,x)?!1:y.test(x)?S[x]=!0:(b[x]=!0,!1)}function A(x,C,O,Y){if(O!==null&&O.type===0)return!1;switch(typeof C){case"function":case"symbol":return!0;case"boolean":return Y?!1:O!==null?!O.acceptsBooleans:(x=x.toLowerCase().slice(0,5),x!=="data-"&&x!=="aria-");default:return!1}}function R(x,C,O,Y){if(C===null||typeof C>"u"||A(x,C,O,Y))return!0;if(Y)return!1;if(O!==null)switch(O.type){case 3:return!C;case 4:return C===!1;case 5:return isNaN(C);case 6:return isNaN(C)||1>C}return!1}function E(x,C,O,Y,Z,se,ve){this.acceptsBooleans=C===2||C===3||C===4,this.attributeName=Y,this.attributeNamespace=Z,this.mustUseProperty=O,this.propertyName=x,this.type=C,this.sanitizeURL=se,this.removeEmptyString=ve}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(x){_[x]=new E(x,0,!1,x,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(x){var C=x[0];_[C]=new E(C,1,!1,x[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(x){_[x]=new E(x,2,!1,x.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(x){_[x]=new E(x,2,!1,x,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(x){_[x]=new E(x,3,!1,x.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(x){_[x]=new E(x,3,!0,x,null,!1,!1)}),["capture","download"].forEach(function(x){_[x]=new E(x,4,!1,x,null,!1,!1)}),["cols","rows","size","span"].forEach(function(x){_[x]=new E(x,6,!1,x,null,!1,!1)}),["rowSpan","start"].forEach(function(x){_[x]=new E(x,5,!1,x.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function B(x){return x[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(x){var C=x.replace(T,B);_[C]=new E(C,1,!1,x,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(x){var C=x.replace(T,B);_[C]=new E(C,1,!1,x,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(x){var C=x.replace(T,B);_[C]=new E(C,1,!1,x,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(x){_[x]=new E(x,1,!1,x.toLowerCase(),null,!1,!1)}),_.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(x){_[x]=new E(x,1,!1,x.toLowerCase(),null,!0,!0)});function z(x,C,O,Y){var Z=_.hasOwnProperty(C)?_[C]:null;(Z!==null?Z.type!==0:Y||!(2<C.length)||C[0]!=="o"&&C[0]!=="O"||C[1]!=="n"&&C[1]!=="N")&&(R(C,O,Z,Y)&&(O=null),Y||Z===null?M(C)&&(O===null?x.removeAttribute(C):x.setAttribute(C,""+O)):Z.mustUseProperty?x[Z.propertyName]=O===null?Z.type===3?!1:"":O:(C=Z.attributeName,Y=Z.attributeNamespace,O===null?x.removeAttribute(C):(Z=Z.type,O=Z===3||Z===4&&O===!0?"":""+O,Y?x.setAttributeNS(Y,C,O):x.setAttribute(C,O))))}var W=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),U=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),te=Symbol.for("react.provider"),ce=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),pe=Symbol.for("react.offscreen"),de=Symbol.iterator;function xe(x){return x===null||typeof x!="object"?null:(x=de&&x[de]||x["@@iterator"],typeof x=="function"?x:null)}var Se=Object.assign,be;function Ne(x){if(be===void 0)try{throw Error()}catch(O){var C=O.stack.trim().match(/\n( *(at )?)/);be=C&&C[1]||""}return`
`+be+x}var _e=!1;function Me(x,C){if(!x||_e)return"";_e=!0;var O=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(C)if(C=function(){throw Error()},Object.defineProperty(C.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(C,[])}catch(lt){var Y=lt}Reflect.construct(x,[],C)}else{try{C.call()}catch(lt){Y=lt}x.call(C.prototype)}else{try{throw Error()}catch(lt){Y=lt}x()}}catch(lt){if(lt&&Y&&typeof lt.stack=="string"){for(var Z=lt.stack.split(`
`),se=Y.stack.split(`
`),ve=Z.length-1,Le=se.length-1;1<=ve&&0<=Le&&Z[ve]!==se[Le];)Le--;for(;1<=ve&&0<=Le;ve--,Le--)if(Z[ve]!==se[Le]){if(ve!==1||Le!==1)do if(ve--,Le--,0>Le||Z[ve]!==se[Le]){var We=`
`+Z[ve].replace(" at new "," at ");return x.displayName&&We.includes("<anonymous>")&&(We=We.replace("<anonymous>",x.displayName)),We}while(1<=ve&&0<=Le);break}}}finally{_e=!1,Error.prepareStackTrace=O}return(x=x?x.displayName||x.name:"")?Ne(x):""}function qe(x){switch(x.tag){case 5:return Ne(x.type);case 16:return Ne("Lazy");case 13:return Ne("Suspense");case 19:return Ne("SuspenseList");case 0:case 2:case 15:return x=Me(x.type,!1),x;case 11:return x=Me(x.type.render,!1),x;case 1:return x=Me(x.type,!0),x;default:return""}}function ze(x){if(x==null)return null;if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x;switch(x){case I:return"Fragment";case U:return"Portal";case ee:return"Profiler";case q:return"StrictMode";case ae:return"Suspense";case ue:return"SuspenseList"}if(typeof x=="object")switch(x.$$typeof){case ce:return(x.displayName||"Context")+".Consumer";case te:return(x._context.displayName||"Context")+".Provider";case re:var C=x.render;return x=x.displayName,x||(x=C.displayName||C.name||"",x=x!==""?"ForwardRef("+x+")":"ForwardRef"),x;case ie:return C=x.displayName||null,C!==null?C:ze(x.type)||"Memo";case he:C=x._payload,x=x._init;try{return ze(x(C))}catch{}}return null}function $e(x){var C=x.type;switch(x.tag){case 24:return"Cache";case 9:return(C.displayName||"Context")+".Consumer";case 10:return(C._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return x=C.render,x=x.displayName||x.name||"",C.displayName||(x!==""?"ForwardRef("+x+")":"ForwardRef");case 7:return"Fragment";case 5:return C;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ze(C);case 8:return C===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof C=="function")return C.displayName||C.name||null;if(typeof C=="string")return C}return null}function Ue(x){switch(typeof x){case"boolean":case"number":case"string":case"undefined":return x;case"object":return x;default:return""}}function Pe(x){var C=x.type;return(x=x.nodeName)&&x.toLowerCase()==="input"&&(C==="checkbox"||C==="radio")}function Re(x){var C=Pe(x)?"checked":"value",O=Object.getOwnPropertyDescriptor(x.constructor.prototype,C),Y=""+x[C];if(!x.hasOwnProperty(C)&&typeof O<"u"&&typeof O.get=="function"&&typeof O.set=="function"){var Z=O.get,se=O.set;return Object.defineProperty(x,C,{configurable:!0,get:function(){return Z.call(this)},set:function(ve){Y=""+ve,se.call(this,ve)}}),Object.defineProperty(x,C,{enumerable:O.enumerable}),{getValue:function(){return Y},setValue:function(ve){Y=""+ve},stopTracking:function(){x._valueTracker=null,delete x[C]}}}}function De(x){x._valueTracker||(x._valueTracker=Re(x))}function je(x){if(!x)return!1;var C=x._valueTracker;if(!C)return!0;var O=C.getValue(),Y="";return x&&(Y=Pe(x)?x.checked?"true":"false":x.value),x=Y,x!==O?(C.setValue(x),!0):!1}function Ee(x){if(x=x||(typeof document<"u"?document:void 0),typeof x>"u")return null;try{return x.activeElement||x.body}catch{return x.body}}function Qe(x,C){var O=C.checked;return Se({},C,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:O??x._wrapperState.initialChecked})}function ut(x,C){var O=C.defaultValue==null?"":C.defaultValue,Y=C.checked!=null?C.checked:C.defaultChecked;O=Ue(C.value!=null?C.value:O),x._wrapperState={initialChecked:Y,initialValue:O,controlled:C.type==="checkbox"||C.type==="radio"?C.checked!=null:C.value!=null}}function Ht(x,C){C=C.checked,C!=null&&z(x,"checked",C,!1)}function un(x,C){Ht(x,C);var O=Ue(C.value),Y=C.type;if(O!=null)Y==="number"?(O===0&&x.value===""||x.value!=O)&&(x.value=""+O):x.value!==""+O&&(x.value=""+O);else if(Y==="submit"||Y==="reset"){x.removeAttribute("value");return}C.hasOwnProperty("value")?ht(x,C.type,O):C.hasOwnProperty("defaultValue")&&ht(x,C.type,Ue(C.defaultValue)),C.checked==null&&C.defaultChecked!=null&&(x.defaultChecked=!!C.defaultChecked)}function Ct(x,C,O){if(C.hasOwnProperty("value")||C.hasOwnProperty("defaultValue")){var Y=C.type;if(!(Y!=="submit"&&Y!=="reset"||C.value!==void 0&&C.value!==null))return;C=""+x._wrapperState.initialValue,O||C===x.value||(x.value=C),x.defaultValue=C}O=x.name,O!==""&&(x.name=""),x.defaultChecked=!!x._wrapperState.initialChecked,O!==""&&(x.name=O)}function ht(x,C,O){(C!=="number"||Ee(x.ownerDocument)!==x)&&(O==null?x.defaultValue=""+x._wrapperState.initialValue:x.defaultValue!==""+O&&(x.defaultValue=""+O))}var Ze=Array.isArray;function yt(x,C,O,Y){if(x=x.options,C){C={};for(var Z=0;Z<O.length;Z++)C["$"+O[Z]]=!0;for(O=0;O<x.length;O++)Z=C.hasOwnProperty("$"+x[O].value),x[O].selected!==Z&&(x[O].selected=Z),Z&&Y&&(x[O].defaultSelected=!0)}else{for(O=""+Ue(O),C=null,Z=0;Z<x.length;Z++){if(x[Z].value===O){x[Z].selected=!0,Y&&(x[Z].defaultSelected=!0);return}C!==null||x[Z].disabled||(C=x[Z])}C!==null&&(C.selected=!0)}}function Ut(x,C){if(C.dangerouslySetInnerHTML!=null)throw Error(s(91));return Se({},C,{value:void 0,defaultValue:void 0,children:""+x._wrapperState.initialValue})}function nn(x,C){var O=C.value;if(O==null){if(O=C.children,C=C.defaultValue,O!=null){if(C!=null)throw Error(s(92));if(Ze(O)){if(1<O.length)throw Error(s(93));O=O[0]}C=O}C==null&&(C=""),O=C}x._wrapperState={initialValue:Ue(O)}}function Ve(x,C){var O=Ue(C.value),Y=Ue(C.defaultValue);O!=null&&(O=""+O,O!==x.value&&(x.value=O),C.defaultValue==null&&x.defaultValue!==O&&(x.defaultValue=O)),Y!=null&&(x.defaultValue=""+Y)}function at(x){var C=x.textContent;C===x._wrapperState.initialValue&&C!==""&&C!==null&&(x.value=C)}function xt(x){switch(x){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _t(x,C){return x==null||x==="http://www.w3.org/1999/xhtml"?xt(C):x==="http://www.w3.org/2000/svg"&&C==="foreignObject"?"http://www.w3.org/1999/xhtml":x}var Mt,rt=function(x){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(C,O,Y,Z){MSApp.execUnsafeLocalFunction(function(){return x(C,O,Y,Z)})}:x}(function(x,C){if(x.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in x)x.innerHTML=C;else{for(Mt=Mt||document.createElement("div"),Mt.innerHTML="<svg>"+C.valueOf().toString()+"</svg>",C=Mt.firstChild;x.firstChild;)x.removeChild(x.firstChild);for(;C.firstChild;)x.appendChild(C.firstChild)}});function Tt(x,C){if(C){var O=x.firstChild;if(O&&O===x.lastChild&&O.nodeType===3){O.nodeValue=C;return}}x.textContent=C}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mt=["Webkit","ms","Moz","O"];Object.keys(ft).forEach(function(x){mt.forEach(function(C){C=C+x.charAt(0).toUpperCase()+x.substring(1),ft[C]=ft[x]})});function Rt(x,C,O){return C==null||typeof C=="boolean"||C===""?"":O||typeof C!="number"||C===0||ft.hasOwnProperty(x)&&ft[x]?(""+C).trim():C+"px"}function an(x,C){x=x.style;for(var O in C)if(C.hasOwnProperty(O)){var Y=O.indexOf("--")===0,Z=Rt(O,C[O],Y);O==="float"&&(O="cssFloat"),Y?x.setProperty(O,Z):x[O]=Z}}var gt=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Te(x,C){if(C){if(gt[x]&&(C.children!=null||C.dangerouslySetInnerHTML!=null))throw Error(s(137,x));if(C.dangerouslySetInnerHTML!=null){if(C.children!=null)throw Error(s(60));if(typeof C.dangerouslySetInnerHTML!="object"||!("__html"in C.dangerouslySetInnerHTML))throw Error(s(61))}if(C.style!=null&&typeof C.style!="object")throw Error(s(62))}}function Nn(x,C){if(x.indexOf("-")===-1)return typeof C.is=="string";switch(x){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dn=null;function hi(x){return x=x.target||x.srcElement||window,x.correspondingUseElement&&(x=x.correspondingUseElement),x.nodeType===3?x.parentNode:x}var Si=null,Wi=null,qi=null;function Ps(x){if(x=od(x)){if(typeof Si!="function")throw Error(s(280));var C=x.stateNode;C&&(C=Gp(C),Si(x.stateNode,x.type,C))}}function Bn(x){Wi?qi?qi.push(x):qi=[x]:Wi=x}function Ms(){if(Wi){var x=Wi,C=qi;if(qi=Wi=null,Ps(x),C)for(x=0;x<C.length;x++)Ps(C[x])}}function Ar(x,C){return x(C)}function ar(){}var Wt=!1;function Dr(x,C,O){if(Wt)return x(C,O);Wt=!0;try{return Ar(x,C,O)}finally{Wt=!1,(Wi!==null||qi!==null)&&(ar(),Ms())}}function mo(x,C){var O=x.stateNode;if(O===null)return null;var Y=Gp(O);if(Y===null)return null;O=Y[C];e:switch(C){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(Y=!Y.disabled)||(x=x.type,Y=!(x==="button"||x==="input"||x==="select"||x==="textarea")),x=!Y;break e;default:x=!1}if(x)return null;if(O&&typeof O!="function")throw Error(s(231,C,typeof O));return O}var yr=!1;if(p)try{var xr={};Object.defineProperty(xr,"passive",{get:function(){yr=!0}}),window.addEventListener("test",xr,xr),window.removeEventListener("test",xr,xr)}catch{yr=!1}function Ni(x,C,O,Y,Z,se,ve,Le,We){var lt=Array.prototype.slice.call(arguments,3);try{C.apply(O,lt)}catch(jt){this.onError(jt)}}var Ts=!1,yo=null,Fs=!1,ha=null,Xo={onError:function(x){Ts=!0,yo=x}};function Ae(x,C,O,Y,Z,se,ve,Le,We){Ts=!1,yo=null,Ni.apply(Xo,arguments)}function Ln(x,C,O,Y,Z,se,ve,Le,We){if(Ae.apply(this,arguments),Ts){if(Ts){var lt=yo;Ts=!1,yo=null}else throw Error(s(198));Fs||(Fs=!0,ha=lt)}}function xo(x){var C=x,O=x;if(x.alternate)for(;C.return;)C=C.return;else{x=C;do C=x,(C.flags&4098)!==0&&(O=C.return),x=C.return;while(x)}return C.tag===3?O:null}function ru(x){if(x.tag===13){var C=x.memoizedState;if(C===null&&(x=x.alternate,x!==null&&(C=x.memoizedState)),C!==null)return C.dehydrated}return null}function ou(x){if(xo(x)!==x)throw Error(s(188))}function al(x){var C=x.alternate;if(!C){if(C=xo(x),C===null)throw Error(s(188));return C!==x?null:x}for(var O=x,Y=C;;){var Z=O.return;if(Z===null)break;var se=Z.alternate;if(se===null){if(Y=Z.return,Y!==null){O=Y;continue}break}if(Z.child===se.child){for(se=Z.child;se;){if(se===O)return ou(Z),x;if(se===Y)return ou(Z),C;se=se.sibling}throw Error(s(188))}if(O.return!==Y.return)O=Z,Y=se;else{for(var ve=!1,Le=Z.child;Le;){if(Le===O){ve=!0,O=Z,Y=se;break}if(Le===Y){ve=!0,Y=Z,O=se;break}Le=Le.sibling}if(!ve){for(Le=se.child;Le;){if(Le===O){ve=!0,O=se,Y=Z;break}if(Le===Y){ve=!0,Y=se,O=Z;break}Le=Le.sibling}if(!ve)throw Error(s(189))}}if(O.alternate!==Y)throw Error(s(190))}if(O.tag!==3)throw Error(s(188));return O.stateNode.current===O?x:C}function au(x){return x=al(x),x!==null?qn(x):null}function qn(x){if(x.tag===5||x.tag===6)return x;for(x=x.child;x!==null;){var C=qn(x);if(C!==null)return C;x=x.sibling}return null}var Hs=t.unstable_scheduleCallback,Op=t.unstable_cancelCallback,xy=t.unstable_shouldYield,vy=t.unstable_requestPaint,ss=t.unstable_now,by=t.unstable_getCurrentPriorityLevel,lu=t.unstable_ImmediatePriority,Je=t.unstable_UserBlockingPriority,vr=t.unstable_NormalPriority,ll=t.unstable_LowPriority,js=t.unstable_IdlePriority,cl=null,ei=null;function zt(x){if(ei&&typeof ei.onCommitFiberRoot=="function")try{ei.onCommitFiberRoot(cl,x,void 0,(x.current.flags&128)===128)}catch{}}var br=Math.clz32?Math.clz32:Xh,Uh=Math.log,Ip=Math.LN2;function Xh(x){return x>>>=0,x===0?32:31-(Uh(x)/Ip|0)|0}var rn=64,ul=4194304;function Zs(x){switch(x&-x){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return x&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return x}}function hl(x,C){var O=x.pendingLanes;if(O===0)return 0;var Y=0,Z=x.suspendedLanes,se=x.pingedLanes,ve=O&268435455;if(ve!==0){var Le=ve&~Z;Le!==0?Y=Zs(Le):(se&=ve,se!==0&&(Y=Zs(se)))}else ve=O&~Z,ve!==0?Y=Zs(ve):se!==0&&(Y=Zs(se));if(Y===0)return 0;if(C!==0&&C!==Y&&(C&Z)===0&&(Z=Y&-Y,se=C&-C,Z>=se||Z===16&&(se&4194240)!==0))return C;if((Y&4)!==0&&(Y|=O&16),C=x.entangledLanes,C!==0)for(x=x.entanglements,C&=Y;0<C;)O=31-br(C),Z=1<<O,Y|=x[O],C&=~Z;return Y}function li(x,C){switch(x){case 1:case 2:case 4:return C+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return C+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wy(x,C){for(var O=x.suspendedLanes,Y=x.pingedLanes,Z=x.expirationTimes,se=x.pendingLanes;0<se;){var ve=31-br(se),Le=1<<ve,We=Z[ve];We===-1?((Le&O)===0||(Le&Y)!==0)&&(Z[ve]=li(Le,C)):We<=C&&(x.expiredLanes|=Le),se&=~Le}}function Gh(x){return x=x.pendingLanes&-1073741825,x!==0?x:x&1073741824?1073741824:0}function vo(){var x=rn;return rn<<=1,(rn&4194240)===0&&(rn=64),x}function cu(x){for(var C=[],O=0;31>O;O++)C.push(x);return C}function Pn(x,C,O){x.pendingLanes|=C,C!==536870912&&(x.suspendedLanes=0,x.pingedLanes=0),x=x.eventTimes,C=31-br(C),x[C]=O}function qh(x,C){var O=x.pendingLanes&~C;x.pendingLanes=C,x.suspendedLanes=0,x.pingedLanes=0,x.expiredLanes&=C,x.mutableReadLanes&=C,x.entangledLanes&=C,C=x.entanglements;var Y=x.eventTimes;for(x=x.expirationTimes;0<O;){var Z=31-br(O),se=1<<Z;C[Z]=0,Y[Z]=-1,x[Z]=-1,O&=~se}}function gn(x,C){var O=x.entangledLanes|=C;for(x=x.entanglements;O;){var Y=31-br(O),Z=1<<Y;Z&C|x[Y]&C&&(x[Y]|=C),O&=~Z}}var yi=0;function Lt(x){return x&=-x,1<x?4<x?(x&268435455)!==0?16:536870912:4:1}var uu,Jl,hu,du,vt,Kh=!1,Kn=[],bo=null,da=null,Jr=null,Er=new Map,Xt=new Map,us=[],As="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Go(x,C){switch(x){case"focusin":case"focusout":bo=null;break;case"dragenter":case"dragleave":da=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":Er.delete(C.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xt.delete(C.pointerId)}}function Nr(x,C,O,Y,Z,se){return x===null||x.nativeEvent!==se?(x={blockedOn:C,domEventName:O,eventSystemFlags:Y,nativeEvent:se,targetContainers:[Z]},C!==null&&(C=od(C),C!==null&&Jl(C)),x):(x.eventSystemFlags|=Y,C=x.targetContainers,Z!==null&&C.indexOf(Z)===-1&&C.push(Z),x)}function dl(x,C,O,Y,Z){switch(C){case"focusin":return bo=Nr(bo,x,C,O,Y,Z),!0;case"dragenter":return da=Nr(da,x,C,O,Y,Z),!0;case"mouseover":return Jr=Nr(Jr,x,C,O,Y,Z),!0;case"pointerover":var se=Z.pointerId;return Er.set(se,Nr(Er.get(se)||null,x,C,O,Y,Z)),!0;case"gotpointercapture":return se=Z.pointerId,Xt.set(se,Nr(Xt.get(se)||null,x,C,O,Y,Z)),!0}return!1}function fu(x){var C=ac(x.target);if(C!==null){var O=xo(C);if(O!==null){if(C=O.tag,C===13){if(C=ru(O),C!==null){x.blockedOn=C,vt(x.priority,function(){hu(O)});return}}else if(C===3&&O.stateNode.current.memoizedState.isDehydrated){x.blockedOn=O.tag===3?O.stateNode.containerInfo:null;return}}}x.blockedOn=null}function fl(x){if(x.blockedOn!==null)return!1;for(var C=x.targetContainers;0<C.length;){var O=fa(x.domEventName,x.eventSystemFlags,C[0],x.nativeEvent);if(O===null){O=x.nativeEvent;var Y=new O.constructor(O.type,O);Dn=Y,O.target.dispatchEvent(Y),Dn=null}else return C=od(O),C!==null&&Jl(C),x.blockedOn=O,!1;C.shift()}return!0}function pu(x,C,O){fl(x)&&O.delete(C)}function gu(){Kh=!1,bo!==null&&fl(bo)&&(bo=null),da!==null&&fl(da)&&(da=null),Jr!==null&&fl(Jr)&&(Jr=null),Er.forEach(pu),Xt.forEach(pu)}function Ws(x,C){x.blockedOn===C&&(x.blockedOn=null,Kh||(Kh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,gu)))}function Ql(x){function C(Z){return Ws(Z,x)}if(0<Kn.length){Ws(Kn[0],x);for(var O=1;O<Kn.length;O++){var Y=Kn[O];Y.blockedOn===x&&(Y.blockedOn=null)}}for(bo!==null&&Ws(bo,x),da!==null&&Ws(da,x),Jr!==null&&Ws(Jr,x),Er.forEach(C),Xt.forEach(C),O=0;O<us.length;O++)Y=us[O],Y.blockedOn===x&&(Y.blockedOn=null);for(;0<us.length&&(O=us[0],O.blockedOn===null);)fu(O),O.blockedOn===null&&us.shift()}var pl=W.ReactCurrentBatchConfig,Fa=!0;function Ds(x,C,O,Y){var Z=yi,se=pl.transition;pl.transition=null;try{yi=1,Jt(x,C,O,Y)}finally{yi=Z,pl.transition=se}}function gl(x,C,O,Y){var Z=yi,se=pl.transition;pl.transition=null;try{yi=4,Jt(x,C,O,Y)}finally{yi=Z,pl.transition=se}}function Jt(x,C,O,Y){if(Fa){var Z=fa(x,C,O,Y);if(Z===null)Py(x,C,Y,Ci,O),Go(x,Y);else if(dl(Z,x,C,O,Y))Y.stopPropagation();else if(Go(x,Y),C&4&&-1<As.indexOf(x)){for(;Z!==null;){var se=od(Z);if(se!==null&&uu(se),se=fa(x,C,O,Y),se===null&&Py(x,C,Y,Ci,O),se===Z)break;Z=se}Z!==null&&Y.stopPropagation()}else Py(x,C,Y,null,O)}}var Ci=null;function fa(x,C,O,Y){if(Ci=null,x=hi(Y),x=ac(x),x!==null)if(C=xo(x),C===null)x=null;else if(O=C.tag,O===13){if(x=ru(C),x!==null)return x;x=null}else if(O===3){if(C.stateNode.current.memoizedState.isDehydrated)return C.tag===3?C.stateNode.containerInfo:null;x=null}else C!==x&&(x=null);return Ci=x,null}function mu(x){switch(x){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(by()){case lu:return 1;case Je:return 4;case vr:case ll:return 16;case js:return 536870912;default:return 16}default:return 16}}var wo=null,ec=null,ml=null;function Fp(){if(ml)return ml;var x,C=ec,O=C.length,Y,Z="value"in wo?wo.value:wo.textContent,se=Z.length;for(x=0;x<O&&C[x]===Z[x];x++);var ve=O-x;for(Y=1;Y<=ve&&C[O-Y]===Z[se-Y];Y++);return ml=Z.slice(x,1<Y?1-Y:void 0)}function tc(x){var C=x.keyCode;return"charCode"in x?(x=x.charCode,x===0&&C===13&&(x=13)):x=C,x===10&&(x=13),32<=x||x===13?x:0}function nc(){return!0}function Zh(){return!1}function lr(x){function C(O,Y,Z,se,ve){this._reactName=O,this._targetInst=Z,this.type=Y,this.nativeEvent=se,this.target=ve,this.currentTarget=null;for(var Le in x)x.hasOwnProperty(Le)&&(O=x[Le],this[Le]=O?O(se):se[Le]);return this.isDefaultPrevented=(se.defaultPrevented!=null?se.defaultPrevented:se.returnValue===!1)?nc:Zh,this.isPropagationStopped=Zh,this}return Se(C.prototype,{preventDefault:function(){this.defaultPrevented=!0;var O=this.nativeEvent;O&&(O.preventDefault?O.preventDefault():typeof O.returnValue!="unknown"&&(O.returnValue=!1),this.isDefaultPrevented=nc)},stopPropagation:function(){var O=this.nativeEvent;O&&(O.stopPropagation?O.stopPropagation():typeof O.cancelBubble!="unknown"&&(O.cancelBubble=!0),this.isPropagationStopped=nc)},persist:function(){},isPersistent:nc}),C}var yl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(x){return x.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yu=lr(yl),xl=Se({},yl,{view:0,detail:0}),jp=lr(xl),xu,ic,ja,vl=Se({},xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rc,button:0,buttons:0,relatedTarget:function(x){return x.relatedTarget===void 0?x.fromElement===x.srcElement?x.toElement:x.fromElement:x.relatedTarget},movementX:function(x){return"movementX"in x?x.movementX:(x!==ja&&(ja&&x.type==="mousemove"?(xu=x.screenX-ja.screenX,ic=x.screenY-ja.screenY):ic=xu=0,ja=x),xu)},movementY:function(x){return"movementY"in x?x.movementY:ic}}),vu=lr(vl),_p=Se({},vl,{dataTransfer:0}),zp=lr(_p),Sy=Se({},xl,{relatedTarget:0}),bu=lr(Sy),sc=Se({},yl,{animationName:0,elapsedTime:0,pseudoElement:0}),Bp=lr(sc),Jh=Se({},yl,{clipboardData:function(x){return"clipboardData"in x?x.clipboardData:window.clipboardData}}),Qh=lr(Jh),ed=Se({},yl,{data:0}),wu=lr(ed),td={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cy(x){var C=this.nativeEvent;return C.getModifierState?C.getModifierState(x):(x=Vp[x])?!!C[x]:!1}function rc(){return Cy}var Rr=Se({},xl,{key:function(x){if(x.key){var C=td[x.key]||x.key;if(C!=="Unidentified")return C}return x.type==="keypress"?(x=tc(x),x===13?"Enter":String.fromCharCode(x)):x.type==="keydown"||x.type==="keyup"?nd[x.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rc,charCode:function(x){return x.type==="keypress"?tc(x):0},keyCode:function(x){return x.type==="keydown"||x.type==="keyup"?x.keyCode:0},which:function(x){return x.type==="keypress"?tc(x):x.type==="keydown"||x.type==="keyup"?x.keyCode:0}}),Hp=lr(Rr),Qr=Se({},vl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pa=lr(Qr),Wp=Se({},xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rc}),ky=lr(Wp),Su=Se({},yl,{propertyName:0,elapsedTime:0,pseudoElement:0}),oc=lr(Su),G=Se({},vl,{deltaX:function(x){return"deltaX"in x?x.deltaX:"wheelDeltaX"in x?-x.wheelDeltaX:0},deltaY:function(x){return"deltaY"in x?x.deltaY:"wheelDeltaY"in x?-x.wheelDeltaY:"wheelDelta"in x?-x.wheelDelta:0},deltaZ:0,deltaMode:0}),e=lr(G),n=[9,13,27,32],o=p&&"CompositionEvent"in window,l=null;p&&"documentMode"in document&&(l=document.documentMode);var c=p&&"TextEvent"in window&&!l,h=p&&(!o||l&&8<l&&11>=l),f=" ",g=!1;function v(x,C){switch(x){case"keyup":return n.indexOf(C.keyCode)!==-1;case"keydown":return C.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function w(x){return x=x.detail,typeof x=="object"&&"data"in x?x.data:null}var k=!1;function P(x,C){switch(x){case"compositionend":return w(C);case"keypress":return C.which!==32?null:(g=!0,f);case"textInput":return x=C.data,x===f&&g?null:x;default:return null}}function N(x,C){if(k)return x==="compositionend"||!o&&v(x,C)?(x=Fp(),ml=ec=wo=null,k=!1,x):null;switch(x){case"paste":return null;case"keypress":if(!(C.ctrlKey||C.altKey||C.metaKey)||C.ctrlKey&&C.altKey){if(C.char&&1<C.char.length)return C.char;if(C.which)return String.fromCharCode(C.which)}return null;case"compositionend":return h&&C.locale!=="ko"?null:C.data;default:return null}}var F={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function H(x){var C=x&&x.nodeName&&x.nodeName.toLowerCase();return C==="input"?!!F[x.type]:C==="textarea"}function V(x,C,O,Y){Bn(Y),C=Yp(C,"onChange"),0<C.length&&(O=new yu("onChange","change",null,O,Y),x.push({event:O,listeners:C}))}var $=null,K=null;function J(x){So(x,0)}function Q(x){var C=Pu(x);if(je(C))return x}function ne(x,C){if(x==="change")return C}var le=!1;if(p){var fe;if(p){var we="oninput"in document;if(!we){var ye=document.createElement("div");ye.setAttribute("oninput","return;"),we=typeof ye.oninput=="function"}fe=we}else fe=!1;le=fe&&(!document.documentMode||9<document.documentMode)}function ge(){$&&($.detachEvent("onpropertychange",me),K=$=null)}function me(x){if(x.propertyName==="value"&&Q(K)){var C=[];V(C,K,x,hi(x)),Dr(J,C)}}function ke(x,C,O){x==="focusin"?(ge(),$=C,K=O,$.attachEvent("onpropertychange",me)):x==="focusout"&&ge()}function Ce(x){if(x==="selectionchange"||x==="keyup"||x==="keydown")return Q(K)}function Ie(x,C){if(x==="click")return Q(C)}function Be(x,C){if(x==="input"||x==="change")return Q(C)}function Xe(x,C){return x===C&&(x!==0||1/x===1/C)||x!==x&&C!==C}var He=typeof Object.is=="function"?Object.is:Xe;function Ke(x,C){if(He(x,C))return!0;if(typeof x!="object"||x===null||typeof C!="object"||C===null)return!1;var O=Object.keys(x),Y=Object.keys(C);if(O.length!==Y.length)return!1;for(Y=0;Y<O.length;Y++){var Z=O[Y];if(!m.call(C,Z)||!He(x[Z],C[Z]))return!1}return!0}function Et(x){for(;x&&x.firstChild;)x=x.firstChild;return x}function It(x,C){var O=Et(x);x=0;for(var Y;O;){if(O.nodeType===3){if(Y=x+O.textContent.length,x<=C&&Y>=C)return{node:O,offset:C-x};x=Y}e:{for(;O;){if(O.nextSibling){O=O.nextSibling;break e}O=O.parentNode}O=void 0}O=Et(O)}}function bt(x,C){return x&&C?x===C?!0:x&&x.nodeType===3?!1:C&&C.nodeType===3?bt(x,C.parentNode):"contains"in x?x.contains(C):x.compareDocumentPosition?!!(x.compareDocumentPosition(C)&16):!1:!1}function At(){for(var x=window,C=Ee();C instanceof x.HTMLIFrameElement;){try{var O=typeof C.contentWindow.location.href=="string"}catch{O=!1}if(O)x=C.contentWindow;else break;C=Ee(x.document)}return C}function wt(x){var C=x&&x.nodeName&&x.nodeName.toLowerCase();return C&&(C==="input"&&(x.type==="text"||x.type==="search"||x.type==="tel"||x.type==="url"||x.type==="password")||C==="textarea"||x.contentEditable==="true")}function Vt(x){var C=At(),O=x.focusedElem,Y=x.selectionRange;if(C!==O&&O&&O.ownerDocument&&bt(O.ownerDocument.documentElement,O)){if(Y!==null&&wt(O)){if(C=Y.start,x=Y.end,x===void 0&&(x=C),"selectionStart"in O)O.selectionStart=C,O.selectionEnd=Math.min(x,O.value.length);else if(x=(C=O.ownerDocument||document)&&C.defaultView||window,x.getSelection){x=x.getSelection();var Z=O.textContent.length,se=Math.min(Y.start,Z);Y=Y.end===void 0?se:Math.min(Y.end,Z),!x.extend&&se>Y&&(Z=Y,Y=se,se=Z),Z=It(O,se);var ve=It(O,Y);Z&&ve&&(x.rangeCount!==1||x.anchorNode!==Z.node||x.anchorOffset!==Z.offset||x.focusNode!==ve.node||x.focusOffset!==ve.offset)&&(C=C.createRange(),C.setStart(Z.node,Z.offset),x.removeAllRanges(),se>Y?(x.addRange(C),x.extend(ve.node,ve.offset)):(C.setEnd(ve.node,ve.offset),x.addRange(C)))}}for(C=[],x=O;x=x.parentNode;)x.nodeType===1&&C.push({element:x,left:x.scrollLeft,top:x.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<C.length;O++)x=C[O],x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}var qt=p&&"documentMode"in document&&11>=document.documentMode,on=null,An=null,kt=null,yn=!1;function hn(x,C,O){var Y=O.window===O?O.document:O.nodeType===9?O:O.ownerDocument;yn||on==null||on!==Ee(Y)||(Y=on,"selectionStart"in Y&&wt(Y)?Y={start:Y.selectionStart,end:Y.selectionEnd}:(Y=(Y.ownerDocument&&Y.ownerDocument.defaultView||window).getSelection(),Y={anchorNode:Y.anchorNode,anchorOffset:Y.anchorOffset,focusNode:Y.focusNode,focusOffset:Y.focusOffset}),kt&&Ke(kt,Y)||(kt=Y,Y=Yp(An,"onSelect"),0<Y.length&&(C=new yu("onSelect","select",null,C,O),x.push({event:C,listeners:Y}),C.target=on)))}function xi(x,C){var O={};return O[x.toLowerCase()]=C.toLowerCase(),O["Webkit"+x]="webkit"+C,O["Moz"+x]="moz"+C,O}var Ot={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionend:xi("Transition","TransitionEnd")},ot={},Kt={};p&&(Kt=document.createElement("div").style,"AnimationEvent"in window||(delete Ot.animationend.animation,delete Ot.animationiteration.animation,delete Ot.animationstart.animation),"TransitionEvent"in window||delete Ot.transitionend.transition);function Mn(x){if(ot[x])return ot[x];if(!Ot[x])return x;var C=Ot[x],O;for(O in C)if(C.hasOwnProperty(O)&&O in Kt)return ot[x]=C[O];return x}var Ki=Mn("animationend"),Oi=Mn("animationiteration"),Vi=Mn("animationstart"),$i=Mn("transitionend"),Lr=new Map,Js="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hs(x,C){Lr.set(x,C),u(C,[x])}for(var Yi=0;Yi<Js.length;Yi++){var rs=Js[Yi],Or=rs.toLowerCase(),Wn=rs[0].toUpperCase()+rs.slice(1);hs(Or,"on"+Wn)}hs(Ki,"onAnimationEnd"),hs(Oi,"onAnimationIteration"),hs(Vi,"onAnimationStart"),hs("dblclick","onDoubleClick"),hs("focusin","onFocus"),hs("focusout","onBlur"),hs($i,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$s=new Set("cancel close invalid load scroll toggle".split(" ").concat(cr));function Ir(x,C,O){var Y=x.type||"unknown-event";x.currentTarget=O,Ln(Y,C,void 0,x),x.currentTarget=null}function So(x,C){C=(C&4)!==0;for(var O=0;O<x.length;O++){var Y=x[O],Z=Y.event;Y=Y.listeners;e:{var se=void 0;if(C)for(var ve=Y.length-1;0<=ve;ve--){var Le=Y[ve],We=Le.instance,lt=Le.currentTarget;if(Le=Le.listener,We!==se&&Z.isPropagationStopped())break e;Ir(Z,Le,lt),se=We}else for(ve=0;ve<Y.length;ve++){if(Le=Y[ve],We=Le.instance,lt=Le.currentTarget,Le=Le.listener,We!==se&&Z.isPropagationStopped())break e;Ir(Z,Le,lt),se=We}}}if(Fs)throw x=ha,Fs=!1,ha=null,x}function ni(x,C){var O=C[Ny];O===void 0&&(O=C[Ny]=new Set);var Y=x+"__bubble";O.has(Y)||(Qw(C,x,2,!1),O.add(Y))}function _a(x,C,O){var Y=0;C&&(Y|=4),Qw(O,x,Y,C)}var $p="_reactListening"+Math.random().toString(36).slice(2);function id(x){if(!x[$p]){x[$p]=!0,r.forEach(function(O){O!=="selectionchange"&&($s.has(O)||_a(O,!1,x),_a(O,!0,x))});var C=x.nodeType===9?x:x.ownerDocument;C===null||C[$p]||(C[$p]=!0,_a("selectionchange",!1,C))}}function Qw(x,C,O,Y){switch(mu(C)){case 1:var Z=Ds;break;case 4:Z=gl;break;default:Z=Jt}O=Z.bind(null,C,O,x),Z=void 0,!yr||C!=="touchstart"&&C!=="touchmove"&&C!=="wheel"||(Z=!0),Y?Z!==void 0?x.addEventListener(C,O,{capture:!0,passive:Z}):x.addEventListener(C,O,!0):Z!==void 0?x.addEventListener(C,O,{passive:Z}):x.addEventListener(C,O,!1)}function Py(x,C,O,Y,Z){var se=Y;if((C&1)===0&&(C&2)===0&&Y!==null)e:for(;;){if(Y===null)return;var ve=Y.tag;if(ve===3||ve===4){var Le=Y.stateNode.containerInfo;if(Le===Z||Le.nodeType===8&&Le.parentNode===Z)break;if(ve===4)for(ve=Y.return;ve!==null;){var We=ve.tag;if((We===3||We===4)&&(We=ve.stateNode.containerInfo,We===Z||We.nodeType===8&&We.parentNode===Z))return;ve=ve.return}for(;Le!==null;){if(ve=ac(Le),ve===null)return;if(We=ve.tag,We===5||We===6){Y=se=ve;continue e}Le=Le.parentNode}}Y=Y.return}Dr(function(){var lt=se,jt=hi(O),$t=[];e:{var Ft=Lr.get(x);if(Ft!==void 0){var fn=yu,xn=x;switch(x){case"keypress":if(tc(O)===0)break e;case"keydown":case"keyup":fn=Hp;break;case"focusin":xn="focus",fn=bu;break;case"focusout":xn="blur",fn=bu;break;case"beforeblur":case"afterblur":fn=bu;break;case"click":if(O.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fn=vu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fn=zp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fn=ky;break;case Ki:case Oi:case Vi:fn=Bp;break;case $i:fn=oc;break;case"scroll":fn=jp;break;case"wheel":fn=e;break;case"copy":case"cut":case"paste":fn=Qh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fn=pa}var Cn=(C&4)!==0,bs=!Cn&&x==="scroll",et=Cn?Ft!==null?Ft+"Capture":null:Ft;Cn=[];for(var Ge=lt,tt;Ge!==null;){tt=Ge;var Gt=tt.stateNode;if(tt.tag===5&&Gt!==null&&(tt=Gt,et!==null&&(Gt=mo(Ge,et),Gt!=null&&Cn.push(sd(Ge,Gt,tt)))),bs)break;Ge=Ge.return}0<Cn.length&&(Ft=new fn(Ft,xn,null,O,jt),$t.push({event:Ft,listeners:Cn}))}}if((C&7)===0){e:{if(Ft=x==="mouseover"||x==="pointerover",fn=x==="mouseout"||x==="pointerout",Ft&&O!==Dn&&(xn=O.relatedTarget||O.fromElement)&&(ac(xn)||xn[za]))break e;if((fn||Ft)&&(Ft=jt.window===jt?jt:(Ft=jt.ownerDocument)?Ft.defaultView||Ft.parentWindow:window,fn?(xn=O.relatedTarget||O.toElement,fn=lt,xn=xn?ac(xn):null,xn!==null&&(bs=xo(xn),xn!==bs||xn.tag!==5&&xn.tag!==6)&&(xn=null)):(fn=null,xn=lt),fn!==xn)){if(Cn=vu,Gt="onMouseLeave",et="onMouseEnter",Ge="mouse",(x==="pointerout"||x==="pointerover")&&(Cn=pa,Gt="onPointerLeave",et="onPointerEnter",Ge="pointer"),bs=fn==null?Ft:Pu(fn),tt=xn==null?Ft:Pu(xn),Ft=new Cn(Gt,Ge+"leave",fn,O,jt),Ft.target=bs,Ft.relatedTarget=tt,Gt=null,ac(jt)===lt&&(Cn=new Cn(et,Ge+"enter",xn,O,jt),Cn.target=tt,Cn.relatedTarget=bs,Gt=Cn),bs=Gt,fn&&xn)t:{for(Cn=fn,et=xn,Ge=0,tt=Cn;tt;tt=Cu(tt))Ge++;for(tt=0,Gt=et;Gt;Gt=Cu(Gt))tt++;for(;0<Ge-tt;)Cn=Cu(Cn),Ge--;for(;0<tt-Ge;)et=Cu(et),tt--;for(;Ge--;){if(Cn===et||et!==null&&Cn===et.alternate)break t;Cn=Cu(Cn),et=Cu(et)}Cn=null}else Cn=null;fn!==null&&eS($t,Ft,fn,Cn,!1),xn!==null&&bs!==null&&eS($t,bs,xn,Cn,!0)}}e:{if(Ft=lt?Pu(lt):window,fn=Ft.nodeName&&Ft.nodeName.toLowerCase(),fn==="select"||fn==="input"&&Ft.type==="file")var Tn=ne;else if(H(Ft))if(le)Tn=Be;else{Tn=Ce;var On=ke}else(fn=Ft.nodeName)&&fn.toLowerCase()==="input"&&(Ft.type==="checkbox"||Ft.type==="radio")&&(Tn=Ie);if(Tn&&(Tn=Tn(x,lt))){V($t,Tn,O,jt);break e}On&&On(x,Ft,lt),x==="focusout"&&(On=Ft._wrapperState)&&On.controlled&&Ft.type==="number"&&ht(Ft,"number",Ft.value)}switch(On=lt?Pu(lt):window,x){case"focusin":(H(On)||On.contentEditable==="true")&&(on=On,An=lt,kt=null);break;case"focusout":kt=An=on=null;break;case"mousedown":yn=!0;break;case"contextmenu":case"mouseup":case"dragend":yn=!1,hn($t,O,jt);break;case"selectionchange":if(qt)break;case"keydown":case"keyup":hn($t,O,jt)}var In;if(o)e:{switch(x){case"compositionstart":var Vn="onCompositionStart";break e;case"compositionend":Vn="onCompositionEnd";break e;case"compositionupdate":Vn="onCompositionUpdate";break e}Vn=void 0}else k?v(x,O)&&(Vn="onCompositionEnd"):x==="keydown"&&O.keyCode===229&&(Vn="onCompositionStart");Vn&&(h&&O.locale!=="ko"&&(k||Vn!=="onCompositionStart"?Vn==="onCompositionEnd"&&k&&(In=Fp()):(wo=jt,ec="value"in wo?wo.value:wo.textContent,k=!0)),On=Yp(lt,Vn),0<On.length&&(Vn=new wu(Vn,x,null,O,jt),$t.push({event:Vn,listeners:On}),In?Vn.data=In:(In=w(O),In!==null&&(Vn.data=In)))),(In=c?P(x,O):N(x,O))&&(lt=Yp(lt,"onBeforeInput"),0<lt.length&&(jt=new wu("onBeforeInput","beforeinput",null,O,jt),$t.push({event:jt,listeners:lt}),jt.data=In))}So($t,C)})}function sd(x,C,O){return{instance:x,listener:C,currentTarget:O}}function Yp(x,C){for(var O=C+"Capture",Y=[];x!==null;){var Z=x,se=Z.stateNode;Z.tag===5&&se!==null&&(Z=se,se=mo(x,O),se!=null&&Y.unshift(sd(x,se,Z)),se=mo(x,C),se!=null&&Y.push(sd(x,se,Z))),x=x.return}return Y}function Cu(x){if(x===null)return null;do x=x.return;while(x&&x.tag!==5);return x||null}function eS(x,C,O,Y,Z){for(var se=C._reactName,ve=[];O!==null&&O!==Y;){var Le=O,We=Le.alternate,lt=Le.stateNode;if(We!==null&&We===Y)break;Le.tag===5&&lt!==null&&(Le=lt,Z?(We=mo(O,se),We!=null&&ve.unshift(sd(O,We,Le))):Z||(We=mo(O,se),We!=null&&ve.push(sd(O,We,Le)))),O=O.return}ve.length!==0&&x.push({event:C,listeners:ve})}var bR=/\r\n?/g,wR=/\u0000|\uFFFD/g;function tS(x){return(typeof x=="string"?x:""+x).replace(bR,`
`).replace(wR,"")}function Up(x,C,O){if(C=tS(C),tS(x)!==C&&O)throw Error(s(425))}function Xp(){}var My=null,Ty=null;function Ay(x,C){return x==="textarea"||x==="noscript"||typeof C.children=="string"||typeof C.children=="number"||typeof C.dangerouslySetInnerHTML=="object"&&C.dangerouslySetInnerHTML!==null&&C.dangerouslySetInnerHTML.__html!=null}var Dy=typeof setTimeout=="function"?setTimeout:void 0,SR=typeof clearTimeout=="function"?clearTimeout:void 0,nS=typeof Promise=="function"?Promise:void 0,CR=typeof queueMicrotask=="function"?queueMicrotask:typeof nS<"u"?function(x){return nS.resolve(null).then(x).catch(kR)}:Dy;function kR(x){setTimeout(function(){throw x})}function Ey(x,C){var O=C,Y=0;do{var Z=O.nextSibling;if(x.removeChild(O),Z&&Z.nodeType===8)if(O=Z.data,O==="/$"){if(Y===0){x.removeChild(Z),Ql(C);return}Y--}else O!=="$"&&O!=="$?"&&O!=="$!"||Y++;O=Z}while(O);Ql(C)}function bl(x){for(;x!=null;x=x.nextSibling){var C=x.nodeType;if(C===1||C===3)break;if(C===8){if(C=x.data,C==="$"||C==="$!"||C==="$?")break;if(C==="/$")return null}}return x}function iS(x){x=x.previousSibling;for(var C=0;x;){if(x.nodeType===8){var O=x.data;if(O==="$"||O==="$!"||O==="$?"){if(C===0)return x;C--}else O==="/$"&&C++}x=x.previousSibling}return null}var ku=Math.random().toString(36).slice(2),ga="__reactFiber$"+ku,rd="__reactProps$"+ku,za="__reactContainer$"+ku,Ny="__reactEvents$"+ku,PR="__reactListeners$"+ku,MR="__reactHandles$"+ku;function ac(x){var C=x[ga];if(C)return C;for(var O=x.parentNode;O;){if(C=O[za]||O[ga]){if(O=C.alternate,C.child!==null||O!==null&&O.child!==null)for(x=iS(x);x!==null;){if(O=x[ga])return O;x=iS(x)}return C}x=O,O=x.parentNode}return null}function od(x){return x=x[ga]||x[za],!x||x.tag!==5&&x.tag!==6&&x.tag!==13&&x.tag!==3?null:x}function Pu(x){if(x.tag===5||x.tag===6)return x.stateNode;throw Error(s(33))}function Gp(x){return x[rd]||null}var Ry=[],Mu=-1;function wl(x){return{current:x}}function Zi(x){0>Mu||(x.current=Ry[Mu],Ry[Mu]=null,Mu--)}function Ui(x,C){Mu++,Ry[Mu]=x.current,x.current=C}var Sl={},ur=wl(Sl),Fr=wl(!1),lc=Sl;function Tu(x,C){var O=x.type.contextTypes;if(!O)return Sl;var Y=x.stateNode;if(Y&&Y.__reactInternalMemoizedUnmaskedChildContext===C)return Y.__reactInternalMemoizedMaskedChildContext;var Z={},se;for(se in O)Z[se]=C[se];return Y&&(x=x.stateNode,x.__reactInternalMemoizedUnmaskedChildContext=C,x.__reactInternalMemoizedMaskedChildContext=Z),Z}function jr(x){return x=x.childContextTypes,x!=null}function qp(){Zi(Fr),Zi(ur)}function sS(x,C,O){if(ur.current!==Sl)throw Error(s(168));Ui(ur,C),Ui(Fr,O)}function rS(x,C,O){var Y=x.stateNode;if(C=C.childContextTypes,typeof Y.getChildContext!="function")return O;Y=Y.getChildContext();for(var Z in Y)if(!(Z in C))throw Error(s(108,$e(x)||"Unknown",Z));return Se({},O,Y)}function Kp(x){return x=(x=x.stateNode)&&x.__reactInternalMemoizedMergedChildContext||Sl,lc=ur.current,Ui(ur,x),Ui(Fr,Fr.current),!0}function oS(x,C,O){var Y=x.stateNode;if(!Y)throw Error(s(169));O?(x=rS(x,C,lc),Y.__reactInternalMemoizedMergedChildContext=x,Zi(Fr),Zi(ur),Ui(ur,x)):Zi(Fr),Ui(Fr,O)}var Ba=null,Zp=!1,Ly=!1;function aS(x){Ba===null?Ba=[x]:Ba.push(x)}function TR(x){Zp=!0,aS(x)}function Cl(){if(!Ly&&Ba!==null){Ly=!0;var x=0,C=yi;try{var O=Ba;for(yi=1;x<O.length;x++){var Y=O[x];do Y=Y(!0);while(Y!==null)}Ba=null,Zp=!1}catch(Z){throw Ba!==null&&(Ba=Ba.slice(x+1)),Hs(lu,Cl),Z}finally{yi=C,Ly=!1}}return null}var Au=[],Du=0,Jp=null,Qp=0,Co=[],ko=0,cc=null,Va=1,Ha="";function uc(x,C){Au[Du++]=Qp,Au[Du++]=Jp,Jp=x,Qp=C}function lS(x,C,O){Co[ko++]=Va,Co[ko++]=Ha,Co[ko++]=cc,cc=x;var Y=Va;x=Ha;var Z=32-br(Y)-1;Y&=~(1<<Z),O+=1;var se=32-br(C)+Z;if(30<se){var ve=Z-Z%5;se=(Y&(1<<ve)-1).toString(32),Y>>=ve,Z-=ve,Va=1<<32-br(C)+Z|O<<Z|Y,Ha=se+x}else Va=1<<se|O<<Z|Y,Ha=x}function Oy(x){x.return!==null&&(uc(x,1),lS(x,1,0))}function Iy(x){for(;x===Jp;)Jp=Au[--Du],Au[Du]=null,Qp=Au[--Du],Au[Du]=null;for(;x===cc;)cc=Co[--ko],Co[ko]=null,Ha=Co[--ko],Co[ko]=null,Va=Co[--ko],Co[ko]=null}var eo=null,to=null,Qi=!1,qo=null;function cS(x,C){var O=Ao(5,null,null,0);O.elementType="DELETED",O.stateNode=C,O.return=x,C=x.deletions,C===null?(x.deletions=[O],x.flags|=16):C.push(O)}function uS(x,C){switch(x.tag){case 5:var O=x.type;return C=C.nodeType!==1||O.toLowerCase()!==C.nodeName.toLowerCase()?null:C,C!==null?(x.stateNode=C,eo=x,to=bl(C.firstChild),!0):!1;case 6:return C=x.pendingProps===""||C.nodeType!==3?null:C,C!==null?(x.stateNode=C,eo=x,to=null,!0):!1;case 13:return C=C.nodeType!==8?null:C,C!==null?(O=cc!==null?{id:Va,overflow:Ha}:null,x.memoizedState={dehydrated:C,treeContext:O,retryLane:1073741824},O=Ao(18,null,null,0),O.stateNode=C,O.return=x,x.child=O,eo=x,to=null,!0):!1;default:return!1}}function Fy(x){return(x.mode&1)!==0&&(x.flags&128)===0}function jy(x){if(Qi){var C=to;if(C){var O=C;if(!uS(x,C)){if(Fy(x))throw Error(s(418));C=bl(O.nextSibling);var Y=eo;C&&uS(x,C)?cS(Y,O):(x.flags=x.flags&-4097|2,Qi=!1,eo=x)}}else{if(Fy(x))throw Error(s(418));x.flags=x.flags&-4097|2,Qi=!1,eo=x}}}function hS(x){for(x=x.return;x!==null&&x.tag!==5&&x.tag!==3&&x.tag!==13;)x=x.return;eo=x}function eg(x){if(x!==eo)return!1;if(!Qi)return hS(x),Qi=!0,!1;var C;if((C=x.tag!==3)&&!(C=x.tag!==5)&&(C=x.type,C=C!=="head"&&C!=="body"&&!Ay(x.type,x.memoizedProps)),C&&(C=to)){if(Fy(x))throw dS(),Error(s(418));for(;C;)cS(x,C),C=bl(C.nextSibling)}if(hS(x),x.tag===13){if(x=x.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(s(317));e:{for(x=x.nextSibling,C=0;x;){if(x.nodeType===8){var O=x.data;if(O==="/$"){if(C===0){to=bl(x.nextSibling);break e}C--}else O!=="$"&&O!=="$!"&&O!=="$?"||C++}x=x.nextSibling}to=null}}else to=eo?bl(x.stateNode.nextSibling):null;return!0}function dS(){for(var x=to;x;)x=bl(x.nextSibling)}function Eu(){to=eo=null,Qi=!1}function _y(x){qo===null?qo=[x]:qo.push(x)}var AR=W.ReactCurrentBatchConfig;function ad(x,C,O){if(x=O.ref,x!==null&&typeof x!="function"&&typeof x!="object"){if(O._owner){if(O=O._owner,O){if(O.tag!==1)throw Error(s(309));var Y=O.stateNode}if(!Y)throw Error(s(147,x));var Z=Y,se=""+x;return C!==null&&C.ref!==null&&typeof C.ref=="function"&&C.ref._stringRef===se?C.ref:(C=function(ve){var Le=Z.refs;ve===null?delete Le[se]:Le[se]=ve},C._stringRef=se,C)}if(typeof x!="string")throw Error(s(284));if(!O._owner)throw Error(s(290,x))}return x}function tg(x,C){throw x=Object.prototype.toString.call(C),Error(s(31,x==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":x))}function fS(x){var C=x._init;return C(x._payload)}function pS(x){function C(et,Ge){if(x){var tt=et.deletions;tt===null?(et.deletions=[Ge],et.flags|=16):tt.push(Ge)}}function O(et,Ge){if(!x)return null;for(;Ge!==null;)C(et,Ge),Ge=Ge.sibling;return null}function Y(et,Ge){for(et=new Map;Ge!==null;)Ge.key!==null?et.set(Ge.key,Ge):et.set(Ge.index,Ge),Ge=Ge.sibling;return et}function Z(et,Ge){return et=Nl(et,Ge),et.index=0,et.sibling=null,et}function se(et,Ge,tt){return et.index=tt,x?(tt=et.alternate,tt!==null?(tt=tt.index,tt<Ge?(et.flags|=2,Ge):tt):(et.flags|=2,Ge)):(et.flags|=1048576,Ge)}function ve(et){return x&&et.alternate===null&&(et.flags|=2),et}function Le(et,Ge,tt,Gt){return Ge===null||Ge.tag!==6?(Ge=Dx(tt,et.mode,Gt),Ge.return=et,Ge):(Ge=Z(Ge,tt),Ge.return=et,Ge)}function We(et,Ge,tt,Gt){var Tn=tt.type;return Tn===I?jt(et,Ge,tt.props.children,Gt,tt.key):Ge!==null&&(Ge.elementType===Tn||typeof Tn=="object"&&Tn!==null&&Tn.$$typeof===he&&fS(Tn)===Ge.type)?(Gt=Z(Ge,tt.props),Gt.ref=ad(et,Ge,tt),Gt.return=et,Gt):(Gt=Pg(tt.type,tt.key,tt.props,null,et.mode,Gt),Gt.ref=ad(et,Ge,tt),Gt.return=et,Gt)}function lt(et,Ge,tt,Gt){return Ge===null||Ge.tag!==4||Ge.stateNode.containerInfo!==tt.containerInfo||Ge.stateNode.implementation!==tt.implementation?(Ge=Ex(tt,et.mode,Gt),Ge.return=et,Ge):(Ge=Z(Ge,tt.children||[]),Ge.return=et,Ge)}function jt(et,Ge,tt,Gt,Tn){return Ge===null||Ge.tag!==7?(Ge=xc(tt,et.mode,Gt,Tn),Ge.return=et,Ge):(Ge=Z(Ge,tt),Ge.return=et,Ge)}function $t(et,Ge,tt){if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number")return Ge=Dx(""+Ge,et.mode,tt),Ge.return=et,Ge;if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case L:return tt=Pg(Ge.type,Ge.key,Ge.props,null,et.mode,tt),tt.ref=ad(et,null,Ge),tt.return=et,tt;case U:return Ge=Ex(Ge,et.mode,tt),Ge.return=et,Ge;case he:var Gt=Ge._init;return $t(et,Gt(Ge._payload),tt)}if(Ze(Ge)||xe(Ge))return Ge=xc(Ge,et.mode,tt,null),Ge.return=et,Ge;tg(et,Ge)}return null}function Ft(et,Ge,tt,Gt){var Tn=Ge!==null?Ge.key:null;if(typeof tt=="string"&&tt!==""||typeof tt=="number")return Tn!==null?null:Le(et,Ge,""+tt,Gt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case L:return tt.key===Tn?We(et,Ge,tt,Gt):null;case U:return tt.key===Tn?lt(et,Ge,tt,Gt):null;case he:return Tn=tt._init,Ft(et,Ge,Tn(tt._payload),Gt)}if(Ze(tt)||xe(tt))return Tn!==null?null:jt(et,Ge,tt,Gt,null);tg(et,tt)}return null}function fn(et,Ge,tt,Gt,Tn){if(typeof Gt=="string"&&Gt!==""||typeof Gt=="number")return et=et.get(tt)||null,Le(Ge,et,""+Gt,Tn);if(typeof Gt=="object"&&Gt!==null){switch(Gt.$$typeof){case L:return et=et.get(Gt.key===null?tt:Gt.key)||null,We(Ge,et,Gt,Tn);case U:return et=et.get(Gt.key===null?tt:Gt.key)||null,lt(Ge,et,Gt,Tn);case he:var On=Gt._init;return fn(et,Ge,tt,On(Gt._payload),Tn)}if(Ze(Gt)||xe(Gt))return et=et.get(tt)||null,jt(Ge,et,Gt,Tn,null);tg(Ge,Gt)}return null}function xn(et,Ge,tt,Gt){for(var Tn=null,On=null,In=Ge,Vn=Ge=0,Xs=null;In!==null&&Vn<tt.length;Vn++){In.index>Vn?(Xs=In,In=null):Xs=In.sibling;var vi=Ft(et,In,tt[Vn],Gt);if(vi===null){In===null&&(In=Xs);break}x&&In&&vi.alternate===null&&C(et,In),Ge=se(vi,Ge,Vn),On===null?Tn=vi:On.sibling=vi,On=vi,In=Xs}if(Vn===tt.length)return O(et,In),Qi&&uc(et,Vn),Tn;if(In===null){for(;Vn<tt.length;Vn++)In=$t(et,tt[Vn],Gt),In!==null&&(Ge=se(In,Ge,Vn),On===null?Tn=In:On.sibling=In,On=In);return Qi&&uc(et,Vn),Tn}for(In=Y(et,In);Vn<tt.length;Vn++)Xs=fn(In,et,Vn,tt[Vn],Gt),Xs!==null&&(x&&Xs.alternate!==null&&In.delete(Xs.key===null?Vn:Xs.key),Ge=se(Xs,Ge,Vn),On===null?Tn=Xs:On.sibling=Xs,On=Xs);return x&&In.forEach(function(Rl){return C(et,Rl)}),Qi&&uc(et,Vn),Tn}function Cn(et,Ge,tt,Gt){var Tn=xe(tt);if(typeof Tn!="function")throw Error(s(150));if(tt=Tn.call(tt),tt==null)throw Error(s(151));for(var On=Tn=null,In=Ge,Vn=Ge=0,Xs=null,vi=tt.next();In!==null&&!vi.done;Vn++,vi=tt.next()){In.index>Vn?(Xs=In,In=null):Xs=In.sibling;var Rl=Ft(et,In,vi.value,Gt);if(Rl===null){In===null&&(In=Xs);break}x&&In&&Rl.alternate===null&&C(et,In),Ge=se(Rl,Ge,Vn),On===null?Tn=Rl:On.sibling=Rl,On=Rl,In=Xs}if(vi.done)return O(et,In),Qi&&uc(et,Vn),Tn;if(In===null){for(;!vi.done;Vn++,vi=tt.next())vi=$t(et,vi.value,Gt),vi!==null&&(Ge=se(vi,Ge,Vn),On===null?Tn=vi:On.sibling=vi,On=vi);return Qi&&uc(et,Vn),Tn}for(In=Y(et,In);!vi.done;Vn++,vi=tt.next())vi=fn(In,et,Vn,vi.value,Gt),vi!==null&&(x&&vi.alternate!==null&&In.delete(vi.key===null?Vn:vi.key),Ge=se(vi,Ge,Vn),On===null?Tn=vi:On.sibling=vi,On=vi);return x&&In.forEach(function(aL){return C(et,aL)}),Qi&&uc(et,Vn),Tn}function bs(et,Ge,tt,Gt){if(typeof tt=="object"&&tt!==null&&tt.type===I&&tt.key===null&&(tt=tt.props.children),typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case L:e:{for(var Tn=tt.key,On=Ge;On!==null;){if(On.key===Tn){if(Tn=tt.type,Tn===I){if(On.tag===7){O(et,On.sibling),Ge=Z(On,tt.props.children),Ge.return=et,et=Ge;break e}}else if(On.elementType===Tn||typeof Tn=="object"&&Tn!==null&&Tn.$$typeof===he&&fS(Tn)===On.type){O(et,On.sibling),Ge=Z(On,tt.props),Ge.ref=ad(et,On,tt),Ge.return=et,et=Ge;break e}O(et,On);break}else C(et,On);On=On.sibling}tt.type===I?(Ge=xc(tt.props.children,et.mode,Gt,tt.key),Ge.return=et,et=Ge):(Gt=Pg(tt.type,tt.key,tt.props,null,et.mode,Gt),Gt.ref=ad(et,Ge,tt),Gt.return=et,et=Gt)}return ve(et);case U:e:{for(On=tt.key;Ge!==null;){if(Ge.key===On)if(Ge.tag===4&&Ge.stateNode.containerInfo===tt.containerInfo&&Ge.stateNode.implementation===tt.implementation){O(et,Ge.sibling),Ge=Z(Ge,tt.children||[]),Ge.return=et,et=Ge;break e}else{O(et,Ge);break}else C(et,Ge);Ge=Ge.sibling}Ge=Ex(tt,et.mode,Gt),Ge.return=et,et=Ge}return ve(et);case he:return On=tt._init,bs(et,Ge,On(tt._payload),Gt)}if(Ze(tt))return xn(et,Ge,tt,Gt);if(xe(tt))return Cn(et,Ge,tt,Gt);tg(et,tt)}return typeof tt=="string"&&tt!==""||typeof tt=="number"?(tt=""+tt,Ge!==null&&Ge.tag===6?(O(et,Ge.sibling),Ge=Z(Ge,tt),Ge.return=et,et=Ge):(O(et,Ge),Ge=Dx(tt,et.mode,Gt),Ge.return=et,et=Ge),ve(et)):O(et,Ge)}return bs}var Nu=pS(!0),gS=pS(!1),ng=wl(null),ig=null,Ru=null,zy=null;function By(){zy=Ru=ig=null}function Vy(x){var C=ng.current;Zi(ng),x._currentValue=C}function Hy(x,C,O){for(;x!==null;){var Y=x.alternate;if((x.childLanes&C)!==C?(x.childLanes|=C,Y!==null&&(Y.childLanes|=C)):Y!==null&&(Y.childLanes&C)!==C&&(Y.childLanes|=C),x===O)break;x=x.return}}function Lu(x,C){ig=x,zy=Ru=null,x=x.dependencies,x!==null&&x.firstContext!==null&&((x.lanes&C)!==0&&(_r=!0),x.firstContext=null)}function Po(x){var C=x._currentValue;if(zy!==x)if(x={context:x,memoizedValue:C,next:null},Ru===null){if(ig===null)throw Error(s(308));Ru=x,ig.dependencies={lanes:0,firstContext:x}}else Ru=Ru.next=x;return C}var hc=null;function Wy(x){hc===null?hc=[x]:hc.push(x)}function mS(x,C,O,Y){var Z=C.interleaved;return Z===null?(O.next=O,Wy(C)):(O.next=Z.next,Z.next=O),C.interleaved=O,Wa(x,Y)}function Wa(x,C){x.lanes|=C;var O=x.alternate;for(O!==null&&(O.lanes|=C),O=x,x=x.return;x!==null;)x.childLanes|=C,O=x.alternate,O!==null&&(O.childLanes|=C),O=x,x=x.return;return O.tag===3?O.stateNode:null}var kl=!1;function $y(x){x.updateQueue={baseState:x.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yS(x,C){x=x.updateQueue,C.updateQueue===x&&(C.updateQueue={baseState:x.baseState,firstBaseUpdate:x.firstBaseUpdate,lastBaseUpdate:x.lastBaseUpdate,shared:x.shared,effects:x.effects})}function $a(x,C){return{eventTime:x,lane:C,tag:0,payload:null,callback:null,next:null}}function Pl(x,C,O){var Y=x.updateQueue;if(Y===null)return null;if(Y=Y.shared,(di&2)!==0){var Z=Y.pending;return Z===null?C.next=C:(C.next=Z.next,Z.next=C),Y.pending=C,Wa(x,O)}return Z=Y.interleaved,Z===null?(C.next=C,Wy(Y)):(C.next=Z.next,Z.next=C),Y.interleaved=C,Wa(x,O)}function sg(x,C,O){if(C=C.updateQueue,C!==null&&(C=C.shared,(O&4194240)!==0)){var Y=C.lanes;Y&=x.pendingLanes,O|=Y,C.lanes=O,gn(x,O)}}function xS(x,C){var O=x.updateQueue,Y=x.alternate;if(Y!==null&&(Y=Y.updateQueue,O===Y)){var Z=null,se=null;if(O=O.firstBaseUpdate,O!==null){do{var ve={eventTime:O.eventTime,lane:O.lane,tag:O.tag,payload:O.payload,callback:O.callback,next:null};se===null?Z=se=ve:se=se.next=ve,O=O.next}while(O!==null);se===null?Z=se=C:se=se.next=C}else Z=se=C;O={baseState:Y.baseState,firstBaseUpdate:Z,lastBaseUpdate:se,shared:Y.shared,effects:Y.effects},x.updateQueue=O;return}x=O.lastBaseUpdate,x===null?O.firstBaseUpdate=C:x.next=C,O.lastBaseUpdate=C}function rg(x,C,O,Y){var Z=x.updateQueue;kl=!1;var se=Z.firstBaseUpdate,ve=Z.lastBaseUpdate,Le=Z.shared.pending;if(Le!==null){Z.shared.pending=null;var We=Le,lt=We.next;We.next=null,ve===null?se=lt:ve.next=lt,ve=We;var jt=x.alternate;jt!==null&&(jt=jt.updateQueue,Le=jt.lastBaseUpdate,Le!==ve&&(Le===null?jt.firstBaseUpdate=lt:Le.next=lt,jt.lastBaseUpdate=We))}if(se!==null){var $t=Z.baseState;ve=0,jt=lt=We=null,Le=se;do{var Ft=Le.lane,fn=Le.eventTime;if((Y&Ft)===Ft){jt!==null&&(jt=jt.next={eventTime:fn,lane:0,tag:Le.tag,payload:Le.payload,callback:Le.callback,next:null});e:{var xn=x,Cn=Le;switch(Ft=C,fn=O,Cn.tag){case 1:if(xn=Cn.payload,typeof xn=="function"){$t=xn.call(fn,$t,Ft);break e}$t=xn;break e;case 3:xn.flags=xn.flags&-65537|128;case 0:if(xn=Cn.payload,Ft=typeof xn=="function"?xn.call(fn,$t,Ft):xn,Ft==null)break e;$t=Se({},$t,Ft);break e;case 2:kl=!0}}Le.callback!==null&&Le.lane!==0&&(x.flags|=64,Ft=Z.effects,Ft===null?Z.effects=[Le]:Ft.push(Le))}else fn={eventTime:fn,lane:Ft,tag:Le.tag,payload:Le.payload,callback:Le.callback,next:null},jt===null?(lt=jt=fn,We=$t):jt=jt.next=fn,ve|=Ft;if(Le=Le.next,Le===null){if(Le=Z.shared.pending,Le===null)break;Ft=Le,Le=Ft.next,Ft.next=null,Z.lastBaseUpdate=Ft,Z.shared.pending=null}}while(!0);if(jt===null&&(We=$t),Z.baseState=We,Z.firstBaseUpdate=lt,Z.lastBaseUpdate=jt,C=Z.shared.interleaved,C!==null){Z=C;do ve|=Z.lane,Z=Z.next;while(Z!==C)}else se===null&&(Z.shared.lanes=0);pc|=ve,x.lanes=ve,x.memoizedState=$t}}function vS(x,C,O){if(x=C.effects,C.effects=null,x!==null)for(C=0;C<x.length;C++){var Y=x[C],Z=Y.callback;if(Z!==null){if(Y.callback=null,Y=O,typeof Z!="function")throw Error(s(191,Z));Z.call(Y)}}}var ld={},ma=wl(ld),cd=wl(ld),ud=wl(ld);function dc(x){if(x===ld)throw Error(s(174));return x}function Yy(x,C){switch(Ui(ud,C),Ui(cd,x),Ui(ma,ld),x=C.nodeType,x){case 9:case 11:C=(C=C.documentElement)?C.namespaceURI:_t(null,"");break;default:x=x===8?C.parentNode:C,C=x.namespaceURI||null,x=x.tagName,C=_t(C,x)}Zi(ma),Ui(ma,C)}function Ou(){Zi(ma),Zi(cd),Zi(ud)}function bS(x){dc(ud.current);var C=dc(ma.current),O=_t(C,x.type);C!==O&&(Ui(cd,x),Ui(ma,O))}function Uy(x){cd.current===x&&(Zi(ma),Zi(cd))}var os=wl(0);function og(x){for(var C=x;C!==null;){if(C.tag===13){var O=C.memoizedState;if(O!==null&&(O=O.dehydrated,O===null||O.data==="$?"||O.data==="$!"))return C}else if(C.tag===19&&C.memoizedProps.revealOrder!==void 0){if((C.flags&128)!==0)return C}else if(C.child!==null){C.child.return=C,C=C.child;continue}if(C===x)break;for(;C.sibling===null;){if(C.return===null||C.return===x)return null;C=C.return}C.sibling.return=C.return,C=C.sibling}return null}var Xy=[];function Gy(){for(var x=0;x<Xy.length;x++)Xy[x]._workInProgressVersionPrimary=null;Xy.length=0}var ag=W.ReactCurrentDispatcher,qy=W.ReactCurrentBatchConfig,fc=0,as=null,_s=null,Ys=null,lg=!1,hd=!1,dd=0,DR=0;function hr(){throw Error(s(321))}function Ky(x,C){if(C===null)return!1;for(var O=0;O<C.length&&O<x.length;O++)if(!He(x[O],C[O]))return!1;return!0}function Zy(x,C,O,Y,Z,se){if(fc=se,as=C,C.memoizedState=null,C.updateQueue=null,C.lanes=0,ag.current=x===null||x.memoizedState===null?LR:OR,x=O(Y,Z),hd){se=0;do{if(hd=!1,dd=0,25<=se)throw Error(s(301));se+=1,Ys=_s=null,C.updateQueue=null,ag.current=IR,x=O(Y,Z)}while(hd)}if(ag.current=hg,C=_s!==null&&_s.next!==null,fc=0,Ys=_s=as=null,lg=!1,C)throw Error(s(300));return x}function Jy(){var x=dd!==0;return dd=0,x}function ya(){var x={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ys===null?as.memoizedState=Ys=x:Ys=Ys.next=x,Ys}function Mo(){if(_s===null){var x=as.alternate;x=x!==null?x.memoizedState:null}else x=_s.next;var C=Ys===null?as.memoizedState:Ys.next;if(C!==null)Ys=C,_s=x;else{if(x===null)throw Error(s(310));_s=x,x={memoizedState:_s.memoizedState,baseState:_s.baseState,baseQueue:_s.baseQueue,queue:_s.queue,next:null},Ys===null?as.memoizedState=Ys=x:Ys=Ys.next=x}return Ys}function fd(x,C){return typeof C=="function"?C(x):C}function Qy(x){var C=Mo(),O=C.queue;if(O===null)throw Error(s(311));O.lastRenderedReducer=x;var Y=_s,Z=Y.baseQueue,se=O.pending;if(se!==null){if(Z!==null){var ve=Z.next;Z.next=se.next,se.next=ve}Y.baseQueue=Z=se,O.pending=null}if(Z!==null){se=Z.next,Y=Y.baseState;var Le=ve=null,We=null,lt=se;do{var jt=lt.lane;if((fc&jt)===jt)We!==null&&(We=We.next={lane:0,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null}),Y=lt.hasEagerState?lt.eagerState:x(Y,lt.action);else{var $t={lane:jt,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null};We===null?(Le=We=$t,ve=Y):We=We.next=$t,as.lanes|=jt,pc|=jt}lt=lt.next}while(lt!==null&&lt!==se);We===null?ve=Y:We.next=Le,He(Y,C.memoizedState)||(_r=!0),C.memoizedState=Y,C.baseState=ve,C.baseQueue=We,O.lastRenderedState=Y}if(x=O.interleaved,x!==null){Z=x;do se=Z.lane,as.lanes|=se,pc|=se,Z=Z.next;while(Z!==x)}else Z===null&&(O.lanes=0);return[C.memoizedState,O.dispatch]}function ex(x){var C=Mo(),O=C.queue;if(O===null)throw Error(s(311));O.lastRenderedReducer=x;var Y=O.dispatch,Z=O.pending,se=C.memoizedState;if(Z!==null){O.pending=null;var ve=Z=Z.next;do se=x(se,ve.action),ve=ve.next;while(ve!==Z);He(se,C.memoizedState)||(_r=!0),C.memoizedState=se,C.baseQueue===null&&(C.baseState=se),O.lastRenderedState=se}return[se,Y]}function wS(){}function SS(x,C){var O=as,Y=Mo(),Z=C(),se=!He(Y.memoizedState,Z);if(se&&(Y.memoizedState=Z,_r=!0),Y=Y.queue,tx(PS.bind(null,O,Y,x),[x]),Y.getSnapshot!==C||se||Ys!==null&&Ys.memoizedState.tag&1){if(O.flags|=2048,pd(9,kS.bind(null,O,Y,Z,C),void 0,null),Us===null)throw Error(s(349));(fc&30)!==0||CS(O,C,Z)}return Z}function CS(x,C,O){x.flags|=16384,x={getSnapshot:C,value:O},C=as.updateQueue,C===null?(C={lastEffect:null,stores:null},as.updateQueue=C,C.stores=[x]):(O=C.stores,O===null?C.stores=[x]:O.push(x))}function kS(x,C,O,Y){C.value=O,C.getSnapshot=Y,MS(C)&&TS(x)}function PS(x,C,O){return O(function(){MS(C)&&TS(x)})}function MS(x){var C=x.getSnapshot;x=x.value;try{var O=C();return!He(x,O)}catch{return!0}}function TS(x){var C=Wa(x,1);C!==null&&Qo(C,x,1,-1)}function AS(x){var C=ya();return typeof x=="function"&&(x=x()),C.memoizedState=C.baseState=x,x={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fd,lastRenderedState:x},C.queue=x,x=x.dispatch=RR.bind(null,as,x),[C.memoizedState,x]}function pd(x,C,O,Y){return x={tag:x,create:C,destroy:O,deps:Y,next:null},C=as.updateQueue,C===null?(C={lastEffect:null,stores:null},as.updateQueue=C,C.lastEffect=x.next=x):(O=C.lastEffect,O===null?C.lastEffect=x.next=x:(Y=O.next,O.next=x,x.next=Y,C.lastEffect=x)),x}function DS(){return Mo().memoizedState}function cg(x,C,O,Y){var Z=ya();as.flags|=x,Z.memoizedState=pd(1|C,O,void 0,Y===void 0?null:Y)}function ug(x,C,O,Y){var Z=Mo();Y=Y===void 0?null:Y;var se=void 0;if(_s!==null){var ve=_s.memoizedState;if(se=ve.destroy,Y!==null&&Ky(Y,ve.deps)){Z.memoizedState=pd(C,O,se,Y);return}}as.flags|=x,Z.memoizedState=pd(1|C,O,se,Y)}function ES(x,C){return cg(8390656,8,x,C)}function tx(x,C){return ug(2048,8,x,C)}function NS(x,C){return ug(4,2,x,C)}function RS(x,C){return ug(4,4,x,C)}function LS(x,C){if(typeof C=="function")return x=x(),C(x),function(){C(null)};if(C!=null)return x=x(),C.current=x,function(){C.current=null}}function OS(x,C,O){return O=O!=null?O.concat([x]):null,ug(4,4,LS.bind(null,C,x),O)}function nx(){}function IS(x,C){var O=Mo();C=C===void 0?null:C;var Y=O.memoizedState;return Y!==null&&C!==null&&Ky(C,Y[1])?Y[0]:(O.memoizedState=[x,C],x)}function FS(x,C){var O=Mo();C=C===void 0?null:C;var Y=O.memoizedState;return Y!==null&&C!==null&&Ky(C,Y[1])?Y[0]:(x=x(),O.memoizedState=[x,C],x)}function jS(x,C,O){return(fc&21)===0?(x.baseState&&(x.baseState=!1,_r=!0),x.memoizedState=O):(He(O,C)||(O=vo(),as.lanes|=O,pc|=O,x.baseState=!0),C)}function ER(x,C){var O=yi;yi=O!==0&&4>O?O:4,x(!0);var Y=qy.transition;qy.transition={};try{x(!1),C()}finally{yi=O,qy.transition=Y}}function _S(){return Mo().memoizedState}function NR(x,C,O){var Y=Dl(x);if(O={lane:Y,action:O,hasEagerState:!1,eagerState:null,next:null},zS(x))BS(C,O);else if(O=mS(x,C,O,Y),O!==null){var Z=Sr();Qo(O,x,Y,Z),VS(O,C,Y)}}function RR(x,C,O){var Y=Dl(x),Z={lane:Y,action:O,hasEagerState:!1,eagerState:null,next:null};if(zS(x))BS(C,Z);else{var se=x.alternate;if(x.lanes===0&&(se===null||se.lanes===0)&&(se=C.lastRenderedReducer,se!==null))try{var ve=C.lastRenderedState,Le=se(ve,O);if(Z.hasEagerState=!0,Z.eagerState=Le,He(Le,ve)){var We=C.interleaved;We===null?(Z.next=Z,Wy(C)):(Z.next=We.next,We.next=Z),C.interleaved=Z;return}}catch{}finally{}O=mS(x,C,Z,Y),O!==null&&(Z=Sr(),Qo(O,x,Y,Z),VS(O,C,Y))}}function zS(x){var C=x.alternate;return x===as||C!==null&&C===as}function BS(x,C){hd=lg=!0;var O=x.pending;O===null?C.next=C:(C.next=O.next,O.next=C),x.pending=C}function VS(x,C,O){if((O&4194240)!==0){var Y=C.lanes;Y&=x.pendingLanes,O|=Y,C.lanes=O,gn(x,O)}}var hg={readContext:Po,useCallback:hr,useContext:hr,useEffect:hr,useImperativeHandle:hr,useInsertionEffect:hr,useLayoutEffect:hr,useMemo:hr,useReducer:hr,useRef:hr,useState:hr,useDebugValue:hr,useDeferredValue:hr,useTransition:hr,useMutableSource:hr,useSyncExternalStore:hr,useId:hr,unstable_isNewReconciler:!1},LR={readContext:Po,useCallback:function(x,C){return ya().memoizedState=[x,C===void 0?null:C],x},useContext:Po,useEffect:ES,useImperativeHandle:function(x,C,O){return O=O!=null?O.concat([x]):null,cg(4194308,4,LS.bind(null,C,x),O)},useLayoutEffect:function(x,C){return cg(4194308,4,x,C)},useInsertionEffect:function(x,C){return cg(4,2,x,C)},useMemo:function(x,C){var O=ya();return C=C===void 0?null:C,x=x(),O.memoizedState=[x,C],x},useReducer:function(x,C,O){var Y=ya();return C=O!==void 0?O(C):C,Y.memoizedState=Y.baseState=C,x={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:x,lastRenderedState:C},Y.queue=x,x=x.dispatch=NR.bind(null,as,x),[Y.memoizedState,x]},useRef:function(x){var C=ya();return x={current:x},C.memoizedState=x},useState:AS,useDebugValue:nx,useDeferredValue:function(x){return ya().memoizedState=x},useTransition:function(){var x=AS(!1),C=x[0];return x=ER.bind(null,x[1]),ya().memoizedState=x,[C,x]},useMutableSource:function(){},useSyncExternalStore:function(x,C,O){var Y=as,Z=ya();if(Qi){if(O===void 0)throw Error(s(407));O=O()}else{if(O=C(),Us===null)throw Error(s(349));(fc&30)!==0||CS(Y,C,O)}Z.memoizedState=O;var se={value:O,getSnapshot:C};return Z.queue=se,ES(PS.bind(null,Y,se,x),[x]),Y.flags|=2048,pd(9,kS.bind(null,Y,se,O,C),void 0,null),O},useId:function(){var x=ya(),C=Us.identifierPrefix;if(Qi){var O=Ha,Y=Va;O=(Y&~(1<<32-br(Y)-1)).toString(32)+O,C=":"+C+"R"+O,O=dd++,0<O&&(C+="H"+O.toString(32)),C+=":"}else O=DR++,C=":"+C+"r"+O.toString(32)+":";return x.memoizedState=C},unstable_isNewReconciler:!1},OR={readContext:Po,useCallback:IS,useContext:Po,useEffect:tx,useImperativeHandle:OS,useInsertionEffect:NS,useLayoutEffect:RS,useMemo:FS,useReducer:Qy,useRef:DS,useState:function(){return Qy(fd)},useDebugValue:nx,useDeferredValue:function(x){var C=Mo();return jS(C,_s.memoizedState,x)},useTransition:function(){var x=Qy(fd)[0],C=Mo().memoizedState;return[x,C]},useMutableSource:wS,useSyncExternalStore:SS,useId:_S,unstable_isNewReconciler:!1},IR={readContext:Po,useCallback:IS,useContext:Po,useEffect:tx,useImperativeHandle:OS,useInsertionEffect:NS,useLayoutEffect:RS,useMemo:FS,useReducer:ex,useRef:DS,useState:function(){return ex(fd)},useDebugValue:nx,useDeferredValue:function(x){var C=Mo();return _s===null?C.memoizedState=x:jS(C,_s.memoizedState,x)},useTransition:function(){var x=ex(fd)[0],C=Mo().memoizedState;return[x,C]},useMutableSource:wS,useSyncExternalStore:SS,useId:_S,unstable_isNewReconciler:!1};function Ko(x,C){if(x&&x.defaultProps){C=Se({},C),x=x.defaultProps;for(var O in x)C[O]===void 0&&(C[O]=x[O]);return C}return C}function ix(x,C,O,Y){C=x.memoizedState,O=O(Y,C),O=O==null?C:Se({},C,O),x.memoizedState=O,x.lanes===0&&(x.updateQueue.baseState=O)}var dg={isMounted:function(x){return(x=x._reactInternals)?xo(x)===x:!1},enqueueSetState:function(x,C,O){x=x._reactInternals;var Y=Sr(),Z=Dl(x),se=$a(Y,Z);se.payload=C,O!=null&&(se.callback=O),C=Pl(x,se,Z),C!==null&&(Qo(C,x,Z,Y),sg(C,x,Z))},enqueueReplaceState:function(x,C,O){x=x._reactInternals;var Y=Sr(),Z=Dl(x),se=$a(Y,Z);se.tag=1,se.payload=C,O!=null&&(se.callback=O),C=Pl(x,se,Z),C!==null&&(Qo(C,x,Z,Y),sg(C,x,Z))},enqueueForceUpdate:function(x,C){x=x._reactInternals;var O=Sr(),Y=Dl(x),Z=$a(O,Y);Z.tag=2,C!=null&&(Z.callback=C),C=Pl(x,Z,Y),C!==null&&(Qo(C,x,Y,O),sg(C,x,Y))}};function HS(x,C,O,Y,Z,se,ve){return x=x.stateNode,typeof x.shouldComponentUpdate=="function"?x.shouldComponentUpdate(Y,se,ve):C.prototype&&C.prototype.isPureReactComponent?!Ke(O,Y)||!Ke(Z,se):!0}function WS(x,C,O){var Y=!1,Z=Sl,se=C.contextType;return typeof se=="object"&&se!==null?se=Po(se):(Z=jr(C)?lc:ur.current,Y=C.contextTypes,se=(Y=Y!=null)?Tu(x,Z):Sl),C=new C(O,se),x.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=dg,x.stateNode=C,C._reactInternals=x,Y&&(x=x.stateNode,x.__reactInternalMemoizedUnmaskedChildContext=Z,x.__reactInternalMemoizedMaskedChildContext=se),C}function $S(x,C,O,Y){x=C.state,typeof C.componentWillReceiveProps=="function"&&C.componentWillReceiveProps(O,Y),typeof C.UNSAFE_componentWillReceiveProps=="function"&&C.UNSAFE_componentWillReceiveProps(O,Y),C.state!==x&&dg.enqueueReplaceState(C,C.state,null)}function sx(x,C,O,Y){var Z=x.stateNode;Z.props=O,Z.state=x.memoizedState,Z.refs={},$y(x);var se=C.contextType;typeof se=="object"&&se!==null?Z.context=Po(se):(se=jr(C)?lc:ur.current,Z.context=Tu(x,se)),Z.state=x.memoizedState,se=C.getDerivedStateFromProps,typeof se=="function"&&(ix(x,C,se,O),Z.state=x.memoizedState),typeof C.getDerivedStateFromProps=="function"||typeof Z.getSnapshotBeforeUpdate=="function"||typeof Z.UNSAFE_componentWillMount!="function"&&typeof Z.componentWillMount!="function"||(C=Z.state,typeof Z.componentWillMount=="function"&&Z.componentWillMount(),typeof Z.UNSAFE_componentWillMount=="function"&&Z.UNSAFE_componentWillMount(),C!==Z.state&&dg.enqueueReplaceState(Z,Z.state,null),rg(x,O,Z,Y),Z.state=x.memoizedState),typeof Z.componentDidMount=="function"&&(x.flags|=4194308)}function Iu(x,C){try{var O="",Y=C;do O+=qe(Y),Y=Y.return;while(Y);var Z=O}catch(se){Z=`
Error generating stack: `+se.message+`
`+se.stack}return{value:x,source:C,stack:Z,digest:null}}function rx(x,C,O){return{value:x,source:null,stack:O??null,digest:C??null}}function ox(x,C){try{console.error(C.value)}catch(O){setTimeout(function(){throw O})}}var FR=typeof WeakMap=="function"?WeakMap:Map;function YS(x,C,O){O=$a(-1,O),O.tag=3,O.payload={element:null};var Y=C.value;return O.callback=function(){vg||(vg=!0,wx=Y),ox(x,C)},O}function US(x,C,O){O=$a(-1,O),O.tag=3;var Y=x.type.getDerivedStateFromError;if(typeof Y=="function"){var Z=C.value;O.payload=function(){return Y(Z)},O.callback=function(){ox(x,C)}}var se=x.stateNode;return se!==null&&typeof se.componentDidCatch=="function"&&(O.callback=function(){ox(x,C),typeof Y!="function"&&(Tl===null?Tl=new Set([this]):Tl.add(this));var ve=C.stack;this.componentDidCatch(C.value,{componentStack:ve!==null?ve:""})}),O}function XS(x,C,O){var Y=x.pingCache;if(Y===null){Y=x.pingCache=new FR;var Z=new Set;Y.set(C,Z)}else Z=Y.get(C),Z===void 0&&(Z=new Set,Y.set(C,Z));Z.has(O)||(Z.add(O),x=KR.bind(null,x,C,O),C.then(x,x))}function GS(x){do{var C;if((C=x.tag===13)&&(C=x.memoizedState,C=C!==null?C.dehydrated!==null:!0),C)return x;x=x.return}while(x!==null);return null}function qS(x,C,O,Y,Z){return(x.mode&1)===0?(x===C?x.flags|=65536:(x.flags|=128,O.flags|=131072,O.flags&=-52805,O.tag===1&&(O.alternate===null?O.tag=17:(C=$a(-1,1),C.tag=2,Pl(O,C,1))),O.lanes|=1),x):(x.flags|=65536,x.lanes=Z,x)}var jR=W.ReactCurrentOwner,_r=!1;function wr(x,C,O,Y){C.child=x===null?gS(C,null,O,Y):Nu(C,x.child,O,Y)}function KS(x,C,O,Y,Z){O=O.render;var se=C.ref;return Lu(C,Z),Y=Zy(x,C,O,Y,se,Z),O=Jy(),x!==null&&!_r?(C.updateQueue=x.updateQueue,C.flags&=-2053,x.lanes&=~Z,Ya(x,C,Z)):(Qi&&O&&Oy(C),C.flags|=1,wr(x,C,Y,Z),C.child)}function ZS(x,C,O,Y,Z){if(x===null){var se=O.type;return typeof se=="function"&&!Ax(se)&&se.defaultProps===void 0&&O.compare===null&&O.defaultProps===void 0?(C.tag=15,C.type=se,JS(x,C,se,Y,Z)):(x=Pg(O.type,null,Y,C,C.mode,Z),x.ref=C.ref,x.return=C,C.child=x)}if(se=x.child,(x.lanes&Z)===0){var ve=se.memoizedProps;if(O=O.compare,O=O!==null?O:Ke,O(ve,Y)&&x.ref===C.ref)return Ya(x,C,Z)}return C.flags|=1,x=Nl(se,Y),x.ref=C.ref,x.return=C,C.child=x}function JS(x,C,O,Y,Z){if(x!==null){var se=x.memoizedProps;if(Ke(se,Y)&&x.ref===C.ref)if(_r=!1,C.pendingProps=Y=se,(x.lanes&Z)!==0)(x.flags&131072)!==0&&(_r=!0);else return C.lanes=x.lanes,Ya(x,C,Z)}return ax(x,C,O,Y,Z)}function QS(x,C,O){var Y=C.pendingProps,Z=Y.children,se=x!==null?x.memoizedState:null;if(Y.mode==="hidden")if((C.mode&1)===0)C.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ui(ju,no),no|=O;else{if((O&1073741824)===0)return x=se!==null?se.baseLanes|O:O,C.lanes=C.childLanes=1073741824,C.memoizedState={baseLanes:x,cachePool:null,transitions:null},C.updateQueue=null,Ui(ju,no),no|=x,null;C.memoizedState={baseLanes:0,cachePool:null,transitions:null},Y=se!==null?se.baseLanes:O,Ui(ju,no),no|=Y}else se!==null?(Y=se.baseLanes|O,C.memoizedState=null):Y=O,Ui(ju,no),no|=Y;return wr(x,C,Z,O),C.child}function eC(x,C){var O=C.ref;(x===null&&O!==null||x!==null&&x.ref!==O)&&(C.flags|=512,C.flags|=2097152)}function ax(x,C,O,Y,Z){var se=jr(O)?lc:ur.current;return se=Tu(C,se),Lu(C,Z),O=Zy(x,C,O,Y,se,Z),Y=Jy(),x!==null&&!_r?(C.updateQueue=x.updateQueue,C.flags&=-2053,x.lanes&=~Z,Ya(x,C,Z)):(Qi&&Y&&Oy(C),C.flags|=1,wr(x,C,O,Z),C.child)}function tC(x,C,O,Y,Z){if(jr(O)){var se=!0;Kp(C)}else se=!1;if(Lu(C,Z),C.stateNode===null)pg(x,C),WS(C,O,Y),sx(C,O,Y,Z),Y=!0;else if(x===null){var ve=C.stateNode,Le=C.memoizedProps;ve.props=Le;var We=ve.context,lt=O.contextType;typeof lt=="object"&&lt!==null?lt=Po(lt):(lt=jr(O)?lc:ur.current,lt=Tu(C,lt));var jt=O.getDerivedStateFromProps,$t=typeof jt=="function"||typeof ve.getSnapshotBeforeUpdate=="function";$t||typeof ve.UNSAFE_componentWillReceiveProps!="function"&&typeof ve.componentWillReceiveProps!="function"||(Le!==Y||We!==lt)&&$S(C,ve,Y,lt),kl=!1;var Ft=C.memoizedState;ve.state=Ft,rg(C,Y,ve,Z),We=C.memoizedState,Le!==Y||Ft!==We||Fr.current||kl?(typeof jt=="function"&&(ix(C,O,jt,Y),We=C.memoizedState),(Le=kl||HS(C,O,Le,Y,Ft,We,lt))?($t||typeof ve.UNSAFE_componentWillMount!="function"&&typeof ve.componentWillMount!="function"||(typeof ve.componentWillMount=="function"&&ve.componentWillMount(),typeof ve.UNSAFE_componentWillMount=="function"&&ve.UNSAFE_componentWillMount()),typeof ve.componentDidMount=="function"&&(C.flags|=4194308)):(typeof ve.componentDidMount=="function"&&(C.flags|=4194308),C.memoizedProps=Y,C.memoizedState=We),ve.props=Y,ve.state=We,ve.context=lt,Y=Le):(typeof ve.componentDidMount=="function"&&(C.flags|=4194308),Y=!1)}else{ve=C.stateNode,yS(x,C),Le=C.memoizedProps,lt=C.type===C.elementType?Le:Ko(C.type,Le),ve.props=lt,$t=C.pendingProps,Ft=ve.context,We=O.contextType,typeof We=="object"&&We!==null?We=Po(We):(We=jr(O)?lc:ur.current,We=Tu(C,We));var fn=O.getDerivedStateFromProps;(jt=typeof fn=="function"||typeof ve.getSnapshotBeforeUpdate=="function")||typeof ve.UNSAFE_componentWillReceiveProps!="function"&&typeof ve.componentWillReceiveProps!="function"||(Le!==$t||Ft!==We)&&$S(C,ve,Y,We),kl=!1,Ft=C.memoizedState,ve.state=Ft,rg(C,Y,ve,Z);var xn=C.memoizedState;Le!==$t||Ft!==xn||Fr.current||kl?(typeof fn=="function"&&(ix(C,O,fn,Y),xn=C.memoizedState),(lt=kl||HS(C,O,lt,Y,Ft,xn,We)||!1)?(jt||typeof ve.UNSAFE_componentWillUpdate!="function"&&typeof ve.componentWillUpdate!="function"||(typeof ve.componentWillUpdate=="function"&&ve.componentWillUpdate(Y,xn,We),typeof ve.UNSAFE_componentWillUpdate=="function"&&ve.UNSAFE_componentWillUpdate(Y,xn,We)),typeof ve.componentDidUpdate=="function"&&(C.flags|=4),typeof ve.getSnapshotBeforeUpdate=="function"&&(C.flags|=1024)):(typeof ve.componentDidUpdate!="function"||Le===x.memoizedProps&&Ft===x.memoizedState||(C.flags|=4),typeof ve.getSnapshotBeforeUpdate!="function"||Le===x.memoizedProps&&Ft===x.memoizedState||(C.flags|=1024),C.memoizedProps=Y,C.memoizedState=xn),ve.props=Y,ve.state=xn,ve.context=We,Y=lt):(typeof ve.componentDidUpdate!="function"||Le===x.memoizedProps&&Ft===x.memoizedState||(C.flags|=4),typeof ve.getSnapshotBeforeUpdate!="function"||Le===x.memoizedProps&&Ft===x.memoizedState||(C.flags|=1024),Y=!1)}return lx(x,C,O,Y,se,Z)}function lx(x,C,O,Y,Z,se){eC(x,C);var ve=(C.flags&128)!==0;if(!Y&&!ve)return Z&&oS(C,O,!1),Ya(x,C,se);Y=C.stateNode,jR.current=C;var Le=ve&&typeof O.getDerivedStateFromError!="function"?null:Y.render();return C.flags|=1,x!==null&&ve?(C.child=Nu(C,x.child,null,se),C.child=Nu(C,null,Le,se)):wr(x,C,Le,se),C.memoizedState=Y.state,Z&&oS(C,O,!0),C.child}function nC(x){var C=x.stateNode;C.pendingContext?sS(x,C.pendingContext,C.pendingContext!==C.context):C.context&&sS(x,C.context,!1),Yy(x,C.containerInfo)}function iC(x,C,O,Y,Z){return Eu(),_y(Z),C.flags|=256,wr(x,C,O,Y),C.child}var cx={dehydrated:null,treeContext:null,retryLane:0};function ux(x){return{baseLanes:x,cachePool:null,transitions:null}}function sC(x,C,O){var Y=C.pendingProps,Z=os.current,se=!1,ve=(C.flags&128)!==0,Le;if((Le=ve)||(Le=x!==null&&x.memoizedState===null?!1:(Z&2)!==0),Le?(se=!0,C.flags&=-129):(x===null||x.memoizedState!==null)&&(Z|=1),Ui(os,Z&1),x===null)return jy(C),x=C.memoizedState,x!==null&&(x=x.dehydrated,x!==null)?((C.mode&1)===0?C.lanes=1:x.data==="$!"?C.lanes=8:C.lanes=1073741824,null):(ve=Y.children,x=Y.fallback,se?(Y=C.mode,se=C.child,ve={mode:"hidden",children:ve},(Y&1)===0&&se!==null?(se.childLanes=0,se.pendingProps=ve):se=Mg(ve,Y,0,null),x=xc(x,Y,O,null),se.return=C,x.return=C,se.sibling=x,C.child=se,C.child.memoizedState=ux(O),C.memoizedState=cx,x):hx(C,ve));if(Z=x.memoizedState,Z!==null&&(Le=Z.dehydrated,Le!==null))return _R(x,C,ve,Y,Le,Z,O);if(se){se=Y.fallback,ve=C.mode,Z=x.child,Le=Z.sibling;var We={mode:"hidden",children:Y.children};return(ve&1)===0&&C.child!==Z?(Y=C.child,Y.childLanes=0,Y.pendingProps=We,C.deletions=null):(Y=Nl(Z,We),Y.subtreeFlags=Z.subtreeFlags&14680064),Le!==null?se=Nl(Le,se):(se=xc(se,ve,O,null),se.flags|=2),se.return=C,Y.return=C,Y.sibling=se,C.child=Y,Y=se,se=C.child,ve=x.child.memoizedState,ve=ve===null?ux(O):{baseLanes:ve.baseLanes|O,cachePool:null,transitions:ve.transitions},se.memoizedState=ve,se.childLanes=x.childLanes&~O,C.memoizedState=cx,Y}return se=x.child,x=se.sibling,Y=Nl(se,{mode:"visible",children:Y.children}),(C.mode&1)===0&&(Y.lanes=O),Y.return=C,Y.sibling=null,x!==null&&(O=C.deletions,O===null?(C.deletions=[x],C.flags|=16):O.push(x)),C.child=Y,C.memoizedState=null,Y}function hx(x,C){return C=Mg({mode:"visible",children:C},x.mode,0,null),C.return=x,x.child=C}function fg(x,C,O,Y){return Y!==null&&_y(Y),Nu(C,x.child,null,O),x=hx(C,C.pendingProps.children),x.flags|=2,C.memoizedState=null,x}function _R(x,C,O,Y,Z,se,ve){if(O)return C.flags&256?(C.flags&=-257,Y=rx(Error(s(422))),fg(x,C,ve,Y)):C.memoizedState!==null?(C.child=x.child,C.flags|=128,null):(se=Y.fallback,Z=C.mode,Y=Mg({mode:"visible",children:Y.children},Z,0,null),se=xc(se,Z,ve,null),se.flags|=2,Y.return=C,se.return=C,Y.sibling=se,C.child=Y,(C.mode&1)!==0&&Nu(C,x.child,null,ve),C.child.memoizedState=ux(ve),C.memoizedState=cx,se);if((C.mode&1)===0)return fg(x,C,ve,null);if(Z.data==="$!"){if(Y=Z.nextSibling&&Z.nextSibling.dataset,Y)var Le=Y.dgst;return Y=Le,se=Error(s(419)),Y=rx(se,Y,void 0),fg(x,C,ve,Y)}if(Le=(ve&x.childLanes)!==0,_r||Le){if(Y=Us,Y!==null){switch(ve&-ve){case 4:Z=2;break;case 16:Z=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Z=32;break;case 536870912:Z=268435456;break;default:Z=0}Z=(Z&(Y.suspendedLanes|ve))!==0?0:Z,Z!==0&&Z!==se.retryLane&&(se.retryLane=Z,Wa(x,Z),Qo(Y,x,Z,-1))}return Tx(),Y=rx(Error(s(421))),fg(x,C,ve,Y)}return Z.data==="$?"?(C.flags|=128,C.child=x.child,C=ZR.bind(null,x),Z._reactRetry=C,null):(x=se.treeContext,to=bl(Z.nextSibling),eo=C,Qi=!0,qo=null,x!==null&&(Co[ko++]=Va,Co[ko++]=Ha,Co[ko++]=cc,Va=x.id,Ha=x.overflow,cc=C),C=hx(C,Y.children),C.flags|=4096,C)}function rC(x,C,O){x.lanes|=C;var Y=x.alternate;Y!==null&&(Y.lanes|=C),Hy(x.return,C,O)}function dx(x,C,O,Y,Z){var se=x.memoizedState;se===null?x.memoizedState={isBackwards:C,rendering:null,renderingStartTime:0,last:Y,tail:O,tailMode:Z}:(se.isBackwards=C,se.rendering=null,se.renderingStartTime=0,se.last=Y,se.tail=O,se.tailMode=Z)}function oC(x,C,O){var Y=C.pendingProps,Z=Y.revealOrder,se=Y.tail;if(wr(x,C,Y.children,O),Y=os.current,(Y&2)!==0)Y=Y&1|2,C.flags|=128;else{if(x!==null&&(x.flags&128)!==0)e:for(x=C.child;x!==null;){if(x.tag===13)x.memoizedState!==null&&rC(x,O,C);else if(x.tag===19)rC(x,O,C);else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===C)break e;for(;x.sibling===null;){if(x.return===null||x.return===C)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}Y&=1}if(Ui(os,Y),(C.mode&1)===0)C.memoizedState=null;else switch(Z){case"forwards":for(O=C.child,Z=null;O!==null;)x=O.alternate,x!==null&&og(x)===null&&(Z=O),O=O.sibling;O=Z,O===null?(Z=C.child,C.child=null):(Z=O.sibling,O.sibling=null),dx(C,!1,Z,O,se);break;case"backwards":for(O=null,Z=C.child,C.child=null;Z!==null;){if(x=Z.alternate,x!==null&&og(x)===null){C.child=Z;break}x=Z.sibling,Z.sibling=O,O=Z,Z=x}dx(C,!0,O,null,se);break;case"together":dx(C,!1,null,null,void 0);break;default:C.memoizedState=null}return C.child}function pg(x,C){(C.mode&1)===0&&x!==null&&(x.alternate=null,C.alternate=null,C.flags|=2)}function Ya(x,C,O){if(x!==null&&(C.dependencies=x.dependencies),pc|=C.lanes,(O&C.childLanes)===0)return null;if(x!==null&&C.child!==x.child)throw Error(s(153));if(C.child!==null){for(x=C.child,O=Nl(x,x.pendingProps),C.child=O,O.return=C;x.sibling!==null;)x=x.sibling,O=O.sibling=Nl(x,x.pendingProps),O.return=C;O.sibling=null}return C.child}function zR(x,C,O){switch(C.tag){case 3:nC(C),Eu();break;case 5:bS(C);break;case 1:jr(C.type)&&Kp(C);break;case 4:Yy(C,C.stateNode.containerInfo);break;case 10:var Y=C.type._context,Z=C.memoizedProps.value;Ui(ng,Y._currentValue),Y._currentValue=Z;break;case 13:if(Y=C.memoizedState,Y!==null)return Y.dehydrated!==null?(Ui(os,os.current&1),C.flags|=128,null):(O&C.child.childLanes)!==0?sC(x,C,O):(Ui(os,os.current&1),x=Ya(x,C,O),x!==null?x.sibling:null);Ui(os,os.current&1);break;case 19:if(Y=(O&C.childLanes)!==0,(x.flags&128)!==0){if(Y)return oC(x,C,O);C.flags|=128}if(Z=C.memoizedState,Z!==null&&(Z.rendering=null,Z.tail=null,Z.lastEffect=null),Ui(os,os.current),Y)break;return null;case 22:case 23:return C.lanes=0,QS(x,C,O)}return Ya(x,C,O)}var aC,fx,lC,cC;aC=function(x,C){for(var O=C.child;O!==null;){if(O.tag===5||O.tag===6)x.appendChild(O.stateNode);else if(O.tag!==4&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===C)break;for(;O.sibling===null;){if(O.return===null||O.return===C)return;O=O.return}O.sibling.return=O.return,O=O.sibling}},fx=function(){},lC=function(x,C,O,Y){var Z=x.memoizedProps;if(Z!==Y){x=C.stateNode,dc(ma.current);var se=null;switch(O){case"input":Z=Qe(x,Z),Y=Qe(x,Y),se=[];break;case"select":Z=Se({},Z,{value:void 0}),Y=Se({},Y,{value:void 0}),se=[];break;case"textarea":Z=Ut(x,Z),Y=Ut(x,Y),se=[];break;default:typeof Z.onClick!="function"&&typeof Y.onClick=="function"&&(x.onclick=Xp)}Te(O,Y);var ve;O=null;for(lt in Z)if(!Y.hasOwnProperty(lt)&&Z.hasOwnProperty(lt)&&Z[lt]!=null)if(lt==="style"){var Le=Z[lt];for(ve in Le)Le.hasOwnProperty(ve)&&(O||(O={}),O[ve]="")}else lt!=="dangerouslySetInnerHTML"&&lt!=="children"&&lt!=="suppressContentEditableWarning"&&lt!=="suppressHydrationWarning"&&lt!=="autoFocus"&&(a.hasOwnProperty(lt)?se||(se=[]):(se=se||[]).push(lt,null));for(lt in Y){var We=Y[lt];if(Le=Z?.[lt],Y.hasOwnProperty(lt)&&We!==Le&&(We!=null||Le!=null))if(lt==="style")if(Le){for(ve in Le)!Le.hasOwnProperty(ve)||We&&We.hasOwnProperty(ve)||(O||(O={}),O[ve]="");for(ve in We)We.hasOwnProperty(ve)&&Le[ve]!==We[ve]&&(O||(O={}),O[ve]=We[ve])}else O||(se||(se=[]),se.push(lt,O)),O=We;else lt==="dangerouslySetInnerHTML"?(We=We?We.__html:void 0,Le=Le?Le.__html:void 0,We!=null&&Le!==We&&(se=se||[]).push(lt,We)):lt==="children"?typeof We!="string"&&typeof We!="number"||(se=se||[]).push(lt,""+We):lt!=="suppressContentEditableWarning"&&lt!=="suppressHydrationWarning"&&(a.hasOwnProperty(lt)?(We!=null&&lt==="onScroll"&&ni("scroll",x),se||Le===We||(se=[])):(se=se||[]).push(lt,We))}O&&(se=se||[]).push("style",O);var lt=se;(C.updateQueue=lt)&&(C.flags|=4)}},cC=function(x,C,O,Y){O!==Y&&(C.flags|=4)};function gd(x,C){if(!Qi)switch(x.tailMode){case"hidden":C=x.tail;for(var O=null;C!==null;)C.alternate!==null&&(O=C),C=C.sibling;O===null?x.tail=null:O.sibling=null;break;case"collapsed":O=x.tail;for(var Y=null;O!==null;)O.alternate!==null&&(Y=O),O=O.sibling;Y===null?C||x.tail===null?x.tail=null:x.tail.sibling=null:Y.sibling=null}}function dr(x){var C=x.alternate!==null&&x.alternate.child===x.child,O=0,Y=0;if(C)for(var Z=x.child;Z!==null;)O|=Z.lanes|Z.childLanes,Y|=Z.subtreeFlags&14680064,Y|=Z.flags&14680064,Z.return=x,Z=Z.sibling;else for(Z=x.child;Z!==null;)O|=Z.lanes|Z.childLanes,Y|=Z.subtreeFlags,Y|=Z.flags,Z.return=x,Z=Z.sibling;return x.subtreeFlags|=Y,x.childLanes=O,C}function BR(x,C,O){var Y=C.pendingProps;switch(Iy(C),C.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dr(C),null;case 1:return jr(C.type)&&qp(),dr(C),null;case 3:return Y=C.stateNode,Ou(),Zi(Fr),Zi(ur),Gy(),Y.pendingContext&&(Y.context=Y.pendingContext,Y.pendingContext=null),(x===null||x.child===null)&&(eg(C)?C.flags|=4:x===null||x.memoizedState.isDehydrated&&(C.flags&256)===0||(C.flags|=1024,qo!==null&&(kx(qo),qo=null))),fx(x,C),dr(C),null;case 5:Uy(C);var Z=dc(ud.current);if(O=C.type,x!==null&&C.stateNode!=null)lC(x,C,O,Y,Z),x.ref!==C.ref&&(C.flags|=512,C.flags|=2097152);else{if(!Y){if(C.stateNode===null)throw Error(s(166));return dr(C),null}if(x=dc(ma.current),eg(C)){Y=C.stateNode,O=C.type;var se=C.memoizedProps;switch(Y[ga]=C,Y[rd]=se,x=(C.mode&1)!==0,O){case"dialog":ni("cancel",Y),ni("close",Y);break;case"iframe":case"object":case"embed":ni("load",Y);break;case"video":case"audio":for(Z=0;Z<cr.length;Z++)ni(cr[Z],Y);break;case"source":ni("error",Y);break;case"img":case"image":case"link":ni("error",Y),ni("load",Y);break;case"details":ni("toggle",Y);break;case"input":ut(Y,se),ni("invalid",Y);break;case"select":Y._wrapperState={wasMultiple:!!se.multiple},ni("invalid",Y);break;case"textarea":nn(Y,se),ni("invalid",Y)}Te(O,se),Z=null;for(var ve in se)if(se.hasOwnProperty(ve)){var Le=se[ve];ve==="children"?typeof Le=="string"?Y.textContent!==Le&&(se.suppressHydrationWarning!==!0&&Up(Y.textContent,Le,x),Z=["children",Le]):typeof Le=="number"&&Y.textContent!==""+Le&&(se.suppressHydrationWarning!==!0&&Up(Y.textContent,Le,x),Z=["children",""+Le]):a.hasOwnProperty(ve)&&Le!=null&&ve==="onScroll"&&ni("scroll",Y)}switch(O){case"input":De(Y),Ct(Y,se,!0);break;case"textarea":De(Y),at(Y);break;case"select":case"option":break;default:typeof se.onClick=="function"&&(Y.onclick=Xp)}Y=Z,C.updateQueue=Y,Y!==null&&(C.flags|=4)}else{ve=Z.nodeType===9?Z:Z.ownerDocument,x==="http://www.w3.org/1999/xhtml"&&(x=xt(O)),x==="http://www.w3.org/1999/xhtml"?O==="script"?(x=ve.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild)):typeof Y.is=="string"?x=ve.createElement(O,{is:Y.is}):(x=ve.createElement(O),O==="select"&&(ve=x,Y.multiple?ve.multiple=!0:Y.size&&(ve.size=Y.size))):x=ve.createElementNS(x,O),x[ga]=C,x[rd]=Y,aC(x,C,!1,!1),C.stateNode=x;e:{switch(ve=Nn(O,Y),O){case"dialog":ni("cancel",x),ni("close",x),Z=Y;break;case"iframe":case"object":case"embed":ni("load",x),Z=Y;break;case"video":case"audio":for(Z=0;Z<cr.length;Z++)ni(cr[Z],x);Z=Y;break;case"source":ni("error",x),Z=Y;break;case"img":case"image":case"link":ni("error",x),ni("load",x),Z=Y;break;case"details":ni("toggle",x),Z=Y;break;case"input":ut(x,Y),Z=Qe(x,Y),ni("invalid",x);break;case"option":Z=Y;break;case"select":x._wrapperState={wasMultiple:!!Y.multiple},Z=Se({},Y,{value:void 0}),ni("invalid",x);break;case"textarea":nn(x,Y),Z=Ut(x,Y),ni("invalid",x);break;default:Z=Y}Te(O,Z),Le=Z;for(se in Le)if(Le.hasOwnProperty(se)){var We=Le[se];se==="style"?an(x,We):se==="dangerouslySetInnerHTML"?(We=We?We.__html:void 0,We!=null&&rt(x,We)):se==="children"?typeof We=="string"?(O!=="textarea"||We!=="")&&Tt(x,We):typeof We=="number"&&Tt(x,""+We):se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&se!=="autoFocus"&&(a.hasOwnProperty(se)?We!=null&&se==="onScroll"&&ni("scroll",x):We!=null&&z(x,se,We,ve))}switch(O){case"input":De(x),Ct(x,Y,!1);break;case"textarea":De(x),at(x);break;case"option":Y.value!=null&&x.setAttribute("value",""+Ue(Y.value));break;case"select":x.multiple=!!Y.multiple,se=Y.value,se!=null?yt(x,!!Y.multiple,se,!1):Y.defaultValue!=null&&yt(x,!!Y.multiple,Y.defaultValue,!0);break;default:typeof Z.onClick=="function"&&(x.onclick=Xp)}switch(O){case"button":case"input":case"select":case"textarea":Y=!!Y.autoFocus;break e;case"img":Y=!0;break e;default:Y=!1}}Y&&(C.flags|=4)}C.ref!==null&&(C.flags|=512,C.flags|=2097152)}return dr(C),null;case 6:if(x&&C.stateNode!=null)cC(x,C,x.memoizedProps,Y);else{if(typeof Y!="string"&&C.stateNode===null)throw Error(s(166));if(O=dc(ud.current),dc(ma.current),eg(C)){if(Y=C.stateNode,O=C.memoizedProps,Y[ga]=C,(se=Y.nodeValue!==O)&&(x=eo,x!==null))switch(x.tag){case 3:Up(Y.nodeValue,O,(x.mode&1)!==0);break;case 5:x.memoizedProps.suppressHydrationWarning!==!0&&Up(Y.nodeValue,O,(x.mode&1)!==0)}se&&(C.flags|=4)}else Y=(O.nodeType===9?O:O.ownerDocument).createTextNode(Y),Y[ga]=C,C.stateNode=Y}return dr(C),null;case 13:if(Zi(os),Y=C.memoizedState,x===null||x.memoizedState!==null&&x.memoizedState.dehydrated!==null){if(Qi&&to!==null&&(C.mode&1)!==0&&(C.flags&128)===0)dS(),Eu(),C.flags|=98560,se=!1;else if(se=eg(C),Y!==null&&Y.dehydrated!==null){if(x===null){if(!se)throw Error(s(318));if(se=C.memoizedState,se=se!==null?se.dehydrated:null,!se)throw Error(s(317));se[ga]=C}else Eu(),(C.flags&128)===0&&(C.memoizedState=null),C.flags|=4;dr(C),se=!1}else qo!==null&&(kx(qo),qo=null),se=!0;if(!se)return C.flags&65536?C:null}return(C.flags&128)!==0?(C.lanes=O,C):(Y=Y!==null,Y!==(x!==null&&x.memoizedState!==null)&&Y&&(C.child.flags|=8192,(C.mode&1)!==0&&(x===null||(os.current&1)!==0?zs===0&&(zs=3):Tx())),C.updateQueue!==null&&(C.flags|=4),dr(C),null);case 4:return Ou(),fx(x,C),x===null&&id(C.stateNode.containerInfo),dr(C),null;case 10:return Vy(C.type._context),dr(C),null;case 17:return jr(C.type)&&qp(),dr(C),null;case 19:if(Zi(os),se=C.memoizedState,se===null)return dr(C),null;if(Y=(C.flags&128)!==0,ve=se.rendering,ve===null)if(Y)gd(se,!1);else{if(zs!==0||x!==null&&(x.flags&128)!==0)for(x=C.child;x!==null;){if(ve=og(x),ve!==null){for(C.flags|=128,gd(se,!1),Y=ve.updateQueue,Y!==null&&(C.updateQueue=Y,C.flags|=4),C.subtreeFlags=0,Y=O,O=C.child;O!==null;)se=O,x=Y,se.flags&=14680066,ve=se.alternate,ve===null?(se.childLanes=0,se.lanes=x,se.child=null,se.subtreeFlags=0,se.memoizedProps=null,se.memoizedState=null,se.updateQueue=null,se.dependencies=null,se.stateNode=null):(se.childLanes=ve.childLanes,se.lanes=ve.lanes,se.child=ve.child,se.subtreeFlags=0,se.deletions=null,se.memoizedProps=ve.memoizedProps,se.memoizedState=ve.memoizedState,se.updateQueue=ve.updateQueue,se.type=ve.type,x=ve.dependencies,se.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext}),O=O.sibling;return Ui(os,os.current&1|2),C.child}x=x.sibling}se.tail!==null&&ss()>_u&&(C.flags|=128,Y=!0,gd(se,!1),C.lanes=4194304)}else{if(!Y)if(x=og(ve),x!==null){if(C.flags|=128,Y=!0,O=x.updateQueue,O!==null&&(C.updateQueue=O,C.flags|=4),gd(se,!0),se.tail===null&&se.tailMode==="hidden"&&!ve.alternate&&!Qi)return dr(C),null}else 2*ss()-se.renderingStartTime>_u&&O!==1073741824&&(C.flags|=128,Y=!0,gd(se,!1),C.lanes=4194304);se.isBackwards?(ve.sibling=C.child,C.child=ve):(O=se.last,O!==null?O.sibling=ve:C.child=ve,se.last=ve)}return se.tail!==null?(C=se.tail,se.rendering=C,se.tail=C.sibling,se.renderingStartTime=ss(),C.sibling=null,O=os.current,Ui(os,Y?O&1|2:O&1),C):(dr(C),null);case 22:case 23:return Mx(),Y=C.memoizedState!==null,x!==null&&x.memoizedState!==null!==Y&&(C.flags|=8192),Y&&(C.mode&1)!==0?(no&1073741824)!==0&&(dr(C),C.subtreeFlags&6&&(C.flags|=8192)):dr(C),null;case 24:return null;case 25:return null}throw Error(s(156,C.tag))}function VR(x,C){switch(Iy(C),C.tag){case 1:return jr(C.type)&&qp(),x=C.flags,x&65536?(C.flags=x&-65537|128,C):null;case 3:return Ou(),Zi(Fr),Zi(ur),Gy(),x=C.flags,(x&65536)!==0&&(x&128)===0?(C.flags=x&-65537|128,C):null;case 5:return Uy(C),null;case 13:if(Zi(os),x=C.memoizedState,x!==null&&x.dehydrated!==null){if(C.alternate===null)throw Error(s(340));Eu()}return x=C.flags,x&65536?(C.flags=x&-65537|128,C):null;case 19:return Zi(os),null;case 4:return Ou(),null;case 10:return Vy(C.type._context),null;case 22:case 23:return Mx(),null;case 24:return null;default:return null}}var gg=!1,fr=!1,HR=typeof WeakSet=="function"?WeakSet:Set,mn=null;function Fu(x,C){var O=x.ref;if(O!==null)if(typeof O=="function")try{O(null)}catch(Y){ds(x,C,Y)}else O.current=null}function px(x,C,O){try{O()}catch(Y){ds(x,C,Y)}}var uC=!1;function WR(x,C){if(My=Fa,x=At(),wt(x)){if("selectionStart"in x)var O={start:x.selectionStart,end:x.selectionEnd};else e:{O=(O=x.ownerDocument)&&O.defaultView||window;var Y=O.getSelection&&O.getSelection();if(Y&&Y.rangeCount!==0){O=Y.anchorNode;var Z=Y.anchorOffset,se=Y.focusNode;Y=Y.focusOffset;try{O.nodeType,se.nodeType}catch{O=null;break e}var ve=0,Le=-1,We=-1,lt=0,jt=0,$t=x,Ft=null;t:for(;;){for(var fn;$t!==O||Z!==0&&$t.nodeType!==3||(Le=ve+Z),$t!==se||Y!==0&&$t.nodeType!==3||(We=ve+Y),$t.nodeType===3&&(ve+=$t.nodeValue.length),(fn=$t.firstChild)!==null;)Ft=$t,$t=fn;for(;;){if($t===x)break t;if(Ft===O&&++lt===Z&&(Le=ve),Ft===se&&++jt===Y&&(We=ve),(fn=$t.nextSibling)!==null)break;$t=Ft,Ft=$t.parentNode}$t=fn}O=Le===-1||We===-1?null:{start:Le,end:We}}else O=null}O=O||{start:0,end:0}}else O=null;for(Ty={focusedElem:x,selectionRange:O},Fa=!1,mn=C;mn!==null;)if(C=mn,x=C.child,(C.subtreeFlags&1028)!==0&&x!==null)x.return=C,mn=x;else for(;mn!==null;){C=mn;try{var xn=C.alternate;if((C.flags&1024)!==0)switch(C.tag){case 0:case 11:case 15:break;case 1:if(xn!==null){var Cn=xn.memoizedProps,bs=xn.memoizedState,et=C.stateNode,Ge=et.getSnapshotBeforeUpdate(C.elementType===C.type?Cn:Ko(C.type,Cn),bs);et.__reactInternalSnapshotBeforeUpdate=Ge}break;case 3:var tt=C.stateNode.containerInfo;tt.nodeType===1?tt.textContent="":tt.nodeType===9&&tt.documentElement&&tt.removeChild(tt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(Gt){ds(C,C.return,Gt)}if(x=C.sibling,x!==null){x.return=C.return,mn=x;break}mn=C.return}return xn=uC,uC=!1,xn}function md(x,C,O){var Y=C.updateQueue;if(Y=Y!==null?Y.lastEffect:null,Y!==null){var Z=Y=Y.next;do{if((Z.tag&x)===x){var se=Z.destroy;Z.destroy=void 0,se!==void 0&&px(C,O,se)}Z=Z.next}while(Z!==Y)}}function mg(x,C){if(C=C.updateQueue,C=C!==null?C.lastEffect:null,C!==null){var O=C=C.next;do{if((O.tag&x)===x){var Y=O.create;O.destroy=Y()}O=O.next}while(O!==C)}}function gx(x){var C=x.ref;if(C!==null){var O=x.stateNode;switch(x.tag){case 5:x=O;break;default:x=O}typeof C=="function"?C(x):C.current=x}}function hC(x){var C=x.alternate;C!==null&&(x.alternate=null,hC(C)),x.child=null,x.deletions=null,x.sibling=null,x.tag===5&&(C=x.stateNode,C!==null&&(delete C[ga],delete C[rd],delete C[Ny],delete C[PR],delete C[MR])),x.stateNode=null,x.return=null,x.dependencies=null,x.memoizedProps=null,x.memoizedState=null,x.pendingProps=null,x.stateNode=null,x.updateQueue=null}function dC(x){return x.tag===5||x.tag===3||x.tag===4}function fC(x){e:for(;;){for(;x.sibling===null;){if(x.return===null||dC(x.return))return null;x=x.return}for(x.sibling.return=x.return,x=x.sibling;x.tag!==5&&x.tag!==6&&x.tag!==18;){if(x.flags&2||x.child===null||x.tag===4)continue e;x.child.return=x,x=x.child}if(!(x.flags&2))return x.stateNode}}function mx(x,C,O){var Y=x.tag;if(Y===5||Y===6)x=x.stateNode,C?O.nodeType===8?O.parentNode.insertBefore(x,C):O.insertBefore(x,C):(O.nodeType===8?(C=O.parentNode,C.insertBefore(x,O)):(C=O,C.appendChild(x)),O=O._reactRootContainer,O!=null||C.onclick!==null||(C.onclick=Xp));else if(Y!==4&&(x=x.child,x!==null))for(mx(x,C,O),x=x.sibling;x!==null;)mx(x,C,O),x=x.sibling}function yx(x,C,O){var Y=x.tag;if(Y===5||Y===6)x=x.stateNode,C?O.insertBefore(x,C):O.appendChild(x);else if(Y!==4&&(x=x.child,x!==null))for(yx(x,C,O),x=x.sibling;x!==null;)yx(x,C,O),x=x.sibling}var Qs=null,Zo=!1;function Ml(x,C,O){for(O=O.child;O!==null;)pC(x,C,O),O=O.sibling}function pC(x,C,O){if(ei&&typeof ei.onCommitFiberUnmount=="function")try{ei.onCommitFiberUnmount(cl,O)}catch{}switch(O.tag){case 5:fr||Fu(O,C);case 6:var Y=Qs,Z=Zo;Qs=null,Ml(x,C,O),Qs=Y,Zo=Z,Qs!==null&&(Zo?(x=Qs,O=O.stateNode,x.nodeType===8?x.parentNode.removeChild(O):x.removeChild(O)):Qs.removeChild(O.stateNode));break;case 18:Qs!==null&&(Zo?(x=Qs,O=O.stateNode,x.nodeType===8?Ey(x.parentNode,O):x.nodeType===1&&Ey(x,O),Ql(x)):Ey(Qs,O.stateNode));break;case 4:Y=Qs,Z=Zo,Qs=O.stateNode.containerInfo,Zo=!0,Ml(x,C,O),Qs=Y,Zo=Z;break;case 0:case 11:case 14:case 15:if(!fr&&(Y=O.updateQueue,Y!==null&&(Y=Y.lastEffect,Y!==null))){Z=Y=Y.next;do{var se=Z,ve=se.destroy;se=se.tag,ve!==void 0&&((se&2)!==0||(se&4)!==0)&&px(O,C,ve),Z=Z.next}while(Z!==Y)}Ml(x,C,O);break;case 1:if(!fr&&(Fu(O,C),Y=O.stateNode,typeof Y.componentWillUnmount=="function"))try{Y.props=O.memoizedProps,Y.state=O.memoizedState,Y.componentWillUnmount()}catch(Le){ds(O,C,Le)}Ml(x,C,O);break;case 21:Ml(x,C,O);break;case 22:O.mode&1?(fr=(Y=fr)||O.memoizedState!==null,Ml(x,C,O),fr=Y):Ml(x,C,O);break;default:Ml(x,C,O)}}function gC(x){var C=x.updateQueue;if(C!==null){x.updateQueue=null;var O=x.stateNode;O===null&&(O=x.stateNode=new HR),C.forEach(function(Y){var Z=JR.bind(null,x,Y);O.has(Y)||(O.add(Y),Y.then(Z,Z))})}}function Jo(x,C){var O=C.deletions;if(O!==null)for(var Y=0;Y<O.length;Y++){var Z=O[Y];try{var se=x,ve=C,Le=ve;e:for(;Le!==null;){switch(Le.tag){case 5:Qs=Le.stateNode,Zo=!1;break e;case 3:Qs=Le.stateNode.containerInfo,Zo=!0;break e;case 4:Qs=Le.stateNode.containerInfo,Zo=!0;break e}Le=Le.return}if(Qs===null)throw Error(s(160));pC(se,ve,Z),Qs=null,Zo=!1;var We=Z.alternate;We!==null&&(We.return=null),Z.return=null}catch(lt){ds(Z,C,lt)}}if(C.subtreeFlags&12854)for(C=C.child;C!==null;)mC(C,x),C=C.sibling}function mC(x,C){var O=x.alternate,Y=x.flags;switch(x.tag){case 0:case 11:case 14:case 15:if(Jo(C,x),xa(x),Y&4){try{md(3,x,x.return),mg(3,x)}catch(Cn){ds(x,x.return,Cn)}try{md(5,x,x.return)}catch(Cn){ds(x,x.return,Cn)}}break;case 1:Jo(C,x),xa(x),Y&512&&O!==null&&Fu(O,O.return);break;case 5:if(Jo(C,x),xa(x),Y&512&&O!==null&&Fu(O,O.return),x.flags&32){var Z=x.stateNode;try{Tt(Z,"")}catch(Cn){ds(x,x.return,Cn)}}if(Y&4&&(Z=x.stateNode,Z!=null)){var se=x.memoizedProps,ve=O!==null?O.memoizedProps:se,Le=x.type,We=x.updateQueue;if(x.updateQueue=null,We!==null)try{Le==="input"&&se.type==="radio"&&se.name!=null&&Ht(Z,se),Nn(Le,ve);var lt=Nn(Le,se);for(ve=0;ve<We.length;ve+=2){var jt=We[ve],$t=We[ve+1];jt==="style"?an(Z,$t):jt==="dangerouslySetInnerHTML"?rt(Z,$t):jt==="children"?Tt(Z,$t):z(Z,jt,$t,lt)}switch(Le){case"input":un(Z,se);break;case"textarea":Ve(Z,se);break;case"select":var Ft=Z._wrapperState.wasMultiple;Z._wrapperState.wasMultiple=!!se.multiple;var fn=se.value;fn!=null?yt(Z,!!se.multiple,fn,!1):Ft!==!!se.multiple&&(se.defaultValue!=null?yt(Z,!!se.multiple,se.defaultValue,!0):yt(Z,!!se.multiple,se.multiple?[]:"",!1))}Z[rd]=se}catch(Cn){ds(x,x.return,Cn)}}break;case 6:if(Jo(C,x),xa(x),Y&4){if(x.stateNode===null)throw Error(s(162));Z=x.stateNode,se=x.memoizedProps;try{Z.nodeValue=se}catch(Cn){ds(x,x.return,Cn)}}break;case 3:if(Jo(C,x),xa(x),Y&4&&O!==null&&O.memoizedState.isDehydrated)try{Ql(C.containerInfo)}catch(Cn){ds(x,x.return,Cn)}break;case 4:Jo(C,x),xa(x);break;case 13:Jo(C,x),xa(x),Z=x.child,Z.flags&8192&&(se=Z.memoizedState!==null,Z.stateNode.isHidden=se,!se||Z.alternate!==null&&Z.alternate.memoizedState!==null||(bx=ss())),Y&4&&gC(x);break;case 22:if(jt=O!==null&&O.memoizedState!==null,x.mode&1?(fr=(lt=fr)||jt,Jo(C,x),fr=lt):Jo(C,x),xa(x),Y&8192){if(lt=x.memoizedState!==null,(x.stateNode.isHidden=lt)&&!jt&&(x.mode&1)!==0)for(mn=x,jt=x.child;jt!==null;){for($t=mn=jt;mn!==null;){switch(Ft=mn,fn=Ft.child,Ft.tag){case 0:case 11:case 14:case 15:md(4,Ft,Ft.return);break;case 1:Fu(Ft,Ft.return);var xn=Ft.stateNode;if(typeof xn.componentWillUnmount=="function"){Y=Ft,O=Ft.return;try{C=Y,xn.props=C.memoizedProps,xn.state=C.memoizedState,xn.componentWillUnmount()}catch(Cn){ds(Y,O,Cn)}}break;case 5:Fu(Ft,Ft.return);break;case 22:if(Ft.memoizedState!==null){vC($t);continue}}fn!==null?(fn.return=Ft,mn=fn):vC($t)}jt=jt.sibling}e:for(jt=null,$t=x;;){if($t.tag===5){if(jt===null){jt=$t;try{Z=$t.stateNode,lt?(se=Z.style,typeof se.setProperty=="function"?se.setProperty("display","none","important"):se.display="none"):(Le=$t.stateNode,We=$t.memoizedProps.style,ve=We!=null&&We.hasOwnProperty("display")?We.display:null,Le.style.display=Rt("display",ve))}catch(Cn){ds(x,x.return,Cn)}}}else if($t.tag===6){if(jt===null)try{$t.stateNode.nodeValue=lt?"":$t.memoizedProps}catch(Cn){ds(x,x.return,Cn)}}else if(($t.tag!==22&&$t.tag!==23||$t.memoizedState===null||$t===x)&&$t.child!==null){$t.child.return=$t,$t=$t.child;continue}if($t===x)break e;for(;$t.sibling===null;){if($t.return===null||$t.return===x)break e;jt===$t&&(jt=null),$t=$t.return}jt===$t&&(jt=null),$t.sibling.return=$t.return,$t=$t.sibling}}break;case 19:Jo(C,x),xa(x),Y&4&&gC(x);break;case 21:break;default:Jo(C,x),xa(x)}}function xa(x){var C=x.flags;if(C&2){try{e:{for(var O=x.return;O!==null;){if(dC(O)){var Y=O;break e}O=O.return}throw Error(s(160))}switch(Y.tag){case 5:var Z=Y.stateNode;Y.flags&32&&(Tt(Z,""),Y.flags&=-33);var se=fC(x);yx(x,se,Z);break;case 3:case 4:var ve=Y.stateNode.containerInfo,Le=fC(x);mx(x,Le,ve);break;default:throw Error(s(161))}}catch(We){ds(x,x.return,We)}x.flags&=-3}C&4096&&(x.flags&=-4097)}function $R(x,C,O){mn=x,yC(x)}function yC(x,C,O){for(var Y=(x.mode&1)!==0;mn!==null;){var Z=mn,se=Z.child;if(Z.tag===22&&Y){var ve=Z.memoizedState!==null||gg;if(!ve){var Le=Z.alternate,We=Le!==null&&Le.memoizedState!==null||fr;Le=gg;var lt=fr;if(gg=ve,(fr=We)&&!lt)for(mn=Z;mn!==null;)ve=mn,We=ve.child,ve.tag===22&&ve.memoizedState!==null?bC(Z):We!==null?(We.return=ve,mn=We):bC(Z);for(;se!==null;)mn=se,yC(se),se=se.sibling;mn=Z,gg=Le,fr=lt}xC(x)}else(Z.subtreeFlags&8772)!==0&&se!==null?(se.return=Z,mn=se):xC(x)}}function xC(x){for(;mn!==null;){var C=mn;if((C.flags&8772)!==0){var O=C.alternate;try{if((C.flags&8772)!==0)switch(C.tag){case 0:case 11:case 15:fr||mg(5,C);break;case 1:var Y=C.stateNode;if(C.flags&4&&!fr)if(O===null)Y.componentDidMount();else{var Z=C.elementType===C.type?O.memoizedProps:Ko(C.type,O.memoizedProps);Y.componentDidUpdate(Z,O.memoizedState,Y.__reactInternalSnapshotBeforeUpdate)}var se=C.updateQueue;se!==null&&vS(C,se,Y);break;case 3:var ve=C.updateQueue;if(ve!==null){if(O=null,C.child!==null)switch(C.child.tag){case 5:O=C.child.stateNode;break;case 1:O=C.child.stateNode}vS(C,ve,O)}break;case 5:var Le=C.stateNode;if(O===null&&C.flags&4){O=Le;var We=C.memoizedProps;switch(C.type){case"button":case"input":case"select":case"textarea":We.autoFocus&&O.focus();break;case"img":We.src&&(O.src=We.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(C.memoizedState===null){var lt=C.alternate;if(lt!==null){var jt=lt.memoizedState;if(jt!==null){var $t=jt.dehydrated;$t!==null&&Ql($t)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}fr||C.flags&512&&gx(C)}catch(Ft){ds(C,C.return,Ft)}}if(C===x){mn=null;break}if(O=C.sibling,O!==null){O.return=C.return,mn=O;break}mn=C.return}}function vC(x){for(;mn!==null;){var C=mn;if(C===x){mn=null;break}var O=C.sibling;if(O!==null){O.return=C.return,mn=O;break}mn=C.return}}function bC(x){for(;mn!==null;){var C=mn;try{switch(C.tag){case 0:case 11:case 15:var O=C.return;try{mg(4,C)}catch(We){ds(C,O,We)}break;case 1:var Y=C.stateNode;if(typeof Y.componentDidMount=="function"){var Z=C.return;try{Y.componentDidMount()}catch(We){ds(C,Z,We)}}var se=C.return;try{gx(C)}catch(We){ds(C,se,We)}break;case 5:var ve=C.return;try{gx(C)}catch(We){ds(C,ve,We)}}}catch(We){ds(C,C.return,We)}if(C===x){mn=null;break}var Le=C.sibling;if(Le!==null){Le.return=C.return,mn=Le;break}mn=C.return}}var YR=Math.ceil,yg=W.ReactCurrentDispatcher,xx=W.ReactCurrentOwner,To=W.ReactCurrentBatchConfig,di=0,Us=null,Es=null,er=0,no=0,ju=wl(0),zs=0,yd=null,pc=0,xg=0,vx=0,xd=null,zr=null,bx=0,_u=1/0,Ua=null,vg=!1,wx=null,Tl=null,bg=!1,Al=null,wg=0,vd=0,Sx=null,Sg=-1,Cg=0;function Sr(){return(di&6)!==0?ss():Sg!==-1?Sg:Sg=ss()}function Dl(x){return(x.mode&1)===0?1:(di&2)!==0&&er!==0?er&-er:AR.transition!==null?(Cg===0&&(Cg=vo()),Cg):(x=yi,x!==0||(x=window.event,x=x===void 0?16:mu(x.type)),x)}function Qo(x,C,O,Y){if(50<vd)throw vd=0,Sx=null,Error(s(185));Pn(x,O,Y),((di&2)===0||x!==Us)&&(x===Us&&((di&2)===0&&(xg|=O),zs===4&&El(x,er)),Br(x,Y),O===1&&di===0&&(C.mode&1)===0&&(_u=ss()+500,Zp&&Cl()))}function Br(x,C){var O=x.callbackNode;wy(x,C);var Y=hl(x,x===Us?er:0);if(Y===0)O!==null&&Op(O),x.callbackNode=null,x.callbackPriority=0;else if(C=Y&-Y,x.callbackPriority!==C){if(O!=null&&Op(O),C===1)x.tag===0?TR(SC.bind(null,x)):aS(SC.bind(null,x)),CR(function(){(di&6)===0&&Cl()}),O=null;else{switch(Lt(Y)){case 1:O=lu;break;case 4:O=Je;break;case 16:O=vr;break;case 536870912:O=js;break;default:O=vr}O=EC(O,wC.bind(null,x))}x.callbackPriority=C,x.callbackNode=O}}function wC(x,C){if(Sg=-1,Cg=0,(di&6)!==0)throw Error(s(327));var O=x.callbackNode;if(zu()&&x.callbackNode!==O)return null;var Y=hl(x,x===Us?er:0);if(Y===0)return null;if((Y&30)!==0||(Y&x.expiredLanes)!==0||C)C=kg(x,Y);else{C=Y;var Z=di;di|=2;var se=kC();(Us!==x||er!==C)&&(Ua=null,_u=ss()+500,mc(x,C));do try{GR();break}catch(Le){CC(x,Le)}while(!0);By(),yg.current=se,di=Z,Es!==null?C=0:(Us=null,er=0,C=zs)}if(C!==0){if(C===2&&(Z=Gh(x),Z!==0&&(Y=Z,C=Cx(x,Z))),C===1)throw O=yd,mc(x,0),El(x,Y),Br(x,ss()),O;if(C===6)El(x,Y);else{if(Z=x.current.alternate,(Y&30)===0&&!UR(Z)&&(C=kg(x,Y),C===2&&(se=Gh(x),se!==0&&(Y=se,C=Cx(x,se))),C===1))throw O=yd,mc(x,0),El(x,Y),Br(x,ss()),O;switch(x.finishedWork=Z,x.finishedLanes=Y,C){case 0:case 1:throw Error(s(345));case 2:yc(x,zr,Ua);break;case 3:if(El(x,Y),(Y&130023424)===Y&&(C=bx+500-ss(),10<C)){if(hl(x,0)!==0)break;if(Z=x.suspendedLanes,(Z&Y)!==Y){Sr(),x.pingedLanes|=x.suspendedLanes&Z;break}x.timeoutHandle=Dy(yc.bind(null,x,zr,Ua),C);break}yc(x,zr,Ua);break;case 4:if(El(x,Y),(Y&4194240)===Y)break;for(C=x.eventTimes,Z=-1;0<Y;){var ve=31-br(Y);se=1<<ve,ve=C[ve],ve>Z&&(Z=ve),Y&=~se}if(Y=Z,Y=ss()-Y,Y=(120>Y?120:480>Y?480:1080>Y?1080:1920>Y?1920:3e3>Y?3e3:4320>Y?4320:1960*YR(Y/1960))-Y,10<Y){x.timeoutHandle=Dy(yc.bind(null,x,zr,Ua),Y);break}yc(x,zr,Ua);break;case 5:yc(x,zr,Ua);break;default:throw Error(s(329))}}}return Br(x,ss()),x.callbackNode===O?wC.bind(null,x):null}function Cx(x,C){var O=xd;return x.current.memoizedState.isDehydrated&&(mc(x,C).flags|=256),x=kg(x,C),x!==2&&(C=zr,zr=O,C!==null&&kx(C)),x}function kx(x){zr===null?zr=x:zr.push.apply(zr,x)}function UR(x){for(var C=x;;){if(C.flags&16384){var O=C.updateQueue;if(O!==null&&(O=O.stores,O!==null))for(var Y=0;Y<O.length;Y++){var Z=O[Y],se=Z.getSnapshot;Z=Z.value;try{if(!He(se(),Z))return!1}catch{return!1}}}if(O=C.child,C.subtreeFlags&16384&&O!==null)O.return=C,C=O;else{if(C===x)break;for(;C.sibling===null;){if(C.return===null||C.return===x)return!0;C=C.return}C.sibling.return=C.return,C=C.sibling}}return!0}function El(x,C){for(C&=~vx,C&=~xg,x.suspendedLanes|=C,x.pingedLanes&=~C,x=x.expirationTimes;0<C;){var O=31-br(C),Y=1<<O;x[O]=-1,C&=~Y}}function SC(x){if((di&6)!==0)throw Error(s(327));zu();var C=hl(x,0);if((C&1)===0)return Br(x,ss()),null;var O=kg(x,C);if(x.tag!==0&&O===2){var Y=Gh(x);Y!==0&&(C=Y,O=Cx(x,Y))}if(O===1)throw O=yd,mc(x,0),El(x,C),Br(x,ss()),O;if(O===6)throw Error(s(345));return x.finishedWork=x.current.alternate,x.finishedLanes=C,yc(x,zr,Ua),Br(x,ss()),null}function Px(x,C){var O=di;di|=1;try{return x(C)}finally{di=O,di===0&&(_u=ss()+500,Zp&&Cl())}}function gc(x){Al!==null&&Al.tag===0&&(di&6)===0&&zu();var C=di;di|=1;var O=To.transition,Y=yi;try{if(To.transition=null,yi=1,x)return x()}finally{yi=Y,To.transition=O,di=C,(di&6)===0&&Cl()}}function Mx(){no=ju.current,Zi(ju)}function mc(x,C){x.finishedWork=null,x.finishedLanes=0;var O=x.timeoutHandle;if(O!==-1&&(x.timeoutHandle=-1,SR(O)),Es!==null)for(O=Es.return;O!==null;){var Y=O;switch(Iy(Y),Y.tag){case 1:Y=Y.type.childContextTypes,Y!=null&&qp();break;case 3:Ou(),Zi(Fr),Zi(ur),Gy();break;case 5:Uy(Y);break;case 4:Ou();break;case 13:Zi(os);break;case 19:Zi(os);break;case 10:Vy(Y.type._context);break;case 22:case 23:Mx()}O=O.return}if(Us=x,Es=x=Nl(x.current,null),er=no=C,zs=0,yd=null,vx=xg=pc=0,zr=xd=null,hc!==null){for(C=0;C<hc.length;C++)if(O=hc[C],Y=O.interleaved,Y!==null){O.interleaved=null;var Z=Y.next,se=O.pending;if(se!==null){var ve=se.next;se.next=Z,Y.next=ve}O.pending=Y}hc=null}return x}function CC(x,C){do{var O=Es;try{if(By(),ag.current=hg,lg){for(var Y=as.memoizedState;Y!==null;){var Z=Y.queue;Z!==null&&(Z.pending=null),Y=Y.next}lg=!1}if(fc=0,Ys=_s=as=null,hd=!1,dd=0,xx.current=null,O===null||O.return===null){zs=1,yd=C,Es=null;break}e:{var se=x,ve=O.return,Le=O,We=C;if(C=er,Le.flags|=32768,We!==null&&typeof We=="object"&&typeof We.then=="function"){var lt=We,jt=Le,$t=jt.tag;if((jt.mode&1)===0&&($t===0||$t===11||$t===15)){var Ft=jt.alternate;Ft?(jt.updateQueue=Ft.updateQueue,jt.memoizedState=Ft.memoizedState,jt.lanes=Ft.lanes):(jt.updateQueue=null,jt.memoizedState=null)}var fn=GS(ve);if(fn!==null){fn.flags&=-257,qS(fn,ve,Le,se,C),fn.mode&1&&XS(se,lt,C),C=fn,We=lt;var xn=C.updateQueue;if(xn===null){var Cn=new Set;Cn.add(We),C.updateQueue=Cn}else xn.add(We);break e}else{if((C&1)===0){XS(se,lt,C),Tx();break e}We=Error(s(426))}}else if(Qi&&Le.mode&1){var bs=GS(ve);if(bs!==null){(bs.flags&65536)===0&&(bs.flags|=256),qS(bs,ve,Le,se,C),_y(Iu(We,Le));break e}}se=We=Iu(We,Le),zs!==4&&(zs=2),xd===null?xd=[se]:xd.push(se),se=ve;do{switch(se.tag){case 3:se.flags|=65536,C&=-C,se.lanes|=C;var et=YS(se,We,C);xS(se,et);break e;case 1:Le=We;var Ge=se.type,tt=se.stateNode;if((se.flags&128)===0&&(typeof Ge.getDerivedStateFromError=="function"||tt!==null&&typeof tt.componentDidCatch=="function"&&(Tl===null||!Tl.has(tt)))){se.flags|=65536,C&=-C,se.lanes|=C;var Gt=US(se,Le,C);xS(se,Gt);break e}}se=se.return}while(se!==null)}MC(O)}catch(Tn){C=Tn,Es===O&&O!==null&&(Es=O=O.return);continue}break}while(!0)}function kC(){var x=yg.current;return yg.current=hg,x===null?hg:x}function Tx(){(zs===0||zs===3||zs===2)&&(zs=4),Us===null||(pc&268435455)===0&&(xg&268435455)===0||El(Us,er)}function kg(x,C){var O=di;di|=2;var Y=kC();(Us!==x||er!==C)&&(Ua=null,mc(x,C));do try{XR();break}catch(Z){CC(x,Z)}while(!0);if(By(),di=O,yg.current=Y,Es!==null)throw Error(s(261));return Us=null,er=0,zs}function XR(){for(;Es!==null;)PC(Es)}function GR(){for(;Es!==null&&!xy();)PC(Es)}function PC(x){var C=DC(x.alternate,x,no);x.memoizedProps=x.pendingProps,C===null?MC(x):Es=C,xx.current=null}function MC(x){var C=x;do{var O=C.alternate;if(x=C.return,(C.flags&32768)===0){if(O=BR(O,C,no),O!==null){Es=O;return}}else{if(O=VR(O,C),O!==null){O.flags&=32767,Es=O;return}if(x!==null)x.flags|=32768,x.subtreeFlags=0,x.deletions=null;else{zs=6,Es=null;return}}if(C=C.sibling,C!==null){Es=C;return}Es=C=x}while(C!==null);zs===0&&(zs=5)}function yc(x,C,O){var Y=yi,Z=To.transition;try{To.transition=null,yi=1,qR(x,C,O,Y)}finally{To.transition=Z,yi=Y}return null}function qR(x,C,O,Y){do zu();while(Al!==null);if((di&6)!==0)throw Error(s(327));O=x.finishedWork;var Z=x.finishedLanes;if(O===null)return null;if(x.finishedWork=null,x.finishedLanes=0,O===x.current)throw Error(s(177));x.callbackNode=null,x.callbackPriority=0;var se=O.lanes|O.childLanes;if(qh(x,se),x===Us&&(Es=Us=null,er=0),(O.subtreeFlags&2064)===0&&(O.flags&2064)===0||bg||(bg=!0,EC(vr,function(){return zu(),null})),se=(O.flags&15990)!==0,(O.subtreeFlags&15990)!==0||se){se=To.transition,To.transition=null;var ve=yi;yi=1;var Le=di;di|=4,xx.current=null,WR(x,O),mC(O,x),Vt(Ty),Fa=!!My,Ty=My=null,x.current=O,$R(O),vy(),di=Le,yi=ve,To.transition=se}else x.current=O;if(bg&&(bg=!1,Al=x,wg=Z),se=x.pendingLanes,se===0&&(Tl=null),zt(O.stateNode),Br(x,ss()),C!==null)for(Y=x.onRecoverableError,O=0;O<C.length;O++)Z=C[O],Y(Z.value,{componentStack:Z.stack,digest:Z.digest});if(vg)throw vg=!1,x=wx,wx=null,x;return(wg&1)!==0&&x.tag!==0&&zu(),se=x.pendingLanes,(se&1)!==0?x===Sx?vd++:(vd=0,Sx=x):vd=0,Cl(),null}function zu(){if(Al!==null){var x=Lt(wg),C=To.transition,O=yi;try{if(To.transition=null,yi=16>x?16:x,Al===null)var Y=!1;else{if(x=Al,Al=null,wg=0,(di&6)!==0)throw Error(s(331));var Z=di;for(di|=4,mn=x.current;mn!==null;){var se=mn,ve=se.child;if((mn.flags&16)!==0){var Le=se.deletions;if(Le!==null){for(var We=0;We<Le.length;We++){var lt=Le[We];for(mn=lt;mn!==null;){var jt=mn;switch(jt.tag){case 0:case 11:case 15:md(8,jt,se)}var $t=jt.child;if($t!==null)$t.return=jt,mn=$t;else for(;mn!==null;){jt=mn;var Ft=jt.sibling,fn=jt.return;if(hC(jt),jt===lt){mn=null;break}if(Ft!==null){Ft.return=fn,mn=Ft;break}mn=fn}}}var xn=se.alternate;if(xn!==null){var Cn=xn.child;if(Cn!==null){xn.child=null;do{var bs=Cn.sibling;Cn.sibling=null,Cn=bs}while(Cn!==null)}}mn=se}}if((se.subtreeFlags&2064)!==0&&ve!==null)ve.return=se,mn=ve;else e:for(;mn!==null;){if(se=mn,(se.flags&2048)!==0)switch(se.tag){case 0:case 11:case 15:md(9,se,se.return)}var et=se.sibling;if(et!==null){et.return=se.return,mn=et;break e}mn=se.return}}var Ge=x.current;for(mn=Ge;mn!==null;){ve=mn;var tt=ve.child;if((ve.subtreeFlags&2064)!==0&&tt!==null)tt.return=ve,mn=tt;else e:for(ve=Ge;mn!==null;){if(Le=mn,(Le.flags&2048)!==0)try{switch(Le.tag){case 0:case 11:case 15:mg(9,Le)}}catch(Tn){ds(Le,Le.return,Tn)}if(Le===ve){mn=null;break e}var Gt=Le.sibling;if(Gt!==null){Gt.return=Le.return,mn=Gt;break e}mn=Le.return}}if(di=Z,Cl(),ei&&typeof ei.onPostCommitFiberRoot=="function")try{ei.onPostCommitFiberRoot(cl,x)}catch{}Y=!0}return Y}finally{yi=O,To.transition=C}}return!1}function TC(x,C,O){C=Iu(O,C),C=YS(x,C,1),x=Pl(x,C,1),C=Sr(),x!==null&&(Pn(x,1,C),Br(x,C))}function ds(x,C,O){if(x.tag===3)TC(x,x,O);else for(;C!==null;){if(C.tag===3){TC(C,x,O);break}else if(C.tag===1){var Y=C.stateNode;if(typeof C.type.getDerivedStateFromError=="function"||typeof Y.componentDidCatch=="function"&&(Tl===null||!Tl.has(Y))){x=Iu(O,x),x=US(C,x,1),C=Pl(C,x,1),x=Sr(),C!==null&&(Pn(C,1,x),Br(C,x));break}}C=C.return}}function KR(x,C,O){var Y=x.pingCache;Y!==null&&Y.delete(C),C=Sr(),x.pingedLanes|=x.suspendedLanes&O,Us===x&&(er&O)===O&&(zs===4||zs===3&&(er&130023424)===er&&500>ss()-bx?mc(x,0):vx|=O),Br(x,C)}function AC(x,C){C===0&&((x.mode&1)===0?C=1:(C=ul,ul<<=1,(ul&130023424)===0&&(ul=4194304)));var O=Sr();x=Wa(x,C),x!==null&&(Pn(x,C,O),Br(x,O))}function ZR(x){var C=x.memoizedState,O=0;C!==null&&(O=C.retryLane),AC(x,O)}function JR(x,C){var O=0;switch(x.tag){case 13:var Y=x.stateNode,Z=x.memoizedState;Z!==null&&(O=Z.retryLane);break;case 19:Y=x.stateNode;break;default:throw Error(s(314))}Y!==null&&Y.delete(C),AC(x,O)}var DC;DC=function(x,C,O){if(x!==null)if(x.memoizedProps!==C.pendingProps||Fr.current)_r=!0;else{if((x.lanes&O)===0&&(C.flags&128)===0)return _r=!1,zR(x,C,O);_r=(x.flags&131072)!==0}else _r=!1,Qi&&(C.flags&1048576)!==0&&lS(C,Qp,C.index);switch(C.lanes=0,C.tag){case 2:var Y=C.type;pg(x,C),x=C.pendingProps;var Z=Tu(C,ur.current);Lu(C,O),Z=Zy(null,C,Y,x,Z,O);var se=Jy();return C.flags|=1,typeof Z=="object"&&Z!==null&&typeof Z.render=="function"&&Z.$$typeof===void 0?(C.tag=1,C.memoizedState=null,C.updateQueue=null,jr(Y)?(se=!0,Kp(C)):se=!1,C.memoizedState=Z.state!==null&&Z.state!==void 0?Z.state:null,$y(C),Z.updater=dg,C.stateNode=Z,Z._reactInternals=C,sx(C,Y,x,O),C=lx(null,C,Y,!0,se,O)):(C.tag=0,Qi&&se&&Oy(C),wr(null,C,Z,O),C=C.child),C;case 16:Y=C.elementType;e:{switch(pg(x,C),x=C.pendingProps,Z=Y._init,Y=Z(Y._payload),C.type=Y,Z=C.tag=eL(Y),x=Ko(Y,x),Z){case 0:C=ax(null,C,Y,x,O);break e;case 1:C=tC(null,C,Y,x,O);break e;case 11:C=KS(null,C,Y,x,O);break e;case 14:C=ZS(null,C,Y,Ko(Y.type,x),O);break e}throw Error(s(306,Y,""))}return C;case 0:return Y=C.type,Z=C.pendingProps,Z=C.elementType===Y?Z:Ko(Y,Z),ax(x,C,Y,Z,O);case 1:return Y=C.type,Z=C.pendingProps,Z=C.elementType===Y?Z:Ko(Y,Z),tC(x,C,Y,Z,O);case 3:e:{if(nC(C),x===null)throw Error(s(387));Y=C.pendingProps,se=C.memoizedState,Z=se.element,yS(x,C),rg(C,Y,null,O);var ve=C.memoizedState;if(Y=ve.element,se.isDehydrated)if(se={element:Y,isDehydrated:!1,cache:ve.cache,pendingSuspenseBoundaries:ve.pendingSuspenseBoundaries,transitions:ve.transitions},C.updateQueue.baseState=se,C.memoizedState=se,C.flags&256){Z=Iu(Error(s(423)),C),C=iC(x,C,Y,O,Z);break e}else if(Y!==Z){Z=Iu(Error(s(424)),C),C=iC(x,C,Y,O,Z);break e}else for(to=bl(C.stateNode.containerInfo.firstChild),eo=C,Qi=!0,qo=null,O=gS(C,null,Y,O),C.child=O;O;)O.flags=O.flags&-3|4096,O=O.sibling;else{if(Eu(),Y===Z){C=Ya(x,C,O);break e}wr(x,C,Y,O)}C=C.child}return C;case 5:return bS(C),x===null&&jy(C),Y=C.type,Z=C.pendingProps,se=x!==null?x.memoizedProps:null,ve=Z.children,Ay(Y,Z)?ve=null:se!==null&&Ay(Y,se)&&(C.flags|=32),eC(x,C),wr(x,C,ve,O),C.child;case 6:return x===null&&jy(C),null;case 13:return sC(x,C,O);case 4:return Yy(C,C.stateNode.containerInfo),Y=C.pendingProps,x===null?C.child=Nu(C,null,Y,O):wr(x,C,Y,O),C.child;case 11:return Y=C.type,Z=C.pendingProps,Z=C.elementType===Y?Z:Ko(Y,Z),KS(x,C,Y,Z,O);case 7:return wr(x,C,C.pendingProps,O),C.child;case 8:return wr(x,C,C.pendingProps.children,O),C.child;case 12:return wr(x,C,C.pendingProps.children,O),C.child;case 10:e:{if(Y=C.type._context,Z=C.pendingProps,se=C.memoizedProps,ve=Z.value,Ui(ng,Y._currentValue),Y._currentValue=ve,se!==null)if(He(se.value,ve)){if(se.children===Z.children&&!Fr.current){C=Ya(x,C,O);break e}}else for(se=C.child,se!==null&&(se.return=C);se!==null;){var Le=se.dependencies;if(Le!==null){ve=se.child;for(var We=Le.firstContext;We!==null;){if(We.context===Y){if(se.tag===1){We=$a(-1,O&-O),We.tag=2;var lt=se.updateQueue;if(lt!==null){lt=lt.shared;var jt=lt.pending;jt===null?We.next=We:(We.next=jt.next,jt.next=We),lt.pending=We}}se.lanes|=O,We=se.alternate,We!==null&&(We.lanes|=O),Hy(se.return,O,C),Le.lanes|=O;break}We=We.next}}else if(se.tag===10)ve=se.type===C.type?null:se.child;else if(se.tag===18){if(ve=se.return,ve===null)throw Error(s(341));ve.lanes|=O,Le=ve.alternate,Le!==null&&(Le.lanes|=O),Hy(ve,O,C),ve=se.sibling}else ve=se.child;if(ve!==null)ve.return=se;else for(ve=se;ve!==null;){if(ve===C){ve=null;break}if(se=ve.sibling,se!==null){se.return=ve.return,ve=se;break}ve=ve.return}se=ve}wr(x,C,Z.children,O),C=C.child}return C;case 9:return Z=C.type,Y=C.pendingProps.children,Lu(C,O),Z=Po(Z),Y=Y(Z),C.flags|=1,wr(x,C,Y,O),C.child;case 14:return Y=C.type,Z=Ko(Y,C.pendingProps),Z=Ko(Y.type,Z),ZS(x,C,Y,Z,O);case 15:return JS(x,C,C.type,C.pendingProps,O);case 17:return Y=C.type,Z=C.pendingProps,Z=C.elementType===Y?Z:Ko(Y,Z),pg(x,C),C.tag=1,jr(Y)?(x=!0,Kp(C)):x=!1,Lu(C,O),WS(C,Y,Z),sx(C,Y,Z,O),lx(null,C,Y,!0,x,O);case 19:return oC(x,C,O);case 22:return QS(x,C,O)}throw Error(s(156,C.tag))};function EC(x,C){return Hs(x,C)}function QR(x,C,O,Y){this.tag=x,this.key=O,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=C,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ao(x,C,O,Y){return new QR(x,C,O,Y)}function Ax(x){return x=x.prototype,!(!x||!x.isReactComponent)}function eL(x){if(typeof x=="function")return Ax(x)?1:0;if(x!=null){if(x=x.$$typeof,x===re)return 11;if(x===ie)return 14}return 2}function Nl(x,C){var O=x.alternate;return O===null?(O=Ao(x.tag,C,x.key,x.mode),O.elementType=x.elementType,O.type=x.type,O.stateNode=x.stateNode,O.alternate=x,x.alternate=O):(O.pendingProps=C,O.type=x.type,O.flags=0,O.subtreeFlags=0,O.deletions=null),O.flags=x.flags&14680064,O.childLanes=x.childLanes,O.lanes=x.lanes,O.child=x.child,O.memoizedProps=x.memoizedProps,O.memoizedState=x.memoizedState,O.updateQueue=x.updateQueue,C=x.dependencies,O.dependencies=C===null?null:{lanes:C.lanes,firstContext:C.firstContext},O.sibling=x.sibling,O.index=x.index,O.ref=x.ref,O}function Pg(x,C,O,Y,Z,se){var ve=2;if(Y=x,typeof x=="function")Ax(x)&&(ve=1);else if(typeof x=="string")ve=5;else e:switch(x){case I:return xc(O.children,Z,se,C);case q:ve=8,Z|=8;break;case ee:return x=Ao(12,O,C,Z|2),x.elementType=ee,x.lanes=se,x;case ae:return x=Ao(13,O,C,Z),x.elementType=ae,x.lanes=se,x;case ue:return x=Ao(19,O,C,Z),x.elementType=ue,x.lanes=se,x;case pe:return Mg(O,Z,se,C);default:if(typeof x=="object"&&x!==null)switch(x.$$typeof){case te:ve=10;break e;case ce:ve=9;break e;case re:ve=11;break e;case ie:ve=14;break e;case he:ve=16,Y=null;break e}throw Error(s(130,x==null?x:typeof x,""))}return C=Ao(ve,O,C,Z),C.elementType=x,C.type=Y,C.lanes=se,C}function xc(x,C,O,Y){return x=Ao(7,x,Y,C),x.lanes=O,x}function Mg(x,C,O,Y){return x=Ao(22,x,Y,C),x.elementType=pe,x.lanes=O,x.stateNode={isHidden:!1},x}function Dx(x,C,O){return x=Ao(6,x,null,C),x.lanes=O,x}function Ex(x,C,O){return C=Ao(4,x.children!==null?x.children:[],x.key,C),C.lanes=O,C.stateNode={containerInfo:x.containerInfo,pendingChildren:null,implementation:x.implementation},C}function tL(x,C,O,Y,Z){this.tag=C,this.containerInfo=x,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cu(0),this.expirationTimes=cu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cu(0),this.identifierPrefix=Y,this.onRecoverableError=Z,this.mutableSourceEagerHydrationData=null}function Nx(x,C,O,Y,Z,se,ve,Le,We){return x=new tL(x,C,O,Le,We),C===1?(C=1,se===!0&&(C|=8)):C=0,se=Ao(3,null,null,C),x.current=se,se.stateNode=x,se.memoizedState={element:Y,isDehydrated:O,cache:null,transitions:null,pendingSuspenseBoundaries:null},$y(se),x}function nL(x,C,O){var Y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:Y==null?null:""+Y,children:x,containerInfo:C,implementation:O}}function NC(x){if(!x)return Sl;x=x._reactInternals;e:{if(xo(x)!==x||x.tag!==1)throw Error(s(170));var C=x;do{switch(C.tag){case 3:C=C.stateNode.context;break e;case 1:if(jr(C.type)){C=C.stateNode.__reactInternalMemoizedMergedChildContext;break e}}C=C.return}while(C!==null);throw Error(s(171))}if(x.tag===1){var O=x.type;if(jr(O))return rS(x,O,C)}return C}function RC(x,C,O,Y,Z,se,ve,Le,We){return x=Nx(O,Y,!0,x,Z,se,ve,Le,We),x.context=NC(null),O=x.current,Y=Sr(),Z=Dl(O),se=$a(Y,Z),se.callback=C??null,Pl(O,se,Z),x.current.lanes=Z,Pn(x,Z,Y),Br(x,Y),x}function Tg(x,C,O,Y){var Z=C.current,se=Sr(),ve=Dl(Z);return O=NC(O),C.context===null?C.context=O:C.pendingContext=O,C=$a(se,ve),C.payload={element:x},Y=Y===void 0?null:Y,Y!==null&&(C.callback=Y),x=Pl(Z,C,ve),x!==null&&(Qo(x,Z,ve,se),sg(x,Z,ve)),ve}function Ag(x){if(x=x.current,!x.child)return null;switch(x.child.tag){case 5:return x.child.stateNode;default:return x.child.stateNode}}function LC(x,C){if(x=x.memoizedState,x!==null&&x.dehydrated!==null){var O=x.retryLane;x.retryLane=O!==0&&O<C?O:C}}function Rx(x,C){LC(x,C),(x=x.alternate)&&LC(x,C)}function iL(){return null}var OC=typeof reportError=="function"?reportError:function(x){console.error(x)};function Lx(x){this._internalRoot=x}Dg.prototype.render=Lx.prototype.render=function(x){var C=this._internalRoot;if(C===null)throw Error(s(409));Tg(x,C,null,null)},Dg.prototype.unmount=Lx.prototype.unmount=function(){var x=this._internalRoot;if(x!==null){this._internalRoot=null;var C=x.containerInfo;gc(function(){Tg(null,x,null,null)}),C[za]=null}};function Dg(x){this._internalRoot=x}Dg.prototype.unstable_scheduleHydration=function(x){if(x){var C=du();x={blockedOn:null,target:x,priority:C};for(var O=0;O<us.length&&C!==0&&C<us[O].priority;O++);us.splice(O,0,x),O===0&&fu(x)}};function Ox(x){return!(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)}function Eg(x){return!(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11&&(x.nodeType!==8||x.nodeValue!==" react-mount-point-unstable "))}function IC(){}function sL(x,C,O,Y,Z){if(Z){if(typeof Y=="function"){var se=Y;Y=function(){var lt=Ag(ve);se.call(lt)}}var ve=RC(C,Y,x,0,null,!1,!1,"",IC);return x._reactRootContainer=ve,x[za]=ve.current,id(x.nodeType===8?x.parentNode:x),gc(),ve}for(;Z=x.lastChild;)x.removeChild(Z);if(typeof Y=="function"){var Le=Y;Y=function(){var lt=Ag(We);Le.call(lt)}}var We=Nx(x,0,!1,null,null,!1,!1,"",IC);return x._reactRootContainer=We,x[za]=We.current,id(x.nodeType===8?x.parentNode:x),gc(function(){Tg(C,We,O,Y)}),We}function Ng(x,C,O,Y,Z){var se=O._reactRootContainer;if(se){var ve=se;if(typeof Z=="function"){var Le=Z;Z=function(){var We=Ag(ve);Le.call(We)}}Tg(C,ve,x,Z)}else ve=sL(O,C,x,Z,Y);return Ag(ve)}uu=function(x){switch(x.tag){case 3:var C=x.stateNode;if(C.current.memoizedState.isDehydrated){var O=Zs(C.pendingLanes);O!==0&&(gn(C,O|1),Br(C,ss()),(di&6)===0&&(_u=ss()+500,Cl()))}break;case 13:gc(function(){var Y=Wa(x,1);if(Y!==null){var Z=Sr();Qo(Y,x,1,Z)}}),Rx(x,1)}},Jl=function(x){if(x.tag===13){var C=Wa(x,134217728);if(C!==null){var O=Sr();Qo(C,x,134217728,O)}Rx(x,134217728)}},hu=function(x){if(x.tag===13){var C=Dl(x),O=Wa(x,C);if(O!==null){var Y=Sr();Qo(O,x,C,Y)}Rx(x,C)}},du=function(){return yi},vt=function(x,C){var O=yi;try{return yi=x,C()}finally{yi=O}},Si=function(x,C,O){switch(C){case"input":if(un(x,O),C=O.name,O.type==="radio"&&C!=null){for(O=x;O.parentNode;)O=O.parentNode;for(O=O.querySelectorAll("input[name="+JSON.stringify(""+C)+'][type="radio"]'),C=0;C<O.length;C++){var Y=O[C];if(Y!==x&&Y.form===x.form){var Z=Gp(Y);if(!Z)throw Error(s(90));je(Y),un(Y,Z)}}}break;case"textarea":Ve(x,O);break;case"select":C=O.value,C!=null&&yt(x,!!O.multiple,C,!1)}},Ar=Px,ar=gc;var rL={usingClientEntryPoint:!1,Events:[od,Pu,Gp,Bn,Ms,Px]},bd={findFiberByHostInstance:ac,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oL={bundleType:bd.bundleType,version:bd.version,rendererPackageName:bd.rendererPackageName,rendererConfig:bd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(x){return x=au(x),x===null?null:x.stateNode},findFiberByHostInstance:bd.findFiberByHostInstance||iL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rg.isDisabled&&Rg.supportsFiber)try{cl=Rg.inject(oL),ei=Rg}catch{}}return Vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rL,Vr.createPortal=function(x,C){var O=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ox(C))throw Error(s(200));return nL(x,C,null,O)},Vr.createRoot=function(x,C){if(!Ox(x))throw Error(s(299));var O=!1,Y="",Z=OC;return C!=null&&(C.unstable_strictMode===!0&&(O=!0),C.identifierPrefix!==void 0&&(Y=C.identifierPrefix),C.onRecoverableError!==void 0&&(Z=C.onRecoverableError)),C=Nx(x,1,!1,null,null,O,!1,Y,Z),x[za]=C.current,id(x.nodeType===8?x.parentNode:x),new Lx(C)},Vr.findDOMNode=function(x){if(x==null)return null;if(x.nodeType===1)return x;var C=x._reactInternals;if(C===void 0)throw typeof x.render=="function"?Error(s(188)):(x=Object.keys(x).join(","),Error(s(268,x)));return x=au(C),x=x===null?null:x.stateNode,x},Vr.flushSync=function(x){return gc(x)},Vr.hydrate=function(x,C,O){if(!Eg(C))throw Error(s(200));return Ng(null,x,C,!0,O)},Vr.hydrateRoot=function(x,C,O){if(!Ox(x))throw Error(s(405));var Y=O!=null&&O.hydratedSources||null,Z=!1,se="",ve=OC;if(O!=null&&(O.unstable_strictMode===!0&&(Z=!0),O.identifierPrefix!==void 0&&(se=O.identifierPrefix),O.onRecoverableError!==void 0&&(ve=O.onRecoverableError)),C=RC(C,null,x,1,O??null,Z,!1,se,ve),x[za]=C.current,id(x),Y)for(x=0;x<Y.length;x++)O=Y[x],Z=O._getVersion,Z=Z(O._source),C.mutableSourceEagerHydrationData==null?C.mutableSourceEagerHydrationData=[O,Z]:C.mutableSourceEagerHydrationData.push(O,Z);return new Dg(C)},Vr.render=function(x,C,O){if(!Eg(C))throw Error(s(200));return Ng(null,x,C,!1,O)},Vr.unmountComponentAtNode=function(x){if(!Eg(x))throw Error(s(40));return x._reactRootContainer?(gc(function(){Ng(null,null,x,!1,function(){x._reactRootContainer=null,x[za]=null})}),!0):!1},Vr.unstable_batchedUpdates=Px,Vr.unstable_renderSubtreeIntoContainer=function(x,C,O,Y){if(!Eg(O))throw Error(s(200));if(x==null||x._reactInternals===void 0)throw Error(s(38));return Ng(x,C,O,!1,Y)},Vr.version="18.3.1-next-f1338f8080-20240426",Vr}var WC;function f1(){if(WC)return jx.exports;WC=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),jx.exports=dL(),jx.exports}var $C;function fL(){if($C)return Lg;$C=1;var i=f1();return Lg.createRoot=i.createRoot,Lg.hydrateRoot=i.hydrateRoot,Lg}var pL=fL();const gL=Qn(pL);function MA(i){var t,s,r="";if(typeof i=="string"||typeof i=="number")r+=i;else if(typeof i=="object")if(Array.isArray(i))for(t=0;t<i.length;t++)i[t]&&(s=MA(i[t]))&&(r&&(r+=" "),r+=s);else for(t in i)i[t]&&(r&&(r+=" "),r+=t);return r}function Bl(){for(var i,t,s=0,r="";s<arguments.length;)(i=arguments[s++])&&(t=MA(i))&&(r&&(r+=" "),r+=t);return r}const Pf=i=>typeof i=="number"&&!isNaN(i),Hc=i=>typeof i=="string",Wr=i=>typeof i=="function",dm=i=>Hc(i)||Wr(i)?i:null,Bx=i=>X.isValidElement(i)||Hc(i)||Wr(i)||Pf(i);function mL(i,t,s){s===void 0&&(s=300);const{scrollHeight:r,style:a}=i;requestAnimationFrame(()=>{a.minHeight="initial",a.height=r+"px",a.transition=`all ${s}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(t,s)})})}function x0(i){let{enter:t,exit:s,appendPosition:r=!1,collapse:a=!0,collapseDuration:u=300}=i;return function(d){let{children:p,position:m,preventExitTransition:y,done:b,nodeRef:S,isIn:M}=d;const A=r?`${t}--${m}`:t,R=r?`${s}--${m}`:s,E=X.useRef(0);return X.useLayoutEffect(()=>{const _=S.current,T=A.split(" "),B=z=>{z.target===S.current&&(_.dispatchEvent(new Event("d")),_.removeEventListener("animationend",B),_.removeEventListener("animationcancel",B),E.current===0&&z.type!=="animationcancel"&&_.classList.remove(...T))};_.classList.add(...T),_.addEventListener("animationend",B),_.addEventListener("animationcancel",B)},[]),X.useEffect(()=>{const _=S.current,T=()=>{_.removeEventListener("animationend",T),a?mL(_,b,u):b()};M||(y?T():(E.current=1,_.className+=` ${R}`,_.addEventListener("animationend",T)))},[M]),_n.createElement(_n.Fragment,null,p)}}function YC(i,t){return i!=null?{content:i.content,containerId:i.props.containerId,id:i.props.toastId,theme:i.props.theme,type:i.props.type,data:i.props.data||{},isLoading:i.props.isLoading,icon:i.props.icon,status:t}:{}}const Lo={list:new Map,emitQueue:new Map,on(i,t){return this.list.has(i)||this.list.set(i,[]),this.list.get(i).push(t),this},off(i,t){if(t){const s=this.list.get(i).filter(r=>r!==t);return this.list.set(i,s),this}return this.list.delete(i),this},cancelEmit(i){const t=this.emitQueue.get(i);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(i)),this},emit(i){this.list.has(i)&&this.list.get(i).forEach(t=>{const s=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(i)||this.emitQueue.set(i,[]),this.emitQueue.get(i).push(s)})}},Og=i=>{let{theme:t,type:s,...r}=i;return _n.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${s})`,...r})},Vx={info:function(i){return _n.createElement(Og,{...i},_n.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(i){return _n.createElement(Og,{...i},_n.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(i){return _n.createElement(Og,{...i},_n.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(i){return _n.createElement(Og,{...i},_n.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return _n.createElement("div",{className:"Toastify__spinner"})}};function yL(i){const[,t]=X.useReducer(A=>A+1,0),[s,r]=X.useState([]),a=X.useRef(null),u=X.useRef(new Map).current,d=A=>s.indexOf(A)!==-1,p=X.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:i,containerId:null,isToastActive:d,getToast:A=>u.get(A)}).current;function m(A){let{containerId:R}=A;const{limit:E}=p.props;!E||R&&p.containerId!==R||(p.count-=p.queue.length,p.queue=[])}function y(A){r(R=>A==null?[]:R.filter(E=>E!==A))}function b(){const{toastContent:A,toastProps:R,staleId:E}=p.queue.shift();M(A,R,E)}function S(A,R){let{delay:E,staleId:_,...T}=R;if(!Bx(A)||function(re){return!a.current||p.props.enableMultiContainer&&re.containerId!==p.props.containerId||u.has(re.toastId)&&re.updateId==null}(T))return;const{toastId:B,updateId:z,data:W}=T,{props:L}=p,U=()=>y(B),I=z==null;I&&p.count++;const q={...L,style:L.toastStyle,key:p.toastKey++,...Object.fromEntries(Object.entries(T).filter(re=>{let[ae,ue]=re;return ue!=null})),toastId:B,updateId:z,data:W,closeToast:U,isIn:!1,className:dm(T.className||L.toastClassName),bodyClassName:dm(T.bodyClassName||L.bodyClassName),progressClassName:dm(T.progressClassName||L.progressClassName),autoClose:!T.isLoading&&(ee=T.autoClose,te=L.autoClose,ee===!1||Pf(ee)&&ee>0?ee:te),deleteToast(){const re=YC(u.get(B),"removed");u.delete(B),Lo.emit(4,re);const ae=p.queue.length;if(p.count=B==null?p.count-p.displayedToast:p.count-1,p.count<0&&(p.count=0),ae>0){const ue=B==null?p.props.limit:1;if(ae===1||ue===1)p.displayedToast++,b();else{const ie=ue>ae?ae:ue;p.displayedToast=ie;for(let he=0;he<ie;he++)b()}}else t()}};var ee,te;q.iconOut=function(re){let{theme:ae,type:ue,isLoading:ie,icon:he}=re,pe=null;const de={theme:ae,type:ue};return he===!1||(Wr(he)?pe=he(de):X.isValidElement(he)?pe=X.cloneElement(he,de):Hc(he)||Pf(he)?pe=he:ie?pe=Vx.spinner():(xe=>xe in Vx)(ue)&&(pe=Vx[ue](de))),pe}(q),Wr(T.onOpen)&&(q.onOpen=T.onOpen),Wr(T.onClose)&&(q.onClose=T.onClose),q.closeButton=L.closeButton,T.closeButton===!1||Bx(T.closeButton)?q.closeButton=T.closeButton:T.closeButton===!0&&(q.closeButton=!Bx(L.closeButton)||L.closeButton);let ce=A;X.isValidElement(A)&&!Hc(A.type)?ce=X.cloneElement(A,{closeToast:U,toastProps:q,data:W}):Wr(A)&&(ce=A({closeToast:U,toastProps:q,data:W})),L.limit&&L.limit>0&&p.count>L.limit&&I?p.queue.push({toastContent:ce,toastProps:q,staleId:_}):Pf(E)?setTimeout(()=>{M(ce,q,_)},E):M(ce,q,_)}function M(A,R,E){const{toastId:_}=R;E&&u.delete(E);const T={content:A,props:R};u.set(_,T),r(B=>[...B,_].filter(z=>z!==E)),Lo.emit(4,YC(T,T.props.updateId==null?"added":"updated"))}return X.useEffect(()=>(p.containerId=i.containerId,Lo.cancelEmit(3).on(0,S).on(1,A=>a.current&&y(A)).on(5,m).emit(2,p),()=>{u.clear(),Lo.emit(3,p)}),[]),X.useEffect(()=>{p.props=i,p.isToastActive=d,p.displayedToast=s.length}),{getToastToRender:function(A){const R=new Map,E=Array.from(u.values());return i.newestOnTop&&E.reverse(),E.forEach(_=>{const{position:T}=_.props;R.has(T)||R.set(T,[]),R.get(T).push(_)}),Array.from(R,_=>A(_[0],_[1]))},containerRef:a,isToastActive:d}}function UC(i){return i.targetTouches&&i.targetTouches.length>=1?i.targetTouches[0].clientX:i.clientX}function XC(i){return i.targetTouches&&i.targetTouches.length>=1?i.targetTouches[0].clientY:i.clientY}function xL(i){const[t,s]=X.useState(!1),[r,a]=X.useState(!1),u=X.useRef(null),d=X.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,p=X.useRef(i),{autoClose:m,pauseOnHover:y,closeToast:b,onClick:S,closeOnClick:M}=i;function A(W){if(i.draggable){W.nativeEvent.type==="touchstart"&&W.nativeEvent.preventDefault(),d.didMove=!1,document.addEventListener("mousemove",T),document.addEventListener("mouseup",B),document.addEventListener("touchmove",T),document.addEventListener("touchend",B);const L=u.current;d.canCloseOnClick=!0,d.canDrag=!0,d.boundingRect=L.getBoundingClientRect(),L.style.transition="",d.x=UC(W.nativeEvent),d.y=XC(W.nativeEvent),i.draggableDirection==="x"?(d.start=d.x,d.removalDistance=L.offsetWidth*(i.draggablePercent/100)):(d.start=d.y,d.removalDistance=L.offsetHeight*(i.draggablePercent===80?1.5*i.draggablePercent:i.draggablePercent/100))}}function R(W){if(d.boundingRect){const{top:L,bottom:U,left:I,right:q}=d.boundingRect;W.nativeEvent.type!=="touchend"&&i.pauseOnHover&&d.x>=I&&d.x<=q&&d.y>=L&&d.y<=U?_():E()}}function E(){s(!0)}function _(){s(!1)}function T(W){const L=u.current;d.canDrag&&L&&(d.didMove=!0,t&&_(),d.x=UC(W),d.y=XC(W),d.delta=i.draggableDirection==="x"?d.x-d.start:d.y-d.start,d.start!==d.x&&(d.canCloseOnClick=!1),L.style.transform=`translate${i.draggableDirection}(${d.delta}px)`,L.style.opacity=""+(1-Math.abs(d.delta/d.removalDistance)))}function B(){document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",B),document.removeEventListener("touchmove",T),document.removeEventListener("touchend",B);const W=u.current;if(d.canDrag&&d.didMove&&W){if(d.canDrag=!1,Math.abs(d.delta)>d.removalDistance)return a(!0),void i.closeToast();W.style.transition="transform 0.2s, opacity 0.2s",W.style.transform=`translate${i.draggableDirection}(0)`,W.style.opacity="1"}}X.useEffect(()=>{p.current=i}),X.useEffect(()=>(u.current&&u.current.addEventListener("d",E,{once:!0}),Wr(i.onOpen)&&i.onOpen(X.isValidElement(i.children)&&i.children.props),()=>{const W=p.current;Wr(W.onClose)&&W.onClose(X.isValidElement(W.children)&&W.children.props)}),[]),X.useEffect(()=>(i.pauseOnFocusLoss&&(document.hasFocus()||_(),window.addEventListener("focus",E),window.addEventListener("blur",_)),()=>{i.pauseOnFocusLoss&&(window.removeEventListener("focus",E),window.removeEventListener("blur",_))}),[i.pauseOnFocusLoss]);const z={onMouseDown:A,onTouchStart:A,onMouseUp:R,onTouchEnd:R};return m&&y&&(z.onMouseEnter=_,z.onMouseLeave=E),M&&(z.onClick=W=>{S&&S(W),d.canCloseOnClick&&b()}),{playToast:E,pauseToast:_,isRunning:t,preventExitTransition:r,toastRef:u,eventHandlers:z}}function TA(i){let{closeToast:t,theme:s,ariaLabel:r="close"}=i;return _n.createElement("button",{className:`Toastify__close-button Toastify__close-button--${s}`,type:"button",onClick:a=>{a.stopPropagation(),t(a)},"aria-label":r},_n.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},_n.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function vL(i){let{delay:t,isRunning:s,closeToast:r,type:a="default",hide:u,className:d,style:p,controlledProgress:m,progress:y,rtl:b,isIn:S,theme:M}=i;const A=u||m&&y===0,R={...p,animationDuration:`${t}ms`,animationPlayState:s?"running":"paused",opacity:A?0:1};m&&(R.transform=`scaleX(${y})`);const E=Bl("Toastify__progress-bar",m?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${M}`,`Toastify__progress-bar--${a}`,{"Toastify__progress-bar--rtl":b}),_=Wr(d)?d({rtl:b,type:a,defaultClassName:E}):Bl(E,d);return _n.createElement("div",{role:"progressbar","aria-hidden":A?"true":"false","aria-label":"notification timer",className:_,style:R,[m&&y>=1?"onTransitionEnd":"onAnimationEnd"]:m&&y<1?null:()=>{S&&r()}})}const bL=i=>{const{isRunning:t,preventExitTransition:s,toastRef:r,eventHandlers:a}=xL(i),{closeButton:u,children:d,autoClose:p,onClick:m,type:y,hideProgressBar:b,closeToast:S,transition:M,position:A,className:R,style:E,bodyClassName:_,bodyStyle:T,progressClassName:B,progressStyle:z,updateId:W,role:L,progress:U,rtl:I,toastId:q,deleteToast:ee,isIn:te,isLoading:ce,iconOut:re,closeOnClick:ae,theme:ue}=i,ie=Bl("Toastify__toast",`Toastify__toast-theme--${ue}`,`Toastify__toast--${y}`,{"Toastify__toast--rtl":I},{"Toastify__toast--close-on-click":ae}),he=Wr(R)?R({rtl:I,position:A,type:y,defaultClassName:ie}):Bl(ie,R),pe=!!U||!p,de={closeToast:S,type:y,theme:ue};let xe=null;return u===!1||(xe=Wr(u)?u(de):X.isValidElement(u)?X.cloneElement(u,de):TA(de)),_n.createElement(M,{isIn:te,done:ee,position:A,preventExitTransition:s,nodeRef:r},_n.createElement("div",{id:q,onClick:m,className:he,...a,style:E,ref:r},_n.createElement("div",{...te&&{role:L},className:Wr(_)?_({type:y}):Bl("Toastify__toast-body",_),style:T},re!=null&&_n.createElement("div",{className:Bl("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!ce})},re),_n.createElement("div",null,d)),xe,_n.createElement(vL,{...W&&!pe?{key:`pb-${W}`}:{},rtl:I,theme:ue,delay:p,isRunning:t,isIn:te,closeToast:S,hide:b,type:y,style:z,className:B,controlledProgress:pe,progress:U||0})))},v0=function(i,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${i}-enter`,exit:`Toastify--animate Toastify__${i}-exit`,appendPosition:t}},wL=x0(v0("bounce",!0));x0(v0("slide",!0));x0(v0("zoom"));x0(v0("flip"));const jm=X.forwardRef((i,t)=>{const{getToastToRender:s,containerRef:r,isToastActive:a}=yL(i),{className:u,style:d,rtl:p,containerId:m}=i;function y(b){const S=Bl("Toastify__toast-container",`Toastify__toast-container--${b}`,{"Toastify__toast-container--rtl":p});return Wr(u)?u({position:b,rtl:p,defaultClassName:S}):Bl(S,dm(u))}return X.useEffect(()=>{t&&(t.current=r.current)},[]),_n.createElement("div",{ref:r,className:"Toastify",id:m},s((b,S)=>{const M=S.length?{...d}:{...d,pointerEvents:"none"};return _n.createElement("div",{className:y(b),style:M,key:`container-${b}`},S.map((A,R)=>{let{content:E,props:_}=A;return _n.createElement(bL,{..._,isIn:a(_.toastId),style:{..._.style,"--nth":R+1,"--len":S.length},key:`toast-${_.key}`},E)}))}))});jm.displayName="ToastContainer",jm.defaultProps={position:"top-right",transition:wL,autoClose:5e3,closeButton:TA,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let Hx,Sc=new Map,xf=[],SL=1;function AA(){return""+SL++}function CL(i){return i&&(Hc(i.toastId)||Pf(i.toastId))?i.toastId:AA()}function Mf(i,t){return Sc.size>0?Lo.emit(0,i,t):xf.push({content:i,options:t}),t.toastId}function _m(i,t){return{...t,type:t&&t.type||i,toastId:CL(t)}}function Ig(i){return(t,s)=>Mf(t,_m(i,s))}function it(i,t){return Mf(i,_m("default",t))}it.loading=(i,t)=>Mf(i,_m("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),it.promise=function(i,t,s){let r,{pending:a,error:u,success:d}=t;a&&(r=Hc(a)?it.loading(a,s):it.loading(a.render,{...s,...a}));const p={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},m=(b,S,M)=>{if(S==null)return void it.dismiss(r);const A={type:b,...p,...s,data:M},R=Hc(S)?{render:S}:S;return r?it.update(r,{...A,...R}):it(R.render,{...A,...R}),M},y=Wr(i)?i():i;return y.then(b=>m("success",d,b)).catch(b=>m("error",u,b)),y},it.success=Ig("success"),it.info=Ig("info"),it.error=Ig("error"),it.warning=Ig("warning"),it.warn=it.warning,it.dark=(i,t)=>Mf(i,_m("default",{theme:"dark",...t})),it.dismiss=i=>{Sc.size>0?Lo.emit(1,i):xf=xf.filter(t=>i!=null&&t.options.toastId!==i)},it.clearWaitingQueue=function(i){return i===void 0&&(i={}),Lo.emit(5,i)},it.isActive=i=>{let t=!1;return Sc.forEach(s=>{s.isToastActive&&s.isToastActive(i)&&(t=!0)}),t},it.update=function(i,t){t===void 0&&(t={}),setTimeout(()=>{const s=function(r,a){let{containerId:u}=a;const d=Sc.get(u||Hx);return d&&d.getToast(r)}(i,t);if(s){const{props:r,content:a}=s,u={delay:100,...r,...t,toastId:t.toastId||i,updateId:AA()};u.toastId!==i&&(u.staleId=i);const d=u.render||a;delete u.render,Mf(d,u)}},0)},it.done=i=>{it.update(i,{progress:1})},it.onChange=i=>(Lo.on(4,i),()=>{Lo.off(4,i)}),it.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},it.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Lo.on(2,i=>{Hx=i.containerId||i,Sc.set(Hx,i),xf.forEach(t=>{Lo.emit(0,t.content,t.options)}),xf=[]}).on(3,i=>{Sc.delete(i.containerId||i),Sc.size===0&&Lo.off(0).off(1).off(5)});function oe(){return oe=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)({}).hasOwnProperty.call(s,r)&&(i[r]=s[r])}return i},oe.apply(null,arguments)}var Wx={exports:{}},$x,GC;function kL(){if(GC)return $x;GC=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return $x=i,$x}var Yx,qC;function PL(){if(qC)return Yx;qC=1;var i=kL();function t(){}function s(){}return s.resetWarningCache=t,Yx=function(){function r(d,p,m,y,b,S){if(S!==i){var M=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw M.name="Invariant Violation",M}}r.isRequired=r;function a(){return r}var u={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:s,resetWarningCache:t};return u.PropTypes=u,u},Yx}var KC;function DA(){return KC||(KC=1,Wx.exports=PL()()),Wx.exports}var ML=DA();const nt=Qn(ML);function Wf(i,t){const s=oe({},t);return Object.keys(i).forEach(r=>{if(r.toString().match(/^(components|slots)$/))s[r]=oe({},i[r],s[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const a=i[r]||{},u=t[r];s[r]={},!u||!Object.keys(u)?s[r]=a:!a||!Object.keys(a)?s[r]=u:(s[r]=oe({},u),Object.keys(a).forEach(d=>{s[r][d]=Wf(a[d],u[d])}))}else s[r]===void 0&&(s[r]=i[r])}),s}const EA=X.createContext(void 0);function TL({value:i,children:t}){return D.jsx(EA.Provider,{value:i,children:t})}function AL(i){const{theme:t,name:s,props:r}=i;if(!t||!t.components||!t.components[s])return r;const a=t.components[s];return a.defaultProps?Wf(a.defaultProps,r):!a.styleOverrides&&!a.variants?Wf(a,r):r}function DL({props:i,name:t}){const s=X.useContext(EA);return AL({props:i,name:t,theme:{components:s}})}function kn(i){return DL(i)}function Qa(i){let t="https://mui.com/production-error/?code="+i;for(let s=1;s<arguments.length;s+=1)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified MUI error #"+i+"; visit "+t+" for the full message."}const EL=Object.freeze(Object.defineProperty({__proto__:null,default:Qa},Symbol.toStringTag,{value:"Module"}));function NL(i){if(i.sheet)return i.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===i)return document.styleSheets[t]}function RL(i){var t=document.createElement("style");return t.setAttribute("data-emotion",i.key),i.nonce!==void 0&&t.setAttribute("nonce",i.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var LL=function(){function i(s){var r=this;this._insertTag=function(a){var u;r.tags.length===0?r.insertionPoint?u=r.insertionPoint.nextSibling:r.prepend?u=r.container.firstChild:u=r.before:u=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(a,u),r.tags.push(a)},this.isSpeedy=s.speedy===void 0?!0:s.speedy,this.tags=[],this.ctr=0,this.nonce=s.nonce,this.key=s.key,this.container=s.container,this.prepend=s.prepend,this.insertionPoint=s.insertionPoint,this.before=null}var t=i.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(RL(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var u=NL(a);try{u.insertRule(r,u.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var a;return(a=r.parentNode)==null?void 0:a.removeChild(r)}),this.tags=[],this.ctr=0},i}(),pr="-ms-",zm="-moz-",ki="-webkit-",NA="comm",p1="rule",g1="decl",OL="@import",RA="@keyframes",IL="@layer",FL=Math.abs,b0=String.fromCharCode,jL=Object.assign;function _L(i,t){return nr(i,0)^45?(((t<<2^nr(i,0))<<2^nr(i,1))<<2^nr(i,2))<<2^nr(i,3):0}function LA(i){return i.trim()}function zL(i,t){return(i=t.exec(i))?i[0]:i}function Pi(i,t,s){return i.replace(t,s)}function lb(i,t){return i.indexOf(t)}function nr(i,t){return i.charCodeAt(t)|0}function $f(i,t,s){return i.slice(t,s)}function Ca(i){return i.length}function m1(i){return i.length}function Fg(i,t){return t.push(i),i}function BL(i,t){return i.map(t).join("")}var w0=1,gh=1,OA=0,qr=0,Ls=0,Th="";function S0(i,t,s,r,a,u,d){return{value:i,root:t,parent:s,type:r,props:a,children:u,line:w0,column:gh,length:d,return:""}}function Sd(i,t){return jL(S0("",null,null,"",null,null,0),i,{length:-i.length},t)}function VL(){return Ls}function HL(){return Ls=qr>0?nr(Th,--qr):0,gh--,Ls===10&&(gh=1,w0--),Ls}function lo(){return Ls=qr<OA?nr(Th,qr++):0,gh++,Ls===10&&(gh=1,w0++),Ls}function Da(){return nr(Th,qr)}function fm(){return qr}function cp(i,t){return $f(Th,i,t)}function Yf(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function IA(i){return w0=gh=1,OA=Ca(Th=i),qr=0,[]}function FA(i){return Th="",i}function pm(i){return LA(cp(qr-1,cb(i===91?i+2:i===40?i+1:i)))}function WL(i){for(;(Ls=Da())&&Ls<33;)lo();return Yf(i)>2||Yf(Ls)>3?"":" "}function $L(i,t){for(;--t&&lo()&&!(Ls<48||Ls>102||Ls>57&&Ls<65||Ls>70&&Ls<97););return cp(i,fm()+(t<6&&Da()==32&&lo()==32))}function cb(i){for(;lo();)switch(Ls){case i:return qr;case 34:case 39:i!==34&&i!==39&&cb(Ls);break;case 40:i===41&&cb(i);break;case 92:lo();break}return qr}function YL(i,t){for(;lo()&&i+Ls!==57;)if(i+Ls===84&&Da()===47)break;return"/*"+cp(t,qr-1)+"*"+b0(i===47?i:lo())}function UL(i){for(;!Yf(Da());)lo();return cp(i,qr)}function XL(i){return FA(gm("",null,null,null,[""],i=IA(i),0,[0],i))}function gm(i,t,s,r,a,u,d,p,m){for(var y=0,b=0,S=d,M=0,A=0,R=0,E=1,_=1,T=1,B=0,z="",W=a,L=u,U=r,I=z;_;)switch(R=B,B=lo()){case 40:if(R!=108&&nr(I,S-1)==58){lb(I+=Pi(pm(B),"&","&\f"),"&\f")!=-1&&(T=-1);break}case 34:case 39:case 91:I+=pm(B);break;case 9:case 10:case 13:case 32:I+=WL(R);break;case 92:I+=$L(fm()-1,7);continue;case 47:switch(Da()){case 42:case 47:Fg(GL(YL(lo(),fm()),t,s),m);break;default:I+="/"}break;case 123*E:p[y++]=Ca(I)*T;case 125*E:case 59:case 0:switch(B){case 0:case 125:_=0;case 59+b:T==-1&&(I=Pi(I,/\f/g,"")),A>0&&Ca(I)-S&&Fg(A>32?JC(I+";",r,s,S-1):JC(Pi(I," ","")+";",r,s,S-2),m);break;case 59:I+=";";default:if(Fg(U=ZC(I,t,s,y,b,a,p,z,W=[],L=[],S),u),B===123)if(b===0)gm(I,t,U,U,W,u,S,p,L);else switch(M===99&&nr(I,3)===110?100:M){case 100:case 108:case 109:case 115:gm(i,U,U,r&&Fg(ZC(i,U,U,0,0,a,p,z,a,W=[],S),L),a,L,S,p,r?W:L);break;default:gm(I,U,U,U,[""],L,0,p,L)}}y=b=A=0,E=T=1,z=I="",S=d;break;case 58:S=1+Ca(I),A=R;default:if(E<1){if(B==123)--E;else if(B==125&&E++==0&&HL()==125)continue}switch(I+=b0(B),B*E){case 38:T=b>0?1:(I+="\f",-1);break;case 44:p[y++]=(Ca(I)-1)*T,T=1;break;case 64:Da()===45&&(I+=pm(lo())),M=Da(),b=S=Ca(z=I+=UL(fm())),B++;break;case 45:R===45&&Ca(I)==2&&(E=0)}}return u}function ZC(i,t,s,r,a,u,d,p,m,y,b){for(var S=a-1,M=a===0?u:[""],A=m1(M),R=0,E=0,_=0;R<r;++R)for(var T=0,B=$f(i,S+1,S=FL(E=d[R])),z=i;T<A;++T)(z=LA(E>0?M[T]+" "+B:Pi(B,/&\f/g,M[T])))&&(m[_++]=z);return S0(i,t,s,a===0?p1:p,m,y,b)}function GL(i,t,s){return S0(i,t,s,NA,b0(VL()),$f(i,2,-2),0)}function JC(i,t,s,r){return S0(i,t,s,g1,$f(i,0,r),$f(i,r+1,-1),r)}function ch(i,t){for(var s="",r=m1(i),a=0;a<r;a++)s+=t(i[a],a,i,t)||"";return s}function qL(i,t,s,r){switch(i.type){case IL:if(i.children.length)break;case OL:case g1:return i.return=i.return||i.value;case NA:return"";case RA:return i.return=i.value+"{"+ch(i.children,r)+"}";case p1:i.value=i.props.join(",")}return Ca(s=ch(i.children,r))?i.return=i.value+"{"+s+"}":""}function KL(i){var t=m1(i);return function(s,r,a,u){for(var d="",p=0;p<t;p++)d+=i[p](s,r,a,u)||"";return d}}function ZL(i){return function(t){t.root||(t=t.return)&&i(t)}}function jA(i){var t=Object.create(null);return function(s){return t[s]===void 0&&(t[s]=i(s)),t[s]}}var JL=function(t,s,r){for(var a=0,u=0;a=u,u=Da(),a===38&&u===12&&(s[r]=1),!Yf(u);)lo();return cp(t,qr)},QL=function(t,s){var r=-1,a=44;do switch(Yf(a)){case 0:a===38&&Da()===12&&(s[r]=1),t[r]+=JL(qr-1,s,r);break;case 2:t[r]+=pm(a);break;case 4:if(a===44){t[++r]=Da()===58?"&\f":"",s[r]=t[r].length;break}default:t[r]+=b0(a)}while(a=lo());return t},eO=function(t,s){return FA(QL(IA(t),s))},QC=new WeakMap,tO=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var s=t.value,r=t.parent,a=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&s.charCodeAt(0)!==58&&!QC.get(r))&&!a){QC.set(t,!0);for(var u=[],d=eO(s,u),p=r.props,m=0,y=0;m<d.length;m++)for(var b=0;b<p.length;b++,y++)t.props[y]=u[m]?d[m].replace(/&\f/g,p[b]):p[b]+" "+d[m]}}},nO=function(t){if(t.type==="decl"){var s=t.value;s.charCodeAt(0)===108&&s.charCodeAt(2)===98&&(t.return="",t.value="")}};function _A(i,t){switch(_L(i,t)){case 5103:return ki+"print-"+i+i;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ki+i+i;case 5349:case 4246:case 4810:case 6968:case 2756:return ki+i+zm+i+pr+i+i;case 6828:case 4268:return ki+i+pr+i+i;case 6165:return ki+i+pr+"flex-"+i+i;case 5187:return ki+i+Pi(i,/(\w+).+(:[^]+)/,ki+"box-$1$2"+pr+"flex-$1$2")+i;case 5443:return ki+i+pr+"flex-item-"+Pi(i,/flex-|-self/,"")+i;case 4675:return ki+i+pr+"flex-line-pack"+Pi(i,/align-content|flex-|-self/,"")+i;case 5548:return ki+i+pr+Pi(i,"shrink","negative")+i;case 5292:return ki+i+pr+Pi(i,"basis","preferred-size")+i;case 6060:return ki+"box-"+Pi(i,"-grow","")+ki+i+pr+Pi(i,"grow","positive")+i;case 4554:return ki+Pi(i,/([^-])(transform)/g,"$1"+ki+"$2")+i;case 6187:return Pi(Pi(Pi(i,/(zoom-|grab)/,ki+"$1"),/(image-set)/,ki+"$1"),i,"")+i;case 5495:case 3959:return Pi(i,/(image-set\([^]*)/,ki+"$1$`$1");case 4968:return Pi(Pi(i,/(.+:)(flex-)?(.*)/,ki+"box-pack:$3"+pr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ki+i+i;case 4095:case 3583:case 4068:case 2532:return Pi(i,/(.+)-inline(.+)/,ki+"$1$2")+i;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ca(i)-1-t>6)switch(nr(i,t+1)){case 109:if(nr(i,t+4)!==45)break;case 102:return Pi(i,/(.+:)(.+)-([^]+)/,"$1"+ki+"$2-$3$1"+zm+(nr(i,t+3)==108?"$3":"$2-$3"))+i;case 115:return~lb(i,"stretch")?_A(Pi(i,"stretch","fill-available"),t)+i:i}break;case 4949:if(nr(i,t+1)!==115)break;case 6444:switch(nr(i,Ca(i)-3-(~lb(i,"!important")&&10))){case 107:return Pi(i,":",":"+ki)+i;case 101:return Pi(i,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ki+(nr(i,14)===45?"inline-":"")+"box$3$1"+ki+"$2$3$1"+pr+"$2box$3")+i}break;case 5936:switch(nr(i,t+11)){case 114:return ki+i+pr+Pi(i,/[svh]\w+-[tblr]{2}/,"tb")+i;case 108:return ki+i+pr+Pi(i,/[svh]\w+-[tblr]{2}/,"tb-rl")+i;case 45:return ki+i+pr+Pi(i,/[svh]\w+-[tblr]{2}/,"lr")+i}return ki+i+pr+i+i}return i}var iO=function(t,s,r,a){if(t.length>-1&&!t.return)switch(t.type){case g1:t.return=_A(t.value,t.length);break;case RA:return ch([Sd(t,{value:Pi(t.value,"@","@"+ki)})],a);case p1:if(t.length)return BL(t.props,function(u){switch(zL(u,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ch([Sd(t,{props:[Pi(u,/:(read-\w+)/,":"+zm+"$1")]})],a);case"::placeholder":return ch([Sd(t,{props:[Pi(u,/:(plac\w+)/,":"+ki+"input-$1")]}),Sd(t,{props:[Pi(u,/:(plac\w+)/,":"+zm+"$1")]}),Sd(t,{props:[Pi(u,/:(plac\w+)/,pr+"input-$1")]})],a)}return""})}},sO=[iO],zA=function(t){var s=t.key;if(s==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(E){var _=E.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(E),E.setAttribute("data-s",""))})}var a=t.stylisPlugins||sO,u={},d,p=[];d=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+s+' "]'),function(E){for(var _=E.getAttribute("data-emotion").split(" "),T=1;T<_.length;T++)u[_[T]]=!0;p.push(E)});var m,y=[tO,nO];{var b,S=[qL,ZL(function(E){b.insert(E)})],M=KL(y.concat(a,S)),A=function(_){return ch(XL(_),M)};m=function(_,T,B,z){b=B,A(_?_+"{"+T.styles+"}":T.styles),z&&(R.inserted[T.name]=!0)}}var R={key:s,sheet:new LL({key:s,container:d,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:u,registered:{},insert:m};return R.sheet.hydrate(p),R},Ux={exports:{}},Ai={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ek;function rO(){if(ek)return Ai;ek=1;var i=typeof Symbol=="function"&&Symbol.for,t=i?Symbol.for("react.element"):60103,s=i?Symbol.for("react.portal"):60106,r=i?Symbol.for("react.fragment"):60107,a=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,d=i?Symbol.for("react.provider"):60109,p=i?Symbol.for("react.context"):60110,m=i?Symbol.for("react.async_mode"):60111,y=i?Symbol.for("react.concurrent_mode"):60111,b=i?Symbol.for("react.forward_ref"):60112,S=i?Symbol.for("react.suspense"):60113,M=i?Symbol.for("react.suspense_list"):60120,A=i?Symbol.for("react.memo"):60115,R=i?Symbol.for("react.lazy"):60116,E=i?Symbol.for("react.block"):60121,_=i?Symbol.for("react.fundamental"):60117,T=i?Symbol.for("react.responder"):60118,B=i?Symbol.for("react.scope"):60119;function z(L){if(typeof L=="object"&&L!==null){var U=L.$$typeof;switch(U){case t:switch(L=L.type,L){case m:case y:case r:case u:case a:case S:return L;default:switch(L=L&&L.$$typeof,L){case p:case b:case R:case A:case d:return L;default:return U}}case s:return U}}}function W(L){return z(L)===y}return Ai.AsyncMode=m,Ai.ConcurrentMode=y,Ai.ContextConsumer=p,Ai.ContextProvider=d,Ai.Element=t,Ai.ForwardRef=b,Ai.Fragment=r,Ai.Lazy=R,Ai.Memo=A,Ai.Portal=s,Ai.Profiler=u,Ai.StrictMode=a,Ai.Suspense=S,Ai.isAsyncMode=function(L){return W(L)||z(L)===m},Ai.isConcurrentMode=W,Ai.isContextConsumer=function(L){return z(L)===p},Ai.isContextProvider=function(L){return z(L)===d},Ai.isElement=function(L){return typeof L=="object"&&L!==null&&L.$$typeof===t},Ai.isForwardRef=function(L){return z(L)===b},Ai.isFragment=function(L){return z(L)===r},Ai.isLazy=function(L){return z(L)===R},Ai.isMemo=function(L){return z(L)===A},Ai.isPortal=function(L){return z(L)===s},Ai.isProfiler=function(L){return z(L)===u},Ai.isStrictMode=function(L){return z(L)===a},Ai.isSuspense=function(L){return z(L)===S},Ai.isValidElementType=function(L){return typeof L=="string"||typeof L=="function"||L===r||L===y||L===u||L===a||L===S||L===M||typeof L=="object"&&L!==null&&(L.$$typeof===R||L.$$typeof===A||L.$$typeof===d||L.$$typeof===p||L.$$typeof===b||L.$$typeof===_||L.$$typeof===T||L.$$typeof===B||L.$$typeof===E)},Ai.typeOf=z,Ai}var tk;function oO(){return tk||(tk=1,Ux.exports=rO()),Ux.exports}var Xx,nk;function aO(){if(nk)return Xx;nk=1;var i=oO(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};u[i.ForwardRef]=r,u[i.Memo]=a;function d(R){return i.isMemo(R)?a:u[R.$$typeof]||t}var p=Object.defineProperty,m=Object.getOwnPropertyNames,y=Object.getOwnPropertySymbols,b=Object.getOwnPropertyDescriptor,S=Object.getPrototypeOf,M=Object.prototype;function A(R,E,_){if(typeof E!="string"){if(M){var T=S(E);T&&T!==M&&A(R,T,_)}var B=m(E);y&&(B=B.concat(y(E)));for(var z=d(R),W=d(E),L=0;L<B.length;++L){var U=B[L];if(!s[U]&&!(_&&_[U])&&!(W&&W[U])&&!(z&&z[U])){var I=b(E,U);try{p(R,U,I)}catch{}}}}return R}return Xx=A,Xx}aO();var lO=!0;function BA(i,t,s){var r="";return s.split(" ").forEach(function(a){i[a]!==void 0?t.push(i[a]+";"):a&&(r+=a+" ")}),r}var y1=function(t,s,r){var a=t.key+"-"+s.name;(r===!1||lO===!1)&&t.registered[a]===void 0&&(t.registered[a]=s.styles)},x1=function(t,s,r){y1(t,s,r);var a=t.key+"-"+s.name;if(t.inserted[s.name]===void 0){var u=s;do t.insert(s===u?"."+a:"",u,t.sheet,!0),u=u.next;while(u!==void 0)}};function cO(i){for(var t=0,s,r=0,a=i.length;a>=4;++r,a-=4)s=i.charCodeAt(r)&255|(i.charCodeAt(++r)&255)<<8|(i.charCodeAt(++r)&255)<<16|(i.charCodeAt(++r)&255)<<24,s=(s&65535)*1540483477+((s>>>16)*59797<<16),s^=s>>>24,t=(s&65535)*1540483477+((s>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(a){case 3:t^=(i.charCodeAt(r+2)&255)<<16;case 2:t^=(i.charCodeAt(r+1)&255)<<8;case 1:t^=i.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var uO={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hO=/[A-Z]|^ms/g,dO=/_EMO_([^_]+?)_([^]*?)_EMO_/g,VA=function(t){return t.charCodeAt(1)===45},ik=function(t){return t!=null&&typeof t!="boolean"},Gx=jA(function(i){return VA(i)?i:i.replace(hO,"-$&").toLowerCase()}),sk=function(t,s){switch(t){case"animation":case"animationName":if(typeof s=="string")return s.replace(dO,function(r,a,u){return ka={name:a,styles:u,next:ka},a})}return uO[t]!==1&&!VA(t)&&typeof s=="number"&&s!==0?s+"px":s};function Uf(i,t,s){if(s==null)return"";var r=s;if(r.__emotion_styles!==void 0)return r;switch(typeof s){case"boolean":return"";case"object":{var a=s;if(a.anim===1)return ka={name:a.name,styles:a.styles,next:ka},a.name;var u=s;if(u.styles!==void 0){var d=u.next;if(d!==void 0)for(;d!==void 0;)ka={name:d.name,styles:d.styles,next:ka},d=d.next;var p=u.styles+";";return p}return fO(i,t,s)}case"function":{if(i!==void 0){var m=ka,y=s(i);return ka=m,Uf(i,t,y)}break}}var b=s;if(t==null)return b;var S=t[b];return S!==void 0?S:b}function fO(i,t,s){var r="";if(Array.isArray(s))for(var a=0;a<s.length;a++)r+=Uf(i,t,s[a])+";";else for(var u in s){var d=s[u];if(typeof d!="object"){var p=d;t!=null&&t[p]!==void 0?r+=u+"{"+t[p]+"}":ik(p)&&(r+=Gx(u)+":"+sk(u,p)+";")}else if(Array.isArray(d)&&typeof d[0]=="string"&&(t==null||t[d[0]]===void 0))for(var m=0;m<d.length;m++)ik(d[m])&&(r+=Gx(u)+":"+sk(u,d[m])+";");else{var y=Uf(i,t,d);switch(u){case"animation":case"animationName":{r+=Gx(u)+":"+y+";";break}default:r+=u+"{"+y+"}"}}}return r}var rk=/label:\s*([^\s;{]+)\s*(;|$)/g,ka;function up(i,t,s){if(i.length===1&&typeof i[0]=="object"&&i[0]!==null&&i[0].styles!==void 0)return i[0];var r=!0,a="";ka=void 0;var u=i[0];if(u==null||u.raw===void 0)r=!1,a+=Uf(s,t,u);else{var d=u;a+=d[0]}for(var p=1;p<i.length;p++)if(a+=Uf(s,t,i[p]),r){var m=u;a+=m[p]}rk.lastIndex=0;for(var y="",b;(b=rk.exec(a))!==null;)y+="-"+b[1];var S=cO(a)+y;return{name:S,styles:a,next:ka}}var pO=function(t){return t()},HA=ab.useInsertionEffect?ab.useInsertionEffect:!1,WA=HA||pO,ok=HA||X.useLayoutEffect,$A=X.createContext(typeof HTMLElement<"u"?zA({key:"css"}):null),gO=$A.Provider,v1=function(t){return X.forwardRef(function(s,r){var a=X.useContext($A);return t(s,a,r)})},Ah=X.createContext({}),b1={}.hasOwnProperty,ub="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",mO=function(t,s){var r={};for(var a in s)b1.call(s,a)&&(r[a]=s[a]);return r[ub]=t,r},yO=function(t){var s=t.cache,r=t.serialized,a=t.isStringTag;return y1(s,r,a),WA(function(){return x1(s,r,a)}),null},xO=v1(function(i,t,s){var r=i.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var a=i[ub],u=[r],d="";typeof i.className=="string"?d=BA(t.registered,u,i.className):i.className!=null&&(d=i.className+" ");var p=up(u,void 0,X.useContext(Ah));d+=t.key+"-"+p.name;var m={};for(var y in i)b1.call(i,y)&&y!=="css"&&y!==ub&&(m[y]=i[y]);return m.className=d,s&&(m.ref=s),X.createElement(X.Fragment,null,X.createElement(yO,{cache:t,serialized:p,isStringTag:typeof a=="string"}),X.createElement(a,m))}),vO=xO,ak=function(t,s){var r=arguments;if(s==null||!b1.call(s,"css"))return X.createElement.apply(void 0,r);var a=r.length,u=new Array(a);u[0]=vO,u[1]=mO(t,s);for(var d=2;d<a;d++)u[d]=r[d];return X.createElement.apply(null,u)};(function(i){var t;t||(t=i.JSX||(i.JSX={}))})(ak||(ak={}));var bO=v1(function(i,t){var s=i.styles,r=up([s],void 0,X.useContext(Ah)),a=X.useRef();return ok(function(){var u=t.key+"-global",d=new t.sheet.constructor({key:u,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),p=!1,m=document.querySelector('style[data-emotion="'+u+" "+r.name+'"]');return t.sheet.tags.length&&(d.before=t.sheet.tags[0]),m!==null&&(p=!0,m.setAttribute("data-emotion",u),d.hydrate([m])),a.current=[d,p],function(){d.flush()}},[t]),ok(function(){var u=a.current,d=u[0],p=u[1];if(p){u[1]=!1;return}if(r.next!==void 0&&x1(t,r.next,!0),d.tags.length){var m=d.tags[d.tags.length-1].nextElementSibling;d.before=m,d.flush()}t.insert("",r,d,!1)},[t,r.name]),null});function C0(){for(var i=arguments.length,t=new Array(i),s=0;s<i;s++)t[s]=arguments[s];return up(t)}function Dh(){var i=C0.apply(void 0,arguments),t="animation-"+i.name;return{name:t,styles:"@keyframes "+t+"{"+i.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var wO=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,SO=jA(function(i){return wO.test(i)||i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)<91}),CO=SO,kO=function(t){return t!=="theme"},lk=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?CO:kO},ck=function(t,s,r){var a;if(s){var u=s.shouldForwardProp;a=t.__emotion_forwardProp&&u?function(d){return t.__emotion_forwardProp(d)&&u(d)}:u}return typeof a!="function"&&r&&(a=t.__emotion_forwardProp),a},PO=function(t){var s=t.cache,r=t.serialized,a=t.isStringTag;return y1(s,r,a),WA(function(){return x1(s,r,a)}),null},MO=function i(t,s){var r=t.__emotion_real===t,a=r&&t.__emotion_base||t,u,d;s!==void 0&&(u=s.label,d=s.target);var p=ck(t,s,r),m=p||lk(a),y=!m("as");return function(){var b=arguments,S=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(u!==void 0&&S.push("label:"+u+";"),b[0]==null||b[0].raw===void 0)S.push.apply(S,b);else{var M=b[0];S.push(M[0]);for(var A=b.length,R=1;R<A;R++)S.push(b[R],M[R])}var E=v1(function(_,T,B){var z=y&&_.as||a,W="",L=[],U=_;if(_.theme==null){U={};for(var I in _)U[I]=_[I];U.theme=X.useContext(Ah)}typeof _.className=="string"?W=BA(T.registered,L,_.className):_.className!=null&&(W=_.className+" ");var q=up(S.concat(L),T.registered,U);W+=T.key+"-"+q.name,d!==void 0&&(W+=" "+d);var ee=y&&p===void 0?lk(z):m,te={};for(var ce in _)y&&ce==="as"||ee(ce)&&(te[ce]=_[ce]);return te.className=W,B&&(te.ref=B),X.createElement(X.Fragment,null,X.createElement(PO,{cache:T,serialized:q,isStringTag:typeof z=="string"}),X.createElement(z,te))});return E.displayName=u!==void 0?u:"Styled("+(typeof a=="string"?a:a.displayName||a.name||"Component")+")",E.defaultProps=t.defaultProps,E.__emotion_real=E,E.__emotion_base=a,E.__emotion_styles=S,E.__emotion_forwardProp=p,Object.defineProperty(E,"toString",{value:function(){return"."+d}}),E.withComponent=function(_,T){var B=i(_,oe({},s,T,{shouldForwardProp:ck(E,T,!0)}));return B.apply(void 0,S)},E}},TO=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],hb=MO.bind(null);TO.forEach(function(i){hb[i]=hb(i)});function AO(i,t){const s=zA({key:"css",prepend:i});if(t){const r=s.insert;s.insert=(...a)=>(a[1].styles.match(/^@layer\s+[^{]*$/)||(a[1].styles=`@layer mui {${a[1].styles}}`),r(...a))}return s}const qx=new Map;function DO(i){const{injectFirst:t,enableCssLayer:s,children:r}=i,a=X.useMemo(()=>{const u=`${t}-${s}`;if(typeof document=="object"&&qx.has(u))return qx.get(u);const d=AO(t,s);return qx.set(u,d),d},[t,s]);return t||s?D.jsx(gO,{value:a,children:r}):r}function EO(i){return i==null||Object.keys(i).length===0}function YA(i){const{styles:t,defaultTheme:s={}}=i,r=typeof t=="function"?a=>t(EO(a)?s:a):t;return D.jsx(bO,{styles:r})}function w1(i,t){return hb(i,t)}const UA=(i,t)=>{Array.isArray(i.__emotion_styles)&&(i.__emotion_styles=t(i.__emotion_styles))},uk=[];function Bm(i){return uk[0]=i,up(uk)}const NO=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:YA,StyledEngineProvider:DO,ThemeContext:Ah,css:C0,default:w1,internal_processStyles:UA,internal_serializeStyles:Bm,keyframes:Dh},Symbol.toStringTag,{value:"Module"}));function pt(i,t){if(i==null)return{};var s={};for(var r in i)if({}.hasOwnProperty.call(i,r)){if(t.indexOf(r)!==-1)continue;s[r]=i[r]}return s}function Ga(i){if(typeof i!="object"||i===null)return!1;const t=Object.getPrototypeOf(i);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)}function XA(i){if(X.isValidElement(i)||!Ga(i))return i;const t={};return Object.keys(i).forEach(s=>{t[s]=XA(i[s])}),t}function Mr(i,t,s={clone:!0}){const r=s.clone?oe({},i):i;return Ga(i)&&Ga(t)&&Object.keys(t).forEach(a=>{X.isValidElement(t[a])?r[a]=t[a]:Ga(t[a])&&Object.prototype.hasOwnProperty.call(i,a)&&Ga(i[a])?r[a]=Mr(i[a],t[a],s):s.clone?r[a]=Ga(t[a])?XA(t[a]):t[a]:r[a]=t[a]}),r}const RO=Object.freeze(Object.defineProperty({__proto__:null,default:Mr,isPlainObject:Ga},Symbol.toStringTag,{value:"Module"})),LO=["values","unit","step"],OO=i=>{const t=Object.keys(i).map(s=>({key:s,val:i[s]}))||[];return t.sort((s,r)=>s.val-r.val),t.reduce((s,r)=>oe({},s,{[r.key]:r.val}),{})};function GA(i){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:s="px",step:r=5}=i,a=pt(i,LO),u=OO(t),d=Object.keys(u);function p(M){return`@media (min-width:${typeof t[M]=="number"?t[M]:M}${s})`}function m(M){return`@media (max-width:${(typeof t[M]=="number"?t[M]:M)-r/100}${s})`}function y(M,A){const R=d.indexOf(A);return`@media (min-width:${typeof t[M]=="number"?t[M]:M}${s}) and (max-width:${(R!==-1&&typeof t[d[R]]=="number"?t[d[R]]:A)-r/100}${s})`}function b(M){return d.indexOf(M)+1<d.length?y(M,d[d.indexOf(M)+1]):p(M)}function S(M){const A=d.indexOf(M);return A===0?p(d[1]):A===d.length-1?m(d[A]):y(M,d[d.indexOf(M)+1]).replace("@media","@media not all and")}return oe({keys:d,values:u,up:p,down:m,between:y,only:b,not:S,unit:s},a)}const IO={borderRadius:4};function Tf(i,t){return t?Mr(i,t,{clone:!1}):i}const S1={xs:0,sm:600,md:900,lg:1200,xl:1536},hk={keys:["xs","sm","md","lg","xl"],up:i=>`@media (min-width:${S1[i]}px)`};function Kr(i,t,s){const r=i.theme||{};if(Array.isArray(t)){const u=r.breakpoints||hk;return t.reduce((d,p,m)=>(d[u.up(u.keys[m])]=s(t[m]),d),{})}if(typeof t=="object"){const u=r.breakpoints||hk;return Object.keys(t).reduce((d,p)=>{if(Object.keys(u.values||S1).indexOf(p)!==-1){const m=u.up(p);d[m]=s(t[p],p)}else{const m=p;d[m]=t[m]}return d},{})}return s(t)}function qA(i={}){var t;return((t=i.keys)==null?void 0:t.reduce((r,a)=>{const u=i.up(a);return r[u]={},r},{}))||{}}function db(i,t){return i.reduce((s,r)=>{const a=s[r];return(!a||Object.keys(a).length===0)&&delete s[r],s},t)}function FO(i,...t){const s=qA(i),r=[s,...t].reduce((a,u)=>Mr(a,u),{});return db(Object.keys(s),r)}function jO(i,t){if(typeof i!="object")return{};const s={},r=Object.keys(t);return Array.isArray(i)?r.forEach((a,u)=>{u<i.length&&(s[a]=!0)}):r.forEach(a=>{i[a]!=null&&(s[a]=!0)}),s}function jc({values:i,breakpoints:t,base:s}){const r=s||jO(i,t),a=Object.keys(r);if(a.length===0)return i;let u;return a.reduce((d,p,m)=>(Array.isArray(i)?(d[p]=i[m]!=null?i[m]:i[u],u=m):typeof i=="object"?(d[p]=i[p]!=null?i[p]:i[u],u=p):d[p]=i,d),{})}function St(i){if(typeof i!="string")throw new Error(Qa(7));return i.charAt(0).toUpperCase()+i.slice(1)}const _O=Object.freeze(Object.defineProperty({__proto__:null,default:St},Symbol.toStringTag,{value:"Module"}));function mh(i,t,s=!0){if(!t||typeof t!="string")return null;if(i&&i.vars&&s){const r=`vars.${t}`.split(".").reduce((a,u)=>a&&a[u]?a[u]:null,i);if(r!=null)return r}return t.split(".").reduce((r,a)=>r&&r[a]!=null?r[a]:null,i)}function Vm(i,t,s,r=s){let a;return typeof i=="function"?a=i(s):Array.isArray(i)?a=i[s]||r:a=mh(i,s)||r,t&&(a=t(a,r,i)),a}function ks(i){const{prop:t,cssProperty:s=i.prop,themeKey:r,transform:a}=i,u=d=>{if(d[t]==null)return null;const p=d[t],m=d.theme,y=mh(m,r)||{};return Kr(d,p,S=>{let M=Vm(y,a,S);return S===M&&typeof S=="string"&&(M=Vm(y,a,`${t}${S==="default"?"":St(S)}`,S)),s===!1?M:{[s]:M}})};return u.propTypes={},u.filterProps=[t],u}function zO(i){const t={};return s=>(t[s]===void 0&&(t[s]=i(s)),t[s])}const BO={m:"margin",p:"padding"},VO={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},dk={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},HO=zO(i=>{if(i.length>2)if(dk[i])i=dk[i];else return[i];const[t,s]=i.split(""),r=BO[t],a=VO[s]||"";return Array.isArray(a)?a.map(u=>r+u):[r+a]}),C1=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],k1=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...C1,...k1];function hp(i,t,s,r){var a;const u=(a=mh(i,t,!1))!=null?a:s;return typeof u=="number"?d=>typeof d=="string"?d:u*d:Array.isArray(u)?d=>typeof d=="string"?d:u[d]:typeof u=="function"?u:()=>{}}function P1(i){return hp(i,"spacing",8)}function Wc(i,t){if(typeof t=="string"||t==null)return t;const s=Math.abs(t),r=i(s);return t>=0?r:typeof r=="number"?-r:`-${r}`}function WO(i,t){return s=>i.reduce((r,a)=>(r[a]=Wc(t,s),r),{})}function $O(i,t,s,r){if(t.indexOf(s)===-1)return null;const a=HO(s),u=WO(a,r),d=i[s];return Kr(i,d,u)}function KA(i,t){const s=P1(i.theme);return Object.keys(i).map(r=>$O(i,t,r,s)).reduce(Tf,{})}function fs(i){return KA(i,C1)}fs.propTypes={};fs.filterProps=C1;function ps(i){return KA(i,k1)}ps.propTypes={};ps.filterProps=k1;function YO(i=8){if(i.mui)return i;const t=P1({spacing:i}),s=(...r)=>(r.length===0?[1]:r).map(u=>{const d=t(u);return typeof d=="number"?`${d}px`:d}).join(" ");return s.mui=!0,s}function k0(...i){const t=i.reduce((r,a)=>(a.filterProps.forEach(u=>{r[u]=a}),r),{}),s=r=>Object.keys(r).reduce((a,u)=>t[u]?Tf(a,t[u](r)):a,{});return s.propTypes={},s.filterProps=i.reduce((r,a)=>r.concat(a.filterProps),[]),s}function Fo(i){return typeof i!="number"?i:`${i}px solid`}function Uo(i,t){return ks({prop:i,themeKey:"borders",transform:t})}const UO=Uo("border",Fo),XO=Uo("borderTop",Fo),GO=Uo("borderRight",Fo),qO=Uo("borderBottom",Fo),KO=Uo("borderLeft",Fo),ZO=Uo("borderColor"),JO=Uo("borderTopColor"),QO=Uo("borderRightColor"),eI=Uo("borderBottomColor"),tI=Uo("borderLeftColor"),nI=Uo("outline",Fo),iI=Uo("outlineColor"),P0=i=>{if(i.borderRadius!==void 0&&i.borderRadius!==null){const t=hp(i.theme,"shape.borderRadius",4),s=r=>({borderRadius:Wc(t,r)});return Kr(i,i.borderRadius,s)}return null};P0.propTypes={};P0.filterProps=["borderRadius"];k0(UO,XO,GO,qO,KO,ZO,JO,QO,eI,tI,P0,nI,iI);const M0=i=>{if(i.gap!==void 0&&i.gap!==null){const t=hp(i.theme,"spacing",8),s=r=>({gap:Wc(t,r)});return Kr(i,i.gap,s)}return null};M0.propTypes={};M0.filterProps=["gap"];const T0=i=>{if(i.columnGap!==void 0&&i.columnGap!==null){const t=hp(i.theme,"spacing",8),s=r=>({columnGap:Wc(t,r)});return Kr(i,i.columnGap,s)}return null};T0.propTypes={};T0.filterProps=["columnGap"];const A0=i=>{if(i.rowGap!==void 0&&i.rowGap!==null){const t=hp(i.theme,"spacing",8),s=r=>({rowGap:Wc(t,r)});return Kr(i,i.rowGap,s)}return null};A0.propTypes={};A0.filterProps=["rowGap"];const sI=ks({prop:"gridColumn"}),rI=ks({prop:"gridRow"}),oI=ks({prop:"gridAutoFlow"}),aI=ks({prop:"gridAutoColumns"}),lI=ks({prop:"gridAutoRows"}),cI=ks({prop:"gridTemplateColumns"}),uI=ks({prop:"gridTemplateRows"}),hI=ks({prop:"gridTemplateAreas"}),dI=ks({prop:"gridArea"});k0(M0,T0,A0,sI,rI,oI,aI,lI,cI,uI,hI,dI);function uh(i,t){return t==="grey"?t:i}const fI=ks({prop:"color",themeKey:"palette",transform:uh}),pI=ks({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:uh}),gI=ks({prop:"backgroundColor",themeKey:"palette",transform:uh});k0(fI,pI,gI);function ro(i){return i<=1&&i!==0?`${i*100}%`:i}const mI=ks({prop:"width",transform:ro}),M1=i=>{if(i.maxWidth!==void 0&&i.maxWidth!==null){const t=s=>{var r,a;const u=((r=i.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[s])||S1[s];return u?((a=i.theme)==null||(a=a.breakpoints)==null?void 0:a.unit)!=="px"?{maxWidth:`${u}${i.theme.breakpoints.unit}`}:{maxWidth:u}:{maxWidth:ro(s)}};return Kr(i,i.maxWidth,t)}return null};M1.filterProps=["maxWidth"];const yI=ks({prop:"minWidth",transform:ro}),xI=ks({prop:"height",transform:ro}),vI=ks({prop:"maxHeight",transform:ro}),bI=ks({prop:"minHeight",transform:ro});ks({prop:"size",cssProperty:"width",transform:ro});ks({prop:"size",cssProperty:"height",transform:ro});const wI=ks({prop:"boxSizing"});k0(mI,M1,yI,xI,vI,bI,wI);const dp={border:{themeKey:"borders",transform:Fo},borderTop:{themeKey:"borders",transform:Fo},borderRight:{themeKey:"borders",transform:Fo},borderBottom:{themeKey:"borders",transform:Fo},borderLeft:{themeKey:"borders",transform:Fo},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Fo},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:P0},color:{themeKey:"palette",transform:uh},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:uh},backgroundColor:{themeKey:"palette",transform:uh},p:{style:ps},pt:{style:ps},pr:{style:ps},pb:{style:ps},pl:{style:ps},px:{style:ps},py:{style:ps},padding:{style:ps},paddingTop:{style:ps},paddingRight:{style:ps},paddingBottom:{style:ps},paddingLeft:{style:ps},paddingX:{style:ps},paddingY:{style:ps},paddingInline:{style:ps},paddingInlineStart:{style:ps},paddingInlineEnd:{style:ps},paddingBlock:{style:ps},paddingBlockStart:{style:ps},paddingBlockEnd:{style:ps},m:{style:fs},mt:{style:fs},mr:{style:fs},mb:{style:fs},ml:{style:fs},mx:{style:fs},my:{style:fs},margin:{style:fs},marginTop:{style:fs},marginRight:{style:fs},marginBottom:{style:fs},marginLeft:{style:fs},marginX:{style:fs},marginY:{style:fs},marginInline:{style:fs},marginInlineStart:{style:fs},marginInlineEnd:{style:fs},marginBlock:{style:fs},marginBlockStart:{style:fs},marginBlockEnd:{style:fs},displayPrint:{cssProperty:!1,transform:i=>({"@media print":{display:i}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:M0},rowGap:{style:A0},columnGap:{style:T0},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:ro},maxWidth:{style:M1},minWidth:{transform:ro},height:{transform:ro},maxHeight:{transform:ro},minHeight:{transform:ro},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function SI(...i){const t=i.reduce((r,a)=>r.concat(Object.keys(a)),[]),s=new Set(t);return i.every(r=>s.size===Object.keys(r).length)}function CI(i,t){return typeof i=="function"?i(t):i}function ZA(){function i(s,r,a,u){const d={[s]:r,theme:a},p=u[s];if(!p)return{[s]:r};const{cssProperty:m=s,themeKey:y,transform:b,style:S}=p;if(r==null)return null;if(y==="typography"&&r==="inherit")return{[s]:r};const M=mh(a,y)||{};return S?S(d):Kr(d,r,R=>{let E=Vm(M,b,R);return R===E&&typeof R=="string"&&(E=Vm(M,b,`${s}${R==="default"?"":St(R)}`,R)),m===!1?E:{[m]:E}})}function t(s){var r;const{sx:a,theme:u={},nested:d}=s||{};if(!a)return null;const p=(r=u.unstable_sxConfig)!=null?r:dp;function m(y){let b=y;if(typeof y=="function")b=y(u);else if(typeof y!="object")return y;if(!b)return null;const S=qA(u.breakpoints),M=Object.keys(S);let A=S;return Object.keys(b).forEach(R=>{const E=CI(b[R],u);if(E!=null)if(typeof E=="object")if(p[R])A=Tf(A,i(R,E,u,p));else{const _=Kr({theme:u},E,T=>({[R]:T}));SI(_,E)?A[R]=t({sx:E,theme:u,nested:!0}):A=Tf(A,_)}else A=Tf(A,i(R,E,u,p))}),!d&&u.modularCssLayers?{"@layer sx":db(M,A)}:db(M,A)}return Array.isArray(a)?a.map(m):m(a)}return t}const Eh=ZA();Eh.filterProps=["sx"];function JA(i,t){const s=this;return s.vars&&typeof s.getColorSchemeSelector=="function"?{[s.getColorSchemeSelector(i).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:s.palette.mode===i?t:{}}const kI=["breakpoints","palette","spacing","shape"];function fp(i={},...t){const{breakpoints:s={},palette:r={},spacing:a,shape:u={}}=i,d=pt(i,kI),p=GA(s),m=YO(a);let y=Mr({breakpoints:p,direction:"ltr",components:{},palette:oe({mode:"light"},r),spacing:m,shape:oe({},IO,u)},d);return y.applyStyles=JA,y=t.reduce((b,S)=>Mr(b,S),y),y.unstable_sxConfig=oe({},dp,d?.unstable_sxConfig),y.unstable_sx=function(S){return Eh({sx:S,theme:this})},y}const PI=Object.freeze(Object.defineProperty({__proto__:null,default:fp,private_createBreakpoints:GA,unstable_applyStyles:JA},Symbol.toStringTag,{value:"Module"}));function MI(i){return Object.keys(i).length===0}function D0(i=null){const t=X.useContext(Ah);return!t||MI(t)?i:t}const TI=fp();function Nh(i=TI){return D0(i)}function Kx(i){const t=Bm(i);return i!==t&&t.styles?(t.styles.match(/^@layer\s+[^{]*$/)||(t.styles=`@layer global{${t.styles}}`),t):i}function QA({styles:i,themeId:t,defaultTheme:s={}}){const r=Nh(s),a=t&&r[t]||r;let u=typeof i=="function"?i(a):i;return a.modularCssLayers&&(Array.isArray(u)?u=u.map(d=>Kx(typeof d=="function"?d(a):d)):u=Kx(u)),D.jsx(YA,{styles:u})}const AI=["sx"],DI=i=>{var t,s;const r={systemProps:{},otherProps:{}},a=(t=i==null||(s=i.theme)==null?void 0:s.unstable_sxConfig)!=null?t:dp;return Object.keys(i).forEach(u=>{a[u]?r.systemProps[u]=i[u]:r.otherProps[u]=i[u]}),r};function pp(i){const{sx:t}=i,s=pt(i,AI),{systemProps:r,otherProps:a}=DI(s);let u;return Array.isArray(t)?u=[r,...t]:typeof t=="function"?u=(...d)=>{const p=t(...d);return Ga(p)?oe({},r,p):r}:u=oe({},r,t),oe({},a,{sx:u})}const EI=Object.freeze(Object.defineProperty({__proto__:null,default:Eh,extendSxProp:pp,unstable_createStyleFunctionSx:ZA,unstable_defaultSxConfig:dp},Symbol.toStringTag,{value:"Module"})),fk=i=>i,NI=()=>{let i=fk;return{configure(t){i=t},generate(t){return i(t)},reset(){i=fk}}},T1=NI();function e2(i){var t,s,r="";if(typeof i=="string"||typeof i=="number")r+=i;else if(typeof i=="object")if(Array.isArray(i)){var a=i.length;for(t=0;t<a;t++)i[t]&&(s=e2(i[t]))&&(r&&(r+=" "),r+=s)}else for(s in i)i[s]&&(r&&(r+=" "),r+=s);return r}function Pt(){for(var i,t,s=0,r="",a=arguments.length;s<a;s++)(i=arguments[s])&&(t=e2(i))&&(r&&(r+=" "),r+=t);return r}const RI=["className","component"];function LI(i={}){const{themeId:t,defaultTheme:s,defaultClassName:r="MuiBox-root",generateClassName:a}=i,u=w1("div",{shouldForwardProp:p=>p!=="theme"&&p!=="sx"&&p!=="as"})(Eh);return X.forwardRef(function(m,y){const b=Nh(s),S=pp(m),{className:M,component:A="div"}=S,R=pt(S,RI);return D.jsx(u,oe({as:A,ref:y,className:Pt(M,a?a(r):r),theme:t&&b[t]||b},R))})}const OI={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Qt(i,t,s="Mui"){const r=OI[t];return r?`${s}-${r}`:`${T1.generate(i)}-${t}`}function en(i,t,s="Mui"){const r={};return t.forEach(a=>{r[a]=Qt(i,a,s)}),r}var Zx={exports:{}},Ii={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pk;function II(){if(pk)return Ii;pk=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),M=Symbol.for("react.view_transition"),A=Symbol.for("react.client.reference");function R(E){if(typeof E=="object"&&E!==null){var _=E.$$typeof;switch(_){case i:switch(E=E.type,E){case s:case a:case r:case m:case y:case M:return E;default:switch(E=E&&E.$$typeof,E){case d:case p:case S:case b:return E;case u:return E;default:return _}}case t:return _}}}return Ii.ContextConsumer=u,Ii.ContextProvider=d,Ii.Element=i,Ii.ForwardRef=p,Ii.Fragment=s,Ii.Lazy=S,Ii.Memo=b,Ii.Portal=t,Ii.Profiler=a,Ii.StrictMode=r,Ii.Suspense=m,Ii.SuspenseList=y,Ii.isContextConsumer=function(E){return R(E)===u},Ii.isContextProvider=function(E){return R(E)===d},Ii.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===i},Ii.isForwardRef=function(E){return R(E)===p},Ii.isFragment=function(E){return R(E)===s},Ii.isLazy=function(E){return R(E)===S},Ii.isMemo=function(E){return R(E)===b},Ii.isPortal=function(E){return R(E)===t},Ii.isProfiler=function(E){return R(E)===a},Ii.isStrictMode=function(E){return R(E)===r},Ii.isSuspense=function(E){return R(E)===m},Ii.isSuspenseList=function(E){return R(E)===y},Ii.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===s||E===a||E===r||E===m||E===y||typeof E=="object"&&E!==null&&(E.$$typeof===S||E.$$typeof===b||E.$$typeof===d||E.$$typeof===u||E.$$typeof===p||E.$$typeof===A||E.getModuleId!==void 0)},Ii.typeOf=R,Ii}var gk;function FI(){return gk||(gk=1,Zx.exports=II()),Zx.exports}var mk=FI();const jI=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function t2(i){const t=`${i}`.match(jI);return t&&t[1]||""}function n2(i,t=""){return i.displayName||i.name||t2(i)||t}function yk(i,t,s){const r=n2(t);return i.displayName||(r!==""?`${s}(${r})`:s)}function _I(i){if(i!=null){if(typeof i=="string")return i;if(typeof i=="function")return n2(i,"Component");if(typeof i=="object")switch(i.$$typeof){case mk.ForwardRef:return yk(i,i.render,"ForwardRef");case mk.Memo:return yk(i,i.type,"memo");default:return}}}const zI=Object.freeze(Object.defineProperty({__proto__:null,default:_I,getFunctionName:t2},Symbol.toStringTag,{value:"Module"})),BI=["ownerState"],VI=["variants"],HI=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function WI(i){return Object.keys(i).length===0}function $I(i){return typeof i=="string"&&i.charCodeAt(0)>96}function Jx(i){return i!=="ownerState"&&i!=="theme"&&i!=="sx"&&i!=="as"}function xk(i,t){return t&&i&&typeof i=="object"&&i.styles&&!i.styles.startsWith("@layer")&&(i.styles=`@layer ${t}{${String(i.styles)}}`),i}const YI=fp(),UI=i=>i&&i.charAt(0).toLowerCase()+i.slice(1);function jg({defaultTheme:i,theme:t,themeId:s}){return WI(t)?i:t[s]||t}function XI(i){return i?(t,s)=>s[i]:null}function mm(i,t,s){let{ownerState:r}=t,a=pt(t,BI);const u=typeof i=="function"?i(oe({ownerState:r},a)):i;if(Array.isArray(u))return u.flatMap(d=>mm(d,oe({ownerState:r},a),s));if(u&&typeof u=="object"&&Array.isArray(u.variants)){const{variants:d=[]}=u;let m=pt(u,VI);return d.forEach(y=>{let b=!0;if(typeof y.props=="function"?b=y.props(oe({ownerState:r},a,r)):Object.keys(y.props).forEach(S=>{r?.[S]!==y.props[S]&&a[S]!==y.props[S]&&(b=!1)}),b){Array.isArray(m)||(m=[m]);const S=typeof y.style=="function"?y.style(oe({ownerState:r},a,r)):y.style;m.push(s?xk(Bm(S),s):S)}}),m}return s?xk(Bm(u),s):u}function GI(i={}){const{themeId:t,defaultTheme:s=YI,rootShouldForwardProp:r=Jx,slotShouldForwardProp:a=Jx}=i,u=d=>Eh(oe({},d,{theme:jg(oe({},d,{defaultTheme:s,themeId:t}))}));return u.__mui_systemSx=!0,(d,p={})=>{UA(d,U=>U.filter(I=>!(I!=null&&I.__mui_systemSx)));const{name:m,slot:y,skipVariantsResolver:b,skipSx:S,overridesResolver:M=XI(UI(y))}=p,A=pt(p,HI),R=m&&m.startsWith("Mui")||y?"components":"custom",E=b!==void 0?b:y&&y!=="Root"&&y!=="root"||!1,_=S||!1;let T,B=Jx;y==="Root"||y==="root"?B=r:y?B=a:$I(d)&&(B=void 0);const z=w1(d,oe({shouldForwardProp:B,label:T},A)),W=U=>typeof U=="function"&&U.__emotion_real!==U||Ga(U)?I=>{const q=jg({theme:I.theme,defaultTheme:s,themeId:t});return mm(U,oe({},I,{theme:q}),q.modularCssLayers?R:void 0)}:U,L=(U,...I)=>{let q=W(U);const ee=I?I.map(W):[];m&&M&&ee.push(re=>{const ae=jg(oe({},re,{defaultTheme:s,themeId:t}));if(!ae.components||!ae.components[m]||!ae.components[m].styleOverrides)return null;const ue=ae.components[m].styleOverrides,ie={};return Object.entries(ue).forEach(([he,pe])=>{ie[he]=mm(pe,oe({},re,{theme:ae}),ae.modularCssLayers?"theme":void 0)}),M(re,ie)}),m&&!E&&ee.push(re=>{var ae;const ue=jg(oe({},re,{defaultTheme:s,themeId:t})),ie=ue==null||(ae=ue.components)==null||(ae=ae[m])==null?void 0:ae.variants;return mm({variants:ie},oe({},re,{theme:ue}),ue.modularCssLayers?"theme":void 0)}),_||ee.push(u);const te=ee.length-I.length;if(Array.isArray(U)&&te>0){const re=new Array(te).fill("");q=[...U,...re],q.raw=[...U.raw,...re]}const ce=z(q,...ee);return d.muiName&&(ce.muiName=d.muiName),ce};return z.withConfig&&(L.withConfig=z.withConfig),L}}const qI=GI();function i2(i){const{theme:t,name:s,props:r}=i;return!t||!t.components||!t.components[s]||!t.components[s].defaultProps?r:Wf(t.components[s].defaultProps,r)}function s2({props:i,name:t,defaultTheme:s,themeId:r}){let a=Nh(s);return r&&(a=a[r]||a),i2({theme:a,name:t,props:i})}const ys=typeof window<"u"?X.useLayoutEffect:X.useEffect;function KI(i,t,s,r,a){const[u,d]=X.useState(()=>a&&s?s(i).matches:r?r(i).matches:t);return ys(()=>{let p=!0;if(!s)return;const m=s(i),y=()=>{p&&d(m.matches)};return y(),m.addListener(y),()=>{p=!1,m.removeListener(y)}},[i,s]),u}const r2=X.useSyncExternalStore;function ZI(i,t,s,r,a){const u=X.useCallback(()=>t,[t]),d=X.useMemo(()=>{if(a&&s)return()=>s(i).matches;if(r!==null){const{matches:b}=r(i);return()=>b}return u},[u,i,r,a,s]),[p,m]=X.useMemo(()=>{if(s===null)return[u,()=>()=>{}];const b=s(i);return[()=>b.matches,S=>(b.addListener(S),()=>{b.removeListener(S)})]},[u,s,i]);return r2(m,p,d)}function A1(i,t={}){const s=D0(),r=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:a=!1,matchMedia:u=r?window.matchMedia:null,ssrMatchMedia:d=null,noSsr:p=!1}=i2({name:"MuiUseMediaQuery",props:t,theme:s});let m=typeof i=="function"?i(s):i;return m=m.replace(/^@media( ?)/m,""),(r2!==void 0?ZI:KI)(m,a,u,d,p)}function o2(i,t=Number.MIN_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(i,s))}const JI=Object.freeze(Object.defineProperty({__proto__:null,default:o2},Symbol.toStringTag,{value:"Module"}));function QI(i,t=0,s=1){return o2(i,t,s)}function eF(i){i=i.slice(1);const t=new RegExp(`.{1,${i.length>=6?2:1}}`,"g");let s=i.match(t);return s&&s[0].length===1&&(s=s.map(r=>r+r)),s?`rgb${s.length===4?"a":""}(${s.map((r,a)=>a<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function a2(i){if(i.type)return i;if(i.charAt(0)==="#")return a2(eF(i));const t=i.indexOf("("),s=i.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(s)===-1)throw new Error(Qa(9,i));let r=i.substring(t+1,i.length-1),a;if(s==="color"){if(r=r.split(" "),a=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(a)===-1)throw new Error(Qa(10,a))}else r=r.split(",");return r=r.map(u=>parseFloat(u)),{type:s,values:r,colorSpace:a}}function tF(i){const{type:t,colorSpace:s}=i;let{values:r}=i;return t.indexOf("rgb")!==-1?r=r.map((a,u)=>u<3?parseInt(a,10):a):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${s} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function $r(i,t){return i=a2(i),t=QI(t),(i.type==="rgb"||i.type==="hsl")&&(i.type+="a"),i.type==="color"?i.values[3]=`/${t}`:i.values[3]=t,tF(i)}const l2=nt.oneOfType([nt.func,nt.object]);function fb(...i){return i.reduce((t,s)=>s==null?t:function(...a){t.apply(this,a),s.apply(this,a)},()=>{})}function Rh(i,t=166){let s;function r(...a){const u=()=>{i.apply(this,a)};clearTimeout(s),s=setTimeout(u,t)}return r.clear=()=>{clearTimeout(s)},r}function nF(i,t){return()=>null}function Af(i,t){var s,r;return X.isValidElement(i)&&t.indexOf((s=i.type.muiName)!=null?s:(r=i.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function Is(i){return i&&i.ownerDocument||document}function Ho(i){return Is(i).defaultView||window}function iF(i,t){return()=>null}function Hm(i,t){typeof i=="function"?i(t):i&&(i.current=t)}let vk=0;function sF(i){const[t,s]=X.useState(i),r=i||t;return X.useEffect(()=>{t==null&&(vk+=1,s(`mui-${vk}`))},[t]),r}const bk=ab.useId;function sl(i){if(bk!==void 0){const t=bk();return i??t}return sF(i)}function rF(i,t,s,r,a){return null}function uo({controlled:i,default:t,name:s,state:r="value"}){const{current:a}=X.useRef(i!==void 0),[u,d]=X.useState(t),p=a?i:u,m=X.useCallback(y=>{a||d(y)},[]);return[p,m]}function vn(i){const t=X.useRef(i);return ys(()=>{t.current=i}),X.useRef((...s)=>(0,t.current)(...s)).current}function fi(...i){return X.useMemo(()=>i.every(t=>t==null)?null:t=>{i.forEach(s=>{Hm(s,t)})},i)}const wk={};function oF(i,t){const s=X.useRef(wk);return s.current===wk&&(s.current=i(t)),s}const aF=[];function lF(i){X.useEffect(i,aF)}class gp{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new gp}start(t,s){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,s()},t)}}function Ec(){const i=oF(gp.create).current;return lF(i.disposeEffect),i}let E0=!0,pb=!1;const cF=new gp,uF={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function hF(i){const{type:t,tagName:s}=i;return!!(s==="INPUT"&&uF[t]&&!i.readOnly||s==="TEXTAREA"&&!i.readOnly||i.isContentEditable)}function dF(i){i.metaKey||i.altKey||i.ctrlKey||(E0=!0)}function Qx(){E0=!1}function fF(){this.visibilityState==="hidden"&&pb&&(E0=!0)}function pF(i){i.addEventListener("keydown",dF,!0),i.addEventListener("mousedown",Qx,!0),i.addEventListener("pointerdown",Qx,!0),i.addEventListener("touchstart",Qx,!0),i.addEventListener("visibilitychange",fF,!0)}function gF(i){const{target:t}=i;try{return t.matches(":focus-visible")}catch{}return E0||hF(t)}function N0(){const i=X.useCallback(a=>{a!=null&&pF(a.ownerDocument)},[]),t=X.useRef(!1);function s(){return t.current?(pb=!0,cF.start(100,()=>{pb=!1}),t.current=!1,!0):!1}function r(a){return gF(a)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:r,onBlur:s,ref:i}}function c2(i){const t=i.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}let Bu;function u2(){if(Bu)return Bu;const i=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",i.appendChild(t),i.dir="rtl",i.style.fontSize="14px",i.style.width="4px",i.style.height="1px",i.style.position="absolute",i.style.top="-1000px",i.style.overflow="scroll",document.body.appendChild(i),Bu="reverse",i.scrollLeft>0?Bu="default":(i.scrollLeft=1,i.scrollLeft===0&&(Bu="negative")),document.body.removeChild(i),Bu}function mF(i,t){const s=i.scrollLeft;if(t!=="rtl")return s;switch(u2()){case"negative":return i.scrollWidth-i.clientWidth+s;case"reverse":return i.scrollWidth-i.clientWidth-s;default:return s}}function tn(i,t,s=void 0){const r={};return Object.keys(i).forEach(a=>{r[a]=i[a].reduce((u,d)=>{if(d){const p=t(d);p!==""&&u.push(p),s&&s[d]&&u.push(s[d])}return u},[]).join(" ")}),r}function yh(i){return typeof i=="string"}function sh(i,t,s){return i===void 0||yh(i)?t:oe({},t,{ownerState:oe({},t.ownerState,s)})}function h2(i,t=[]){if(i===void 0)return{};const s={};return Object.keys(i).filter(r=>r.match(/^on[A-Z]/)&&typeof i[r]=="function"&&!t.includes(r)).forEach(r=>{s[r]=i[r]}),s}function Sk(i){if(i===void 0)return{};const t={};return Object.keys(i).filter(s=>!(s.match(/^on[A-Z]/)&&typeof i[s]=="function")).forEach(s=>{t[s]=i[s]}),t}function d2(i){const{getSlotProps:t,additionalProps:s,externalSlotProps:r,externalForwardedProps:a,className:u}=i;if(!t){const A=Pt(s?.className,u,a?.className,r?.className),R=oe({},s?.style,a?.style,r?.style),E=oe({},s,a,r);return A.length>0&&(E.className=A),Object.keys(R).length>0&&(E.style=R),{props:E,internalRef:void 0}}const d=h2(oe({},a,r)),p=Sk(r),m=Sk(a),y=t(d),b=Pt(y?.className,s?.className,u,a?.className,r?.className),S=oe({},y?.style,s?.style,a?.style,r?.style),M=oe({},y,s,m,p);return b.length>0&&(M.className=b),Object.keys(S).length>0&&(M.style=S),{props:M,internalRef:y.ref}}function f2(i,t,s){return typeof i=="function"?i(t,s):i}const yF=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function ra(i){var t;const{elementType:s,externalSlotProps:r,ownerState:a,skipResolvingSlotProps:u=!1}=i,d=pt(i,yF),p=u?{}:f2(r,a),{props:m,internalRef:y}=d2(oe({},d,{externalSlotProps:p})),b=fi(y,p?.ref,(t=i.additionalProps)==null?void 0:t.ref);return sh(s,oe({},m,{ref:b}),a)}function Qc(i){if(parseInt(X.version,10)>=19){var t;return(i==null||(t=i.props)==null?void 0:t.ref)||null}return i?.ref||null}const p2=X.createContext(null);function g2(){return X.useContext(p2)}const xF=typeof Symbol=="function"&&Symbol.for,vF=xF?Symbol.for("mui.nested"):"__THEME_NESTED__";function bF(i,t){return typeof t=="function"?t(i):oe({},i,t)}function wF(i){const{children:t,theme:s}=i,r=g2(),a=X.useMemo(()=>{const u=r===null?s:bF(r,s);return u!=null&&(u[vF]=r!==null),u},[s,r]);return D.jsx(p2.Provider,{value:a,children:t})}const SF=["value"],m2=X.createContext();function CF(i){let{value:t}=i,s=pt(i,SF);return D.jsx(m2.Provider,oe({value:t??!0},s))}const mp=()=>{const i=X.useContext(m2);return i??!1};function kF(i){const t=D0(),s=sl()||"",{modularCssLayers:r}=i;let a="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||t!==null?a="":typeof r=="string"?a=r.replace(/mui(?!\.)/g,a):a=`@layer ${a};`,ys(()=>{const u=document.querySelector("head");if(!u)return;const d=u.firstChild;if(a){var p;if(d&&(p=d.hasAttribute)!=null&&p.call(d,"data-mui-layer-order")&&d.getAttribute("data-mui-layer-order")===s)return;const y=document.createElement("style");y.setAttribute("data-mui-layer-order",s),y.textContent=a,u.prepend(y)}else{var m;(m=u.querySelector(`style[data-mui-layer-order="${s}"]`))==null||m.remove()}},[a,s]),a?D.jsx(QA,{styles:a}):null}const Ck={};function kk(i,t,s,r=!1){return X.useMemo(()=>{const a=i&&t[i]||t;if(typeof s=="function"){const u=s(a),d=i?oe({},t,{[i]:u}):u;return r?()=>d:d}return i?oe({},t,{[i]:s}):oe({},t,s)},[i,t,s,r])}function PF(i){const{children:t,theme:s,themeId:r}=i,a=D0(Ck),u=g2()||Ck,d=kk(r,a,s),p=kk(r,u,s,!0),m=d.direction==="rtl",y=kF(d);return D.jsx(wF,{theme:p,children:D.jsx(Ah.Provider,{value:d,children:D.jsx(CF,{value:m,children:D.jsxs(TL,{value:d?.components,children:[y,t]})})})})}function el(i){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},el(i)}function MF(i,t){if(el(i)!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var r=s.call(i,t);if(el(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function y2(i){var t=MF(i,"string");return el(t)=="symbol"?t:t+""}const TF=["component","direction","spacing","divider","children","className","useFlexGap"],AF=fp(),DF=qI("div",{name:"MuiStack",slot:"Root",overridesResolver:(i,t)=>t.root});function EF(i){return s2({props:i,name:"MuiStack",defaultTheme:AF})}function NF(i,t){const s=X.Children.toArray(i).filter(Boolean);return s.reduce((r,a,u)=>(r.push(a),u<s.length-1&&r.push(X.cloneElement(t,{key:`separator-${u}`})),r),[])}const RF=i=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[i],LF=({ownerState:i,theme:t})=>{let s=oe({display:"flex",flexDirection:"column"},Kr({theme:t},jc({values:i.direction,breakpoints:t.breakpoints.values}),r=>({flexDirection:r})));if(i.spacing){const r=P1(t),a=Object.keys(t.breakpoints.values).reduce((m,y)=>((typeof i.spacing=="object"&&i.spacing[y]!=null||typeof i.direction=="object"&&i.direction[y]!=null)&&(m[y]=!0),m),{}),u=jc({values:i.direction,base:a}),d=jc({values:i.spacing,base:a});typeof u=="object"&&Object.keys(u).forEach((m,y,b)=>{if(!u[m]){const M=y>0?u[b[y-1]]:"column";u[m]=M}}),s=Mr(s,Kr({theme:t},d,(m,y)=>i.useFlexGap?{gap:Wc(r,m)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${RF(y?u[y]:i.direction)}`]:Wc(r,m)}}))}return s=FO(t.breakpoints,s),s};function OF(i={}){const{createStyledComponent:t=DF,useThemeProps:s=EF,componentName:r="MuiStack"}=i,a=()=>tn({root:["root"]},m=>Qt(r,m),{}),u=t(LF);return X.forwardRef(function(m,y){const b=s(m),S=pp(b),{component:M="div",direction:A="column",spacing:R=0,divider:E,children:_,className:T,useFlexGap:B=!1}=S,z=pt(S,TF),W={direction:A,spacing:R,useFlexGap:B},L=a();return D.jsx(u,oe({as:M,ownerState:W,ref:y,className:Pt(L.root,T)},z,{children:E?NF(_,E):_}))})}function IF(i,t){return oe({toolbar:{minHeight:56,[i.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[i.up("sm")]:{minHeight:64}}},t)}var ls={},ev={exports:{}},Pk;function Ei(){return Pk||(Pk=1,function(i){function t(s){return s&&s.__esModule?s:{default:s}}i.exports=t,i.exports.__esModule=!0,i.exports.default=i.exports}(ev)),ev.exports}const FF=La(EL),jF=La(JI);var Mk;function _F(){if(Mk)return ls;Mk=1;var i=Ei();Object.defineProperty(ls,"__esModule",{value:!0}),ls.alpha=R,ls.blend=U,ls.colorChannel=void 0,ls.darken=_,ls.decomposeColor=d,ls.emphasize=W,ls.getContrastRatio=A,ls.getLuminance=M,ls.hexToRgb=a,ls.hslToRgb=S,ls.lighten=B,ls.private_safeAlpha=E,ls.private_safeColorChannel=void 0,ls.private_safeDarken=T,ls.private_safeEmphasize=L,ls.private_safeLighten=z,ls.recomposeColor=y,ls.rgbToHex=b;var t=i(FF),s=i(jF);function r(I,q=0,ee=1){return(0,s.default)(I,q,ee)}function a(I){I=I.slice(1);const q=new RegExp(`.{1,${I.length>=6?2:1}}`,"g");let ee=I.match(q);return ee&&ee[0].length===1&&(ee=ee.map(te=>te+te)),ee?`rgb${ee.length===4?"a":""}(${ee.map((te,ce)=>ce<3?parseInt(te,16):Math.round(parseInt(te,16)/255*1e3)/1e3).join(", ")})`:""}function u(I){const q=I.toString(16);return q.length===1?`0${q}`:q}function d(I){if(I.type)return I;if(I.charAt(0)==="#")return d(a(I));const q=I.indexOf("("),ee=I.substring(0,q);if(["rgb","rgba","hsl","hsla","color"].indexOf(ee)===-1)throw new Error((0,t.default)(9,I));let te=I.substring(q+1,I.length-1),ce;if(ee==="color"){if(te=te.split(" "),ce=te.shift(),te.length===4&&te[3].charAt(0)==="/"&&(te[3]=te[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(ce)===-1)throw new Error((0,t.default)(10,ce))}else te=te.split(",");return te=te.map(re=>parseFloat(re)),{type:ee,values:te,colorSpace:ce}}const p=I=>{const q=d(I);return q.values.slice(0,3).map((ee,te)=>q.type.indexOf("hsl")!==-1&&te!==0?`${ee}%`:ee).join(" ")};ls.colorChannel=p;const m=(I,q)=>{try{return p(I)}catch{return I}};ls.private_safeColorChannel=m;function y(I){const{type:q,colorSpace:ee}=I;let{values:te}=I;return q.indexOf("rgb")!==-1?te=te.map((ce,re)=>re<3?parseInt(ce,10):ce):q.indexOf("hsl")!==-1&&(te[1]=`${te[1]}%`,te[2]=`${te[2]}%`),q.indexOf("color")!==-1?te=`${ee} ${te.join(" ")}`:te=`${te.join(", ")}`,`${q}(${te})`}function b(I){if(I.indexOf("#")===0)return I;const{values:q}=d(I);return`#${q.map((ee,te)=>u(te===3?Math.round(255*ee):ee)).join("")}`}function S(I){I=d(I);const{values:q}=I,ee=q[0],te=q[1]/100,ce=q[2]/100,re=te*Math.min(ce,1-ce),ae=(he,pe=(he+ee/30)%12)=>ce-re*Math.max(Math.min(pe-3,9-pe,1),-1);let ue="rgb";const ie=[Math.round(ae(0)*255),Math.round(ae(8)*255),Math.round(ae(4)*255)];return I.type==="hsla"&&(ue+="a",ie.push(q[3])),y({type:ue,values:ie})}function M(I){I=d(I);let q=I.type==="hsl"||I.type==="hsla"?d(S(I)).values:I.values;return q=q.map(ee=>(I.type!=="color"&&(ee/=255),ee<=.03928?ee/12.92:((ee+.055)/1.055)**2.4)),Number((.2126*q[0]+.7152*q[1]+.0722*q[2]).toFixed(3))}function A(I,q){const ee=M(I),te=M(q);return(Math.max(ee,te)+.05)/(Math.min(ee,te)+.05)}function R(I,q){return I=d(I),q=r(q),(I.type==="rgb"||I.type==="hsl")&&(I.type+="a"),I.type==="color"?I.values[3]=`/${q}`:I.values[3]=q,y(I)}function E(I,q,ee){try{return R(I,q)}catch{return I}}function _(I,q){if(I=d(I),q=r(q),I.type.indexOf("hsl")!==-1)I.values[2]*=1-q;else if(I.type.indexOf("rgb")!==-1||I.type.indexOf("color")!==-1)for(let ee=0;ee<3;ee+=1)I.values[ee]*=1-q;return y(I)}function T(I,q,ee){try{return _(I,q)}catch{return I}}function B(I,q){if(I=d(I),q=r(q),I.type.indexOf("hsl")!==-1)I.values[2]+=(100-I.values[2])*q;else if(I.type.indexOf("rgb")!==-1)for(let ee=0;ee<3;ee+=1)I.values[ee]+=(255-I.values[ee])*q;else if(I.type.indexOf("color")!==-1)for(let ee=0;ee<3;ee+=1)I.values[ee]+=(1-I.values[ee])*q;return y(I)}function z(I,q,ee){try{return B(I,q)}catch{return I}}function W(I,q=.15){return M(I)>.5?_(I,q):B(I,q)}function L(I,q,ee){try{return W(I,q)}catch{return I}}function U(I,q,ee,te=1){const ce=(ie,he)=>Math.round((ie**(1/te)*(1-ee)+he**(1/te)*ee)**te),re=d(I),ae=d(q),ue=[ce(re.values[0],ae.values[0]),ce(re.values[1],ae.values[1]),ce(re.values[2],ae.values[2])];return y({type:"rgb",values:ue})}return ls}var jn=_F();const Xf={black:"#000",white:"#fff"},zF={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Vu={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Hu={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Cd={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Wu={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},$u={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Yu={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},BF=["mode","contrastThreshold","tonalOffset"],Tk={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Xf.white,default:Xf.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},tv={text:{primary:Xf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Xf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Ak(i,t,s,r){const a=r.light||r,u=r.dark||r*1.5;i[t]||(i.hasOwnProperty(s)?i[t]=i[s]:t==="light"?i.light=jn.lighten(i.main,a):t==="dark"&&(i.dark=jn.darken(i.main,u)))}function VF(i="light"){return i==="dark"?{main:Wu[200],light:Wu[50],dark:Wu[400]}:{main:Wu[700],light:Wu[400],dark:Wu[800]}}function HF(i="light"){return i==="dark"?{main:Vu[200],light:Vu[50],dark:Vu[400]}:{main:Vu[500],light:Vu[300],dark:Vu[700]}}function WF(i="light"){return i==="dark"?{main:Hu[500],light:Hu[300],dark:Hu[700]}:{main:Hu[700],light:Hu[400],dark:Hu[800]}}function $F(i="light"){return i==="dark"?{main:$u[400],light:$u[300],dark:$u[700]}:{main:$u[700],light:$u[500],dark:$u[900]}}function YF(i="light"){return i==="dark"?{main:Yu[400],light:Yu[300],dark:Yu[700]}:{main:Yu[800],light:Yu[500],dark:Yu[900]}}function UF(i="light"){return i==="dark"?{main:Cd[400],light:Cd[300],dark:Cd[700]}:{main:"#ed6c02",light:Cd[500],dark:Cd[900]}}function XF(i){const{mode:t="light",contrastThreshold:s=3,tonalOffset:r=.2}=i,a=pt(i,BF),u=i.primary||VF(t),d=i.secondary||HF(t),p=i.error||WF(t),m=i.info||$F(t),y=i.success||YF(t),b=i.warning||UF(t);function S(E){return jn.getContrastRatio(E,tv.text.primary)>=s?tv.text.primary:Tk.text.primary}const M=({color:E,name:_,mainShade:T=500,lightShade:B=300,darkShade:z=700})=>{if(E=oe({},E),!E.main&&E[T]&&(E.main=E[T]),!E.hasOwnProperty("main"))throw new Error(Qa(11,_?` (${_})`:"",T));if(typeof E.main!="string")throw new Error(Qa(12,_?` (${_})`:"",JSON.stringify(E.main)));return Ak(E,"light",B,r),Ak(E,"dark",z,r),E.contrastText||(E.contrastText=S(E.main)),E},A={dark:tv,light:Tk};return Mr(oe({common:oe({},Xf),mode:t,primary:M({color:u,name:"primary"}),secondary:M({color:d,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:M({color:p,name:"error"}),warning:M({color:b,name:"warning"}),info:M({color:m,name:"info"}),success:M({color:y,name:"success"}),grey:zF,contrastThreshold:s,getContrastText:S,augmentColor:M,tonalOffset:r},A[t]),a)}const GF=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function qF(i){return Math.round(i*1e5)/1e5}const Dk={textTransform:"uppercase"},Ek='"Roboto", "Helvetica", "Arial", sans-serif';function KF(i,t){const s=typeof t=="function"?t(i):t,{fontFamily:r=Ek,fontSize:a=14,fontWeightLight:u=300,fontWeightRegular:d=400,fontWeightMedium:p=500,fontWeightBold:m=700,htmlFontSize:y=16,allVariants:b,pxToRem:S}=s,M=pt(s,GF),A=a/14,R=S||(T=>`${T/y*A}rem`),E=(T,B,z,W,L)=>oe({fontFamily:r,fontWeight:T,fontSize:R(B),lineHeight:z},r===Ek?{letterSpacing:`${qF(W/B)}em`}:{},L,b),_={h1:E(u,96,1.167,-1.5),h2:E(u,60,1.2,-.5),h3:E(d,48,1.167,0),h4:E(d,34,1.235,.25),h5:E(d,24,1.334,0),h6:E(p,20,1.6,.15),subtitle1:E(d,16,1.75,.15),subtitle2:E(p,14,1.57,.1),body1:E(d,16,1.5,.15),body2:E(d,14,1.43,.15),button:E(p,14,1.75,.4,Dk),caption:E(d,12,1.66,.4),overline:E(d,12,2.66,1,Dk),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Mr(oe({htmlFontSize:y,pxToRem:R,fontFamily:r,fontSize:a,fontWeightLight:u,fontWeightRegular:d,fontWeightMedium:p,fontWeightBold:m},_),M,{clone:!1})}const ZF=.2,JF=.14,QF=.12;function es(...i){return[`${i[0]}px ${i[1]}px ${i[2]}px ${i[3]}px rgba(0,0,0,${ZF})`,`${i[4]}px ${i[5]}px ${i[6]}px ${i[7]}px rgba(0,0,0,${JF})`,`${i[8]}px ${i[9]}px ${i[10]}px ${i[11]}px rgba(0,0,0,${QF})`].join(",")}const e4=["none",es(0,2,1,-1,0,1,1,0,0,1,3,0),es(0,3,1,-2,0,2,2,0,0,1,5,0),es(0,3,3,-2,0,3,4,0,0,1,8,0),es(0,2,4,-1,0,4,5,0,0,1,10,0),es(0,3,5,-1,0,5,8,0,0,1,14,0),es(0,3,5,-1,0,6,10,0,0,1,18,0),es(0,4,5,-2,0,7,10,1,0,2,16,1),es(0,5,5,-3,0,8,10,1,0,3,14,2),es(0,5,6,-3,0,9,12,1,0,3,16,2),es(0,6,6,-3,0,10,14,1,0,4,18,3),es(0,6,7,-4,0,11,15,1,0,4,20,3),es(0,7,8,-4,0,12,17,2,0,5,22,4),es(0,7,8,-4,0,13,19,2,0,5,24,4),es(0,7,9,-4,0,14,21,2,0,5,26,4),es(0,8,9,-5,0,15,22,2,0,6,28,5),es(0,8,10,-5,0,16,24,2,0,6,30,5),es(0,8,11,-5,0,17,26,2,0,6,32,5),es(0,9,11,-5,0,18,28,2,0,7,34,6),es(0,9,12,-6,0,19,29,2,0,7,36,6),es(0,10,13,-6,0,20,31,3,0,8,38,7),es(0,10,13,-6,0,21,33,3,0,8,40,7),es(0,10,14,-6,0,22,35,3,0,8,42,7),es(0,11,14,-7,0,23,36,3,0,9,44,8),es(0,11,15,-7,0,24,38,3,0,9,46,8)],t4=["duration","easing","delay"],n4={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},x2={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Nk(i){return`${Math.round(i)}ms`}function i4(i){if(!i)return 0;const t=i/36;return Math.round((4+15*t**.25+t/5)*10)}function s4(i){const t=oe({},n4,i.easing),s=oe({},x2,i.duration);return oe({getAutoHeightDuration:i4,create:(a=["all"],u={})=>{const{duration:d=s.standard,easing:p=t.easeInOut,delay:m=0}=u;return pt(u,t4),(Array.isArray(a)?a:[a]).map(y=>`${y} ${typeof d=="string"?d:Nk(d)} ${p} ${typeof m=="string"?m:Nk(m)}`).join(",")}},i,{easing:t,duration:s})}const r4={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},o4=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Wm(i={},...t){const{mixins:s={},palette:r={},transitions:a={},typography:u={}}=i,d=pt(i,o4);if(i.vars&&i.generateCssVars===void 0)throw new Error(Qa(18));const p=XF(r),m=fp(i);let y=Mr(m,{mixins:IF(m.breakpoints,s),palette:p,shadows:e4.slice(),typography:KF(p,u),transitions:s4(a),zIndex:oe({},r4)});return y=Mr(y,d),y=t.reduce((b,S)=>Mr(b,S),y),y.unstable_sxConfig=oe({},dp,d?.unstable_sxConfig),y.unstable_sx=function(S){return Eh({sx:S,theme:this})},y}const R0=Wm(),$c="$$material";function D1(i){return D.jsx(QA,oe({},i,{defaultTheme:R0,themeId:$c}))}const a4=(i,t)=>oe({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!i.vars&&{colorScheme:i.palette.mode}),l4=i=>oe({color:(i.vars||i).palette.text.primary},i.typography.body1,{backgroundColor:(i.vars||i).palette.background.default,"@media print":{backgroundColor:(i.vars||i).palette.common.white}}),c4=(i,t=!1)=>{var s;const r={};t&&i.colorSchemes&&Object.entries(i.colorSchemes).forEach(([d,p])=>{var m;r[i.getColorSchemeSelector(d).replace(/\s*&/,"")]={colorScheme:(m=p.palette)==null?void 0:m.mode}});let a=oe({html:a4(i,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:i.typography.fontWeightBold},body:oe({margin:0},l4(i),{"&::backdrop":{backgroundColor:(i.vars||i).palette.background.default}})},r);const u=(s=i.components)==null||(s=s.MuiCssBaseline)==null?void 0:s.styleOverrides;return u&&(a=[a,u]),a};function u4(i){const t=kn({props:i,name:"MuiCssBaseline"}),{children:s,enableColorScheme:r=!1}=t;return D.jsxs(X.Fragment,{children:[D.jsx(D1,{styles:a=>c4(a,r)}),s]})}/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Rk="popstate";function h4(i={}){function t(r,a){let{pathname:u,search:d,hash:p}=r.location;return gb("",{pathname:u,search:d,hash:p},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(r,a){return typeof a=="string"?a:Gf(a)}return f4(t,s,null,i)}function ns(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function oa(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function d4(){return Math.random().toString(36).substring(2,10)}function Lk(i,t){return{usr:i.state,key:i.key,idx:t}}function gb(i,t,s=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?Lh(t):t,state:s,key:t&&t.key||r||d4()}}function Gf({pathname:i="/",search:t="",hash:s=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(i+=s.charAt(0)==="#"?s:"#"+s),i}function Lh(i){let t={};if(i){let s=i.indexOf("#");s>=0&&(t.hash=i.substring(s),i=i.substring(0,s));let r=i.indexOf("?");r>=0&&(t.search=i.substring(r),i=i.substring(0,r)),i&&(t.pathname=i)}return t}function f4(i,t,s,r={}){let{window:a=document.defaultView,v5Compat:u=!1}=r,d=a.history,p="POP",m=null,y=b();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function b(){return(d.state||{idx:null}).idx}function S(){p="POP";let _=b(),T=_==null?null:_-y;y=_,m&&m({action:p,location:E.location,delta:T})}function M(_,T){p="PUSH";let B=gb(E.location,_,T);y=b()+1;let z=Lk(B,y),W=E.createHref(B);try{d.pushState(z,"",W)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;a.location.assign(W)}u&&m&&m({action:p,location:E.location,delta:1})}function A(_,T){p="REPLACE";let B=gb(E.location,_,T);y=b();let z=Lk(B,y),W=E.createHref(B);d.replaceState(z,"",W),u&&m&&m({action:p,location:E.location,delta:0})}function R(_){return p4(_)}let E={get action(){return p},get location(){return i(a,d)},listen(_){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(Rk,S),m=_,()=>{a.removeEventListener(Rk,S),m=null}},createHref(_){return t(a,_)},createURL:R,encodeLocation(_){let T=R(_);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:M,replace:A,go(_){return d.go(_)}};return E}function p4(i,t=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),ns(s,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:Gf(i);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=s+r),new URL(r,s)}function v2(i,t,s="/"){return g4(i,t,s,!1)}function g4(i,t,s,r){let a=typeof t=="string"?Lh(t):t,u=tl(a.pathname||"/",s);if(u==null)return null;let d=b2(i);m4(d);let p=null;for(let m=0;p==null&&m<d.length;++m){let y=T4(u);p=P4(d[m],y,r)}return p}function b2(i,t=[],s=[],r=""){let a=(u,d,p)=>{let m={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};m.relativePath.startsWith("/")&&(ns(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length));let y=Ja([r,m.relativePath]),b=s.concat(m);u.children&&u.children.length>0&&(ns(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),b2(u.children,t,b,y)),!(u.path==null&&!u.index)&&t.push({path:y,score:C4(y,u.index),routesMeta:b})};return i.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))a(u,d);else for(let p of w2(u.path))a(u,d,p)}),t}function w2(i){let t=i.split("/");if(t.length===0)return[];let[s,...r]=t,a=s.endsWith("?"),u=s.replace(/\?$/,"");if(r.length===0)return a?[u,""]:[u];let d=w2(r.join("/")),p=[];return p.push(...d.map(m=>m===""?u:[u,m].join("/"))),a&&p.push(...d),p.map(m=>i.startsWith("/")&&m===""?"/":m)}function m4(i){i.sort((t,s)=>t.score!==s.score?s.score-t.score:k4(t.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}var y4=/^:[\w-]+$/,x4=3,v4=2,b4=1,w4=10,S4=-2,Ok=i=>i==="*";function C4(i,t){let s=i.split("/"),r=s.length;return s.some(Ok)&&(r+=S4),t&&(r+=v4),s.filter(a=>!Ok(a)).reduce((a,u)=>a+(y4.test(u)?x4:u===""?b4:w4),r)}function k4(i,t){return i.length===t.length&&i.slice(0,-1).every((r,a)=>r===t[a])?i[i.length-1]-t[t.length-1]:0}function P4(i,t,s=!1){let{routesMeta:r}=i,a={},u="/",d=[];for(let p=0;p<r.length;++p){let m=r[p],y=p===r.length-1,b=u==="/"?t:t.slice(u.length)||"/",S=$m({path:m.relativePath,caseSensitive:m.caseSensitive,end:y},b),M=m.route;if(!S&&y&&s&&!r[r.length-1].route.index&&(S=$m({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},b)),!S)return null;Object.assign(a,S.params),d.push({params:a,pathname:Ja([u,S.pathname]),pathnameBase:N4(Ja([u,S.pathnameBase])),route:M}),S.pathnameBase!=="/"&&(u=Ja([u,S.pathnameBase]))}return d}function $m(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[s,r]=M4(i.path,i.caseSensitive,i.end),a=t.match(s);if(!a)return null;let u=a[0],d=u.replace(/(.)\/+$/,"$1"),p=a.slice(1);return{params:r.reduce((y,{paramName:b,isOptional:S},M)=>{if(b==="*"){let R=p[M]||"";d=u.slice(0,u.length-R.length).replace(/(.)\/+$/,"$1")}const A=p[M];return S&&!A?y[b]=void 0:y[b]=(A||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:d,pattern:i}}function M4(i,t=!1,s=!0){oa(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,m)=>(r.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(r.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function T4(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return oa(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function tl(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,r=i.charAt(s);return r&&r!=="/"?null:i.slice(s)||"/"}function A4(i,t="/"){let{pathname:s,search:r="",hash:a=""}=typeof i=="string"?Lh(i):i;return{pathname:s?s.startsWith("/")?s:D4(s,t):t,search:R4(r),hash:L4(a)}}function D4(i,t){let s=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function nv(i,t,s,r){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function E4(i){return i.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function E1(i){let t=E4(i);return t.map((s,r)=>r===t.length-1?s.pathname:s.pathnameBase)}function N1(i,t,s,r=!1){let a;typeof i=="string"?a=Lh(i):(a={...i},ns(!a.pathname||!a.pathname.includes("?"),nv("?","pathname","search",a)),ns(!a.pathname||!a.pathname.includes("#"),nv("#","pathname","hash",a)),ns(!a.search||!a.search.includes("#"),nv("#","search","hash",a)));let u=i===""||a.pathname==="",d=u?"/":a.pathname,p;if(d==null)p=s;else{let S=t.length-1;if(!r&&d.startsWith("..")){let M=d.split("/");for(;M[0]==="..";)M.shift(),S-=1;a.pathname=M.join("/")}p=S>=0?t[S]:"/"}let m=A4(a,p),y=d&&d!=="/"&&d.endsWith("/"),b=(u||d===".")&&s.endsWith("/");return!m.pathname.endsWith("/")&&(y||b)&&(m.pathname+="/"),m}var Ja=i=>i.join("/").replace(/\/\/+/g,"/"),N4=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),R4=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,L4=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function O4(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var S2=["POST","PUT","PATCH","DELETE"];new Set(S2);var I4=["GET",...S2];new Set(I4);var Oh=X.createContext(null);Oh.displayName="DataRouter";var L0=X.createContext(null);L0.displayName="DataRouterState";X.createContext(!1);var C2=X.createContext({isTransitioning:!1});C2.displayName="ViewTransition";var F4=X.createContext(new Map);F4.displayName="Fetchers";var j4=X.createContext(null);j4.displayName="Await";var la=X.createContext(null);la.displayName="Navigation";var yp=X.createContext(null);yp.displayName="Location";var Oa=X.createContext({outlet:null,matches:[],isDataRoute:!1});Oa.displayName="Route";var R1=X.createContext(null);R1.displayName="RouteError";function _4(i,{relative:t}={}){ns(Ih(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:r}=X.useContext(la),{hash:a,pathname:u,search:d}=xp(i,{relative:t}),p=u;return s!=="/"&&(p=u==="/"?s:Ja([s,u])),r.createHref({pathname:p,search:d,hash:a})}function Ih(){return X.useContext(yp)!=null}function ca(){return ns(Ih(),"useLocation() may be used only in the context of a <Router> component."),X.useContext(yp).location}var k2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function P2(i){X.useContext(la).static||X.useLayoutEffect(i)}function Fh(){let{isDataRoute:i}=X.useContext(Oa);return i?Z4():z4()}function z4(){ns(Ih(),"useNavigate() may be used only in the context of a <Router> component.");let i=X.useContext(Oh),{basename:t,navigator:s}=X.useContext(la),{matches:r}=X.useContext(Oa),{pathname:a}=ca(),u=JSON.stringify(E1(r)),d=X.useRef(!1);return P2(()=>{d.current=!0}),X.useCallback((m,y={})=>{if(oa(d.current,k2),!d.current)return;if(typeof m=="number"){s.go(m);return}let b=N1(m,JSON.parse(u),a,y.relative==="path");i==null&&t!=="/"&&(b.pathname=b.pathname==="/"?t:Ja([t,b.pathname])),(y.replace?s.replace:s.push)(b,y.state,y)},[t,s,u,a,i])}X.createContext(null);function xp(i,{relative:t}={}){let{matches:s}=X.useContext(Oa),{pathname:r}=ca(),a=JSON.stringify(E1(s));return X.useMemo(()=>N1(i,JSON.parse(a),r,t==="path"),[i,a,r,t])}function B4(i,t){return M2(i,t)}function M2(i,t,s,r){ns(Ih(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=X.useContext(la),{matches:u}=X.useContext(Oa),d=u[u.length-1],p=d?d.params:{},m=d?d.pathname:"/",y=d?d.pathnameBase:"/",b=d&&d.route;{let T=b&&b.path||"";T2(m,!b||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let S=ca(),M;if(t){let T=typeof t=="string"?Lh(t):t;ns(y==="/"||T.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${T.pathname}" was given in the \`location\` prop.`),M=T}else M=S;let A=M.pathname||"/",R=A;if(y!=="/"){let T=y.replace(/^\//,"").split("/");R="/"+A.replace(/^\//,"").split("/").slice(T.length).join("/")}let E=v2(i,{pathname:R});oa(b||E!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),oa(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=Y4(E&&E.map(T=>Object.assign({},T,{params:Object.assign({},p,T.params),pathname:Ja([y,a.encodeLocation?a.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?y:Ja([y,a.encodeLocation?a.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),u,s,r);return t&&_?X.createElement(yp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},_):_}function V4(){let i=K4(),t=O4(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),s=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=X.createElement(X.Fragment,null,X.createElement("p",null," Hey developer "),X.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",X.createElement("code",{style:u},"ErrorBoundary")," or"," ",X.createElement("code",{style:u},"errorElement")," prop on your route.")),X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},t),s?X.createElement("pre",{style:a},s):null,d)}var H4=X.createElement(V4,null),W4=class extends X.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){console.error("React Router caught the following error during render",i,t)}render(){return this.state.error!==void 0?X.createElement(Oa.Provider,{value:this.props.routeContext},X.createElement(R1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $4({routeContext:i,match:t,children:s}){let r=X.useContext(Oh);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),X.createElement(Oa.Provider,{value:i},s)}function Y4(i,t=[],s=null,r=null){if(i==null){if(!s)return null;if(s.errors)i=s.matches;else if(t.length===0&&!s.initialized&&s.matches.length>0)i=s.matches;else return null}let a=i,u=s?.errors;if(u!=null){let m=a.findIndex(y=>y.route.id&&u?.[y.route.id]!==void 0);ns(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let d=!1,p=-1;if(s)for(let m=0;m<a.length;m++){let y=a[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=m),y.route.id){let{loaderData:b,errors:S}=s,M=y.route.loader&&!b.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||M){d=!0,p>=0?a=a.slice(0,p+1):a=[a[0]];break}}}return a.reduceRight((m,y,b)=>{let S,M=!1,A=null,R=null;s&&(S=u&&y.route.id?u[y.route.id]:void 0,A=y.route.errorElement||H4,d&&(p<0&&b===0?(T2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,R=null):p===b&&(M=!0,R=y.route.hydrateFallbackElement||null)));let E=t.concat(a.slice(0,b+1)),_=()=>{let T;return S?T=A:M?T=R:y.route.Component?T=X.createElement(y.route.Component,null):y.route.element?T=y.route.element:T=m,X.createElement($4,{match:y,routeContext:{outlet:m,matches:E,isDataRoute:s!=null},children:T})};return s&&(y.route.ErrorBoundary||y.route.errorElement||b===0)?X.createElement(W4,{location:s.location,revalidation:s.revalidation,component:A,error:S,children:_(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):_()},null)}function L1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function U4(i){let t=X.useContext(Oh);return ns(t,L1(i)),t}function X4(i){let t=X.useContext(L0);return ns(t,L1(i)),t}function G4(i){let t=X.useContext(Oa);return ns(t,L1(i)),t}function O1(i){let t=G4(i),s=t.matches[t.matches.length-1];return ns(s.route.id,`${i} can only be used on routes that contain a unique "id"`),s.route.id}function q4(){return O1("useRouteId")}function K4(){let i=X.useContext(R1),t=X4("useRouteError"),s=O1("useRouteError");return i!==void 0?i:t.errors?.[s]}function Z4(){let{router:i}=U4("useNavigate"),t=O1("useNavigate"),s=X.useRef(!1);return P2(()=>{s.current=!0}),X.useCallback(async(a,u={})=>{oa(s.current,k2),s.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:t,...u}))},[i,t])}var Ik={};function T2(i,t,s){!t&&!Ik[i]&&(Ik[i]=!0,oa(!1,s))}X.memo(J4);function J4({routes:i,future:t,state:s}){return M2(i,void 0,s,t)}function _l({to:i,replace:t,state:s,relative:r}){ns(Ih(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=X.useContext(la);oa(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=X.useContext(Oa),{pathname:d}=ca(),p=Fh(),m=N1(i,E1(u),d,r==="path"),y=JSON.stringify(m);return X.useEffect(()=>{p(JSON.parse(y),{replace:t,state:s,relative:r})},[p,y,r,t,s]),null}function Ro(i){ns(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Q4({basename:i="/",children:t=null,location:s,navigationType:r="POP",navigator:a,static:u=!1}){ns(!Ih(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=i.replace(/^\/*/,"/"),p=X.useMemo(()=>({basename:d,navigator:a,static:u,future:{}}),[d,a,u]);typeof s=="string"&&(s=Lh(s));let{pathname:m="/",search:y="",hash:b="",state:S=null,key:M="default"}=s,A=X.useMemo(()=>{let R=tl(m,d);return R==null?null:{location:{pathname:R,search:y,hash:b,state:S,key:M},navigationType:r}},[d,m,y,b,S,M,r]);return oa(A!=null,`<Router basename="${d}"> is not able to match the URL "${m}${y}${b}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:X.createElement(la.Provider,{value:p},X.createElement(yp.Provider,{children:t,value:A}))}function ej({children:i,location:t}){return B4(mb(i),t)}function mb(i,t=[]){let s=[];return X.Children.forEach(i,(r,a)=>{if(!X.isValidElement(r))return;let u=[...t,a];if(r.type===X.Fragment){s.push.apply(s,mb(r.props.children,u));return}ns(r.type===Ro,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ns(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=mb(r.props.children,u)),s.push(d)}),s}var ym="get",xm="application/x-www-form-urlencoded";function O0(i){return i!=null&&typeof i.tagName=="string"}function tj(i){return O0(i)&&i.tagName.toLowerCase()==="button"}function nj(i){return O0(i)&&i.tagName.toLowerCase()==="form"}function ij(i){return O0(i)&&i.tagName.toLowerCase()==="input"}function sj(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function rj(i,t){return i.button===0&&(!t||t==="_self")&&!sj(i)}var _g=null;function oj(){if(_g===null)try{new FormData(document.createElement("form"),0),_g=!1}catch{_g=!0}return _g}var aj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function iv(i){return i!=null&&!aj.has(i)?(oa(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xm}"`),null):i}function lj(i,t){let s,r,a,u,d;if(nj(i)){let p=i.getAttribute("action");r=p?tl(p,t):null,s=i.getAttribute("method")||ym,a=iv(i.getAttribute("enctype"))||xm,u=new FormData(i)}else if(tj(i)||ij(i)&&(i.type==="submit"||i.type==="image")){let p=i.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=i.getAttribute("formaction")||p.getAttribute("action");if(r=m?tl(m,t):null,s=i.getAttribute("formmethod")||p.getAttribute("method")||ym,a=iv(i.getAttribute("formenctype"))||iv(p.getAttribute("enctype"))||xm,u=new FormData(p,i),!oj()){let{name:y,type:b,value:S}=i;if(b==="image"){let M=y?`${y}.`:"";u.append(`${M}x`,"0"),u.append(`${M}y`,"0")}else y&&u.append(y,S)}}else{if(O0(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=ym,r=null,a=xm,d=i}return u&&a==="text/plain"&&(d=u,u=void 0),{action:r,method:s.toLowerCase(),encType:a,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function I1(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function cj(i,t,s){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r.pathname==="/"?r.pathname=`_root.${s}`:t&&tl(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${s}`,r}async function uj(i,t){if(i.id in t)return t[i.id];try{let s=await import(i.module);return t[i.id]=s,s}catch(s){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hj(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function dj(i,t,s){let r=await Promise.all(i.map(async a=>{let u=t.routes[a.route.id];if(u){let d=await uj(u,s);return d.links?d.links():[]}return[]}));return mj(r.flat(1).filter(hj).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Fk(i,t,s,r,a,u){let d=(m,y)=>s[y]?m.route.id!==s[y].route.id:!0,p=(m,y)=>s[y].pathname!==m.pathname||s[y].route.path?.endsWith("*")&&s[y].params["*"]!==m.params["*"];return u==="assets"?t.filter((m,y)=>d(m,y)||p(m,y)):u==="data"?t.filter((m,y)=>{let b=r.routes[m.route.id];if(!b||!b.hasLoader)return!1;if(d(m,y)||p(m,y))return!0;if(m.route.shouldRevalidate){let S=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function fj(i,t,{includeHydrateFallback:s}={}){return pj(i.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let u=[a.module];return a.clientActionModule&&(u=u.concat(a.clientActionModule)),a.clientLoaderModule&&(u=u.concat(a.clientLoaderModule)),s&&a.hydrateFallbackModule&&(u=u.concat(a.hydrateFallbackModule)),a.imports&&(u=u.concat(a.imports)),u}).flat(1))}function pj(i){return[...new Set(i)]}function gj(i){let t={},s=Object.keys(i).sort();for(let r of s)t[r]=i[r];return t}function mj(i,t){let s=new Set;return new Set(t),i.reduce((r,a)=>{let u=JSON.stringify(gj(a));return s.has(u)||(s.add(u),r.push({key:u,link:a})),r},[])}function A2(){let i=X.useContext(Oh);return I1(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function yj(){let i=X.useContext(L0);return I1(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var F1=X.createContext(void 0);F1.displayName="FrameworkContext";function D2(){let i=X.useContext(F1);return I1(i,"You must render this element inside a <HydratedRouter> element"),i}function xj(i,t){let s=X.useContext(F1),[r,a]=X.useState(!1),[u,d]=X.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:y,onMouseLeave:b,onTouchStart:S}=t,M=X.useRef(null);X.useEffect(()=>{if(i==="render"&&d(!0),i==="viewport"){let E=T=>{T.forEach(B=>{d(B.isIntersecting)})},_=new IntersectionObserver(E,{threshold:.5});return M.current&&_.observe(M.current),()=>{_.disconnect()}}},[i]),X.useEffect(()=>{if(r){let E=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(E)}}},[r]);let A=()=>{a(!0)},R=()=>{a(!1),d(!1)};return s?i!=="intent"?[u,M,{}]:[u,M,{onFocus:kd(p,A),onBlur:kd(m,R),onMouseEnter:kd(y,A),onMouseLeave:kd(b,R),onTouchStart:kd(S,A)}]:[!1,M,{}]}function kd(i,t){return s=>{i&&i(s),s.defaultPrevented||t(s)}}function vj({page:i,...t}){let{router:s}=A2(),r=X.useMemo(()=>v2(s.routes,i,s.basename),[s.routes,i,s.basename]);return r?X.createElement(wj,{page:i,matches:r,...t}):null}function bj(i){let{manifest:t,routeModules:s}=D2(),[r,a]=X.useState([]);return X.useEffect(()=>{let u=!1;return dj(i,t,s).then(d=>{u||a(d)}),()=>{u=!0}},[i,t,s]),r}function wj({page:i,matches:t,...s}){let r=ca(),{manifest:a,routeModules:u}=D2(),{basename:d}=A2(),{loaderData:p,matches:m}=yj(),y=X.useMemo(()=>Fk(i,t,m,a,r,"data"),[i,t,m,a,r]),b=X.useMemo(()=>Fk(i,t,m,a,r,"assets"),[i,t,m,a,r]),S=X.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let R=new Set,E=!1;if(t.forEach(T=>{let B=a.routes[T.route.id];!B||!B.hasLoader||(!y.some(z=>z.route.id===T.route.id)&&T.route.id in p&&u[T.route.id]?.shouldRevalidate||B.hasClientLoader?E=!0:R.add(T.route.id))}),R.size===0)return[];let _=cj(i,d,"data");return E&&R.size>0&&_.searchParams.set("_routes",t.filter(T=>R.has(T.route.id)).map(T=>T.route.id).join(",")),[_.pathname+_.search]},[d,p,r,a,y,t,i,u]),M=X.useMemo(()=>fj(b,a),[b,a]),A=bj(b);return X.createElement(X.Fragment,null,S.map(R=>X.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...s})),M.map(R=>X.createElement("link",{key:R,rel:"modulepreload",href:R,...s})),A.map(({key:R,link:E})=>X.createElement("link",{key:R,...E})))}function Sj(...i){return t=>{i.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}var E2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{E2&&(window.__reactRouterVersion="7.7.0")}catch{}function Cj({basename:i,children:t,window:s}){let r=X.useRef();r.current==null&&(r.current=h4({window:s,v5Compat:!0}));let a=r.current,[u,d]=X.useState({action:a.action,location:a.location}),p=X.useCallback(m=>{X.startTransition(()=>d(m))},[d]);return X.useLayoutEffect(()=>a.listen(p),[a,p]),X.createElement(Q4,{basename:i,children:t,location:u.location,navigationType:u.action,navigator:a})}var N2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,R2=X.forwardRef(function({onClick:t,discover:s="render",prefetch:r="none",relative:a,reloadDocument:u,replace:d,state:p,target:m,to:y,preventScrollReset:b,viewTransition:S,...M},A){let{basename:R}=X.useContext(la),E=typeof y=="string"&&N2.test(y),_,T=!1;if(typeof y=="string"&&E&&(_=y,E2))try{let ee=new URL(window.location.href),te=y.startsWith("//")?new URL(ee.protocol+y):new URL(y),ce=tl(te.pathname,R);te.origin===ee.origin&&ce!=null?y=ce+te.search+te.hash:T=!0}catch{oa(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=_4(y,{relative:a}),[z,W,L]=xj(r,M),U=Tj(y,{replace:d,state:p,target:m,preventScrollReset:b,relative:a,viewTransition:S});function I(ee){t&&t(ee),ee.defaultPrevented||U(ee)}let q=X.createElement("a",{...M,...L,href:_||B,onClick:T||u?t:I,ref:Sj(A,W),target:m,"data-discover":!E&&s==="render"?"true":void 0});return z&&!E?X.createElement(X.Fragment,null,q,X.createElement(vj,{page:B})):q});R2.displayName="Link";var kj=X.forwardRef(function({"aria-current":t="page",caseSensitive:s=!1,className:r="",end:a=!1,style:u,to:d,viewTransition:p,children:m,...y},b){let S=xp(d,{relative:y.relative}),M=ca(),A=X.useContext(L0),{navigator:R,basename:E}=X.useContext(la),_=A!=null&&Rj(S)&&p===!0,T=R.encodeLocation?R.encodeLocation(S).pathname:S.pathname,B=M.pathname,z=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;s||(B=B.toLowerCase(),z=z?z.toLowerCase():null,T=T.toLowerCase()),z&&E&&(z=tl(z,E)||z);const W=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let L=B===T||!a&&B.startsWith(T)&&B.charAt(W)==="/",U=z!=null&&(z===T||!a&&z.startsWith(T)&&z.charAt(T.length)==="/"),I={isActive:L,isPending:U,isTransitioning:_},q=L?t:void 0,ee;typeof r=="function"?ee=r(I):ee=[r,L?"active":null,U?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let te=typeof u=="function"?u(I):u;return X.createElement(R2,{...y,"aria-current":q,className:ee,ref:b,style:te,to:d,viewTransition:p},typeof m=="function"?m(I):m)});kj.displayName="NavLink";var Pj=X.forwardRef(({discover:i="render",fetcherKey:t,navigate:s,reloadDocument:r,replace:a,state:u,method:d=ym,action:p,onSubmit:m,relative:y,preventScrollReset:b,viewTransition:S,...M},A)=>{let R=Ej(),E=Nj(p,{relative:y}),_=d.toLowerCase()==="get"?"get":"post",T=typeof p=="string"&&N2.test(p),B=z=>{if(m&&m(z),z.defaultPrevented)return;z.preventDefault();let W=z.nativeEvent.submitter,L=W?.getAttribute("formmethod")||d;R(W||z.currentTarget,{fetcherKey:t,method:L,navigate:s,replace:a,state:u,relative:y,preventScrollReset:b,viewTransition:S})};return X.createElement("form",{ref:A,method:_,action:E,onSubmit:r?m:B,...M,"data-discover":!T&&i==="render"?"true":void 0})});Pj.displayName="Form";function Mj(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function L2(i){let t=X.useContext(Oh);return ns(t,Mj(i)),t}function Tj(i,{target:t,replace:s,state:r,preventScrollReset:a,relative:u,viewTransition:d}={}){let p=Fh(),m=ca(),y=xp(i,{relative:u});return X.useCallback(b=>{if(rj(b,t)){b.preventDefault();let S=s!==void 0?s:Gf(m)===Gf(y);p(i,{replace:S,state:r,preventScrollReset:a,relative:u,viewTransition:d})}},[m,p,y,s,r,t,i,a,u,d])}var Aj=0,Dj=()=>`__${String(++Aj)}__`;function Ej(){let{router:i}=L2("useSubmit"),{basename:t}=X.useContext(la),s=q4();return X.useCallback(async(r,a={})=>{let{action:u,method:d,encType:p,formData:m,body:y}=lj(r,t);if(a.navigate===!1){let b=a.fetcherKey||Dj();await i.fetch(b,s,a.action||u,{preventScrollReset:a.preventScrollReset,formData:m,body:y,formMethod:a.method||d,formEncType:a.encType||p,flushSync:a.flushSync})}else await i.navigate(a.action||u,{preventScrollReset:a.preventScrollReset,formData:m,body:y,formMethod:a.method||d,formEncType:a.encType||p,replace:a.replace,state:a.state,fromRouteId:s,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,t,s])}function Nj(i,{relative:t}={}){let{basename:s}=X.useContext(la),r=X.useContext(Oa);ns(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),u={...xp(i||".",{relative:t})},d=ca();if(i==null){u.search=d.search;let p=new URLSearchParams(u.search),m=p.getAll("index");if(m.some(b=>b==="")){p.delete("index"),m.filter(S=>S).forEach(S=>p.append("index",S));let b=p.toString();u.search=b?`?${b}`:""}}return(!i||i===".")&&a.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(u.pathname=u.pathname==="/"?s:Ja([s,u.pathname])),Gf(u)}function Rj(i,t={}){let s=X.useContext(C2);ns(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=L2("useViewTransitionState"),a=xp(i,{relative:t.relative});if(!s.isTransitioning)return!1;let u=tl(s.currentLocation.pathname,r)||s.currentLocation.pathname,d=tl(s.nextLocation.pathname,r)||s.nextLocation.pathname;return $m(a.pathname,d)!=null||$m(a.pathname,u)!=null}var O2=f1();const zg=Qn(O2),jk={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"};function vs(){const i=Nh(R0);return i[$c]||i}function Vs({props:i,name:t}){return s2({props:i,name:t,defaultTheme:R0,themeId:$c})}var vc={},sv={exports:{}},_k;function Lj(){return _k||(_k=1,function(i){function t(){return i.exports=t=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var u in a)({}).hasOwnProperty.call(a,u)&&(s[u]=a[u])}return s},i.exports.__esModule=!0,i.exports.default=i.exports,t.apply(null,arguments)}i.exports=t,i.exports.__esModule=!0,i.exports.default=i.exports}(sv)),sv.exports}var rv={exports:{}},zk;function Oj(){return zk||(zk=1,function(i){function t(s,r){if(s==null)return{};var a={};for(var u in s)if({}.hasOwnProperty.call(s,u)){if(r.indexOf(u)!==-1)continue;a[u]=s[u]}return a}i.exports=t,i.exports.__esModule=!0,i.exports.default=i.exports}(rv)),rv.exports}const I2=La(NO),Ij=La(RO),Fj=La(_O),jj=La(zI),_j=La(PI),zj=La(EI);var Bk;function Bj(){if(Bk)return vc;Bk=1;var i=Ei();Object.defineProperty(vc,"__esModule",{value:!0}),vc.default=L,vc.shouldForwardProp=R,vc.systemDefaultTheme=void 0;var t=i(Lj()),s=i(Oj()),r=S(I2),a=Ij;i(Fj),i(jj);var u=i(_j),d=i(zj);const p=["ownerState"],m=["variants"],y=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function b(U){if(typeof WeakMap!="function")return null;var I=new WeakMap,q=new WeakMap;return(b=function(ee){return ee?q:I})(U)}function S(U,I){if(U&&U.__esModule)return U;if(U===null||typeof U!="object"&&typeof U!="function")return{default:U};var q=b(I);if(q&&q.has(U))return q.get(U);var ee={__proto__:null},te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ce in U)if(ce!=="default"&&Object.prototype.hasOwnProperty.call(U,ce)){var re=te?Object.getOwnPropertyDescriptor(U,ce):null;re&&(re.get||re.set)?Object.defineProperty(ee,ce,re):ee[ce]=U[ce]}return ee.default=U,q&&q.set(U,ee),ee}function M(U){return Object.keys(U).length===0}function A(U){return typeof U=="string"&&U.charCodeAt(0)>96}function R(U){return U!=="ownerState"&&U!=="theme"&&U!=="sx"&&U!=="as"}function E(U,I){return I&&U&&typeof U=="object"&&U.styles&&!U.styles.startsWith("@layer")&&(U.styles=`@layer ${I}{${String(U.styles)}}`),U}const _=vc.systemDefaultTheme=(0,u.default)(),T=U=>U&&U.charAt(0).toLowerCase()+U.slice(1);function B({defaultTheme:U,theme:I,themeId:q}){return M(I)?U:I[q]||I}function z(U){return U?(I,q)=>q[U]:null}function W(U,I,q){let{ownerState:ee}=I,te=(0,s.default)(I,p);const ce=typeof U=="function"?U((0,t.default)({ownerState:ee},te)):U;if(Array.isArray(ce))return ce.flatMap(re=>W(re,(0,t.default)({ownerState:ee},te),q));if(ce&&typeof ce=="object"&&Array.isArray(ce.variants)){const{variants:re=[]}=ce;let ue=(0,s.default)(ce,m);return re.forEach(ie=>{let he=!0;if(typeof ie.props=="function"?he=ie.props((0,t.default)({ownerState:ee},te,ee)):Object.keys(ie.props).forEach(pe=>{ee?.[pe]!==ie.props[pe]&&te[pe]!==ie.props[pe]&&(he=!1)}),he){Array.isArray(ue)||(ue=[ue]);const pe=typeof ie.style=="function"?ie.style((0,t.default)({ownerState:ee},te,ee)):ie.style;ue.push(q?E((0,r.internal_serializeStyles)(pe),q):pe)}}),ue}return q?E((0,r.internal_serializeStyles)(ce),q):ce}function L(U={}){const{themeId:I,defaultTheme:q=_,rootShouldForwardProp:ee=R,slotShouldForwardProp:te=R}=U,ce=re=>(0,d.default)((0,t.default)({},re,{theme:B((0,t.default)({},re,{defaultTheme:q,themeId:I}))}));return ce.__mui_systemSx=!0,(re,ae={})=>{(0,r.internal_processStyles)(re,Ue=>Ue.filter(Pe=>!(Pe!=null&&Pe.__mui_systemSx)));const{name:ue,slot:ie,skipVariantsResolver:he,skipSx:pe,overridesResolver:de=z(T(ie))}=ae,xe=(0,s.default)(ae,y),Se=ue&&ue.startsWith("Mui")||ie?"components":"custom",be=he!==void 0?he:ie&&ie!=="Root"&&ie!=="root"||!1,Ne=pe||!1;let _e,Me=R;ie==="Root"||ie==="root"?Me=ee:ie?Me=te:A(re)&&(Me=void 0);const qe=(0,r.default)(re,(0,t.default)({shouldForwardProp:Me,label:_e},xe)),ze=Ue=>typeof Ue=="function"&&Ue.__emotion_real!==Ue||(0,a.isPlainObject)(Ue)?Pe=>{const Re=B({theme:Pe.theme,defaultTheme:q,themeId:I});return W(Ue,(0,t.default)({},Pe,{theme:Re}),Re.modularCssLayers?Se:void 0)}:Ue,$e=(Ue,...Pe)=>{let Re=ze(Ue);const De=Pe?Pe.map(ze):[];ue&&de&&De.push(Qe=>{const ut=B((0,t.default)({},Qe,{defaultTheme:q,themeId:I}));if(!ut.components||!ut.components[ue]||!ut.components[ue].styleOverrides)return null;const Ht=ut.components[ue].styleOverrides,un={};return Object.entries(Ht).forEach(([Ct,ht])=>{un[Ct]=W(ht,(0,t.default)({},Qe,{theme:ut}),ut.modularCssLayers?"theme":void 0)}),de(Qe,un)}),ue&&!be&&De.push(Qe=>{var ut;const Ht=B((0,t.default)({},Qe,{defaultTheme:q,themeId:I})),un=Ht==null||(ut=Ht.components)==null||(ut=ut[ue])==null?void 0:ut.variants;return W({variants:un},(0,t.default)({},Qe,{theme:Ht}),Ht.modularCssLayers?"theme":void 0)}),Ne||De.push(ce);const je=De.length-Pe.length;if(Array.isArray(Ue)&&je>0){const Qe=new Array(je).fill("");Re=[...Ue,...Qe],Re.raw=[...Ue.raw,...Qe]}const Ee=qe(Re,...De);return re.muiName&&(Ee.muiName=re.muiName),Ee};return qe.withConfig&&($e.withConfig=qe.withConfig),$e}}return vc}var Vj=Bj();const Hj=Qn(Vj);function F2(i){return i!=="ownerState"&&i!=="theme"&&i!=="sx"&&i!=="as"}const or=i=>F2(i)&&i!=="classes",st=Hj({themeId:$c,defaultTheme:R0,rootShouldForwardProp:or}),Wj=["theme"];function $j(i){let{theme:t}=i,s=pt(i,Wj);const r=t[$c];let a=r||t;return typeof t!="function"&&(r&&!r.vars?a=oe({},r,{vars:null}):t&&!t.vars&&(a=oe({},t,{vars:null}))),D.jsx(PF,oe({},s,{themeId:r?$c:void 0,theme:a}))}const Vk=i=>{let t;return i<1?t=5.11916*i**2:t=4.5*Math.log(i+1)+2,(t/100).toFixed(2)};function Yj(i){return Qt("MuiSvgIcon",i)}en("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Uj=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Xj=i=>{const{color:t,fontSize:s,classes:r}=i,a={root:["root",t!=="inherit"&&`color${St(t)}`,`fontSize${St(s)}`]};return tn(a,Yj,r)},Gj=st("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.root,s.color!=="inherit"&&t[`color${St(s.color)}`],t[`fontSize${St(s.fontSize)}`]]}})(({theme:i,ownerState:t})=>{var s,r,a,u,d,p,m,y,b,S,M,A,R;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(s=i.transitions)==null||(r=s.create)==null?void 0:r.call(s,"fill",{duration:(a=i.transitions)==null||(a=a.duration)==null?void 0:a.shorter}),fontSize:{inherit:"inherit",small:((u=i.typography)==null||(d=u.pxToRem)==null?void 0:d.call(u,20))||"1.25rem",medium:((p=i.typography)==null||(m=p.pxToRem)==null?void 0:m.call(p,24))||"1.5rem",large:((y=i.typography)==null||(b=y.pxToRem)==null?void 0:b.call(y,35))||"2.1875rem"}[t.fontSize],color:(S=(M=(i.vars||i).palette)==null||(M=M[t.color])==null?void 0:M.main)!=null?S:{action:(A=(i.vars||i).palette)==null||(A=A.action)==null?void 0:A.active,disabled:(R=(i.vars||i).palette)==null||(R=R.action)==null?void 0:R.disabled,inherit:void 0}[t.color]}}),yb=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiSvgIcon"}),{children:a,className:u,color:d="inherit",component:p="svg",fontSize:m="medium",htmlColor:y,inheritViewBox:b=!1,titleAccess:S,viewBox:M="0 0 24 24"}=r,A=pt(r,Uj),R=X.isValidElement(a)&&a.type==="svg",E=oe({},r,{color:d,component:p,fontSize:m,instanceFontSize:t.fontSize,inheritViewBox:b,viewBox:M,hasSvgAsChild:R}),_={};b||(_.viewBox=M);const T=Xj(E);return D.jsxs(Gj,oe({as:p,className:Pt(T.root,u),focusable:"false",color:y,"aria-hidden":S?void 0:!0,role:S?"img":void 0,ref:s},_,A,R&&a.props,{ownerState:E,children:[R?a.props.children:a,S?D.jsx("title",{children:S}):null]}))});yb.muiName="SvgIcon";function is(i,t){function s(r,a){return D.jsx(yb,oe({"data-testid":`${t}Icon`,ref:a},r,{children:i}))}return s.muiName=yb.muiName,X.memo(X.forwardRef(s))}const qj={configure:i=>{T1.configure(i)}},Kj=Object.freeze(Object.defineProperty({__proto__:null,capitalize:St,createChainedFunction:fb,createSvgIcon:is,debounce:Rh,deprecatedPropType:nF,isMuiElement:Af,ownerDocument:Is,ownerWindow:Ho,requirePropFactory:iF,setRef:Hm,unstable_ClassNameGenerator:qj,unstable_useEnhancedEffect:ys,unstable_useId:sl,unsupportedProp:rF,useControlled:uo,useEventCallback:vn,useForkRef:fi,useIsFocusVisible:N0},Symbol.toStringTag,{value:"Module"}));function Ym(i,t){return Ym=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,r){return s.__proto__=r,s},Ym(i,t)}function j1(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i,Ym(i,t)}function Zj(i,t){return i.classList?!!t&&i.classList.contains(t):(" "+(i.className.baseVal||i.className)+" ").indexOf(" "+t+" ")!==-1}function Jj(i,t){i.classList?i.classList.add(t):Zj(i,t)||(typeof i.className=="string"?i.className=i.className+" "+t:i.setAttribute("class",(i.className&&i.className.baseVal||"")+" "+t))}function Hk(i,t){return i.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Qj(i,t){i.classList?i.classList.remove(t):typeof i.className=="string"?i.className=Hk(i.className,t):i.setAttribute("class",Hk(i.className&&i.className.baseVal||"",t))}const Wk={disabled:!1},Um=_n.createContext(null);var j2=function(t){return t.scrollTop},vf="unmounted",Cc="exited",kc="entering",th="entered",xb="exiting",fo=function(i){j1(t,i);function t(r,a){var u;u=i.call(this,r,a)||this;var d=a,p=d&&!d.isMounting?r.enter:r.appear,m;return u.appearStatus=null,r.in?p?(m=Cc,u.appearStatus=kc):m=th:r.unmountOnExit||r.mountOnEnter?m=vf:m=Cc,u.state={status:m},u.nextCallback=null,u}t.getDerivedStateFromProps=function(a,u){var d=a.in;return d&&u.status===vf?{status:Cc}:null};var s=t.prototype;return s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(a){var u=null;if(a!==this.props){var d=this.state.status;this.props.in?d!==kc&&d!==th&&(u=kc):(d===kc||d===th)&&(u=xb)}this.updateStatus(!1,u)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var a=this.props.timeout,u,d,p;return u=d=p=a,a!=null&&typeof a!="number"&&(u=a.exit,d=a.enter,p=a.appear!==void 0?a.appear:d),{exit:u,enter:d,appear:p}},s.updateStatus=function(a,u){if(a===void 0&&(a=!1),u!==null)if(this.cancelNextCallback(),u===kc){if(this.props.unmountOnExit||this.props.mountOnEnter){var d=this.props.nodeRef?this.props.nodeRef.current:zg.findDOMNode(this);d&&j2(d)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Cc&&this.setState({status:vf})},s.performEnter=function(a){var u=this,d=this.props.enter,p=this.context?this.context.isMounting:a,m=this.props.nodeRef?[p]:[zg.findDOMNode(this),p],y=m[0],b=m[1],S=this.getTimeouts(),M=p?S.appear:S.enter;if(!a&&!d||Wk.disabled){this.safeSetState({status:th},function(){u.props.onEntered(y)});return}this.props.onEnter(y,b),this.safeSetState({status:kc},function(){u.props.onEntering(y,b),u.onTransitionEnd(M,function(){u.safeSetState({status:th},function(){u.props.onEntered(y,b)})})})},s.performExit=function(){var a=this,u=this.props.exit,d=this.getTimeouts(),p=this.props.nodeRef?void 0:zg.findDOMNode(this);if(!u||Wk.disabled){this.safeSetState({status:Cc},function(){a.props.onExited(p)});return}this.props.onExit(p),this.safeSetState({status:xb},function(){a.props.onExiting(p),a.onTransitionEnd(d.exit,function(){a.safeSetState({status:Cc},function(){a.props.onExited(p)})})})},s.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(a,u){u=this.setNextCallback(u),this.setState(a,u)},s.setNextCallback=function(a){var u=this,d=!0;return this.nextCallback=function(p){d&&(d=!1,u.nextCallback=null,a(p))},this.nextCallback.cancel=function(){d=!1},this.nextCallback},s.onTransitionEnd=function(a,u){this.setNextCallback(u);var d=this.props.nodeRef?this.props.nodeRef.current:zg.findDOMNode(this),p=a==null&&!this.props.addEndListener;if(!d||p){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var m=this.props.nodeRef?[this.nextCallback]:[d,this.nextCallback],y=m[0],b=m[1];this.props.addEndListener(y,b)}a!=null&&setTimeout(this.nextCallback,a)},s.render=function(){var a=this.state.status;if(a===vf)return null;var u=this.props,d=u.children;u.in,u.mountOnEnter,u.unmountOnExit,u.appear,u.enter,u.exit,u.timeout,u.addEndListener,u.onEnter,u.onEntering,u.onEntered,u.onExit,u.onExiting,u.onExited,u.nodeRef;var p=pt(u,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return _n.createElement(Um.Provider,{value:null},typeof d=="function"?d(a,p):_n.cloneElement(_n.Children.only(d),p))},t}(_n.Component);fo.contextType=Um;fo.propTypes={};function Uu(){}fo.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Uu,onEntering:Uu,onEntered:Uu,onExit:Uu,onExiting:Uu,onExited:Uu};fo.UNMOUNTED=vf;fo.EXITED=Cc;fo.ENTERING=kc;fo.ENTERED=th;fo.EXITING=xb;var e5=function(t,s){return t&&s&&s.split(" ").forEach(function(r){return Jj(t,r)})},ov=function(t,s){return t&&s&&s.split(" ").forEach(function(r){return Qj(t,r)})},_1=function(i){j1(t,i);function t(){for(var r,a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return r=i.call.apply(i,[this].concat(u))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(p,m){var y=r.resolveArguments(p,m),b=y[0],S=y[1];r.removeClasses(b,"exit"),r.addClass(b,S?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(p,m)},r.onEntering=function(p,m){var y=r.resolveArguments(p,m),b=y[0],S=y[1],M=S?"appear":"enter";r.addClass(b,M,"active"),r.props.onEntering&&r.props.onEntering(p,m)},r.onEntered=function(p,m){var y=r.resolveArguments(p,m),b=y[0],S=y[1],M=S?"appear":"enter";r.removeClasses(b,M),r.addClass(b,M,"done"),r.props.onEntered&&r.props.onEntered(p,m)},r.onExit=function(p){var m=r.resolveArguments(p),y=m[0];r.removeClasses(y,"appear"),r.removeClasses(y,"enter"),r.addClass(y,"exit","base"),r.props.onExit&&r.props.onExit(p)},r.onExiting=function(p){var m=r.resolveArguments(p),y=m[0];r.addClass(y,"exit","active"),r.props.onExiting&&r.props.onExiting(p)},r.onExited=function(p){var m=r.resolveArguments(p),y=m[0];r.removeClasses(y,"exit"),r.addClass(y,"exit","done"),r.props.onExited&&r.props.onExited(p)},r.resolveArguments=function(p,m){return r.props.nodeRef?[r.props.nodeRef.current,p]:[p,m]},r.getClassNames=function(p){var m=r.props.classNames,y=typeof m=="string",b=y&&m?m+"-":"",S=y?""+b+p:m[p],M=y?S+"-active":m[p+"Active"],A=y?S+"-done":m[p+"Done"];return{baseClassName:S,activeClassName:M,doneClassName:A}},r}var s=t.prototype;return s.addClass=function(a,u,d){var p=this.getClassNames(u)[d+"ClassName"],m=this.getClassNames("enter"),y=m.doneClassName;u==="appear"&&d==="done"&&y&&(p+=" "+y),d==="active"&&a&&j2(a),p&&(this.appliedClasses[u][d]=p,e5(a,p))},s.removeClasses=function(a,u){var d=this.appliedClasses[u],p=d.base,m=d.active,y=d.done;this.appliedClasses[u]={},p&&ov(a,p),m&&ov(a,m),y&&ov(a,y)},s.render=function(){var a=this.props;a.classNames;var u=pt(a,["classNames"]);return _n.createElement(fo,oe({},u,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(_n.Component);_1.defaultProps={classNames:""};_1.propTypes={};function pn(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function z1(i,t){var s=function(u){return t&&X.isValidElement(u)?t(u):u},r=Object.create(null);return i&&X.Children.map(i,function(a){return a}).forEach(function(a){r[a.key]=s(a)}),r}function t5(i,t){i=i||{},t=t||{};function s(b){return b in t?t[b]:i[b]}var r=Object.create(null),a=[];for(var u in i)u in t?a.length&&(r[u]=a,a=[]):a.push(u);var d,p={};for(var m in t){if(r[m])for(d=0;d<r[m].length;d++){var y=r[m][d];p[r[m][d]]=s(y)}p[m]=s(m)}for(d=0;d<a.length;d++)p[a[d]]=s(a[d]);return p}function Nc(i,t,s){return s[t]!=null?s[t]:i.props[t]}function n5(i,t){return z1(i.children,function(s){return X.cloneElement(s,{onExited:t.bind(null,s),in:!0,appear:Nc(s,"appear",i),enter:Nc(s,"enter",i),exit:Nc(s,"exit",i)})})}function i5(i,t,s){var r=z1(i.children),a=t5(t,r);return Object.keys(a).forEach(function(u){var d=a[u];if(X.isValidElement(d)){var p=u in t,m=u in r,y=t[u],b=X.isValidElement(y)&&!y.props.in;m&&(!p||b)?a[u]=X.cloneElement(d,{onExited:s.bind(null,d),in:!0,exit:Nc(d,"exit",i),enter:Nc(d,"enter",i)}):!m&&p&&!b?a[u]=X.cloneElement(d,{in:!1}):m&&p&&X.isValidElement(y)&&(a[u]=X.cloneElement(d,{onExited:s.bind(null,d),in:y.props.in,exit:Nc(d,"exit",i),enter:Nc(d,"enter",i)}))}}),a}var s5=Object.values||function(i){return Object.keys(i).map(function(t){return i[t]})},r5={component:"div",childFactory:function(t){return t}},vp=function(i){j1(t,i);function t(r,a){var u;u=i.call(this,r,a)||this;var d=u.handleExited.bind(pn(u));return u.state={contextValue:{isMounting:!0},handleExited:d,firstRender:!0},u}var s=t.prototype;return s.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},s.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(a,u){var d=u.children,p=u.handleExited,m=u.firstRender;return{children:m?n5(a,p):i5(a,d,p),firstRender:!1}},s.handleExited=function(a,u){var d=z1(this.props.children);a.key in d||(a.props.onExited&&a.props.onExited(u),this.mounted&&this.setState(function(p){var m=oe({},p.children);return delete m[a.key],{children:m}}))},s.render=function(){var a=this.props,u=a.component,d=a.childFactory,p=pt(a,["component","childFactory"]),m=this.state.contextValue,y=s5(this.state.children).map(d);return delete p.appear,delete p.enter,delete p.exit,u===null?_n.createElement(Um.Provider,{value:m},y):_n.createElement(Um.Provider,{value:m},_n.createElement(u,p,y))},t}(_n.Component);vp.propTypes={};vp.defaultProps=r5;const B1=i=>i.scrollTop;function $l(i,t){var s,r;const{timeout:a,easing:u,style:d={}}=i;return{duration:(s=d.transitionDuration)!=null?s:typeof a=="number"?a:a[t.mode]||0,easing:(r=d.transitionTimingFunction)!=null?r:typeof u=="object"?u[t.mode]:u,delay:d.transitionDelay}}function o5(i){return Qt("MuiCollapse",i)}en("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const a5=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],l5=i=>{const{orientation:t,classes:s}=i,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return tn(r,o5,s)},c5=st("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.root,t[s.orientation],s.state==="entered"&&t.entered,s.state==="exited"&&!s.in&&s.collapsedSize==="0px"&&t.hidden]}})(({theme:i,ownerState:t})=>oe({height:0,overflow:"hidden",transition:i.transitions.create("height")},t.orientation==="horizontal"&&{height:"auto",width:0,transition:i.transitions.create("width")},t.state==="entered"&&oe({height:"auto",overflow:"visible"},t.orientation==="horizontal"&&{width:"auto"}),t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&{visibility:"hidden"})),u5=st("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(i,t)=>t.wrapper})(({ownerState:i})=>oe({display:"flex",width:"100%"},i.orientation==="horizontal"&&{width:"auto",height:"100%"})),h5=st("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(i,t)=>t.wrapperInner})(({ownerState:i})=>oe({width:"100%"},i.orientation==="horizontal"&&{width:"auto",height:"100%"})),vb=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiCollapse"}),{addEndListener:a,children:u,className:d,collapsedSize:p="0px",component:m,easing:y,in:b,onEnter:S,onEntered:M,onEntering:A,onExit:R,onExited:E,onExiting:_,orientation:T="vertical",style:B,timeout:z=x2.standard,TransitionComponent:W=fo}=r,L=pt(r,a5),U=oe({},r,{orientation:T,collapsedSize:p}),I=l5(U),q=vs(),ee=Ec(),te=X.useRef(null),ce=X.useRef(),re=typeof p=="number"?`${p}px`:p,ae=T==="horizontal",ue=ae?"width":"height",ie=X.useRef(null),he=fi(s,ie),pe=ze=>$e=>{if(ze){const Ue=ie.current;$e===void 0?ze(Ue):ze(Ue,$e)}},de=()=>te.current?te.current[ae?"clientWidth":"clientHeight"]:0,xe=pe((ze,$e)=>{te.current&&ae&&(te.current.style.position="absolute"),ze.style[ue]=re,S&&S(ze,$e)}),Se=pe((ze,$e)=>{const Ue=de();te.current&&ae&&(te.current.style.position="");const{duration:Pe,easing:Re}=$l({style:B,timeout:z,easing:y},{mode:"enter"});if(z==="auto"){const De=q.transitions.getAutoHeightDuration(Ue);ze.style.transitionDuration=`${De}ms`,ce.current=De}else ze.style.transitionDuration=typeof Pe=="string"?Pe:`${Pe}ms`;ze.style[ue]=`${Ue}px`,ze.style.transitionTimingFunction=Re,A&&A(ze,$e)}),be=pe((ze,$e)=>{ze.style[ue]="auto",M&&M(ze,$e)}),Ne=pe(ze=>{ze.style[ue]=`${de()}px`,R&&R(ze)}),_e=pe(E),Me=pe(ze=>{const $e=de(),{duration:Ue,easing:Pe}=$l({style:B,timeout:z,easing:y},{mode:"exit"});if(z==="auto"){const Re=q.transitions.getAutoHeightDuration($e);ze.style.transitionDuration=`${Re}ms`,ce.current=Re}else ze.style.transitionDuration=typeof Ue=="string"?Ue:`${Ue}ms`;ze.style[ue]=re,ze.style.transitionTimingFunction=Pe,_&&_(ze)}),qe=ze=>{z==="auto"&&ee.start(ce.current||0,ze),a&&a(ie.current,ze)};return D.jsx(W,oe({in:b,onEnter:xe,onEntered:be,onEntering:Se,onExit:Ne,onExited:_e,onExiting:Me,addEndListener:qe,nodeRef:ie,timeout:z==="auto"?null:z},L,{children:(ze,$e)=>D.jsx(c5,oe({as:m,className:Pt(I.root,d,{entered:I.entered,exited:!b&&re==="0px"&&I.hidden}[ze]),style:oe({[ae?"minWidth":"minHeight"]:re},B),ref:he},$e,{ownerState:oe({},U,{state:ze}),children:D.jsx(u5,{ownerState:oe({},U,{state:ze}),className:I.wrapper,ref:te,children:D.jsx(h5,{ownerState:oe({},U,{state:ze}),className:I.wrapperInner,children:u})})}))}))});vb.muiSupportAuto=!0;function d5(i){return Qt("MuiPaper",i)}en("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const f5=["className","component","elevation","square","variant"],p5=i=>{const{square:t,elevation:s,variant:r,classes:a}=i,u={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${s}`]};return tn(u,d5,a)},g5=st("div",{name:"MuiPaper",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.root,t[s.variant],!s.square&&t.rounded,s.variant==="elevation"&&t[`elevation${s.elevation}`]]}})(({theme:i,ownerState:t})=>{var s;return oe({backgroundColor:(i.vars||i).palette.background.paper,color:(i.vars||i).palette.text.primary,transition:i.transitions.create("box-shadow")},!t.square&&{borderRadius:i.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(i.vars||i).palette.divider}`},t.variant==="elevation"&&oe({boxShadow:(i.vars||i).shadows[t.elevation]},!i.vars&&i.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${jn.alpha("#fff",Vk(t.elevation))}, ${jn.alpha("#fff",Vk(t.elevation))})`},i.vars&&{backgroundImage:(s=i.vars.overlays)==null?void 0:s[t.elevation]}))}),ts=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiPaper"}),{className:a,component:u="div",elevation:d=1,square:p=!1,variant:m="elevation"}=r,y=pt(r,f5),b=oe({},r,{component:u,elevation:d,square:p,variant:m}),S=p5(b);return D.jsx(g5,oe({as:u,ownerState:b,className:Pt(S.root,a),ref:s},y))}),m5=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],y5=["component","slots","slotProps"],x5=["component"];function $k(i,t){const{className:s,elementType:r,ownerState:a,externalForwardedProps:u,getSlotOwnerState:d,internalForwardedProps:p}=t,m=pt(t,m5),{component:y,slots:b={[i]:void 0},slotProps:S={[i]:void 0}}=u,M=pt(u,y5),A=b[i]||r,R=f2(S[i],a),E=d2(oe({className:s},m,{externalForwardedProps:i==="root"?M:void 0,externalSlotProps:R})),{props:{component:_},internalRef:T}=E,B=pt(E.props,x5),z=fi(T,R?.ref,t.ref),W=d?d(B):{},L=oe({},a,W),U=i==="root"?_||y:_,I=sh(A,oe({},i==="root"&&!y&&!b[i]&&p,i!=="root"&&!b[i]&&p,B,U&&{as:U},{ref:z}),L);return Object.keys(W).forEach(q=>{delete I[q]}),[A,I]}function v5(i){const{className:t,classes:s,pulsate:r=!1,rippleX:a,rippleY:u,rippleSize:d,in:p,onExited:m,timeout:y}=i,[b,S]=X.useState(!1),M=Pt(t,s.ripple,s.rippleVisible,r&&s.ripplePulsate),A={width:d,height:d,top:-(d/2)+u,left:-(d/2)+a},R=Pt(s.child,b&&s.childLeaving,r&&s.childPulsate);return!p&&!b&&S(!0),X.useEffect(()=>{if(!p&&m!=null){const E=setTimeout(m,y);return()=>{clearTimeout(E)}}},[m,p,y]),D.jsx("span",{className:M,style:A,children:D.jsx("span",{className:R})})}const Oo=en("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),b5=["center","classes","className"];let I0=i=>i,Yk,Uk,Xk,Gk;const bb=550,w5=80,S5=Dh(Yk||(Yk=I0`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),C5=Dh(Uk||(Uk=I0`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),k5=Dh(Xk||(Xk=I0`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),P5=st("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),M5=st(v5,{name:"MuiTouchRipple",slot:"Ripple"})(Gk||(Gk=I0`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Oo.rippleVisible,S5,bb,({theme:i})=>i.transitions.easing.easeInOut,Oo.ripplePulsate,({theme:i})=>i.transitions.duration.shorter,Oo.child,Oo.childLeaving,C5,bb,({theme:i})=>i.transitions.easing.easeInOut,Oo.childPulsate,k5,({theme:i})=>i.transitions.easing.easeInOut),T5=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiTouchRipple"}),{center:a=!1,classes:u={},className:d}=r,p=pt(r,b5),[m,y]=X.useState([]),b=X.useRef(0),S=X.useRef(null);X.useEffect(()=>{S.current&&(S.current(),S.current=null)},[m]);const M=X.useRef(!1),A=Ec(),R=X.useRef(null),E=X.useRef(null),_=X.useCallback(W=>{const{pulsate:L,rippleX:U,rippleY:I,rippleSize:q,cb:ee}=W;y(te=>[...te,D.jsx(M5,{classes:{ripple:Pt(u.ripple,Oo.ripple),rippleVisible:Pt(u.rippleVisible,Oo.rippleVisible),ripplePulsate:Pt(u.ripplePulsate,Oo.ripplePulsate),child:Pt(u.child,Oo.child),childLeaving:Pt(u.childLeaving,Oo.childLeaving),childPulsate:Pt(u.childPulsate,Oo.childPulsate)},timeout:bb,pulsate:L,rippleX:U,rippleY:I,rippleSize:q},b.current)]),b.current+=1,S.current=ee},[u]),T=X.useCallback((W={},L={},U=()=>{})=>{const{pulsate:I=!1,center:q=a||L.pulsate,fakeElement:ee=!1}=L;if(W?.type==="mousedown"&&M.current){M.current=!1;return}W?.type==="touchstart"&&(M.current=!0);const te=ee?null:E.current,ce=te?te.getBoundingClientRect():{width:0,height:0,left:0,top:0};let re,ae,ue;if(q||W===void 0||W.clientX===0&&W.clientY===0||!W.clientX&&!W.touches)re=Math.round(ce.width/2),ae=Math.round(ce.height/2);else{const{clientX:ie,clientY:he}=W.touches&&W.touches.length>0?W.touches[0]:W;re=Math.round(ie-ce.left),ae=Math.round(he-ce.top)}if(q)ue=Math.sqrt((2*ce.width**2+ce.height**2)/3),ue%2===0&&(ue+=1);else{const ie=Math.max(Math.abs((te?te.clientWidth:0)-re),re)*2+2,he=Math.max(Math.abs((te?te.clientHeight:0)-ae),ae)*2+2;ue=Math.sqrt(ie**2+he**2)}W!=null&&W.touches?R.current===null&&(R.current=()=>{_({pulsate:I,rippleX:re,rippleY:ae,rippleSize:ue,cb:U})},A.start(w5,()=>{R.current&&(R.current(),R.current=null)})):_({pulsate:I,rippleX:re,rippleY:ae,rippleSize:ue,cb:U})},[a,_,A]),B=X.useCallback(()=>{T({},{pulsate:!0})},[T]),z=X.useCallback((W,L)=>{if(A.clear(),W?.type==="touchend"&&R.current){R.current(),R.current=null,A.start(0,()=>{z(W,L)});return}R.current=null,y(U=>U.length>0?U.slice(1):U),S.current=L},[A]);return X.useImperativeHandle(s,()=>({pulsate:B,start:T,stop:z}),[B,T,z]),D.jsx(P5,oe({className:Pt(Oo.root,u.root,d),ref:E},p,{children:D.jsx(vp,{component:null,exit:!0,children:m})}))});function A5(i){return Qt("MuiButtonBase",i)}const D5=en("MuiButtonBase",["root","disabled","focusVisible"]),E5=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],N5=i=>{const{disabled:t,focusVisible:s,focusVisibleClassName:r,classes:a}=i,d=tn({root:["root",t&&"disabled",s&&"focusVisible"]},A5,a);return s&&r&&(d.root+=` ${r}`),d},R5=st("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(i,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${D5.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),aa=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiButtonBase"}),{action:a,centerRipple:u=!1,children:d,className:p,component:m="button",disabled:y=!1,disableRipple:b=!1,disableTouchRipple:S=!1,focusRipple:M=!1,LinkComponent:A="a",onBlur:R,onClick:E,onContextMenu:_,onDragLeave:T,onFocus:B,onFocusVisible:z,onKeyDown:W,onKeyUp:L,onMouseDown:U,onMouseLeave:I,onMouseUp:q,onTouchEnd:ee,onTouchMove:te,onTouchStart:ce,tabIndex:re=0,TouchRippleProps:ae,touchRippleRef:ue,type:ie}=r,he=pt(r,E5),pe=X.useRef(null),de=X.useRef(null),xe=fi(de,ue),{isFocusVisibleRef:Se,onFocus:be,onBlur:Ne,ref:_e}=N0(),[Me,qe]=X.useState(!1);y&&Me&&qe(!1),X.useImperativeHandle(a,()=>({focusVisible:()=>{qe(!0),pe.current.focus()}}),[]);const[ze,$e]=X.useState(!1);X.useEffect(()=>{$e(!0)},[]);const Ue=ze&&!b&&!y;X.useEffect(()=>{Me&&M&&!b&&ze&&de.current.pulsate()},[b,M,Me,ze]);function Pe(rt,Tt,ft=S){return vn(mt=>(Tt&&Tt(mt),!ft&&de.current&&de.current[rt](mt),!0))}const Re=Pe("start",U),De=Pe("stop",_),je=Pe("stop",T),Ee=Pe("stop",q),Qe=Pe("stop",rt=>{Me&&rt.preventDefault(),I&&I(rt)}),ut=Pe("start",ce),Ht=Pe("stop",ee),un=Pe("stop",te),Ct=Pe("stop",rt=>{Ne(rt),Se.current===!1&&qe(!1),R&&R(rt)},!1),ht=vn(rt=>{pe.current||(pe.current=rt.currentTarget),be(rt),Se.current===!0&&(qe(!0),z&&z(rt)),B&&B(rt)}),Ze=()=>{const rt=pe.current;return m&&m!=="button"&&!(rt.tagName==="A"&&rt.href)},yt=X.useRef(!1),Ut=vn(rt=>{M&&!yt.current&&Me&&de.current&&rt.key===" "&&(yt.current=!0,de.current.stop(rt,()=>{de.current.start(rt)})),rt.target===rt.currentTarget&&Ze()&&rt.key===" "&&rt.preventDefault(),W&&W(rt),rt.target===rt.currentTarget&&Ze()&&rt.key==="Enter"&&!y&&(rt.preventDefault(),E&&E(rt))}),nn=vn(rt=>{M&&rt.key===" "&&de.current&&Me&&!rt.defaultPrevented&&(yt.current=!1,de.current.stop(rt,()=>{de.current.pulsate(rt)})),L&&L(rt),E&&rt.target===rt.currentTarget&&Ze()&&rt.key===" "&&!rt.defaultPrevented&&E(rt)});let Ve=m;Ve==="button"&&(he.href||he.to)&&(Ve=A);const at={};Ve==="button"?(at.type=ie===void 0?"button":ie,at.disabled=y):(!he.href&&!he.to&&(at.role="button"),y&&(at["aria-disabled"]=y));const xt=fi(s,_e,pe),_t=oe({},r,{centerRipple:u,component:m,disabled:y,disableRipple:b,disableTouchRipple:S,focusRipple:M,tabIndex:re,focusVisible:Me}),Mt=N5(_t);return D.jsxs(R5,oe({as:Ve,className:Pt(Mt.root,p),ownerState:_t,onBlur:Ct,onClick:E,onContextMenu:De,onFocus:ht,onKeyDown:Ut,onKeyUp:nn,onMouseDown:Re,onMouseLeave:Qe,onMouseUp:Ee,onDragLeave:je,onTouchEnd:Ht,onTouchMove:un,onTouchStart:ut,ref:xt,tabIndex:y?-1:re,type:ie},at,he,{children:[d,Ue?D.jsx(T5,oe({ref:xe,center:u},ae)):null]}))});function L5(i){return Qt("MuiAlert",i)}const qk=en("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function O5(i){return Qt("MuiIconButton",i)}const I5=en("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),F5=["edge","children","className","color","disabled","disableFocusRipple","size"],j5=i=>{const{classes:t,disabled:s,color:r,edge:a,size:u}=i,d={root:["root",s&&"disabled",r!=="default"&&`color${St(r)}`,a&&`edge${St(a)}`,`size${St(u)}`]};return tn(d,O5,t)},_5=st(aa,{name:"MuiIconButton",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.root,s.color!=="default"&&t[`color${St(s.color)}`],s.edge&&t[`edge${St(s.edge)}`],t[`size${St(s.size)}`]]}})(({theme:i,ownerState:t})=>oe({textAlign:"center",flex:"0 0 auto",fontSize:i.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(i.vars||i).palette.action.active,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:i.vars?`rgba(${i.vars.palette.action.activeChannel} / ${i.vars.palette.action.hoverOpacity})`:jn.alpha(i.palette.action.active,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:i,ownerState:t})=>{var s;const r=(s=(i.vars||i).palette)==null?void 0:s[t.color];return oe({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&oe({color:r?.main},!t.disableRipple&&{"&:hover":oe({},r&&{backgroundColor:i.vars?`rgba(${r.mainChannel} / ${i.vars.palette.action.hoverOpacity})`:jn.alpha(r.main,i.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:i.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:i.typography.pxToRem(28)},{[`&.${I5.disabled}`]:{backgroundColor:"transparent",color:(i.vars||i).palette.action.disabled}})}),Hi=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiIconButton"}),{edge:a=!1,children:u,className:d,color:p="default",disabled:m=!1,disableFocusRipple:y=!1,size:b="medium"}=r,S=pt(r,F5),M=oe({},r,{edge:a,color:p,disabled:m,disableFocusRipple:y,size:b}),A=j5(M);return D.jsx(_5,oe({className:Pt(A.root,d),centerRipple:!0,focusRipple:!y,disabled:m,ref:s},S,{ownerState:M,children:u}))}),z5=is(D.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),B5=is(D.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),V5=is(D.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),H5=is(D.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),W5=is(D.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),$5=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],Y5=i=>{const{variant:t,color:s,severity:r,classes:a}=i,u={root:["root",`color${St(s||r)}`,`${t}${St(s||r)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return tn(u,L5,a)},U5=st(ts,{name:"MuiAlert",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.root,t[s.variant],t[`${s.variant}${St(s.color||s.severity)}`]]}})(({theme:i})=>{const t=i.palette.mode==="light"?jn.darken:jn.lighten,s=i.palette.mode==="light"?jn.lighten:jn.darken;return oe({},i.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(i.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:i.vars?i.vars.palette.Alert[`${r}Color`]:t(i.palette[r].light,.6),backgroundColor:i.vars?i.vars.palette.Alert[`${r}StandardBg`]:s(i.palette[r].light,.9),[`& .${qk.icon}`]:i.vars?{color:i.vars.palette.Alert[`${r}IconColor`]}:{color:i.palette[r].main}}})),...Object.entries(i.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:i.vars?i.vars.palette.Alert[`${r}Color`]:t(i.palette[r].light,.6),border:`1px solid ${(i.vars||i).palette[r].light}`,[`& .${qk.icon}`]:i.vars?{color:i.vars.palette.Alert[`${r}IconColor`]}:{color:i.palette[r].main}}})),...Object.entries(i.palette).filter(([,r])=>r.main&&r.dark).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:oe({fontWeight:i.typography.fontWeightMedium},i.vars?{color:i.vars.palette.Alert[`${r}FilledColor`],backgroundColor:i.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:i.palette.mode==="dark"?i.palette[r].dark:i.palette[r].main,color:i.palette.getContrastText(i.palette[r].main)})}))]})}),X5=st("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(i,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),G5=st("div",{name:"MuiAlert",slot:"Message",overridesResolver:(i,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),Kk=st("div",{name:"MuiAlert",slot:"Action",overridesResolver:(i,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),Zk={success:D.jsx(z5,{fontSize:"inherit"}),warning:D.jsx(B5,{fontSize:"inherit"}),error:D.jsx(V5,{fontSize:"inherit"}),info:D.jsx(H5,{fontSize:"inherit"})},q5=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiAlert"}),{action:a,children:u,className:d,closeText:p="Close",color:m,components:y={},componentsProps:b={},icon:S,iconMapping:M=Zk,onClose:A,role:R="alert",severity:E="success",slotProps:_={},slots:T={},variant:B="standard"}=r,z=pt(r,$5),W=oe({},r,{color:m,severity:E,variant:B,colorSeverity:m||E}),L=Y5(W),U={slots:oe({closeButton:y.CloseButton,closeIcon:y.CloseIcon},T),slotProps:oe({},b,_)},[I,q]=$k("closeButton",{elementType:Hi,externalForwardedProps:U,ownerState:W}),[ee,te]=$k("closeIcon",{elementType:W5,externalForwardedProps:U,ownerState:W});return D.jsxs(U5,oe({role:R,elevation:0,ownerState:W,className:Pt(L.root,d),ref:s},z,{children:[S!==!1?D.jsx(X5,{ownerState:W,className:L.icon,children:S||M[E]||Zk[E]}):null,D.jsx(G5,{ownerState:W,className:L.message,children:u}),a!=null?D.jsx(Kk,{ownerState:W,className:L.action,children:a}):null,a==null&&A?D.jsx(Kk,{ownerState:W,className:L.action,children:D.jsx(I,oe({size:"small","aria-label":p,title:p,color:"inherit",onClick:A},q,{children:D.jsx(ee,oe({fontSize:"small"},te))}))}):null]}))});function K5(i){return Qt("MuiTypography",i)}en("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Z5=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],J5=i=>{const{align:t,gutterBottom:s,noWrap:r,paragraph:a,variant:u,classes:d}=i,p={root:["root",u,i.align!=="inherit"&&`align${St(t)}`,s&&"gutterBottom",r&&"noWrap",a&&"paragraph"]};return tn(p,K5,d)},Q5=st("span",{name:"MuiTypography",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.root,s.variant&&t[s.variant],s.align!=="inherit"&&t[`align${St(s.align)}`],s.noWrap&&t.noWrap,s.gutterBottom&&t.gutterBottom,s.paragraph&&t.paragraph]}})(({theme:i,ownerState:t})=>oe({margin:0},t.variant==="inherit"&&{font:"inherit"},t.variant!=="inherit"&&i.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),Jk={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},e_={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},t_=i=>e_[i]||i,Oe=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiTypography"}),a=t_(r.color),u=pp(oe({},r,{color:a})),{align:d="inherit",className:p,component:m,gutterBottom:y=!1,noWrap:b=!1,paragraph:S=!1,variant:M="body1",variantMapping:A=Jk}=u,R=pt(u,Z5),E=oe({},u,{align:d,color:a,className:p,component:m,gutterBottom:y,noWrap:b,paragraph:S,variant:M,variantMapping:A}),_=m||(S?"p":A[M]||Jk[M])||"span",T=J5(E);return D.jsx(Q5,oe({as:_,ref:s,ownerState:E,className:Pt(T.root,p)},R))});function n_(i){return Qt("MuiAppBar",i)}en("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const i_=["className","color","enableColorOnDark","position"],s_=i=>{const{color:t,position:s,classes:r}=i,a={root:["root",`color${St(t)}`,`position${St(s)}`]};return tn(a,n_,r)},Bg=(i,t)=>i?`${i?.replace(")","")}, ${t})`:t,r_=st(ts,{name:"MuiAppBar",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.root,t[`position${St(s.position)}`],t[`color${St(s.color)}`]]}})(({theme:i,ownerState:t})=>{const s=i.palette.mode==="light"?i.palette.grey[100]:i.palette.grey[900];return oe({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},t.position==="fixed"&&{position:"fixed",zIndex:(i.vars||i).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},t.position==="absolute"&&{position:"absolute",zIndex:(i.vars||i).zIndex.appBar,top:0,left:"auto",right:0},t.position==="sticky"&&{position:"sticky",zIndex:(i.vars||i).zIndex.appBar,top:0,left:"auto",right:0},t.position==="static"&&{position:"static"},t.position==="relative"&&{position:"relative"},!i.vars&&oe({},t.color==="default"&&{backgroundColor:s,color:i.palette.getContrastText(s)},t.color&&t.color!=="default"&&t.color!=="inherit"&&t.color!=="transparent"&&{backgroundColor:i.palette[t.color].main,color:i.palette[t.color].contrastText},t.color==="inherit"&&{color:"inherit"},i.palette.mode==="dark"&&!t.enableColorOnDark&&{backgroundColor:null,color:null},t.color==="transparent"&&oe({backgroundColor:"transparent",color:"inherit"},i.palette.mode==="dark"&&{backgroundImage:"none"})),i.vars&&oe({},t.color==="default"&&{"--AppBar-background":t.enableColorOnDark?i.vars.palette.AppBar.defaultBg:Bg(i.vars.palette.AppBar.darkBg,i.vars.palette.AppBar.defaultBg),"--AppBar-color":t.enableColorOnDark?i.vars.palette.text.primary:Bg(i.vars.palette.AppBar.darkColor,i.vars.palette.text.primary)},t.color&&!t.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":t.enableColorOnDark?i.vars.palette[t.color].main:Bg(i.vars.palette.AppBar.darkBg,i.vars.palette[t.color].main),"--AppBar-color":t.enableColorOnDark?i.vars.palette[t.color].contrastText:Bg(i.vars.palette.AppBar.darkColor,i.vars.palette[t.color].contrastText)},!["inherit","transparent"].includes(t.color)&&{backgroundColor:"var(--AppBar-background)"},{color:t.color==="inherit"?"inherit":"var(--AppBar-color)"},t.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),_2=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiAppBar"}),{className:a,color:u="primary",enableColorOnDark:d=!1,position:p="fixed"}=r,m=pt(r,i_),y=oe({},r,{color:u,position:p,enableColorOnDark:d}),b=s_(y);return D.jsx(r_,oe({square:!0,component:"header",ownerState:y,elevation:4,className:Pt(b.root,a,p==="fixed"&&"mui-fixed"),ref:s},m))});var Pd={},Qk;function o_(){if(Qk)return Pd;Qk=1,Object.defineProperty(Pd,"__esModule",{value:!0}),Pd.default=void 0;var i=r(Gl()),t=I2;function s(d){if(typeof WeakMap!="function")return null;var p=new WeakMap,m=new WeakMap;return(s=function(y){return y?m:p})(d)}function r(d,p){if(d&&d.__esModule)return d;if(d===null||typeof d!="object"&&typeof d!="function")return{default:d};var m=s(p);if(m&&m.has(d))return m.get(d);var y={__proto__:null},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var S in d)if(S!=="default"&&Object.prototype.hasOwnProperty.call(d,S)){var M=b?Object.getOwnPropertyDescriptor(d,S):null;M&&(M.get||M.set)?Object.defineProperty(y,S,M):y[S]=d[S]}return y.default=d,m&&m.set(d,y),y}function a(d){return Object.keys(d).length===0}function u(d=null){const p=i.useContext(t.ThemeContext);return!p||a(p)?d:p}return Pd.default=u,Pd}var a_=o_();const l_=Qn(a_);var Yr="top",Wo="bottom",$o="right",Ur="left",V1="auto",bp=[Yr,Wo,$o,Ur],xh="start",qf="end",c_="clippingParents",z2="viewport",Md="popper",u_="reference",eP=bp.reduce(function(i,t){return i.concat([t+"-"+xh,t+"-"+qf])},[]),B2=[].concat(bp,[V1]).reduce(function(i,t){return i.concat([t,t+"-"+xh,t+"-"+qf])},[]),h_="beforeRead",d_="read",f_="afterRead",p_="beforeMain",g_="main",m_="afterMain",y_="beforeWrite",x_="write",v_="afterWrite",b_=[h_,d_,f_,p_,g_,m_,y_,x_,v_];function Na(i){return i?(i.nodeName||"").toLowerCase():null}function ho(i){if(i==null)return window;if(i.toString()!=="[object Window]"){var t=i.ownerDocument;return t&&t.defaultView||window}return i}function Yc(i){var t=ho(i).Element;return i instanceof t||i instanceof Element}function Bo(i){var t=ho(i).HTMLElement;return i instanceof t||i instanceof HTMLElement}function H1(i){if(typeof ShadowRoot>"u")return!1;var t=ho(i).ShadowRoot;return i instanceof t||i instanceof ShadowRoot}function w_(i){var t=i.state;Object.keys(t.elements).forEach(function(s){var r=t.styles[s]||{},a=t.attributes[s]||{},u=t.elements[s];!Bo(u)||!Na(u)||(Object.assign(u.style,r),Object.keys(a).forEach(function(d){var p=a[d];p===!1?u.removeAttribute(d):u.setAttribute(d,p===!0?"":p)}))})}function S_(i){var t=i.state,s={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,s.popper),t.styles=s,t.elements.arrow&&Object.assign(t.elements.arrow.style,s.arrow),function(){Object.keys(t.elements).forEach(function(r){var a=t.elements[r],u=t.attributes[r]||{},d=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:s[r]),p=d.reduce(function(m,y){return m[y]="",m},{});!Bo(a)||!Na(a)||(Object.assign(a.style,p),Object.keys(u).forEach(function(m){a.removeAttribute(m)}))})}}const C_={name:"applyStyles",enabled:!0,phase:"write",fn:w_,effect:S_,requires:["computeStyles"]};function Ea(i){return i.split("-")[0]}var _c=Math.max,Xm=Math.min,vh=Math.round;function wb(){var i=navigator.userAgentData;return i!=null&&i.brands&&Array.isArray(i.brands)?i.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function V2(){return!/^((?!chrome|android).)*safari/i.test(wb())}function bh(i,t,s){t===void 0&&(t=!1),s===void 0&&(s=!1);var r=i.getBoundingClientRect(),a=1,u=1;t&&Bo(i)&&(a=i.offsetWidth>0&&vh(r.width)/i.offsetWidth||1,u=i.offsetHeight>0&&vh(r.height)/i.offsetHeight||1);var d=Yc(i)?ho(i):window,p=d.visualViewport,m=!V2()&&s,y=(r.left+(m&&p?p.offsetLeft:0))/a,b=(r.top+(m&&p?p.offsetTop:0))/u,S=r.width/a,M=r.height/u;return{width:S,height:M,top:b,right:y+S,bottom:b+M,left:y,x:y,y:b}}function W1(i){var t=bh(i),s=i.offsetWidth,r=i.offsetHeight;return Math.abs(t.width-s)<=1&&(s=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:i.offsetLeft,y:i.offsetTop,width:s,height:r}}function H2(i,t){var s=t.getRootNode&&t.getRootNode();if(i.contains(t))return!0;if(s&&H1(s)){var r=t;do{if(r&&i.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function nl(i){return ho(i).getComputedStyle(i)}function k_(i){return["table","td","th"].indexOf(Na(i))>=0}function ql(i){return((Yc(i)?i.ownerDocument:i.document)||window.document).documentElement}function F0(i){return Na(i)==="html"?i:i.assignedSlot||i.parentNode||(H1(i)?i.host:null)||ql(i)}function tP(i){return!Bo(i)||nl(i).position==="fixed"?null:i.offsetParent}function P_(i){var t=/firefox/i.test(wb()),s=/Trident/i.test(wb());if(s&&Bo(i)){var r=nl(i);if(r.position==="fixed")return null}var a=F0(i);for(H1(a)&&(a=a.host);Bo(a)&&["html","body"].indexOf(Na(a))<0;){var u=nl(a);if(u.transform!=="none"||u.perspective!=="none"||u.contain==="paint"||["transform","perspective"].indexOf(u.willChange)!==-1||t&&u.willChange==="filter"||t&&u.filter&&u.filter!=="none")return a;a=a.parentNode}return null}function wp(i){for(var t=ho(i),s=tP(i);s&&k_(s)&&nl(s).position==="static";)s=tP(s);return s&&(Na(s)==="html"||Na(s)==="body"&&nl(s).position==="static")?t:s||P_(i)||t}function $1(i){return["top","bottom"].indexOf(i)>=0?"x":"y"}function Df(i,t,s){return _c(i,Xm(t,s))}function M_(i,t,s){var r=Df(i,t,s);return r>s?s:r}function W2(){return{top:0,right:0,bottom:0,left:0}}function $2(i){return Object.assign({},W2(),i)}function Y2(i,t){return t.reduce(function(s,r){return s[r]=i,s},{})}var T_=function(t,s){return t=typeof t=="function"?t(Object.assign({},s.rects,{placement:s.placement})):t,$2(typeof t!="number"?t:Y2(t,bp))};function A_(i){var t,s=i.state,r=i.name,a=i.options,u=s.elements.arrow,d=s.modifiersData.popperOffsets,p=Ea(s.placement),m=$1(p),y=[Ur,$o].indexOf(p)>=0,b=y?"height":"width";if(!(!u||!d)){var S=T_(a.padding,s),M=W1(u),A=m==="y"?Yr:Ur,R=m==="y"?Wo:$o,E=s.rects.reference[b]+s.rects.reference[m]-d[m]-s.rects.popper[b],_=d[m]-s.rects.reference[m],T=wp(u),B=T?m==="y"?T.clientHeight||0:T.clientWidth||0:0,z=E/2-_/2,W=S[A],L=B-M[b]-S[R],U=B/2-M[b]/2+z,I=Df(W,U,L),q=m;s.modifiersData[r]=(t={},t[q]=I,t.centerOffset=I-U,t)}}function D_(i){var t=i.state,s=i.options,r=s.element,a=r===void 0?"[data-popper-arrow]":r;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||H2(t.elements.popper,a)&&(t.elements.arrow=a))}const E_={name:"arrow",enabled:!0,phase:"main",fn:A_,effect:D_,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function wh(i){return i.split("-")[1]}var N_={top:"auto",right:"auto",bottom:"auto",left:"auto"};function R_(i,t){var s=i.x,r=i.y,a=t.devicePixelRatio||1;return{x:vh(s*a)/a||0,y:vh(r*a)/a||0}}function nP(i){var t,s=i.popper,r=i.popperRect,a=i.placement,u=i.variation,d=i.offsets,p=i.position,m=i.gpuAcceleration,y=i.adaptive,b=i.roundOffsets,S=i.isFixed,M=d.x,A=M===void 0?0:M,R=d.y,E=R===void 0?0:R,_=typeof b=="function"?b({x:A,y:E}):{x:A,y:E};A=_.x,E=_.y;var T=d.hasOwnProperty("x"),B=d.hasOwnProperty("y"),z=Ur,W=Yr,L=window;if(y){var U=wp(s),I="clientHeight",q="clientWidth";if(U===ho(s)&&(U=ql(s),nl(U).position!=="static"&&p==="absolute"&&(I="scrollHeight",q="scrollWidth")),U=U,a===Yr||(a===Ur||a===$o)&&u===qf){W=Wo;var ee=S&&U===L&&L.visualViewport?L.visualViewport.height:U[I];E-=ee-r.height,E*=m?1:-1}if(a===Ur||(a===Yr||a===Wo)&&u===qf){z=$o;var te=S&&U===L&&L.visualViewport?L.visualViewport.width:U[q];A-=te-r.width,A*=m?1:-1}}var ce=Object.assign({position:p},y&&N_),re=b===!0?R_({x:A,y:E},ho(s)):{x:A,y:E};if(A=re.x,E=re.y,m){var ae;return Object.assign({},ce,(ae={},ae[W]=B?"0":"",ae[z]=T?"0":"",ae.transform=(L.devicePixelRatio||1)<=1?"translate("+A+"px, "+E+"px)":"translate3d("+A+"px, "+E+"px, 0)",ae))}return Object.assign({},ce,(t={},t[W]=B?E+"px":"",t[z]=T?A+"px":"",t.transform="",t))}function L_(i){var t=i.state,s=i.options,r=s.gpuAcceleration,a=r===void 0?!0:r,u=s.adaptive,d=u===void 0?!0:u,p=s.roundOffsets,m=p===void 0?!0:p,y={placement:Ea(t.placement),variation:wh(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,nP(Object.assign({},y,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:d,roundOffsets:m})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,nP(Object.assign({},y,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:m})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const O_={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:L_,data:{}};var Vg={passive:!0};function I_(i){var t=i.state,s=i.instance,r=i.options,a=r.scroll,u=a===void 0?!0:a,d=r.resize,p=d===void 0?!0:d,m=ho(t.elements.popper),y=[].concat(t.scrollParents.reference,t.scrollParents.popper);return u&&y.forEach(function(b){b.addEventListener("scroll",s.update,Vg)}),p&&m.addEventListener("resize",s.update,Vg),function(){u&&y.forEach(function(b){b.removeEventListener("scroll",s.update,Vg)}),p&&m.removeEventListener("resize",s.update,Vg)}}const F_={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:I_,data:{}};var j_={left:"right",right:"left",bottom:"top",top:"bottom"};function vm(i){return i.replace(/left|right|bottom|top/g,function(t){return j_[t]})}var __={start:"end",end:"start"};function iP(i){return i.replace(/start|end/g,function(t){return __[t]})}function Y1(i){var t=ho(i),s=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:s,scrollTop:r}}function U1(i){return bh(ql(i)).left+Y1(i).scrollLeft}function z_(i,t){var s=ho(i),r=ql(i),a=s.visualViewport,u=r.clientWidth,d=r.clientHeight,p=0,m=0;if(a){u=a.width,d=a.height;var y=V2();(y||!y&&t==="fixed")&&(p=a.offsetLeft,m=a.offsetTop)}return{width:u,height:d,x:p+U1(i),y:m}}function B_(i){var t,s=ql(i),r=Y1(i),a=(t=i.ownerDocument)==null?void 0:t.body,u=_c(s.scrollWidth,s.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),d=_c(s.scrollHeight,s.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),p=-r.scrollLeft+U1(i),m=-r.scrollTop;return nl(a||s).direction==="rtl"&&(p+=_c(s.clientWidth,a?a.clientWidth:0)-u),{width:u,height:d,x:p,y:m}}function X1(i){var t=nl(i),s=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(s+a+r)}function U2(i){return["html","body","#document"].indexOf(Na(i))>=0?i.ownerDocument.body:Bo(i)&&X1(i)?i:U2(F0(i))}function Ef(i,t){var s;t===void 0&&(t=[]);var r=U2(i),a=r===((s=i.ownerDocument)==null?void 0:s.body),u=ho(r),d=a?[u].concat(u.visualViewport||[],X1(r)?r:[]):r,p=t.concat(d);return a?p:p.concat(Ef(F0(d)))}function Sb(i){return Object.assign({},i,{left:i.x,top:i.y,right:i.x+i.width,bottom:i.y+i.height})}function V_(i,t){var s=bh(i,!1,t==="fixed");return s.top=s.top+i.clientTop,s.left=s.left+i.clientLeft,s.bottom=s.top+i.clientHeight,s.right=s.left+i.clientWidth,s.width=i.clientWidth,s.height=i.clientHeight,s.x=s.left,s.y=s.top,s}function sP(i,t,s){return t===z2?Sb(z_(i,s)):Yc(t)?V_(t,s):Sb(B_(ql(i)))}function H_(i){var t=Ef(F0(i)),s=["absolute","fixed"].indexOf(nl(i).position)>=0,r=s&&Bo(i)?wp(i):i;return Yc(r)?t.filter(function(a){return Yc(a)&&H2(a,r)&&Na(a)!=="body"}):[]}function W_(i,t,s,r){var a=t==="clippingParents"?H_(i):[].concat(t),u=[].concat(a,[s]),d=u[0],p=u.reduce(function(m,y){var b=sP(i,y,r);return m.top=_c(b.top,m.top),m.right=Xm(b.right,m.right),m.bottom=Xm(b.bottom,m.bottom),m.left=_c(b.left,m.left),m},sP(i,d,r));return p.width=p.right-p.left,p.height=p.bottom-p.top,p.x=p.left,p.y=p.top,p}function X2(i){var t=i.reference,s=i.element,r=i.placement,a=r?Ea(r):null,u=r?wh(r):null,d=t.x+t.width/2-s.width/2,p=t.y+t.height/2-s.height/2,m;switch(a){case Yr:m={x:d,y:t.y-s.height};break;case Wo:m={x:d,y:t.y+t.height};break;case $o:m={x:t.x+t.width,y:p};break;case Ur:m={x:t.x-s.width,y:p};break;default:m={x:t.x,y:t.y}}var y=a?$1(a):null;if(y!=null){var b=y==="y"?"height":"width";switch(u){case xh:m[y]=m[y]-(t[b]/2-s[b]/2);break;case qf:m[y]=m[y]+(t[b]/2-s[b]/2);break}}return m}function Kf(i,t){t===void 0&&(t={});var s=t,r=s.placement,a=r===void 0?i.placement:r,u=s.strategy,d=u===void 0?i.strategy:u,p=s.boundary,m=p===void 0?c_:p,y=s.rootBoundary,b=y===void 0?z2:y,S=s.elementContext,M=S===void 0?Md:S,A=s.altBoundary,R=A===void 0?!1:A,E=s.padding,_=E===void 0?0:E,T=$2(typeof _!="number"?_:Y2(_,bp)),B=M===Md?u_:Md,z=i.rects.popper,W=i.elements[R?B:M],L=W_(Yc(W)?W:W.contextElement||ql(i.elements.popper),m,b,d),U=bh(i.elements.reference),I=X2({reference:U,element:z,placement:a}),q=Sb(Object.assign({},z,I)),ee=M===Md?q:U,te={top:L.top-ee.top+T.top,bottom:ee.bottom-L.bottom+T.bottom,left:L.left-ee.left+T.left,right:ee.right-L.right+T.right},ce=i.modifiersData.offset;if(M===Md&&ce){var re=ce[a];Object.keys(te).forEach(function(ae){var ue=[$o,Wo].indexOf(ae)>=0?1:-1,ie=[Yr,Wo].indexOf(ae)>=0?"y":"x";te[ae]+=re[ie]*ue})}return te}function $_(i,t){t===void 0&&(t={});var s=t,r=s.placement,a=s.boundary,u=s.rootBoundary,d=s.padding,p=s.flipVariations,m=s.allowedAutoPlacements,y=m===void 0?B2:m,b=wh(r),S=b?p?eP:eP.filter(function(R){return wh(R)===b}):bp,M=S.filter(function(R){return y.indexOf(R)>=0});M.length===0&&(M=S);var A=M.reduce(function(R,E){return R[E]=Kf(i,{placement:E,boundary:a,rootBoundary:u,padding:d})[Ea(E)],R},{});return Object.keys(A).sort(function(R,E){return A[R]-A[E]})}function Y_(i){if(Ea(i)===V1)return[];var t=vm(i);return[iP(i),t,iP(t)]}function U_(i){var t=i.state,s=i.options,r=i.name;if(!t.modifiersData[r]._skip){for(var a=s.mainAxis,u=a===void 0?!0:a,d=s.altAxis,p=d===void 0?!0:d,m=s.fallbackPlacements,y=s.padding,b=s.boundary,S=s.rootBoundary,M=s.altBoundary,A=s.flipVariations,R=A===void 0?!0:A,E=s.allowedAutoPlacements,_=t.options.placement,T=Ea(_),B=T===_,z=m||(B||!R?[vm(_)]:Y_(_)),W=[_].concat(z).reduce(function(Me,qe){return Me.concat(Ea(qe)===V1?$_(t,{placement:qe,boundary:b,rootBoundary:S,padding:y,flipVariations:R,allowedAutoPlacements:E}):qe)},[]),L=t.rects.reference,U=t.rects.popper,I=new Map,q=!0,ee=W[0],te=0;te<W.length;te++){var ce=W[te],re=Ea(ce),ae=wh(ce)===xh,ue=[Yr,Wo].indexOf(re)>=0,ie=ue?"width":"height",he=Kf(t,{placement:ce,boundary:b,rootBoundary:S,altBoundary:M,padding:y}),pe=ue?ae?$o:Ur:ae?Wo:Yr;L[ie]>U[ie]&&(pe=vm(pe));var de=vm(pe),xe=[];if(u&&xe.push(he[re]<=0),p&&xe.push(he[pe]<=0,he[de]<=0),xe.every(function(Me){return Me})){ee=ce,q=!1;break}I.set(ce,xe)}if(q)for(var Se=R?3:1,be=function(qe){var ze=W.find(function($e){var Ue=I.get($e);if(Ue)return Ue.slice(0,qe).every(function(Pe){return Pe})});if(ze)return ee=ze,"break"},Ne=Se;Ne>0;Ne--){var _e=be(Ne);if(_e==="break")break}t.placement!==ee&&(t.modifiersData[r]._skip=!0,t.placement=ee,t.reset=!0)}}const X_={name:"flip",enabled:!0,phase:"main",fn:U_,requiresIfExists:["offset"],data:{_skip:!1}};function rP(i,t,s){return s===void 0&&(s={x:0,y:0}),{top:i.top-t.height-s.y,right:i.right-t.width+s.x,bottom:i.bottom-t.height+s.y,left:i.left-t.width-s.x}}function oP(i){return[Yr,$o,Wo,Ur].some(function(t){return i[t]>=0})}function G_(i){var t=i.state,s=i.name,r=t.rects.reference,a=t.rects.popper,u=t.modifiersData.preventOverflow,d=Kf(t,{elementContext:"reference"}),p=Kf(t,{altBoundary:!0}),m=rP(d,r),y=rP(p,a,u),b=oP(m),S=oP(y);t.modifiersData[s]={referenceClippingOffsets:m,popperEscapeOffsets:y,isReferenceHidden:b,hasPopperEscaped:S},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":b,"data-popper-escaped":S})}const q_={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:G_};function K_(i,t,s){var r=Ea(i),a=[Ur,Yr].indexOf(r)>=0?-1:1,u=typeof s=="function"?s(Object.assign({},t,{placement:i})):s,d=u[0],p=u[1];return d=d||0,p=(p||0)*a,[Ur,$o].indexOf(r)>=0?{x:p,y:d}:{x:d,y:p}}function Z_(i){var t=i.state,s=i.options,r=i.name,a=s.offset,u=a===void 0?[0,0]:a,d=B2.reduce(function(b,S){return b[S]=K_(S,t.rects,u),b},{}),p=d[t.placement],m=p.x,y=p.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=m,t.modifiersData.popperOffsets.y+=y),t.modifiersData[r]=d}const J_={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Z_};function Q_(i){var t=i.state,s=i.name;t.modifiersData[s]=X2({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const ez={name:"popperOffsets",enabled:!0,phase:"read",fn:Q_,data:{}};function tz(i){return i==="x"?"y":"x"}function nz(i){var t=i.state,s=i.options,r=i.name,a=s.mainAxis,u=a===void 0?!0:a,d=s.altAxis,p=d===void 0?!1:d,m=s.boundary,y=s.rootBoundary,b=s.altBoundary,S=s.padding,M=s.tether,A=M===void 0?!0:M,R=s.tetherOffset,E=R===void 0?0:R,_=Kf(t,{boundary:m,rootBoundary:y,padding:S,altBoundary:b}),T=Ea(t.placement),B=wh(t.placement),z=!B,W=$1(T),L=tz(W),U=t.modifiersData.popperOffsets,I=t.rects.reference,q=t.rects.popper,ee=typeof E=="function"?E(Object.assign({},t.rects,{placement:t.placement})):E,te=typeof ee=="number"?{mainAxis:ee,altAxis:ee}:Object.assign({mainAxis:0,altAxis:0},ee),ce=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,re={x:0,y:0};if(U){if(u){var ae,ue=W==="y"?Yr:Ur,ie=W==="y"?Wo:$o,he=W==="y"?"height":"width",pe=U[W],de=pe+_[ue],xe=pe-_[ie],Se=A?-q[he]/2:0,be=B===xh?I[he]:q[he],Ne=B===xh?-q[he]:-I[he],_e=t.elements.arrow,Me=A&&_e?W1(_e):{width:0,height:0},qe=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:W2(),ze=qe[ue],$e=qe[ie],Ue=Df(0,I[he],Me[he]),Pe=z?I[he]/2-Se-Ue-ze-te.mainAxis:be-Ue-ze-te.mainAxis,Re=z?-I[he]/2+Se+Ue+$e+te.mainAxis:Ne+Ue+$e+te.mainAxis,De=t.elements.arrow&&wp(t.elements.arrow),je=De?W==="y"?De.clientTop||0:De.clientLeft||0:0,Ee=(ae=ce?.[W])!=null?ae:0,Qe=pe+Pe-Ee-je,ut=pe+Re-Ee,Ht=Df(A?Xm(de,Qe):de,pe,A?_c(xe,ut):xe);U[W]=Ht,re[W]=Ht-pe}if(p){var un,Ct=W==="x"?Yr:Ur,ht=W==="x"?Wo:$o,Ze=U[L],yt=L==="y"?"height":"width",Ut=Ze+_[Ct],nn=Ze-_[ht],Ve=[Yr,Ur].indexOf(T)!==-1,at=(un=ce?.[L])!=null?un:0,xt=Ve?Ut:Ze-I[yt]-q[yt]-at+te.altAxis,_t=Ve?Ze+I[yt]+q[yt]-at-te.altAxis:nn,Mt=A&&Ve?M_(xt,Ze,_t):Df(A?xt:Ut,Ze,A?_t:nn);U[L]=Mt,re[L]=Mt-Ze}t.modifiersData[r]=re}}const iz={name:"preventOverflow",enabled:!0,phase:"main",fn:nz,requiresIfExists:["offset"]};function sz(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}}function rz(i){return i===ho(i)||!Bo(i)?Y1(i):sz(i)}function oz(i){var t=i.getBoundingClientRect(),s=vh(t.width)/i.offsetWidth||1,r=vh(t.height)/i.offsetHeight||1;return s!==1||r!==1}function az(i,t,s){s===void 0&&(s=!1);var r=Bo(t),a=Bo(t)&&oz(t),u=ql(t),d=bh(i,a,s),p={scrollLeft:0,scrollTop:0},m={x:0,y:0};return(r||!r&&!s)&&((Na(t)!=="body"||X1(u))&&(p=rz(t)),Bo(t)?(m=bh(t,!0),m.x+=t.clientLeft,m.y+=t.clientTop):u&&(m.x=U1(u))),{x:d.left+p.scrollLeft-m.x,y:d.top+p.scrollTop-m.y,width:d.width,height:d.height}}function lz(i){var t=new Map,s=new Set,r=[];i.forEach(function(u){t.set(u.name,u)});function a(u){s.add(u.name);var d=[].concat(u.requires||[],u.requiresIfExists||[]);d.forEach(function(p){if(!s.has(p)){var m=t.get(p);m&&a(m)}}),r.push(u)}return i.forEach(function(u){s.has(u.name)||a(u)}),r}function cz(i){var t=lz(i);return b_.reduce(function(s,r){return s.concat(t.filter(function(a){return a.phase===r}))},[])}function uz(i){var t;return function(){return t||(t=new Promise(function(s){Promise.resolve().then(function(){t=void 0,s(i())})})),t}}function hz(i){var t=i.reduce(function(s,r){var a=s[r.name];return s[r.name]=a?Object.assign({},a,r,{options:Object.assign({},a.options,r.options),data:Object.assign({},a.data,r.data)}):r,s},{});return Object.keys(t).map(function(s){return t[s]})}var aP={placement:"bottom",modifiers:[],strategy:"absolute"};function lP(){for(var i=arguments.length,t=new Array(i),s=0;s<i;s++)t[s]=arguments[s];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function dz(i){i===void 0&&(i={});var t=i,s=t.defaultModifiers,r=s===void 0?[]:s,a=t.defaultOptions,u=a===void 0?aP:a;return function(p,m,y){y===void 0&&(y=u);var b={placement:"bottom",orderedModifiers:[],options:Object.assign({},aP,u),modifiersData:{},elements:{reference:p,popper:m},attributes:{},styles:{}},S=[],M=!1,A={state:b,setOptions:function(T){var B=typeof T=="function"?T(b.options):T;E(),b.options=Object.assign({},u,b.options,B),b.scrollParents={reference:Yc(p)?Ef(p):p.contextElement?Ef(p.contextElement):[],popper:Ef(m)};var z=cz(hz([].concat(r,b.options.modifiers)));return b.orderedModifiers=z.filter(function(W){return W.enabled}),R(),A.update()},forceUpdate:function(){if(!M){var T=b.elements,B=T.reference,z=T.popper;if(lP(B,z)){b.rects={reference:az(B,wp(z),b.options.strategy==="fixed"),popper:W1(z)},b.reset=!1,b.placement=b.options.placement,b.orderedModifiers.forEach(function(te){return b.modifiersData[te.name]=Object.assign({},te.data)});for(var W=0;W<b.orderedModifiers.length;W++){if(b.reset===!0){b.reset=!1,W=-1;continue}var L=b.orderedModifiers[W],U=L.fn,I=L.options,q=I===void 0?{}:I,ee=L.name;typeof U=="function"&&(b=U({state:b,options:q,name:ee,instance:A})||b)}}}},update:uz(function(){return new Promise(function(_){A.forceUpdate(),_(b)})}),destroy:function(){E(),M=!0}};if(!lP(p,m))return A;A.setOptions(y).then(function(_){!M&&y.onFirstUpdate&&y.onFirstUpdate(_)});function R(){b.orderedModifiers.forEach(function(_){var T=_.name,B=_.options,z=B===void 0?{}:B,W=_.effect;if(typeof W=="function"){var L=W({state:b,name:T,instance:A,options:z}),U=function(){};S.push(L||U)}})}function E(){S.forEach(function(_){return _()}),S=[]}return A}}var fz=[F_,ez,O_,C_,J_,X_,iz,E_,q_],pz=dz({defaultModifiers:fz});function gz(i){return typeof i=="function"?i():i}const G2=X.forwardRef(function(t,s){const{children:r,container:a,disablePortal:u=!1}=t,[d,p]=X.useState(null),m=fi(X.isValidElement(r)?Qc(r):null,s);if(ys(()=>{u||p(gz(a)||document.body)},[a,u]),ys(()=>{if(d&&!u)return Hm(s,d),()=>{Hm(s,null)}},[s,d,u]),u){if(X.isValidElement(r)){const y={ref:m};return X.cloneElement(r,y)}return D.jsx(X.Fragment,{children:r})}return D.jsx(X.Fragment,{children:d&&O2.createPortal(r,d)})});function mz(i){return Qt("MuiPopper",i)}en("MuiPopper",["root"]);const yz=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],xz=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function vz(i,t){if(t==="ltr")return i;switch(i){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return i}}function Cb(i){return typeof i=="function"?i():i}function bz(i){return i.nodeType!==void 0}const wz=i=>{const{classes:t}=i;return tn({root:["root"]},mz,t)},Sz={},Cz=X.forwardRef(function(t,s){var r;const{anchorEl:a,children:u,direction:d,disablePortal:p,modifiers:m,open:y,placement:b,popperOptions:S,popperRef:M,slotProps:A={},slots:R={},TransitionProps:E}=t,_=pt(t,yz),T=X.useRef(null),B=fi(T,s),z=X.useRef(null),W=fi(z,M),L=X.useRef(W);ys(()=>{L.current=W},[W]),X.useImperativeHandle(M,()=>z.current,[]);const U=vz(b,d),[I,q]=X.useState(U),[ee,te]=X.useState(Cb(a));X.useEffect(()=>{z.current&&z.current.forceUpdate()}),X.useEffect(()=>{a&&te(Cb(a))},[a]),ys(()=>{if(!ee||!y)return;const ie=de=>{q(de.placement)};let he=[{name:"preventOverflow",options:{altBoundary:p}},{name:"flip",options:{altBoundary:p}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:de})=>{ie(de)}}];m!=null&&(he=he.concat(m)),S&&S.modifiers!=null&&(he=he.concat(S.modifiers));const pe=pz(ee,T.current,oe({placement:U},S,{modifiers:he}));return L.current(pe),()=>{pe.destroy(),L.current(null)}},[ee,p,m,y,S,U]);const ce={placement:I};E!==null&&(ce.TransitionProps=E);const re=wz(t),ae=(r=R.root)!=null?r:"div",ue=ra({elementType:ae,externalSlotProps:A.root,externalForwardedProps:_,additionalProps:{role:"tooltip",ref:B},ownerState:t,className:re.root});return D.jsx(ae,oe({},ue,{children:typeof u=="function"?u(ce):u}))}),kz=X.forwardRef(function(t,s){const{anchorEl:r,children:a,container:u,direction:d="ltr",disablePortal:p=!1,keepMounted:m=!1,modifiers:y,open:b,placement:S="bottom",popperOptions:M=Sz,popperRef:A,style:R,transition:E=!1,slotProps:_={},slots:T={}}=t,B=pt(t,xz),[z,W]=X.useState(!0),L=()=>{W(!1)},U=()=>{W(!0)};if(!m&&!b&&(!E||z))return null;let I;if(u)I=u;else if(r){const te=Cb(r);I=te&&bz(te)?Is(te).body:Is(null).body}const q=!b&&m&&(!E||z)?"none":void 0,ee=E?{in:b,onEnter:L,onExited:U}:void 0;return D.jsx(G2,{disablePortal:p,container:I,children:D.jsx(Cz,oe({anchorEl:r,direction:d,disablePortal:p,modifiers:y,ref:s,open:E?!z:b,placement:S,popperOptions:M,popperRef:A,slotProps:_,slots:T},B,{style:oe({position:"fixed",top:0,left:0,display:q},R),TransitionProps:ee,children:a}))})}),Pz=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],Mz=st(kz,{name:"MuiPopper",slot:"Root",overridesResolver:(i,t)=>t.root})({}),G1=X.forwardRef(function(t,s){var r;const a=l_(),u=kn({props:t,name:"MuiPopper"}),{anchorEl:d,component:p,components:m,componentsProps:y,container:b,disablePortal:S,keepMounted:M,modifiers:A,open:R,placement:E,popperOptions:_,popperRef:T,transition:B,slots:z,slotProps:W}=u,L=pt(u,Pz),U=(r=z?.root)!=null?r:m?.Root,I=oe({anchorEl:d,container:b,disablePortal:S,keepMounted:M,modifiers:A,open:R,placement:E,popperOptions:_,popperRef:T,transition:B},L);return D.jsx(Mz,oe({as:p,direction:a?.direction,slots:{root:U},slotProps:W??y},I,{ref:s}))}),Tz=is(D.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function Az(i){return Qt("MuiChip",i)}const bi=en("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Dz=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],Ez=i=>{const{classes:t,disabled:s,size:r,color:a,iconColor:u,onDelete:d,clickable:p,variant:m}=i,y={root:["root",m,s&&"disabled",`size${St(r)}`,`color${St(a)}`,p&&"clickable",p&&`clickableColor${St(a)}`,d&&"deletable",d&&`deletableColor${St(a)}`,`${m}${St(a)}`],label:["label",`label${St(r)}`],avatar:["avatar",`avatar${St(r)}`,`avatarColor${St(a)}`],icon:["icon",`icon${St(r)}`,`iconColor${St(u)}`],deleteIcon:["deleteIcon",`deleteIcon${St(r)}`,`deleteIconColor${St(a)}`,`deleteIcon${St(m)}Color${St(a)}`]};return tn(y,Az,t)},Nz=st("div",{name:"MuiChip",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:s}=i,{color:r,iconColor:a,clickable:u,onDelete:d,size:p,variant:m}=s;return[{[`& .${bi.avatar}`]:t.avatar},{[`& .${bi.avatar}`]:t[`avatar${St(p)}`]},{[`& .${bi.avatar}`]:t[`avatarColor${St(r)}`]},{[`& .${bi.icon}`]:t.icon},{[`& .${bi.icon}`]:t[`icon${St(p)}`]},{[`& .${bi.icon}`]:t[`iconColor${St(a)}`]},{[`& .${bi.deleteIcon}`]:t.deleteIcon},{[`& .${bi.deleteIcon}`]:t[`deleteIcon${St(p)}`]},{[`& .${bi.deleteIcon}`]:t[`deleteIconColor${St(r)}`]},{[`& .${bi.deleteIcon}`]:t[`deleteIcon${St(m)}Color${St(r)}`]},t.root,t[`size${St(p)}`],t[`color${St(r)}`],u&&t.clickable,u&&r!=="default"&&t[`clickableColor${St(r)})`],d&&t.deletable,d&&r!=="default"&&t[`deletableColor${St(r)}`],t[m],t[`${m}${St(r)}`]]}})(({theme:i,ownerState:t})=>{const s=i.palette.mode==="light"?i.palette.grey[700]:i.palette.grey[300];return oe({maxWidth:"100%",fontFamily:i.typography.fontFamily,fontSize:i.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(i.vars||i).palette.text.primary,backgroundColor:(i.vars||i).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:i.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${bi.disabled}`]:{opacity:(i.vars||i).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${bi.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:i.vars?i.vars.palette.Chip.defaultAvatarColor:s,fontSize:i.typography.pxToRem(12)},[`& .${bi.avatarColorPrimary}`]:{color:(i.vars||i).palette.primary.contrastText,backgroundColor:(i.vars||i).palette.primary.dark},[`& .${bi.avatarColorSecondary}`]:{color:(i.vars||i).palette.secondary.contrastText,backgroundColor:(i.vars||i).palette.secondary.dark},[`& .${bi.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:i.typography.pxToRem(10)},[`& .${bi.icon}`]:oe({marginLeft:5,marginRight:-6},t.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},t.iconColor===t.color&&oe({color:i.vars?i.vars.palette.Chip.defaultIconColor:s},t.color!=="default"&&{color:"inherit"})),[`& .${bi.deleteIcon}`]:oe({WebkitTapHighlightColor:"transparent",color:i.vars?`rgba(${i.vars.palette.text.primaryChannel} / 0.26)`:jn.alpha(i.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:i.vars?`rgba(${i.vars.palette.text.primaryChannel} / 0.4)`:jn.alpha(i.palette.text.primary,.4)}},t.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},t.color!=="default"&&{color:i.vars?`rgba(${i.vars.palette[t.color].contrastTextChannel} / 0.7)`:jn.alpha(i.palette[t.color].contrastText,.7),"&:hover, &:active":{color:(i.vars||i).palette[t.color].contrastText}})},t.size==="small"&&{height:24},t.color!=="default"&&{backgroundColor:(i.vars||i).palette[t.color].main,color:(i.vars||i).palette[t.color].contrastText},t.onDelete&&{[`&.${bi.focusVisible}`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.action.selectedChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.focusOpacity}))`:jn.alpha(i.palette.action.selected,i.palette.action.selectedOpacity+i.palette.action.focusOpacity)}},t.onDelete&&t.color!=="default"&&{[`&.${bi.focusVisible}`]:{backgroundColor:(i.vars||i).palette[t.color].dark}})},({theme:i,ownerState:t})=>oe({},t.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:i.vars?`rgba(${i.vars.palette.action.selectedChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.hoverOpacity}))`:jn.alpha(i.palette.action.selected,i.palette.action.selectedOpacity+i.palette.action.hoverOpacity)},[`&.${bi.focusVisible}`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.action.selectedChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.focusOpacity}))`:jn.alpha(i.palette.action.selected,i.palette.action.selectedOpacity+i.palette.action.focusOpacity)},"&:active":{boxShadow:(i.vars||i).shadows[1]}},t.clickable&&t.color!=="default"&&{[`&:hover, &.${bi.focusVisible}`]:{backgroundColor:(i.vars||i).palette[t.color].dark}}),({theme:i,ownerState:t})=>oe({},t.variant==="outlined"&&{backgroundColor:"transparent",border:i.vars?`1px solid ${i.vars.palette.Chip.defaultBorder}`:`1px solid ${i.palette.mode==="light"?i.palette.grey[400]:i.palette.grey[700]}`,[`&.${bi.clickable}:hover`]:{backgroundColor:(i.vars||i).palette.action.hover},[`&.${bi.focusVisible}`]:{backgroundColor:(i.vars||i).palette.action.focus},[`& .${bi.avatar}`]:{marginLeft:4},[`& .${bi.avatarSmall}`]:{marginLeft:2},[`& .${bi.icon}`]:{marginLeft:4},[`& .${bi.iconSmall}`]:{marginLeft:2},[`& .${bi.deleteIcon}`]:{marginRight:5},[`& .${bi.deleteIconSmall}`]:{marginRight:3}},t.variant==="outlined"&&t.color!=="default"&&{color:(i.vars||i).palette[t.color].main,border:`1px solid ${i.vars?`rgba(${i.vars.palette[t.color].mainChannel} / 0.7)`:jn.alpha(i.palette[t.color].main,.7)}`,[`&.${bi.clickable}:hover`]:{backgroundColor:i.vars?`rgba(${i.vars.palette[t.color].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:jn.alpha(i.palette[t.color].main,i.palette.action.hoverOpacity)},[`&.${bi.focusVisible}`]:{backgroundColor:i.vars?`rgba(${i.vars.palette[t.color].mainChannel} / ${i.vars.palette.action.focusOpacity})`:jn.alpha(i.palette[t.color].main,i.palette.action.focusOpacity)},[`& .${bi.deleteIcon}`]:{color:i.vars?`rgba(${i.vars.palette[t.color].mainChannel} / 0.7)`:jn.alpha(i.palette[t.color].main,.7),"&:hover, &:active":{color:(i.vars||i).palette[t.color].main}}})),Rz=st("span",{name:"MuiChip",slot:"Label",overridesResolver:(i,t)=>{const{ownerState:s}=i,{size:r}=s;return[t.label,t[`label${St(r)}`]]}})(({ownerState:i})=>oe({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},i.variant==="outlined"&&{paddingLeft:11,paddingRight:11},i.size==="small"&&{paddingLeft:8,paddingRight:8},i.size==="small"&&i.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function cP(i){return i.key==="Backspace"||i.key==="Delete"}const Nf=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiChip"}),{avatar:a,className:u,clickable:d,color:p="default",component:m,deleteIcon:y,disabled:b=!1,icon:S,label:M,onClick:A,onDelete:R,onKeyDown:E,onKeyUp:_,size:T="medium",variant:B="filled",tabIndex:z,skipFocusWhenDisabled:W=!1}=r,L=pt(r,Dz),U=X.useRef(null),I=fi(U,s),q=xe=>{xe.stopPropagation(),R&&R(xe)},ee=xe=>{xe.currentTarget===xe.target&&cP(xe)&&xe.preventDefault(),E&&E(xe)},te=xe=>{xe.currentTarget===xe.target&&(R&&cP(xe)?R(xe):xe.key==="Escape"&&U.current&&U.current.blur()),_&&_(xe)},ce=d!==!1&&A?!0:d,re=ce||R?aa:m||"div",ae=oe({},r,{component:re,disabled:b,size:T,color:p,iconColor:X.isValidElement(S)&&S.props.color||p,onDelete:!!R,clickable:ce,variant:B}),ue=Ez(ae),ie=re===aa?oe({component:m||"div",focusVisibleClassName:ue.focusVisible},R&&{disableRipple:!0}):{};let he=null;R&&(he=y&&X.isValidElement(y)?X.cloneElement(y,{className:Pt(y.props.className,ue.deleteIcon),onClick:q}):D.jsx(Tz,{className:Pt(ue.deleteIcon),onClick:q}));let pe=null;a&&X.isValidElement(a)&&(pe=X.cloneElement(a,{className:Pt(ue.avatar,a.props.className)}));let de=null;return S&&X.isValidElement(S)&&(de=X.cloneElement(S,{className:Pt(ue.icon,S.props.className)})),D.jsxs(Nz,oe({as:re,className:Pt(ue.root,u),disabled:ce&&b?!0:void 0,onClick:A,onKeyDown:ee,onKeyUp:te,ref:I,tabIndex:W&&b?-1:z,ownerState:ae},ie,L,{children:[pe||de,D.jsx(Rz,{className:Pt(ue.label),ownerState:ae,children:M}),he]}))}),Lz=["onChange","maxRows","minRows","style","value"];function Hg(i){return parseInt(i,10)||0}const Oz={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Iz(i){for(const t in i)return!1;return!0}function uP(i){return Iz(i)||i.outerHeightStyle===0&&!i.overflowing}const Fz=X.forwardRef(function(t,s){const{onChange:r,maxRows:a,minRows:u=1,style:d,value:p}=t,m=pt(t,Lz),{current:y}=X.useRef(p!=null),b=X.useRef(null),S=fi(s,b),M=X.useRef(null),A=X.useRef(null),R=X.useCallback(()=>{const z=b.current,W=A.current;if(!z||!W)return;const U=Ho(z).getComputedStyle(z);if(U.width==="0px")return{outerHeightStyle:0,overflowing:!1};W.style.width=U.width,W.value=z.value||t.placeholder||"x",W.value.slice(-1)===`
`&&(W.value+=" ");const I=U.boxSizing,q=Hg(U.paddingBottom)+Hg(U.paddingTop),ee=Hg(U.borderBottomWidth)+Hg(U.borderTopWidth),te=W.scrollHeight;W.value="x";const ce=W.scrollHeight;let re=te;u&&(re=Math.max(Number(u)*ce,re)),a&&(re=Math.min(Number(a)*ce,re)),re=Math.max(re,ce);const ae=re+(I==="border-box"?q+ee:0),ue=Math.abs(re-te)<=1;return{outerHeightStyle:ae,overflowing:ue}},[a,u,t.placeholder]),E=vn(()=>{const z=b.current,W=R();if(!z||!W||uP(W))return!1;const L=W.outerHeightStyle;return M.current!=null&&M.current!==L}),_=X.useCallback(()=>{const z=b.current,W=R();if(!z||!W||uP(W))return;const L=W.outerHeightStyle;M.current!==L&&(M.current=L,z.style.height=`${L}px`),z.style.overflow=W.overflowing?"hidden":""},[R]),T=X.useRef(-1);ys(()=>{const z=Rh(_),W=b?.current;if(!W)return;const L=Ho(W);L.addEventListener("resize",z);let U;return typeof ResizeObserver<"u"&&(U=new ResizeObserver(()=>{E()&&(U.unobserve(W),cancelAnimationFrame(T.current),_(),T.current=requestAnimationFrame(()=>{U.observe(W)}))}),U.observe(W)),()=>{z.clear(),cancelAnimationFrame(T.current),L.removeEventListener("resize",z),U&&U.disconnect()}},[R,_,E]),ys(()=>{_()});const B=z=>{y||_(),r&&r(z)};return D.jsxs(X.Fragment,{children:[D.jsx("textarea",oe({value:p,onChange:B,ref:S,rows:u,style:d},m)),D.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:A,tabIndex:-1,style:oe({},Oz.shadow,d,{paddingTop:0,paddingBottom:0})})]})});function eu({props:i,states:t,muiFormControl:s}){return t.reduce((r,a)=>(r[a]=i[a],s&&typeof i[a]>"u"&&(r[a]=s[a]),r),{})}const j0=X.createContext(void 0);function rl(){return X.useContext(j0)}function hP(i){return i!=null&&!(Array.isArray(i)&&i.length===0)}function Gm(i,t=!1){return i&&(hP(i.value)&&i.value!==""||t&&hP(i.defaultValue)&&i.defaultValue!=="")}function jz(i){return i.startAdornment}function _z(i){return Qt("MuiInputBase",i)}const Sh=en("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),zz=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],_0=(i,t)=>{const{ownerState:s}=i;return[t.root,s.formControl&&t.formControl,s.startAdornment&&t.adornedStart,s.endAdornment&&t.adornedEnd,s.error&&t.error,s.size==="small"&&t.sizeSmall,s.multiline&&t.multiline,s.color&&t[`color${St(s.color)}`],s.fullWidth&&t.fullWidth,s.hiddenLabel&&t.hiddenLabel]},z0=(i,t)=>{const{ownerState:s}=i;return[t.input,s.size==="small"&&t.inputSizeSmall,s.multiline&&t.inputMultiline,s.type==="search"&&t.inputTypeSearch,s.startAdornment&&t.inputAdornedStart,s.endAdornment&&t.inputAdornedEnd,s.hiddenLabel&&t.inputHiddenLabel]},Bz=i=>{const{classes:t,color:s,disabled:r,error:a,endAdornment:u,focused:d,formControl:p,fullWidth:m,hiddenLabel:y,multiline:b,readOnly:S,size:M,startAdornment:A,type:R}=i,E={root:["root",`color${St(s)}`,r&&"disabled",a&&"error",m&&"fullWidth",d&&"focused",p&&"formControl",M&&M!=="medium"&&`size${St(M)}`,b&&"multiline",A&&"adornedStart",u&&"adornedEnd",y&&"hiddenLabel",S&&"readOnly"],input:["input",r&&"disabled",R==="search"&&"inputTypeSearch",b&&"inputMultiline",M==="small"&&"inputSizeSmall",y&&"inputHiddenLabel",A&&"inputAdornedStart",u&&"inputAdornedEnd",S&&"readOnly"]};return tn(E,_z,t)},B0=st("div",{name:"MuiInputBase",slot:"Root",overridesResolver:_0})(({theme:i,ownerState:t})=>oe({},i.typography.body1,{color:(i.vars||i).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Sh.disabled}`]:{color:(i.vars||i).palette.text.disabled,cursor:"default"}},t.multiline&&oe({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),V0=st("input",{name:"MuiInputBase",slot:"Input",overridesResolver:z0})(({theme:i,ownerState:t})=>{const s=i.palette.mode==="light",r=oe({color:"currentColor"},i.vars?{opacity:i.vars.opacity.inputPlaceholder}:{opacity:s?.42:.5},{transition:i.transitions.create("opacity",{duration:i.transitions.duration.shorter})}),a={opacity:"0 !important"},u=i.vars?{opacity:i.vars.opacity.inputPlaceholder}:{opacity:s?.42:.5};return oe({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Sh.formControl} &`]:{"&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus::-webkit-input-placeholder":u,"&:focus::-moz-placeholder":u,"&:focus:-ms-input-placeholder":u,"&:focus::-ms-input-placeholder":u},[`&.${Sh.disabled}`]:{opacity:1,WebkitTextFillColor:(i.vars||i).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),Vz=D.jsx(D1,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),q1=X.forwardRef(function(t,s){var r;const a=kn({props:t,name:"MuiInputBase"}),{"aria-describedby":u,autoComplete:d,autoFocus:p,className:m,components:y={},componentsProps:b={},defaultValue:S,disabled:M,disableInjectingGlobalStyles:A,endAdornment:R,fullWidth:E=!1,id:_,inputComponent:T="input",inputProps:B={},inputRef:z,maxRows:W,minRows:L,multiline:U=!1,name:I,onBlur:q,onChange:ee,onClick:te,onFocus:ce,onKeyDown:re,onKeyUp:ae,placeholder:ue,readOnly:ie,renderSuffix:he,rows:pe,slotProps:de={},slots:xe={},startAdornment:Se,type:be="text",value:Ne}=a,_e=pt(a,zz),Me=B.value!=null?B.value:Ne,{current:qe}=X.useRef(Me!=null),ze=X.useRef(),$e=X.useCallback(Mt=>{},[]),Ue=fi(ze,z,B.ref,$e),[Pe,Re]=X.useState(!1),De=rl(),je=eu({props:a,muiFormControl:De,states:["color","disabled","error","hiddenLabel","size","required","filled"]});je.focused=De?De.focused:Pe,X.useEffect(()=>{!De&&M&&Pe&&(Re(!1),q&&q())},[De,M,Pe,q]);const Ee=De&&De.onFilled,Qe=De&&De.onEmpty,ut=X.useCallback(Mt=>{Gm(Mt)?Ee&&Ee():Qe&&Qe()},[Ee,Qe]);ys(()=>{qe&&ut({value:Me})},[Me,ut,qe]);const Ht=Mt=>{if(je.disabled){Mt.stopPropagation();return}ce&&ce(Mt),B.onFocus&&B.onFocus(Mt),De&&De.onFocus?De.onFocus(Mt):Re(!0)},un=Mt=>{q&&q(Mt),B.onBlur&&B.onBlur(Mt),De&&De.onBlur?De.onBlur(Mt):Re(!1)},Ct=(Mt,...rt)=>{if(!qe){const Tt=Mt.target||ze.current;if(Tt==null)throw new Error(Qa(1));ut({value:Tt.value})}B.onChange&&B.onChange(Mt,...rt),ee&&ee(Mt,...rt)};X.useEffect(()=>{ut(ze.current)},[]);const ht=Mt=>{ze.current&&Mt.currentTarget===Mt.target&&ze.current.focus(),te&&te(Mt)};let Ze=T,yt=B;U&&Ze==="input"&&(pe?yt=oe({type:void 0,minRows:pe,maxRows:pe},yt):yt=oe({type:void 0,maxRows:W,minRows:L},yt),Ze=Fz);const Ut=Mt=>{ut(Mt.animationName==="mui-auto-fill-cancel"?ze.current:{value:"x"})};X.useEffect(()=>{De&&De.setAdornedStart(!!Se)},[De,Se]);const nn=oe({},a,{color:je.color||"primary",disabled:je.disabled,endAdornment:R,error:je.error,focused:je.focused,formControl:De,fullWidth:E,hiddenLabel:je.hiddenLabel,multiline:U,size:je.size,startAdornment:Se,type:be}),Ve=Bz(nn),at=xe.root||y.Root||B0,xt=de.root||b.root||{},_t=xe.input||y.Input||V0;return yt=oe({},yt,(r=de.input)!=null?r:b.input),D.jsxs(X.Fragment,{children:[!A&&Vz,D.jsxs(at,oe({},xt,!yh(at)&&{ownerState:oe({},nn,xt.ownerState)},{ref:s,onClick:ht},_e,{className:Pt(Ve.root,xt.className,m,ie&&"MuiInputBase-readOnly"),children:[Se,D.jsx(j0.Provider,{value:null,children:D.jsx(_t,oe({ownerState:nn,"aria-invalid":je.error,"aria-describedby":u,autoComplete:d,autoFocus:p,defaultValue:S,disabled:je.disabled,id:_,onAnimationStart:Ut,name:I,placeholder:ue,readOnly:ie,required:je.required,rows:pe,value:Me,onKeyDown:re,onKeyUp:ae,type:be},yt,!yh(_t)&&{as:Ze,ownerState:oe({},nn,yt.ownerState)},{ref:Ue,className:Pt(Ve.input,yt.className,ie&&"MuiInputBase-readOnly"),onBlur:un,onChange:Ct,onFocus:Ht}))}),R,he?he(oe({},je,{startAdornment:Se})):null]}))]})});function Hz(i){return Qt("MuiInput",i)}const Td=oe({},Sh,en("MuiInput",["root","underline","input"]));function Wz(i){return Qt("MuiOutlinedInput",i)}const Ll=oe({},Sh,en("MuiOutlinedInput",["root","notchedOutline","input"]));function $z(i){return Qt("MuiFilledInput",i)}const bc=oe({},Sh,en("MuiFilledInput",["root","underline","input"])),Yz=is(D.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Uz=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Xz={entering:{opacity:1},entered:{opacity:1}},Zr=X.forwardRef(function(t,s){const r=vs(),a={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:u,appear:d=!0,children:p,easing:m,in:y,onEnter:b,onEntered:S,onEntering:M,onExit:A,onExited:R,onExiting:E,style:_,timeout:T=a,TransitionComponent:B=fo}=t,z=pt(t,Uz),W=X.useRef(null),L=fi(W,Qc(p),s),U=ue=>ie=>{if(ue){const he=W.current;ie===void 0?ue(he):ue(he,ie)}},I=U(M),q=U((ue,ie)=>{B1(ue);const he=$l({style:_,timeout:T,easing:m},{mode:"enter"});ue.style.webkitTransition=r.transitions.create("opacity",he),ue.style.transition=r.transitions.create("opacity",he),b&&b(ue,ie)}),ee=U(S),te=U(E),ce=U(ue=>{const ie=$l({style:_,timeout:T,easing:m},{mode:"exit"});ue.style.webkitTransition=r.transitions.create("opacity",ie),ue.style.transition=r.transitions.create("opacity",ie),A&&A(ue)}),re=U(R),ae=ue=>{u&&u(W.current,ue)};return D.jsx(B,oe({appear:d,in:y,nodeRef:W,onEnter:q,onEntered:ee,onEntering:I,onExit:ce,onExited:re,onExiting:te,addEndListener:ae,timeout:T},z,{children:(ue,ie)=>X.cloneElement(p,oe({style:oe({opacity:0,visibility:ue==="exited"&&!y?"hidden":void 0},Xz[ue],_,p.props.style),ref:L},ie))}))});function Gz(i){return Qt("MuiBackdrop",i)}en("MuiBackdrop",["root","invisible"]);const qz=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Kz=i=>{const{classes:t,invisible:s}=i;return tn({root:["root",s&&"invisible"]},Gz,t)},Zz=st("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.root,s.invisible&&t.invisible]}})(({ownerState:i})=>oe({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},i.invisible&&{backgroundColor:"transparent"})),K1=X.forwardRef(function(t,s){var r,a,u;const d=kn({props:t,name:"MuiBackdrop"}),{children:p,className:m,component:y="div",components:b={},componentsProps:S={},invisible:M=!1,open:A,slotProps:R={},slots:E={},TransitionComponent:_=Zr,transitionDuration:T}=d,B=pt(d,qz),z=oe({},d,{component:y,invisible:M}),W=Kz(z),L=(r=R.root)!=null?r:S.root;return D.jsx(_,oe({in:A,timeout:T},B,{children:D.jsx(Zz,oe({"aria-hidden":!0},L,{as:(a=(u=E.root)!=null?u:b.Root)!=null?a:y,className:Pt(W.root,m,L?.className),ownerState:oe({},z,L?.ownerState),classes:W,ref:s,children:p}))}))}),Jz=en("MuiBox",["root"]),Qz=Wm(),Bt=LI({themeId:$c,defaultTheme:Qz,defaultClassName:Jz.root,generateClassName:T1.generate});function eB(i){return Qt("MuiButton",i)}const Wg=en("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),tB=X.createContext({}),nB=X.createContext(void 0),iB=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],sB=i=>{const{color:t,disableElevation:s,fullWidth:r,size:a,variant:u,classes:d}=i,p={root:["root",u,`${u}${St(t)}`,`size${St(a)}`,`${u}Size${St(a)}`,`color${St(t)}`,s&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${St(a)}`],endIcon:["icon","endIcon",`iconSize${St(a)}`]},m=tn(p,eB,d);return oe({},d,m)},q2=i=>oe({},i.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},i.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},i.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),rB=st(aa,{shouldForwardProp:i=>or(i)||i==="classes",name:"MuiButton",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.root,t[s.variant],t[`${s.variant}${St(s.color)}`],t[`size${St(s.size)}`],t[`${s.variant}Size${St(s.size)}`],s.color==="inherit"&&t.colorInherit,s.disableElevation&&t.disableElevation,s.fullWidth&&t.fullWidth]}})(({theme:i,ownerState:t})=>{var s,r;const a=i.palette.mode==="light"?i.palette.grey[300]:i.palette.grey[800],u=i.palette.mode==="light"?i.palette.grey.A100:i.palette.grey[700];return oe({},i.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create(["background-color","box-shadow","border-color","color"],{duration:i.transitions.duration.short}),"&:hover":oe({textDecoration:"none",backgroundColor:i.vars?`rgba(${i.vars.palette.text.primaryChannel} / ${i.vars.palette.action.hoverOpacity})`:jn.alpha(i.palette.text.primary,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:i.vars?`rgba(${i.vars.palette[t.color].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:jn.alpha(i.palette[t.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(i.vars||i).palette[t.color].main}`,backgroundColor:i.vars?`rgba(${i.vars.palette[t.color].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:jn.alpha(i.palette[t.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:i.vars?i.vars.palette.Button.inheritContainedHoverBg:u,boxShadow:(i.vars||i).shadows[4],"@media (hover: none)":{boxShadow:(i.vars||i).shadows[2],backgroundColor:(i.vars||i).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(i.vars||i).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(i.vars||i).palette[t.color].main}}),"&:active":oe({},t.variant==="contained"&&{boxShadow:(i.vars||i).shadows[8]}),[`&.${Wg.focusVisible}`]:oe({},t.variant==="contained"&&{boxShadow:(i.vars||i).shadows[6]}),[`&.${Wg.disabled}`]:oe({color:(i.vars||i).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(i.vars||i).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(i.vars||i).palette.action.disabled,boxShadow:(i.vars||i).shadows[0],backgroundColor:(i.vars||i).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(i.vars||i).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(i.vars||i).palette[t.color].main,border:i.vars?`1px solid rgba(${i.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${jn.alpha(i.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:i.vars?i.vars.palette.text.primary:(s=(r=i.palette).getContrastText)==null?void 0:s.call(r,i.palette.grey[300]),backgroundColor:i.vars?i.vars.palette.Button.inheritContainedBg:a,boxShadow:(i.vars||i).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(i.vars||i).palette[t.color].contrastText,backgroundColor:(i.vars||i).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:i.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:i.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:i.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:i.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:i.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:i.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:i})=>i.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Wg.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Wg.disabled}`]:{boxShadow:"none"}}),oB=st("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.startIcon,t[`iconSize${St(s.size)}`]]}})(({ownerState:i})=>oe({display:"inherit",marginRight:8,marginLeft:-4},i.size==="small"&&{marginLeft:-2},q2(i))),aB=st("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.endIcon,t[`iconSize${St(s.size)}`]]}})(({ownerState:i})=>oe({display:"inherit",marginRight:-4,marginLeft:8},i.size==="small"&&{marginRight:-2},q2(i))),Sn=X.forwardRef(function(t,s){const r=X.useContext(tB),a=X.useContext(nB),u=Wf(r,t),d=kn({props:u,name:"MuiButton"}),{children:p,color:m="primary",component:y="button",className:b,disabled:S=!1,disableElevation:M=!1,disableFocusRipple:A=!1,endIcon:R,focusVisibleClassName:E,fullWidth:_=!1,size:T="medium",startIcon:B,type:z,variant:W="text"}=d,L=pt(d,iB),U=oe({},d,{color:m,component:y,disabled:S,disableElevation:M,disableFocusRipple:A,fullWidth:_,size:T,type:z,variant:W}),I=sB(U),q=B&&D.jsx(oB,{className:I.startIcon,ownerState:U,children:B}),ee=R&&D.jsx(aB,{className:I.endIcon,ownerState:U,children:R}),te=a||"";return D.jsxs(rB,oe({ownerState:U,className:Pt(r.className,I.root,b,te),component:y,disabled:S,focusRipple:!A,focusVisibleClassName:Pt(I.focusVisible,E),ref:s,type:z},L,{classes:I,children:[q,p,ee]}))});function lB(i){return Qt("MuiCard",i)}en("MuiCard",["root"]);const cB=["className","raised"],uB=i=>{const{classes:t}=i;return tn({root:["root"]},lB,t)},hB=st(ts,{name:"MuiCard",slot:"Root",overridesResolver:(i,t)=>t.root})(()=>({overflow:"hidden"})),dB=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiCard"}),{className:a,raised:u=!1}=r,d=pt(r,cB),p=oe({},r,{raised:u}),m=uB(p);return D.jsx(hB,oe({className:Pt(m.root,a),elevation:u?8:void 0,ref:s,ownerState:p},d))});function fB(i){return Qt("MuiCardContent",i)}en("MuiCardContent",["root"]);const pB=["className","component"],gB=i=>{const{classes:t}=i;return tn({root:["root"]},fB,t)},mB=st("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(i,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),yB=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiCardContent"}),{className:a,component:u="div"}=r,d=pt(r,pB),p=oe({},r,{component:u}),m=gB(p);return D.jsx(mB,oe({as:u,className:Pt(m.root,a),ownerState:p,ref:s},d))});function xB(i){return Qt("PrivateSwitchBase",i)}en("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const vB=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],bB=i=>{const{classes:t,checked:s,disabled:r,edge:a}=i,u={root:["root",s&&"checked",r&&"disabled",a&&`edge${St(a)}`],input:["input"]};return tn(u,xB,t)},wB=st(aa,{name:"MuiSwitchBase"})(({ownerState:i})=>oe({padding:9,borderRadius:"50%"},i.edge==="start"&&{marginLeft:i.size==="small"?-3:-12},i.edge==="end"&&{marginRight:i.size==="small"?-3:-12})),SB=st("input",{name:"MuiSwitchBase",shouldForwardProp:or})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),K2=X.forwardRef(function(t,s){const{autoFocus:r,checked:a,checkedIcon:u,className:d,defaultChecked:p,disabled:m,disableFocusRipple:y=!1,edge:b=!1,icon:S,id:M,inputProps:A,inputRef:R,name:E,onBlur:_,onChange:T,onFocus:B,readOnly:z,required:W=!1,tabIndex:L,type:U,value:I}=t,q=pt(t,vB),[ee,te]=uo({controlled:a,default:!!p,name:"SwitchBase",state:"checked"}),ce=rl(),re=xe=>{B&&B(xe),ce&&ce.onFocus&&ce.onFocus(xe)},ae=xe=>{_&&_(xe),ce&&ce.onBlur&&ce.onBlur(xe)},ue=xe=>{if(xe.nativeEvent.defaultPrevented)return;const Se=xe.target.checked;te(Se),T&&T(xe,Se)};let ie=m;ce&&typeof ie>"u"&&(ie=ce.disabled);const he=U==="checkbox"||U==="radio",pe=oe({},t,{checked:ee,disabled:ie,disableFocusRipple:y,edge:b}),de=bB(pe);return D.jsxs(wB,oe({component:"span",className:Pt(de.root,d),centerRipple:!0,focusRipple:!y,disabled:ie,tabIndex:null,role:void 0,onFocus:re,onBlur:ae,ownerState:pe,ref:s},q,{children:[D.jsx(SB,oe({autoFocus:r,checked:a,defaultChecked:p,className:de.input,disabled:ie,id:he?M:void 0,name:E,onChange:ue,readOnly:z,ref:R,required:W,ownerState:pe,tabIndex:L,type:U},U==="checkbox"&&I===void 0?{}:{value:I},A)),ee?u:S]}))}),CB=is(D.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),kB=is(D.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),PB=is(D.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function MB(i){return Qt("MuiCheckbox",i)}const av=en("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),TB=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],AB=i=>{const{classes:t,indeterminate:s,color:r,size:a}=i,u={root:["root",s&&"indeterminate",`color${St(r)}`,`size${St(a)}`]},d=tn(u,MB,t);return oe({},t,d)},DB=st(K2,{shouldForwardProp:i=>or(i)||i==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.root,s.indeterminate&&t.indeterminate,t[`size${St(s.size)}`],s.color!=="default"&&t[`color${St(s.color)}`]]}})(({theme:i,ownerState:t})=>oe({color:(i.vars||i).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:i.vars?`rgba(${t.color==="default"?i.vars.palette.action.activeChannel:i.vars.palette[t.color].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:jn.alpha(t.color==="default"?i.palette.action.active:i.palette[t.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${av.checked}, &.${av.indeterminate}`]:{color:(i.vars||i).palette[t.color].main},[`&.${av.disabled}`]:{color:(i.vars||i).palette.action.disabled}})),EB=D.jsx(kB,{}),NB=D.jsx(CB,{}),RB=D.jsx(PB,{}),Zf=X.forwardRef(function(t,s){var r,a;const u=kn({props:t,name:"MuiCheckbox"}),{checkedIcon:d=EB,color:p="primary",icon:m=NB,indeterminate:y=!1,indeterminateIcon:b=RB,inputProps:S,size:M="medium",className:A}=u,R=pt(u,TB),E=y?b:m,_=y?b:d,T=oe({},u,{color:p,indeterminate:y,size:M}),B=AB(T);return D.jsx(DB,oe({type:"checkbox",inputProps:oe({"data-indeterminate":y},S),icon:X.cloneElement(E,{fontSize:(r=E.props.fontSize)!=null?r:M}),checkedIcon:X.cloneElement(_,{fontSize:(a=_.props.fontSize)!=null?a:M}),ownerState:T,ref:s,className:Pt(B.root,A)},R,{classes:B}))});function LB(i){return Qt("MuiCircularProgress",i)}en("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const OB=["className","color","disableShrink","size","style","thickness","value","variant"];let H0=i=>i,dP,fP,pP,gP;const Ol=44,IB=Dh(dP||(dP=H0`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),FB=Dh(fP||(fP=H0`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),jB=i=>{const{classes:t,variant:s,color:r,disableShrink:a}=i,u={root:["root",s,`color${St(r)}`],svg:["svg"],circle:["circle",`circle${St(s)}`,a&&"circleDisableShrink"]};return tn(u,LB,t)},_B=st("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.root,t[s.variant],t[`color${St(s.color)}`]]}})(({ownerState:i,theme:t})=>oe({display:"inline-block"},i.variant==="determinate"&&{transition:t.transitions.create("transform")},i.color!=="inherit"&&{color:(t.vars||t).palette[i.color].main}),({ownerState:i})=>i.variant==="indeterminate"&&C0(pP||(pP=H0`
      animation: ${0} 1.4s linear infinite;
    `),IB)),zB=st("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(i,t)=>t.svg})({display:"block"}),BB=st("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.circle,t[`circle${St(s.variant)}`],s.disableShrink&&t.circleDisableShrink]}})(({ownerState:i,theme:t})=>oe({stroke:"currentColor"},i.variant==="determinate"&&{transition:t.transitions.create("stroke-dashoffset")},i.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:i})=>i.variant==="indeterminate"&&!i.disableShrink&&C0(gP||(gP=H0`
      animation: ${0} 1.4s ease-in-out infinite;
    `),FB)),mr=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiCircularProgress"}),{className:a,color:u="primary",disableShrink:d=!1,size:p=40,style:m,thickness:y=3.6,value:b=0,variant:S="indeterminate"}=r,M=pt(r,OB),A=oe({},r,{color:u,disableShrink:d,size:p,thickness:y,value:b,variant:S}),R=jB(A),E={},_={},T={};if(S==="determinate"){const B=2*Math.PI*((Ol-y)/2);E.strokeDasharray=B.toFixed(3),T["aria-valuenow"]=Math.round(b),E.strokeDashoffset=`${((100-b)/100*B).toFixed(3)}px`,_.transform="rotate(-90deg)"}return D.jsx(_B,oe({className:Pt(R.root,a),style:oe({width:p,height:p},_,m),ownerState:A,ref:s,role:"progressbar"},T,M,{children:D.jsx(zB,{className:R.svg,ownerState:A,viewBox:`${Ol/2} ${Ol/2} ${Ol} ${Ol}`,children:D.jsx(BB,{className:R.circle,style:E,ownerState:A,cx:Ol,cy:Ol,r:(Ol-y)/2,fill:"none",strokeWidth:y})})}))});function VB(i){const t=Is(i);return t.body===i?Ho(i).innerWidth>t.documentElement.clientWidth:i.scrollHeight>i.clientHeight}function Rf(i,t){t?i.setAttribute("aria-hidden","true"):i.removeAttribute("aria-hidden")}function mP(i){return parseInt(Ho(i).getComputedStyle(i).paddingRight,10)||0}function HB(i){const s=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(i.tagName)!==-1,r=i.tagName==="INPUT"&&i.getAttribute("type")==="hidden";return s||r}function yP(i,t,s,r,a){const u=[t,s,...r];[].forEach.call(i.children,d=>{const p=u.indexOf(d)===-1,m=!HB(d);p&&m&&Rf(d,a)})}function lv(i,t){let s=-1;return i.some((r,a)=>t(r)?(s=a,!0):!1),s}function WB(i,t){const s=[],r=i.container;if(!t.disableScrollLock){if(VB(r)){const d=c2(Is(r));s.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${mP(r)+d}px`;const p=Is(r).querySelectorAll(".mui-fixed");[].forEach.call(p,m=>{s.push({value:m.style.paddingRight,property:"padding-right",el:m}),m.style.paddingRight=`${mP(m)+d}px`})}let u;if(r.parentNode instanceof DocumentFragment)u=Is(r).body;else{const d=r.parentElement,p=Ho(r);u=d?.nodeName==="HTML"&&p.getComputedStyle(d).overflowY==="scroll"?d:r}s.push({value:u.style.overflow,property:"overflow",el:u},{value:u.style.overflowX,property:"overflow-x",el:u},{value:u.style.overflowY,property:"overflow-y",el:u}),u.style.overflow="hidden"}return()=>{s.forEach(({value:u,el:d,property:p})=>{u?d.style.setProperty(p,u):d.style.removeProperty(p)})}}function $B(i){const t=[];return[].forEach.call(i.children,s=>{s.getAttribute("aria-hidden")==="true"&&t.push(s)}),t}class YB{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,s){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&Rf(t.modalRef,!1);const a=$B(s);yP(s,t.mount,t.modalRef,a,!0);const u=lv(this.containers,d=>d.container===s);return u!==-1?(this.containers[u].modals.push(t),r):(this.containers.push({modals:[t],container:s,restore:null,hiddenSiblings:a}),r)}mount(t,s){const r=lv(this.containers,u=>u.modals.indexOf(t)!==-1),a=this.containers[r];a.restore||(a.restore=WB(a,s))}remove(t,s=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const a=lv(this.containers,d=>d.modals.indexOf(t)!==-1),u=this.containers[a];if(u.modals.splice(u.modals.indexOf(t),1),this.modals.splice(r,1),u.modals.length===0)u.restore&&u.restore(),t.modalRef&&Rf(t.modalRef,s),yP(u.container,t.mount,t.modalRef,u.hiddenSiblings,!1),this.containers.splice(a,1);else{const d=u.modals[u.modals.length-1];d.modalRef&&Rf(d.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const UB=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function XB(i){const t=parseInt(i.getAttribute("tabindex")||"",10);return Number.isNaN(t)?i.contentEditable==="true"||(i.nodeName==="AUDIO"||i.nodeName==="VIDEO"||i.nodeName==="DETAILS")&&i.getAttribute("tabindex")===null?0:i.tabIndex:t}function GB(i){if(i.tagName!=="INPUT"||i.type!=="radio"||!i.name)return!1;const t=r=>i.ownerDocument.querySelector(`input[type="radio"]${r}`);let s=t(`[name="${i.name}"]:checked`);return s||(s=t(`[name="${i.name}"]`)),s!==i}function qB(i){return!(i.disabled||i.tagName==="INPUT"&&i.type==="hidden"||GB(i))}function KB(i){const t=[],s=[];return Array.from(i.querySelectorAll(UB)).forEach((r,a)=>{const u=XB(r);u===-1||!qB(r)||(u===0?t.push(r):s.push({documentOrder:a,tabIndex:u,node:r}))}),s.sort((r,a)=>r.tabIndex===a.tabIndex?r.documentOrder-a.documentOrder:r.tabIndex-a.tabIndex).map(r=>r.node).concat(t)}function ZB(){return!0}function Z2(i){const{children:t,disableAutoFocus:s=!1,disableEnforceFocus:r=!1,disableRestoreFocus:a=!1,getTabbable:u=KB,isEnabled:d=ZB,open:p}=i,m=X.useRef(!1),y=X.useRef(null),b=X.useRef(null),S=X.useRef(null),M=X.useRef(null),A=X.useRef(!1),R=X.useRef(null),E=fi(Qc(t),R),_=X.useRef(null);X.useEffect(()=>{!p||!R.current||(A.current=!s)},[s,p]),X.useEffect(()=>{if(!p||!R.current)return;const z=Is(R.current);return R.current.contains(z.activeElement)||(R.current.hasAttribute("tabIndex")||R.current.setAttribute("tabIndex","-1"),A.current&&R.current.focus()),()=>{a||(S.current&&S.current.focus&&(m.current=!0,S.current.focus()),S.current=null)}},[p]),X.useEffect(()=>{if(!p||!R.current)return;const z=Is(R.current),W=I=>{_.current=I,!(r||!d()||I.key!=="Tab")&&z.activeElement===R.current&&I.shiftKey&&(m.current=!0,b.current&&b.current.focus())},L=()=>{const I=R.current;if(I===null)return;if(!z.hasFocus()||!d()||m.current){m.current=!1;return}if(I.contains(z.activeElement)||r&&z.activeElement!==y.current&&z.activeElement!==b.current)return;if(z.activeElement!==M.current)M.current=null;else if(M.current!==null)return;if(!A.current)return;let q=[];if((z.activeElement===y.current||z.activeElement===b.current)&&(q=u(R.current)),q.length>0){var ee,te;const ce=!!((ee=_.current)!=null&&ee.shiftKey&&((te=_.current)==null?void 0:te.key)==="Tab"),re=q[0],ae=q[q.length-1];typeof re!="string"&&typeof ae!="string"&&(ce?ae.focus():re.focus())}else I.focus()};z.addEventListener("focusin",L),z.addEventListener("keydown",W,!0);const U=setInterval(()=>{z.activeElement&&z.activeElement.tagName==="BODY"&&L()},50);return()=>{clearInterval(U),z.removeEventListener("focusin",L),z.removeEventListener("keydown",W,!0)}},[s,r,a,d,p,u]);const T=z=>{S.current===null&&(S.current=z.relatedTarget),A.current=!0,M.current=z.target;const W=t.props.onFocus;W&&W(z)},B=z=>{S.current===null&&(S.current=z.relatedTarget),A.current=!0};return D.jsxs(X.Fragment,{children:[D.jsx("div",{tabIndex:p?0:-1,onFocus:B,ref:y,"data-testid":"sentinelStart"}),X.cloneElement(t,{ref:E,onFocus:T}),D.jsx("div",{tabIndex:p?0:-1,onFocus:B,ref:b,"data-testid":"sentinelEnd"})]})}function JB(i){return typeof i=="function"?i():i}function QB(i){return i?i.props.hasOwnProperty("in"):!1}const e8=new YB;function t8(i){const{container:t,disableEscapeKeyDown:s=!1,disableScrollLock:r=!1,manager:a=e8,closeAfterTransition:u=!1,onTransitionEnter:d,onTransitionExited:p,children:m,onClose:y,open:b,rootRef:S}=i,M=X.useRef({}),A=X.useRef(null),R=X.useRef(null),E=fi(R,S),[_,T]=X.useState(!b),B=QB(m);let z=!0;(i["aria-hidden"]==="false"||i["aria-hidden"]===!1)&&(z=!1);const W=()=>Is(A.current),L=()=>(M.current.modalRef=R.current,M.current.mount=A.current,M.current),U=()=>{a.mount(L(),{disableScrollLock:r}),R.current&&(R.current.scrollTop=0)},I=vn(()=>{const he=JB(t)||W().body;a.add(L(),he),R.current&&U()}),q=X.useCallback(()=>a.isTopModal(L()),[a]),ee=vn(he=>{A.current=he,he&&(b&&q()?U():R.current&&Rf(R.current,z))}),te=X.useCallback(()=>{a.remove(L(),z)},[z,a]);X.useEffect(()=>()=>{te()},[te]),X.useEffect(()=>{b?I():(!B||!u)&&te()},[b,te,B,u,I]);const ce=he=>pe=>{var de;(de=he.onKeyDown)==null||de.call(he,pe),!(pe.key!=="Escape"||pe.which===229||!q())&&(s||(pe.stopPropagation(),y&&y(pe,"escapeKeyDown")))},re=he=>pe=>{var de;(de=he.onClick)==null||de.call(he,pe),pe.target===pe.currentTarget&&y&&y(pe,"backdropClick")};return{getRootProps:(he={})=>{const pe=h2(i);delete pe.onTransitionEnter,delete pe.onTransitionExited;const de=oe({},pe,he);return oe({role:"presentation"},de,{onKeyDown:ce(de),ref:E})},getBackdropProps:(he={})=>{const pe=he;return oe({"aria-hidden":!0},pe,{onClick:re(pe),open:b})},getTransitionProps:()=>{const he=()=>{T(!1),d&&d()},pe=()=>{T(!0),p&&p(),u&&te()};return{onEnter:fb(he,m?.props.onEnter),onExited:fb(pe,m?.props.onExited)}},rootRef:E,portalRef:ee,isTopModal:q,exited:_,hasTransition:B}}function n8(i){return Qt("MuiModal",i)}en("MuiModal",["root","hidden","backdrop"]);const i8=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],s8=i=>{const{open:t,exited:s,classes:r}=i;return tn({root:["root",!t&&s&&"hidden"],backdrop:["backdrop"]},n8,r)},r8=st("div",{name:"MuiModal",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.root,!s.open&&s.exited&&t.hidden]}})(({theme:i,ownerState:t})=>oe({position:"fixed",zIndex:(i.vars||i).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),o8=st(K1,{name:"MuiModal",slot:"Backdrop",overridesResolver:(i,t)=>t.backdrop})({zIndex:-1}),Z1=X.forwardRef(function(t,s){var r,a,u,d,p,m;const y=kn({name:"MuiModal",props:t}),{BackdropComponent:b=o8,BackdropProps:S,className:M,closeAfterTransition:A=!1,children:R,container:E,component:_,components:T={},componentsProps:B={},disableAutoFocus:z=!1,disableEnforceFocus:W=!1,disableEscapeKeyDown:L=!1,disablePortal:U=!1,disableRestoreFocus:I=!1,disableScrollLock:q=!1,hideBackdrop:ee=!1,keepMounted:te=!1,onBackdropClick:ce,open:re,slotProps:ae,slots:ue}=y,ie=pt(y,i8),he=oe({},y,{closeAfterTransition:A,disableAutoFocus:z,disableEnforceFocus:W,disableEscapeKeyDown:L,disablePortal:U,disableRestoreFocus:I,disableScrollLock:q,hideBackdrop:ee,keepMounted:te}),{getRootProps:pe,getBackdropProps:de,getTransitionProps:xe,portalRef:Se,isTopModal:be,exited:Ne,hasTransition:_e}=t8(oe({},he,{rootRef:s})),Me=oe({},he,{exited:Ne}),qe=s8(Me),ze={};if(R.props.tabIndex===void 0&&(ze.tabIndex="-1"),_e){const{onEnter:Ee,onExited:Qe}=xe();ze.onEnter=Ee,ze.onExited=Qe}const $e=(r=(a=ue?.root)!=null?a:T.Root)!=null?r:r8,Ue=(u=(d=ue?.backdrop)!=null?d:T.Backdrop)!=null?u:b,Pe=(p=ae?.root)!=null?p:B.root,Re=(m=ae?.backdrop)!=null?m:B.backdrop,De=ra({elementType:$e,externalSlotProps:Pe,externalForwardedProps:ie,getSlotProps:pe,additionalProps:{ref:s,as:_},ownerState:Me,className:Pt(M,Pe?.className,qe?.root,!Me.open&&Me.exited&&qe?.hidden)}),je=ra({elementType:Ue,externalSlotProps:Re,additionalProps:S,getSlotProps:Ee=>de(oe({},Ee,{onClick:Qe=>{ce&&ce(Qe),Ee!=null&&Ee.onClick&&Ee.onClick(Qe)}})),className:Pt(Re?.className,S?.className,qe?.backdrop),ownerState:Me});return!te&&!re&&(!_e||Ne)?null:D.jsx(G2,{ref:Se,container:E,disablePortal:U,children:D.jsxs($e,oe({},De,{children:[!ee&&b?D.jsx(Ue,oe({},je)):null,D.jsx(Z2,{disableEnforceFocus:W,disableAutoFocus:z,disableRestoreFocus:I,isEnabled:be,open:re,children:X.cloneElement(R,ze)})]}))})});function a8(i){return Qt("MuiDialog",i)}const Lf=en("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),J2=X.createContext({}),l8=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],c8=st(K1,{name:"MuiDialog",slot:"Backdrop",overrides:(i,t)=>t.backdrop})({zIndex:-1}),u8=i=>{const{classes:t,scroll:s,maxWidth:r,fullWidth:a,fullScreen:u}=i,d={root:["root"],container:["container",`scroll${St(s)}`],paper:["paper",`paperScroll${St(s)}`,`paperWidth${St(String(r))}`,a&&"paperFullWidth",u&&"paperFullScreen"]};return tn(d,a8,t)},h8=st(Z1,{name:"MuiDialog",slot:"Root",overridesResolver:(i,t)=>t.root})({"@media print":{position:"absolute !important"}}),d8=st("div",{name:"MuiDialog",slot:"Container",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.container,t[`scroll${St(s.scroll)}`]]}})(({ownerState:i})=>oe({height:"100%","@media print":{height:"auto"},outline:0},i.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},i.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),f8=st(ts,{name:"MuiDialog",slot:"Paper",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.paper,t[`scrollPaper${St(s.scroll)}`],t[`paperWidth${St(String(s.maxWidth))}`],s.fullWidth&&t.paperFullWidth,s.fullScreen&&t.paperFullScreen]}})(({theme:i,ownerState:t})=>oe({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},t.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},t.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},t.maxWidth==="xs"&&{maxWidth:i.breakpoints.unit==="px"?Math.max(i.breakpoints.values.xs,444):`max(${i.breakpoints.values.xs}${i.breakpoints.unit}, 444px)`,[`&.${Lf.paperScrollBody}`]:{[i.breakpoints.down(Math.max(i.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&t.maxWidth!=="xs"&&{maxWidth:`${i.breakpoints.values[t.maxWidth]}${i.breakpoints.unit}`,[`&.${Lf.paperScrollBody}`]:{[i.breakpoints.down(i.breakpoints.values[t.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Lf.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Ji=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiDialog"}),a=vs(),u={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{"aria-describedby":d,"aria-labelledby":p,BackdropComponent:m,BackdropProps:y,children:b,className:S,disableEscapeKeyDown:M=!1,fullScreen:A=!1,fullWidth:R=!1,maxWidth:E="sm",onBackdropClick:_,onClick:T,onClose:B,open:z,PaperComponent:W=ts,PaperProps:L={},scroll:U="paper",TransitionComponent:I=Zr,transitionDuration:q=u,TransitionProps:ee}=r,te=pt(r,l8),ce=oe({},r,{disableEscapeKeyDown:M,fullScreen:A,fullWidth:R,maxWidth:E,scroll:U}),re=u8(ce),ae=X.useRef(),ue=de=>{ae.current=de.target===de.currentTarget},ie=de=>{T&&T(de),ae.current&&(ae.current=null,_&&_(de),B&&B(de,"backdropClick"))},he=sl(p),pe=X.useMemo(()=>({titleId:he}),[he]);return D.jsx(h8,oe({className:Pt(re.root,S),closeAfterTransition:!0,components:{Backdrop:c8},componentsProps:{backdrop:oe({transitionDuration:q,as:m},y)},disableEscapeKeyDown:M,onClose:B,open:z,ref:s,onClick:ie,ownerState:ce},te,{children:D.jsx(I,oe({appear:!0,in:z,timeout:q,role:"presentation"},ee,{children:D.jsx(d8,{className:Pt(re.container),onMouseDown:ue,ownerState:ce,children:D.jsx(f8,oe({as:W,elevation:24,role:"dialog","aria-describedby":d,"aria-labelledby":he},L,{className:Pt(re.paper,L.className),ownerState:ce,children:D.jsx(J2.Provider,{value:pe,children:b})}))})}))}))});function p8(i){return Qt("MuiDialogActions",i)}en("MuiDialogActions",["root","spacing"]);const g8=["className","disableSpacing"],m8=i=>{const{classes:t,disableSpacing:s}=i;return tn({root:["root",!s&&"spacing"]},p8,t)},y8=st("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.root,!s.disableSpacing&&t.spacing]}})(({ownerState:i})=>oe({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!i.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),qs=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiDialogActions"}),{className:a,disableSpacing:u=!1}=r,d=pt(r,g8),p=oe({},r,{disableSpacing:u}),m=m8(p);return D.jsx(y8,oe({className:Pt(m.root,a),ownerState:p,ref:s},d))});function x8(i){return Qt("MuiDialogContent",i)}en("MuiDialogContent",["root","dividers"]);function v8(i){return Qt("MuiDialogTitle",i)}const b8=en("MuiDialogTitle",["root"]),w8=["className","dividers"],S8=i=>{const{classes:t,dividers:s}=i;return tn({root:["root",s&&"dividers"]},x8,t)},C8=st("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.root,s.dividers&&t.dividers]}})(({theme:i,ownerState:t})=>oe({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(i.vars||i).palette.divider}`,borderBottom:`1px solid ${(i.vars||i).palette.divider}`}:{[`.${b8.root} + &`]:{paddingTop:0}})),ws=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiDialogContent"}),{className:a,dividers:u=!1}=r,d=pt(r,w8),p=oe({},r,{dividers:u}),m=S8(p);return D.jsx(C8,oe({className:Pt(m.root,a),ownerState:p,ref:s},d))});function k8(i){return Qt("MuiDialogContentText",i)}en("MuiDialogContentText",["root"]);const P8=["children","className"],M8=i=>{const{classes:t}=i,r=tn({root:["root"]},k8,t);return oe({},t,r)},T8=st(Oe,{shouldForwardProp:i=>or(i)||i==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(i,t)=>t.root})({}),qm=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiDialogContentText"}),{className:a}=r,u=pt(r,P8),d=M8(u);return D.jsx(T8,oe({component:"p",variant:"body1",color:"text.secondary",ref:s,ownerState:u,className:Pt(d.root,a)},r,{classes:d}))}),A8=["className","id"],D8=i=>{const{classes:t}=i;return tn({root:["root"]},v8,t)},E8=st(Oe,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(i,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),Ks=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiDialogTitle"}),{className:a,id:u}=r,d=pt(r,A8),p=r,m=D8(p),{titleId:y=u}=X.useContext(J2);return D.jsx(E8,oe({component:"h2",className:Pt(m.root,a),ownerState:p,ref:s,variant:"h6",id:u??y},d))});function N8(i){return Qt("MuiDivider",i)}const xP=en("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),R8=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],L8=i=>{const{absolute:t,children:s,classes:r,flexItem:a,light:u,orientation:d,textAlign:p,variant:m}=i;return tn({root:["root",t&&"absolute",m,u&&"light",d==="vertical"&&"vertical",a&&"flexItem",s&&"withChildren",s&&d==="vertical"&&"withChildrenVertical",p==="right"&&d!=="vertical"&&"textAlignRight",p==="left"&&d!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",d==="vertical"&&"wrapperVertical"]},N8,r)},O8=st("div",{name:"MuiDivider",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.root,s.absolute&&t.absolute,t[s.variant],s.light&&t.light,s.orientation==="vertical"&&t.vertical,s.flexItem&&t.flexItem,s.children&&t.withChildren,s.children&&s.orientation==="vertical"&&t.withChildrenVertical,s.textAlign==="right"&&s.orientation!=="vertical"&&t.textAlignRight,s.textAlign==="left"&&s.orientation!=="vertical"&&t.textAlignLeft]}})(({theme:i,ownerState:t})=>oe({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(i.vars||i).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:i.vars?`rgba(${i.vars.palette.dividerChannel} / 0.08)`:jn.alpha(i.palette.divider,.08)},t.variant==="inset"&&{marginLeft:72},t.variant==="middle"&&t.orientation==="horizontal"&&{marginLeft:i.spacing(2),marginRight:i.spacing(2)},t.variant==="middle"&&t.orientation==="vertical"&&{marginTop:i.spacing(1),marginBottom:i.spacing(1)},t.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:i})=>oe({},i.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:i,ownerState:t})=>oe({},t.children&&t.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(i.vars||i).palette.divider}`,borderTopStyle:"inherit"}}),({theme:i,ownerState:t})=>oe({},t.children&&t.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(i.vars||i).palette.divider}`,borderLeftStyle:"inherit"}}),({ownerState:i})=>oe({},i.textAlign==="right"&&i.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},i.textAlign==="left"&&i.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),I8=st("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.wrapper,s.orientation==="vertical"&&t.wrapperVertical]}})(({theme:i,ownerState:t})=>oe({display:"inline-block",paddingLeft:`calc(${i.spacing(1)} * 1.2)`,paddingRight:`calc(${i.spacing(1)} * 1.2)`},t.orientation==="vertical"&&{paddingTop:`calc(${i.spacing(1)} * 1.2)`,paddingBottom:`calc(${i.spacing(1)} * 1.2)`})),Q2=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiDivider"}),{absolute:a=!1,children:u,className:d,component:p=u?"div":"hr",flexItem:m=!1,light:y=!1,orientation:b="horizontal",role:S=p!=="hr"?"separator":void 0,textAlign:M="center",variant:A="fullWidth"}=r,R=pt(r,R8),E=oe({},r,{absolute:a,component:p,flexItem:m,light:y,orientation:b,role:S,textAlign:M,variant:A}),_=L8(E);return D.jsx(O8,oe({as:p,className:Pt(_.root,d),role:S,ref:s,ownerState:E},R,{children:u?D.jsx(I8,{className:_.wrapper,ownerState:E,children:u}):null}))});Q2.muiSkipListHighlight=!0;const F8=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function j8(i,t,s){const r=t.getBoundingClientRect(),a=s&&s.getBoundingClientRect(),u=Ho(t);let d;if(t.fakeTransform)d=t.fakeTransform;else{const y=u.getComputedStyle(t);d=y.getPropertyValue("-webkit-transform")||y.getPropertyValue("transform")}let p=0,m=0;if(d&&d!=="none"&&typeof d=="string"){const y=d.split("(")[1].split(")")[0].split(",");p=parseInt(y[4],10),m=parseInt(y[5],10)}return i==="left"?a?`translateX(${a.right+p-r.left}px)`:`translateX(${u.innerWidth+p-r.left}px)`:i==="right"?a?`translateX(-${r.right-a.left-p}px)`:`translateX(-${r.left+r.width-p}px)`:i==="up"?a?`translateY(${a.bottom+m-r.top}px)`:`translateY(${u.innerHeight+m-r.top}px)`:a?`translateY(-${r.top-a.top+r.height-m}px)`:`translateY(-${r.top+r.height-m}px)`}function _8(i){return typeof i=="function"?i():i}function $g(i,t,s){const r=_8(s),a=j8(i,t,r);a&&(t.style.webkitTransform=a,t.style.transform=a)}const z8=X.forwardRef(function(t,s){const r=vs(),a={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},u={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:d,appear:p=!0,children:m,container:y,direction:b="down",easing:S=a,in:M,onEnter:A,onEntered:R,onEntering:E,onExit:_,onExited:T,onExiting:B,style:z,timeout:W=u,TransitionComponent:L=fo}=t,U=pt(t,F8),I=X.useRef(null),q=fi(Qc(m),I,s),ee=de=>xe=>{de&&(xe===void 0?de(I.current):de(I.current,xe))},te=ee((de,xe)=>{$g(b,de,y),B1(de),A&&A(de,xe)}),ce=ee((de,xe)=>{const Se=$l({timeout:W,style:z,easing:S},{mode:"enter"});de.style.webkitTransition=r.transitions.create("-webkit-transform",oe({},Se)),de.style.transition=r.transitions.create("transform",oe({},Se)),de.style.webkitTransform="none",de.style.transform="none",E&&E(de,xe)}),re=ee(R),ae=ee(B),ue=ee(de=>{const xe=$l({timeout:W,style:z,easing:S},{mode:"exit"});de.style.webkitTransition=r.transitions.create("-webkit-transform",xe),de.style.transition=r.transitions.create("transform",xe),$g(b,de,y),_&&_(de)}),ie=ee(de=>{de.style.webkitTransition="",de.style.transition="",T&&T(de)}),he=de=>{d&&d(I.current,de)},pe=X.useCallback(()=>{I.current&&$g(b,I.current,y)},[b,y]);return X.useEffect(()=>{if(M||b==="down"||b==="right")return;const de=Rh(()=>{I.current&&$g(b,I.current,y)}),xe=Ho(I.current);return xe.addEventListener("resize",de),()=>{de.clear(),xe.removeEventListener("resize",de)}},[b,M,y]),X.useEffect(()=>{M||pe()},[M,pe]),D.jsx(L,oe({nodeRef:I,onEnter:te,onEntered:re,onEntering:ce,onExit:ue,onExited:ie,onExiting:ae,addEndListener:he,appear:p,in:M,timeout:W},U,{children:(de,xe)=>X.cloneElement(m,oe({ref:q,style:oe({visibility:de==="exited"&&!M?"hidden":void 0},z,m.props.style)},xe))}))});function B8(i){return Qt("MuiDrawer",i)}en("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const V8=["BackdropProps"],H8=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],eD=(i,t)=>{const{ownerState:s}=i;return[t.root,(s.variant==="permanent"||s.variant==="persistent")&&t.docked,t.modal]},W8=i=>{const{classes:t,anchor:s,variant:r}=i,a={root:["root"],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${St(s)}`,r!=="temporary"&&`paperAnchorDocked${St(s)}`]};return tn(a,B8,t)},$8=st(Z1,{name:"MuiDrawer",slot:"Root",overridesResolver:eD})(({theme:i})=>({zIndex:(i.vars||i).zIndex.drawer})),vP=st("div",{shouldForwardProp:or,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:eD})({flex:"0 0 auto"}),Y8=st(ts,{name:"MuiDrawer",slot:"Paper",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.paper,t[`paperAnchor${St(s.anchor)}`],s.variant!=="temporary"&&t[`paperAnchorDocked${St(s.anchor)}`]]}})(({theme:i,ownerState:t})=>oe({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(i.vars||i).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},t.anchor==="left"&&{left:0},t.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},t.anchor==="right"&&{right:0},t.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},t.anchor==="left"&&t.variant!=="temporary"&&{borderRight:`1px solid ${(i.vars||i).palette.divider}`},t.anchor==="top"&&t.variant!=="temporary"&&{borderBottom:`1px solid ${(i.vars||i).palette.divider}`},t.anchor==="right"&&t.variant!=="temporary"&&{borderLeft:`1px solid ${(i.vars||i).palette.divider}`},t.anchor==="bottom"&&t.variant!=="temporary"&&{borderTop:`1px solid ${(i.vars||i).palette.divider}`})),tD={left:"right",right:"left",top:"down",bottom:"up"};function U8(i){return["left","right"].indexOf(i)!==-1}function X8({direction:i},t){return i==="rtl"&&U8(t)?tD[t]:t}const G8=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiDrawer"}),a=vs(),u=mp(),d={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{anchor:p="left",BackdropProps:m,children:y,className:b,elevation:S=16,hideBackdrop:M=!1,ModalProps:{BackdropProps:A}={},onClose:R,open:E=!1,PaperProps:_={},SlideProps:T,TransitionComponent:B=z8,transitionDuration:z=d,variant:W="temporary"}=r,L=pt(r.ModalProps,V8),U=pt(r,H8),I=X.useRef(!1);X.useEffect(()=>{I.current=!0},[]);const q=X8({direction:u?"rtl":"ltr"},p),te=oe({},r,{anchor:p,elevation:S,open:E,variant:W},U),ce=W8(te),re=D.jsx(Y8,oe({elevation:W==="temporary"?S:0,square:!0},_,{className:Pt(ce.paper,_.className),ownerState:te,children:y}));if(W==="permanent")return D.jsx(vP,oe({className:Pt(ce.root,ce.docked,b),ownerState:te,ref:s},U,{children:re}));const ae=D.jsx(B,oe({in:E,direction:tD[q],timeout:z,appear:I.current},T,{children:re}));return W==="persistent"?D.jsx(vP,oe({className:Pt(ce.root,ce.docked,b),ownerState:te,ref:s},U,{children:ae})):D.jsx($8,oe({BackdropProps:oe({},m,A,{transitionDuration:z}),className:Pt(ce.root,ce.modal,b),open:E,ownerState:te,onClose:R,hideBackdrop:M,ref:s},U,L,{children:ae}))}),q8=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],K8=i=>{const{classes:t,disableUnderline:s}=i,a=tn({root:["root",!s&&"underline"],input:["input"]},$z,t);return oe({},t,a)},Z8=st(B0,{shouldForwardProp:i=>or(i)||i==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[..._0(i,t),!s.disableUnderline&&t.underline]}})(({theme:i,ownerState:t})=>{var s;const r=i.palette.mode==="light",a=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",u=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",d=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",p=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return oe({position:"relative",backgroundColor:i.vars?i.vars.palette.FilledInput.bg:u,borderTopLeftRadius:(i.vars||i).shape.borderRadius,borderTopRightRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),"&:hover":{backgroundColor:i.vars?i.vars.palette.FilledInput.hoverBg:d,"@media (hover: none)":{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:u}},[`&.${bc.focused}`]:{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:u},[`&.${bc.disabled}`]:{backgroundColor:i.vars?i.vars.palette.FilledInput.disabledBg:p}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(s=(i.vars||i).palette[t.color||"primary"])==null?void 0:s.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:i.transitions.create("transform",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${bc.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${bc.error}`]:{"&::before, &::after":{borderBottomColor:(i.vars||i).palette.error.main}},"&::before":{borderBottom:`1px solid ${i.vars?`rgba(${i.vars.palette.common.onBackgroundChannel} / ${i.vars.opacity.inputUnderline})`:a}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:i.transitions.create("border-bottom-color",{duration:i.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${bc.disabled}, .${bc.error}):before`]:{borderBottom:`1px solid ${(i.vars||i).palette.text.primary}`},[`&.${bc.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&oe({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9}))}),J8=st(V0,{name:"MuiFilledInput",slot:"Input",overridesResolver:z0})(({theme:i,ownerState:t})=>oe({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!i.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:i.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:i.palette.mode==="light"?null:"#fff",caretColor:i.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},i.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[i.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),J1=X.forwardRef(function(t,s){var r,a,u,d;const p=kn({props:t,name:"MuiFilledInput"}),{components:m={},componentsProps:y,fullWidth:b=!1,inputComponent:S="input",multiline:M=!1,slotProps:A,slots:R={},type:E="text"}=p,_=pt(p,q8),T=oe({},p,{fullWidth:b,inputComponent:S,multiline:M,type:E}),B=K8(p),z={root:{ownerState:T},input:{ownerState:T}},W=A??y?Mr(z,A??y):z,L=(r=(a=R.root)!=null?a:m.Root)!=null?r:Z8,U=(u=(d=R.input)!=null?d:m.Input)!=null?u:J8;return D.jsx(q1,oe({slots:{root:L,input:U},componentsProps:W,fullWidth:b,inputComponent:S,multiline:M,ref:s,type:E},_,{classes:B}))});J1.muiName="Input";function Q8(i){return Qt("MuiFormControl",i)}en("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const e6=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],t6=i=>{const{classes:t,margin:s,fullWidth:r}=i,a={root:["root",s!=="none"&&`margin${St(s)}`,r&&"fullWidth"]};return tn(a,Q8,t)},n6=st("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:i},t)=>oe({},t.root,t[`margin${St(i.margin)}`],i.fullWidth&&t.fullWidth)})(({ownerState:i})=>oe({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},i.margin==="normal"&&{marginTop:16,marginBottom:8},i.margin==="dense"&&{marginTop:8,marginBottom:4},i.fullWidth&&{width:"100%"})),nD=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiFormControl"}),{children:a,className:u,color:d="primary",component:p="div",disabled:m=!1,error:y=!1,focused:b,fullWidth:S=!1,hiddenLabel:M=!1,margin:A="none",required:R=!1,size:E="medium",variant:_="outlined"}=r,T=pt(r,e6),B=oe({},r,{color:d,component:p,disabled:m,error:y,fullWidth:S,hiddenLabel:M,margin:A,required:R,size:E,variant:_}),z=t6(B),[W,L]=X.useState(()=>{let ae=!1;return a&&X.Children.forEach(a,ue=>{if(!Af(ue,["Input","Select"]))return;const ie=Af(ue,["Select"])?ue.props.input:ue;ie&&jz(ie.props)&&(ae=!0)}),ae}),[U,I]=X.useState(()=>{let ae=!1;return a&&X.Children.forEach(a,ue=>{Af(ue,["Input","Select"])&&(Gm(ue.props,!0)||Gm(ue.props.inputProps,!0))&&(ae=!0)}),ae}),[q,ee]=X.useState(!1);m&&q&&ee(!1);const te=b!==void 0&&!m?b:q;let ce;const re=X.useMemo(()=>({adornedStart:W,setAdornedStart:L,color:d,disabled:m,error:y,filled:U,focused:te,fullWidth:S,hiddenLabel:M,size:E,onBlur:()=>{ee(!1)},onEmpty:()=>{I(!1)},onFilled:()=>{I(!0)},onFocus:()=>{ee(!0)},registerEffect:ce,required:R,variant:_}),[W,d,m,y,U,te,S,M,ce,R,E,_]);return D.jsx(j0.Provider,{value:re,children:D.jsx(n6,oe({as:p,ownerState:B,className:Pt(z.root,u),ref:s},T,{children:a}))})}),tu=OF({createStyledComponent:st("div",{name:"MuiStack",slot:"Root",overridesResolver:(i,t)=>t.root}),useThemeProps:i=>kn({props:i,name:"MuiStack"})});function i6(i){return Qt("MuiFormControlLabel",i)}const bf=en("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),s6=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],r6=i=>{const{classes:t,disabled:s,labelPlacement:r,error:a,required:u}=i,d={root:["root",s&&"disabled",`labelPlacement${St(r)}`,a&&"error",u&&"required"],label:["label",s&&"disabled"],asterisk:["asterisk",a&&"error"]};return tn(d,i6,t)},o6=st("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[{[`& .${bf.label}`]:t.label},t.root,t[`labelPlacement${St(s.labelPlacement)}`]]}})(({theme:i,ownerState:t})=>oe({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${bf.disabled}`]:{cursor:"default"}},t.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},t.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},t.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${bf.label}`]:{[`&.${bf.disabled}`]:{color:(i.vars||i).palette.text.disabled}}})),a6=st("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(i,t)=>t.asterisk})(({theme:i})=>({[`&.${bf.error}`]:{color:(i.vars||i).palette.error.main}})),bP=X.forwardRef(function(t,s){var r,a;const u=kn({props:t,name:"MuiFormControlLabel"}),{className:d,componentsProps:p={},control:m,disabled:y,disableTypography:b,label:S,labelPlacement:M="end",required:A,slotProps:R={}}=u,E=pt(u,s6),_=rl(),T=(r=y??m.props.disabled)!=null?r:_?.disabled,B=A??m.props.required,z={disabled:T,required:B};["checked","name","onChange","value","inputRef"].forEach(ee=>{typeof m.props[ee]>"u"&&typeof u[ee]<"u"&&(z[ee]=u[ee])});const W=eu({props:u,muiFormControl:_,states:["error"]}),L=oe({},u,{disabled:T,labelPlacement:M,required:B,error:W.error}),U=r6(L),I=(a=R.typography)!=null?a:p.typography;let q=S;return q!=null&&q.type!==Oe&&!b&&(q=D.jsx(Oe,oe({component:"span"},I,{className:Pt(U.label,I?.className),children:q}))),D.jsxs(o6,oe({className:Pt(U.root,d),ownerState:L,ref:s},E,{children:[X.cloneElement(m,z),B?D.jsxs(tu,{display:"block",children:[q,D.jsxs(a6,{ownerState:L,"aria-hidden":!0,className:U.asterisk,children:["","*"]})]}):q]}))});function l6(i){return Qt("MuiFormHelperText",i)}const wP=en("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var SP;const c6=["children","className","component","disabled","error","filled","focused","margin","required","variant"],u6=i=>{const{classes:t,contained:s,size:r,disabled:a,error:u,filled:d,focused:p,required:m}=i,y={root:["root",a&&"disabled",u&&"error",r&&`size${St(r)}`,s&&"contained",p&&"focused",d&&"filled",m&&"required"]};return tn(y,l6,t)},h6=st("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.root,s.size&&t[`size${St(s.size)}`],s.contained&&t.contained,s.filled&&t.filled]}})(({theme:i,ownerState:t})=>oe({color:(i.vars||i).palette.text.secondary},i.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${wP.disabled}`]:{color:(i.vars||i).palette.text.disabled},[`&.${wP.error}`]:{color:(i.vars||i).palette.error.main}},t.size==="small"&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),kb=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiFormHelperText"}),{children:a,className:u,component:d="p"}=r,p=pt(r,c6),m=rl(),y=eu({props:r,muiFormControl:m,states:["variant","size","disabled","error","filled","focused","required"]}),b=oe({},r,{component:d,contained:y.variant==="filled"||y.variant==="outlined",variant:y.variant,size:y.size,disabled:y.disabled,error:y.error,filled:y.filled,focused:y.focused,required:y.required}),S=u6(b);return D.jsx(h6,oe({as:d,ownerState:b,className:Pt(S.root,u),ref:s},p,{children:a===" "?SP||(SP=D.jsx("span",{className:"notranslate",children:""})):a}))});function d6(i){return Qt("MuiFormLabel",i)}const Of=en("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),f6=["children","className","color","component","disabled","error","filled","focused","required"],p6=i=>{const{classes:t,color:s,focused:r,disabled:a,error:u,filled:d,required:p}=i,m={root:["root",`color${St(s)}`,a&&"disabled",u&&"error",d&&"filled",r&&"focused",p&&"required"],asterisk:["asterisk",u&&"error"]};return tn(m,d6,t)},g6=st("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:i},t)=>oe({},t.root,i.color==="secondary"&&t.colorSecondary,i.filled&&t.filled)})(({theme:i,ownerState:t})=>oe({color:(i.vars||i).palette.text.secondary},i.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Of.focused}`]:{color:(i.vars||i).palette[t.color].main},[`&.${Of.disabled}`]:{color:(i.vars||i).palette.text.disabled},[`&.${Of.error}`]:{color:(i.vars||i).palette.error.main}})),m6=st("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(i,t)=>t.asterisk})(({theme:i})=>({[`&.${Of.error}`]:{color:(i.vars||i).palette.error.main}})),y6=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiFormLabel"}),{children:a,className:u,component:d="label"}=r,p=pt(r,f6),m=rl(),y=eu({props:r,muiFormControl:m,states:["color","required","focused","disabled","error","filled"]}),b=oe({},r,{color:y.color||"primary",component:d,disabled:y.disabled,error:y.error,filled:y.filled,focused:y.focused,required:y.required}),S=p6(b);return D.jsxs(g6,oe({as:d,ownerState:b,className:Pt(S.root,u),ref:s},p,{children:[a,y.required&&D.jsxs(m6,{ownerState:b,"aria-hidden":!0,className:S.asterisk,children:["","*"]})]}))}),CP=X.createContext();function x6(i){return Qt("MuiGrid",i)}const v6=[0,1,2,3,4,5,6,7,8,9,10],b6=["column-reverse","column","row-reverse","row"],w6=["nowrap","wrap-reverse","wrap"],Ad=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Jf=en("MuiGrid",["root","container","item","zeroMinWidth",...v6.map(i=>`spacing-xs-${i}`),...b6.map(i=>`direction-xs-${i}`),...w6.map(i=>`wrap-xs-${i}`),...Ad.map(i=>`grid-xs-${i}`),...Ad.map(i=>`grid-sm-${i}`),...Ad.map(i=>`grid-md-${i}`),...Ad.map(i=>`grid-lg-${i}`),...Ad.map(i=>`grid-xl-${i}`)]),S6=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function hh(i){const t=parseFloat(i);return`${t}${String(i).replace(String(t),"")||"px"}`}function C6({theme:i,ownerState:t}){let s;return i.breakpoints.keys.reduce((r,a)=>{let u={};if(t[a]&&(s=t[a]),!s)return r;if(s===!0)u={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(s==="auto")u={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const d=jc({values:t.columns,breakpoints:i.breakpoints.values}),p=typeof d=="object"?d[a]:d;if(p==null)return r;const m=`${Math.round(s/p*1e8)/1e6}%`;let y={};if(t.container&&t.item&&t.columnSpacing!==0){const b=i.spacing(t.columnSpacing);if(b!=="0px"){const S=`calc(${m} + ${hh(b)})`;y={flexBasis:S,maxWidth:S}}}u=oe({flexBasis:m,flexGrow:0,maxWidth:m},y)}return i.breakpoints.values[a]===0?Object.assign(r,u):r[i.breakpoints.up(a)]=u,r},{})}function k6({theme:i,ownerState:t}){const s=jc({values:t.direction,breakpoints:i.breakpoints.values});return Kr({theme:i},s,r=>{const a={flexDirection:r};return r.indexOf("column")===0&&(a[`& > .${Jf.item}`]={maxWidth:"none"}),a})}function iD({breakpoints:i,values:t}){let s="";Object.keys(t).forEach(a=>{s===""&&t[a]!==0&&(s=a)});const r=Object.keys(i).sort((a,u)=>i[a]-i[u]);return r.slice(0,r.indexOf(s))}function P6({theme:i,ownerState:t}){const{container:s,rowSpacing:r}=t;let a={};if(s&&r!==0){const u=jc({values:r,breakpoints:i.breakpoints.values});let d;typeof u=="object"&&(d=iD({breakpoints:i.breakpoints.values,values:u})),a=Kr({theme:i},u,(p,m)=>{var y;const b=i.spacing(p);return b!=="0px"?{marginTop:`-${hh(b)}`,[`& > .${Jf.item}`]:{paddingTop:hh(b)}}:(y=d)!=null&&y.includes(m)?{}:{marginTop:0,[`& > .${Jf.item}`]:{paddingTop:0}}})}return a}function M6({theme:i,ownerState:t}){const{container:s,columnSpacing:r}=t;let a={};if(s&&r!==0){const u=jc({values:r,breakpoints:i.breakpoints.values});let d;typeof u=="object"&&(d=iD({breakpoints:i.breakpoints.values,values:u})),a=Kr({theme:i},u,(p,m)=>{var y;const b=i.spacing(p);return b!=="0px"?{width:`calc(100% + ${hh(b)})`,marginLeft:`-${hh(b)}`,[`& > .${Jf.item}`]:{paddingLeft:hh(b)}}:(y=d)!=null&&y.includes(m)?{}:{width:"100%",marginLeft:0,[`& > .${Jf.item}`]:{paddingLeft:0}}})}return a}function T6(i,t,s={}){if(!i||i<=0)return[];if(typeof i=="string"&&!Number.isNaN(Number(i))||typeof i=="number")return[s[`spacing-xs-${String(i)}`]];const r=[];return t.forEach(a=>{const u=i[a];Number(u)>0&&r.push(s[`spacing-${a}-${String(u)}`])}),r}const A6=st("div",{name:"MuiGrid",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:s}=i,{container:r,direction:a,item:u,spacing:d,wrap:p,zeroMinWidth:m,breakpoints:y}=s;let b=[];r&&(b=T6(d,y,t));const S=[];return y.forEach(M=>{const A=s[M];A&&S.push(t[`grid-${M}-${String(A)}`])}),[t.root,r&&t.container,u&&t.item,m&&t.zeroMinWidth,...b,a!=="row"&&t[`direction-xs-${String(a)}`],p!=="wrap"&&t[`wrap-xs-${String(p)}`],...S]}})(({ownerState:i})=>oe({boxSizing:"border-box"},i.container&&{display:"flex",flexWrap:"wrap",width:"100%"},i.item&&{margin:0},i.zeroMinWidth&&{minWidth:0},i.wrap!=="wrap"&&{flexWrap:i.wrap}),k6,P6,M6,C6);function D6(i,t){if(!i||i<=0)return[];if(typeof i=="string"&&!Number.isNaN(Number(i))||typeof i=="number")return[`spacing-xs-${String(i)}`];const s=[];return t.forEach(r=>{const a=i[r];if(Number(a)>0){const u=`spacing-${r}-${String(a)}`;s.push(u)}}),s}const E6=i=>{const{classes:t,container:s,direction:r,item:a,spacing:u,wrap:d,zeroMinWidth:p,breakpoints:m}=i;let y=[];s&&(y=D6(u,m));const b=[];m.forEach(M=>{const A=i[M];A&&b.push(`grid-${M}-${String(A)}`)});const S={root:["root",s&&"container",a&&"item",p&&"zeroMinWidth",...y,r!=="row"&&`direction-xs-${String(r)}`,d!=="wrap"&&`wrap-xs-${String(d)}`,...b]};return tn(S,x6,t)},Yn=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiGrid"}),{breakpoints:a}=vs(),u=pp(r),{className:d,columns:p,columnSpacing:m,component:y="div",container:b=!1,direction:S="row",item:M=!1,rowSpacing:A,spacing:R=0,wrap:E="wrap",zeroMinWidth:_=!1}=u,T=pt(u,S6),B=A||R,z=m||R,W=X.useContext(CP),L=b?p||12:W,U={},I=oe({},T);a.keys.forEach(te=>{T[te]!=null&&(U[te]=T[te],delete I[te])});const q=oe({},u,{columns:L,container:b,direction:S,item:M,rowSpacing:B,columnSpacing:z,wrap:E,zeroMinWidth:_,spacing:R},U,{breakpoints:a.keys}),ee=E6(q);return D.jsx(CP.Provider,{value:L,children:D.jsx(A6,oe({ownerState:q,className:Pt(ee.root,d),as:y,ref:s},I))})}),N6=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Pb(i){return`scale(${i}, ${i**2})`}const R6={entering:{opacity:1,transform:Pb(1)},entered:{opacity:1,transform:"none"}},cv=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Fi=X.forwardRef(function(t,s){const{addEndListener:r,appear:a=!0,children:u,easing:d,in:p,onEnter:m,onEntered:y,onEntering:b,onExit:S,onExited:M,onExiting:A,style:R,timeout:E="auto",TransitionComponent:_=fo}=t,T=pt(t,N6),B=Ec(),z=X.useRef(),W=vs(),L=X.useRef(null),U=fi(L,Qc(u),s),I=ie=>he=>{if(ie){const pe=L.current;he===void 0?ie(pe):ie(pe,he)}},q=I(b),ee=I((ie,he)=>{B1(ie);const{duration:pe,delay:de,easing:xe}=$l({style:R,timeout:E,easing:d},{mode:"enter"});let Se;E==="auto"?(Se=W.transitions.getAutoHeightDuration(ie.clientHeight),z.current=Se):Se=pe,ie.style.transition=[W.transitions.create("opacity",{duration:Se,delay:de}),W.transitions.create("transform",{duration:cv?Se:Se*.666,delay:de,easing:xe})].join(","),m&&m(ie,he)}),te=I(y),ce=I(A),re=I(ie=>{const{duration:he,delay:pe,easing:de}=$l({style:R,timeout:E,easing:d},{mode:"exit"});let xe;E==="auto"?(xe=W.transitions.getAutoHeightDuration(ie.clientHeight),z.current=xe):xe=he,ie.style.transition=[W.transitions.create("opacity",{duration:xe,delay:pe}),W.transitions.create("transform",{duration:cv?xe:xe*.666,delay:cv?pe:pe||xe*.333,easing:de})].join(","),ie.style.opacity=0,ie.style.transform=Pb(.75),S&&S(ie)}),ae=I(M),ue=ie=>{E==="auto"&&B.start(z.current||0,ie),r&&r(L.current,ie)};return D.jsx(_,oe({appear:a,in:p,nodeRef:L,onEnter:ee,onEntered:te,onEntering:q,onExit:re,onExited:ae,onExiting:ce,addEndListener:ue,timeout:E==="auto"?null:E},T,{children:(ie,he)=>X.cloneElement(u,oe({style:oe({opacity:0,transform:Pb(.75),visibility:ie==="exited"&&!p?"hidden":void 0},R6[ie],R,u.props.style),ref:U},he))}))});Fi.muiSupportAuto=!0;const L6=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],O6=i=>{const{classes:t,disableUnderline:s}=i,a=tn({root:["root",!s&&"underline"],input:["input"]},Hz,t);return oe({},t,a)},I6=st(B0,{shouldForwardProp:i=>or(i)||i==="classes",name:"MuiInput",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[..._0(i,t),!s.disableUnderline&&t.underline]}})(({theme:i,ownerState:t})=>{let r=i.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return i.vars&&(r=`rgba(${i.vars.palette.common.onBackgroundChannel} / ${i.vars.opacity.inputUnderline})`),oe({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(i.vars||i).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:i.transitions.create("transform",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Td.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Td.error}`]:{"&::before, &::after":{borderBottomColor:(i.vars||i).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:i.transitions.create("border-bottom-color",{duration:i.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Td.disabled}, .${Td.error}):before`]:{borderBottom:`2px solid ${(i.vars||i).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Td.disabled}:before`]:{borderBottomStyle:"dotted"}})}),F6=st(V0,{name:"MuiInput",slot:"Input",overridesResolver:z0})({}),Q1=X.forwardRef(function(t,s){var r,a,u,d;const p=kn({props:t,name:"MuiInput"}),{disableUnderline:m,components:y={},componentsProps:b,fullWidth:S=!1,inputComponent:M="input",multiline:A=!1,slotProps:R,slots:E={},type:_="text"}=p,T=pt(p,L6),B=O6(p),W={root:{ownerState:{disableUnderline:m}}},L=R??b?Mr(R??b,W):W,U=(r=(a=E.root)!=null?a:y.Root)!=null?r:I6,I=(u=(d=E.input)!=null?d:y.Input)!=null?u:F6;return D.jsx(q1,oe({slots:{root:U,input:I},slotProps:L,fullWidth:S,inputComponent:M,multiline:A,ref:s,type:_},T,{classes:B}))});Q1.muiName="Input";function j6(i){return Qt("MuiInputAdornment",i)}const kP=en("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var PP;const _6=["children","className","component","disablePointerEvents","disableTypography","position","variant"],z6=(i,t)=>{const{ownerState:s}=i;return[t.root,t[`position${St(s.position)}`],s.disablePointerEvents===!0&&t.disablePointerEvents,t[s.variant]]},B6=i=>{const{classes:t,disablePointerEvents:s,hiddenLabel:r,position:a,size:u,variant:d}=i,p={root:["root",s&&"disablePointerEvents",a&&`position${St(a)}`,d,r&&"hiddenLabel",u&&`size${St(u)}`]};return tn(p,j6,t)},V6=st("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:z6})(({theme:i,ownerState:t})=>oe({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(i.vars||i).palette.action.active},t.variant==="filled"&&{[`&.${kP.positionStart}&:not(.${kP.hiddenLabel})`]:{marginTop:16}},t.position==="start"&&{marginRight:8},t.position==="end"&&{marginLeft:8},t.disablePointerEvents===!0&&{pointerEvents:"none"})),Km=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiInputAdornment"}),{children:a,className:u,component:d="div",disablePointerEvents:p=!1,disableTypography:m=!1,position:y,variant:b}=r,S=pt(r,_6),M=rl()||{};let A=b;b&&M.variant,M&&!A&&(A=M.variant);const R=oe({},r,{hiddenLabel:M.hiddenLabel,size:M.size,disablePointerEvents:p,position:y,variant:A}),E=B6(R);return D.jsx(j0.Provider,{value:null,children:D.jsx(V6,oe({as:d,ownerState:R,className:Pt(E.root,u),ref:s},S,{children:typeof a=="string"&&!m?D.jsx(Oe,{color:"text.secondary",children:a}):D.jsxs(X.Fragment,{children:[y==="start"?PP||(PP=D.jsx("span",{className:"notranslate",children:""})):null,a]})}))})});function H6(i){return Qt("MuiInputLabel",i)}en("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const W6=["disableAnimation","margin","shrink","variant","className"],$6=i=>{const{classes:t,formControl:s,size:r,shrink:a,disableAnimation:u,variant:d,required:p}=i,m={root:["root",s&&"formControl",!u&&"animated",a&&"shrink",r&&r!=="normal"&&`size${St(r)}`,d],asterisk:[p&&"asterisk"]},y=tn(m,H6,t);return oe({},t,y)},Y6=st(y6,{shouldForwardProp:i=>or(i)||i==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[{[`& .${Of.asterisk}`]:t.asterisk},t.root,s.formControl&&t.formControl,s.size==="small"&&t.sizeSmall,s.shrink&&t.shrink,!s.disableAnimation&&t.animated,s.focused&&t.focused,t[s.variant]]}})(({theme:i,ownerState:t})=>oe({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},t.size==="small"&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:i.transitions.create(["color","transform","max-width"],{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut})},t.variant==="filled"&&oe({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&oe({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},t.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),t.variant==="outlined"&&oe({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),U6=X.forwardRef(function(t,s){const r=kn({name:"MuiInputLabel",props:t}),{disableAnimation:a=!1,shrink:u,className:d}=r,p=pt(r,W6),m=rl();let y=u;typeof y>"u"&&m&&(y=m.filled||m.focused||m.adornedStart);const b=eu({props:r,muiFormControl:m,states:["size","variant","required","focused"]}),S=oe({},r,{disableAnimation:a,formControl:m,shrink:y,size:b.size,variant:b.variant,required:b.required,focused:b.focused}),M=$6(S);return D.jsx(Y6,oe({"data-shrink":y,ownerState:S,ref:s,className:Pt(M.root,d)},p,{classes:M}))});function X6(i){return Qt("MuiLink",i)}const G6=en("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),sD={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},q6=i=>sD[i]||i,K6=({theme:i,ownerState:t})=>{const s=q6(t.color),r=mh(i,`palette.${s}`,!1)||t.color,a=mh(i,`palette.${s}Channel`);return"vars"in i&&a?`rgba(${a} / 0.4)`:jn.alpha(r,.4)},Z6=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],J6=i=>{const{classes:t,component:s,focusVisible:r,underline:a}=i,u={root:["root",`underline${St(a)}`,s==="button"&&"button",r&&"focusVisible"]};return tn(u,X6,t)},Q6=st(Oe,{name:"MuiLink",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.root,t[`underline${St(s.underline)}`],s.component==="button"&&t.button]}})(({theme:i,ownerState:t})=>oe({},t.underline==="none"&&{textDecoration:"none"},t.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},t.underline==="always"&&oe({textDecoration:"underline"},t.color!=="inherit"&&{textDecorationColor:K6({theme:i,ownerState:t})},{"&:hover":{textDecorationColor:"inherit"}}),t.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${G6.focusVisible}`]:{outline:"auto"}})),MP=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiLink"}),{className:a,color:u="primary",component:d="a",onBlur:p,onFocus:m,TypographyClasses:y,underline:b="always",variant:S="inherit",sx:M}=r,A=pt(r,Z6),{isFocusVisibleRef:R,onBlur:E,onFocus:_,ref:T}=N0(),[B,z]=X.useState(!1),W=fi(s,T),L=ee=>{E(ee),R.current===!1&&z(!1),p&&p(ee)},U=ee=>{_(ee),R.current===!0&&z(!0),m&&m(ee)},I=oe({},r,{color:u,component:d,focusVisible:B,underline:b,variant:S}),q=J6(I);return D.jsx(Q6,oe({color:u,className:Pt(q.root,a),classes:y,component:d,onBlur:L,onFocus:U,ref:W,ownerState:I,variant:S,sx:[...Object.keys(sD).includes(u)?[]:[{color:u}],...Array.isArray(M)?M:[M]]},A))}),ia=X.createContext({});function eV(i){return Qt("MuiList",i)}en("MuiList",["root","padding","dense","subheader"]);const tV=["children","className","component","dense","disablePadding","subheader"],nV=i=>{const{classes:t,disablePadding:s,dense:r,subheader:a}=i;return tn({root:["root",!s&&"padding",r&&"dense",a&&"subheader"]},eV,t)},iV=st("ul",{name:"MuiList",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.root,!s.disablePadding&&t.padding,s.dense&&t.dense,s.subheader&&t.subheader]}})(({ownerState:i})=>oe({listStyle:"none",margin:0,padding:0,position:"relative"},!i.disablePadding&&{paddingTop:8,paddingBottom:8},i.subheader&&{paddingTop:0})),ew=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiList"}),{children:a,className:u,component:d="ul",dense:p=!1,disablePadding:m=!1,subheader:y}=r,b=pt(r,tV),S=X.useMemo(()=>({dense:p}),[p]),M=oe({},r,{component:d,dense:p,disablePadding:m}),A=nV(M);return D.jsx(ia.Provider,{value:S,children:D.jsxs(iV,oe({as:d,className:Pt(A.root,u),ref:s,ownerState:M},b,{children:[y,a]}))})});function sV(i){return Qt("MuiListItem",i)}const nh=en("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);function rV(i){return Qt("MuiListItemButton",i)}const ih=en("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),oV=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],aV=(i,t)=>{const{ownerState:s}=i;return[t.root,s.dense&&t.dense,s.alignItems==="flex-start"&&t.alignItemsFlexStart,s.divider&&t.divider,!s.disableGutters&&t.gutters]},lV=i=>{const{alignItems:t,classes:s,dense:r,disabled:a,disableGutters:u,divider:d,selected:p}=i,y=tn({root:["root",r&&"dense",!u&&"gutters",d&&"divider",a&&"disabled",t==="flex-start"&&"alignItemsFlexStart",p&&"selected"]},rV,s);return oe({},s,y)},cV=st(aa,{shouldForwardProp:i=>or(i)||i==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:aV})(({theme:i,ownerState:t})=>oe({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(i.vars||i).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ih.selected}`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / ${i.vars.palette.action.selectedOpacity})`:jn.alpha(i.palette.primary.main,i.palette.action.selectedOpacity),[`&.${ih.focusVisible}`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.focusOpacity}))`:jn.alpha(i.palette.primary.main,i.palette.action.selectedOpacity+i.palette.action.focusOpacity)}},[`&.${ih.selected}:hover`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.hoverOpacity}))`:jn.alpha(i.palette.primary.main,i.palette.action.selectedOpacity+i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / ${i.vars.palette.action.selectedOpacity})`:jn.alpha(i.palette.primary.main,i.palette.action.selectedOpacity)}},[`&.${ih.focusVisible}`]:{backgroundColor:(i.vars||i).palette.action.focus},[`&.${ih.disabled}`]:{opacity:(i.vars||i).palette.action.disabledOpacity}},t.divider&&{borderBottom:`1px solid ${(i.vars||i).palette.divider}`,backgroundClip:"padding-box"},t.alignItems==="flex-start"&&{alignItems:"flex-start"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.dense&&{paddingTop:4,paddingBottom:4})),uV=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiListItemButton"}),{alignItems:a="center",autoFocus:u=!1,component:d="div",children:p,dense:m=!1,disableGutters:y=!1,divider:b=!1,focusVisibleClassName:S,selected:M=!1,className:A}=r,R=pt(r,oV),E=X.useContext(ia),_=X.useMemo(()=>({dense:m||E.dense||!1,alignItems:a,disableGutters:y}),[a,E.dense,m,y]),T=X.useRef(null);ys(()=>{u&&T.current&&T.current.focus()},[u]);const B=oe({},r,{alignItems:a,dense:_.dense,disableGutters:y,divider:b,selected:M}),z=lV(B),W=fi(T,s);return D.jsx(ia.Provider,{value:_,children:D.jsx(cV,oe({ref:W,href:R.href||R.to,component:(R.href||R.to)&&d==="div"?"button":d,focusVisibleClassName:Pt(z.focusVisible,S),ownerState:B,className:Pt(z.root,A)},R,{classes:z,children:p}))})});function hV(i){return Qt("MuiListItemSecondaryAction",i)}en("MuiListItemSecondaryAction",["root","disableGutters"]);const dV=["className"],fV=i=>{const{disableGutters:t,classes:s}=i;return tn({root:["root",t&&"disableGutters"]},hV,s)},pV=st("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.root,s.disableGutters&&t.disableGutters]}})(({ownerState:i})=>oe({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},i.disableGutters&&{right:0})),rD=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiListItemSecondaryAction"}),{className:a}=r,u=pt(r,dV),d=X.useContext(ia),p=oe({},r,{disableGutters:d.disableGutters}),m=fV(p);return D.jsx(pV,oe({className:Pt(m.root,a),ownerState:p,ref:s},u))});rD.muiName="ListItemSecondaryAction";const gV=["className"],mV=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],yV=(i,t)=>{const{ownerState:s}=i;return[t.root,s.dense&&t.dense,s.alignItems==="flex-start"&&t.alignItemsFlexStart,s.divider&&t.divider,!s.disableGutters&&t.gutters,!s.disablePadding&&t.padding,s.button&&t.button,s.hasSecondaryAction&&t.secondaryAction]},xV=i=>{const{alignItems:t,button:s,classes:r,dense:a,disabled:u,disableGutters:d,disablePadding:p,divider:m,hasSecondaryAction:y,selected:b}=i;return tn({root:["root",a&&"dense",!d&&"gutters",!p&&"padding",m&&"divider",u&&"disabled",s&&"button",t==="flex-start"&&"alignItemsFlexStart",y&&"secondaryAction",b&&"selected"],container:["container"]},sV,r)},vV=st("div",{name:"MuiListItem",slot:"Root",overridesResolver:yV})(({theme:i,ownerState:t})=>oe({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&oe({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${ih.root}`]:{paddingRight:48}},{[`&.${nh.focusVisible}`]:{backgroundColor:(i.vars||i).palette.action.focus},[`&.${nh.selected}`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / ${i.vars.palette.action.selectedOpacity})`:jn.alpha(i.palette.primary.main,i.palette.action.selectedOpacity),[`&.${nh.focusVisible}`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.focusOpacity}))`:jn.alpha(i.palette.primary.main,i.palette.action.selectedOpacity+i.palette.action.focusOpacity)}},[`&.${nh.disabled}`]:{opacity:(i.vars||i).palette.action.disabledOpacity}},t.alignItems==="flex-start"&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${(i.vars||i).palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:i.transitions.create("background-color",{duration:i.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(i.vars||i).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${nh.selected}:hover`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.hoverOpacity}))`:jn.alpha(i.palette.primary.main,i.palette.action.selectedOpacity+i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / ${i.vars.palette.action.selectedOpacity})`:jn.alpha(i.palette.primary.main,i.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48})),bV=st("li",{name:"MuiListItem",slot:"Container",overridesResolver:(i,t)=>t.container})({position:"relative"}),oD=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiListItem"}),{alignItems:a="center",autoFocus:u=!1,button:d=!1,children:p,className:m,component:y,components:b={},componentsProps:S={},ContainerComponent:M="li",ContainerProps:{className:A}={},dense:R=!1,disabled:E=!1,disableGutters:_=!1,disablePadding:T=!1,divider:B=!1,focusVisibleClassName:z,secondaryAction:W,selected:L=!1,slotProps:U={},slots:I={}}=r,q=pt(r.ContainerProps,gV),ee=pt(r,mV),te=X.useContext(ia),ce=X.useMemo(()=>({dense:R||te.dense||!1,alignItems:a,disableGutters:_}),[a,te.dense,R,_]),re=X.useRef(null);ys(()=>{u&&re.current&&re.current.focus()},[u]);const ae=X.Children.toArray(p),ue=ae.length&&Af(ae[ae.length-1],["ListItemSecondaryAction"]),ie=oe({},r,{alignItems:a,autoFocus:u,button:d,dense:ce.dense,disabled:E,disableGutters:_,disablePadding:T,divider:B,hasSecondaryAction:ue,selected:L}),he=xV(ie),pe=fi(re,s),de=I.root||b.Root||vV,xe=U.root||S.root||{},Se=oe({className:Pt(he.root,xe.className,m),disabled:E},ee);let be=y||"li";return d&&(Se.component=y||"div",Se.focusVisibleClassName=Pt(nh.focusVisible,z),be=aa),ue?(be=!Se.component&&!y?"div":be,M==="li"&&(be==="li"?be="div":Se.component==="li"&&(Se.component="div")),D.jsx(ia.Provider,{value:ce,children:D.jsxs(bV,oe({as:M,className:Pt(he.container,A),ref:pe,ownerState:ie},q,{children:[D.jsx(de,oe({},xe,!yh(de)&&{as:be,ownerState:oe({},ie,xe.ownerState)},Se,{children:ae})),ae.pop()]}))})):D.jsx(ia.Provider,{value:ce,children:D.jsxs(de,oe({},xe,{as:be,ref:pe},!yh(de)&&{ownerState:oe({},ie,xe.ownerState)},Se,{children:[ae,W&&D.jsx(rD,{children:W})]}))})});function wV(i){return Qt("MuiListItemIcon",i)}const TP=en("MuiListItemIcon",["root","alignItemsFlexStart"]),SV=["className"],CV=i=>{const{alignItems:t,classes:s}=i;return tn({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},wV,s)},kV=st("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.root,s.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(({theme:i,ownerState:t})=>oe({minWidth:56,color:(i.vars||i).palette.action.active,flexShrink:0,display:"inline-flex"},t.alignItems==="flex-start"&&{marginTop:8})),PV=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiListItemIcon"}),{className:a}=r,u=pt(r,SV),d=X.useContext(ia),p=oe({},r,{alignItems:d.alignItems}),m=CV(p);return D.jsx(kV,oe({className:Pt(m.root,a),ownerState:p,ref:s},u))});function MV(i){return Qt("MuiListItemText",i)}const Zm=en("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),TV=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],AV=i=>{const{classes:t,inset:s,primary:r,secondary:a,dense:u}=i;return tn({root:["root",s&&"inset",u&&"dense",r&&a&&"multiline"],primary:["primary"],secondary:["secondary"]},MV,t)},DV=st("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[{[`& .${Zm.primary}`]:t.primary},{[`& .${Zm.secondary}`]:t.secondary},t.root,s.inset&&t.inset,s.primary&&s.secondary&&t.multiline,s.dense&&t.dense]}})(({ownerState:i})=>oe({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},i.primary&&i.secondary&&{marginTop:6,marginBottom:6},i.inset&&{paddingLeft:56})),EV=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiListItemText"}),{children:a,className:u,disableTypography:d=!1,inset:p=!1,primary:m,primaryTypographyProps:y,secondary:b,secondaryTypographyProps:S}=r,M=pt(r,TV),{dense:A}=X.useContext(ia);let R=m??a,E=b;const _=oe({},r,{disableTypography:d,inset:p,primary:!!R,secondary:!!E,dense:A}),T=AV(_);return R!=null&&R.type!==Oe&&!d&&(R=D.jsx(Oe,oe({variant:A?"body2":"body1",className:T.primary,component:y!=null&&y.variant?void 0:"span",display:"block"},y,{children:R}))),E!=null&&E.type!==Oe&&!d&&(E=D.jsx(Oe,oe({variant:"body2",className:T.secondary,color:"text.secondary",display:"block"},S,{children:E}))),D.jsxs(DV,oe({className:Pt(T.root,u),ownerState:_,ref:s},M,{children:[R,E]}))}),NV=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function uv(i,t,s){return i===t?i.firstChild:t&&t.nextElementSibling?t.nextElementSibling:s?null:i.firstChild}function AP(i,t,s){return i===t?s?i.firstChild:i.lastChild:t&&t.previousElementSibling?t.previousElementSibling:s?null:i.lastChild}function aD(i,t){if(t===void 0)return!0;let s=i.innerText;return s===void 0&&(s=i.textContent),s=s.trim().toLowerCase(),s.length===0?!1:t.repeating?s[0]===t.keys[0]:s.indexOf(t.keys.join(""))===0}function Dd(i,t,s,r,a,u){let d=!1,p=a(i,t,t?s:!1);for(;p;){if(p===i.firstChild){if(d)return!1;d=!0}const m=r?!1:p.disabled||p.getAttribute("aria-disabled")==="true";if(!p.hasAttribute("tabindex")||!aD(p,u)||m)p=a(i,p,s);else return p.focus(),!0}return!1}const RV=X.forwardRef(function(t,s){const{actions:r,autoFocus:a=!1,autoFocusItem:u=!1,children:d,className:p,disabledItemsFocusable:m=!1,disableListWrap:y=!1,onKeyDown:b,variant:S="selectedMenu"}=t,M=pt(t,NV),A=X.useRef(null),R=X.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ys(()=>{a&&A.current.focus()},[a]),X.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(z,{direction:W})=>{const L=!A.current.style.width;if(z.clientHeight<A.current.clientHeight&&L){const U=`${c2(Is(z))}px`;A.current.style[W==="rtl"?"paddingLeft":"paddingRight"]=U,A.current.style.width=`calc(100% + ${U})`}return A.current}}),[]);const E=z=>{const W=A.current,L=z.key,U=Is(W).activeElement;if(L==="ArrowDown")z.preventDefault(),Dd(W,U,y,m,uv);else if(L==="ArrowUp")z.preventDefault(),Dd(W,U,y,m,AP);else if(L==="Home")z.preventDefault(),Dd(W,null,y,m,uv);else if(L==="End")z.preventDefault(),Dd(W,null,y,m,AP);else if(L.length===1){const I=R.current,q=L.toLowerCase(),ee=performance.now();I.keys.length>0&&(ee-I.lastTime>500?(I.keys=[],I.repeating=!0,I.previousKeyMatched=!0):I.repeating&&q!==I.keys[0]&&(I.repeating=!1)),I.lastTime=ee,I.keys.push(q);const te=U&&!I.repeating&&aD(U,I);I.previousKeyMatched&&(te||Dd(W,U,!1,m,uv,I))?z.preventDefault():I.previousKeyMatched=!1}b&&b(z)},_=fi(A,s);let T=-1;X.Children.forEach(d,(z,W)=>{if(!X.isValidElement(z)){T===W&&(T+=1,T>=d.length&&(T=-1));return}z.props.disabled||(S==="selectedMenu"&&z.props.selected||T===-1)&&(T=W),T===W&&(z.props.disabled||z.props.muiSkipListHighlight||z.type.muiSkipListHighlight)&&(T+=1,T>=d.length&&(T=-1))});const B=X.Children.map(d,(z,W)=>{if(W===T){const L={};return u&&(L.autoFocus=!0),z.props.tabIndex===void 0&&S==="selectedMenu"&&(L.tabIndex=0),X.cloneElement(z,L)}return z});return D.jsx(ew,oe({role:"menu",ref:_,className:p,onKeyDown:E,tabIndex:a?0:-1},M,{children:B}))});function LV(i){return Qt("MuiPopover",i)}en("MuiPopover",["root","paper"]);const OV=["onEntering"],IV=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],FV=["slotProps"];function DP(i,t){let s=0;return typeof t=="number"?s=t:t==="center"?s=i.height/2:t==="bottom"&&(s=i.height),s}function EP(i,t){let s=0;return typeof t=="number"?s=t:t==="center"?s=i.width/2:t==="right"&&(s=i.width),s}function NP(i){return[i.horizontal,i.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function hv(i){return typeof i=="function"?i():i}const jV=i=>{const{classes:t}=i;return tn({root:["root"],paper:["paper"]},LV,t)},_V=st(Z1,{name:"MuiPopover",slot:"Root",overridesResolver:(i,t)=>t.root})({}),lD=st(ts,{name:"MuiPopover",slot:"Paper",overridesResolver:(i,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),zV=X.forwardRef(function(t,s){var r,a,u;const d=kn({props:t,name:"MuiPopover"}),{action:p,anchorEl:m,anchorOrigin:y={vertical:"top",horizontal:"left"},anchorPosition:b,anchorReference:S="anchorEl",children:M,className:A,container:R,elevation:E=8,marginThreshold:_=16,open:T,PaperProps:B={},slots:z,slotProps:W,transformOrigin:L={vertical:"top",horizontal:"left"},TransitionComponent:U=Fi,transitionDuration:I="auto",TransitionProps:{onEntering:q}={},disableScrollLock:ee=!1}=d,te=pt(d.TransitionProps,OV),ce=pt(d,IV),re=(r=W?.paper)!=null?r:B,ae=X.useRef(),ue=fi(ae,re.ref),ie=oe({},d,{anchorOrigin:y,anchorReference:S,elevation:E,marginThreshold:_,externalPaperSlotProps:re,transformOrigin:L,TransitionComponent:U,transitionDuration:I,TransitionProps:te}),he=jV(ie),pe=X.useCallback(()=>{if(S==="anchorPosition")return b;const Ee=hv(m),ut=(Ee&&Ee.nodeType===1?Ee:Is(ae.current).body).getBoundingClientRect();return{top:ut.top+DP(ut,y.vertical),left:ut.left+EP(ut,y.horizontal)}},[m,y.horizontal,y.vertical,b,S]),de=X.useCallback(Ee=>({vertical:DP(Ee,L.vertical),horizontal:EP(Ee,L.horizontal)}),[L.horizontal,L.vertical]),xe=X.useCallback(Ee=>{const Qe={width:Ee.offsetWidth,height:Ee.offsetHeight},ut=de(Qe);if(S==="none")return{top:null,left:null,transformOrigin:NP(ut)};const Ht=pe();let un=Ht.top-ut.vertical,Ct=Ht.left-ut.horizontal;const ht=un+Qe.height,Ze=Ct+Qe.width,yt=Ho(hv(m)),Ut=yt.innerHeight-_,nn=yt.innerWidth-_;if(_!==null&&un<_){const Ve=un-_;un-=Ve,ut.vertical+=Ve}else if(_!==null&&ht>Ut){const Ve=ht-Ut;un-=Ve,ut.vertical+=Ve}if(_!==null&&Ct<_){const Ve=Ct-_;Ct-=Ve,ut.horizontal+=Ve}else if(Ze>nn){const Ve=Ze-nn;Ct-=Ve,ut.horizontal+=Ve}return{top:`${Math.round(un)}px`,left:`${Math.round(Ct)}px`,transformOrigin:NP(ut)}},[m,S,pe,de,_]),[Se,be]=X.useState(T),Ne=X.useCallback(()=>{const Ee=ae.current;if(!Ee)return;const Qe=xe(Ee);Qe.top!==null&&(Ee.style.top=Qe.top),Qe.left!==null&&(Ee.style.left=Qe.left),Ee.style.transformOrigin=Qe.transformOrigin,be(!0)},[xe]);X.useEffect(()=>(ee&&window.addEventListener("scroll",Ne),()=>window.removeEventListener("scroll",Ne)),[m,ee,Ne]);const _e=(Ee,Qe)=>{q&&q(Ee,Qe),Ne()},Me=()=>{be(!1)};X.useEffect(()=>{T&&Ne()}),X.useImperativeHandle(p,()=>T?{updatePosition:()=>{Ne()}}:null,[T,Ne]),X.useEffect(()=>{if(!T)return;const Ee=Rh(()=>{Ne()}),Qe=Ho(m);return Qe.addEventListener("resize",Ee),()=>{Ee.clear(),Qe.removeEventListener("resize",Ee)}},[m,T,Ne]);let qe=I;I==="auto"&&!U.muiSupportAuto&&(qe=void 0);const ze=R||(m?Is(hv(m)).body:void 0),$e=(a=z?.root)!=null?a:_V,Ue=(u=z?.paper)!=null?u:lD,Pe=ra({elementType:Ue,externalSlotProps:oe({},re,{style:Se?re.style:oe({},re.style,{opacity:0})}),additionalProps:{elevation:E,ref:ue},ownerState:ie,className:Pt(he.paper,re?.className)}),Re=ra({elementType:$e,externalSlotProps:W?.root||{},externalForwardedProps:ce,additionalProps:{ref:s,slotProps:{backdrop:{invisible:!0}},container:ze,open:T},ownerState:ie,className:Pt(he.root,A)}),{slotProps:De}=Re,je=pt(Re,FV);return D.jsx($e,oe({},je,!yh($e)&&{slotProps:De,disableScrollLock:ee},{children:D.jsx(U,oe({appear:!0,in:T,onEntering:_e,onExited:Me,timeout:qe},te,{children:D.jsx(Ue,oe({},Pe,{children:M}))}))}))});function BV(i){return Qt("MuiMenu",i)}en("MuiMenu",["root","paper","list"]);const VV=["onEntering"],HV=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],WV={vertical:"top",horizontal:"right"},$V={vertical:"top",horizontal:"left"},YV=i=>{const{classes:t}=i;return tn({root:["root"],paper:["paper"],list:["list"]},BV,t)},UV=st(zV,{shouldForwardProp:i=>or(i)||i==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(i,t)=>t.root})({}),XV=st(lD,{name:"MuiMenu",slot:"Paper",overridesResolver:(i,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),GV=st(RV,{name:"MuiMenu",slot:"List",overridesResolver:(i,t)=>t.list})({outline:0}),tw=X.forwardRef(function(t,s){var r,a;const u=kn({props:t,name:"MuiMenu"}),{autoFocus:d=!0,children:p,className:m,disableAutoFocusItem:y=!1,MenuListProps:b={},onClose:S,open:M,PaperProps:A={},PopoverClasses:R,transitionDuration:E="auto",TransitionProps:{onEntering:_}={},variant:T="selectedMenu",slots:B={},slotProps:z={}}=u,W=pt(u.TransitionProps,VV),L=pt(u,HV),U=mp(),I=oe({},u,{autoFocus:d,disableAutoFocusItem:y,MenuListProps:b,onEntering:_,PaperProps:A,transitionDuration:E,TransitionProps:W,variant:T}),q=YV(I),ee=d&&!y&&M,te=X.useRef(null),ce=(de,xe)=>{te.current&&te.current.adjustStyleForScrollbar(de,{direction:U?"rtl":"ltr"}),_&&_(de,xe)},re=de=>{de.key==="Tab"&&(de.preventDefault(),S&&S(de,"tabKeyDown"))};let ae=-1;X.Children.map(p,(de,xe)=>{X.isValidElement(de)&&(de.props.disabled||(T==="selectedMenu"&&de.props.selected||ae===-1)&&(ae=xe))});const ue=(r=B.paper)!=null?r:XV,ie=(a=z.paper)!=null?a:A,he=ra({elementType:B.root,externalSlotProps:z.root,ownerState:I,className:[q.root,m]}),pe=ra({elementType:ue,externalSlotProps:ie,ownerState:I,className:q.paper});return D.jsx(UV,oe({onClose:S,anchorOrigin:{vertical:"bottom",horizontal:U?"right":"left"},transformOrigin:U?WV:$V,slots:{paper:ue,root:B.root},slotProps:{root:he,paper:pe},open:M,ref:s,transitionDuration:E,TransitionProps:oe({onEntering:ce},W),ownerState:I},L,{classes:R,children:D.jsx(GV,oe({onKeyDown:re,actions:te,autoFocus:d&&(ae===-1||y),autoFocusItem:ee,variant:T},b,{className:Pt(q.list,b.className),children:p}))}))});function qV(i){return Qt("MuiMenuItem",i)}const Ed=en("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),KV=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],ZV=(i,t)=>{const{ownerState:s}=i;return[t.root,s.dense&&t.dense,s.divider&&t.divider,!s.disableGutters&&t.gutters]},JV=i=>{const{disabled:t,dense:s,divider:r,disableGutters:a,selected:u,classes:d}=i,m=tn({root:["root",s&&"dense",t&&"disabled",!a&&"gutters",r&&"divider",u&&"selected"]},qV,d);return oe({},d,m)},QV=st(aa,{shouldForwardProp:i=>or(i)||i==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:ZV})(({theme:i,ownerState:t})=>oe({},i.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(i.vars||i).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(i.vars||i).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ed.selected}`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / ${i.vars.palette.action.selectedOpacity})`:jn.alpha(i.palette.primary.main,i.palette.action.selectedOpacity),[`&.${Ed.focusVisible}`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.focusOpacity}))`:jn.alpha(i.palette.primary.main,i.palette.action.selectedOpacity+i.palette.action.focusOpacity)}},[`&.${Ed.selected}:hover`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.hoverOpacity}))`:jn.alpha(i.palette.primary.main,i.palette.action.selectedOpacity+i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / ${i.vars.palette.action.selectedOpacity})`:jn.alpha(i.palette.primary.main,i.palette.action.selectedOpacity)}},[`&.${Ed.focusVisible}`]:{backgroundColor:(i.vars||i).palette.action.focus},[`&.${Ed.disabled}`]:{opacity:(i.vars||i).palette.action.disabledOpacity},[`& + .${xP.root}`]:{marginTop:i.spacing(1),marginBottom:i.spacing(1)},[`& + .${xP.inset}`]:{marginLeft:52},[`& .${Zm.root}`]:{marginTop:0,marginBottom:0},[`& .${Zm.inset}`]:{paddingLeft:36},[`& .${TP.root}`]:{minWidth:36}},!t.dense&&{[i.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&oe({minHeight:32,paddingTop:4,paddingBottom:4},i.typography.body2,{[`& .${TP.root} svg`]:{fontSize:"1.25rem"}}))),io=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiMenuItem"}),{autoFocus:a=!1,component:u="li",dense:d=!1,divider:p=!1,disableGutters:m=!1,focusVisibleClassName:y,role:b="menuitem",tabIndex:S,className:M}=r,A=pt(r,KV),R=X.useContext(ia),E=X.useMemo(()=>({dense:d||R.dense||!1,disableGutters:m}),[R.dense,d,m]),_=X.useRef(null);ys(()=>{a&&_.current&&_.current.focus()},[a]);const T=oe({},r,{dense:E.dense,divider:p,disableGutters:m}),B=JV(r),z=fi(_,s);let W;return r.disabled||(W=S!==void 0?S:-1),D.jsx(ia.Provider,{value:E,children:D.jsx(QV,oe({ref:z,role:b,tabIndex:W,component:u,focusVisibleClassName:Pt(B.focusVisible,y),className:Pt(B.root,M)},A,{ownerState:T,classes:B}))})});function eH(i){return Qt("MuiNativeSelect",i)}const nw=en("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),tH=["className","disabled","error","IconComponent","inputRef","variant"],nH=i=>{const{classes:t,variant:s,disabled:r,multiple:a,open:u,error:d}=i,p={select:["select",s,r&&"disabled",a&&"multiple",d&&"error"],icon:["icon",`icon${St(s)}`,u&&"iconOpen",r&&"disabled"]};return tn(p,eH,t)},cD=({ownerState:i,theme:t})=>oe({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":oe({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${nw.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},i.variant==="filled"&&{"&&&":{paddingRight:32}},i.variant==="outlined"&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),iH=st("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:or,overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.select,t[s.variant],s.error&&t.error,{[`&.${nw.multiple}`]:t.multiple}]}})(cD),uD=({ownerState:i,theme:t})=>oe({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${nw.disabled}`]:{color:(t.vars||t).palette.action.disabled}},i.open&&{transform:"rotate(180deg)"},i.variant==="filled"&&{right:7},i.variant==="outlined"&&{right:7}),sH=st("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.icon,s.variant&&t[`icon${St(s.variant)}`],s.open&&t.iconOpen]}})(uD),rH=X.forwardRef(function(t,s){const{className:r,disabled:a,error:u,IconComponent:d,inputRef:p,variant:m="standard"}=t,y=pt(t,tH),b=oe({},t,{disabled:a,variant:m,error:u}),S=nH(b);return D.jsxs(X.Fragment,{children:[D.jsx(iH,oe({ownerState:b,className:Pt(S.select,r),disabled:a,ref:p||s},y)),t.multiple?null:D.jsx(sH,{as:d,ownerState:b,className:S.icon})]})});var RP;const oH=["children","classes","className","label","notched"],aH=st("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:or})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),lH=st("legend",{name:"MuiNotchedOutlined",shouldForwardProp:or})(({ownerState:i,theme:t})=>oe({float:"unset",width:"auto",overflow:"hidden"},!i.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},i.withLabel&&oe({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},i.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function cH(i){const{className:t,label:s,notched:r}=i,a=pt(i,oH),u=s!=null&&s!=="",d=oe({},i,{notched:r,withLabel:u});return D.jsx(aH,oe({"aria-hidden":!0,className:t,ownerState:d},a,{children:D.jsx(lH,{ownerState:d,children:u?D.jsx("span",{children:s}):RP||(RP=D.jsx("span",{className:"notranslate",children:""}))})}))}const uH=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],hH=i=>{const{classes:t}=i,r=tn({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Wz,t);return oe({},t,r)},dH=st(B0,{shouldForwardProp:i=>or(i)||i==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:_0})(({theme:i,ownerState:t})=>{const s=i.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return oe({position:"relative",borderRadius:(i.vars||i).shape.borderRadius,[`&:hover .${Ll.notchedOutline}`]:{borderColor:(i.vars||i).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ll.notchedOutline}`]:{borderColor:i.vars?`rgba(${i.vars.palette.common.onBackgroundChannel} / 0.23)`:s}},[`&.${Ll.focused} .${Ll.notchedOutline}`]:{borderColor:(i.vars||i).palette[t.color].main,borderWidth:2},[`&.${Ll.error} .${Ll.notchedOutline}`]:{borderColor:(i.vars||i).palette.error.main},[`&.${Ll.disabled} .${Ll.notchedOutline}`]:{borderColor:(i.vars||i).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&oe({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),fH=st(cH,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(i,t)=>t.notchedOutline})(({theme:i})=>{const t=i.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:i.vars?`rgba(${i.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),pH=st(V0,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:z0})(({theme:i,ownerState:t})=>oe({padding:"16.5px 14px"},!i.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:i.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:i.palette.mode==="light"?null:"#fff",caretColor:i.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},i.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[i.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),iw=X.forwardRef(function(t,s){var r,a,u,d,p;const m=kn({props:t,name:"MuiOutlinedInput"}),{components:y={},fullWidth:b=!1,inputComponent:S="input",label:M,multiline:A=!1,notched:R,slots:E={},type:_="text"}=m,T=pt(m,uH),B=hH(m),z=rl(),W=eu({props:m,muiFormControl:z,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),L=oe({},m,{color:W.color||"primary",disabled:W.disabled,error:W.error,focused:W.focused,formControl:z,fullWidth:b,hiddenLabel:W.hiddenLabel,multiline:A,size:W.size,type:_}),U=(r=(a=E.root)!=null?a:y.Root)!=null?r:dH,I=(u=(d=E.input)!=null?d:y.Input)!=null?u:pH;return D.jsx(q1,oe({slots:{root:U,input:I},renderSuffix:q=>D.jsx(fH,{ownerState:L,className:B.notchedOutline,label:M!=null&&M!==""&&W.required?p||(p=D.jsxs(X.Fragment,{children:[M,"","*"]})):M,notched:typeof R<"u"?R:!!(q.startAdornment||q.filled||q.focused)}),fullWidth:b,inputComponent:S,multiline:A,ref:s,type:_},T,{classes:oe({},B,{notchedOutline:null})}))});iw.muiName="Input";function gH(i){return Qt("MuiSelect",i)}const Nd=en("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var LP;const mH=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],yH=st("div",{name:"MuiSelect",slot:"Select",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[{[`&.${Nd.select}`]:t.select},{[`&.${Nd.select}`]:t[s.variant]},{[`&.${Nd.error}`]:t.error},{[`&.${Nd.multiple}`]:t.multiple}]}})(cD,{[`&.${Nd.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),xH=st("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.icon,s.variant&&t[`icon${St(s.variant)}`],s.open&&t.iconOpen]}})(uD),vH=st("input",{shouldForwardProp:i=>F2(i)&&i!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(i,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function OP(i,t){return typeof t=="object"&&t!==null?i===t:String(i)===String(t)}function bH(i){return i==null||typeof i=="string"&&!i.trim()}const wH=i=>{const{classes:t,variant:s,disabled:r,multiple:a,open:u,error:d}=i,p={select:["select",s,r&&"disabled",a&&"multiple",d&&"error"],icon:["icon",`icon${St(s)}`,u&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return tn(p,gH,t)},SH=X.forwardRef(function(t,s){var r;const{"aria-describedby":a,"aria-label":u,autoFocus:d,autoWidth:p,children:m,className:y,defaultOpen:b,defaultValue:S,disabled:M,displayEmpty:A,error:R=!1,IconComponent:E,inputRef:_,labelId:T,MenuProps:B={},multiple:z,name:W,onBlur:L,onChange:U,onClose:I,onFocus:q,onOpen:ee,open:te,readOnly:ce,renderValue:re,SelectDisplayProps:ae={},tabIndex:ue,value:ie,variant:he="standard"}=t,pe=pt(t,mH),[de,xe]=uo({controlled:ie,default:S,name:"Select"}),[Se,be]=uo({controlled:te,default:b,name:"Select"}),Ne=X.useRef(null),_e=X.useRef(null),[Me,qe]=X.useState(null),{current:ze}=X.useRef(te!=null),[$e,Ue]=X.useState(),Pe=fi(s,_),Re=X.useCallback(Rt=>{_e.current=Rt,Rt&&qe(Rt)},[]),De=Me?.parentNode;X.useImperativeHandle(Pe,()=>({focus:()=>{_e.current.focus()},node:Ne.current,value:de}),[de]),X.useEffect(()=>{b&&Se&&Me&&!ze&&(Ue(p?null:De.clientWidth),_e.current.focus())},[Me,p]),X.useEffect(()=>{d&&_e.current.focus()},[d]),X.useEffect(()=>{if(!T)return;const Rt=Is(_e.current).getElementById(T);if(Rt){const an=()=>{getSelection().isCollapsed&&_e.current.focus()};return Rt.addEventListener("click",an),()=>{Rt.removeEventListener("click",an)}}},[T]);const je=(Rt,an)=>{Rt?ee&&ee(an):I&&I(an),ze||(Ue(p?null:De.clientWidth),be(Rt))},Ee=Rt=>{Rt.button===0&&(Rt.preventDefault(),_e.current.focus(),je(!0,Rt))},Qe=Rt=>{je(!1,Rt)},ut=X.Children.toArray(m),Ht=Rt=>{const an=ut.find(gt=>gt.props.value===Rt.target.value);an!==void 0&&(xe(an.props.value),U&&U(Rt,an))},un=Rt=>an=>{let gt;if(an.currentTarget.hasAttribute("tabindex")){if(z){gt=Array.isArray(de)?de.slice():[];const Te=de.indexOf(Rt.props.value);Te===-1?gt.push(Rt.props.value):gt.splice(Te,1)}else gt=Rt.props.value;if(Rt.props.onClick&&Rt.props.onClick(an),de!==gt&&(xe(gt),U)){const Te=an.nativeEvent||an,Nn=new Te.constructor(Te.type,Te);Object.defineProperty(Nn,"target",{writable:!0,value:{value:gt,name:W}}),U(Nn,Rt)}z||je(!1,an)}},Ct=Rt=>{ce||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Rt.key)!==-1&&(Rt.preventDefault(),je(!0,Rt))},ht=Me!==null&&Se,Ze=Rt=>{!ht&&L&&(Object.defineProperty(Rt,"target",{writable:!0,value:{value:de,name:W}}),L(Rt))};delete pe["aria-invalid"];let yt,Ut;const nn=[];let Ve=!1;(Gm({value:de})||A)&&(re?yt=re(de):Ve=!0);const at=ut.map(Rt=>{if(!X.isValidElement(Rt))return null;let an;if(z){if(!Array.isArray(de))throw new Error(Qa(2));an=de.some(gt=>OP(gt,Rt.props.value)),an&&Ve&&nn.push(Rt.props.children)}else an=OP(de,Rt.props.value),an&&Ve&&(Ut=Rt.props.children);return X.cloneElement(Rt,{"aria-selected":an?"true":"false",onClick:un(Rt),onKeyUp:gt=>{gt.key===" "&&gt.preventDefault(),Rt.props.onKeyUp&&Rt.props.onKeyUp(gt)},role:"option",selected:an,value:void 0,"data-value":Rt.props.value})});Ve&&(z?nn.length===0?yt=null:yt=nn.reduce((Rt,an,gt)=>(Rt.push(an),gt<nn.length-1&&Rt.push(", "),Rt),[]):yt=Ut);let xt=$e;!p&&ze&&Me&&(xt=De.clientWidth);let _t;typeof ue<"u"?_t=ue:_t=M?null:0;const Mt=ae.id||(W?`mui-component-select-${W}`:void 0),rt=oe({},t,{variant:he,value:de,open:ht,error:R}),Tt=wH(rt),ft=oe({},B.PaperProps,(r=B.slotProps)==null?void 0:r.paper),mt=sl();return D.jsxs(X.Fragment,{children:[D.jsx(yH,oe({ref:Re,tabIndex:_t,role:"combobox","aria-controls":mt,"aria-disabled":M?"true":void 0,"aria-expanded":ht?"true":"false","aria-haspopup":"listbox","aria-label":u,"aria-labelledby":[T,Mt].filter(Boolean).join(" ")||void 0,"aria-describedby":a,onKeyDown:Ct,onMouseDown:M||ce?null:Ee,onBlur:Ze,onFocus:q},ae,{ownerState:rt,className:Pt(ae.className,Tt.select,y),id:Mt,children:bH(yt)?LP||(LP=D.jsx("span",{className:"notranslate",children:""})):yt})),D.jsx(vH,oe({"aria-invalid":R,value:Array.isArray(de)?de.join(","):de,name:W,ref:Ne,"aria-hidden":!0,onChange:Ht,tabIndex:-1,disabled:M,className:Tt.nativeInput,autoFocus:d,ownerState:rt},pe)),D.jsx(xH,{as:E,className:Tt.icon,ownerState:rt}),D.jsx(tw,oe({id:`menu-${W||""}`,anchorEl:De,open:ht,onClose:Qe,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},B,{MenuListProps:oe({"aria-labelledby":T,role:"listbox","aria-multiselectable":z?"true":void 0,disableListWrap:!0,id:mt},B.MenuListProps),slotProps:oe({},B.slotProps,{paper:oe({},ft,{style:oe({minWidth:xt},ft!=null?ft.style:null)})}),children:at}))]})}),CH=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],kH=["root"],PH=i=>{const{classes:t}=i;return t},sw={name:"MuiSelect",overridesResolver:(i,t)=>t.root,shouldForwardProp:i=>or(i)&&i!=="variant",slot:"Root"},MH=st(Q1,sw)(""),TH=st(iw,sw)(""),AH=st(J1,sw)(""),Jm=X.forwardRef(function(t,s){const r=kn({name:"MuiSelect",props:t}),{autoWidth:a=!1,children:u,classes:d={},className:p,defaultOpen:m=!1,displayEmpty:y=!1,IconComponent:b=Yz,id:S,input:M,inputProps:A,label:R,labelId:E,MenuProps:_,multiple:T=!1,native:B=!1,onClose:z,onOpen:W,open:L,renderValue:U,SelectDisplayProps:I,variant:q="outlined"}=r,ee=pt(r,CH),te=B?rH:SH,ce=rl(),re=eu({props:r,muiFormControl:ce,states:["variant","error"]}),ae=re.variant||q,ue=oe({},r,{variant:ae,classes:d}),ie=PH(ue),he=pt(ie,kH),pe=M||{standard:D.jsx(MH,{ownerState:ue}),outlined:D.jsx(TH,{label:R,ownerState:ue}),filled:D.jsx(AH,{ownerState:ue})}[ae],de=fi(s,Qc(pe));return D.jsx(X.Fragment,{children:X.cloneElement(pe,oe({inputComponent:te,inputProps:oe({children:u,error:re.error,IconComponent:b,variant:ae,type:void 0,multiple:T},B?{id:S}:{autoWidth:a,defaultOpen:m,displayEmpty:y,labelId:E,MenuProps:_,onClose:z,onOpen:W,open:L,renderValue:U,SelectDisplayProps:oe({id:S},I)},A,{classes:A?Mr(he,A.classes):he},M?M.props.inputProps:{})},(T&&B||y)&&ae==="outlined"?{notched:!0}:{},{ref:de,className:Pt(pe.props.className,p,ie.root)},!M&&{variant:ae},ee))})});Jm.muiName="Select";function DH(i){return Qt("MuiTooltip",i)}const Vl=en("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),EH=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function NH(i){return Math.round(i*1e5)/1e5}const RH=i=>{const{classes:t,disableInteractive:s,arrow:r,touch:a,placement:u}=i,d={popper:["popper",!s&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",a&&"touch",`tooltipPlacement${St(u.split("-")[0])}`],arrow:["arrow"]};return tn(d,DH,t)},LH=st(G1,{name:"MuiTooltip",slot:"Popper",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.popper,!s.disableInteractive&&t.popperInteractive,s.arrow&&t.popperArrow,!s.open&&t.popperClose]}})(({theme:i,ownerState:t,open:s})=>oe({zIndex:(i.vars||i).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!s&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${Vl.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Vl.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Vl.arrow}`]:oe({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Vl.arrow}`]:oe({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),OH=st("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.tooltip,s.touch&&t.touch,s.arrow&&t.tooltipArrow,t[`tooltipPlacement${St(s.placement.split("-")[0])}`]]}})(({theme:i,ownerState:t})=>oe({backgroundColor:i.vars?i.vars.palette.Tooltip.bg:jn.alpha(i.palette.grey[700],.92),borderRadius:(i.vars||i).shape.borderRadius,color:(i.vars||i).palette.common.white,fontFamily:i.typography.fontFamily,padding:"4px 8px",fontSize:i.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:i.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:i.typography.pxToRem(14),lineHeight:`${NH(16/14)}em`,fontWeight:i.typography.fontWeightRegular},{[`.${Vl.popper}[data-popper-placement*="left"] &`]:oe({transformOrigin:"right center"},t.isRtl?oe({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):oe({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${Vl.popper}[data-popper-placement*="right"] &`]:oe({transformOrigin:"left center"},t.isRtl?oe({marginRight:"14px"},t.touch&&{marginRight:"24px"}):oe({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${Vl.popper}[data-popper-placement*="top"] &`]:oe({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${Vl.popper}[data-popper-placement*="bottom"] &`]:oe({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),IH=st("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(i,t)=>t.arrow})(({theme:i})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:i.vars?i.vars.palette.Tooltip.bg:jn.alpha(i.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let Yg=!1;const IP=new gp;let Rd={x:0,y:0};function Ug(i,t){return(s,...r)=>{t&&t(s,...r),i(s,...r)}}const _o=X.forwardRef(function(t,s){var r,a,u,d,p,m,y,b,S,M,A,R,E,_,T,B,z,W,L;const U=kn({props:t,name:"MuiTooltip"}),{arrow:I=!1,children:q,components:ee={},componentsProps:te={},describeChild:ce=!1,disableFocusListener:re=!1,disableHoverListener:ae=!1,disableInteractive:ue=!1,disableTouchListener:ie=!1,enterDelay:he=100,enterNextDelay:pe=0,enterTouchDelay:de=700,followCursor:xe=!1,id:Se,leaveDelay:be=0,leaveTouchDelay:Ne=1500,onClose:_e,onOpen:Me,open:qe,placement:ze="bottom",PopperComponent:$e,PopperProps:Ue={},slotProps:Pe={},slots:Re={},title:De,TransitionComponent:je=Fi,TransitionProps:Ee}=U,Qe=pt(U,EH),ut=X.isValidElement(q)?q:D.jsx("span",{children:q}),Ht=vs(),un=mp(),[Ct,ht]=X.useState(),[Ze,yt]=X.useState(null),Ut=X.useRef(!1),nn=ue||xe,Ve=Ec(),at=Ec(),xt=Ec(),_t=Ec(),[Mt,rt]=uo({controlled:qe,default:!1,name:"Tooltip",state:"open"});let Tt=Mt;const ft=sl(Se),mt=X.useRef(),Rt=vn(()=>{mt.current!==void 0&&(document.body.style.WebkitUserSelect=mt.current,mt.current=void 0),_t.clear()});X.useEffect(()=>Rt,[Rt]);const an=qn=>{IP.clear(),Yg=!0,rt(!0),Me&&!Tt&&Me(qn)},gt=vn(qn=>{IP.start(800+be,()=>{Yg=!1}),rt(!1),_e&&Tt&&_e(qn),Ve.start(Ht.transitions.duration.shortest,()=>{Ut.current=!1})}),Te=qn=>{Ut.current&&qn.type!=="touchstart"||(Ct&&Ct.removeAttribute("title"),at.clear(),xt.clear(),he||Yg&&pe?at.start(Yg?pe:he,()=>{an(qn)}):an(qn))},Nn=qn=>{at.clear(),xt.start(be,()=>{gt(qn)})},{isFocusVisibleRef:Dn,onBlur:hi,onFocus:Si,ref:Wi}=N0(),[,qi]=X.useState(!1),Ps=qn=>{hi(qn),Dn.current===!1&&(qi(!1),Nn(qn))},Bn=qn=>{Ct||ht(qn.currentTarget),Si(qn),Dn.current===!0&&(qi(!0),Te(qn))},Ms=qn=>{Ut.current=!0;const Hs=ut.props;Hs.onTouchStart&&Hs.onTouchStart(qn)},Ar=qn=>{Ms(qn),xt.clear(),Ve.clear(),Rt(),mt.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",_t.start(de,()=>{document.body.style.WebkitUserSelect=mt.current,Te(qn)})},ar=qn=>{ut.props.onTouchEnd&&ut.props.onTouchEnd(qn),Rt(),xt.start(Ne,()=>{gt(qn)})};X.useEffect(()=>{if(!Tt)return;function qn(Hs){(Hs.key==="Escape"||Hs.key==="Esc")&&gt(Hs)}return document.addEventListener("keydown",qn),()=>{document.removeEventListener("keydown",qn)}},[gt,Tt]);const Wt=fi(Qc(ut),Wi,ht,s);!De&&De!==0&&(Tt=!1);const Dr=X.useRef(),mo=qn=>{const Hs=ut.props;Hs.onMouseMove&&Hs.onMouseMove(qn),Rd={x:qn.clientX,y:qn.clientY},Dr.current&&Dr.current.update()},yr={},xr=typeof De=="string";ce?(yr.title=!Tt&&xr&&!ae?De:null,yr["aria-describedby"]=Tt?ft:null):(yr["aria-label"]=xr?De:null,yr["aria-labelledby"]=Tt&&!xr?ft:null);const Ni=oe({},yr,Qe,ut.props,{className:Pt(Qe.className,ut.props.className),onTouchStart:Ms,ref:Wt},xe?{onMouseMove:mo}:{}),Ts={};ie||(Ni.onTouchStart=Ar,Ni.onTouchEnd=ar),ae||(Ni.onMouseOver=Ug(Te,Ni.onMouseOver),Ni.onMouseLeave=Ug(Nn,Ni.onMouseLeave),nn||(Ts.onMouseOver=Te,Ts.onMouseLeave=Nn)),re||(Ni.onFocus=Ug(Bn,Ni.onFocus),Ni.onBlur=Ug(Ps,Ni.onBlur),nn||(Ts.onFocus=Bn,Ts.onBlur=Ps));const yo=X.useMemo(()=>{var qn;let Hs=[{name:"arrow",enabled:!!Ze,options:{element:Ze,padding:4}}];return(qn=Ue.popperOptions)!=null&&qn.modifiers&&(Hs=Hs.concat(Ue.popperOptions.modifiers)),oe({},Ue.popperOptions,{modifiers:Hs})},[Ze,Ue]),Fs=oe({},U,{isRtl:un,arrow:I,disableInteractive:nn,placement:ze,PopperComponentProp:$e,touch:Ut.current}),ha=RH(Fs),Xo=(r=(a=Re.popper)!=null?a:ee.Popper)!=null?r:LH,Ae=(u=(d=(p=Re.transition)!=null?p:ee.Transition)!=null?d:je)!=null?u:Fi,Ln=(m=(y=Re.tooltip)!=null?y:ee.Tooltip)!=null?m:OH,xo=(b=(S=Re.arrow)!=null?S:ee.Arrow)!=null?b:IH,ru=sh(Xo,oe({},Ue,(M=Pe.popper)!=null?M:te.popper,{className:Pt(ha.popper,Ue?.className,(A=(R=Pe.popper)!=null?R:te.popper)==null?void 0:A.className)}),Fs),ou=sh(Ae,oe({},Ee,(E=Pe.transition)!=null?E:te.transition),Fs),al=sh(Ln,oe({},(_=Pe.tooltip)!=null?_:te.tooltip,{className:Pt(ha.tooltip,(T=(B=Pe.tooltip)!=null?B:te.tooltip)==null?void 0:T.className)}),Fs),au=sh(xo,oe({},(z=Pe.arrow)!=null?z:te.arrow,{className:Pt(ha.arrow,(W=(L=Pe.arrow)!=null?L:te.arrow)==null?void 0:W.className)}),Fs);return D.jsxs(X.Fragment,{children:[X.cloneElement(ut,Ni),D.jsx(Xo,oe({as:$e??G1,placement:ze,anchorEl:xe?{getBoundingClientRect:()=>({top:Rd.y,left:Rd.x,right:Rd.x,bottom:Rd.y,width:0,height:0})}:Ct,popperRef:Dr,open:Ct?Tt:!1,id:ft,transition:!0},Ts,ru,{popperOptions:yo,children:({TransitionProps:qn})=>D.jsx(Ae,oe({timeout:Ht.transitions.duration.shorter},qn,ou,{children:D.jsxs(Ln,oe({},al,{children:[De,I?D.jsx(xo,oe({},au,{ref:yt})):null]}))}))}))]})});function FH(i){return Qt("MuiSwitch",i)}const Cr=en("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),jH=["className","color","edge","size","sx"],_H=i=>{const{classes:t,edge:s,size:r,color:a,checked:u,disabled:d}=i,p={root:["root",s&&`edge${St(s)}`,`size${St(r)}`],switchBase:["switchBase",`color${St(a)}`,u&&"checked",d&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},m=tn(p,FH,t);return oe({},t,m)},zH=st("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.root,s.edge&&t[`edge${St(s.edge)}`],t[`size${St(s.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${Cr.thumb}`]:{width:16,height:16},[`& .${Cr.switchBase}`]:{padding:4,[`&.${Cr.checked}`]:{transform:"translateX(16px)"}}}}]}),BH=st(K2,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.switchBase,{[`& .${Cr.input}`]:t.input},s.color!=="default"&&t[`color${St(s.color)}`]]}})(({theme:i})=>({position:"absolute",top:0,left:0,zIndex:1,color:i.vars?i.vars.palette.Switch.defaultColor:`${i.palette.mode==="light"?i.palette.common.white:i.palette.grey[300]}`,transition:i.transitions.create(["left","transform"],{duration:i.transitions.duration.shortest}),[`&.${Cr.checked}`]:{transform:"translateX(20px)"},[`&.${Cr.disabled}`]:{color:i.vars?i.vars.palette.Switch.defaultDisabledColor:`${i.palette.mode==="light"?i.palette.grey[100]:i.palette.grey[600]}`},[`&.${Cr.checked} + .${Cr.track}`]:{opacity:.5},[`&.${Cr.disabled} + .${Cr.track}`]:{opacity:i.vars?i.vars.opacity.switchTrackDisabled:`${i.palette.mode==="light"?.12:.2}`},[`& .${Cr.input}`]:{left:"-100%",width:"300%"}}),({theme:i})=>({"&:hover":{backgroundColor:i.vars?`rgba(${i.vars.palette.action.activeChannel} / ${i.vars.palette.action.hoverOpacity})`:jn.alpha(i.palette.action.active,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(i.palette).filter(([,t])=>t.main&&t.light).map(([t])=>({props:{color:t},style:{[`&.${Cr.checked}`]:{color:(i.vars||i).palette[t].main,"&:hover":{backgroundColor:i.vars?`rgba(${i.vars.palette[t].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:jn.alpha(i.palette[t].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Cr.disabled}`]:{color:i.vars?i.vars.palette.Switch[`${t}DisabledColor`]:`${i.palette.mode==="light"?jn.lighten(i.palette[t].main,.62):jn.darken(i.palette[t].main,.55)}`}},[`&.${Cr.checked} + .${Cr.track}`]:{backgroundColor:(i.vars||i).palette[t].main}}}))]})),VH=st("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(i,t)=>t.track})(({theme:i})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:i.transitions.create(["opacity","background-color"],{duration:i.transitions.duration.shortest}),backgroundColor:i.vars?i.vars.palette.common.onBackground:`${i.palette.mode==="light"?i.palette.common.black:i.palette.common.white}`,opacity:i.vars?i.vars.opacity.switchTrack:`${i.palette.mode==="light"?.38:.3}`})),HH=st("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(i,t)=>t.thumb})(({theme:i})=>({boxShadow:(i.vars||i).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),WH=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiSwitch"}),{className:a,color:u="primary",edge:d=!1,size:p="medium",sx:m}=r,y=pt(r,jH),b=oe({},r,{color:u,edge:d,size:p}),S=_H(b),M=D.jsx(HH,{className:S.thumb,ownerState:b});return D.jsxs(zH,{className:Pt(S.root,a),sx:m,ownerState:b,children:[D.jsx(BH,oe({type:"checkbox",icon:M,checkedIcon:M,ref:s,ownerState:b},y,{classes:oe({},S,{root:S.switchBase})})),D.jsx(VH,{className:S.track,ownerState:b})]})});function $H(i){return Qt("MuiTab",i)}const Il=en("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),YH=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],UH=i=>{const{classes:t,textColor:s,fullWidth:r,wrapped:a,icon:u,label:d,selected:p,disabled:m}=i,y={root:["root",u&&d&&"labelIcon",`textColor${St(s)}`,r&&"fullWidth",a&&"wrapped",p&&"selected",m&&"disabled"],iconWrapper:["iconWrapper"]};return tn(y,$H,t)},XH=st(aa,{name:"MuiTab",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.root,s.label&&s.icon&&t.labelIcon,t[`textColor${St(s.textColor)}`],s.fullWidth&&t.fullWidth,s.wrapped&&t.wrapped,{[`& .${Il.iconWrapper}`]:t.iconWrapper}]}})(({theme:i,ownerState:t})=>oe({},i.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},t.label&&{flexDirection:t.iconPosition==="top"||t.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},t.icon&&t.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${Il.iconWrapper}`]:oe({},t.iconPosition==="top"&&{marginBottom:6},t.iconPosition==="bottom"&&{marginTop:6},t.iconPosition==="start"&&{marginRight:i.spacing(1)},t.iconPosition==="end"&&{marginLeft:i.spacing(1)})},t.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${Il.selected}`]:{opacity:1},[`&.${Il.disabled}`]:{opacity:(i.vars||i).palette.action.disabledOpacity}},t.textColor==="primary"&&{color:(i.vars||i).palette.text.secondary,[`&.${Il.selected}`]:{color:(i.vars||i).palette.primary.main},[`&.${Il.disabled}`]:{color:(i.vars||i).palette.text.disabled}},t.textColor==="secondary"&&{color:(i.vars||i).palette.text.secondary,[`&.${Il.selected}`]:{color:(i.vars||i).palette.secondary.main},[`&.${Il.disabled}`]:{color:(i.vars||i).palette.text.disabled}},t.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},t.wrapped&&{fontSize:i.typography.pxToRem(12)})),FP=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiTab"}),{className:a,disabled:u=!1,disableFocusRipple:d=!1,fullWidth:p,icon:m,iconPosition:y="top",indicator:b,label:S,onChange:M,onClick:A,onFocus:R,selected:E,selectionFollowsFocus:_,textColor:T="inherit",value:B,wrapped:z=!1}=r,W=pt(r,YH),L=oe({},r,{disabled:u,disableFocusRipple:d,selected:E,icon:!!m,iconPosition:y,label:!!S,fullWidth:p,textColor:T,wrapped:z}),U=UH(L),I=m&&S&&X.isValidElement(m)?X.cloneElement(m,{className:Pt(U.iconWrapper,m.props.className)}):m,q=te=>{!E&&M&&M(te,B),A&&A(te)},ee=te=>{_&&!E&&M&&M(te,B),R&&R(te)};return D.jsxs(XH,oe({focusRipple:!d,className:Pt(U.root,a),ref:s,role:"tab","aria-selected":E,disabled:u,onClick:q,onFocus:ee,ownerState:L,tabIndex:E?0:-1},W,{children:[y==="top"||y==="start"?D.jsxs(X.Fragment,{children:[I,S]}):D.jsxs(X.Fragment,{children:[S,I]}),b]}))}),hD=X.createContext();function GH(i){return Qt("MuiTable",i)}en("MuiTable",["root","stickyHeader"]);const qH=["className","component","padding","size","stickyHeader"],KH=i=>{const{classes:t,stickyHeader:s}=i;return tn({root:["root",s&&"stickyHeader"]},GH,t)},ZH=st("table",{name:"MuiTable",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.root,s.stickyHeader&&t.stickyHeader]}})(({theme:i,ownerState:t})=>oe({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":oe({},i.typography.body2,{padding:i.spacing(2),color:(i.vars||i).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),jP="table",oo=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiTable"}),{className:a,component:u=jP,padding:d="normal",size:p="medium",stickyHeader:m=!1}=r,y=pt(r,qH),b=oe({},r,{component:u,padding:d,size:p,stickyHeader:m}),S=KH(b),M=X.useMemo(()=>({padding:d,size:p,stickyHeader:m}),[d,p,m]);return D.jsx(hD.Provider,{value:M,children:D.jsx(ZH,oe({as:u,role:u===jP?null:"table",ref:s,className:Pt(S.root,a),ownerState:b},y))})}),W0=X.createContext();function JH(i){return Qt("MuiTableBody",i)}en("MuiTableBody",["root"]);const QH=["className","component"],eW=i=>{const{classes:t}=i;return tn({root:["root"]},JH,t)},tW=st("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(i,t)=>t.root})({display:"table-row-group"}),nW={variant:"body"},_P="tbody",ao=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiTableBody"}),{className:a,component:u=_P}=r,d=pt(r,QH),p=oe({},r,{component:u}),m=eW(p);return D.jsx(W0.Provider,{value:nW,children:D.jsx(tW,oe({className:Pt(m.root,a),as:u,ref:s,role:u===_P?null:"rowgroup",ownerState:p},d))})});function iW(i){return Qt("MuiTableCell",i)}const sW=en("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),rW=["align","className","component","padding","scope","size","sortDirection","variant"],oW=i=>{const{classes:t,variant:s,align:r,padding:a,size:u,stickyHeader:d}=i,p={root:["root",s,d&&"stickyHeader",r!=="inherit"&&`align${St(r)}`,a!=="normal"&&`padding${St(a)}`,`size${St(u)}`]};return tn(p,iW,t)},aW=st("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.root,t[s.variant],t[`size${St(s.size)}`],s.padding!=="normal"&&t[`padding${St(s.padding)}`],s.align!=="inherit"&&t[`align${St(s.align)}`],s.stickyHeader&&t.stickyHeader]}})(({theme:i,ownerState:t})=>oe({},i.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:i.vars?`1px solid ${i.vars.palette.TableCell.border}`:`1px solid
    ${i.palette.mode==="light"?jn.lighten(jn.alpha(i.palette.divider,1),.88):jn.darken(jn.alpha(i.palette.divider,1),.68)}`,textAlign:"left",padding:16},t.variant==="head"&&{color:(i.vars||i).palette.text.primary,lineHeight:i.typography.pxToRem(24),fontWeight:i.typography.fontWeightMedium},t.variant==="body"&&{color:(i.vars||i).palette.text.primary},t.variant==="footer"&&{color:(i.vars||i).palette.text.secondary,lineHeight:i.typography.pxToRem(21),fontSize:i.typography.pxToRem(12)},t.size==="small"&&{padding:"6px 16px",[`&.${sW.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},t.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},t.padding==="none"&&{padding:0},t.align==="left"&&{textAlign:"left"},t.align==="center"&&{textAlign:"center"},t.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},t.align==="justify"&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(i.vars||i).palette.background.default})),Fe=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiTableCell"}),{align:a="inherit",className:u,component:d,padding:p,scope:m,size:y,sortDirection:b,variant:S}=r,M=pt(r,rW),A=X.useContext(hD),R=X.useContext(W0),E=R&&R.variant==="head";let _;d?_=d:_=E?"th":"td";let T=m;_==="td"?T=void 0:!T&&E&&(T="col");const B=S||R&&R.variant,z=oe({},r,{align:a,component:_,padding:p||(A&&A.padding?A.padding:"normal"),size:y||(A&&A.size?A.size:"medium"),sortDirection:b,stickyHeader:B==="head"&&A&&A.stickyHeader,variant:B}),W=oW(z);let L=null;return b&&(L=b==="asc"?"ascending":"descending"),D.jsx(aW,oe({as:_,ref:s,className:Pt(W.root,u),"aria-sort":L,scope:T,ownerState:z},M))});function lW(i){return Qt("MuiTableContainer",i)}en("MuiTableContainer",["root"]);const cW=["className","component"],uW=i=>{const{classes:t}=i;return tn({root:["root"]},lW,t)},hW=st("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(i,t)=>t.root})({width:"100%",overflowX:"auto"}),Ra=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiTableContainer"}),{className:a,component:u="div"}=r,d=pt(r,cW),p=oe({},r,{component:u}),m=uW(p);return D.jsx(hW,oe({ref:s,as:u,className:Pt(m.root,a),ownerState:p},d))});function dW(i){return Qt("MuiTableHead",i)}en("MuiTableHead",["root"]);const fW=["className","component"],pW=i=>{const{classes:t}=i;return tn({root:["root"]},dW,t)},gW=st("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(i,t)=>t.root})({display:"table-header-group"}),mW={variant:"head"},zP="thead",qa=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiTableHead"}),{className:a,component:u=zP}=r,d=pt(r,fW),p=oe({},r,{component:u}),m=pW(p);return D.jsx(W0.Provider,{value:mW,children:D.jsx(gW,oe({as:u,className:Pt(m.root,a),ref:s,role:u===zP?null:"rowgroup",ownerState:p},d))})});function yW(i){return Qt("MuiToolbar",i)}en("MuiToolbar",["root","gutters","regular","dense"]);const xW=["className","component","disableGutters","variant"],vW=i=>{const{classes:t,disableGutters:s,variant:r}=i;return tn({root:["root",!s&&"gutters",r]},yW,t)},bW=st("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.root,!s.disableGutters&&t.gutters,t[s.variant]]}})(({theme:i,ownerState:t})=>oe({position:"relative",display:"flex",alignItems:"center"},!t.disableGutters&&{paddingLeft:i.spacing(2),paddingRight:i.spacing(2),[i.breakpoints.up("sm")]:{paddingLeft:i.spacing(3),paddingRight:i.spacing(3)}},t.variant==="dense"&&{minHeight:48}),({theme:i,ownerState:t})=>t.variant==="regular"&&i.mixins.toolbar),rw=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiToolbar"}),{className:a,component:u="div",disableGutters:d=!1,variant:p="regular"}=r,m=pt(r,xW),y=oe({},r,{component:u,disableGutters:d,variant:p}),b=vW(y);return D.jsx(bW,oe({as:u,className:Pt(b.root,a),ref:s,ownerState:y},m))}),wW=is(D.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),SW=is(D.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function CW(i){return Qt("MuiTableRow",i)}const BP=en("MuiTableRow",["root","selected","hover","head","footer"]),kW=["className","component","hover","selected"],PW=i=>{const{classes:t,selected:s,hover:r,head:a,footer:u}=i;return tn({root:["root",s&&"selected",r&&"hover",a&&"head",u&&"footer"]},CW,t)},MW=st("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.root,s.head&&t.head,s.footer&&t.footer]}})(({theme:i})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${BP.hover}:hover`]:{backgroundColor:(i.vars||i).palette.action.hover},[`&.${BP.selected}`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / ${i.vars.palette.action.selectedOpacity})`:jn.alpha(i.palette.primary.main,i.palette.action.selectedOpacity),"&:hover":{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.hoverOpacity}))`:jn.alpha(i.palette.primary.main,i.palette.action.selectedOpacity+i.palette.action.hoverOpacity)}}})),VP="tr",wn=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiTableRow"}),{className:a,component:u=VP,hover:d=!1,selected:p=!1}=r,m=pt(r,kW),y=X.useContext(W0),b=oe({},r,{component:u,hover:d,selected:p,head:y&&y.variant==="head",footer:y&&y.variant==="footer"}),S=PW(b);return D.jsx(MW,oe({as:u,ref:s,className:Pt(S.root,a),role:u===VP?null:"row",ownerState:b},m))});function TW(i){return(1+Math.sin(Math.PI*i-Math.PI/2))/2}function AW(i,t,s,r={},a=()=>{}){const{ease:u=TW,duration:d=300}=r;let p=null;const m=t[i];let y=!1;const b=()=>{y=!0},S=M=>{if(y){a(new Error("Animation cancelled"));return}p===null&&(p=M);const A=Math.min(1,(M-p)/d);if(t[i]=u(A)*(s-m)+m,A>=1){requestAnimationFrame(()=>{a(null)});return}requestAnimationFrame(S)};return m===s?(a(new Error("Element already at target position")),b):(requestAnimationFrame(S),b)}const DW=["onChange"],EW={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function NW(i){const{onChange:t}=i,s=pt(i,DW),r=X.useRef(),a=X.useRef(null),u=()=>{r.current=a.current.offsetHeight-a.current.clientHeight};return ys(()=>{const d=Rh(()=>{const m=r.current;u(),m!==r.current&&t(r.current)}),p=Ho(a.current);return p.addEventListener("resize",d),()=>{d.clear(),p.removeEventListener("resize",d)}},[t]),X.useEffect(()=>{u(),t(r.current)},[t]),D.jsx("div",oe({style:EW},s,{ref:a}))}function RW(i){return Qt("MuiTabScrollButton",i)}const LW=en("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),OW=["className","slots","slotProps","direction","orientation","disabled"],IW=i=>{const{classes:t,orientation:s,disabled:r}=i;return tn({root:["root",s,r&&"disabled"]},RW,t)},FW=st(aa,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.root,s.orientation&&t[s.orientation]]}})(({ownerState:i})=>oe({width:40,flexShrink:0,opacity:.8,[`&.${LW.disabled}`]:{opacity:0}},i.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${i.isRtl?-90:90}deg)`}})),jW=X.forwardRef(function(t,s){var r,a;const u=kn({props:t,name:"MuiTabScrollButton"}),{className:d,slots:p={},slotProps:m={},direction:y}=u,b=pt(u,OW),S=mp(),M=oe({isRtl:S},u),A=IW(M),R=(r=p.StartScrollButtonIcon)!=null?r:wW,E=(a=p.EndScrollButtonIcon)!=null?a:SW,_=ra({elementType:R,externalSlotProps:m.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:M}),T=ra({elementType:E,externalSlotProps:m.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:M});return D.jsx(FW,oe({component:"div",className:Pt(A.root,d),ref:s,role:null,ownerState:M,tabIndex:null},b,{children:y==="left"?D.jsx(R,oe({},_)):D.jsx(E,oe({},T))}))});function _W(i){return Qt("MuiTabs",i)}const dv=en("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),zW=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],HP=(i,t)=>i===t?i.firstChild:t&&t.nextElementSibling?t.nextElementSibling:i.firstChild,WP=(i,t)=>i===t?i.lastChild:t&&t.previousElementSibling?t.previousElementSibling:i.lastChild,Xg=(i,t,s)=>{let r=!1,a=s(i,t);for(;a;){if(a===i.firstChild){if(r)return;r=!0}const u=a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||u)a=s(i,a);else{a.focus();return}}},BW=i=>{const{vertical:t,fixed:s,hideScrollbar:r,scrollableX:a,scrollableY:u,centered:d,scrollButtonsHideMobile:p,classes:m}=i;return tn({root:["root",t&&"vertical"],scroller:["scroller",s&&"fixed",r&&"hideScrollbar",a&&"scrollableX",u&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",d&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",p&&"scrollButtonsHideMobile"],scrollableX:[a&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},_W,m)},VW=st("div",{name:"MuiTabs",slot:"Root",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[{[`& .${dv.scrollButtons}`]:t.scrollButtons},{[`& .${dv.scrollButtons}`]:s.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,s.vertical&&t.vertical]}})(({ownerState:i,theme:t})=>oe({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},i.vertical&&{flexDirection:"column"},i.scrollButtonsHideMobile&&{[`& .${dv.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}})),HW=st("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.scroller,s.fixed&&t.fixed,s.hideScrollbar&&t.hideScrollbar,s.scrollableX&&t.scrollableX,s.scrollableY&&t.scrollableY]}})(({ownerState:i})=>oe({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},i.fixed&&{overflowX:"hidden",width:"100%"},i.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},i.scrollableX&&{overflowX:"auto",overflowY:"hidden"},i.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),WW=st("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(i,t)=>{const{ownerState:s}=i;return[t.flexContainer,s.vertical&&t.flexContainerVertical,s.centered&&t.centered]}})(({ownerState:i})=>oe({display:"flex"},i.vertical&&{flexDirection:"column"},i.centered&&{justifyContent:"center"})),$W=st("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(i,t)=>t.indicator})(({ownerState:i,theme:t})=>oe({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create()},i.indicatorColor==="primary"&&{backgroundColor:(t.vars||t).palette.primary.main},i.indicatorColor==="secondary"&&{backgroundColor:(t.vars||t).palette.secondary.main},i.vertical&&{height:"100%",width:2,right:0})),YW=st(NW)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),$P={},UW=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiTabs"}),a=vs(),u=mp(),{"aria-label":d,"aria-labelledby":p,action:m,centered:y=!1,children:b,className:S,component:M="div",allowScrollButtonsMobile:A=!1,indicatorColor:R="primary",onChange:E,orientation:_="horizontal",ScrollButtonComponent:T=jW,scrollButtons:B="auto",selectionFollowsFocus:z,slots:W={},slotProps:L={},TabIndicatorProps:U={},TabScrollButtonProps:I={},textColor:q="primary",value:ee,variant:te="standard",visibleScrollbar:ce=!1}=r,re=pt(r,zW),ae=te==="scrollable",ue=_==="vertical",ie=ue?"scrollTop":"scrollLeft",he=ue?"top":"left",pe=ue?"bottom":"right",de=ue?"clientHeight":"clientWidth",xe=ue?"height":"width",Se=oe({},r,{component:M,allowScrollButtonsMobile:A,indicatorColor:R,orientation:_,vertical:ue,scrollButtons:B,textColor:q,variant:te,visibleScrollbar:ce,fixed:!ae,hideScrollbar:ae&&!ce,scrollableX:ae&&!ue,scrollableY:ae&&ue,centered:y&&!ae,scrollButtonsHideMobile:!A}),be=BW(Se),Ne=ra({elementType:W.StartScrollButtonIcon,externalSlotProps:L.startScrollButtonIcon,ownerState:Se}),_e=ra({elementType:W.EndScrollButtonIcon,externalSlotProps:L.endScrollButtonIcon,ownerState:Se}),[Me,qe]=X.useState(!1),[ze,$e]=X.useState($P),[Ue,Pe]=X.useState(!1),[Re,De]=X.useState(!1),[je,Ee]=X.useState(!1),[Qe,ut]=X.useState({overflow:"hidden",scrollbarWidth:0}),Ht=new Map,un=X.useRef(null),Ct=X.useRef(null),ht=()=>{const gt=un.current;let Te;if(gt){const Dn=gt.getBoundingClientRect();Te={clientWidth:gt.clientWidth,scrollLeft:gt.scrollLeft,scrollTop:gt.scrollTop,scrollLeftNormalized:mF(gt,u?"rtl":"ltr"),scrollWidth:gt.scrollWidth,top:Dn.top,bottom:Dn.bottom,left:Dn.left,right:Dn.right}}let Nn;if(gt&&ee!==!1){const Dn=Ct.current.children;if(Dn.length>0){const hi=Dn[Ht.get(ee)];Nn=hi?hi.getBoundingClientRect():null}}return{tabsMeta:Te,tabMeta:Nn}},Ze=vn(()=>{const{tabsMeta:gt,tabMeta:Te}=ht();let Nn=0,Dn;if(ue)Dn="top",Te&&gt&&(Nn=Te.top-gt.top+gt.scrollTop);else if(Dn=u?"right":"left",Te&&gt){const Si=u?gt.scrollLeftNormalized+gt.clientWidth-gt.scrollWidth:gt.scrollLeft;Nn=(u?-1:1)*(Te[Dn]-gt[Dn]+Si)}const hi={[Dn]:Nn,[xe]:Te?Te[xe]:0};if(isNaN(ze[Dn])||isNaN(ze[xe]))$e(hi);else{const Si=Math.abs(ze[Dn]-hi[Dn]),Wi=Math.abs(ze[xe]-hi[xe]);(Si>=1||Wi>=1)&&$e(hi)}}),yt=(gt,{animation:Te=!0}={})=>{Te?AW(ie,un.current,gt,{duration:a.transitions.duration.standard}):un.current[ie]=gt},Ut=gt=>{let Te=un.current[ie];ue?Te+=gt:(Te+=gt*(u?-1:1),Te*=u&&u2()==="reverse"?-1:1),yt(Te)},nn=()=>{const gt=un.current[de];let Te=0;const Nn=Array.from(Ct.current.children);for(let Dn=0;Dn<Nn.length;Dn+=1){const hi=Nn[Dn];if(Te+hi[de]>gt){Dn===0&&(Te=gt);break}Te+=hi[de]}return Te},Ve=()=>{Ut(-1*nn())},at=()=>{Ut(nn())},xt=X.useCallback(gt=>{ut({overflow:null,scrollbarWidth:gt})},[]),_t=()=>{const gt={};gt.scrollbarSizeListener=ae?D.jsx(YW,{onChange:xt,className:Pt(be.scrollableX,be.hideScrollbar)}):null;const Nn=ae&&(B==="auto"&&(Ue||Re)||B===!0);return gt.scrollButtonStart=Nn?D.jsx(T,oe({slots:{StartScrollButtonIcon:W.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:Ne},orientation:_,direction:u?"right":"left",onClick:Ve,disabled:!Ue},I,{className:Pt(be.scrollButtons,I.className)})):null,gt.scrollButtonEnd=Nn?D.jsx(T,oe({slots:{EndScrollButtonIcon:W.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:_e},orientation:_,direction:u?"left":"right",onClick:at,disabled:!Re},I,{className:Pt(be.scrollButtons,I.className)})):null,gt},Mt=vn(gt=>{const{tabsMeta:Te,tabMeta:Nn}=ht();if(!(!Nn||!Te)){if(Nn[he]<Te[he]){const Dn=Te[ie]+(Nn[he]-Te[he]);yt(Dn,{animation:gt})}else if(Nn[pe]>Te[pe]){const Dn=Te[ie]+(Nn[pe]-Te[pe]);yt(Dn,{animation:gt})}}}),rt=vn(()=>{ae&&B!==!1&&Ee(!je)});X.useEffect(()=>{const gt=Rh(()=>{un.current&&Ze()});let Te;const Nn=Si=>{Si.forEach(Wi=>{Wi.removedNodes.forEach(qi=>{var Ps;(Ps=Te)==null||Ps.unobserve(qi)}),Wi.addedNodes.forEach(qi=>{var Ps;(Ps=Te)==null||Ps.observe(qi)})}),gt(),rt()},Dn=Ho(un.current);Dn.addEventListener("resize",gt);let hi;return typeof ResizeObserver<"u"&&(Te=new ResizeObserver(gt),Array.from(Ct.current.children).forEach(Si=>{Te.observe(Si)})),typeof MutationObserver<"u"&&(hi=new MutationObserver(Nn),hi.observe(Ct.current,{childList:!0})),()=>{var Si,Wi;gt.clear(),Dn.removeEventListener("resize",gt),(Si=hi)==null||Si.disconnect(),(Wi=Te)==null||Wi.disconnect()}},[Ze,rt]),X.useEffect(()=>{const gt=Array.from(Ct.current.children),Te=gt.length;if(typeof IntersectionObserver<"u"&&Te>0&&ae&&B!==!1){const Nn=gt[0],Dn=gt[Te-1],hi={root:un.current,threshold:.99},Si=Bn=>{Pe(!Bn[0].isIntersecting)},Wi=new IntersectionObserver(Si,hi);Wi.observe(Nn);const qi=Bn=>{De(!Bn[0].isIntersecting)},Ps=new IntersectionObserver(qi,hi);return Ps.observe(Dn),()=>{Wi.disconnect(),Ps.disconnect()}}},[ae,B,je,b?.length]),X.useEffect(()=>{qe(!0)},[]),X.useEffect(()=>{Ze()}),X.useEffect(()=>{Mt($P!==ze)},[Mt,ze]),X.useImperativeHandle(m,()=>({updateIndicator:Ze,updateScrollButtons:rt}),[Ze,rt]);const Tt=D.jsx($W,oe({},U,{className:Pt(be.indicator,U.className),ownerState:Se,style:oe({},ze,U.style)}));let ft=0;const mt=X.Children.map(b,gt=>{if(!X.isValidElement(gt))return null;const Te=gt.props.value===void 0?ft:gt.props.value;Ht.set(Te,ft);const Nn=Te===ee;return ft+=1,X.cloneElement(gt,oe({fullWidth:te==="fullWidth",indicator:Nn&&!Me&&Tt,selected:Nn,selectionFollowsFocus:z,onChange:E,textColor:q,value:Te},ft===1&&ee===!1&&!gt.props.tabIndex?{tabIndex:0}:{}))}),Rt=gt=>{const Te=Ct.current,Nn=Is(Te).activeElement;if(Nn.getAttribute("role")!=="tab")return;let hi=_==="horizontal"?"ArrowLeft":"ArrowUp",Si=_==="horizontal"?"ArrowRight":"ArrowDown";switch(_==="horizontal"&&u&&(hi="ArrowRight",Si="ArrowLeft"),gt.key){case hi:gt.preventDefault(),Xg(Te,Nn,WP);break;case Si:gt.preventDefault(),Xg(Te,Nn,HP);break;case"Home":gt.preventDefault(),Xg(Te,null,HP);break;case"End":gt.preventDefault(),Xg(Te,null,WP);break}},an=_t();return D.jsxs(VW,oe({className:Pt(be.root,S),ownerState:Se,ref:s,as:M},re,{children:[an.scrollButtonStart,an.scrollbarSizeListener,D.jsxs(HW,{className:be.scroller,ownerState:Se,style:{overflow:Qe.overflow,[ue?`margin${u?"Left":"Right"}`:"marginBottom"]:ce?void 0:-Qe.scrollbarWidth},ref:un,children:[D.jsx(WW,{"aria-label":d,"aria-labelledby":p,"aria-orientation":_==="vertical"?"vertical":null,className:be.flexContainer,ownerState:Se,onKeyDown:Rt,ref:Ct,role:"tablist",children:mt}),Me&&Tt]}),an.scrollButtonEnd]}))});function XW(i){return Qt("MuiTextField",i)}en("MuiTextField",["root"]);const GW=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],qW={standard:Q1,filled:J1,outlined:iw},KW=i=>{const{classes:t}=i;return tn({root:["root"]},XW,t)},ZW=st(nD,{name:"MuiTextField",slot:"Root",overridesResolver:(i,t)=>t.root})({}),Gn=X.forwardRef(function(t,s){const r=kn({props:t,name:"MuiTextField"}),{autoComplete:a,autoFocus:u=!1,children:d,className:p,color:m="primary",defaultValue:y,disabled:b=!1,error:S=!1,FormHelperTextProps:M,fullWidth:A=!1,helperText:R,id:E,InputLabelProps:_,inputProps:T,InputProps:B,inputRef:z,label:W,maxRows:L,minRows:U,multiline:I=!1,name:q,onBlur:ee,onChange:te,onFocus:ce,placeholder:re,required:ae=!1,rows:ue,select:ie=!1,SelectProps:he,type:pe,value:de,variant:xe="outlined"}=r,Se=pt(r,GW),be=oe({},r,{autoFocus:u,color:m,disabled:b,error:S,fullWidth:A,multiline:I,required:ae,select:ie,variant:xe}),Ne=KW(be),_e={};xe==="outlined"&&(_&&typeof _.shrink<"u"&&(_e.notched=_.shrink),_e.label=W),ie&&((!he||!he.native)&&(_e.id=void 0),_e["aria-describedby"]=void 0);const Me=sl(E),qe=R&&Me?`${Me}-helper-text`:void 0,ze=W&&Me?`${Me}-label`:void 0,$e=qW[xe],Ue=D.jsx($e,oe({"aria-describedby":qe,autoComplete:a,autoFocus:u,defaultValue:y,fullWidth:A,multiline:I,name:q,rows:ue,maxRows:L,minRows:U,type:pe,value:de,id:Me,inputRef:z,onBlur:ee,onChange:te,onFocus:ce,placeholder:re,inputProps:T},_e,B));return D.jsxs(ZW,oe({className:Pt(Ne.root,p),disabled:b,error:S,fullWidth:A,ref:s,required:ae,color:m,variant:xe,ownerState:be},Se,{children:[W!=null&&W!==""&&D.jsx(U6,oe({htmlFor:Me,id:ze},_,{children:W})),ie?D.jsx(Jm,oe({"aria-describedby":qe,id:Me,labelId:ze,value:de,input:Ue},he,{children:d})):Ue,R&&D.jsx(kb,oe({id:qe},M,{children:R}))]}))});function dD(i,t){return function(){return i.apply(t,arguments)}}const{toString:JW}=Object.prototype,{getPrototypeOf:ow}=Object,{iterator:$0,toStringTag:fD}=Symbol,Y0=(i=>t=>{const s=JW.call(t);return i[s]||(i[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),ua=i=>(i=i.toLowerCase(),t=>Y0(t)===i),U0=i=>t=>typeof t===i,{isArray:jh}=Array,Qf=U0("undefined");function QW(i){return i!==null&&!Qf(i)&&i.constructor!==null&&!Qf(i.constructor)&&Xr(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const pD=ua("ArrayBuffer");function e9(i){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(i):t=i&&i.buffer&&pD(i.buffer),t}const t9=U0("string"),Xr=U0("function"),gD=U0("number"),X0=i=>i!==null&&typeof i=="object",n9=i=>i===!0||i===!1,bm=i=>{if(Y0(i)!=="object")return!1;const t=ow(i);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(fD in i)&&!($0 in i)},i9=ua("Date"),s9=ua("File"),r9=ua("Blob"),o9=ua("FileList"),a9=i=>X0(i)&&Xr(i.pipe),l9=i=>{let t;return i&&(typeof FormData=="function"&&i instanceof FormData||Xr(i.append)&&((t=Y0(i))==="formdata"||t==="object"&&Xr(i.toString)&&i.toString()==="[object FormData]"))},c9=ua("URLSearchParams"),[u9,h9,d9,f9]=["ReadableStream","Request","Response","Headers"].map(ua),p9=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Sp(i,t,{allOwnKeys:s=!1}={}){if(i===null||typeof i>"u")return;let r,a;if(typeof i!="object"&&(i=[i]),jh(i))for(r=0,a=i.length;r<a;r++)t.call(null,i[r],r,i);else{const u=s?Object.getOwnPropertyNames(i):Object.keys(i),d=u.length;let p;for(r=0;r<d;r++)p=u[r],t.call(null,i[p],p,i)}}function mD(i,t){t=t.toLowerCase();const s=Object.keys(i);let r=s.length,a;for(;r-- >0;)if(a=s[r],t===a.toLowerCase())return a;return null}const Rc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,yD=i=>!Qf(i)&&i!==Rc;function Mb(){const{caseless:i}=yD(this)&&this||{},t={},s=(r,a)=>{const u=i&&mD(t,a)||a;bm(t[u])&&bm(r)?t[u]=Mb(t[u],r):bm(r)?t[u]=Mb({},r):jh(r)?t[u]=r.slice():t[u]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&Sp(arguments[r],s);return t}const g9=(i,t,s,{allOwnKeys:r}={})=>(Sp(t,(a,u)=>{s&&Xr(a)?i[u]=dD(a,s):i[u]=a},{allOwnKeys:r}),i),m9=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),y9=(i,t,s,r)=>{i.prototype=Object.create(t.prototype,r),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:t.prototype}),s&&Object.assign(i.prototype,s)},x9=(i,t,s,r)=>{let a,u,d;const p={};if(t=t||{},i==null)return t;do{for(a=Object.getOwnPropertyNames(i),u=a.length;u-- >0;)d=a[u],(!r||r(d,i,t))&&!p[d]&&(t[d]=i[d],p[d]=!0);i=s!==!1&&ow(i)}while(i&&(!s||s(i,t))&&i!==Object.prototype);return t},v9=(i,t,s)=>{i=String(i),(s===void 0||s>i.length)&&(s=i.length),s-=t.length;const r=i.indexOf(t,s);return r!==-1&&r===s},b9=i=>{if(!i)return null;if(jh(i))return i;let t=i.length;if(!gD(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=i[t];return s},w9=(i=>t=>i&&t instanceof i)(typeof Uint8Array<"u"&&ow(Uint8Array)),S9=(i,t)=>{const r=(i&&i[$0]).call(i);let a;for(;(a=r.next())&&!a.done;){const u=a.value;t.call(i,u[0],u[1])}},C9=(i,t)=>{let s;const r=[];for(;(s=i.exec(t))!==null;)r.push(s);return r},k9=ua("HTMLFormElement"),P9=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,r,a){return r.toUpperCase()+a}),YP=(({hasOwnProperty:i})=>(t,s)=>i.call(t,s))(Object.prototype),M9=ua("RegExp"),xD=(i,t)=>{const s=Object.getOwnPropertyDescriptors(i),r={};Sp(s,(a,u)=>{let d;(d=t(a,u,i))!==!1&&(r[u]=d||a)}),Object.defineProperties(i,r)},T9=i=>{xD(i,(t,s)=>{if(Xr(i)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=i[s];if(Xr(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},A9=(i,t)=>{const s={},r=a=>{a.forEach(u=>{s[u]=!0})};return jh(i)?r(i):r(String(i).split(t)),s},D9=()=>{},E9=(i,t)=>i!=null&&Number.isFinite(i=+i)?i:t;function N9(i){return!!(i&&Xr(i.append)&&i[fD]==="FormData"&&i[$0])}const R9=i=>{const t=new Array(10),s=(r,a)=>{if(X0(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[a]=r;const u=jh(r)?[]:{};return Sp(r,(d,p)=>{const m=s(d,a+1);!Qf(m)&&(u[p]=m)}),t[a]=void 0,u}}return r};return s(i,0)},L9=ua("AsyncFunction"),O9=i=>i&&(X0(i)||Xr(i))&&Xr(i.then)&&Xr(i.catch),vD=((i,t)=>i?setImmediate:t?((s,r)=>(Rc.addEventListener("message",({source:a,data:u})=>{a===Rc&&u===s&&r.length&&r.shift()()},!1),a=>{r.push(a),Rc.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Xr(Rc.postMessage)),I9=typeof queueMicrotask<"u"?queueMicrotask.bind(Rc):typeof process<"u"&&process.nextTick||vD,F9=i=>i!=null&&Xr(i[$0]),dt={isArray:jh,isArrayBuffer:pD,isBuffer:QW,isFormData:l9,isArrayBufferView:e9,isString:t9,isNumber:gD,isBoolean:n9,isObject:X0,isPlainObject:bm,isReadableStream:u9,isRequest:h9,isResponse:d9,isHeaders:f9,isUndefined:Qf,isDate:i9,isFile:s9,isBlob:r9,isRegExp:M9,isFunction:Xr,isStream:a9,isURLSearchParams:c9,isTypedArray:w9,isFileList:o9,forEach:Sp,merge:Mb,extend:g9,trim:p9,stripBOM:m9,inherits:y9,toFlatObject:x9,kindOf:Y0,kindOfTest:ua,endsWith:v9,toArray:b9,forEachEntry:S9,matchAll:C9,isHTMLForm:k9,hasOwnProperty:YP,hasOwnProp:YP,reduceDescriptors:xD,freezeMethods:T9,toObjectSet:A9,toCamelCase:P9,noop:D9,toFiniteNumber:E9,findKey:mD,global:Rc,isContextDefined:yD,isSpecCompliantForm:N9,toJSONObject:R9,isAsyncFn:L9,isThenable:O9,setImmediate:vD,asap:I9,isIterable:F9};function Un(i,t,s,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}dt.inherits(Un,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:dt.toJSONObject(this.config),code:this.code,status:this.status}}});const bD=Un.prototype,wD={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{wD[i]={value:i}});Object.defineProperties(Un,wD);Object.defineProperty(bD,"isAxiosError",{value:!0});Un.from=(i,t,s,r,a,u)=>{const d=Object.create(bD);return dt.toFlatObject(i,d,function(m){return m!==Error.prototype},p=>p!=="isAxiosError"),Un.call(d,i.message,t,s,r,a),d.cause=i,d.name=i.name,u&&Object.assign(d,u),d};const j9=null;function Tb(i){return dt.isPlainObject(i)||dt.isArray(i)}function SD(i){return dt.endsWith(i,"[]")?i.slice(0,-2):i}function UP(i,t,s){return i?i.concat(t).map(function(a,u){return a=SD(a),!s&&u?"["+a+"]":a}).join(s?".":""):t}function _9(i){return dt.isArray(i)&&!i.some(Tb)}const z9=dt.toFlatObject(dt,{},null,function(t){return/^is[A-Z]/.test(t)});function G0(i,t,s){if(!dt.isObject(i))throw new TypeError("target must be an object");t=t||new FormData,s=dt.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,_){return!dt.isUndefined(_[E])});const r=s.metaTokens,a=s.visitor||b,u=s.dots,d=s.indexes,m=(s.Blob||typeof Blob<"u"&&Blob)&&dt.isSpecCompliantForm(t);if(!dt.isFunction(a))throw new TypeError("visitor must be a function");function y(R){if(R===null)return"";if(dt.isDate(R))return R.toISOString();if(dt.isBoolean(R))return R.toString();if(!m&&dt.isBlob(R))throw new Un("Blob is not supported. Use a Buffer instead.");return dt.isArrayBuffer(R)||dt.isTypedArray(R)?m&&typeof Blob=="function"?new Blob([R]):Buffer.from(R):R}function b(R,E,_){let T=R;if(R&&!_&&typeof R=="object"){if(dt.endsWith(E,"{}"))E=r?E:E.slice(0,-2),R=JSON.stringify(R);else if(dt.isArray(R)&&_9(R)||(dt.isFileList(R)||dt.endsWith(E,"[]"))&&(T=dt.toArray(R)))return E=SD(E),T.forEach(function(z,W){!(dt.isUndefined(z)||z===null)&&t.append(d===!0?UP([E],W,u):d===null?E:E+"[]",y(z))}),!1}return Tb(R)?!0:(t.append(UP(_,E,u),y(R)),!1)}const S=[],M=Object.assign(z9,{defaultVisitor:b,convertValue:y,isVisitable:Tb});function A(R,E){if(!dt.isUndefined(R)){if(S.indexOf(R)!==-1)throw Error("Circular reference detected in "+E.join("."));S.push(R),dt.forEach(R,function(T,B){(!(dt.isUndefined(T)||T===null)&&a.call(t,T,dt.isString(B)?B.trim():B,E,M))===!0&&A(T,E?E.concat(B):[B])}),S.pop()}}if(!dt.isObject(i))throw new TypeError("data must be an object");return A(i),t}function XP(i){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function aw(i,t){this._pairs=[],i&&G0(i,this,t)}const CD=aw.prototype;CD.append=function(t,s){this._pairs.push([t,s])};CD.toString=function(t){const s=t?function(r){return t.call(this,r,XP)}:XP;return this._pairs.map(function(a){return s(a[0])+"="+s(a[1])},"").join("&")};function B9(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function kD(i,t,s){if(!t)return i;const r=s&&s.encode||B9;dt.isFunction(s)&&(s={serialize:s});const a=s&&s.serialize;let u;if(a?u=a(t,s):u=dt.isURLSearchParams(t)?t.toString():new aw(t,s).toString(r),u){const d=i.indexOf("#");d!==-1&&(i=i.slice(0,d)),i+=(i.indexOf("?")===-1?"?":"&")+u}return i}class GP{constructor(){this.handlers=[]}use(t,s,r){return this.handlers.push({fulfilled:t,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){dt.forEach(this.handlers,function(r){r!==null&&t(r)})}}const PD={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},V9=typeof URLSearchParams<"u"?URLSearchParams:aw,H9=typeof FormData<"u"?FormData:null,W9=typeof Blob<"u"?Blob:null,$9={isBrowser:!0,classes:{URLSearchParams:V9,FormData:H9,Blob:W9},protocols:["http","https","file","blob","url","data"]},lw=typeof window<"u"&&typeof document<"u",Ab=typeof navigator=="object"&&navigator||void 0,Y9=lw&&(!Ab||["ReactNative","NativeScript","NS"].indexOf(Ab.product)<0),U9=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",X9=lw&&window.location.href||"http://localhost",G9=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:lw,hasStandardBrowserEnv:Y9,hasStandardBrowserWebWorkerEnv:U9,navigator:Ab,origin:X9},Symbol.toStringTag,{value:"Module"})),gr={...G9,...$9};function q9(i,t){return G0(i,new gr.classes.URLSearchParams,Object.assign({visitor:function(s,r,a,u){return gr.isNode&&dt.isBuffer(s)?(this.append(r,s.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},t))}function K9(i){return dt.matchAll(/\w+|\[(\w*)]/g,i).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Z9(i){const t={},s=Object.keys(i);let r;const a=s.length;let u;for(r=0;r<a;r++)u=s[r],t[u]=i[u];return t}function MD(i){function t(s,r,a,u){let d=s[u++];if(d==="__proto__")return!0;const p=Number.isFinite(+d),m=u>=s.length;return d=!d&&dt.isArray(a)?a.length:d,m?(dt.hasOwnProp(a,d)?a[d]=[a[d],r]:a[d]=r,!p):((!a[d]||!dt.isObject(a[d]))&&(a[d]=[]),t(s,r,a[d],u)&&dt.isArray(a[d])&&(a[d]=Z9(a[d])),!p)}if(dt.isFormData(i)&&dt.isFunction(i.entries)){const s={};return dt.forEachEntry(i,(r,a)=>{t(K9(r),a,s,0)}),s}return null}function J9(i,t,s){if(dt.isString(i))try{return(t||JSON.parse)(i),dt.trim(i)}catch(r){if(r.name!=="SyntaxError")throw r}return(s||JSON.stringify)(i)}const Cp={transitional:PD,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const r=s.getContentType()||"",a=r.indexOf("application/json")>-1,u=dt.isObject(t);if(u&&dt.isHTMLForm(t)&&(t=new FormData(t)),dt.isFormData(t))return a?JSON.stringify(MD(t)):t;if(dt.isArrayBuffer(t)||dt.isBuffer(t)||dt.isStream(t)||dt.isFile(t)||dt.isBlob(t)||dt.isReadableStream(t))return t;if(dt.isArrayBufferView(t))return t.buffer;if(dt.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let p;if(u){if(r.indexOf("application/x-www-form-urlencoded")>-1)return q9(t,this.formSerializer).toString();if((p=dt.isFileList(t))||r.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return G0(p?{"files[]":t}:t,m&&new m,this.formSerializer)}}return u||a?(s.setContentType("application/json",!1),J9(t)):t}],transformResponse:[function(t){const s=this.transitional||Cp.transitional,r=s&&s.forcedJSONParsing,a=this.responseType==="json";if(dt.isResponse(t)||dt.isReadableStream(t))return t;if(t&&dt.isString(t)&&(r&&!this.responseType||a)){const d=!(s&&s.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(p){if(d)throw p.name==="SyntaxError"?Un.from(p,Un.ERR_BAD_RESPONSE,this,null,this.response):p}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:gr.classes.FormData,Blob:gr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};dt.forEach(["delete","get","head","post","put","patch"],i=>{Cp.headers[i]={}});const Q9=dt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),e$=i=>{const t={};let s,r,a;return i&&i.split(`
`).forEach(function(d){a=d.indexOf(":"),s=d.substring(0,a).trim().toLowerCase(),r=d.substring(a+1).trim(),!(!s||t[s]&&Q9[s])&&(s==="set-cookie"?t[s]?t[s].push(r):t[s]=[r]:t[s]=t[s]?t[s]+", "+r:r)}),t},qP=Symbol("internals");function Ld(i){return i&&String(i).trim().toLowerCase()}function wm(i){return i===!1||i==null?i:dt.isArray(i)?i.map(wm):String(i)}function t$(i){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(i);)t[r[1]]=r[2];return t}const n$=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function fv(i,t,s,r,a){if(dt.isFunction(r))return r.call(this,t,s);if(a&&(t=s),!!dt.isString(t)){if(dt.isString(r))return t.indexOf(r)!==-1;if(dt.isRegExp(r))return r.test(t)}}function i$(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,r)=>s.toUpperCase()+r)}function s$(i,t){const s=dt.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(i,r+s,{value:function(a,u,d){return this[r].call(this,t,a,u,d)},configurable:!0})})}let Gr=class{constructor(t){t&&this.set(t)}set(t,s,r){const a=this;function u(p,m,y){const b=Ld(m);if(!b)throw new Error("header name must be a non-empty string");const S=dt.findKey(a,b);(!S||a[S]===void 0||y===!0||y===void 0&&a[S]!==!1)&&(a[S||m]=wm(p))}const d=(p,m)=>dt.forEach(p,(y,b)=>u(y,b,m));if(dt.isPlainObject(t)||t instanceof this.constructor)d(t,s);else if(dt.isString(t)&&(t=t.trim())&&!n$(t))d(e$(t),s);else if(dt.isObject(t)&&dt.isIterable(t)){let p={},m,y;for(const b of t){if(!dt.isArray(b))throw TypeError("Object iterator must return a key-value pair");p[y=b[0]]=(m=p[y])?dt.isArray(m)?[...m,b[1]]:[m,b[1]]:b[1]}d(p,s)}else t!=null&&u(s,t,r);return this}get(t,s){if(t=Ld(t),t){const r=dt.findKey(this,t);if(r){const a=this[r];if(!s)return a;if(s===!0)return t$(a);if(dt.isFunction(s))return s.call(this,a,r);if(dt.isRegExp(s))return s.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=Ld(t),t){const r=dt.findKey(this,t);return!!(r&&this[r]!==void 0&&(!s||fv(this,this[r],r,s)))}return!1}delete(t,s){const r=this;let a=!1;function u(d){if(d=Ld(d),d){const p=dt.findKey(r,d);p&&(!s||fv(r,r[p],p,s))&&(delete r[p],a=!0)}}return dt.isArray(t)?t.forEach(u):u(t),a}clear(t){const s=Object.keys(this);let r=s.length,a=!1;for(;r--;){const u=s[r];(!t||fv(this,this[u],u,t,!0))&&(delete this[u],a=!0)}return a}normalize(t){const s=this,r={};return dt.forEach(this,(a,u)=>{const d=dt.findKey(r,u);if(d){s[d]=wm(a),delete s[u];return}const p=t?i$(u):String(u).trim();p!==u&&delete s[u],s[p]=wm(a),r[p]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return dt.forEach(this,(r,a)=>{r!=null&&r!==!1&&(s[a]=t&&dt.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const r=new this(t);return s.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[qP]=this[qP]={accessors:{}}).accessors,a=this.prototype;function u(d){const p=Ld(d);r[p]||(s$(a,d),r[p]=!0)}return dt.isArray(t)?t.forEach(u):u(t),this}};Gr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);dt.reduceDescriptors(Gr.prototype,({value:i},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>i,set(r){this[s]=r}}});dt.freezeMethods(Gr);function pv(i,t){const s=this||Cp,r=t||s,a=Gr.from(r.headers);let u=r.data;return dt.forEach(i,function(p){u=p.call(s,u,a.normalize(),t?t.status:void 0)}),a.normalize(),u}function TD(i){return!!(i&&i.__CANCEL__)}function _h(i,t,s){Un.call(this,i??"canceled",Un.ERR_CANCELED,t,s),this.name="CanceledError"}dt.inherits(_h,Un,{__CANCEL__:!0});function AD(i,t,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?i(s):t(new Un("Request failed with status code "+s.status,[Un.ERR_BAD_REQUEST,Un.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function r$(i){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return t&&t[1]||""}function o$(i,t){i=i||10;const s=new Array(i),r=new Array(i);let a=0,u=0,d;return t=t!==void 0?t:1e3,function(m){const y=Date.now(),b=r[u];d||(d=y),s[a]=m,r[a]=y;let S=u,M=0;for(;S!==a;)M+=s[S++],S=S%i;if(a=(a+1)%i,a===u&&(u=(u+1)%i),y-d<t)return;const A=b&&y-b;return A?Math.round(M*1e3/A):void 0}}function a$(i,t){let s=0,r=1e3/t,a,u;const d=(y,b=Date.now())=>{s=b,a=null,u&&(clearTimeout(u),u=null),i.apply(null,y)};return[(...y)=>{const b=Date.now(),S=b-s;S>=r?d(y,b):(a=y,u||(u=setTimeout(()=>{u=null,d(a)},r-S)))},()=>a&&d(a)]}const Qm=(i,t,s=3)=>{let r=0;const a=o$(50,250);return a$(u=>{const d=u.loaded,p=u.lengthComputable?u.total:void 0,m=d-r,y=a(m),b=d<=p;r=d;const S={loaded:d,total:p,progress:p?d/p:void 0,bytes:m,rate:y||void 0,estimated:y&&p&&b?(p-d)/y:void 0,event:u,lengthComputable:p!=null,[t?"download":"upload"]:!0};i(S)},s)},KP=(i,t)=>{const s=i!=null;return[r=>t[0]({lengthComputable:s,total:i,loaded:r}),t[1]]},ZP=i=>(...t)=>dt.asap(()=>i(...t)),l$=gr.hasStandardBrowserEnv?((i,t)=>s=>(s=new URL(s,gr.origin),i.protocol===s.protocol&&i.host===s.host&&(t||i.port===s.port)))(new URL(gr.origin),gr.navigator&&/(msie|trident)/i.test(gr.navigator.userAgent)):()=>!0,c$=gr.hasStandardBrowserEnv?{write(i,t,s,r,a,u){const d=[i+"="+encodeURIComponent(t)];dt.isNumber(s)&&d.push("expires="+new Date(s).toGMTString()),dt.isString(r)&&d.push("path="+r),dt.isString(a)&&d.push("domain="+a),u===!0&&d.push("secure"),document.cookie=d.join("; ")},read(i){const t=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function u$(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function h$(i,t){return t?i.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):i}function DD(i,t,s){let r=!u$(t);return i&&(r||s==!1)?h$(i,t):t}const JP=i=>i instanceof Gr?{...i}:i;function Uc(i,t){t=t||{};const s={};function r(y,b,S,M){return dt.isPlainObject(y)&&dt.isPlainObject(b)?dt.merge.call({caseless:M},y,b):dt.isPlainObject(b)?dt.merge({},b):dt.isArray(b)?b.slice():b}function a(y,b,S,M){if(dt.isUndefined(b)){if(!dt.isUndefined(y))return r(void 0,y,S,M)}else return r(y,b,S,M)}function u(y,b){if(!dt.isUndefined(b))return r(void 0,b)}function d(y,b){if(dt.isUndefined(b)){if(!dt.isUndefined(y))return r(void 0,y)}else return r(void 0,b)}function p(y,b,S){if(S in t)return r(y,b);if(S in i)return r(void 0,y)}const m={url:u,method:u,data:u,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:p,headers:(y,b,S)=>a(JP(y),JP(b),S,!0)};return dt.forEach(Object.keys(Object.assign({},i,t)),function(b){const S=m[b]||a,M=S(i[b],t[b],b);dt.isUndefined(M)&&S!==p||(s[b]=M)}),s}const ED=i=>{const t=Uc({},i);let{data:s,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:u,headers:d,auth:p}=t;t.headers=d=Gr.from(d),t.url=kD(DD(t.baseURL,t.url,t.allowAbsoluteUrls),i.params,i.paramsSerializer),p&&d.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):"")));let m;if(dt.isFormData(s)){if(gr.hasStandardBrowserEnv||gr.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((m=d.getContentType())!==!1){const[y,...b]=m?m.split(";").map(S=>S.trim()).filter(Boolean):[];d.setContentType([y||"multipart/form-data",...b].join("; "))}}if(gr.hasStandardBrowserEnv&&(r&&dt.isFunction(r)&&(r=r(t)),r||r!==!1&&l$(t.url))){const y=a&&u&&c$.read(u);y&&d.set(a,y)}return t},d$=typeof XMLHttpRequest<"u",f$=d$&&function(i){return new Promise(function(s,r){const a=ED(i);let u=a.data;const d=Gr.from(a.headers).normalize();let{responseType:p,onUploadProgress:m,onDownloadProgress:y}=a,b,S,M,A,R;function E(){A&&A(),R&&R(),a.cancelToken&&a.cancelToken.unsubscribe(b),a.signal&&a.signal.removeEventListener("abort",b)}let _=new XMLHttpRequest;_.open(a.method.toUpperCase(),a.url,!0),_.timeout=a.timeout;function T(){if(!_)return;const z=Gr.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),L={data:!p||p==="text"||p==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:z,config:i,request:_};AD(function(I){s(I),E()},function(I){r(I),E()},L),_=null}"onloadend"in _?_.onloadend=T:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(T)},_.onabort=function(){_&&(r(new Un("Request aborted",Un.ECONNABORTED,i,_)),_=null)},_.onerror=function(){r(new Un("Network Error",Un.ERR_NETWORK,i,_)),_=null},_.ontimeout=function(){let W=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const L=a.transitional||PD;a.timeoutErrorMessage&&(W=a.timeoutErrorMessage),r(new Un(W,L.clarifyTimeoutError?Un.ETIMEDOUT:Un.ECONNABORTED,i,_)),_=null},u===void 0&&d.setContentType(null),"setRequestHeader"in _&&dt.forEach(d.toJSON(),function(W,L){_.setRequestHeader(L,W)}),dt.isUndefined(a.withCredentials)||(_.withCredentials=!!a.withCredentials),p&&p!=="json"&&(_.responseType=a.responseType),y&&([M,R]=Qm(y,!0),_.addEventListener("progress",M)),m&&_.upload&&([S,A]=Qm(m),_.upload.addEventListener("progress",S),_.upload.addEventListener("loadend",A)),(a.cancelToken||a.signal)&&(b=z=>{_&&(r(!z||z.type?new _h(null,i,_):z),_.abort(),_=null)},a.cancelToken&&a.cancelToken.subscribe(b),a.signal&&(a.signal.aborted?b():a.signal.addEventListener("abort",b)));const B=r$(a.url);if(B&&gr.protocols.indexOf(B)===-1){r(new Un("Unsupported protocol "+B+":",Un.ERR_BAD_REQUEST,i));return}_.send(u||null)})},p$=(i,t)=>{const{length:s}=i=i?i.filter(Boolean):[];if(t||s){let r=new AbortController,a;const u=function(y){if(!a){a=!0,p();const b=y instanceof Error?y:this.reason;r.abort(b instanceof Un?b:new _h(b instanceof Error?b.message:b))}};let d=t&&setTimeout(()=>{d=null,u(new Un(`timeout ${t} of ms exceeded`,Un.ETIMEDOUT))},t);const p=()=>{i&&(d&&clearTimeout(d),d=null,i.forEach(y=>{y.unsubscribe?y.unsubscribe(u):y.removeEventListener("abort",u)}),i=null)};i.forEach(y=>y.addEventListener("abort",u));const{signal:m}=r;return m.unsubscribe=()=>dt.asap(p),m}},g$=function*(i,t){let s=i.byteLength;if(s<t){yield i;return}let r=0,a;for(;r<s;)a=r+t,yield i.slice(r,a),r=a},m$=async function*(i,t){for await(const s of y$(i))yield*g$(s,t)},y$=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const t=i.getReader();try{for(;;){const{done:s,value:r}=await t.read();if(s)break;yield r}}finally{await t.cancel()}},QP=(i,t,s,r)=>{const a=m$(i,t);let u=0,d,p=m=>{d||(d=!0,r&&r(m))};return new ReadableStream({async pull(m){try{const{done:y,value:b}=await a.next();if(y){p(),m.close();return}let S=b.byteLength;if(s){let M=u+=S;s(M)}m.enqueue(new Uint8Array(b))}catch(y){throw p(y),y}},cancel(m){return p(m),a.return()}},{highWaterMark:2})},q0=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ND=q0&&typeof ReadableStream=="function",x$=q0&&(typeof TextEncoder=="function"?(i=>t=>i.encode(t))(new TextEncoder):async i=>new Uint8Array(await new Response(i).arrayBuffer())),RD=(i,...t)=>{try{return!!i(...t)}catch{return!1}},v$=ND&&RD(()=>{let i=!1;const t=new Request(gr.origin,{body:new ReadableStream,method:"POST",get duplex(){return i=!0,"half"}}).headers.has("Content-Type");return i&&!t}),eM=64*1024,Db=ND&&RD(()=>dt.isReadableStream(new Response("").body)),e0={stream:Db&&(i=>i.body)};q0&&(i=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!e0[t]&&(e0[t]=dt.isFunction(i[t])?s=>s[t]():(s,r)=>{throw new Un(`Response type '${t}' is not supported`,Un.ERR_NOT_SUPPORT,r)})})})(new Response);const b$=async i=>{if(i==null)return 0;if(dt.isBlob(i))return i.size;if(dt.isSpecCompliantForm(i))return(await new Request(gr.origin,{method:"POST",body:i}).arrayBuffer()).byteLength;if(dt.isArrayBufferView(i)||dt.isArrayBuffer(i))return i.byteLength;if(dt.isURLSearchParams(i)&&(i=i+""),dt.isString(i))return(await x$(i)).byteLength},w$=async(i,t)=>{const s=dt.toFiniteNumber(i.getContentLength());return s??b$(t)},S$=q0&&(async i=>{let{url:t,method:s,data:r,signal:a,cancelToken:u,timeout:d,onDownloadProgress:p,onUploadProgress:m,responseType:y,headers:b,withCredentials:S="same-origin",fetchOptions:M}=ED(i);y=y?(y+"").toLowerCase():"text";let A=p$([a,u&&u.toAbortSignal()],d),R;const E=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let _;try{if(m&&v$&&s!=="get"&&s!=="head"&&(_=await w$(b,r))!==0){let L=new Request(t,{method:"POST",body:r,duplex:"half"}),U;if(dt.isFormData(r)&&(U=L.headers.get("content-type"))&&b.setContentType(U),L.body){const[I,q]=KP(_,Qm(ZP(m)));r=QP(L.body,eM,I,q)}}dt.isString(S)||(S=S?"include":"omit");const T="credentials"in Request.prototype;R=new Request(t,{...M,signal:A,method:s.toUpperCase(),headers:b.normalize().toJSON(),body:r,duplex:"half",credentials:T?S:void 0});let B=await fetch(R,M);const z=Db&&(y==="stream"||y==="response");if(Db&&(p||z&&E)){const L={};["status","statusText","headers"].forEach(ee=>{L[ee]=B[ee]});const U=dt.toFiniteNumber(B.headers.get("content-length")),[I,q]=p&&KP(U,Qm(ZP(p),!0))||[];B=new Response(QP(B.body,eM,I,()=>{q&&q(),E&&E()}),L)}y=y||"text";let W=await e0[dt.findKey(e0,y)||"text"](B,i);return!z&&E&&E(),await new Promise((L,U)=>{AD(L,U,{data:W,headers:Gr.from(B.headers),status:B.status,statusText:B.statusText,config:i,request:R})})}catch(T){throw E&&E(),T&&T.name==="TypeError"&&/Load failed|fetch/i.test(T.message)?Object.assign(new Un("Network Error",Un.ERR_NETWORK,i,R),{cause:T.cause||T}):Un.from(T,T&&T.code,i,R)}}),Eb={http:j9,xhr:f$,fetch:S$};dt.forEach(Eb,(i,t)=>{if(i){try{Object.defineProperty(i,"name",{value:t})}catch{}Object.defineProperty(i,"adapterName",{value:t})}});const tM=i=>`- ${i}`,C$=i=>dt.isFunction(i)||i===null||i===!1,LD={getAdapter:i=>{i=dt.isArray(i)?i:[i];const{length:t}=i;let s,r;const a={};for(let u=0;u<t;u++){s=i[u];let d;if(r=s,!C$(s)&&(r=Eb[(d=String(s)).toLowerCase()],r===void 0))throw new Un(`Unknown adapter '${d}'`);if(r)break;a[d||"#"+u]=r}if(!r){const u=Object.entries(a).map(([p,m])=>`adapter ${p} `+(m===!1?"is not supported by the environment":"is not available in the build"));let d=t?u.length>1?`since :
`+u.map(tM).join(`
`):" "+tM(u[0]):"as no adapter specified";throw new Un("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return r},adapters:Eb};function gv(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new _h(null,i)}function nM(i){return gv(i),i.headers=Gr.from(i.headers),i.data=pv.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),LD.getAdapter(i.adapter||Cp.adapter)(i).then(function(r){return gv(i),r.data=pv.call(i,i.transformResponse,r),r.headers=Gr.from(r.headers),r},function(r){return TD(r)||(gv(i),r&&r.response&&(r.response.data=pv.call(i,i.transformResponse,r.response),r.response.headers=Gr.from(r.response.headers))),Promise.reject(r)})}const OD="1.10.0",K0={};["object","boolean","number","function","string","symbol"].forEach((i,t)=>{K0[i]=function(r){return typeof r===i||"a"+(t<1?"n ":" ")+i}});const iM={};K0.transitional=function(t,s,r){function a(u,d){return"[Axios v"+OD+"] Transitional option '"+u+"'"+d+(r?". "+r:"")}return(u,d,p)=>{if(t===!1)throw new Un(a(d," has been removed"+(s?" in "+s:"")),Un.ERR_DEPRECATED);return s&&!iM[d]&&(iM[d]=!0,console.warn(a(d," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(u,d,p):!0}};K0.spelling=function(t){return(s,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function k$(i,t,s){if(typeof i!="object")throw new Un("options must be an object",Un.ERR_BAD_OPTION_VALUE);const r=Object.keys(i);let a=r.length;for(;a-- >0;){const u=r[a],d=t[u];if(d){const p=i[u],m=p===void 0||d(p,u,i);if(m!==!0)throw new Un("option "+u+" must be "+m,Un.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Un("Unknown option "+u,Un.ERR_BAD_OPTION)}}const Sm={assertOptions:k$,validators:K0},va=Sm.validators;let zc=class{constructor(t){this.defaults=t||{},this.interceptors={request:new GP,response:new GP}}async request(t,s){try{return await this._request(t,s)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const u=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?u&&!String(r.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+u):r.stack=u}catch{}}throw r}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=Uc(this.defaults,s);const{transitional:r,paramsSerializer:a,headers:u}=s;r!==void 0&&Sm.assertOptions(r,{silentJSONParsing:va.transitional(va.boolean),forcedJSONParsing:va.transitional(va.boolean),clarifyTimeoutError:va.transitional(va.boolean)},!1),a!=null&&(dt.isFunction(a)?s.paramsSerializer={serialize:a}:Sm.assertOptions(a,{encode:va.function,serialize:va.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Sm.assertOptions(s,{baseUrl:va.spelling("baseURL"),withXsrfToken:va.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let d=u&&dt.merge(u.common,u[s.method]);u&&dt.forEach(["delete","get","head","post","put","patch","common"],R=>{delete u[R]}),s.headers=Gr.concat(d,u);const p=[];let m=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(s)===!1||(m=m&&E.synchronous,p.unshift(E.fulfilled,E.rejected))});const y=[];this.interceptors.response.forEach(function(E){y.push(E.fulfilled,E.rejected)});let b,S=0,M;if(!m){const R=[nM.bind(this),void 0];for(R.unshift.apply(R,p),R.push.apply(R,y),M=R.length,b=Promise.resolve(s);S<M;)b=b.then(R[S++],R[S++]);return b}M=p.length;let A=s;for(S=0;S<M;){const R=p[S++],E=p[S++];try{A=R(A)}catch(_){E.call(this,_);break}}try{b=nM.call(this,A)}catch(R){return Promise.reject(R)}for(S=0,M=y.length;S<M;)b=b.then(y[S++],y[S++]);return b}getUri(t){t=Uc(this.defaults,t);const s=DD(t.baseURL,t.url,t.allowAbsoluteUrls);return kD(s,t.params,t.paramsSerializer)}};dt.forEach(["delete","get","head","options"],function(t){zc.prototype[t]=function(s,r){return this.request(Uc(r||{},{method:t,url:s,data:(r||{}).data}))}});dt.forEach(["post","put","patch"],function(t){function s(r){return function(u,d,p){return this.request(Uc(p||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:u,data:d}))}}zc.prototype[t]=s(),zc.prototype[t+"Form"]=s(!0)});let P$=class ID{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(u){s=u});const r=this;this.promise.then(a=>{if(!r._listeners)return;let u=r._listeners.length;for(;u-- >0;)r._listeners[u](a);r._listeners=null}),this.promise.then=a=>{let u;const d=new Promise(p=>{r.subscribe(p),u=p}).then(a);return d.cancel=function(){r.unsubscribe(u)},d},t(function(u,d,p){r.reason||(r.reason=new _h(u,d,p),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=r=>{t.abort(r)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new ID(function(a){t=a}),cancel:t}}};function M$(i){return function(s){return i.apply(null,s)}}function T$(i){return dt.isObject(i)&&i.isAxiosError===!0}const Nb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Nb).forEach(([i,t])=>{Nb[t]=i});function FD(i){const t=new zc(i),s=dD(zc.prototype.request,t);return dt.extend(s,zc.prototype,t,{allOwnKeys:!0}),dt.extend(s,t,null,{allOwnKeys:!0}),s.create=function(a){return FD(Uc(i,a))},s}const ji=FD(Cp);ji.Axios=zc;ji.CanceledError=_h;ji.CancelToken=P$;ji.isCancel=TD;ji.VERSION=OD;ji.toFormData=G0;ji.AxiosError=Un;ji.Cancel=ji.CanceledError;ji.all=function(t){return Promise.all(t)};ji.spread=M$;ji.isAxiosError=T$;ji.mergeConfig=Uc;ji.AxiosHeaders=Gr;ji.formToJSON=i=>MD(dt.isHTMLForm(i)?new FormData(i):i);ji.getAdapter=LD.getAdapter;ji.HttpStatusCode=Nb;ji.default=ji;const{Axios:gle,AxiosError:mle,CanceledError:yle,isCancel:xle,CancelToken:vle,VERSION:ble,all:wle,Cancel:Sle,isAxiosError:Cle,spread:kle,toFormData:Ple,AxiosHeaders:Mle,HttpStatusCode:Tle,formToJSON:Ale,getAdapter:Dle,mergeConfig:Ele}=ji,cw=JSON,A$=i=>i.toUpperCase(),D$=i=>{const t={};return i.forEach((s,r)=>{t[r]=s}),t},E$=(i,t,s)=>i.document?i:{document:i,variables:t,requestHeaders:s,signal:void 0},N$=(i,t,s)=>i.query?i:{query:i,variables:t,requestHeaders:s,signal:void 0},R$=(i,t)=>i.documents?i:{documents:i,requestHeaders:t,signal:void 0};function Cm(i,t){if(!!!i)throw new Error(t)}function L$(i){return typeof i=="object"&&i!==null}function O$(i,t){if(!!!i)throw new Error("Unexpected invariant triggered.")}const I$=/\r\n|[\n\r]/g;function Rb(i,t){let s=0,r=1;for(const a of i.body.matchAll(I$)){if(typeof a.index=="number"||O$(!1),a.index>=t)break;s=a.index+a[0].length,r+=1}return{line:r,column:t+1-s}}function F$(i){return jD(i.source,Rb(i.source,i.start))}function jD(i,t){const s=i.locationOffset.column-1,r="".padStart(s)+i.body,a=t.line-1,u=i.locationOffset.line-1,d=t.line+u,p=t.line===1?s:0,m=t.column+p,y=`${i.name}:${d}:${m}
`,b=r.split(/\r\n|[\n\r]/g),S=b[a];if(S.length>120){const M=Math.floor(m/80),A=m%80,R=[];for(let E=0;E<S.length;E+=80)R.push(S.slice(E,E+80));return y+sM([[`${d} |`,R[0]],...R.slice(1,M+1).map(E=>["|",E]),["|","^".padStart(A)],["|",R[M+1]]])}return y+sM([[`${d-1} |`,b[a-1]],[`${d} |`,S],["|","^".padStart(m)],[`${d+1} |`,b[a+1]]])}function sM(i){const t=i.filter(([r,a])=>a!==void 0),s=Math.max(...t.map(([r])=>r.length));return t.map(([r,a])=>r.padStart(s)+(a?" "+a:"")).join(`
`)}function j$(i){const t=i[0];return t==null||"kind"in t||"length"in t?{nodes:t,source:i[1],positions:i[2],path:i[3],originalError:i[4],extensions:i[5]}:t}class uw extends Error{constructor(t,...s){var r,a,u;const{nodes:d,source:p,positions:m,path:y,originalError:b,extensions:S}=j$(s);super(t),this.name="GraphQLError",this.path=y??void 0,this.originalError=b??void 0,this.nodes=rM(Array.isArray(d)?d:d?[d]:void 0);const M=rM((r=this.nodes)===null||r===void 0?void 0:r.map(R=>R.loc).filter(R=>R!=null));this.source=p??(M==null||(a=M[0])===null||a===void 0?void 0:a.source),this.positions=m??M?.map(R=>R.start),this.locations=m&&p?m.map(R=>Rb(p,R)):M?.map(R=>Rb(R.source,R.start));const A=L$(b?.extensions)?b?.extensions:void 0;this.extensions=(u=S??A)!==null&&u!==void 0?u:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),b!=null&&b.stack?Object.defineProperty(this,"stack",{value:b.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,uw):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let t=this.message;if(this.nodes)for(const s of this.nodes)s.loc&&(t+=`

`+F$(s.loc));else if(this.source&&this.locations)for(const s of this.locations)t+=`

`+jD(this.source,s);return t}toJSON(){const t={message:this.message};return this.locations!=null&&(t.locations=this.locations),this.path!=null&&(t.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(t.extensions=this.extensions),t}}function rM(i){return i===void 0||i.length===0?void 0:i}function Gs(i,t,s){return new uw(`Syntax Error: ${s}`,{source:i,positions:[t]})}class _${constructor(t,s,r){this.start=t.start,this.end=s.end,this.startToken=t,this.endToken=s,this.source=r}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class _D{constructor(t,s,r,a,u,d){this.kind=t,this.start=s,this.end=r,this.line=a,this.column=u,this.value=d,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const zD={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},z$=new Set(Object.keys(zD));function oM(i){const t=i?.kind;return typeof t=="string"&&z$.has(t)}var rh;(function(i){i.QUERY="query",i.MUTATION="mutation",i.SUBSCRIPTION="subscription"})(rh||(rh={}));var Lb;(function(i){i.QUERY="QUERY",i.MUTATION="MUTATION",i.SUBSCRIPTION="SUBSCRIPTION",i.FIELD="FIELD",i.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",i.FRAGMENT_SPREAD="FRAGMENT_SPREAD",i.INLINE_FRAGMENT="INLINE_FRAGMENT",i.VARIABLE_DEFINITION="VARIABLE_DEFINITION",i.SCHEMA="SCHEMA",i.SCALAR="SCALAR",i.OBJECT="OBJECT",i.FIELD_DEFINITION="FIELD_DEFINITION",i.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",i.INTERFACE="INTERFACE",i.UNION="UNION",i.ENUM="ENUM",i.ENUM_VALUE="ENUM_VALUE",i.INPUT_OBJECT="INPUT_OBJECT",i.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(Lb||(Lb={}));var zn;(function(i){i.NAME="Name",i.DOCUMENT="Document",i.OPERATION_DEFINITION="OperationDefinition",i.VARIABLE_DEFINITION="VariableDefinition",i.SELECTION_SET="SelectionSet",i.FIELD="Field",i.ARGUMENT="Argument",i.FRAGMENT_SPREAD="FragmentSpread",i.INLINE_FRAGMENT="InlineFragment",i.FRAGMENT_DEFINITION="FragmentDefinition",i.VARIABLE="Variable",i.INT="IntValue",i.FLOAT="FloatValue",i.STRING="StringValue",i.BOOLEAN="BooleanValue",i.NULL="NullValue",i.ENUM="EnumValue",i.LIST="ListValue",i.OBJECT="ObjectValue",i.OBJECT_FIELD="ObjectField",i.DIRECTIVE="Directive",i.NAMED_TYPE="NamedType",i.LIST_TYPE="ListType",i.NON_NULL_TYPE="NonNullType",i.SCHEMA_DEFINITION="SchemaDefinition",i.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",i.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",i.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",i.FIELD_DEFINITION="FieldDefinition",i.INPUT_VALUE_DEFINITION="InputValueDefinition",i.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",i.UNION_TYPE_DEFINITION="UnionTypeDefinition",i.ENUM_TYPE_DEFINITION="EnumTypeDefinition",i.ENUM_VALUE_DEFINITION="EnumValueDefinition",i.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",i.DIRECTIVE_DEFINITION="DirectiveDefinition",i.SCHEMA_EXTENSION="SchemaExtension",i.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",i.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",i.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",i.UNION_TYPE_EXTENSION="UnionTypeExtension",i.ENUM_TYPE_EXTENSION="EnumTypeExtension",i.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(zn||(zn={}));function Ob(i){return i===9||i===32}function ep(i){return i>=48&&i<=57}function BD(i){return i>=97&&i<=122||i>=65&&i<=90}function VD(i){return BD(i)||i===95}function B$(i){return BD(i)||ep(i)||i===95}function V$(i){var t;let s=Number.MAX_SAFE_INTEGER,r=null,a=-1;for(let d=0;d<i.length;++d){var u;const p=i[d],m=H$(p);m!==p.length&&(r=(u=r)!==null&&u!==void 0?u:d,a=d,d!==0&&m<s&&(s=m))}return i.map((d,p)=>p===0?d:d.slice(s)).slice((t=r)!==null&&t!==void 0?t:0,a+1)}function H$(i){let t=0;for(;t<i.length&&Ob(i.charCodeAt(t));)++t;return t}function W$(i,t){const s=i.replace(/"""/g,'\\"""'),r=s.split(/\r\n|[\n\r]/g),a=r.length===1,u=r.length>1&&r.slice(1).every(A=>A.length===0||Ob(A.charCodeAt(0))),d=s.endsWith('\\"""'),p=i.endsWith('"')&&!d,m=i.endsWith("\\"),y=p||m,b=!a||i.length>70||y||u||d;let S="";const M=a&&Ob(i.charCodeAt(0));return(b&&!M||u)&&(S+=`
`),S+=s,(b||y)&&(S+=`
`),'"""'+S+'"""'}var Nt;(function(i){i.SOF="<SOF>",i.EOF="<EOF>",i.BANG="!",i.DOLLAR="$",i.AMP="&",i.PAREN_L="(",i.PAREN_R=")",i.SPREAD="...",i.COLON=":",i.EQUALS="=",i.AT="@",i.BRACKET_L="[",i.BRACKET_R="]",i.BRACE_L="{",i.PIPE="|",i.BRACE_R="}",i.NAME="Name",i.INT="Int",i.FLOAT="Float",i.STRING="String",i.BLOCK_STRING="BlockString",i.COMMENT="Comment"})(Nt||(Nt={}));class $${constructor(t){const s=new _D(Nt.SOF,0,0,0,0);this.source=t,this.lastToken=s,this.token=s,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let t=this.token;if(t.kind!==Nt.EOF)do if(t.next)t=t.next;else{const s=U$(this,t.end);t.next=s,s.prev=t,t=s}while(t.kind===Nt.COMMENT);return t}}function Y$(i){return i===Nt.BANG||i===Nt.DOLLAR||i===Nt.AMP||i===Nt.PAREN_L||i===Nt.PAREN_R||i===Nt.SPREAD||i===Nt.COLON||i===Nt.EQUALS||i===Nt.AT||i===Nt.BRACKET_L||i===Nt.BRACKET_R||i===Nt.BRACE_L||i===Nt.PIPE||i===Nt.BRACE_R}function zh(i){return i>=0&&i<=55295||i>=57344&&i<=1114111}function Z0(i,t){return HD(i.charCodeAt(t))&&WD(i.charCodeAt(t+1))}function HD(i){return i>=55296&&i<=56319}function WD(i){return i>=56320&&i<=57343}function Xc(i,t){const s=i.source.body.codePointAt(t);if(s===void 0)return Nt.EOF;if(s>=32&&s<=126){const r=String.fromCodePoint(s);return r==='"'?`'"'`:`"${r}"`}return"U+"+s.toString(16).toUpperCase().padStart(4,"0")}function Ns(i,t,s,r,a){const u=i.line,d=1+s-i.lineStart;return new _D(t,s,r,u,d,a)}function U$(i,t){const s=i.source.body,r=s.length;let a=t;for(;a<r;){const u=s.charCodeAt(a);switch(u){case 65279:case 9:case 32:case 44:++a;continue;case 10:++a,++i.line,i.lineStart=a;continue;case 13:s.charCodeAt(a+1)===10?a+=2:++a,++i.line,i.lineStart=a;continue;case 35:return X$(i,a);case 33:return Ns(i,Nt.BANG,a,a+1);case 36:return Ns(i,Nt.DOLLAR,a,a+1);case 38:return Ns(i,Nt.AMP,a,a+1);case 40:return Ns(i,Nt.PAREN_L,a,a+1);case 41:return Ns(i,Nt.PAREN_R,a,a+1);case 46:if(s.charCodeAt(a+1)===46&&s.charCodeAt(a+2)===46)return Ns(i,Nt.SPREAD,a,a+3);break;case 58:return Ns(i,Nt.COLON,a,a+1);case 61:return Ns(i,Nt.EQUALS,a,a+1);case 64:return Ns(i,Nt.AT,a,a+1);case 91:return Ns(i,Nt.BRACKET_L,a,a+1);case 93:return Ns(i,Nt.BRACKET_R,a,a+1);case 123:return Ns(i,Nt.BRACE_L,a,a+1);case 124:return Ns(i,Nt.PIPE,a,a+1);case 125:return Ns(i,Nt.BRACE_R,a,a+1);case 34:return s.charCodeAt(a+1)===34&&s.charCodeAt(a+2)===34?Q$(i,a):q$(i,a)}if(ep(u)||u===45)return G$(i,a,u);if(VD(u))return eY(i,a);throw Gs(i.source,a,u===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:zh(u)||Z0(s,a)?`Unexpected character: ${Xc(i,a)}.`:`Invalid character: ${Xc(i,a)}.`)}return Ns(i,Nt.EOF,r,r)}function X$(i,t){const s=i.source.body,r=s.length;let a=t+1;for(;a<r;){const u=s.charCodeAt(a);if(u===10||u===13)break;if(zh(u))++a;else if(Z0(s,a))a+=2;else break}return Ns(i,Nt.COMMENT,t,a,s.slice(t+1,a))}function G$(i,t,s){const r=i.source.body;let a=t,u=s,d=!1;if(u===45&&(u=r.charCodeAt(++a)),u===48){if(u=r.charCodeAt(++a),ep(u))throw Gs(i.source,a,`Invalid number, unexpected digit after 0: ${Xc(i,a)}.`)}else a=mv(i,a,u),u=r.charCodeAt(a);if(u===46&&(d=!0,u=r.charCodeAt(++a),a=mv(i,a,u),u=r.charCodeAt(a)),(u===69||u===101)&&(d=!0,u=r.charCodeAt(++a),(u===43||u===45)&&(u=r.charCodeAt(++a)),a=mv(i,a,u),u=r.charCodeAt(a)),u===46||VD(u))throw Gs(i.source,a,`Invalid number, expected digit but got: ${Xc(i,a)}.`);return Ns(i,d?Nt.FLOAT:Nt.INT,t,a,r.slice(t,a))}function mv(i,t,s){if(!ep(s))throw Gs(i.source,t,`Invalid number, expected digit but got: ${Xc(i,t)}.`);const r=i.source.body;let a=t+1;for(;ep(r.charCodeAt(a));)++a;return a}function q$(i,t){const s=i.source.body,r=s.length;let a=t+1,u=a,d="";for(;a<r;){const p=s.charCodeAt(a);if(p===34)return d+=s.slice(u,a),Ns(i,Nt.STRING,t,a+1,d);if(p===92){d+=s.slice(u,a);const m=s.charCodeAt(a+1)===117?s.charCodeAt(a+2)===123?K$(i,a):Z$(i,a):J$(i,a);d+=m.value,a+=m.size,u=a;continue}if(p===10||p===13)break;if(zh(p))++a;else if(Z0(s,a))a+=2;else throw Gs(i.source,a,`Invalid character within String: ${Xc(i,a)}.`)}throw Gs(i.source,a,"Unterminated string.")}function K$(i,t){const s=i.source.body;let r=0,a=3;for(;a<12;){const u=s.charCodeAt(t+a++);if(u===125){if(a<5||!zh(r))break;return{value:String.fromCodePoint(r),size:a}}if(r=r<<4|wf(u),r<0)break}throw Gs(i.source,t,`Invalid Unicode escape sequence: "${s.slice(t,t+a)}".`)}function Z$(i,t){const s=i.source.body,r=aM(s,t+2);if(zh(r))return{value:String.fromCodePoint(r),size:6};if(HD(r)&&s.charCodeAt(t+6)===92&&s.charCodeAt(t+7)===117){const a=aM(s,t+8);if(WD(a))return{value:String.fromCodePoint(r,a),size:12}}throw Gs(i.source,t,`Invalid Unicode escape sequence: "${s.slice(t,t+6)}".`)}function aM(i,t){return wf(i.charCodeAt(t))<<12|wf(i.charCodeAt(t+1))<<8|wf(i.charCodeAt(t+2))<<4|wf(i.charCodeAt(t+3))}function wf(i){return i>=48&&i<=57?i-48:i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:-1}function J$(i,t){const s=i.source.body;switch(s.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw Gs(i.source,t,`Invalid character escape sequence: "${s.slice(t,t+2)}".`)}function Q$(i,t){const s=i.source.body,r=s.length;let a=i.lineStart,u=t+3,d=u,p="";const m=[];for(;u<r;){const y=s.charCodeAt(u);if(y===34&&s.charCodeAt(u+1)===34&&s.charCodeAt(u+2)===34){p+=s.slice(d,u),m.push(p);const b=Ns(i,Nt.BLOCK_STRING,t,u+3,V$(m).join(`
`));return i.line+=m.length-1,i.lineStart=a,b}if(y===92&&s.charCodeAt(u+1)===34&&s.charCodeAt(u+2)===34&&s.charCodeAt(u+3)===34){p+=s.slice(d,u),d=u+1,u+=4;continue}if(y===10||y===13){p+=s.slice(d,u),m.push(p),y===13&&s.charCodeAt(u+1)===10?u+=2:++u,p="",d=u,a=u;continue}if(zh(y))++u;else if(Z0(s,u))u+=2;else throw Gs(i.source,u,`Invalid character within String: ${Xc(i,u)}.`)}throw Gs(i.source,u,"Unterminated string.")}function eY(i,t){const s=i.source.body,r=s.length;let a=t+1;for(;a<r;){const u=s.charCodeAt(a);if(B$(u))++a;else break}return Ns(i,Nt.NAME,t,a,s.slice(t,a))}const tY=10,$D=2;function hw(i){return J0(i,[])}function J0(i,t){switch(typeof i){case"string":return JSON.stringify(i);case"function":return i.name?`[function ${i.name}]`:"[function]";case"object":return nY(i,t);default:return String(i)}}function nY(i,t){if(i===null)return"null";if(t.includes(i))return"[Circular]";const s=[...t,i];if(iY(i)){const r=i.toJSON();if(r!==i)return typeof r=="string"?r:J0(r,s)}else if(Array.isArray(i))return rY(i,s);return sY(i,s)}function iY(i){return typeof i.toJSON=="function"}function sY(i,t){const s=Object.entries(i);return s.length===0?"{}":t.length>$D?"["+oY(i)+"]":"{ "+s.map(([a,u])=>a+": "+J0(u,t)).join(", ")+" }"}function rY(i,t){if(i.length===0)return"[]";if(t.length>$D)return"[Array]";const s=Math.min(tY,i.length),r=i.length-s,a=[];for(let u=0;u<s;++u)a.push(J0(i[u],t));return r===1?a.push("... 1 more item"):r>1&&a.push(`... ${r} more items`),"["+a.join(", ")+"]"}function oY(i){const t=Object.prototype.toString.call(i).replace(/^\[object /,"").replace(/]$/,"");if(t==="Object"&&typeof i.constructor=="function"){const s=i.constructor.name;if(typeof s=="string"&&s!=="")return s}return t}const aY=globalThis.process&&!0,lY=aY?function(t,s){return t instanceof s}:function(t,s){if(t instanceof s)return!0;if(typeof t=="object"&&t!==null){var r;const a=s.prototype[Symbol.toStringTag],u=Symbol.toStringTag in t?t[Symbol.toStringTag]:(r=t.constructor)===null||r===void 0?void 0:r.name;if(a===u){const d=hw(t);throw new Error(`Cannot use ${a} "${d}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class YD{constructor(t,s="GraphQL request",r={line:1,column:1}){typeof t=="string"||Cm(!1,`Body must be a string. Received: ${hw(t)}.`),this.body=t,this.name=s,this.locationOffset=r,this.locationOffset.line>0||Cm(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Cm(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function cY(i){return lY(i,YD)}function uY(i,t){const s=new hY(i,t),r=s.parseDocument();return Object.defineProperty(r,"tokenCount",{enumerable:!1,value:s.tokenCount}),r}let hY=class{constructor(t,s={}){const r=cY(t)?t:new YD(t);this._lexer=new $$(r),this._options=s,this._tokenCounter=0}get tokenCount(){return this._tokenCounter}parseName(){const t=this.expectToken(Nt.NAME);return this.node(t,{kind:zn.NAME,value:t.value})}parseDocument(){return this.node(this._lexer.token,{kind:zn.DOCUMENT,definitions:this.many(Nt.SOF,this.parseDefinition,Nt.EOF)})}parseDefinition(){if(this.peek(Nt.BRACE_L))return this.parseOperationDefinition();const t=this.peekDescription(),s=t?this._lexer.lookahead():this._lexer.token;if(s.kind===Nt.NAME){switch(s.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(t)throw Gs(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(s.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(s)}parseOperationDefinition(){const t=this._lexer.token;if(this.peek(Nt.BRACE_L))return this.node(t,{kind:zn.OPERATION_DEFINITION,operation:rh.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const s=this.parseOperationType();let r;return this.peek(Nt.NAME)&&(r=this.parseName()),this.node(t,{kind:zn.OPERATION_DEFINITION,operation:s,name:r,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const t=this.expectToken(Nt.NAME);switch(t.value){case"query":return rh.QUERY;case"mutation":return rh.MUTATION;case"subscription":return rh.SUBSCRIPTION}throw this.unexpected(t)}parseVariableDefinitions(){return this.optionalMany(Nt.PAREN_L,this.parseVariableDefinition,Nt.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:zn.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(Nt.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(Nt.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const t=this._lexer.token;return this.expectToken(Nt.DOLLAR),this.node(t,{kind:zn.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:zn.SELECTION_SET,selections:this.many(Nt.BRACE_L,this.parseSelection,Nt.BRACE_R)})}parseSelection(){return this.peek(Nt.SPREAD)?this.parseFragment():this.parseField()}parseField(){const t=this._lexer.token,s=this.parseName();let r,a;return this.expectOptionalToken(Nt.COLON)?(r=s,a=this.parseName()):a=s,this.node(t,{kind:zn.FIELD,alias:r,name:a,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(Nt.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(t){const s=t?this.parseConstArgument:this.parseArgument;return this.optionalMany(Nt.PAREN_L,s,Nt.PAREN_R)}parseArgument(t=!1){const s=this._lexer.token,r=this.parseName();return this.expectToken(Nt.COLON),this.node(s,{kind:zn.ARGUMENT,name:r,value:this.parseValueLiteral(t)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const t=this._lexer.token;this.expectToken(Nt.SPREAD);const s=this.expectOptionalKeyword("on");return!s&&this.peek(Nt.NAME)?this.node(t,{kind:zn.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(t,{kind:zn.INLINE_FRAGMENT,typeCondition:s?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const t=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(t,{kind:zn.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(t,{kind:zn.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(t){const s=this._lexer.token;switch(s.kind){case Nt.BRACKET_L:return this.parseList(t);case Nt.BRACE_L:return this.parseObject(t);case Nt.INT:return this.advanceLexer(),this.node(s,{kind:zn.INT,value:s.value});case Nt.FLOAT:return this.advanceLexer(),this.node(s,{kind:zn.FLOAT,value:s.value});case Nt.STRING:case Nt.BLOCK_STRING:return this.parseStringLiteral();case Nt.NAME:switch(this.advanceLexer(),s.value){case"true":return this.node(s,{kind:zn.BOOLEAN,value:!0});case"false":return this.node(s,{kind:zn.BOOLEAN,value:!1});case"null":return this.node(s,{kind:zn.NULL});default:return this.node(s,{kind:zn.ENUM,value:s.value})}case Nt.DOLLAR:if(t)if(this.expectToken(Nt.DOLLAR),this._lexer.token.kind===Nt.NAME){const r=this._lexer.token.value;throw Gs(this._lexer.source,s.start,`Unexpected variable "$${r}" in constant value.`)}else throw this.unexpected(s);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const t=this._lexer.token;return this.advanceLexer(),this.node(t,{kind:zn.STRING,value:t.value,block:t.kind===Nt.BLOCK_STRING})}parseList(t){const s=()=>this.parseValueLiteral(t);return this.node(this._lexer.token,{kind:zn.LIST,values:this.any(Nt.BRACKET_L,s,Nt.BRACKET_R)})}parseObject(t){const s=()=>this.parseObjectField(t);return this.node(this._lexer.token,{kind:zn.OBJECT,fields:this.any(Nt.BRACE_L,s,Nt.BRACE_R)})}parseObjectField(t){const s=this._lexer.token,r=this.parseName();return this.expectToken(Nt.COLON),this.node(s,{kind:zn.OBJECT_FIELD,name:r,value:this.parseValueLiteral(t)})}parseDirectives(t){const s=[];for(;this.peek(Nt.AT);)s.push(this.parseDirective(t));return s}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(t){const s=this._lexer.token;return this.expectToken(Nt.AT),this.node(s,{kind:zn.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(t)})}parseTypeReference(){const t=this._lexer.token;let s;if(this.expectOptionalToken(Nt.BRACKET_L)){const r=this.parseTypeReference();this.expectToken(Nt.BRACKET_R),s=this.node(t,{kind:zn.LIST_TYPE,type:r})}else s=this.parseNamedType();return this.expectOptionalToken(Nt.BANG)?this.node(t,{kind:zn.NON_NULL_TYPE,type:s}):s}parseNamedType(){return this.node(this._lexer.token,{kind:zn.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(Nt.STRING)||this.peek(Nt.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const t=this._lexer.token,s=this.parseDescription();this.expectKeyword("schema");const r=this.parseConstDirectives(),a=this.many(Nt.BRACE_L,this.parseOperationTypeDefinition,Nt.BRACE_R);return this.node(t,{kind:zn.SCHEMA_DEFINITION,description:s,directives:r,operationTypes:a})}parseOperationTypeDefinition(){const t=this._lexer.token,s=this.parseOperationType();this.expectToken(Nt.COLON);const r=this.parseNamedType();return this.node(t,{kind:zn.OPERATION_TYPE_DEFINITION,operation:s,type:r})}parseScalarTypeDefinition(){const t=this._lexer.token,s=this.parseDescription();this.expectKeyword("scalar");const r=this.parseName(),a=this.parseConstDirectives();return this.node(t,{kind:zn.SCALAR_TYPE_DEFINITION,description:s,name:r,directives:a})}parseObjectTypeDefinition(){const t=this._lexer.token,s=this.parseDescription();this.expectKeyword("type");const r=this.parseName(),a=this.parseImplementsInterfaces(),u=this.parseConstDirectives(),d=this.parseFieldsDefinition();return this.node(t,{kind:zn.OBJECT_TYPE_DEFINITION,description:s,name:r,interfaces:a,directives:u,fields:d})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(Nt.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(Nt.BRACE_L,this.parseFieldDefinition,Nt.BRACE_R)}parseFieldDefinition(){const t=this._lexer.token,s=this.parseDescription(),r=this.parseName(),a=this.parseArgumentDefs();this.expectToken(Nt.COLON);const u=this.parseTypeReference(),d=this.parseConstDirectives();return this.node(t,{kind:zn.FIELD_DEFINITION,description:s,name:r,arguments:a,type:u,directives:d})}parseArgumentDefs(){return this.optionalMany(Nt.PAREN_L,this.parseInputValueDef,Nt.PAREN_R)}parseInputValueDef(){const t=this._lexer.token,s=this.parseDescription(),r=this.parseName();this.expectToken(Nt.COLON);const a=this.parseTypeReference();let u;this.expectOptionalToken(Nt.EQUALS)&&(u=this.parseConstValueLiteral());const d=this.parseConstDirectives();return this.node(t,{kind:zn.INPUT_VALUE_DEFINITION,description:s,name:r,type:a,defaultValue:u,directives:d})}parseInterfaceTypeDefinition(){const t=this._lexer.token,s=this.parseDescription();this.expectKeyword("interface");const r=this.parseName(),a=this.parseImplementsInterfaces(),u=this.parseConstDirectives(),d=this.parseFieldsDefinition();return this.node(t,{kind:zn.INTERFACE_TYPE_DEFINITION,description:s,name:r,interfaces:a,directives:u,fields:d})}parseUnionTypeDefinition(){const t=this._lexer.token,s=this.parseDescription();this.expectKeyword("union");const r=this.parseName(),a=this.parseConstDirectives(),u=this.parseUnionMemberTypes();return this.node(t,{kind:zn.UNION_TYPE_DEFINITION,description:s,name:r,directives:a,types:u})}parseUnionMemberTypes(){return this.expectOptionalToken(Nt.EQUALS)?this.delimitedMany(Nt.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const t=this._lexer.token,s=this.parseDescription();this.expectKeyword("enum");const r=this.parseName(),a=this.parseConstDirectives(),u=this.parseEnumValuesDefinition();return this.node(t,{kind:zn.ENUM_TYPE_DEFINITION,description:s,name:r,directives:a,values:u})}parseEnumValuesDefinition(){return this.optionalMany(Nt.BRACE_L,this.parseEnumValueDefinition,Nt.BRACE_R)}parseEnumValueDefinition(){const t=this._lexer.token,s=this.parseDescription(),r=this.parseEnumValueName(),a=this.parseConstDirectives();return this.node(t,{kind:zn.ENUM_VALUE_DEFINITION,description:s,name:r,directives:a})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw Gs(this._lexer.source,this._lexer.token.start,`${Gg(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const t=this._lexer.token,s=this.parseDescription();this.expectKeyword("input");const r=this.parseName(),a=this.parseConstDirectives(),u=this.parseInputFieldsDefinition();return this.node(t,{kind:zn.INPUT_OBJECT_TYPE_DEFINITION,description:s,name:r,directives:a,fields:u})}parseInputFieldsDefinition(){return this.optionalMany(Nt.BRACE_L,this.parseInputValueDef,Nt.BRACE_R)}parseTypeSystemExtension(){const t=this._lexer.lookahead();if(t.kind===Nt.NAME)switch(t.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(t)}parseSchemaExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const s=this.parseConstDirectives(),r=this.optionalMany(Nt.BRACE_L,this.parseOperationTypeDefinition,Nt.BRACE_R);if(s.length===0&&r.length===0)throw this.unexpected();return this.node(t,{kind:zn.SCHEMA_EXTENSION,directives:s,operationTypes:r})}parseScalarTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const s=this.parseName(),r=this.parseConstDirectives();if(r.length===0)throw this.unexpected();return this.node(t,{kind:zn.SCALAR_TYPE_EXTENSION,name:s,directives:r})}parseObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const s=this.parseName(),r=this.parseImplementsInterfaces(),a=this.parseConstDirectives(),u=this.parseFieldsDefinition();if(r.length===0&&a.length===0&&u.length===0)throw this.unexpected();return this.node(t,{kind:zn.OBJECT_TYPE_EXTENSION,name:s,interfaces:r,directives:a,fields:u})}parseInterfaceTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const s=this.parseName(),r=this.parseImplementsInterfaces(),a=this.parseConstDirectives(),u=this.parseFieldsDefinition();if(r.length===0&&a.length===0&&u.length===0)throw this.unexpected();return this.node(t,{kind:zn.INTERFACE_TYPE_EXTENSION,name:s,interfaces:r,directives:a,fields:u})}parseUnionTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const s=this.parseName(),r=this.parseConstDirectives(),a=this.parseUnionMemberTypes();if(r.length===0&&a.length===0)throw this.unexpected();return this.node(t,{kind:zn.UNION_TYPE_EXTENSION,name:s,directives:r,types:a})}parseEnumTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const s=this.parseName(),r=this.parseConstDirectives(),a=this.parseEnumValuesDefinition();if(r.length===0&&a.length===0)throw this.unexpected();return this.node(t,{kind:zn.ENUM_TYPE_EXTENSION,name:s,directives:r,values:a})}parseInputObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const s=this.parseName(),r=this.parseConstDirectives(),a=this.parseInputFieldsDefinition();if(r.length===0&&a.length===0)throw this.unexpected();return this.node(t,{kind:zn.INPUT_OBJECT_TYPE_EXTENSION,name:s,directives:r,fields:a})}parseDirectiveDefinition(){const t=this._lexer.token,s=this.parseDescription();this.expectKeyword("directive"),this.expectToken(Nt.AT);const r=this.parseName(),a=this.parseArgumentDefs(),u=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const d=this.parseDirectiveLocations();return this.node(t,{kind:zn.DIRECTIVE_DEFINITION,description:s,name:r,arguments:a,repeatable:u,locations:d})}parseDirectiveLocations(){return this.delimitedMany(Nt.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const t=this._lexer.token,s=this.parseName();if(Object.prototype.hasOwnProperty.call(Lb,s.value))return s;throw this.unexpected(t)}node(t,s){return this._options.noLocation!==!0&&(s.loc=new _$(t,this._lexer.lastToken,this._lexer.source)),s}peek(t){return this._lexer.token.kind===t}expectToken(t){const s=this._lexer.token;if(s.kind===t)return this.advanceLexer(),s;throw Gs(this._lexer.source,s.start,`Expected ${UD(t)}, found ${Gg(s)}.`)}expectOptionalToken(t){return this._lexer.token.kind===t?(this.advanceLexer(),!0):!1}expectKeyword(t){const s=this._lexer.token;if(s.kind===Nt.NAME&&s.value===t)this.advanceLexer();else throw Gs(this._lexer.source,s.start,`Expected "${t}", found ${Gg(s)}.`)}expectOptionalKeyword(t){const s=this._lexer.token;return s.kind===Nt.NAME&&s.value===t?(this.advanceLexer(),!0):!1}unexpected(t){const s=t??this._lexer.token;return Gs(this._lexer.source,s.start,`Unexpected ${Gg(s)}.`)}any(t,s,r){this.expectToken(t);const a=[];for(;!this.expectOptionalToken(r);)a.push(s.call(this));return a}optionalMany(t,s,r){if(this.expectOptionalToken(t)){const a=[];do a.push(s.call(this));while(!this.expectOptionalToken(r));return a}return[]}many(t,s,r){this.expectToken(t);const a=[];do a.push(s.call(this));while(!this.expectOptionalToken(r));return a}delimitedMany(t,s){this.expectOptionalToken(t);const r=[];do r.push(s.call(this));while(this.expectOptionalToken(t));return r}advanceLexer(){const{maxTokens:t}=this._options,s=this._lexer.advance();if(s.kind!==Nt.EOF&&(++this._tokenCounter,t!==void 0&&this._tokenCounter>t))throw Gs(this._lexer.source,s.start,`Document contains more that ${t} tokens. Parsing aborted.`)}};function Gg(i){const t=i.value;return UD(i.kind)+(t!=null?` "${t}"`:"")}function UD(i){return Y$(i)?`"${i}"`:i}function dY(i){return`"${i.replace(fY,pY)}"`}const fY=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function pY(i){return gY[i.charCodeAt(0)]}const gY=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],mY=Object.freeze({});function yY(i,t,s=zD){const r=new Map;for(const T of Object.values(zn))r.set(T,xY(t,T));let a,u=Array.isArray(i),d=[i],p=-1,m=[],y=i,b,S;const M=[],A=[];do{p++;const T=p===d.length,B=T&&m.length!==0;if(T){if(b=A.length===0?void 0:M[M.length-1],y=S,S=A.pop(),B)if(u){y=y.slice();let W=0;for(const[L,U]of m){const I=L-W;U===null?(y.splice(I,1),W++):y[I]=U}}else{y={...y};for(const[W,L]of m)y[W]=L}p=a.index,d=a.keys,m=a.edits,u=a.inArray,a=a.prev}else if(S){if(b=u?p:d[p],y=S[b],y==null)continue;M.push(b)}let z;if(!Array.isArray(y)){var R,E;oM(y)||Cm(!1,`Invalid AST Node: ${hw(y)}.`);const W=T?(R=r.get(y.kind))===null||R===void 0?void 0:R.leave:(E=r.get(y.kind))===null||E===void 0?void 0:E.enter;if(z=W?.call(t,y,b,S,M,A),z===mY)break;if(z===!1){if(!T){M.pop();continue}}else if(z!==void 0&&(m.push([b,z]),!T))if(oM(z))y=z;else{M.pop();continue}}if(z===void 0&&B&&m.push([b,y]),T)M.pop();else{var _;a={inArray:u,index:p,keys:d,edits:m,prev:a},u=Array.isArray(y),d=u?y:(_=s[y.kind])!==null&&_!==void 0?_:[],p=-1,m=[],S&&A.push(S),S=y}}while(a!==void 0);return m.length!==0?m[m.length-1][1]:i}function xY(i,t){const s=i[t];return typeof s=="object"?s:typeof s=="function"?{enter:s,leave:void 0}:{enter:i.enter,leave:i.leave}}function vY(i){return yY(i,wY)}const bY=80,wY={Name:{leave:i=>i.value},Variable:{leave:i=>"$"+i.name},Document:{leave:i=>bn(i.definitions,`

`)},OperationDefinition:{leave(i){const t=ri("(",bn(i.variableDefinitions,", "),")"),s=bn([i.operation,bn([i.name,t]),bn(i.directives," ")]," ");return(s==="query"?"":s+" ")+i.selectionSet}},VariableDefinition:{leave:({variable:i,type:t,defaultValue:s,directives:r})=>i+": "+t+ri(" = ",s)+ri(" ",bn(r," "))},SelectionSet:{leave:({selections:i})=>ea(i)},Field:{leave({alias:i,name:t,arguments:s,directives:r,selectionSet:a}){const u=ri("",i,": ")+t;let d=u+ri("(",bn(s,", "),")");return d.length>bY&&(d=u+ri(`(
`,km(bn(s,`
`)),`
)`)),bn([d,bn(r," "),a]," ")}},Argument:{leave:({name:i,value:t})=>i+": "+t},FragmentSpread:{leave:({name:i,directives:t})=>"..."+i+ri(" ",bn(t," "))},InlineFragment:{leave:({typeCondition:i,directives:t,selectionSet:s})=>bn(["...",ri("on ",i),bn(t," "),s]," ")},FragmentDefinition:{leave:({name:i,typeCondition:t,variableDefinitions:s,directives:r,selectionSet:a})=>`fragment ${i}${ri("(",bn(s,", "),")")} on ${t} ${ri("",bn(r," ")," ")}`+a},IntValue:{leave:({value:i})=>i},FloatValue:{leave:({value:i})=>i},StringValue:{leave:({value:i,block:t})=>t?W$(i):dY(i)},BooleanValue:{leave:({value:i})=>i?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:i})=>i},ListValue:{leave:({values:i})=>"["+bn(i,", ")+"]"},ObjectValue:{leave:({fields:i})=>"{"+bn(i,", ")+"}"},ObjectField:{leave:({name:i,value:t})=>i+": "+t},Directive:{leave:({name:i,arguments:t})=>"@"+i+ri("(",bn(t,", "),")")},NamedType:{leave:({name:i})=>i},ListType:{leave:({type:i})=>"["+i+"]"},NonNullType:{leave:({type:i})=>i+"!"},SchemaDefinition:{leave:({description:i,directives:t,operationTypes:s})=>ri("",i,`
`)+bn(["schema",bn(t," "),ea(s)]," ")},OperationTypeDefinition:{leave:({operation:i,type:t})=>i+": "+t},ScalarTypeDefinition:{leave:({description:i,name:t,directives:s})=>ri("",i,`
`)+bn(["scalar",t,bn(s," ")]," ")},ObjectTypeDefinition:{leave:({description:i,name:t,interfaces:s,directives:r,fields:a})=>ri("",i,`
`)+bn(["type",t,ri("implements ",bn(s," & ")),bn(r," "),ea(a)]," ")},FieldDefinition:{leave:({description:i,name:t,arguments:s,type:r,directives:a})=>ri("",i,`
`)+t+(lM(s)?ri(`(
`,km(bn(s,`
`)),`
)`):ri("(",bn(s,", "),")"))+": "+r+ri(" ",bn(a," "))},InputValueDefinition:{leave:({description:i,name:t,type:s,defaultValue:r,directives:a})=>ri("",i,`
`)+bn([t+": "+s,ri("= ",r),bn(a," ")]," ")},InterfaceTypeDefinition:{leave:({description:i,name:t,interfaces:s,directives:r,fields:a})=>ri("",i,`
`)+bn(["interface",t,ri("implements ",bn(s," & ")),bn(r," "),ea(a)]," ")},UnionTypeDefinition:{leave:({description:i,name:t,directives:s,types:r})=>ri("",i,`
`)+bn(["union",t,bn(s," "),ri("= ",bn(r," | "))]," ")},EnumTypeDefinition:{leave:({description:i,name:t,directives:s,values:r})=>ri("",i,`
`)+bn(["enum",t,bn(s," "),ea(r)]," ")},EnumValueDefinition:{leave:({description:i,name:t,directives:s})=>ri("",i,`
`)+bn([t,bn(s," ")]," ")},InputObjectTypeDefinition:{leave:({description:i,name:t,directives:s,fields:r})=>ri("",i,`
`)+bn(["input",t,bn(s," "),ea(r)]," ")},DirectiveDefinition:{leave:({description:i,name:t,arguments:s,repeatable:r,locations:a})=>ri("",i,`
`)+"directive @"+t+(lM(s)?ri(`(
`,km(bn(s,`
`)),`
)`):ri("(",bn(s,", "),")"))+(r?" repeatable":"")+" on "+bn(a," | ")},SchemaExtension:{leave:({directives:i,operationTypes:t})=>bn(["extend schema",bn(i," "),ea(t)]," ")},ScalarTypeExtension:{leave:({name:i,directives:t})=>bn(["extend scalar",i,bn(t," ")]," ")},ObjectTypeExtension:{leave:({name:i,interfaces:t,directives:s,fields:r})=>bn(["extend type",i,ri("implements ",bn(t," & ")),bn(s," "),ea(r)]," ")},InterfaceTypeExtension:{leave:({name:i,interfaces:t,directives:s,fields:r})=>bn(["extend interface",i,ri("implements ",bn(t," & ")),bn(s," "),ea(r)]," ")},UnionTypeExtension:{leave:({name:i,directives:t,types:s})=>bn(["extend union",i,bn(t," "),ri("= ",bn(s," | "))]," ")},EnumTypeExtension:{leave:({name:i,directives:t,values:s})=>bn(["extend enum",i,bn(t," "),ea(s)]," ")},InputObjectTypeExtension:{leave:({name:i,directives:t,fields:s})=>bn(["extend input",i,bn(t," "),ea(s)]," ")}};function bn(i,t=""){var s;return(s=i?.filter(r=>r).join(t))!==null&&s!==void 0?s:""}function ea(i){return ri(`{
`,km(bn(i,`
`)),`
}`)}function ri(i,t,s=""){return t!=null&&t!==""?i+t+s:""}function km(i){return ri("  ",i.replace(/\n/g,`
  `))}function lM(i){var t;return(t=i?.some(s=>s.includes(`
`)))!==null&&t!==void 0?t:!1}const cM=i=>{let t;const s=i.definitions.filter(r=>r.kind==="OperationDefinition");return s.length===1&&(t=s[0]?.name?.value),t},yv=i=>{if(typeof i=="string"){let s;try{const r=uY(i);s=cM(r)}catch{}return{query:i,operationName:s}}const t=cM(i);return{query:vY(i),operationName:t}};class If extends Error{constructor(t,s){const r=`${If.extractMessage(t)}: ${JSON.stringify({response:t,request:s})}`;super(r),Object.setPrototypeOf(this,If.prototype),this.response=t,this.request=s,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,If)}static extractMessage(t){return t.errors?.[0]?.message??`GraphQL Error (Code: ${t.status})`}}var qg={exports:{}},uM;function SY(){return uM||(uM=1,function(i,t){var s=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof globalThis<"u"&&globalThis,r=function(){function u(){this.fetch=!1,this.DOMException=s.DOMException}return u.prototype=s,new u}();(function(u){(function(d){var p=typeof u<"u"&&u||typeof self<"u"&&self||typeof u<"u"&&u||{},m={searchParams:"URLSearchParams"in p,iterable:"Symbol"in p&&"iterator"in Symbol,blob:"FileReader"in p&&"Blob"in p&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in p,arrayBuffer:"ArrayBuffer"in p};function y(ie){return ie&&DataView.prototype.isPrototypeOf(ie)}if(m.arrayBuffer)var b=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],S=ArrayBuffer.isView||function(ie){return ie&&b.indexOf(Object.prototype.toString.call(ie))>-1};function M(ie){if(typeof ie!="string"&&(ie=String(ie)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(ie)||ie==="")throw new TypeError('Invalid character in header field name: "'+ie+'"');return ie.toLowerCase()}function A(ie){return typeof ie!="string"&&(ie=String(ie)),ie}function R(ie){var he={next:function(){var pe=ie.shift();return{done:pe===void 0,value:pe}}};return m.iterable&&(he[Symbol.iterator]=function(){return he}),he}function E(ie){this.map={},ie instanceof E?ie.forEach(function(he,pe){this.append(pe,he)},this):Array.isArray(ie)?ie.forEach(function(he){if(he.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+he.length);this.append(he[0],he[1])},this):ie&&Object.getOwnPropertyNames(ie).forEach(function(he){this.append(he,ie[he])},this)}E.prototype.append=function(ie,he){ie=M(ie),he=A(he);var pe=this.map[ie];this.map[ie]=pe?pe+", "+he:he},E.prototype.delete=function(ie){delete this.map[M(ie)]},E.prototype.get=function(ie){return ie=M(ie),this.has(ie)?this.map[ie]:null},E.prototype.has=function(ie){return this.map.hasOwnProperty(M(ie))},E.prototype.set=function(ie,he){this.map[M(ie)]=A(he)},E.prototype.forEach=function(ie,he){for(var pe in this.map)this.map.hasOwnProperty(pe)&&ie.call(he,this.map[pe],pe,this)},E.prototype.keys=function(){var ie=[];return this.forEach(function(he,pe){ie.push(pe)}),R(ie)},E.prototype.values=function(){var ie=[];return this.forEach(function(he){ie.push(he)}),R(ie)},E.prototype.entries=function(){var ie=[];return this.forEach(function(he,pe){ie.push([pe,he])}),R(ie)},m.iterable&&(E.prototype[Symbol.iterator]=E.prototype.entries);function _(ie){if(!ie._noBody){if(ie.bodyUsed)return Promise.reject(new TypeError("Already read"));ie.bodyUsed=!0}}function T(ie){return new Promise(function(he,pe){ie.onload=function(){he(ie.result)},ie.onerror=function(){pe(ie.error)}})}function B(ie){var he=new FileReader,pe=T(he);return he.readAsArrayBuffer(ie),pe}function z(ie){var he=new FileReader,pe=T(he),de=/charset=([A-Za-z0-9_-]+)/.exec(ie.type),xe=de?de[1]:"utf-8";return he.readAsText(ie,xe),pe}function W(ie){for(var he=new Uint8Array(ie),pe=new Array(he.length),de=0;de<he.length;de++)pe[de]=String.fromCharCode(he[de]);return pe.join("")}function L(ie){if(ie.slice)return ie.slice(0);var he=new Uint8Array(ie.byteLength);return he.set(new Uint8Array(ie)),he.buffer}function U(){return this.bodyUsed=!1,this._initBody=function(ie){this.bodyUsed=this.bodyUsed,this._bodyInit=ie,ie?typeof ie=="string"?this._bodyText=ie:m.blob&&Blob.prototype.isPrototypeOf(ie)?this._bodyBlob=ie:m.formData&&FormData.prototype.isPrototypeOf(ie)?this._bodyFormData=ie:m.searchParams&&URLSearchParams.prototype.isPrototypeOf(ie)?this._bodyText=ie.toString():m.arrayBuffer&&m.blob&&y(ie)?(this._bodyArrayBuffer=L(ie.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):m.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(ie)||S(ie))?this._bodyArrayBuffer=L(ie):this._bodyText=ie=Object.prototype.toString.call(ie):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof ie=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(ie)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob&&(this.blob=function(){var ie=_(this);if(ie)return ie;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var ie=_(this);return ie||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(m.blob)return this.blob().then(B);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var ie=_(this);if(ie)return ie;if(this._bodyBlob)return z(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(W(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(te)}),this.json=function(){return this.text().then(JSON.parse)},this}var I=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function q(ie){var he=ie.toUpperCase();return I.indexOf(he)>-1?he:ie}function ee(ie,he){if(!(this instanceof ee))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');he=he||{};var pe=he.body;if(ie instanceof ee){if(ie.bodyUsed)throw new TypeError("Already read");this.url=ie.url,this.credentials=ie.credentials,he.headers||(this.headers=new E(ie.headers)),this.method=ie.method,this.mode=ie.mode,this.signal=ie.signal,!pe&&ie._bodyInit!=null&&(pe=ie._bodyInit,ie.bodyUsed=!0)}else this.url=String(ie);if(this.credentials=he.credentials||this.credentials||"same-origin",(he.headers||!this.headers)&&(this.headers=new E(he.headers)),this.method=q(he.method||this.method||"GET"),this.mode=he.mode||this.mode||null,this.signal=he.signal||this.signal||function(){if("AbortController"in p){var Se=new AbortController;return Se.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&pe)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(pe),(this.method==="GET"||this.method==="HEAD")&&(he.cache==="no-store"||he.cache==="no-cache")){var de=/([?&])_=[^&]*/;if(de.test(this.url))this.url=this.url.replace(de,"$1_="+new Date().getTime());else{var xe=/\?/;this.url+=(xe.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}ee.prototype.clone=function(){return new ee(this,{body:this._bodyInit})};function te(ie){var he=new FormData;return ie.trim().split("&").forEach(function(pe){if(pe){var de=pe.split("="),xe=de.shift().replace(/\+/g," "),Se=de.join("=").replace(/\+/g," ");he.append(decodeURIComponent(xe),decodeURIComponent(Se))}}),he}function ce(ie){var he=new E,pe=ie.replace(/\r?\n[\t ]+/g," ");return pe.split("\r").map(function(de){return de.indexOf(`
`)===0?de.substr(1,de.length):de}).forEach(function(de){var xe=de.split(":"),Se=xe.shift().trim();if(Se){var be=xe.join(":").trim();try{he.append(Se,be)}catch(Ne){console.warn("Response "+Ne.message)}}}),he}U.call(ee.prototype);function re(ie,he){if(!(this instanceof re))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(he||(he={}),this.type="default",this.status=he.status===void 0?200:he.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=he.statusText===void 0?"":""+he.statusText,this.headers=new E(he.headers),this.url=he.url||"",this._initBody(ie)}U.call(re.prototype),re.prototype.clone=function(){return new re(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new E(this.headers),url:this.url})},re.error=function(){var ie=new re(null,{status:200,statusText:""});return ie.ok=!1,ie.status=0,ie.type="error",ie};var ae=[301,302,303,307,308];re.redirect=function(ie,he){if(ae.indexOf(he)===-1)throw new RangeError("Invalid status code");return new re(null,{status:he,headers:{location:ie}})},d.DOMException=p.DOMException;try{new d.DOMException}catch{d.DOMException=function(he,pe){this.message=he,this.name=pe;var de=Error(he);this.stack=de.stack},d.DOMException.prototype=Object.create(Error.prototype),d.DOMException.prototype.constructor=d.DOMException}function ue(ie,he){return new Promise(function(pe,de){var xe=new ee(ie,he);if(xe.signal&&xe.signal.aborted)return de(new d.DOMException("Aborted","AbortError"));var Se=new XMLHttpRequest;function be(){Se.abort()}Se.onload=function(){var Me={statusText:Se.statusText,headers:ce(Se.getAllResponseHeaders()||"")};xe.url.indexOf("file://")===0&&(Se.status<200||Se.status>599)?Me.status=200:Me.status=Se.status,Me.url="responseURL"in Se?Se.responseURL:Me.headers.get("X-Request-URL");var qe="response"in Se?Se.response:Se.responseText;setTimeout(function(){pe(new re(qe,Me))},0)},Se.onerror=function(){setTimeout(function(){de(new TypeError("Network request failed"))},0)},Se.ontimeout=function(){setTimeout(function(){de(new TypeError("Network request timed out"))},0)},Se.onabort=function(){setTimeout(function(){de(new d.DOMException("Aborted","AbortError"))},0)};function Ne(Me){try{return Me===""&&p.location.href?p.location.href:Me}catch{return Me}}if(Se.open(xe.method,Ne(xe.url),!0),xe.credentials==="include"?Se.withCredentials=!0:xe.credentials==="omit"&&(Se.withCredentials=!1),"responseType"in Se&&(m.blob?Se.responseType="blob":m.arrayBuffer&&(Se.responseType="arraybuffer")),he&&typeof he.headers=="object"&&!(he.headers instanceof E||p.Headers&&he.headers instanceof p.Headers)){var _e=[];Object.getOwnPropertyNames(he.headers).forEach(function(Me){_e.push(M(Me)),Se.setRequestHeader(Me,A(he.headers[Me]))}),xe.headers.forEach(function(Me,qe){_e.indexOf(qe)===-1&&Se.setRequestHeader(qe,Me)})}else xe.headers.forEach(function(Me,qe){Se.setRequestHeader(qe,Me)});xe.signal&&(xe.signal.addEventListener("abort",be),Se.onreadystatechange=function(){Se.readyState===4&&xe.signal.removeEventListener("abort",be)}),Se.send(typeof xe._bodyInit>"u"?null:xe._bodyInit)})}return ue.polyfill=!0,p.fetch||(p.fetch=ue,p.Headers=E,p.Request=ee,p.Response=re),d.Headers=E,d.Request=ee,d.Response=re,d.fetch=ue,Object.defineProperty(d,"__esModule",{value:!0}),d})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var a=s.fetch?s:r;t=a.fetch,t.default=a.fetch,t.fetch=a.fetch,t.Headers=a.Headers,t.Request=a.Request,t.Response=a.Response,i.exports=t}(qg,qg.exports)),qg.exports}var t0=SY();const Pm=Qn(t0),CY=PA({__proto__:null,default:Pm},[t0]),Xu=i=>{let t={};return i&&(typeof Headers<"u"&&i instanceof Headers||CY&&t0.Headers&&i instanceof t0.Headers?t=D$(i):Array.isArray(i)?i.forEach(([s,r])=>{s&&r!==void 0&&(t[s]=r)}):t=i),t},hM=i=>i.replace(/([\s,]|#[^\n\r]+)+/g," ").trim(),kY=i=>{if(!Array.isArray(i.query)){const r=i,a=[`query=${encodeURIComponent(hM(r.query))}`];return i.variables&&a.push(`variables=${encodeURIComponent(r.jsonSerializer.stringify(r.variables))}`),r.operationName&&a.push(`operationName=${encodeURIComponent(r.operationName)}`),a.join("&")}if(typeof i.variables<"u"&&!Array.isArray(i.variables))throw new Error("Cannot create query with given variable type, array expected");const t=i,s=i.query.reduce((r,a,u)=>(r.push({query:hM(a),variables:t.variables?t.jsonSerializer.stringify(t.variables[u]):void 0}),r),[]);return`query=${encodeURIComponent(t.jsonSerializer.stringify(s))}`},PY=i=>async t=>{const{url:s,query:r,variables:a,operationName:u,fetch:d,fetchOptions:p,middleware:m}=t,y={...t.headers};let b="",S;i==="POST"?(S=TY(r,a,u,p.jsonSerializer),typeof S=="string"&&(y["Content-Type"]="application/json")):b=kY({query:r,variables:a,operationName:u,jsonSerializer:p.jsonSerializer??cw});const M={method:i,headers:y,body:S,...p};let A=s,R=M;if(m){const E=await Promise.resolve(m({...M,url:s,operationName:u,variables:a})),{url:_,...T}=E;A=_,R=T}return b&&(A=`${A}?${b}`),await d(A,R)};class MY{constructor(t,s={}){this.url=t,this.requestConfig=s,this.rawRequest=async(...r)=>{const[a,u,d]=r,p=N$(a,u,d),{headers:m,fetch:y=Pm,method:b="POST",requestMiddleware:S,responseMiddleware:M,...A}=this.requestConfig,{url:R}=this;p.signal!==void 0&&(A.signal=p.signal);const{operationName:E}=yv(p.query);return xv({url:R,query:p.query,variables:p.variables,headers:{...Xu(vv(m)),...Xu(p.requestHeaders)},operationName:E,fetch:y,method:b,fetchOptions:A,middleware:S}).then(_=>(M&&M(_),_)).catch(_=>{throw M&&M(_),_})}}async request(t,...s){const[r,a]=s,u=E$(t,r,a),{headers:d,fetch:p=Pm,method:m="POST",requestMiddleware:y,responseMiddleware:b,...S}=this.requestConfig,{url:M}=this;u.signal!==void 0&&(S.signal=u.signal);const{query:A,operationName:R}=yv(u.document);return xv({url:M,query:A,variables:u.variables,headers:{...Xu(vv(d)),...Xu(u.requestHeaders)},operationName:R,fetch:p,method:m,fetchOptions:S,middleware:y}).then(E=>(b&&b(E),E.data)).catch(E=>{throw b&&b(E),E})}batchRequests(t,s){const r=R$(t,s),{headers:a,...u}=this.requestConfig;r.signal!==void 0&&(u.signal=r.signal);const d=r.documents.map(({document:m})=>yv(m).query),p=r.documents.map(({variables:m})=>m);return xv({url:this.url,query:d,variables:p,headers:{...Xu(vv(a)),...Xu(r.requestHeaders)},operationName:void 0,fetch:this.requestConfig.fetch??Pm,method:this.requestConfig.method||"POST",fetchOptions:u,middleware:this.requestConfig.requestMiddleware}).then(m=>(this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(m),m.data)).catch(m=>{throw this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(m),m})}setHeaders(t){return this.requestConfig.headers=t,this}setHeader(t,s){const{headers:r}=this.requestConfig;return r?r[t]=s:this.requestConfig.headers={[t]:s},this}setEndpoint(t){return this.url=t,this}}const xv=async i=>{const{query:t,variables:s,fetchOptions:r}=i,a=PY(A$(i.method??"post")),u=Array.isArray(i.query),d=await a(i),p=await AY(d,r.jsonSerializer??cw),m=Array.isArray(p)?!p.some(({data:b})=>!b):!!p.data,y=Array.isArray(p)||!p.errors||Array.isArray(p.errors)&&!p.errors.length||r.errorPolicy==="all"||r.errorPolicy==="ignore";if(d.ok&&y&&m){const{errors:b,...S}=(Array.isArray(p),p),M=r.errorPolicy==="ignore"?S:p;return{...u?{data:M}:M,headers:d.headers,status:d.status}}else{const b=typeof p=="string"?{error:p}:p;throw new If({...b,status:d.status,headers:d.headers},{query:t,variables:s})}},TY=(i,t,s,r)=>{const a=r??cw;if(!Array.isArray(i))return a.stringify({query:i,variables:t,operationName:s});if(typeof t<"u"&&!Array.isArray(t))throw new Error("Cannot create request body with given variable type, array expected");const u=i.reduce((d,p,m)=>(d.push({query:p,variables:t?t[m]:void 0}),d),[]);return a.stringify(u)},AY=async(i,t)=>{let s;return i.headers.forEach((r,a)=>{a.toLowerCase()==="content-type"&&(s=r)}),s&&(s.toLowerCase().startsWith("application/json")||s.toLowerCase().startsWith("application/graphql+json")||s.toLowerCase().startsWith("application/graphql-response+json"))?t.parse(await i.text()):i.text()},vv=i=>typeof i=="function"?i():i,Rn=(i,...t)=>i.reduce((s,r,a)=>`${s}${r}${a in t?String(t[a]):""}`,""),DY="http:",XD=window.location.hostname.endsWith("switchology.in"),Ib=XD?"https://"+window.location.hostname:window.location.protocol+"//"+window.location.hostname;console.log(Ib,XD);const Hn={gatewayName:"",appProtocol:DY,accessURL:window.location.hostname,appBaseUrl:Ib,hasuraUrl:`${Ib}/query/graphql`,hasuraAdminSecret:"6f3d2f40d7e4db48e31780d7cf3e33f1e9e7cd34832cdd2abac91b9f934a2485",orgName:"",buildingName:"",address:"",formatDates:i=>new Date(i).toLocaleString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(",",""),formatDatesInTariff:i=>{if(!i)return"Invalid Date";const t=new Date(i);if(isNaN(t.getTime()))return console.error("Invalid date string:",i),"Invalid Date";try{return new Intl.DateTimeFormat("en-IN",{timeZone:"Asia/Kolkata",day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).format(t).replace(/\s*,\s*/," ")}catch(s){return console.error("Date formatting failed:",s),"Format Error"}},formatDateInReport:i=>i?`${i.getDate().toString().padStart(2,"0")}/${(i.getMonth()+1).toString().padStart(2,"0")}/${i.getFullYear()}`:"",gatewayToken:async function(){try{let i=localStorage.getItem("accessToken"),t=localStorage.getItem("refreshToken");if(!i){const s=await ji.post(`${this.appBaseUrl}/v2/api/login`,{username:"Switchology_Gateway",password:"Switchology_passcode"});i=s.data.accessToken,t=s.data.refreshToken,localStorage.setItem("accessToken",i),localStorage.setItem("refreshToken",t)}return console.log(Hn.appBaseUrl),i}catch(i){if(i.response&&i.response.status===403)try{let t=localStorage.getItem("refreshToken");const r=(await ji.post(`${this.appBaseUrl}/v2/token`,{token:t})).data.accessToken;localStorage.setItem("accessToken",r);const a=await ji.post(`${this.appBaseUrl}/v2/api/login`,{username:"Switchology_Gateway",password:"Switchology_passcode"}),u=a.data.accessToken,d=a.data.refreshToken;return localStorage.setItem("accessToken",u),localStorage.setItem("refreshToken",d),u}catch(t){return console.error("Failed to refresh token:",t),t}else return console.error("Failed to fetch data for gatewayToken:",i),i}}},Jn=new MY(Hn.appBaseUrl+"/query/graphql",{headers:{"Content-Type":"application/json"},timeout:1e4,credentials:"omit",mode:"cors"});console.log("appBaseUrl",Hn.appBaseUrl);const EY=Rn`
mutation CreateProfile($input: CreateProfileInput!) {
  createProfile(input: $input) {
    profile {
      email
      gatewayName
      name
      orgname
      adminPassword
      viewerPassword
      userid
      buildingName
      address
    }
  }
}
`,NY=Rn`
  mutation CreateReportdatum($input: CreateReportdatumInput!) {
    createReportdatum(input: $input) {
      reportdatum {
        firstMeter
        tariff
        bescomBill
      }
    }
  }
`;Rn`
  mutation CreateAuth($input: CreateAuthInput!) {
    createAuth(input: $input) {
      auth {
        authVerified
      }
    }
  }
`;const Gc=Rn`
query GetProfiles {
  allProfiles {
    nodes {
      nodeId
      createTime
      email
      gatewayName
      orgname
      name
      adminPassword
      viewerPassword
      userid
      buildingName
      address
    }
  }
}
`,RY=Rn`
mutation CreateMeterConfigration($input: CreateMeterConfigrationInput!) {
  createMeterConfigration(input: $input) {
    meterConfigration {
      con
      label
      device
      meterName
      meterModel
      meterNo
      meterType
      meterMake
      interval
    }
  }
}
`,LY=Rn`
mutation UpdateMeterConfigration($input: UpdateMeterConfigrationInput!) {
  updateMeterConfigration(input: $input) {
    meterConfigration {
      con
      label
      device
      meterName
      meterModel
      meterNo
      meterType
      meterMake
      interval
    }
  }
}
`,OY=Rn`
  mutation DeleteMeterById($input: DeleteMeterConfigrationByIdInput!) {
    deleteMeterConfigrationById(input: $input) {
      meterConfigration {
        id
        meterNo
      }
    }
  }
`,dw=Rn`
query GetMeterConfigurations {
  allMeterConfigrations(orderBy: METER_NO_ASC) {
    nodes {
      id
      meterNo
      label
      meterMake
      meterModel
      meterName
      meterType
      interval
      con
      device
    }
  }
}
`,IY=Rn`
  mutation UpdateMeterConfigrationById($input: UpdateMeterConfigrationByIdInput!) {
    updateMeterConfigrationById(input: $input) {
      meterConfigration {
        id
        interval
      }
    }
  }
`,GD=Rn`
mutation UpdateProfile($input: UpdateProfileInput!) {
  updateProfile(input: $input) {
    profile {
      userid
      adminPassword
      viewerPassword
      email
      gatewayName
      name
      orgname
      buildingName
      address
    }
  }
}
`,FY=Rn`
mutation UpdateProfileByUserid($input: UpdateProfileByUseridInput!) {
  updateProfileByUserid(input: $input) {
    profile {
      userid
      adminPassword
      viewerPassword
      email
      gatewayName
      name
      orgname
      buildingName
      address
    }
  }
}
`;Rn`
mutation UpdatePassword($input: UpdatePasswordInput!) {
  updatePassword(input: $input) {
    profile {
      adminPassword
      viewerPassword
    }
  }
}
`;Rn`
  mutation UpdateForgotPassword($input: UpdateForgotPasswordInput!) {
    updateForgotPassword(input: $input) {
      profile {
        createTime
        email
        orgname
        name
        gatewayName
        adminPassword
        viewerPassword
        userid
      }
    }
  }
`;Rn`
  query GetRelayStatus {
    relayStatuses(orderBy: CREATED_AT_DESC, first: 1) {
      id
      ipStatus1
      ipStatus2
      ipStatus3
      ipStatus4
      ipStatus5
      ipStatus6
      ipStatus7
      ipStatus8
      opStatus1
      opStatus2
      opStatus3
      opStatus4
      opStatus5
      opStatus6
      opStatus7
      opStatus8
      createdAt
    }
  }
`;Rn`
  mutation ResetPassword($input: ResetPasswordInput!) {
    resetPassword(input: $input) {
      success
      message
    }
  }
`;Rn`
  query GetAuth {
    allAuths {
      nodes {
        authVerified
      }
    }
  }
`;const jY=Rn`
  query GetAllReportData {
    allReportdata {
      nodes {
        id
        firstMeter
        tariff
        bescomBill
        createdAt
        ebPresent
        ebPrevious
        dgPresent
        dgPrevious
        updatedAt
      }
    }
  }
`,_Y=Rn`
  mutation CreateGeneratedJsonData($input: CreateGeneratedJsonDatumInput!) {
    createGeneratedJsonDatum(input: $input) {
      generatedJsonDatum {
        jsonData
        dateAndTime
        meterId
      }
    }
  }
`,zY=Rn`
  mutation UpdateGeneratedJsonDatum($input: UpdateGeneratedJsonDatumInput!) {
    updateGeneratedJsonDatum(input: $input) {
      generatedJsonDatum {
        id
        meterId
        jsonData
        dateAndTime
      }
    }
  }
`,BY=Rn`
  query GetAllGeneratedJsonData {
    allGeneratedJsonData {
      nodes {
        id
        nodeId
        meterId
        jsonData
        dateAndTime
      }
    }
  }
`;Rn`
  query GetGeneratedJsonData($nodeId: ID!) {
    generatedJsonDatum(nodeId: $nodeId) {
      dateAndTime
      jsonData
      meterId
    }
  }
`;Rn`
  mutation DeleteGeneratedJsonData($input: DeleteGeneratedJsonDataInput!) {
    deleteGeneratedJsonData(input: $input) {
      generatedJsonDatum {
        meterId
      }
    }
  }
`;const VY=Rn`
  mutation UpdateReportdatumById($input: UpdateReportdatumByIdInput!) {
    updateReportdatumById(input: $input) {
      reportdatum {
        firstMeter
        tariff
        bescomBill
        updatedAt
      }
    }
  }
`,HY=Rn`
  mutation DeleteReportdatumById($input: DeleteReportdatumByIdInput!) {
    deleteReportdatumById(input: $input) {
      reportdatum {
        firstMeter
        tariff
        bescomBill
        updatedAt
      }
    }
  }
`,WY=Rn`
  mutation CreateTariff($input: CreateTariffInput!) {
    createTariff(input: $input) {
      tariff {
        tariffName
        demandChargesRsKva
        energyChargesRsKwh
        fuelCostAdjRsKwh
        interestOnRevenue
        interestOnTax
        percentOfCdKva
        taxPercent
        createdDate
        updatedDate
        id
      }
    }
  }
`,$Y=Rn`
  query GetTariffs {
    allTariffs(orderBy: CREATED_DATE_DESC) {
      nodes {
        id
        tariffName
        percentOfCdKva
        demandChargesRsKva
        energyChargesRsKwh
        fuelCostAdjRsKwh
        interestOnRevenue
        interestOnTax
        taxPercent
        createdDate
        updatedDate
      }
    }
  }
`,YY=Rn`
  mutation UpdateTariffById($input: UpdateTariffByIdInput!) {
    updateTariffById(input: $input) {
      tariff {
        id
        tariffName
      }
    }
  }
`,UY=Rn`
  mutation DeleteTariffById($input: DeleteTariffByIdInput!) {
    deleteTariffById(input: $input) {
      tariff {
        id
      }
    }
  }
`;Rn`
  query GetDevices {
    devices(orderBy: CREATED_AT_ASC) {
      id
      name
      relayNumber
      inputRelayNumber
      configJson
      createdAt
      updatedAt
    }
  }
`;Rn`
  query GetAllDevices {
    devices(orderBy: CREATED_AT_ASC) {
      id
      name
      relayNumber
      inputRelayNumber
      configJson
      createdAt
      updatedAt
    }
  }
`;Rn`
  mutation CreateDevice($input: CreateDeviceInput!) {
    createDevice(input: $input) {
      device {
        id
        name
        relayNumber
        inputRelayNumber
      }
    }
  }
`;Rn`
  mutation UpdateDevice($input: UpdateDeviceInput!) {
    updateDevice(input: $input) {
      device {
        id
        name
        relayNumber
        inputRelayNumber
        configJson
        updatedAt
      }
    }
  }
`;Rn`
  mutation DeleteDevice($input: DeleteDeviceInput!) {
    deleteDevice(input: $input) {
      device {
        id
      }
    }
  }
`;Rn`
  mutation DeleteAllDevices($input: DeleteAllDevicesInput!) {
    deleteAllDevices(input: $input) {
      devices {
        id
      }
    }
  }
`;Rn`
  query GetAutomationRules {
    automationRules(orderBy: CREATED_AT_ASC) {
      id
      name
      triggerType
      triggerDeviceId
      triggerDeviceLabel
      conditionOperator
      conditionValue
      conditionUnit
      actionType
      actionDeviceId
      actionDeviceLabel
      isEnabled
      updatedAt
    }
  }
`;Rn`
  mutation CreateAutomationRule($input: CreateAutomationRuleInput!) {
    createAutomationRule(input: $input) {
      automationRule {
        id
      }
    }
  }
`;Rn`
  mutation UpdateAutomationRule($input: UpdateAutomationRuleInput!) {
    updateAutomationRule(input: $input) {
      automationRule {
        id
      }
    }
  }
`;Rn`
  mutation DeleteAutomationRule($input: DeleteAutomationRuleInput!) {
    deleteAutomationRule(input: $input) {
      automationRule {
        id
      }
    }
  }
`;Rn`
  query GetSchedules {
    schedules(orderBy: CREATED_AT_ASC) {
      id
      deviceId
      deviceNameLabel
      action
      time
      frequency
      customDays
      isEnabled
      createdAt
      updatedAt
    }
  }
`;Rn`
  mutation CreateSchedule($input: CreateScheduleInput!) {
    createSchedule(input: $input) {
      schedule {
        id
      }
    }
  }
`;Rn`
  mutation UpdateSchedule($input: UpdateScheduleInput!) {
    updateSchedule(input: $input) {
      schedule {
        id
      }
    }
  }
`;Rn`
  mutation DeleteSchedule($input: DeleteScheduleInput!) {
    deleteSchedule(input: $input) {
      schedule {
        id
      }
    }
  }
`;const XY=Rn`
  mutation CreateActivityLog($input: CreateActivityLogInput!) {
    createActivityLog(input: $input) {
      activityLog {
        id
      }
    }
  }
`;Rn`
  query GetActivityLog {
    activityLogs(orderBy: TIMESTAMP_DESC, first: 100) {
      id
      timestamp
      source
      itemType
      itemId
      itemName
      action
      details
      userId
    }
  }
`;const Mm="default_scada_diagram",qD=Rn`
  query GetSingleScadaDiagramModel {
    allScadaDiagrams {
      nodes {
        id
        nodeId  # Add this field if available
        name
        description
        diagramModelJson
        createdAt
        updatedAt
      }
    }
  }
`,GY=Rn`
  mutation CreateScadaDiagram($input: CreateScadaDiagramInput!) {
    createScadaDiagram(input: $input) {
      scadaDiagram {
        id
        name
        description
        diagramModelJson
        createdAt
        updatedAt
      }
    }
  }
`,qY=Rn`
  mutation UpdateSingleScadaDiagram($input: UpdateScadaDiagramInput!) {
    updateScadaDiagram(input: $input) {
      scadaDiagram {
        id
        name
        description
        diagramModelJson
        createdAt
        updatedAt
      }
    }
  }
`;Rn`
  mutation DeleteSingleScadaDiagram($input: DeleteScadaDiagramInput!) {
    deleteScadaDiagram(input: $input) {
      scadaDiagram {
        id
      }
    }
  }
`;const KY=Rn`
  mutation DeleteScadaDiagramById($input: DeleteScadaDiagramByIdInput!) {
    deleteScadaDiagramById(input: $input) {
      scadaDiagram {
        id
      }
    }
  }
`,ZY=Rn`
  mutation CreateKpi($input: CreateKpiInput!) {
    createKpi(input: $input) {
      kpi {
        units
        uid
        values
        parameters
        createdDate
        updatedDate
        added
        combineId
      }
    }
  }
`,JY=Rn`
  query GetKpiData {
    allKpis(orderBy: CREATED_DATE_DESC) {
      nodes {
        uid
        values
        parameters
        units
        createdDate
        updatedDate
        added
        combineId
      }
    }
  }
`;Rn`
  mutation DeleteKpi($input: DeleteKpiInput!) {
    deleteKpi(input: $input) {
      kpi {
        uid
        parameters
        values
        added
      }
    }
  }
`;const KD=Rn`
  mutation DeleteKpiByUid($input: DeleteKpiByUidInput!) {
    deleteKpiByUid(input: $input) {
      kpi {
        uid
        parameters
        values
        added
      }
    }
  }
`,QY=Rn`
  query GetGateways {
    allGatewaystatuses {
      nodes {
        id
        gatewayName
        gatewayLock
        gatewayType
        lastUpdated
        subscriptionStart
        subscriptionEnd
        subscriptionIsActive
      }
    }
  }
`,e3=Rn`
  mutation UpdateGateway($input: UpdateGatewaystatusByIdInput!) {
    updateGatewaystatusById(input: $input) {
      gatewaystatus {
        id
        gatewayName
        gatewayLock
        gatewayType
        lastUpdated
        subscriptionStart
        subscriptionEnd
        subscriptionIsActive
      }
    }
  }
`,Pc=({label:i,name:t,value:s="",onChange:r,error:a,helperText:u,required:d,length:p=4,onComplete:m})=>{const[y,b]=X.useState(!1),S=X.useRef([]),M=X.useMemo(()=>{const T=Array(p).fill(""),B=String(s||"").slice(0,p);for(let z=0;z<B.length;z++)T[z]=B[z];return T},[s,p]),A=T=>{const B=T.join("");r?.({target:{name:t,value:B}}),B.length===p&&m&&m(B)},R=(T,B)=>{const W=T.target.value.replace(/[^0-9]/g,""),L=[...M];if(!W){L[B]="",A(L);return}L[B]=W[W.length-1],A(L),B<p-1&&S.current[B+1]?.focus()},E=(T,B)=>{if(T.key==="Backspace"&&!M[B]&&B>0){const z=[...M];z[B-1]="",A(z),S.current[B-1]?.focus(),T.preventDefault()}T.key==="ArrowLeft"&&B>0&&(S.current[B-1]?.focus(),T.preventDefault()),T.key==="ArrowRight"&&B<p-1&&(S.current[B+1]?.focus(),T.preventDefault())},_=T=>{const z=((T.clipboardData||window.clipboardData).getData("text")||"").replace(/\D/g,"").slice(0,p);if(!z)return;T.preventDefault();const W=Array(p).fill("");for(let L=0;L<z.length;L++)W[L]=z[L];A(W),S.current[Math.min(z.length,p)-1]?.focus()};return D.jsxs(nD,{error:a,required:d,sx:{width:"100%",alignItems:"center"},children:[D.jsx(tu,{direction:"row",spacing:1,justifyContent:"center",onPaste:_,sx:{width:"100%"},children:M.map((T,B)=>D.jsx(Gn,{value:T,inputRef:z=>S.current[B]=z,onChange:z=>R(z,B),onKeyDown:z=>E(z,B),type:y?"text":"password",variant:"outlined",size:"small",InputLabelProps:{shrink:!1},inputProps:{maxLength:1,inputMode:"numeric",pattern:"[0-9]*",style:{textAlign:"center",fontSize:"1.2rem"},"aria-label":`${i||"Password"} digit ${B+1}`,autoComplete:"one-time-code"},sx:{width:42,"& .MuiInputBase-input":{py:.5,textAlign:"center"},"& .MuiOutlinedInput-root":{height:40}}},B))}),u&&D.jsx(kb,{error:a,sx:{textAlign:"center"},children:u}),D.jsx(kb,{onClick:()=>b(T=>!T),"aria-label":y?"Hide password":"Show password",sx:{alignSelf:"center",cursor:"pointer",color:"primary.main",fontWeight:500},children:y?"Hide Code":"Show Code"})]})},t3={},dM=i=>{let t;const s=new Set,r=(b,S)=>{const M=typeof b=="function"?b(t):b;if(!Object.is(M,t)){const A=t;t=S??(typeof M!="object"||M===null)?M:Object.assign({},t,M),s.forEach(R=>R(t,A))}},a=()=>t,m={setState:r,getState:a,getInitialState:()=>y,subscribe:b=>(s.add(b),()=>s.delete(b)),destroy:()=>{(t3?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},y=t=i(r,a,m);return m},n3=i=>i?dM(i):dM;var bv={exports:{}},wv={},Sv={exports:{}},Cv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fM;function i3(){if(fM)return Cv;fM=1;var i=Gl();function t(S,M){return S===M&&(S!==0||1/S===1/M)||S!==S&&M!==M}var s=typeof Object.is=="function"?Object.is:t,r=i.useState,a=i.useEffect,u=i.useLayoutEffect,d=i.useDebugValue;function p(S,M){var A=M(),R=r({inst:{value:A,getSnapshot:M}}),E=R[0].inst,_=R[1];return u(function(){E.value=A,E.getSnapshot=M,m(E)&&_({inst:E})},[S,A,M]),a(function(){return m(E)&&_({inst:E}),S(function(){m(E)&&_({inst:E})})},[S]),d(A),A}function m(S){var M=S.getSnapshot;S=S.value;try{var A=M();return!s(S,A)}catch{return!0}}function y(S,M){return M()}var b=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?y:p;return Cv.useSyncExternalStore=i.useSyncExternalStore!==void 0?i.useSyncExternalStore:b,Cv}var pM;function s3(){return pM||(pM=1,Sv.exports=i3()),Sv.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gM;function r3(){if(gM)return wv;gM=1;var i=Gl(),t=s3();function s(y,b){return y===b&&(y!==0||1/y===1/b)||y!==y&&b!==b}var r=typeof Object.is=="function"?Object.is:s,a=t.useSyncExternalStore,u=i.useRef,d=i.useEffect,p=i.useMemo,m=i.useDebugValue;return wv.useSyncExternalStoreWithSelector=function(y,b,S,M,A){var R=u(null);if(R.current===null){var E={hasValue:!1,value:null};R.current=E}else E=R.current;R=p(function(){function T(U){if(!B){if(B=!0,z=U,U=M(U),A!==void 0&&E.hasValue){var I=E.value;if(A(I,U))return W=I}return W=U}if(I=W,r(z,U))return I;var q=M(U);return A!==void 0&&A(I,q)?(z=U,I):(z=U,W=q)}var B=!1,z,W,L=S===void 0?null:S;return[function(){return T(b())},L===null?void 0:function(){return T(L())}]},[b,S,M,A]);var _=a(y,R[0],R[1]);return d(function(){E.hasValue=!0,E.value=_},[_]),m(_),_},wv}var mM;function o3(){return mM||(mM=1,bv.exports=r3()),bv.exports}var a3=o3();const l3=Qn(a3),ZD={},{useDebugValue:c3}=_n,{useSyncExternalStoreWithSelector:u3}=l3;let yM=!1;const h3=i=>i;function d3(i,t=h3,s){(ZD?"production":void 0)!=="production"&&s&&!yM&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),yM=!0);const r=u3(i.subscribe,i.getState,i.getServerState||i.getInitialState,t,s);return c3(r),r}const xM=i=>{(ZD?"production":void 0)!=="production"&&typeof i!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof i=="function"?n3(i):i,s=(r,a)=>d3(t,r,a);return Object.assign(s,t),s},nu=i=>i?xM(i):xM,Kl=nu((i,t)=>({role:null,setRole:s=>{console.log("Setting role in store:",s,"Current role:",t().role),s&&s!==t().role?(i({role:s}),console.log("Role updated in store to:",s)):s?console.log("Role unchanged, already set to:",s):console.log("Ignoring empty role value")}})),f3=({profileData:i,onChange:t,onSubmit:s,isNewProfile:r,onCheckboxChange:a})=>{const[u,d]=X.useState(!1),[p,m]=X.useState(!1),{role:y}=Kl();return X.useEffect(()=>{a&&a({resetAdmin:u,resetViewer:p})},[u,p,a]),console.log("profileDatvvdvdva=>",i,"role=>",y),D.jsxs("form",{onSubmit:s,children:[D.jsxs(Yn,{container:!0,spacing:2,children:[D.jsx(Yn,{item:!0,xs:12,sm:6,children:D.jsx(Gn,{fullWidth:!0,size:"small",label:"Gateway Name",value:i.gatewayname,disabled:!0})}),D.jsx(Yn,{item:!0,xs:12,sm:6,children:D.jsx(Gn,{fullWidth:!0,size:"small",label:"Name",name:"name",value:i.name,onChange:t,required:!0,disabled:!r&&y!=="ADMIN"})}),D.jsx(Yn,{item:!0,xs:12,sm:6,children:D.jsx(Gn,{fullWidth:!0,size:"small",label:"Building Name",name:"buildingName",value:i.buildingName,onChange:t,required:!0,disabled:!r&&y!=="ADMIN"})}),D.jsx(Yn,{item:!0,xs:12,sm:6,children:D.jsx(Gn,{fullWidth:!0,size:"small",label:"Address",name:"address",value:i.address,onChange:t,required:!0,disabled:!r&&y!=="ADMIN"})}),D.jsx(Yn,{item:!0,xs:12,sm:6,children:D.jsx(Gn,{fullWidth:!0,size:"small",label:"Email",name:"email",type:"email",value:i.email,onChange:t,required:!0,disabled:!r&&y!=="ADMIN"})}),D.jsx(Yn,{item:!0,xs:12,sm:6,children:D.jsx(Gn,{fullWidth:!0,size:"small",label:"Organization",name:"organization",value:i.organization,onChange:t,required:!0,disabled:!r&&y!=="ADMIN"})}),!r&&y==="ADMIN"&&D.jsx(D.Fragment,{children:D.jsxs(Yn,{item:!0,xs:12,children:[D.jsx(Oe,{variant:"subtitle2",sx:{fontWeight:700},children:"Password Management"}),D.jsx(Bt,{sx:{p:1.5,border:"1px solid #e0e0e0",borderRadius:1,backgroundColor:"#f8f9fa"},children:D.jsxs(Yn,{container:!0,spacing:1,children:[D.jsx(Yn,{item:!0,xs:12,children:D.jsx(bP,{control:D.jsx(Zf,{checked:u,onChange:b=>{d(b.target.checked),a&&a({resetAdmin:b.target.checked,resetViewer:p})},color:"primary",size:"small",sx:{"&.Mui-checked":{color:"#1976d2"},padding:"4px","& .MuiSvgIcon-root":{fontSize:"1.2rem"}}}),label:D.jsx(Oe,{variant:"subtitle2",sx:{fontWeight:500},children:"Reset Admin Password"}),sx:{margin:0,"& .MuiFormControlLabel-label":{py:.5}}})}),u&&D.jsx(Yn,{item:!0,xs:12,children:D.jsx(Bt,{sx:{pl:3},children:D.jsx(Pc,{label:"New Admin Password",name:"newpassword",value:i.newpassword,onChange:t,error:!!i.newpassword&&i.newpassword.length<4,helperText:i.newpassword&&i.newpassword.length<4?"Minimum 4 characters":""})})}),D.jsx(Yn,{item:!0,xs:12,children:D.jsx(bP,{control:D.jsx(Zf,{checked:p,onChange:b=>{m(b.target.checked),a&&a({resetAdmin:u,resetViewer:b.target.checked})},color:"primary",size:"small",sx:{"&.Mui-checked":{color:"#1976d2"},padding:"4px","& .MuiSvgIcon-root":{fontSize:"1.2rem"}}}),label:D.jsx(Oe,{variant:"subtitle2",sx:{fontWeight:500},children:"Reset Viewer Password"}),sx:{margin:0,"& .MuiFormControlLabel-label":{py:.5}}})}),p&&D.jsx(Yn,{item:!0,xs:12,children:D.jsx(Bt,{sx:{pl:3},children:D.jsx(Pc,{label:"New Viewer Password",name:"conformpassword",value:i.conformpassword,onChange:t,error:!!i.conformpassword&&i.conformpassword.length<4,helperText:i.conformpassword&&i.conformpassword.length<4?"Minimum 4 characters":""})})})]})})]})}),r&&D.jsxs(D.Fragment,{children:[D.jsxs(Yn,{item:!0,xs:12,children:[D.jsx(Oe,{variant:"subtitle2",gutterBottom:!0,sx:{fontWeight:500},children:"Admin Password"}),D.jsx(Pc,{label:"Admin Password",name:"adminPassword",value:i.adminPassword,onChange:t,required:!0,error:!!i.adminPassword&&i.adminPassword.length<4,helperText:i.adminPassword&&i.adminPassword.length<4?"Minimum 4 characters":""})]}),D.jsx(Yn,{item:!0,xs:12,children:D.jsx(Pc,{label:"Confirm Admin Password",name:"adminConfirmPassword",value:i.adminConfirmPassword,onChange:t,required:!0,error:!!i.adminConfirmPassword&&i.adminConfirmPassword!==i.adminPassword,helperText:i.adminConfirmPassword&&i.adminConfirmPassword!==i.adminPassword?"Passwords do not match":""})}),D.jsxs(Yn,{item:!0,xs:12,children:[D.jsx(Oe,{variant:"subtitle2",gutterBottom:!0,sx:{fontWeight:500},children:"Viewer Password"}),D.jsx(Pc,{label:"Viewer Password",name:"viewerPassword",value:i.viewerPassword,onChange:t,required:!0,error:!!i.viewerPassword&&i.viewerPassword.length<4,helperText:i.viewerPassword&&i.viewerPassword.length<4?"Minimum 4 characters":""})]}),D.jsx(Yn,{item:!0,xs:12,children:D.jsx(Pc,{label:"Confirm Viewer Password",name:"viewerConfirmPassword",value:i.viewerConfirmPassword,onChange:t,required:!0,error:!!i.viewerConfirmPassword&&i.viewerConfirmPassword!==i.viewerPassword,helperText:i.viewerConfirmPassword&&i.viewerConfirmPassword!==i.viewerPassword?"Passwords do not match":""})})]})]}),D.jsx(Bt,{sx:{display:"flex",gap:2,mt:3,justifyContent:"center"},children:D.jsx(Sn,{type:"submit",variant:"contained",size:"small",disabled:r?!i.adminPassword||!i.adminConfirmPassword||!i.viewerPassword||!i.viewerConfirmPassword||i.adminPassword!==i.adminConfirmPassword||i.viewerPassword!==i.viewerConfirmPassword||i.adminPassword.length<4||i.viewerPassword.length<4:y==="ADMIN"?u&&(!i.newpassword||i.newpassword.length<4)||p&&(!i.conformpassword||i.conformpassword.length<4):!0,children:r?"Create Profile":"Update Profile"})})]})};let Kg;const p3=new Uint8Array(16);function g3(){if(!Kg&&(Kg=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Kg))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Kg(p3)}const tr=[];for(let i=0;i<256;++i)tr.push((i+256).toString(16).slice(1));function m3(i,t=0){return tr[i[t+0]]+tr[i[t+1]]+tr[i[t+2]]+tr[i[t+3]]+"-"+tr[i[t+4]]+tr[i[t+5]]+"-"+tr[i[t+6]]+tr[i[t+7]]+"-"+tr[i[t+8]]+tr[i[t+9]]+"-"+tr[i[t+10]]+tr[i[t+11]]+tr[i[t+12]]+tr[i[t+13]]+tr[i[t+14]]+tr[i[t+15]]}const y3=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),vM={randomUUID:y3};function x3(i,t,s){if(vM.randomUUID&&!i)return vM.randomUUID();i=i||{};const r=i.random||(i.rng||g3)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,m3(r)}const v3=()=>x3().replace(/-/g,"").substring(0,16),JD=()=>{const i=v3(),t={token:i,createdAt:Date.now()},s=JSON.stringify(t);return sessionStorage.setItem("secureTokenData",s),localStorage.setItem("secureTokenData",s),console.log("New token created and stored"),i},Q0=()=>{try{let i=sessionStorage.getItem("secureTokenData")||localStorage.getItem("secureTokenData");if(!i)return console.log("No token found in storage"),null;const t=JSON.parse(i);return localStorage.getItem("secureTokenData")&&!sessionStorage.getItem("secureTokenData")&&sessionStorage.setItem("secureTokenData",i),t.token||null}catch(i){return console.error("Error getting valid token:",i),fw(),null}},ba=(i,t=null)=>{const s=t||Q0()||JD();return`${i}?token=${s}`},b3=i=>Q0()===i,w3=i=>new URLSearchParams(i.split("?")[1]).get("token"),fw=()=>{sessionStorage.removeItem("secureTokenData"),localStorage.removeItem("secureTokenData"),console.log("Token cleared from storage")},wa={DASHBOARD:"/dashboard",PROFILE:"/user/profile",ANALYTICS_EMS:"/analytics/ems",ANALYTICS_KPI:"/analytics/kpi",ADMIN_SETUP:"/admin/setup",ADMIN_METER_CONFIG:"/admin/meter-config",SCADA_DIAGRAM:"/scada/diagram",GATEWAY_AUTH:"/gateway/auth",GATEWAY_SUBSCRIPTION:"/gateway/subscription",AUTH_LOGIN:"/auth/login"},bM=(i=null)=>{const t=i||Q0()||JD();return{dashboard:ba(wa.DASHBOARD,t),profile:ba(wa.PROFILE,t),analyticsEms:ba(wa.ANALYTICS_EMS,t),analyticsKpi:ba(wa.ANALYTICS_KPI,t),adminSetup:ba(wa.ADMIN_SETUP,t),adminMeterConfig:ba(wa.ADMIN_METER_CONFIG,t),scadaDiagram:ba(wa.SCADA_DIAGRAM,t),gatewayAuth:ba(wa.GATEWAY_AUTH,t),gatewaySubscription:ba(wa.GATEWAY_SUBSCRIPTION,t),authLogin:ba(wa.AUTH_LOGIN,t)}};function S3(){const i=Fh();console.log("navigate=>",i);const t=Hn.gatewayName||"",[s,r]=X.useState({gatewayname:t,name:"",buildingName:"",address:"",email:"",organization:"",newpassword:"",conformpassword:"",adminPassword:"",viewerPassword:"",adminConfirmPassword:"",viewerConfirmPassword:"",dbAdminPass:"",dbViewerPass:"",userPresent:!1}),[a,u]=X.useState({resetAdmin:!1,resetViewer:!1}),[d,p]=X.useState(!0),[m,y]=X.useState(!1);console.log("profileData=>",s,Hn.gatewayName),X.useEffect(()=>{console.log("ProfilePage - useEffect started"),(async()=>{try{console.log("ProfilePage - fetching profile data...");const A=(await Jn.request(Gc))?.allProfiles?.nodes?.[0];console.log("profile=>",A),r(A?R=>({...R,gatewayname:A.gatewayName||t,name:A.name||"",buildingName:A.buildingName||"",address:A.address||"",email:A.email||"",organization:A.orgname||"",userPresent:!0,nodeId:A.nodeId,userid:A.userid,dbAdminPass:A.adminPassword||"",dbViewerPass:A.viewerPassword||""}):R=>({...R,userPresent:!1}))}catch(M){console.error("Error fetching profile data:",M),it.error("Failed to fetch profile data")}finally{p(!1),y(!0),console.log("ProfilePage - loading finished, showContent set to true")}})()},[t]);const b=async S=>{try{if(s.userPresent){const M={input:{nodeId:s.nodeId,profilePatch:{userid:s.userid,name:S.name,buildingName:S.buildingName,address:S.address,email:S.email,orgname:S.organization,adminPassword:a.resetAdmin?S.newpassword||"0000":s.dbAdminPass,viewerPassword:a.resetViewer?S.conformpassword||"0000":s.dbViewerPass}}};await Jn.request(GD,M),it.success("Profile updated successfully")}else{if((S.adminPassword||"").length<4){it.error("Admin password must be at least 4 characters");return}if((S.viewerPassword||"").length<4){it.error("Viewer password must be at least 4 characters");return}if(S.adminPassword!==S.adminConfirmPassword){it.error("Admin passwords do not match");return}if(S.viewerPassword!==S.viewerConfirmPassword){it.error("Viewer passwords do not match");return}if(S.adminPassword===S.viewerPassword){it.error("Admin and Viewer passwords must be different");return}const M={input:{profile:{userid:S.name.toLowerCase().replace(/\s+/g,""),name:S.name,buildingName:S.buildingName,address:S.address,email:S.email,orgname:S.organization,adminPassword:S.adminPassword||"0000",viewerPassword:S.viewerPassword||"0000",gatewayName:S.gatewayname}}};await Jn.request(EY,M),it.success("Profile created successfully");try{fw()}catch{}try{localStorage.removeItem("userid")}catch{}try{localStorage.removeItem("userRole")}catch{}try{sessionStorage.clear()}catch{}i("/auth/login",{replace:!0}),setTimeout(()=>{window.location.reload()},700)}}catch(M){console.error("Error saving profile:",M),it.error("Failed to save profile")}};return d?D.jsx(Bt,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:D.jsx(mr,{})}):D.jsx(Bt,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",p:3},children:D.jsx(Fi,{in:m,timeout:500,children:D.jsx(Bt,{sx:{width:"100%",maxWidth:800},children:D.jsx(Yn,{container:!0,spacing:3,children:D.jsx(Yn,{item:!0,xs:12,children:D.jsxs(ts,{elevation:3,sx:{p:3},children:[D.jsx(Oe,{align:"center",variant:"h6",gutterBottom:!0,children:s.userPresent?"Edit Profile":"Create Profile"}),D.jsx(f3,{profileData:s,onChange:S=>{const{name:M,value:A}=S.target;r(R=>({...R,[M]:A}))},onSubmit:S=>{S.preventDefault(),b(s)},isNewProfile:!s.userPresent,onCheckboxChange:u})]})})})})})})}var kv={};/*!
 * ApexCharts v5.3.0
 * (c) 2018-2025 ApexCharts
 * Released under the MIT License.
 */function Fb(i,t){(t==null||t>i.length)&&(t=i.length);for(var s=0,r=Array(t);s<t;s++)r[s]=i[s];return r}function QD(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function ln(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function wM(i,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,nE(r.key),r)}}function cn(i,t,s){return t&&wM(i.prototype,t),s&&wM(i,s),Object.defineProperty(i,"prototype",{writable:!1}),i}function Sf(i,t){var s=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!s){if(Array.isArray(i)||(s=pw(i))||t){s&&(i=s);var r=0,a=function(){};return{s:a,n:function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}},e:function(m){throw m},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,d=!0,p=!1;return{s:function(){s=s.call(i)},n:function(){var m=s.next();return d=m.done,m},e:function(m){p=!0,u=m},f:function(){try{d||s.return==null||s.return()}finally{if(p)throw u}}}}function kp(i){var t=eE();return function(){var s,r=i0(i);if(t){var a=i0(this).constructor;s=Reflect.construct(r,arguments,a)}else s=r.apply(this,arguments);return function(u,d){if(d&&(typeof d=="object"||typeof d=="function"))return d;if(d!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QD(u)}(this,s)}}function n0(i,t,s){return(t=nE(t))in i?Object.defineProperty(i,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[t]=s,i}function i0(i){return i0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},i0(i)}function Pp(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),t&&jb(i,t)}function eE(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eE=function(){return!!i})()}function SM(i,t){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),s.push.apply(s,r)}return s}function Yt(i){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?SM(Object(s),!0).forEach(function(r){n0(i,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):SM(Object(s)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(s,r))})}return i}function jb(i,t){return jb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,r){return s.__proto__=r,s},jb(i,t)}function tE(i,t){return function(s){if(Array.isArray(s))return s}(i)||function(s,r){var a=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(a!=null){var u,d,p,m,y=[],b=!0,S=!1;try{if(p=(a=a.call(s)).next,r===0){if(Object(a)!==a)return;b=!1}else for(;!(b=(u=p.call(a)).done)&&(y.push(u.value),y.length!==r);b=!0);}catch(M){S=!0,d=M}finally{try{if(!b&&a.return!=null&&(m=a.return(),Object(m)!==m))return}finally{if(S)throw d}}return y}}(i,t)||pw(i,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Bs(i){return function(t){if(Array.isArray(t))return Fb(t)}(i)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(i)||pw(i)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function nE(i){var t=function(s,r){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var u=a.call(s,r);if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}(i,"string");return typeof t=="symbol"?t:t+""}function kr(i){return kr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kr(i)}function pw(i,t){if(i){if(typeof i=="string")return Fb(i,t);var s={}.toString.call(i).slice(8,-1);return s==="Object"&&i.constructor&&(s=i.constructor.name),s==="Map"||s==="Set"?Array.from(i):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Fb(i,t):void 0}}var Ye=function(){function i(){ln(this,i)}return cn(i,[{key:"shadeRGBColor",value:function(t,s){var r=s.split(","),a=t<0?0:255,u=t<0?-1*t:t,d=parseInt(r[0].slice(4),10),p=parseInt(r[1],10),m=parseInt(r[2],10);return"rgb("+(Math.round((a-d)*u)+d)+","+(Math.round((a-p)*u)+p)+","+(Math.round((a-m)*u)+m)+")"}},{key:"shadeHexColor",value:function(t,s){var r=parseInt(s.slice(1),16),a=t<0?0:255,u=t<0?-1*t:t,d=r>>16,p=r>>8&255,m=255&r;return"#"+(16777216+65536*(Math.round((a-d)*u)+d)+256*(Math.round((a-p)*u)+p)+(Math.round((a-m)*u)+m)).toString(16).slice(1)}},{key:"shadeColor",value:function(t,s){return i.isColorHex(s)?this.shadeHexColor(t,s):this.shadeRGBColor(t,s)}}],[{key:"bind",value:function(t,s){return function(){return t.apply(s,arguments)}}},{key:"isObject",value:function(t){return t&&kr(t)==="object"&&!Array.isArray(t)&&t!=null}},{key:"is",value:function(t,s){return Object.prototype.toString.call(s)==="[object "+t+"]"}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"listToArray",value:function(t){var s,r=[];for(s=0;s<t.length;s++)r[s]=t[s];return r}},{key:"extend",value:function(t,s){var r=this;typeof Object.assign!="function"&&(Object.assign=function(u){if(u==null)throw new TypeError("Cannot convert undefined or null to object");for(var d=Object(u),p=1;p<arguments.length;p++){var m=arguments[p];if(m!=null)for(var y in m)m.hasOwnProperty(y)&&(d[y]=m[y])}return d});var a=Object.assign({},t);return this.isObject(t)&&this.isObject(s)&&Object.keys(s).forEach(function(u){r.isObject(s[u])&&u in t?a[u]=r.extend(t[u],s[u]):Object.assign(a,n0({},u,s[u]))}),a}},{key:"extendArray",value:function(t,s){var r=[];return t.map(function(a){r.push(i.extend(s,a))}),t=r}},{key:"monthMod",value:function(t){return t%12}},{key:"clone",value:function(t){var s,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(t===null||kr(t)!=="object")return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){s=[],r.set(t,s);for(var a=0;a<t.length;a++)s[a]=this.clone(t[a],r)}else if(t instanceof Date)s=new Date(t.getTime());else for(var u in s={},r.set(t,s),t)t.hasOwnProperty(u)&&(s[u]=this.clone(t[u],r));return s}},{key:"log10",value:function(t){return Math.log(t)/Math.LN10}},{key:"roundToBase10",value:function(t){return Math.pow(10,Math.floor(Math.log10(t)))}},{key:"roundToBase",value:function(t,s){return Math.pow(s,Math.floor(Math.log(t)/Math.log(s)))}},{key:"parseNumber",value:function(t){return typeof t=="number"||t===null?t:parseFloat(t)}},{key:"stripNumber",value:function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.isInteger(t)?t:parseFloat(t.toPrecision(s))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(t){return t.toString().includes("e")?Math.round(t):t}},{key:"elementExists",value:function(t){return!(!t||!t.isConnected)}},{key:"getDimensions",value:function(t){var s=getComputedStyle(t,null),r=t.clientHeight,a=t.clientWidth;return r-=parseFloat(s.paddingTop)+parseFloat(s.paddingBottom),[a-=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight),r]}},{key:"getBoundingClientRect",value:function(t){var s=t.getBoundingClientRect();return{top:s.top,right:s.right,bottom:s.bottom,left:s.left,width:t.clientWidth,height:t.clientHeight,x:s.left,y:s.top}}},{key:"getLargestStringFromArr",value:function(t){return t.reduce(function(s,r){return Array.isArray(r)&&(r=r.reduce(function(a,u){return a.length>u.length?a:u})),s.length>r.length?s:r},0)}},{key:"hexToRgba",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;t.substring(0,1)!=="#"&&(t="#999999");var r=t.replace("#","");r=r.match(new RegExp("(.{"+r.length/3+"})","g"));for(var a=0;a<r.length;a++)r[a]=parseInt(r[a].length===1?r[a]+r[a]:r[a],16);return s!==void 0&&r.push(s),"rgba("+r.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(t){return parseFloat(t.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&t.length===4?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(t)}},{key:"getPolygonPos",value:function(t,s){for(var r=[],a=2*Math.PI/s,u=0;u<s;u++){var d={};d.x=t*Math.sin(u*a),d.y=-t*Math.cos(u*a),r.push(d)}return r}},{key:"polarToCartesian",value:function(t,s,r,a){var u=(a-90)*Math.PI/180;return{x:t+r*Math.cos(u),y:s+r*Math.sin(u)}}},{key:"escapeString",value:function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",r=t.toString().slice();return r=r.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,s)}},{key:"negToZero",value:function(t){return t<0?0:t}},{key:"moveIndexInArray",value:function(t,s,r){if(r>=t.length)for(var a=r-t.length+1;a--;)t.push(void 0);return t.splice(r,0,t.splice(s,1)[0]),t}},{key:"extractNumber",value:function(t){return parseFloat(t.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(t,s){for(;(t=t.parentElement)&&!t.classList.contains(s););return t}},{key:"setELstyles",value:function(t,s){for(var r in s)s.hasOwnProperty(r)&&(t.style.key=s[r])}},{key:"preciseAddition",value:function(t,s){var r=(String(t).split(".")[1]||"").length,a=(String(s).split(".")[1]||"").length,u=Math.pow(10,Math.max(r,a));return(Math.round(t*u)+Math.round(s*u))/u}},{key:"isNumber",value:function(t){return!isNaN(t)&&parseFloat(Number(t))===t&&!isNaN(parseInt(t,10))}},{key:"isFloat",value:function(t){return Number(t)===t&&t%1!=0}},{key:"isMsEdge",value:function(){var t=window.navigator.userAgent,s=t.indexOf("Edge/");return s>0&&parseInt(t.substring(s+5,t.indexOf(".",s)),10)}},{key:"getGCD",value:function(t,s){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,a=Math.pow(10,r-Math.floor(Math.log10(Math.max(t,s))));for(t=Math.round(Math.abs(t)*a),s=Math.round(Math.abs(s)*a);s;){var u=s;s=t%s,t=u}return t/a}},{key:"getPrimeFactors",value:function(t){for(var s=[],r=2;t>=2;)t%r==0?(s.push(r),t/=r):r++;return s}},{key:"mod",value:function(t,s){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,a=Math.pow(10,r-Math.floor(Math.log10(Math.max(t,s))));return(t=Math.round(Math.abs(t)*a))%(s=Math.round(Math.abs(s)*a))/a}}]),i}(),Bh=function(){function i(t){ln(this,i),this.ctx=t,this.w=t.w}return cn(i,[{key:"animateLine",value:function(t,s,r,a){t.attr(s).animate(a).attr(r)}},{key:"animateMarker",value:function(t,s,r,a){t.attr({opacity:0}).animate(s).attr({opacity:1}).after(function(){a()})}},{key:"animateRect",value:function(t,s,r,a,u){t.attr(s).animate(a).attr(r).after(function(){return u()})}},{key:"animatePathsGradually",value:function(t){var s=t.el,r=t.realIndex,a=t.j,u=t.fill,d=t.pathFrom,p=t.pathTo,m=t.speed,y=t.delay,b=this.w,S=0;b.config.chart.animations.animateGradually.enabled&&(S=b.config.chart.animations.animateGradually.delay),b.config.chart.animations.dynamicAnimation.enabled&&b.globals.dataChanged&&b.config.chart.type!=="bar"&&(S=0),this.morphSVG(s,r,a,b.config.chart.type!=="line"||b.globals.comboCharts?u:"stroke",d,p,m,y*S)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(t){var s=t.el;s.classList.remove("apexcharts-element-hidden"),s.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(t){var s=this.w;s.globals.animationEnded||(s.globals.animationEnded=!0,this.showDelayedElements(),typeof s.config.chart.events.animationEnd=="function"&&s.config.chart.events.animationEnd(this.ctx,{el:t,w:s}))}},{key:"morphSVG",value:function(t,s,r,a,u,d,p,m){var y=this,b=this.w;u||(u=t.attr("pathFrom")),d||(d=t.attr("pathTo"));var S=function(M){return b.config.chart.type==="radar"&&(p=1),"M 0 ".concat(b.globals.gridHeight)};(!u||u.indexOf("undefined")>-1||u.indexOf("NaN")>-1)&&(u=S()),(!d.trim()||d.indexOf("undefined")>-1||d.indexOf("NaN")>-1)&&(d=S()),b.globals.shouldAnimate||(p=1),t.plot(u).animate(1,m).plot(u).animate(p,m).plot(d).after(function(){Ye.isNumber(r)?r===b.globals.series[b.globals.maxValsInArrayIndex].length-2&&b.globals.shouldAnimate&&y.animationCompleted(t):a!=="none"&&b.globals.shouldAnimate&&(!b.globals.comboCharts&&s===b.globals.series.length-1||b.globals.comboCharts)&&y.animationCompleted(t),y.showDelayedElements()})}}]),i}();const _b={},iE=[];function Zn(i,t){if(Array.isArray(i))for(const s of i)Zn(s,t);else if(typeof i!="object")sE(Object.getOwnPropertyNames(t)),_b[i]=Object.assign(_b[i]||{},t);else for(const s in i)Zn(s,i[s])}function Hr(i){return _b[i]||{}}function sE(i){iE.push(...i)}function gw(i,t){let s;const r=i.length,a=[];for(s=0;s<r;s++)a.push(t(i[s]));return a}function Pv(i){return i%360*Math.PI/180}function Vh(i){return i.charAt(0).toUpperCase()+i.slice(1)}function Hh(i,t,s,r){return t!=null&&s!=null||(r=r||i.bbox(),t==null?t=r.width/r.height*s:s==null&&(s=r.height/r.width*t)),{width:t,height:s}}function zb(i,t){const s=i.origin;let r=i.ox!=null?i.ox:i.originX!=null?i.originX:"center",a=i.oy!=null?i.oy:i.originY!=null?i.originY:"center";s!=null&&([r,a]=Array.isArray(s)?s:typeof s=="object"?[s.x,s.y]:[s,s]);const u=typeof r=="string",d=typeof a=="string";if(u||d){const{height:p,width:m,x:y,y:b}=t.bbox();u&&(r=r.includes("left")?y:r.includes("right")?y+m:y+m/2),d&&(a=a.includes("top")?b:a.includes("bottom")?b+p:b+p/2)}return[r,a]}const C3=new Set(["desc","metadata","title"]),Bb=i=>C3.has(i.nodeName),rE=(i,t,s={})=>{const r={...t};for(const a in r)r[a].valueOf()===s[a]&&delete r[a];Object.keys(r).length?i.node.setAttribute("data-svgjs",JSON.stringify(r)):(i.node.removeAttribute("data-svgjs"),i.node.removeAttribute("svgjs:data"))},mw="http://www.w3.org/2000/svg",Mv="http://www.w3.org/2000/xmlns/",Wh="http://www.w3.org/1999/xlink",ci={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function Mp(){return ci.window}let yw=class{};const Bc={},xw="___SYMBOL___ROOT___";function tp(i,t=mw){return ci.document.createElementNS(t,i)}function Pr(i,t=!1){if(i instanceof yw)return i;if(typeof i=="object")return Tv(i);if(i==null)return new Bc[xw];if(typeof i=="string"&&i.charAt(0)!=="<")return Tv(ci.document.querySelector(i));const s=t?ci.document.createElement("div"):tp("svg");return s.innerHTML=i,i=Tv(s.firstChild),s.removeChild(s.firstChild),i}function zi(i,t){return t&&(t instanceof ci.window.Node||t.ownerDocument&&t instanceof t.ownerDocument.defaultView.Node)?t:tp(i)}function Io(i){if(!i)return null;if(i.instance instanceof yw)return i.instance;if(i.nodeName==="#document-fragment")return new Bc.Fragment(i);let t=Vh(i.nodeName||"Dom");return t==="LinearGradient"||t==="RadialGradient"?t="Gradient":Bc[t]||(t="Dom"),new Bc[t](i)}let Tv=Io;function ui(i,t=i.name,s=!1){return Bc[t]=i,s&&(Bc[xw]=i),sE(Object.getOwnPropertyNames(i.prototype)),i}let k3=1e3;function oE(i){return"Svgjs"+Vh(i)+k3++}function aE(i){for(let t=i.children.length-1;t>=0;t--)aE(i.children[t]);return i.id&&(i.id=oE(i.nodeName)),i}function Fn(i,t){let s,r;for(r=(i=Array.isArray(i)?i:[i]).length-1;r>=0;r--)for(s in t)i[r].prototype[s]=t[s]}function _i(i){return function(...t){const s=t[t.length-1];return!s||s.constructor!==Object||s instanceof Array?i.apply(this,t):i.apply(this,t.slice(0,-1)).attr(s)}}Zn("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const i=this.position();return this.parent().add(this.remove(),i+1),this},backward:function(){const i=this.position();return this.parent().add(this.remove(),i?i-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(i){(i=Pr(i)).remove();const t=this.position();return this.parent().add(i,t),this},after:function(i){(i=Pr(i)).remove();const t=this.position();return this.parent().add(i,t+1),this},insertBefore:function(i){return(i=Pr(i)).before(this),this},insertAfter:function(i){return(i=Pr(i)).after(this),this}});const lE=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,P3=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,M3=/rgb\((\d+),(\d+),(\d+)\)/,T3=/(#[a-z_][a-z0-9\-_]*)/i,A3=/\)\s*,?\s*/,D3=/\s/g,CM=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,kM=/^rgb\(/,PM=/^(\s+)?$/,MM=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,E3=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,ol=/[\s,]+/,vw=/[MLHVCSQTAZ]/i;function N3(i){const t=Math.round(i),s=Math.max(0,Math.min(255,t)).toString(16);return s.length===1?"0"+s:s}function Gu(i,t){for(let s=t.length;s--;)if(i[t[s]]==null)return!1;return!0}function Av(i,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?i+6*(t-i)*s:s<.5?t:s<2/3?i+(t-i)*(2/3-s)*6:i}Zn("Dom",{classes:function(){const i=this.attr("class");return i==null?[]:i.trim().split(ol)},hasClass:function(i){return this.classes().indexOf(i)!==-1},addClass:function(i){if(!this.hasClass(i)){const t=this.classes();t.push(i),this.attr("class",t.join(" "))}return this},removeClass:function(i){return this.hasClass(i)&&this.attr("class",this.classes().filter(function(t){return t!==i}).join(" ")),this},toggleClass:function(i){return this.hasClass(i)?this.removeClass(i):this.addClass(i)}}),Zn("Dom",{css:function(i,t){const s={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter(function(r){return!!r.length}).forEach(function(r){const a=r.split(/\s*:\s*/);s[a[0]]=a[1]}),s;if(arguments.length<2){if(Array.isArray(i)){for(const r of i){const a=r;s[r]=this.node.style.getPropertyValue(a)}return s}if(typeof i=="string")return this.node.style.getPropertyValue(i);if(typeof i=="object")for(const r in i)this.node.style.setProperty(r,i[r]==null||PM.test(i[r])?"":i[r])}return arguments.length===2&&this.node.style.setProperty(i,t==null||PM.test(t)?"":t),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return this.css("display")!=="none"}}),Zn("Dom",{data:function(i,t,s){if(i==null)return this.data(gw(function(r,a){let u;const d=r.length,p=[];for(u=0;u<d;u++)a(r[u])&&p.push(r[u]);return p}(this.node.attributes,r=>r.nodeName.indexOf("data-")===0),r=>r.nodeName.slice(5)));if(i instanceof Array){const r={};for(const a of i)r[a]=this.data(a);return r}if(typeof i=="object")for(t in i)this.data(t,i[t]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+i))}catch{return this.attr("data-"+i)}else this.attr("data-"+i,t===null?null:s===!0||typeof t=="string"||typeof t=="number"?t:JSON.stringify(t));return this}}),Zn("Dom",{remember:function(i,t){if(typeof arguments[0]=="object")for(const s in i)this.remember(s,i[s]);else{if(arguments.length===1)return this.memory()[i];this.memory()[i]=t}return this},forget:function(){if(arguments.length===0)this._memory={};else for(let i=arguments.length-1;i>=0;i--)delete this.memory()[arguments[i]];return this},memory:function(){return this._memory=this._memory||{}}});class Ri{constructor(...t){this.init(...t)}static isColor(t){return t&&(t instanceof Ri||this.isRgb(t)||this.test(t))}static isRgb(t){return t&&typeof t.r=="number"&&typeof t.g=="number"&&typeof t.b=="number"}static random(t="vibrant",s){const{random:r,round:a,sin:u,PI:d}=Math;if(t==="vibrant"){const p=24*r()+57,m=38*r()+45,y=360*r();return new Ri(p,m,y,"lch")}if(t==="sine"){const p=a(80*u(2*d*(s=s??r())/.5+.01)+150),m=a(50*u(2*d*s/.5+4.6)+200),y=a(100*u(2*d*s/.5+2.3)+150);return new Ri(p,m,y)}if(t==="pastel"){const p=8*r()+86,m=17*r()+9,y=360*r();return new Ri(p,m,y,"lch")}if(t==="dark"){const p=10+10*r(),m=50*r()+86,y=360*r();return new Ri(p,m,y,"lch")}if(t==="rgb"){const p=255*r(),m=255*r(),y=255*r();return new Ri(p,m,y)}if(t==="lab"){const p=100*r(),m=256*r()-128,y=256*r()-128;return new Ri(p,m,y,"lab")}if(t==="grey"){const p=255*r();return new Ri(p,p,p)}throw new Error("Unsupported random color mode")}static test(t){return typeof t=="string"&&(CM.test(t)||kM.test(t))}cmyk(){const{_a:t,_b:s,_c:r}=this.rgb(),[a,u,d]=[t,s,r].map(m=>m/255),p=Math.min(1-a,1-u,1-d);return p===1?new Ri(0,0,0,1,"cmyk"):new Ri((1-a-p)/(1-p),(1-u-p)/(1-p),(1-d-p)/(1-p),p,"cmyk")}hsl(){const{_a:t,_b:s,_c:r}=this.rgb(),[a,u,d]=[t,s,r].map(M=>M/255),p=Math.max(a,u,d),m=Math.min(a,u,d),y=(p+m)/2,b=p===m,S=p-m;return new Ri(360*(b?0:p===a?((u-d)/S+(u<d?6:0))/6:p===u?((d-a)/S+2)/6:p===d?((a-u)/S+4)/6:0),100*(b?0:y>.5?S/(2-p-m):S/(p+m)),100*y,"hsl")}init(t=0,s=0,r=0,a=0,u="rgb"){if(t=t||0,this.space)for(const S in this.space)delete this[this.space[S]];if(typeof t=="number")u=typeof a=="string"?a:u,a=typeof a=="string"?0:a,Object.assign(this,{_a:t,_b:s,_c:r,_d:a,space:u});else if(t instanceof Array)this.space=s||(typeof t[3]=="string"?t[3]:t[4])||"rgb",Object.assign(this,{_a:t[0],_b:t[1],_c:t[2],_d:t[3]||0});else if(t instanceof Object){const S=function(M,A){const R=Gu(M,"rgb")?{_a:M.r,_b:M.g,_c:M.b,_d:0,space:"rgb"}:Gu(M,"xyz")?{_a:M.x,_b:M.y,_c:M.z,_d:0,space:"xyz"}:Gu(M,"hsl")?{_a:M.h,_b:M.s,_c:M.l,_d:0,space:"hsl"}:Gu(M,"lab")?{_a:M.l,_b:M.a,_c:M.b,_d:0,space:"lab"}:Gu(M,"lch")?{_a:M.l,_b:M.c,_c:M.h,_d:0,space:"lch"}:Gu(M,"cmyk")?{_a:M.c,_b:M.m,_c:M.y,_d:M.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return R.space=A||R.space,R}(t,s);Object.assign(this,S)}else if(typeof t=="string")if(kM.test(t)){const S=t.replace(D3,""),[M,A,R]=M3.exec(S).slice(1,4).map(E=>parseInt(E));Object.assign(this,{_a:M,_b:A,_c:R,_d:0,space:"rgb"})}else{if(!CM.test(t))throw Error("Unsupported string format, can't construct Color");{const S=E=>parseInt(E,16),[,M,A,R]=P3.exec(function(E){return E.length===4?["#",E.substring(1,2),E.substring(1,2),E.substring(2,3),E.substring(2,3),E.substring(3,4),E.substring(3,4)].join(""):E}(t)).map(S);Object.assign(this,{_a:M,_b:A,_c:R,_d:0,space:"rgb"})}}const{_a:d,_b:p,_c:m,_d:y}=this,b=this.space==="rgb"?{r:d,g:p,b:m}:this.space==="xyz"?{x:d,y:p,z:m}:this.space==="hsl"?{h:d,s:p,l:m}:this.space==="lab"?{l:d,a:p,b:m}:this.space==="lch"?{l:d,c:p,h:m}:this.space==="cmyk"?{c:d,m:p,y:m,k:y}:{};Object.assign(this,b)}lab(){const{x:t,y:s,z:r}=this.xyz();return new Ri(116*s-16,500*(t-s),200*(s-r),"lab")}lch(){const{l:t,a:s,b:r}=this.lab(),a=Math.sqrt(s**2+r**2);let u=180*Math.atan2(r,s)/Math.PI;return u<0&&(u*=-1,u=360-u),new Ri(t,a,u,"lch")}rgb(){if(this.space==="rgb")return this;if((t=this.space)==="lab"||t==="xyz"||t==="lch"){let{x:s,y:r,z:a}=this;if(this.space==="lab"||this.space==="lch"){let{l:A,a:R,b:E}=this;if(this.space==="lch"){const{c:U,h:I}=this,q=Math.PI/180;R=U*Math.cos(q*I),E=U*Math.sin(q*I)}const _=(A+16)/116,T=R/500+_,B=_-E/200,z=16/116,W=.008856,L=7.787;s=.95047*(T**3>W?T**3:(T-z)/L),r=1*(_**3>W?_**3:(_-z)/L),a=1.08883*(B**3>W?B**3:(B-z)/L)}const u=3.2406*s+-1.5372*r+-.4986*a,d=-.9689*s+1.8758*r+.0415*a,p=.0557*s+-.204*r+1.057*a,m=Math.pow,y=.0031308,b=u>y?1.055*m(u,1/2.4)-.055:12.92*u,S=d>y?1.055*m(d,1/2.4)-.055:12.92*d,M=p>y?1.055*m(p,1/2.4)-.055:12.92*p;return new Ri(255*b,255*S,255*M)}if(this.space==="hsl"){let{h:s,s:r,l:a}=this;if(s/=360,r/=100,a/=100,r===0)return a*=255,new Ri(a,a,a);const u=a<.5?a*(1+r):a+r-a*r,d=2*a-u,p=255*Av(d,u,s+1/3),m=255*Av(d,u,s),y=255*Av(d,u,s-1/3);return new Ri(p,m,y)}if(this.space==="cmyk"){const{c:s,m:r,y:a,k:u}=this,d=255*(1-Math.min(1,s*(1-u)+u)),p=255*(1-Math.min(1,r*(1-u)+u)),m=255*(1-Math.min(1,a*(1-u)+u));return new Ri(d,p,m)}return this;var t}toArray(){const{_a:t,_b:s,_c:r,_d:a,space:u}=this;return[t,s,r,a,u]}toHex(){const[t,s,r]=this._clamped().map(N3);return`#${t}${s}${r}`}toRgb(){const[t,s,r]=this._clamped();return`rgb(${t},${s},${r})`}toString(){return this.toHex()}xyz(){const{_a:t,_b:s,_c:r}=this.rgb(),[a,u,d]=[t,s,r].map(_=>_/255),p=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92,m=u>.04045?Math.pow((u+.055)/1.055,2.4):u/12.92,y=d>.04045?Math.pow((d+.055)/1.055,2.4):d/12.92,b=(.4124*p+.3576*m+.1805*y)/.95047,S=(.2126*p+.7152*m+.0722*y)/1,M=(.0193*p+.1192*m+.9505*y)/1.08883,A=b>.008856?Math.pow(b,1/3):7.787*b+16/116,R=S>.008856?Math.pow(S,1/3):7.787*S+16/116,E=M>.008856?Math.pow(M,1/3):7.787*M+16/116;return new Ri(A,R,E,"xyz")}_clamped(){const{_a:t,_b:s,_c:r}=this.rgb(),{max:a,min:u,round:d}=Math;return[t,s,r].map(p=>a(0,u(d(p),255)))}}class Mi{constructor(...t){this.init(...t)}clone(){return new Mi(this)}init(t,s){const u=Array.isArray(t)?{x:t[0],y:t[1]}:typeof t=="object"?{x:t.x,y:t.y}:{x:t,y:s};return this.x=u.x==null?0:u.x,this.y=u.y==null?0:u.y,this}toArray(){return[this.x,this.y]}transform(t){return this.clone().transformO(t)}transformO(t){En.isMatrixLike(t)||(t=new En(t));const{x:s,y:r}=this;return this.x=t.a*s+t.c*r+t.e,this.y=t.b*s+t.d*r+t.f,this}}function qu(i,t,s){return Math.abs(t-i)<1e-6}class En{constructor(...t){this.init(...t)}static formatTransforms(t){const s=t.flip==="both"||t.flip===!0,r=t.flip&&(s||t.flip==="x")?-1:1,a=t.flip&&(s||t.flip==="y")?-1:1,u=t.skew&&t.skew.length?t.skew[0]:isFinite(t.skew)?t.skew:isFinite(t.skewX)?t.skewX:0,d=t.skew&&t.skew.length?t.skew[1]:isFinite(t.skew)?t.skew:isFinite(t.skewY)?t.skewY:0,p=t.scale&&t.scale.length?t.scale[0]*r:isFinite(t.scale)?t.scale*r:isFinite(t.scaleX)?t.scaleX*r:r,m=t.scale&&t.scale.length?t.scale[1]*a:isFinite(t.scale)?t.scale*a:isFinite(t.scaleY)?t.scaleY*a:a,y=t.shear||0,b=t.rotate||t.theta||0,S=new Mi(t.origin||t.around||t.ox||t.originX,t.oy||t.originY),M=S.x,A=S.y,R=new Mi(t.position||t.px||t.positionX||NaN,t.py||t.positionY||NaN),E=R.x,_=R.y,T=new Mi(t.translate||t.tx||t.translateX,t.ty||t.translateY),B=T.x,z=T.y,W=new Mi(t.relative||t.rx||t.relativeX,t.ry||t.relativeY);return{scaleX:p,scaleY:m,skewX:u,skewY:d,shear:y,theta:b,rx:W.x,ry:W.y,tx:B,ty:z,ox:M,oy:A,px:E,py:_}}static fromArray(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}static isMatrixLike(t){return t.a!=null||t.b!=null||t.c!=null||t.d!=null||t.e!=null||t.f!=null}static matrixMultiply(t,s,r){const a=t.a*s.a+t.c*s.b,u=t.b*s.a+t.d*s.b,d=t.a*s.c+t.c*s.d,p=t.b*s.c+t.d*s.d,m=t.e+t.a*s.e+t.c*s.f,y=t.f+t.b*s.e+t.d*s.f;return r.a=a,r.b=u,r.c=d,r.d=p,r.e=m,r.f=y,r}around(t,s,r){return this.clone().aroundO(t,s,r)}aroundO(t,s,r){const a=t||0,u=s||0;return this.translateO(-a,-u).lmultiplyO(r).translateO(a,u)}clone(){return new En(this)}decompose(t=0,s=0){const r=this.a,a=this.b,u=this.c,d=this.d,p=this.e,m=this.f,y=r*d-a*u,b=y>0?1:-1,S=b*Math.sqrt(r*r+a*a),M=Math.atan2(b*a,b*r),A=180/Math.PI*M,R=Math.cos(M),E=Math.sin(M),_=(r*u+a*d)/y,T=u*S/(_*r-a)||d*S/(_*a+r);return{scaleX:S,scaleY:T,shear:_,rotate:A,translateX:p-t+t*R*S+s*(_*R*S-E*T),translateY:m-s+t*E*S+s*(_*E*S+R*T),originX:t,originY:s,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(t){if(t===this)return!0;const s=new En(t);return qu(this.a,s.a)&&qu(this.b,s.b)&&qu(this.c,s.c)&&qu(this.d,s.d)&&qu(this.e,s.e)&&qu(this.f,s.f)}flip(t,s){return this.clone().flipO(t,s)}flipO(t,s){return t==="x"?this.scaleO(-1,1,s,0):t==="y"?this.scaleO(1,-1,0,s):this.scaleO(-1,-1,t,s||t)}init(t){const s=En.fromArray([1,0,0,1,0,0]);return t=t instanceof rr?t.matrixify():typeof t=="string"?En.fromArray(t.split(ol).map(parseFloat)):Array.isArray(t)?En.fromArray(t):typeof t=="object"&&En.isMatrixLike(t)?t:typeof t=="object"?new En().transform(t):arguments.length===6?En.fromArray([].slice.call(arguments)):s,this.a=t.a!=null?t.a:s.a,this.b=t.b!=null?t.b:s.b,this.c=t.c!=null?t.c:s.c,this.d=t.d!=null?t.d:s.d,this.e=t.e!=null?t.e:s.e,this.f=t.f!=null?t.f:s.f,this}inverse(){return this.clone().inverseO()}inverseO(){const t=this.a,s=this.b,r=this.c,a=this.d,u=this.e,d=this.f,p=t*a-s*r;if(!p)throw new Error("Cannot invert "+this);const m=a/p,y=-s/p,b=-r/p,S=t/p,M=-(m*u+b*d),A=-(y*u+S*d);return this.a=m,this.b=y,this.c=b,this.d=S,this.e=M,this.f=A,this}lmultiply(t){return this.clone().lmultiplyO(t)}lmultiplyO(t){const s=t instanceof En?t:new En(t);return En.matrixMultiply(s,this,this)}multiply(t){return this.clone().multiplyO(t)}multiplyO(t){const s=t instanceof En?t:new En(t);return En.matrixMultiply(this,s,this)}rotate(t,s,r){return this.clone().rotateO(t,s,r)}rotateO(t,s=0,r=0){t=Pv(t);const a=Math.cos(t),u=Math.sin(t),{a:d,b:p,c:m,d:y,e:b,f:S}=this;return this.a=d*a-p*u,this.b=p*a+d*u,this.c=m*a-y*u,this.d=y*a+m*u,this.e=b*a-S*u+r*u-s*a+s,this.f=S*a+b*u-s*u-r*a+r,this}scale(){return this.clone().scaleO(...arguments)}scaleO(t,s=t,r=0,a=0){arguments.length===3&&(a=r,r=s,s=t);const{a:u,b:d,c:p,d:m,e:y,f:b}=this;return this.a=u*t,this.b=d*s,this.c=p*t,this.d=m*s,this.e=y*t-r*t+r,this.f=b*s-a*s+a,this}shear(t,s,r){return this.clone().shearO(t,s,r)}shearO(t,s=0,r=0){const{a,b:u,c:d,d:p,e:m,f:y}=this;return this.a=a+u*t,this.c=d+p*t,this.e=m+y*t-r*t,this}skew(){return this.clone().skewO(...arguments)}skewO(t,s=t,r=0,a=0){arguments.length===3&&(a=r,r=s,s=t),t=Pv(t),s=Pv(s);const u=Math.tan(t),d=Math.tan(s),{a:p,b:m,c:y,d:b,e:S,f:M}=this;return this.a=p+m*u,this.b=m+p*d,this.c=y+b*u,this.d=b+y*d,this.e=S+M*u-a*u,this.f=M+S*d-r*d,this}skewX(t,s,r){return this.skew(t,0,s,r)}skewY(t,s,r){return this.skew(0,t,s,r)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(t){if(En.isMatrixLike(t))return new En(t).multiplyO(this);const s=En.formatTransforms(t),{x:r,y:a}=new Mi(s.ox,s.oy).transform(this),u=new En().translateO(s.rx,s.ry).lmultiplyO(this).translateO(-r,-a).scaleO(s.scaleX,s.scaleY).skewO(s.skewX,s.skewY).shearO(s.shear).rotateO(s.theta).translateO(r,a);if(isFinite(s.px)||isFinite(s.py)){const d=new Mi(r,a).transform(u),p=isFinite(s.px)?s.px-d.x:0,m=isFinite(s.py)?s.py-d.y:0;u.translateO(p,m)}return u.translateO(s.tx,s.ty),u}translate(t,s){return this.clone().translateO(t,s)}translateO(t,s){return this.e+=t||0,this.f+=s||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function zl(){if(!zl.nodes){const i=Pr().size(2,0);i.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),i.attr("focusable","false"),i.attr("aria-hidden","true");const t=i.path().node;zl.nodes={svg:i,path:t}}if(!zl.nodes.svg.node.parentNode){const i=ci.document.body||ci.document.documentElement;zl.nodes.svg.addTo(i)}return zl.nodes}function cE(i){return!(i.width||i.height||i.x||i.y)}ui(En,"Matrix");class gs{constructor(...t){this.init(...t)}addOffset(){return this.x+=ci.window.pageXOffset,this.y+=ci.window.pageYOffset,new gs(this)}init(t){return t=typeof t=="string"?t.split(ol).map(parseFloat):Array.isArray(t)?t:typeof t=="object"?[t.left!=null?t.left:t.x,t.top!=null?t.top:t.y,t.width,t.height]:arguments.length===4?[].slice.call(arguments):[0,0,0,0],this.x=t[0]||0,this.y=t[1]||0,this.width=this.w=t[2]||0,this.height=this.h=t[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return cE(this)}merge(t){const s=Math.min(this.x,t.x),r=Math.min(this.y,t.y),a=Math.max(this.x+this.width,t.x+t.width)-s,u=Math.max(this.y+this.height,t.y+t.height)-r;return new gs(s,r,a,u)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(t){t instanceof En||(t=new En(t));let s=1/0,r=-1/0,a=1/0,u=-1/0;return[new Mi(this.x,this.y),new Mi(this.x2,this.y),new Mi(this.x,this.y2),new Mi(this.x2,this.y2)].forEach(function(d){d=d.transform(t),s=Math.min(s,d.x),r=Math.max(r,d.x),a=Math.min(a,d.y),u=Math.max(u,d.y)}),new gs(s,a,r-s,u-a)}}function TM(i,t,s){let r;try{if(r=t(i.node),cE(r)&&(a=i.node)!==ci.document&&!(ci.document.documentElement.contains||function(u){for(;u.parentNode;)u=u.parentNode;return u===ci.document}).call(ci.document.documentElement,a))throw new Error("Element not in the dom")}catch{r=s(i)}var a;return r}Zn({viewbox:{viewbox(i,t,s,r){return i==null?new gs(this.attr("viewBox")):this.attr("viewBox",new gs(i,t,s,r))},zoom(i,t){let{width:s,height:r}=this.attr(["width","height"]);if((s||r)&&typeof s!="string"&&typeof r!="string"||(s=this.node.clientWidth,r=this.node.clientHeight),!s||!r)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const a=this.viewbox(),u=s/a.width,d=r/a.height,p=Math.min(u,d);if(i==null)return p;let m=p/i;m===1/0&&(m=Number.MAX_SAFE_INTEGER/100),t=t||new Mi(s/2/u+a.x,r/2/d+a.y);const y=new gs(a).transform(new En({scale:m,origin:t}));return this.viewbox(y)}}}),ui(gs,"Box");class qc extends Array{constructor(t=[],...s){if(super(t,...s),typeof t=="number")return this;this.length=0,this.push(...t)}}Fn([qc],{each(i,...t){return typeof i=="function"?this.map((s,r,a)=>i.call(s,s,r,a)):this.map(s=>s[i](...t))},toArray(){return Array.prototype.concat.apply([],this)}});const R3=["toArray","constructor","each"];function iu(i,t){return new qc(gw((t||ci.document).querySelectorAll(i),function(s){return Io(s)}))}qc.extend=function(i){i=i.reduce((t,s)=>(R3.includes(s)||s[0]==="_"||(s in Array.prototype&&(t["$"+s]=Array.prototype[s]),t[s]=function(...r){return this.each(s,...r)}),t),{}),Fn([qc],i)};let L3=0;const uE={};function hE(i){let t=i.getEventHolder();return t===ci.window&&(t=uE),t.events||(t.events={}),t.events}function bw(i){return i.getEventTarget()}function Ka(i,t,s,r,a){const u=s.bind(r||i),d=Pr(i),p=hE(d),m=bw(d);t=Array.isArray(t)?t:t.split(ol),s._svgjsListenerId||(s._svgjsListenerId=++L3),t.forEach(function(y){const b=y.split(".")[0],S=y.split(".")[1]||"*";p[b]=p[b]||{},p[b][S]=p[b][S]||{},p[b][S][s._svgjsListenerId]=u,m.addEventListener(b,u,a||!1)})}function zo(i,t,s,r){const a=Pr(i),u=hE(a),d=bw(a);(typeof s!="function"||(s=s._svgjsListenerId))&&(t=Array.isArray(t)?t:(t||"").split(ol)).forEach(function(p){const m=p&&p.split(".")[0],y=p&&p.split(".")[1];let b,S;if(s)u[m]&&u[m][y||"*"]&&(d.removeEventListener(m,u[m][y||"*"][s],r||!1),delete u[m][y||"*"][s]);else if(m&&y){if(u[m]&&u[m][y]){for(S in u[m][y])zo(d,[m,y].join("."),S);delete u[m][y]}}else if(y)for(p in u)for(b in u[p])y===b&&zo(d,[p,y].join("."));else if(m){if(u[m]){for(b in u[m])zo(d,[m,b].join("."));delete u[m]}}else{for(p in u)zo(d,p);(function(M){let A=M.getEventHolder();A===ci.window&&(A=uE),A.events&&(A.events={})})(a)}})}class Tp extends yw{addEventListener(){}dispatch(t,s,r){return function(a,u,d,p){const m=bw(a);return u instanceof ci.window.Event||(u=new ci.window.CustomEvent(u,{detail:d,cancelable:!0,...p})),m.dispatchEvent(u),u}(this,t,s,r)}dispatchEvent(t){const s=this.getEventHolder().events;if(!s)return!0;const r=s[t.type];for(const a in r)for(const u in r[a])r[a][u](t);return!t.defaultPrevented}fire(t,s,r){return this.dispatch(t,s,r),this}getEventHolder(){return this}getEventTarget(){return this}off(t,s,r){return zo(this,t,s,r),this}on(t,s,r,a){return Ka(this,t,s,r,a),this}removeEventListener(){}}function AM(){}ui(Tp,"EventTarget");const Dv=400,O3=">",I3=0,F3={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class Kc extends Array{constructor(...t){super(...t),this.init(...t)}clone(){return new this.constructor(this)}init(t){return typeof t=="number"||(this.length=0,this.push(...this.parse(t))),this}parse(t=[]){return t instanceof Array?t:t.trim().split(ol).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const t=[];return t.push(...this),t}}class $n{constructor(...t){this.init(...t)}convert(t){return new $n(this.value,t)}divide(t){return t=new $n(t),new $n(this/t,this.unit||t.unit)}init(t,s){return s=Array.isArray(t)?t[1]:s,t=Array.isArray(t)?t[0]:t,this.value=0,this.unit=s||"",typeof t=="number"?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:typeof t=="string"?(s=t.match(lE))&&(this.value=parseFloat(s[1]),s[5]==="%"?this.value/=100:s[5]==="s"&&(this.value*=1e3),this.unit=s[5]):t instanceof $n&&(this.value=t.valueOf(),this.unit=t.unit),this}minus(t){return t=new $n(t),new $n(this-t,this.unit||t.unit)}plus(t){return t=new $n(t),new $n(this+t,this.unit||t.unit)}times(t){return t=new $n(t),new $n(this*t,this.unit||t.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(1e8*this.value)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const j3=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),dE=[];class Yl extends Tp{constructor(t,s){super(),this.node=t,this.type=t.nodeName,s&&t!==s&&this.attr(s)}add(t,s){return(t=Pr(t)).removeNamespace&&this.node instanceof ci.window.SVGElement&&t.removeNamespace(),s==null?this.node.appendChild(t.node):t.node!==this.node.childNodes[s]&&this.node.insertBefore(t.node,this.node.childNodes[s]),this}addTo(t,s){return Pr(t).put(this,s)}children(){return new qc(gw(this.node.children,function(t){return Io(t)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(t=!0,s=!0){this.writeDataToDom();let r=this.node.cloneNode(t);return s&&(r=aE(r)),new this.constructor(r)}each(t,s){const r=this.children();let a,u;for(a=0,u=r.length;a<u;a++)t.apply(r[a],[a,r]),s&&r[a].each(t,s);return this}element(t,s){return this.put(new Yl(tp(t),s))}first(){return Io(this.node.firstChild)}get(t){return Io(this.node.childNodes[t])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(t){return this.index(t)>=0}html(t,s){return this.xml(t,s,"http://www.w3.org/1999/xhtml")}id(t){return t!==void 0||this.node.id||(this.node.id=oE(this.type)),this.attr("id",t)}index(t){return[].slice.call(this.node.childNodes).indexOf(t.node)}last(){return Io(this.node.lastChild)}matches(t){const s=this.node,r=s.matches||s.matchesSelector||s.msMatchesSelector||s.mozMatchesSelector||s.webkitMatchesSelector||s.oMatchesSelector||null;return r&&r.call(s,t)}parent(t){let s=this;if(!s.node.parentNode)return null;if(s=Io(s.node.parentNode),!t)return s;do if(typeof t=="string"?s.matches(t):s instanceof t)return s;while(s=Io(s.node.parentNode));return s}put(t,s){return t=Pr(t),this.add(t,s),t}putIn(t,s){return Pr(t).add(this,s)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(t){return this.node.removeChild(t.node),this}replace(t){return t=Pr(t),this.node.parentNode&&this.node.parentNode.replaceChild(t.node,this.node),t}round(t=2,s=null){const r=10**t,a=this.attr(s);for(const u in a)typeof a[u]=="number"&&(a[u]=Math.round(a[u]*r)/r);return this.attr(a),this}svg(t,s){return this.xml(t,s,mw)}toString(){return this.id()}words(t){return this.node.textContent=t,this}wrap(t){const s=this.parent();if(!s)return this.addTo(t);const r=s.index(this);return s.put(t,r).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(t,s,r){if(typeof t=="boolean"&&(r=s,s=t,t=null),t==null||typeof t=="function"){s=s==null||s,this.writeDataToDom();let p=this;if(t!=null){if(p=Io(p.node.cloneNode(!0)),s){const m=t(p);if(p=m||p,m===!1)return""}p.each(function(){const m=t(this),y=m||this;m===!1?this.remove():m&&this!==y&&this.replace(y)},!0)}return s?p.node.outerHTML:p.node.innerHTML}s=s!=null&&s;const a=tp("wrapper",r),u=ci.document.createDocumentFragment();a.innerHTML=t;for(let p=a.children.length;p--;)u.appendChild(a.firstElementChild);const d=this.parent();return s?this.replace(u)&&d:this.add(u)}}Fn(Yl,{attr:function(i,t,s){if(i==null){i={},t=this.node.attributes;for(const r of t)i[r.nodeName]=MM.test(r.nodeValue)?parseFloat(r.nodeValue):r.nodeValue;return i}if(i instanceof Array)return i.reduce((r,a)=>(r[a]=this.attr(a),r),{});if(typeof i=="object"&&i.constructor===Object)for(t in i)this.attr(t,i[t]);else if(t===null)this.node.removeAttribute(i);else{if(t==null)return(t=this.node.getAttribute(i))==null?F3[i]:MM.test(t)?parseFloat(t):t;typeof(t=dE.reduce((r,a)=>a(i,r,this),t))=="number"?t=new $n(t):j3.has(i)&&Ri.isColor(t)?t=new Ri(t):t.constructor===Array&&(t=new Kc(t)),i==="leading"?this.leading&&this.leading(t):typeof s=="string"?this.node.setAttributeNS(s,i,t.toString()):this.node.setAttribute(i,t.toString()),!this.rebuild||i!=="font-size"&&i!=="x"||this.rebuild()}return this},find:function(i){return iu(i,this.node)},findOne:function(i){return Io(this.node.querySelector(i))}}),ui(Yl,"Dom");let rr=class extends Yl{constructor(i,t){super(i,t),this.dom={},this.node.instance=this,(i.hasAttribute("data-svgjs")||i.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(i.getAttribute("data-svgjs"))??JSON.parse(i.getAttribute("svgjs:data"))??{})}center(i,t){return this.cx(i).cy(t)}cx(i){return i==null?this.x()+this.width()/2:this.x(i-this.width()/2)}cy(i){return i==null?this.y()+this.height()/2:this.y(i-this.height()/2)}defs(){const i=this.root();return i&&i.defs()}dmove(i,t){return this.dx(i).dy(t)}dx(i=0){return this.x(new $n(i).plus(this.x()))}dy(i=0){return this.y(new $n(i).plus(this.y()))}getEventHolder(){return this}height(i){return this.attr("height",i)}move(i,t){return this.x(i).y(t)}parents(i=this.root()){const t=typeof i=="string";t||(i=Pr(i));const s=new qc;let r=this;for(;(r=r.parent())&&r.node!==ci.document&&r.nodeName!=="#document-fragment"&&(s.push(r),t||r.node!==i.node)&&(!t||!r.matches(i));)if(r.node===this.root().node)return null;return s}reference(i){if(!(i=this.attr(i)))return null;const t=(i+"").match(T3);return t?Pr(t[1]):null}root(){const i=this.parent(function(t){return Bc[t]}(xw));return i&&i.root()}setData(i){return this.dom=i,this}size(i,t){const s=Hh(this,i,t);return this.width(new $n(s.width)).height(new $n(s.height))}width(i){return this.attr("width",i)}writeDataToDom(){return rE(this,this.dom),super.writeDataToDom()}x(i){return this.attr("x",i)}y(i){return this.attr("y",i)}};Fn(rr,{bbox:function(){const i=TM(this,t=>t.getBBox(),t=>{try{const s=t.clone().addTo(zl().svg).show(),r=s.node.getBBox();return s.remove(),r}catch(s){throw new Error(`Getting bbox of element "${t.node.nodeName}" is not possible: ${s.toString()}`)}});return new gs(i)},rbox:function(i){const t=TM(this,r=>r.getBoundingClientRect(),r=>{throw new Error(`Getting rbox of element "${r.node.nodeName}" is not possible`)}),s=new gs(t);return i?s.transform(i.screenCTM().inverseO()):s.addOffset()},inside:function(i,t){const s=this.bbox();return i>s.x&&t>s.y&&i<s.x+s.width&&t<s.y+s.height},point:function(i,t){return new Mi(i,t).transformO(this.screenCTM().inverseO())},ctm:function(){return new En(this.node.getCTM())},screenCTM:function(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const i=this.rect(1,1),t=i.node.getScreenCTM();return i.remove(),new En(t)}return new En(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new En}}}),ui(rr,"Element");const Od={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(i,t){return t==="color"?i:i+"-"+t}};["fill","stroke"].forEach(function(i){const t={};let s;t[i]=function(r){if(r===void 0)return this.attr(i);if(typeof r=="string"||r instanceof Ri||Ri.isRgb(r)||r instanceof rr)this.attr(i,r);else for(s=Od[i].length-1;s>=0;s--)r[Od[i][s]]!=null&&this.attr(Od.prefix(i,Od[i][s]),r[Od[i][s]]);return this},Zn(["Element","Runner"],t)}),Zn(["Element","Runner"],{matrix:function(i,t,s,r,a,u){return i==null?new En(this):this.attr("transform",new En(i,t,s,r,a,u))},rotate:function(i,t,s){return this.transform({rotate:i,ox:t,oy:s},!0)},skew:function(i,t,s,r){return arguments.length===1||arguments.length===3?this.transform({skew:i,ox:t,oy:s},!0):this.transform({skew:[i,t],ox:s,oy:r},!0)},shear:function(i,t,s){return this.transform({shear:i,ox:t,oy:s},!0)},scale:function(i,t,s,r){return arguments.length===1||arguments.length===3?this.transform({scale:i,ox:t,oy:s},!0):this.transform({scale:[i,t],ox:s,oy:r},!0)},translate:function(i,t){return this.transform({translate:[i,t]},!0)},relative:function(i,t){return this.transform({relative:[i,t]},!0)},flip:function(i="both",t="center"){return"xybothtrue".indexOf(i)===-1&&(t=i,i="both"),this.transform({flip:i,origin:t},!0)},opacity:function(i){return this.attr("opacity",i)}}),Zn("radius",{radius:function(i,t=i){return(this._element||this).type==="radialGradient"?this.attr("r",new $n(i)):this.rx(i).ry(t)}}),Zn("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(i){return new Mi(this.node.getPointAtLength(i))}}),Zn(["Element","Runner"],{font:function(i,t){if(typeof i=="object"){for(t in i)this.font(t,i[t]);return this}return i==="leading"?this.leading(t):i==="anchor"?this.attr("text-anchor",t):i==="size"||i==="family"||i==="weight"||i==="stretch"||i==="variant"||i==="style"?this.attr("font-"+i,t):this.attr(i,t)}});Zn("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(i,t){return i[t]=function(s){return s===null?this.off(t):this.on(t,s),this},i},{})),Zn("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(A3).slice(0,-1).map(function(t){const s=t.trim().split("(");return[s[0],s[1].split(ol).map(function(r){return parseFloat(r)})]}).reverse().reduce(function(t,s){return s[0]==="matrix"?t.lmultiply(En.fromArray(s[1])):t[s[0]].apply(t,s[1])},new En)},toParent:function(i,t){if(this===i)return this;if(Bb(this.node))return this.addTo(i,t);const s=this.screenCTM(),r=i.screenCTM().inverse();return this.addTo(i,t).untransform().transform(r.multiply(s)),this},toRoot:function(i){return this.toParent(this.root(),i)},transform:function(i,t){if(i==null||typeof i=="string"){const r=new En(this).decompose();return i==null?r:r[i]}En.isMatrixLike(i)||(i={...i,origin:zb(i,this)});const s=new En(t===!0?this:t||!1).transform(i);return this.attr("transform",s)}});class Tr extends rr{flatten(){return this.each(function(){if(this instanceof Tr)return this.flatten().ungroup()}),this}ungroup(t=this.parent(),s=t.index(this)){return s=s===-1?t.children().length:s,this.each(function(r,a){return a[a.length-r-1].toParent(t,s)}),this.remove()}}ui(Tr,"Container");class ey extends Tr{constructor(t,s=t){super(zi("defs",t),s)}flatten(){return this}ungroup(){return this}}ui(ey,"Defs");class po extends rr{}function ww(i){return this.attr("rx",i)}function Sw(i){return this.attr("ry",i)}function fE(i){return i==null?this.cx()-this.rx():this.cx(i+this.rx())}function pE(i){return i==null?this.cy()-this.ry():this.cy(i+this.ry())}function gE(i){return this.attr("cx",i)}function mE(i){return this.attr("cy",i)}function yE(i){return i==null?2*this.rx():this.rx(new $n(i).divide(2))}function xE(i){return i==null?2*this.ry():this.ry(new $n(i).divide(2))}ui(po,"Shape");var _3=Object.freeze({__proto__:null,cx:gE,cy:mE,height:xE,rx:ww,ry:Sw,width:yE,x:fE,y:pE});let Tm=class extends po{constructor(t,s=t){super(zi("ellipse",t),s)}size(t,s){const r=Hh(this,t,s);return this.rx(new $n(r.width).divide(2)).ry(new $n(r.height).divide(2))}};Fn(Tm,_3),Zn("Container",{ellipse:_i(function(i=0,t=i){return this.put(new Tm).size(i,t).move(0,0)})}),ui(Tm,"Ellipse");class vE extends Yl{constructor(t=ci.document.createDocumentFragment()){super(t)}xml(t,s,r){if(typeof t=="boolean"&&(r=s,s=t,t=null),t==null||typeof t=="function"){const a=new Yl(tp("wrapper",r));return a.add(this.node.cloneNode(!0)),a.xml(!1,r)}return super.xml(t,!1,r)}}function bE(i,t){return(this._element||this).type==="radialGradient"?this.attr({fx:new $n(i),fy:new $n(t)}):this.attr({x1:new $n(i),y1:new $n(t)})}function wE(i,t){return(this._element||this).type==="radialGradient"?this.attr({cx:new $n(i),cy:new $n(t)}):this.attr({x2:new $n(i),y2:new $n(t)})}ui(vE,"Fragment");var z3=Object.freeze({__proto__:null,from:bE,to:wE});let Ff=class extends Tr{constructor(t,s){super(zi(t+"Gradient",typeof t=="string"?null:t),s)}attr(t,s,r){return t==="transform"&&(t="gradientTransform"),super.attr(t,s,r)}bbox(){return new gs}targets(){return iu("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}};Fn(Ff,z3),Zn({Container:{gradient(...i){return this.defs().gradient(...i)}},Defs:{gradient:_i(function(i,t){return this.put(new Ff(i)).update(t)})}}),ui(Ff,"Gradient");class np extends Tr{constructor(t,s=t){super(zi("pattern",t),s)}attr(t,s,r){return t==="transform"&&(t="patternTransform"),super.attr(t,s,r)}bbox(){return new gs}targets(){return iu("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}}Zn({Container:{pattern(...i){return this.defs().pattern(...i)}},Defs:{pattern:_i(function(i,t,s){return this.put(new np).update(s).attr({x:0,y:0,width:i,height:t,patternUnits:"userSpaceOnUse"})})}}),ui(np,"Pattern");let Am=class extends po{constructor(t,s=t){super(zi("image",t),s)}load(t,s){if(!t)return this;const r=new ci.window.Image;return Ka(r,"load",function(a){const u=this.parent(np);this.width()===0&&this.height()===0&&this.size(r.width,r.height),u instanceof np&&u.width()===0&&u.height()===0&&u.size(this.width(),this.height()),typeof s=="function"&&s.call(this,a)},this),Ka(r,"load error",function(){zo(r)}),this.attr("href",r.src=t,Wh)}};var DM;DM=function(i,t,s){return i!=="fill"&&i!=="stroke"||E3.test(t)&&(t=s.root().defs().image(t)),t instanceof Am&&(t=s.root().defs().pattern(0,0,r=>{r.add(t)})),t},dE.push(DM),Zn({Container:{image:_i(function(i,t){return this.put(new Am).size(0,0).load(i,t)})}}),ui(Am,"Image");class Ul extends Kc{bbox(){let t=-1/0,s=-1/0,r=1/0,a=1/0;return this.forEach(function(u){t=Math.max(u[0],t),s=Math.max(u[1],s),r=Math.min(u[0],r),a=Math.min(u[1],a)}),new gs(r,a,t-r,s-a)}move(t,s){const r=this.bbox();if(t-=r.x,s-=r.y,!isNaN(t)&&!isNaN(s))for(let a=this.length-1;a>=0;a--)this[a]=[this[a][0]+t,this[a][1]+s];return this}parse(t=[0,0]){const s=[];(t=t instanceof Array?Array.prototype.concat.apply([],t):t.trim().split(ol).map(parseFloat)).length%2!=0&&t.pop();for(let r=0,a=t.length;r<a;r+=2)s.push([t[r],t[r+1]]);return s}size(t,s){let r;const a=this.bbox();for(r=this.length-1;r>=0;r--)a.width&&(this[r][0]=(this[r][0]-a.x)*t/a.width+a.x),a.height&&(this[r][1]=(this[r][1]-a.y)*s/a.height+a.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const t=[];for(let s=0,r=this.length;s<r;s++)t.push(this[s].join(","));return t.join(" ")}transform(t){return this.clone().transformO(t)}transformO(t){En.isMatrixLike(t)||(t=new En(t));for(let s=this.length;s--;){const[r,a]=this[s];this[s][0]=t.a*r+t.c*a+t.e,this[s][1]=t.b*r+t.d*a+t.f}return this}}const B3=Ul;var Cw=Object.freeze({__proto__:null,MorphArray:B3,height:function(i){const t=this.bbox();return i==null?t.height:this.size(t.width,i)},width:function(i){const t=this.bbox();return i==null?t.width:this.size(i,t.height)},x:function(i){return i==null?this.bbox().x:this.move(i,this.bbox().y)},y:function(i){return i==null?this.bbox().y:this.move(this.bbox().x,i)}});let Lc=class extends po{constructor(i,t=i){super(zi("line",i),t)}array(){return new Ul([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(i,t){return this.attr(this.array().move(i,t).toLine())}plot(i,t,s,r){return i==null?this.array():(i=t!==void 0?{x1:i,y1:t,x2:s,y2:r}:new Ul(i).toLine(),this.attr(i))}size(i,t){const s=Hh(this,i,t);return this.attr(this.array().size(s.width,s.height).toLine())}};Fn(Lc,Cw),Zn({Container:{line:_i(function(...i){return Lc.prototype.plot.apply(this.put(new Lc),i[0]!=null?i:[0,0,0,0])})}}),ui(Lc,"Line");let Dm=class extends Tr{constructor(t,s=t){super(zi("marker",t),s)}height(t){return this.attr("markerHeight",t)}orient(t){return this.attr("orient",t)}ref(t,s){return this.attr("refX",t).attr("refY",s)}toString(){return"url(#"+this.id()+")"}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}width(t){return this.attr("markerWidth",t)}};function oh(i,t){return function(s){return s==null?this[i]:(this[i]=s,t&&t.call(this),this)}}Zn({Container:{marker(...i){return this.defs().marker(...i)}},Defs:{marker:_i(function(i,t,s){return this.put(new Dm).size(i,t).ref(i/2,t/2).viewbox(0,0,i,t).attr("orient","auto").update(s)})},marker:{marker(i,t,s,r){let a=["marker"];return i!=="all"&&a.push(i),a=a.join("-"),i=arguments[1]instanceof Dm?arguments[1]:this.defs().marker(t,s,r),this.attr(a,i)}}}),ui(Dm,"Marker");const V3={"-":function(i){return i},"<>":function(i){return-Math.cos(i*Math.PI)/2+.5},">":function(i){return Math.sin(i*Math.PI/2)},"<":function(i){return 1-Math.cos(i*Math.PI/2)},bezier:function(i,t,s,r){return function(a){return a<0?i>0?t/i*a:s>0?r/s*a:0:a>1?s<1?(1-r)/(1-s)*a+(r-s)/(1-s):i<1?(1-t)/(1-i)*a+(t-i)/(1-i):1:3*a*(1-a)**2*t+3*a**2*(1-a)*r+a**3}},steps:function(i,t="end"){t=t.split("-").reverse()[0];let s=i;return t==="none"?--s:t==="both"&&++s,(r,a=!1)=>{let u=Math.floor(r*i);const d=r*u%1==0;return t!=="start"&&t!=="both"||++u,a&&d&&--u,r>=0&&u<0&&(u=0),r<=1&&u>s&&(u=s),u/s}}};class kw{done(){return!1}}class Vb extends kw{constructor(t=O3){super(),this.ease=V3[t]||t}step(t,s,r){return typeof t!="number"?r<1?t:s:t+(s-t)*this.ease(r)}}class s0 extends kw{constructor(t){super(),this.stepper=t}done(t){return t.done}step(t,s,r,a){return this.stepper(t,s,r,a)}}function EM(){const i=(this._duration||500)/1e3,t=this._overshoot||0,s=Math.PI,r=Math.log(t/100+1e-10),a=-r/Math.sqrt(s*s+r*r),u=3.9/(a*i);this.d=2*a*u,this.k=u*u}Fn(class extends s0{constructor(i=500,t=0){super(),this.duration(i).overshoot(t)}step(i,t,s,r){if(typeof i=="string")return i;if(r.done=s===1/0,s===1/0)return t;if(s===0)return i;s>100&&(s=16),s/=1e3;const a=r.velocity||0,u=-this.d*a-this.k*(i-t),d=i+a*s+u*s*s/2;return r.velocity=a+u*s,r.done=Math.abs(t-d)+Math.abs(a)<.002,r.done?t:d}},{duration:oh("_duration",EM),overshoot:oh("_overshoot",EM)});Fn(class extends s0{constructor(i=.1,t=.01,s=0,r=1e3){super(),this.p(i).i(t).d(s).windup(r)}step(i,t,s,r){if(typeof i=="string")return i;if(r.done=s===1/0,s===1/0)return t;if(s===0)return i;const a=t-i;let u=(r.integral||0)+a*s;const d=(a-(r.error||0))/s,p=this._windup;return p!==!1&&(u=Math.max(-p,Math.min(u,p))),r.error=a,r.integral=u,r.done=Math.abs(a)<.001,r.done?t:i+(this.P*a+this.I*u+this.D*d)}},{windup:oh("_windup"),p:oh("P"),i:oh("I"),d:oh("D")});const H3={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},Hb={M:function(i,t,s){return t.x=s.x=i[0],t.y=s.y=i[1],["M",t.x,t.y]},L:function(i,t){return t.x=i[0],t.y=i[1],["L",i[0],i[1]]},H:function(i,t){return t.x=i[0],["H",i[0]]},V:function(i,t){return t.y=i[0],["V",i[0]]},C:function(i,t){return t.x=i[4],t.y=i[5],["C",i[0],i[1],i[2],i[3],i[4],i[5]]},S:function(i,t){return t.x=i[2],t.y=i[3],["S",i[0],i[1],i[2],i[3]]},Q:function(i,t){return t.x=i[2],t.y=i[3],["Q",i[0],i[1],i[2],i[3]]},T:function(i,t){return t.x=i[0],t.y=i[1],["T",i[0],i[1]]},Z:function(i,t,s){return t.x=s.x,t.y=s.y,["Z"]},A:function(i,t){return t.x=i[5],t.y=i[6],["A",i[0],i[1],i[2],i[3],i[4],i[5],i[6]]}},Ev="mlhvqtcsaz".split("");for(let i=0,t=Ev.length;i<t;++i)Hb[Ev[i]]=function(s){return function(r,a,u){if(s==="H")r[0]=r[0]+a.x;else if(s==="V")r[0]=r[0]+a.y;else if(s==="A")r[5]=r[5]+a.x,r[6]=r[6]+a.y;else for(let d=0,p=r.length;d<p;++d)r[d]=r[d]+(d%2?a.y:a.x);return Hb[s](r,a,u)}}(Ev[i].toUpperCase());function Wb(i){return i.segment.length&&i.segment.length-1===H3[i.segment[0].toUpperCase()]}function W3(i,t){i.inNumber&&Mc(i,!1);const s=vw.test(t);if(s)i.segment=[t];else{const r=i.lastCommand,a=r.toLowerCase(),u=r===a;i.segment=[a==="m"?u?"l":"L":r]}return i.inSegment=!0,i.lastCommand=i.segment[0],s}function Mc(i,t){if(!i.inNumber)throw new Error("Parser Error");i.number&&i.segment.push(parseFloat(i.number)),i.inNumber=t,i.number="",i.pointSeen=!1,i.hasExponent=!1,Wb(i)&&$b(i)}function $b(i){i.inSegment=!1,i.absolute&&(i.segment=function(t){const s=t.segment[0];return Hb[s](t.segment.slice(1),t.p,t.p0)}(i)),i.segments.push(i.segment)}function $3(i){if(!i.segment.length)return!1;const t=i.segment[0].toUpperCase()==="A",s=i.segment.length;return t&&(s===4||s===5)}function Y3(i){return i.lastToken.toUpperCase()==="E"}const U3=new Set([" ",",","	",`
`,"\r","\f"]);let ta=class extends Kc{bbox(){return zl().path.setAttribute("d",this.toString()),new gs(zl.nodes.path.getBBox())}move(t,s){const r=this.bbox();if(t-=r.x,s-=r.y,!isNaN(t)&&!isNaN(s))for(let a,u=this.length-1;u>=0;u--)a=this[u][0],a==="M"||a==="L"||a==="T"?(this[u][1]+=t,this[u][2]+=s):a==="H"?this[u][1]+=t:a==="V"?this[u][1]+=s:a==="C"||a==="S"||a==="Q"?(this[u][1]+=t,this[u][2]+=s,this[u][3]+=t,this[u][4]+=s,a==="C"&&(this[u][5]+=t,this[u][6]+=s)):a==="A"&&(this[u][6]+=t,this[u][7]+=s);return this}parse(t="M0 0"){return Array.isArray(t)&&(t=Array.prototype.concat.apply([],t).toString()),function(s,r=!0){let a=0,u="";const d={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:r,p0:new Mi,p:new Mi};for(;d.lastToken=u,u=s.charAt(a++);)if(d.inSegment||!W3(d,u))if(u!==".")if(isNaN(parseInt(u)))if(U3.has(u))d.inNumber&&Mc(d,!1);else if(u!=="-"&&u!=="+")if(u.toUpperCase()!=="E"){if(vw.test(u)){if(d.inNumber)Mc(d,!1);else{if(!Wb(d))throw new Error("parser Error");$b(d)}--a}}else d.number+=u,d.hasExponent=!0;else{if(d.inNumber&&!Y3(d)){Mc(d,!1),--a;continue}d.number+=u,d.inNumber=!0}else{if(d.number==="0"||$3(d)){d.inNumber=!0,d.number=u,Mc(d,!0);continue}d.inNumber=!0,d.number+=u}else{if(d.pointSeen||d.hasExponent){Mc(d,!1),--a;continue}d.inNumber=!0,d.pointSeen=!0,d.number+=u}return d.inNumber&&Mc(d,!1),d.inSegment&&Wb(d)&&$b(d),d.segments}(t)}size(t,s){const r=this.bbox();let a,u;for(r.width=r.width===0?1:r.width,r.height=r.height===0?1:r.height,a=this.length-1;a>=0;a--)u=this[a][0],u==="M"||u==="L"||u==="T"?(this[a][1]=(this[a][1]-r.x)*t/r.width+r.x,this[a][2]=(this[a][2]-r.y)*s/r.height+r.y):u==="H"?this[a][1]=(this[a][1]-r.x)*t/r.width+r.x:u==="V"?this[a][1]=(this[a][1]-r.y)*s/r.height+r.y:u==="C"||u==="S"||u==="Q"?(this[a][1]=(this[a][1]-r.x)*t/r.width+r.x,this[a][2]=(this[a][2]-r.y)*s/r.height+r.y,this[a][3]=(this[a][3]-r.x)*t/r.width+r.x,this[a][4]=(this[a][4]-r.y)*s/r.height+r.y,u==="C"&&(this[a][5]=(this[a][5]-r.x)*t/r.width+r.x,this[a][6]=(this[a][6]-r.y)*s/r.height+r.y)):u==="A"&&(this[a][1]=this[a][1]*t/r.width,this[a][2]=this[a][2]*s/r.height,this[a][6]=(this[a][6]-r.x)*t/r.width+r.x,this[a][7]=(this[a][7]-r.y)*s/r.height+r.y);return this}toString(){return function(t){let s="";for(let r=0,a=t.length;r<a;r++)s+=t[r][0],t[r][1]!=null&&(s+=t[r][1],t[r][2]!=null&&(s+=" ",s+=t[r][2],t[r][3]!=null&&(s+=" ",s+=t[r][3],s+=" ",s+=t[r][4],t[r][5]!=null&&(s+=" ",s+=t[r][5],s+=" ",s+=t[r][6],t[r][7]!=null&&(s+=" ",s+=t[r][7])))));return s+" "}(this)}};const SE=i=>{const t=typeof i;return t==="number"?$n:t==="string"?Ri.isColor(i)?Ri:ol.test(i)?vw.test(i)?ta:Kc:lE.test(i)?$n:Yb:Ub.indexOf(i.constructor)>-1?i.constructor:Array.isArray(i)?Kc:t==="object"?ip:Yb};let Tc=class{constructor(t){this._stepper=t||new Vb("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(t){return this._morphObj.morph(this._from,this._to,t,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(t,s){return t&&s},!0)}from(t){return t==null?this._from:(this._from=this._set(t),this)}stepper(t){return t==null?this._stepper:(this._stepper=t,this)}to(t){return t==null?this._to:(this._to=this._set(t),this)}type(t){return t==null?this._type:(this._type=t,this)}_set(t){this._type||this.type(SE(t));let s=new this._type(t);return this._type===Ri&&(s=this._to?s[this._to[4]]():this._from?s[this._from[4]]():s),this._type===ip&&(s=this._to?s.align(this._to):this._from?s.align(this._from):s),s=s.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(s.length)).map(Object).map(function(r){return r.done=!0,r}),s}},Yb=class{constructor(...t){this.init(...t)}init(t){return t=Array.isArray(t)?t[0]:t,this.value=t,this}toArray(){return[this.value]}valueOf(){return this.value}};class Ap{constructor(...t){this.init(...t)}init(t){return Array.isArray(t)&&(t={scaleX:t[0],scaleY:t[1],shear:t[2],rotate:t[3],translateX:t[4],translateY:t[5],originX:t[6],originY:t[7]}),Object.assign(this,Ap.defaults,t),this}toArray(){const t=this;return[t.scaleX,t.scaleY,t.shear,t.rotate,t.translateX,t.translateY,t.originX,t.originY]}}Ap.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const X3=(i,t)=>i[0]<t[0]?-1:i[0]>t[0]?1:0;class ip{constructor(...t){this.init(...t)}align(t){const s=this.values;for(let r=0,a=s.length;r<a;++r){if(s[r+1]===t[r+1]){if(s[r+1]===Ri&&t[r+7]!==s[r+7]){const p=t[r+7],m=new Ri(this.values.splice(r+3,5))[p]().toArray();this.values.splice(r+3,0,...m)}r+=s[r+2]+2;continue}if(!t[r+1])return this;const u=new t[r+1]().toArray(),d=s[r+2]+3;s.splice(r,d,t[r],t[r+1],t[r+2],...u),r+=s[r+2]+2}return this}init(t){if(this.values=[],Array.isArray(t))return void(this.values=t.slice());t=t||{};const s=[];for(const r in t){const a=SE(t[r]),u=new a(t[r]).toArray();s.push([r,a,u.length,...u])}return s.sort(X3),this.values=s.reduce((r,a)=>r.concat(a),[]),this}toArray(){return this.values}valueOf(){const t={},s=this.values;for(;s.length;){const r=s.shift(),a=s.shift(),u=s.shift(),d=s.splice(0,u);t[r]=new a(d)}return t}}const Ub=[Yb,Ap,ip];class dh extends po{constructor(t,s=t){super(zi("path",t),s)}array(){return this._array||(this._array=new ta(this.attr("d")))}clear(){return delete this._array,this}height(t){return t==null?this.bbox().height:this.size(this.bbox().width,t)}move(t,s){return this.attr("d",this.array().move(t,s))}plot(t){return t==null?this.array():this.clear().attr("d",typeof t=="string"?t:this._array=new ta(t))}size(t,s){const r=Hh(this,t,s);return this.attr("d",this.array().size(r.width,r.height))}width(t){return t==null?this.bbox().width:this.size(t,this.bbox().height)}x(t){return t==null?this.bbox().x:this.move(t,this.bbox().y)}y(t){return t==null?this.bbox().y:this.move(this.bbox().x,t)}}dh.prototype.MorphArray=ta,Zn({Container:{path:_i(function(i){return this.put(new dh).plot(i||new ta)})}}),ui(dh,"Path");var CE=Object.freeze({__proto__:null,array:function(){return this._array||(this._array=new Ul(this.attr("points")))},clear:function(){return delete this._array,this},move:function(i,t){return this.attr("points",this.array().move(i,t))},plot:function(i){return i==null?this.array():this.clear().attr("points",typeof i=="string"?i:this._array=new Ul(i))},size:function(i,t){const s=Hh(this,i,t);return this.attr("points",this.array().size(s.width,s.height))}});class Oc extends po{constructor(t,s=t){super(zi("polygon",t),s)}}Zn({Container:{polygon:_i(function(i){return this.put(new Oc).plot(i||new Ul)})}}),Fn(Oc,Cw),Fn(Oc,CE),ui(Oc,"Polygon");class Ic extends po{constructor(t,s=t){super(zi("polyline",t),s)}}Zn({Container:{polyline:_i(function(i){return this.put(new Ic).plot(i||new Ul)})}}),Fn(Ic,Cw),Fn(Ic,CE),ui(Ic,"Polyline");let Em=class extends po{constructor(t,s=t){super(zi("rect",t),s)}};Fn(Em,{rx:ww,ry:Sw}),Zn({Container:{rect:_i(function(i,t){return this.put(new Em).size(i,t)})}}),ui(Em,"Rect");class Nv{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(t){const s=t.next!==void 0?t:{value:t,next:null,prev:null};return this._last?(s.prev=this._last,this._last.next=s,this._last=s):(this._last=s,this._first=s),s}remove(t){t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t===this._last&&(this._last=t.prev),t===this._first&&(this._first=t.next),t.prev=null,t.next=null}shift(){const t=this._first;return t?(this._first=t.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,t.value):null}}const Di={nextDraw:null,frames:new Nv,timeouts:new Nv,immediates:new Nv,timer:()=>ci.window.performance||ci.window.Date,transforms:[],frame(i){const t=Di.frames.push({run:i});return Di.nextDraw===null&&(Di.nextDraw=ci.window.requestAnimationFrame(Di._draw)),t},timeout(i,t){t=t||0;const s=Di.timer().now()+t,r=Di.timeouts.push({run:i,time:s});return Di.nextDraw===null&&(Di.nextDraw=ci.window.requestAnimationFrame(Di._draw)),r},immediate(i){const t=Di.immediates.push(i);return Di.nextDraw===null&&(Di.nextDraw=ci.window.requestAnimationFrame(Di._draw)),t},cancelFrame(i){i!=null&&Di.frames.remove(i)},clearTimeout(i){i!=null&&Di.timeouts.remove(i)},cancelImmediate(i){i!=null&&Di.immediates.remove(i)},_draw(i){let t=null;const s=Di.timeouts.last();for(;(t=Di.timeouts.shift())&&(i>=t.time?t.run():Di.timeouts.push(t),t!==s););let r=null;const a=Di.frames.last();for(;r!==a&&(r=Di.frames.shift());)r.run(i);let u=null;for(;u=Di.immediates.shift();)u();Di.nextDraw=Di.timeouts.first()||Di.frames.first()?ci.window.requestAnimationFrame(Di._draw):null}},G3=function(i){const t=i.start,s=i.runner.duration();return{start:t,duration:s,end:t+s,runner:i.runner}},q3=function(){const i=ci.window;return(i.performance||i.Date).now()};class kE extends Tp{constructor(t=q3){super(),this._timeSource=t,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const t=this.getLastRunnerInfo(),s=t?t.runner.duration():0;return(t?t.start:this._time)+s}getEndTimeOfTimeline(){const t=this._runners.map(s=>s.start+s.runner.duration());return Math.max(0,...t)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(t){return this._runners[this._runnerIds.indexOf(t)]||null}pause(){return this._paused=!0,this._continue()}persist(t){return t==null?this._persist:(this._persist=t,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(t){const s=this.speed();if(t==null)return this.speed(-s);const r=Math.abs(s);return this.speed(t?-r:r)}schedule(t,s,r){if(t==null)return this._runners.map(G3);let a=0;const u=this.getEndTime();if(s=s||0,r==null||r==="last"||r==="after")a=u;else if(r==="absolute"||r==="start")a=s,s=0;else if(r==="now")a=this._time;else if(r==="relative"){const m=this.getRunnerInfoById(t.id);m&&(a=m.start+s,s=0)}else{if(r!=="with-last")throw new Error('Invalid value for the "when" parameter');{const m=this.getLastRunnerInfo();a=m?m.start:this._time}}t.unschedule(),t.timeline(this);const d=t.persist(),p={persist:d===null?this._persist:d,start:a+s,runner:t};return this._lastRunnerId=t.id,this._runners.push(p),this._runners.sort((m,y)=>m.start-y.start),this._runnerIds=this._runners.map(m=>m.runner.id),this.updateTime()._continue(),this}seek(t){return this.time(this._time+t)}source(t){return t==null?this._timeSource:(this._timeSource=t,this)}speed(t){return t==null?this._speed:(this._speed=t,this)}stop(){return this.time(0),this.pause()}time(t){return t==null?this._time:(this._time=t,this._continue(!0))}unschedule(t){const s=this._runnerIds.indexOf(t.id);return s<0||(this._runners.splice(s,1),this._runnerIds.splice(s,1),t.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(t=!1){return Di.cancelFrame(this._nextFrame),this._nextFrame=null,t?this._stepImmediate():(this._paused||(this._nextFrame=Di.frame(this._step)),this)}_stepFn(t=!1){const s=this._timeSource();let r=s-this._lastSourceTime;t&&(r=0);const a=this._speed*r+(this._time-this._lastStepTime);this._lastSourceTime=s,t||(this._time+=a,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let d=this._runners.length;d--;){const p=this._runners[d],m=p.runner;this._time-p.start<=0&&m.reset()}let u=!1;for(let d=0,p=this._runners.length;d<p;d++){const m=this._runners[d],y=m.runner;let b=a;const S=this._time-m.start;if(S<=0){u=!0;continue}S<b&&(b=S),y.active()&&(y.step(b).done?m.persist!==!0&&y.duration()-y.time()+this._time+m.persist<this._time&&(y.unschedule(),--d,--p):u=!0)}return u&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}Zn({Element:{timeline:function(i){return i==null?(this._timeline=this._timeline||new kE,this._timeline):(this._timeline=i,this)}}});class co extends Tp{constructor(t){super(),this.id=co.id++,t=typeof(t=t??Dv)=="function"?new s0(t):t,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof t=="number"&&t,this._isDeclarative=t instanceof s0,this._stepper=this._isDeclarative?t:new Vb,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new En,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(t,s,r){let a=1,u=!1,d=0;return s=s??I3,r=r||"last",typeof(t=t??Dv)!="object"||t instanceof kw||(s=t.delay??s,r=t.when??r,u=t.swing||u,a=t.times??a,d=t.wait??d,t=t.duration??Dv),{duration:t,delay:s,swing:u,times:a,wait:d,when:r}}active(t){return t==null?this.enabled:(this.enabled=t,this)}addTransform(t){return this.transforms.lmultiplyO(t),this}after(t){return this.on("finished",t)}animate(t,s,r){const a=co.sanitise(t,s,r),u=new co(a.duration);return this._timeline&&u.timeline(this._timeline),this._element&&u.element(this._element),u.loop(a).schedule(a.delay,a.when)}clearTransform(){return this.transforms=new En,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter(t=>!t.isTransform))}delay(t){return this.animate(0,t)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(t){return this.queue(null,t)}ease(t){return this._stepper=new Vb(t),this}element(t){return t==null?this._element:(this._element=t,t._prepareRunner(),this)}finish(){return this.step(1/0)}loop(t,s,r){return typeof t=="object"&&(s=t.swing,r=t.wait,t=t.times),this._times=t||1/0,this._swing=s||!1,this._wait=r||0,this._times===!0&&(this._times=1/0),this}loops(t){const s=this._duration+this._wait;if(t==null){const u=Math.floor(this._time/s),d=(this._time-u*s)/this._duration;return Math.min(u+d,this._times)}const r=t%1,a=s*Math.floor(t)+this._duration*r;return this.time(a)}persist(t){return t==null?this._persist:(this._persist=t,this)}position(t){const s=this._time,r=this._duration,a=this._wait,u=this._times,d=this._swing,p=this._reverse;let m;if(t==null){const S=function(A){const R=d*Math.floor(A%(2*(a+r))/(a+r)),E=R&&!p||!R&&p,_=Math.pow(-1,E)*(A%(a+r))/r+E;return Math.max(Math.min(_,1),0)},M=u*(a+r)-a;return m=s<=0?Math.round(S(1e-5)):s<M?S(s):Math.round(S(M-1e-5)),m}const y=Math.floor(this.loops()),b=d&&y%2==0;return m=y+(b&&!p||p&&b?t:1-t),this.loops(m)}progress(t){return t==null?Math.min(1,this._time/this.duration()):this.time(t*this.duration())}queue(t,s,r,a){return this._queue.push({initialiser:t||AM,runner:s||AM,retarget:r,isTransform:a,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(t){return this._reverse=t??!this._reverse,this}schedule(t,s,r){if(t instanceof kE||(r=s,s=t,t=this.timeline()),!t)throw Error("Runner cannot be scheduled without timeline");return t.schedule(this,s,r),this}step(t){if(!this.enabled)return this;t=t??16,this._time+=t;const s=this.position(),r=this._lastPosition!==s&&this._time>=0;this._lastPosition=s;const a=this.duration(),u=this._lastTime<=0&&this._time>0,d=this._lastTime<a&&this._time>=a;this._lastTime=this._time,u&&this.fire("start",this);const p=this._isDeclarative;this.done=!p&&!d&&this._time>=a,this._reseted=!1;let m=!1;return(r||p)&&(this._initialise(r),this.transforms=new En,m=this._run(p?t:s),this.fire("step",this)),this.done=this.done||m&&p,d&&this.fire("finished",this),this}time(t){if(t==null)return this._time;const s=t-this._time;return this.step(s),this}timeline(t){return t===void 0?this._timeline:(this._timeline=t,this)}unschedule(){const t=this.timeline();return t&&t.unschedule(this),this}_initialise(t){if(t||this._isDeclarative)for(let s=0,r=this._queue.length;s<r;++s){const a=this._queue[s],u=this._isDeclarative||!a.initialised&&t;t=!a.finished,u&&t&&(a.initialiser.call(this),a.initialised=!0)}}_rememberMorpher(t,s){if(this._history[t]={morpher:s,caller:this._queue[this._queue.length-1]},this._isDeclarative){const r=this.timeline();r&&r.play()}}_run(t){let s=!0;for(let r=0,a=this._queue.length;r<a;++r){const u=this._queue[r],d=u.runner.call(this,t);u.finished=u.finished||d===!0,s=s&&u.finished}return s}_tryRetarget(t,s,r){if(this._history[t]){if(!this._history[t].caller.initialised){const u=this._queue.indexOf(this._history[t].caller);return this._queue.splice(u,1),!1}this._history[t].caller.retarget?this._history[t].caller.retarget.call(this,s,r):this._history[t].morpher.to(s),this._history[t].caller.finished=!1;const a=this.timeline();return a&&a.play(),!0}return!1}}co.id=0;class r0{constructor(t=new En,s=-1,r=!0){this.transforms=t,this.id=s,this.done=r}clearTransformsFromQueue(){}}Fn([co,r0],{mergeWith(i){return new r0(i.transforms.lmultiply(this.transforms),i.id)}});const PE=(i,t)=>i.lmultiplyO(t),ME=i=>i.transforms;function K3(){const i=this._transformationRunners.runners.map(ME).reduce(PE,new En);this.transform(i),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}class Z3{constructor(){this.runners=[],this.ids=[]}add(t){if(this.runners.includes(t))return;const s=t.id+1;return this.runners.push(t),this.ids.push(s),this}clearBefore(t){const s=this.ids.indexOf(t+1)||1;return this.ids.splice(0,s,0),this.runners.splice(0,s,new r0).forEach(r=>r.clearTransformsFromQueue()),this}edit(t,s){const r=this.ids.indexOf(t+1);return this.ids.splice(r,1,t+1),this.runners.splice(r,1,s),this}getByID(t){return this.runners[this.ids.indexOf(t+1)]}length(){return this.ids.length}merge(){let t=null;for(let s=0;s<this.runners.length;++s){const r=this.runners[s];if(t&&r.done&&t.done&&(!r._timeline||!r._timeline._runnerIds.includes(r.id))&&(!t._timeline||!t._timeline._runnerIds.includes(t.id))){this.remove(r.id);const a=r.mergeWith(t);this.edit(t.id,a),t=a,--s}else t=r}return this}remove(t){const s=this.ids.indexOf(t+1);return this.ids.splice(s,1),this.runners.splice(s,1),this}}Zn({Element:{animate(i,t,s){const r=co.sanitise(i,t,s),a=this.timeline();return new co(r.duration).loop(r).element(this).timeline(a.play()).schedule(r.delay,r.when)},delay(i,t){return this.animate(0,i,t)},_clearTransformRunnersBefore(i){this._transformationRunners.clearBefore(i.id)},_currentTransform(i){return this._transformationRunners.runners.filter(t=>t.id<=i.id).map(ME).reduce(PE,new En)},_addRunner(i){this._transformationRunners.add(i),Di.cancelImmediate(this._frameId),this._frameId=Di.immediate(K3.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new Z3().add(new r0(new En(this))))}}});Fn(co,{attr(i,t){return this.styleAttr("attr",i,t)},css(i,t){return this.styleAttr("css",i,t)},styleAttr(i,t,s){if(typeof t=="string")return this.styleAttr(i,{[t]:s});let r=t;if(this._tryRetarget(i,r))return this;let a=new Tc(this._stepper).to(r),u=Object.keys(r);return this.queue(function(){a=a.from(this.element()[i](u))},function(d){return this.element()[i](a.at(d).valueOf()),a.done()},function(d){const p=Object.keys(d),m=(y=u,p.filter(S=>!y.includes(S)));var y;if(m.length){const S=this.element()[i](m),M=new ip(a.from()).valueOf();Object.assign(M,S),a.from(M)}const b=new ip(a.to()).valueOf();Object.assign(b,d),a.to(b),u=p,r=d}),this._rememberMorpher(i,a),this},zoom(i,t){if(this._tryRetarget("zoom",i,t))return this;let s=new Tc(this._stepper).to(new $n(i));return this.queue(function(){s=s.from(this.element().zoom())},function(r){return this.element().zoom(s.at(r),t),s.done()},function(r,a){t=a,s.to(r)}),this._rememberMorpher("zoom",s),this},transform(i,t,s){if(t=i.relative||t,this._isDeclarative&&!t&&this._tryRetarget("transform",i))return this;const r=En.isMatrixLike(i);s=i.affine!=null?i.affine:s??!r;const a=new Tc(this._stepper).type(s?Ap:En);let u,d,p,m,y;return this.queue(function(){d=d||this.element(),u=u||zb(i,d),y=new En(t?void 0:d),d._addRunner(this),t||d._clearTransformRunnersBefore(this)},function(b){t||this.clearTransform();const{x:S,y:M}=new Mi(u).transform(d._currentTransform(this));let A=new En({...i,origin:[S,M]}),R=this._isDeclarative&&p?p:y;if(s){A=A.decompose(S,M),R=R.decompose(S,M);const _=A.rotate,T=R.rotate,B=[_-360,_,_+360],z=B.map(U=>Math.abs(U-T)),W=Math.min(...z),L=z.indexOf(W);A.rotate=B[L]}t&&(r||(A.rotate=i.rotate||0),this._isDeclarative&&m&&(R.rotate=m)),a.from(R),a.to(A);const E=a.at(b);return m=E.rotate,p=new En(E),this.addTransform(p),d._addRunner(this),a.done()},function(b){(b.origin||"center").toString()!==(i.origin||"center").toString()&&(u=zb(b,d)),i={...b,origin:u}},!0),this._isDeclarative&&this._rememberMorpher("transform",a),this},x(i){return this._queueNumber("x",i)},y(i){return this._queueNumber("y",i)},ax(i){return this._queueNumber("ax",i)},ay(i){return this._queueNumber("ay",i)},dx(i=0){return this._queueNumberDelta("x",i)},dy(i=0){return this._queueNumberDelta("y",i)},dmove(i,t){return this.dx(i).dy(t)},_queueNumberDelta(i,t){if(t=new $n(t),this._tryRetarget(i,t))return this;const s=new Tc(this._stepper).to(t);let r=null;return this.queue(function(){r=this.element()[i](),s.from(r),s.to(r+t)},function(a){return this.element()[i](s.at(a)),s.done()},function(a){s.to(r+new $n(a))}),this._rememberMorpher(i,s),this},_queueObject(i,t){if(this._tryRetarget(i,t))return this;const s=new Tc(this._stepper).to(t);return this.queue(function(){s.from(this.element()[i]())},function(r){return this.element()[i](s.at(r)),s.done()}),this._rememberMorpher(i,s),this},_queueNumber(i,t){return this._queueObject(i,new $n(t))},cx(i){return this._queueNumber("cx",i)},cy(i){return this._queueNumber("cy",i)},move(i,t){return this.x(i).y(t)},amove(i,t){return this.ax(i).ay(t)},center(i,t){return this.cx(i).cy(t)},size(i,t){let s;return i&&t||(s=this._element.bbox()),i||(i=s.width/s.height*t),t||(t=s.height/s.width*i),this.width(i).height(t)},width(i){return this._queueNumber("width",i)},height(i){return this._queueNumber("height",i)},plot(i,t,s,r){if(arguments.length===4)return this.plot([i,t,s,r]);if(this._tryRetarget("plot",i))return this;const a=new Tc(this._stepper).type(this._element.MorphArray).to(i);return this.queue(function(){a.from(this._element.array())},function(u){return this._element.plot(a.at(u)),a.done()}),this._rememberMorpher("plot",a),this},leading(i){return this._queueNumber("leading",i)},viewbox(i,t,s,r){return this._queueObject("viewbox",new gs(i,t,s,r))},update(i){return typeof i!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(i.opacity!=null&&this.attr("stop-opacity",i.opacity),i.color!=null&&this.attr("stop-color",i.color),i.offset!=null&&this.attr("offset",i.offset),this)}}),Fn(co,{rx:ww,ry:Sw,from:bE,to:wE}),ui(co,"Runner");class Xb extends Tr{constructor(t,s=t){super(zi("svg",t),s),this.namespace()}defs(){return this.isRoot()?Io(this.node.querySelector("defs"))||this.put(new ey):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof ci.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:mw,version:"1.1"}).attr("xmlns:xlink",Wh,Mv):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,Mv).attr("xmlns:svgjs",null,Mv)}root(){return this.isRoot()?this:super.root()}}Zn({Container:{nested:_i(function(){return this.put(new Xb)})}}),ui(Xb,"Svg",!0);let Gb=class extends Tr{constructor(i,t=i){super(zi("symbol",i),t)}};Zn({Container:{symbol:_i(function(){return this.put(new Gb)})}}),ui(Gb,"Symbol");var TE=Object.freeze({__proto__:null,amove:function(i,t){return this.ax(i).ay(t)},ax:function(i){return this.attr("x",i)},ay:function(i){return this.attr("y",i)},build:function(i){return this._build=!!i,this},center:function(i,t,s=this.bbox()){return this.cx(i,s).cy(t,s)},cx:function(i,t=this.bbox()){return i==null?t.cx:this.attr("x",this.attr("x")+i-t.cx)},cy:function(i,t=this.bbox()){return i==null?t.cy:this.attr("y",this.attr("y")+i-t.cy)},length:function(){return this.node.getComputedTextLength()},move:function(i,t,s=this.bbox()){return this.x(i,s).y(t,s)},plain:function(i){return this._build===!1&&this.clear(),this.node.appendChild(ci.document.createTextNode(i)),this},x:function(i,t=this.bbox()){return i==null?t.x:this.attr("x",this.attr("x")+i-t.x)},y:function(i,t=this.bbox()){return i==null?t.y:this.attr("y",this.attr("y")+i-t.y)}});class na extends po{constructor(t,s=t){super(zi("text",t),s),this.dom.leading=this.dom.leading??new $n(1.3),this._rebuild=!0,this._build=!1}leading(t){return t==null?this.dom.leading:(this.dom.leading=new $n(t),this.rebuild())}rebuild(t){if(typeof t=="boolean"&&(this._rebuild=t),this._rebuild){const s=this;let r=0;const a=this.dom.leading;this.each(function(u){if(Bb(this.node))return;const d=ci.window.getComputedStyle(this.node).getPropertyValue("font-size"),p=a*new $n(d);this.dom.newLined&&(this.attr("x",s.attr("x")),this.text()===`
`?r+=p:(this.attr("dy",u?p+r:0),r=0))}),this.fire("rebuild")}return this}setData(t){return this.dom=t,this.dom.leading=new $n(t.leading||1.3),this}writeDataToDom(){return rE(this,this.dom,{leading:1.3}),this}text(t){if(t===void 0){const s=this.node.childNodes;let r=0;t="";for(let a=0,u=s.length;a<u;++a)s[a].nodeName==="textPath"||Bb(s[a])?a===0&&(r=a+1):(a!==r&&s[a].nodeType!==3&&Io(s[a]).dom.newLined===!0&&(t+=`
`),t+=s[a].textContent);return t}if(this.clear().build(!0),typeof t=="function")t.call(this,this);else for(let s=0,r=(t=(t+"").split(`
`)).length;s<r;s++)this.newLine(t[s]);return this.build(!1).rebuild()}}Fn(na,TE),Zn({Container:{text:_i(function(i=""){return this.put(new na).text(i)}),plain:_i(function(i=""){return this.put(new na).plain(i)})}}),ui(na,"Text");class Nm extends po{constructor(t,s=t){super(zi("tspan",t),s),this._build=!1}dx(t){return this.attr("dx",t)}dy(t){return this.attr("dy",t)}newLine(){this.dom.newLined=!0;const t=this.parent();if(!(t instanceof na))return this;const s=t.index(this),r=ci.window.getComputedStyle(this.node).getPropertyValue("font-size"),a=t.dom.leading*new $n(r);return this.dy(s?a:0).attr("x",t.x())}text(t){return t==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof t=="function"?(this.clear().build(!0),t.call(this,this),this.build(!1)):this.plain(t),this)}}Fn(Nm,TE),Zn({Tspan:{tspan:_i(function(i=""){const t=new Nm;return this._build||this.clear(),this.put(t).text(i)})},Text:{newLine:function(i=""){return this.tspan(i).newLine()}}}),ui(Nm,"Tspan");class Rv extends po{constructor(t,s=t){super(zi("circle",t),s)}radius(t){return this.attr("r",t)}rx(t){return this.attr("r",t)}ry(t){return this.rx(t)}size(t){return this.radius(new $n(t).divide(2))}}Fn(Rv,{x:fE,y:pE,cx:gE,cy:mE,width:yE,height:xE}),Zn({Container:{circle:_i(function(i=0){return this.put(new Rv).size(i).move(0,0)})}}),ui(Rv,"Circle");class Lv extends Tr{constructor(t,s=t){super(zi("clipPath",t),s)}remove(){return this.targets().forEach(function(t){t.unclip()}),super.remove()}targets(){return iu("svg [clip-path*="+this.id()+"]")}}Zn({Container:{clip:_i(function(){return this.defs().put(new Lv)})},Element:{clipper(){return this.reference("clip-path")},clipWith(i){const t=i instanceof Lv?i:this.parent().clip().add(i);return this.attr("clip-path","url(#"+t.id()+")")},unclip(){return this.attr("clip-path",null)}}}),ui(Lv,"ClipPath");class NM extends rr{constructor(t,s=t){super(zi("foreignObject",t),s)}}Zn({Container:{foreignObject:_i(function(i,t){return this.put(new NM).size(i,t)})}}),ui(NM,"ForeignObject");var AE=Object.freeze({__proto__:null,dmove:function(i,t){return this.children().forEach(s=>{let r;try{r=s.node instanceof Mp().SVGSVGElement?new gs(s.attr(["x","y","width","height"])):s.bbox()}catch{return}const a=new En(s),u=a.translate(i,t).transform(a.inverse()),d=new Mi(r.x,r.y).transform(u);s.move(d.x,d.y)}),this},dx:function(i){return this.dmove(i,0)},dy:function(i){return this.dmove(0,i)},height:function(i,t=this.bbox()){return i==null?t.height:this.size(t.width,i,t)},move:function(i=0,t=0,s=this.bbox()){const r=i-s.x,a=t-s.y;return this.dmove(r,a)},size:function(i,t,s=this.bbox()){const r=Hh(this,i,t,s),a=r.width/s.width,u=r.height/s.height;return this.children().forEach(d=>{const p=new Mi(s).transform(new En(d).inverse());d.scale(a,u,p.x,p.y)}),this},width:function(i,t=this.bbox()){return i==null?t.width:this.size(i,t.height,t)},x:function(i,t=this.bbox()){return i==null?t.x:this.move(i,t.y,t)},y:function(i,t=this.bbox()){return i==null?t.y:this.move(t.x,i,t)}});class Hl extends Tr{constructor(t,s=t){super(zi("g",t),s)}}Fn(Hl,AE),Zn({Container:{group:_i(function(){return this.put(new Hl)})}}),ui(Hl,"G");class Zg extends Tr{constructor(t,s=t){super(zi("a",t),s)}target(t){return this.attr("target",t)}to(t){return this.attr("href",t,Wh)}}Fn(Zg,AE),Zn({Container:{link:_i(function(i){return this.put(new Zg).to(i)})},Element:{unlink(){const i=this.linker();if(!i)return this;const t=i.parent();if(!t)return this.remove();const s=t.index(i);return t.add(this,s),i.remove(),this},linkTo(i){let t=this.linker();return t||(t=new Zg,this.wrap(t)),typeof i=="function"?i.call(t,t):t.to(i),this},linker(){const i=this.parent();return i&&i.node.nodeName.toLowerCase()==="a"?i:null}}}),ui(Zg,"A");class Ov extends Tr{constructor(t,s=t){super(zi("mask",t),s)}remove(){return this.targets().forEach(function(t){t.unmask()}),super.remove()}targets(){return iu("svg [mask*="+this.id()+"]")}}Zn({Container:{mask:_i(function(){return this.defs().put(new Ov)})},Element:{masker(){return this.reference("mask")},maskWith(i){const t=i instanceof Ov?i:this.parent().mask().add(i);return this.attr("mask","url(#"+t.id()+")")},unmask(){return this.attr("mask",null)}}}),ui(Ov,"Mask");class RM extends rr{constructor(t,s=t){super(zi("stop",t),s)}update(t){return(typeof t=="number"||t instanceof $n)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),t.opacity!=null&&this.attr("stop-opacity",t.opacity),t.color!=null&&this.attr("stop-color",t.color),t.offset!=null&&this.attr("offset",new $n(t.offset)),this}}Zn({Gradient:{stop:function(i,t,s){return this.put(new RM).update(i,t,s)}}}),ui(RM,"Stop");class Iv extends rr{constructor(t,s=t){super(zi("style",t),s)}addText(t=""){return this.node.textContent+=t,this}font(t,s,r={}){return this.rule("@font-face",{fontFamily:t,src:s,...r})}rule(t,s){return this.addText(function(r,a){if(!r)return"";if(!a)return r;let u=r+"{";for(const d in a)u+=d.replace(/([A-Z])/g,function(p,m){return"-"+m.toLowerCase()})+":"+a[d]+";";return u+="}",u}(t,s))}}Zn("Dom",{style(i,t){return this.put(new Iv).rule(i,t)},fontface(i,t,s){return this.put(new Iv).font(i,t,s)}}),ui(Iv,"Style");class Fv extends na{constructor(t,s=t){super(zi("textPath",t),s)}array(){const t=this.track();return t?t.array():null}plot(t){const s=this.track();let r=null;return s&&(r=s.plot(t)),t==null?r:this}track(){return this.reference("href")}}Zn({Container:{textPath:_i(function(i,t){return i instanceof na||(i=this.text(i)),i.path(t)})},Text:{path:_i(function(i,t=!0){const s=new Fv;let r;if(i instanceof dh||(i=this.defs().path(i)),s.attr("href","#"+i,Wh),t)for(;r=this.node.firstChild;)s.node.appendChild(r);return this.put(s)}),textPath(){return this.findOne("textPath")}},Path:{text:_i(function(i){return i instanceof na||(i=new na().addTo(this.parent()).text(i)),i.path(this)}),targets(){return iu("svg textPath").filter(i=>(i.attr("href")||"").includes(this.id()))}}}),Fv.prototype.MorphArray=ta,ui(Fv,"TextPath");class LM extends po{constructor(t,s=t){super(zi("use",t),s)}use(t,s){return this.attr("href",(s||"")+"#"+t,Wh)}}Zn({Container:{use:_i(function(i,t){return this.put(new LM).use(i,t)})}}),ui(LM,"Use");const J3=Pr;Fn([Xb,Gb,Am,np,Dm],Hr("viewbox")),Fn([Lc,Ic,Oc,dh],Hr("marker")),Fn(na,Hr("Text")),Fn(dh,Hr("Path")),Fn(ey,Hr("Defs")),Fn([na,Nm],Hr("Tspan")),Fn([Em,Tm,Ff,co],Hr("radius")),Fn(Tp,Hr("EventTarget")),Fn(Yl,Hr("Dom")),Fn(rr,Hr("Element")),Fn(po,Hr("Shape")),Fn([Tr,vE],Hr("Container")),Fn(Ff,Hr("Gradient")),Fn(co,Hr("Runner")),qc.extend([...new Set(iE)]),function(i=[]){Ub.push(...[].concat(i))}([$n,Ri,gs,En,Kc,Ul,ta,Mi]),Fn(Ub,{to(i){return new Tc().type(this.constructor).from(this.toArray()).to(i)},fromArray(i){return this.init(i),this},toConsumable(){return this.toArray()},morph(i,t,s,r,a){return this.fromArray(i.map(function(u,d){return r.step(u,t[d],s,a[d],a)}))}});class Xi extends rr{constructor(t){super(zi("filter",t),t),this.$source="SourceGraphic",this.$sourceAlpha="SourceAlpha",this.$background="BackgroundImage",this.$backgroundAlpha="BackgroundAlpha",this.$fill="FillPaint",this.$stroke="StrokePaint",this.$autoSetIn=!0}put(t,s){return!(t=super.put(t,s)).attr("in")&&this.$autoSetIn&&t.attr("in",this.$source),t.attr("result")||t.attr("result",t.id()),t}remove(){return this.targets().each("unfilter"),super.remove()}targets(){return iu('svg [filter*="'+this.id()+'"]')}toString(){return"url(#"+this.id()+")"}}class Pw extends rr{constructor(t,s){super(t,s),this.result(this.id())}in(t){if(t==null){const s=this.attr("in");return this.parent()&&this.parent().find(`[result="${s}"]`)[0]||s}return this.attr("in",t)}result(t){return this.attr("result",t)}toString(){return this.result()}}const Do=i=>function(...t){for(let s=i.length;s--;)t[s]!=null&&this.attr(i[s],t[s])},Q3={blend:Do(["in","in2","mode"]),colorMatrix:Do(["type","values"]),composite:Do(["in","in2","operator"]),convolveMatrix:function(i){i=new Kc(i).toString(),this.attr({order:Math.sqrt(i.split(" ").length),kernelMatrix:i})},diffuseLighting:Do(["surfaceScale","lightingColor","diffuseConstant","kernelUnitLength"]),displacementMap:Do(["in","in2","scale","xChannelSelector","yChannelSelector"]),dropShadow:Do(["in","dx","dy","stdDeviation"]),flood:Do(["flood-color","flood-opacity"]),gaussianBlur:function(i=0,t=i){this.attr("stdDeviation",i+" "+t)},image:function(i){this.attr("href",i,Wh)},morphology:Do(["operator","radius"]),offset:Do(["dx","dy"]),specularLighting:Do(["surfaceScale","lightingColor","diffuseConstant","specularExponent","kernelUnitLength"]),tile:Do([]),turbulence:Do(["baseFrequency","numOctaves","seed","stitchTiles","type"])};["blend","colorMatrix","componentTransfer","composite","convolveMatrix","diffuseLighting","displacementMap","dropShadow","flood","gaussianBlur","image","merge","morphology","offset","specularLighting","tile","turbulence"].forEach(i=>{const t=Vh(i),s=Q3[i];Xi[t+"Effect"]=class extends Pw{constructor(r){super(zi("fe"+t,r),r)}update(r){return s.apply(this,r),this}},Xi.prototype[i]=_i(function(r,...a){const u=new Xi[t+"Effect"];return r==null?this.put(u):(typeof r=="function"?r.call(u,u):a.unshift(r),this.put(u).update(a))})}),Fn(Xi,{merge(i){const t=this.put(new Xi.MergeEffect);return typeof i=="function"?(i.call(t,t),t):((i instanceof Array?i:[...arguments]).forEach(s=>{s instanceof Xi.MergeNode?t.put(s):t.mergeNode(s)}),t)},componentTransfer(i={}){const t=this.put(new Xi.ComponentTransferEffect);if(typeof i=="function")return i.call(t,t),t;i.r||i.g||i.b||i.a||(i={r:i,g:i,b:i,a:i});for(const s in i)t.add(new Xi["Func"+s.toUpperCase()](i[s]));return t}});["distantLight","pointLight","spotLight","mergeNode","FuncR","FuncG","FuncB","FuncA"].forEach(i=>{const t=Vh(i);Xi[t]=class extends Pw{constructor(s){super(zi("fe"+t,s),s)}}});["funcR","funcG","funcB","funcA"].forEach(function(i){const t=Xi[Vh(i)],s=_i(function(){return this.put(new t)});Xi.ComponentTransferEffect.prototype[i]=s});["distantLight","pointLight","spotLight"].forEach(i=>{const t=Xi[Vh(i)],s=_i(function(){return this.put(new t)});Xi.DiffuseLightingEffect.prototype[i]=s,Xi.SpecularLightingEffect.prototype[i]=s}),Fn(Xi.MergeEffect,{mergeNode(i){return this.put(new Xi.MergeNode).attr("in",i)}}),Fn(ey,{filter:function(i){const t=this.put(new Xi);return typeof i=="function"&&i.call(t,t),t}}),Fn(Tr,{filter:function(i){return this.defs().filter(i)}}),Fn(rr,{filterWith:function(i){const t=i instanceof Xi?i:this.defs().filter(i);return this.attr("filter",t)},unfilter:function(i){return this.attr("filter",null)},filterer(){return this.reference("filter")}});const eU={blend:function(i,t){return this.parent()&&this.parent().blend(this,i,t)},colorMatrix:function(i,t){return this.parent()&&this.parent().colorMatrix(i,t).in(this)},componentTransfer:function(i){return this.parent()&&this.parent().componentTransfer(i).in(this)},composite:function(i,t){return this.parent()&&this.parent().composite(this,i,t)},convolveMatrix:function(i){return this.parent()&&this.parent().convolveMatrix(i).in(this)},diffuseLighting:function(i,t,s,r){return this.parent()&&this.parent().diffuseLighting(i,s,r).in(this)},displacementMap:function(i,t,s,r){return this.parent()&&this.parent().displacementMap(this,i,t,s,r)},dropShadow:function(i,t,s){return this.parent()&&this.parent().dropShadow(this,i,t,s).in(this)},flood:function(i,t){return this.parent()&&this.parent().flood(i,t)},gaussianBlur:function(i,t){return this.parent()&&this.parent().gaussianBlur(i,t).in(this)},image:function(i){return this.parent()&&this.parent().image(i)},merge:function(i){return i=i instanceof Array?i:[...i],this.parent()&&this.parent().merge(this,...i)},morphology:function(i,t){return this.parent()&&this.parent().morphology(i,t).in(this)},offset:function(i,t){return this.parent()&&this.parent().offset(i,t).in(this)},specularLighting:function(i,t,s,r,a){return this.parent()&&this.parent().specularLighting(i,s,r,a).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(i,t,s,r,a){return this.parent()&&this.parent().turbulence(i,t,s,r,a).in(this)}};Fn(Pw,eU),Fn(Xi.MergeEffect,{in:function(i){return i instanceof Xi.MergeNode?this.add(i,0):this.add(new Xi.MergeNode().in(i),0),this}}),Fn([Xi.CompositeEffect,Xi.BlendEffect,Xi.DisplacementMapEffect],{in2:function(i){if(i==null){const t=this.attr("in2");return this.parent()&&this.parent().find(`[result="${t}"]`)[0]||t}return this.attr("in2",i)}}),Xi.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]};var sr=function(){function i(t){ln(this,i),this.ctx=t,this.w=t.w}return cn(i,[{key:"getDefaultFilter",value:function(t,s){var r=this.w;t.unfilter(!0),new Xi().size("120%","180%","-5%","-40%"),r.config.chart.dropShadow.enabled&&this.dropShadow(t,r.config.chart.dropShadow,s)}},{key:"applyFilter",value:function(t,s,r){var a,u=this,d=this.w;if(t.unfilter(!0),r!=="none"){var p,m,y=d.config.chart.dropShadow,b=r==="lighten"?2:.3;t.filterWith(function(S){S.colorMatrix({type:"matrix",values:`
          `.concat(b,` 0 0 0 0
          0 `).concat(b,` 0 0 0
          0 0 `).concat(b,` 0 0
          0 0 0 1 0
        `),in:"SourceGraphic",result:"brightness"}),y.enabled&&u.addShadow(S,s,y,"brightness")}),!y.noUserSpaceOnUse&&((p=t.filterer())===null||p===void 0||(m=p.node)===null||m===void 0||m.setAttribute("filterUnits","userSpaceOnUse")),this._scaleFilterSize((a=t.filterer())===null||a===void 0?void 0:a.node)}else this.getDefaultFilter(t,s)}},{key:"addShadow",value:function(t,s,r,a){var u,d=this.w,p=r.blur,m=r.top,y=r.left,b=r.color,S=r.opacity;if(b=Array.isArray(b)?b[s]:b,((u=d.config.chart.dropShadow.enabledOnSeries)===null||u===void 0?void 0:u.length)>0&&d.config.chart.dropShadow.enabledOnSeries.indexOf(s)===-1)return t;t.offset({in:a,dx:y,dy:m,result:"offset"}),t.gaussianBlur({in:"offset",stdDeviation:p,result:"blur"}),t.flood({"flood-color":b,"flood-opacity":S,result:"flood"}),t.composite({in:"flood",in2:"blur",operator:"in",result:"shadow"}),t.merge(["shadow",a])}},{key:"dropShadow",value:function(t,s){var r,a,u,d,p,m=this,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,b=this.w;return t.unfilter(!0),Ye.isMsEdge()&&b.config.chart.type==="radialBar"||((r=b.config.chart.dropShadow.enabledOnSeries)===null||r===void 0?void 0:r.length)>0&&((u=b.config.chart.dropShadow.enabledOnSeries)===null||u===void 0?void 0:u.indexOf(y))===-1?t:(t.filterWith(function(S){m.addShadow(S,y,s,"SourceGraphic")}),s.noUserSpaceOnUse||(d=t.filterer())===null||d===void 0||(p=d.node)===null||p===void 0||p.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize((a=t.filterer())===null||a===void 0?void 0:a.node),t)}},{key:"setSelectionFilter",value:function(t,s,r){var a=this.w;if(a.globals.selectedDataPoints[s]!==void 0&&a.globals.selectedDataPoints[s].indexOf(r)>-1){t.node.setAttribute("selected",!0);var u=a.config.states.active.filter;u!=="none"&&this.applyFilter(t,s,u.type)}}},{key:"_scaleFilterSize",value:function(t){t&&function(s){for(var r in s)s.hasOwnProperty(r)&&t.setAttribute(r,s[r])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),i}(),Dt=function(){function i(t){ln(this,i),this.ctx=t,this.w=t.w}return cn(i,[{key:"roundPathCorners",value:function(t,s){function r(q,ee,te){var ce=ee.x-q.x,re=ee.y-q.y,ae=Math.sqrt(ce*ce+re*re);return a(q,ee,Math.min(1,te/ae))}function a(q,ee,te){return{x:q.x+(ee.x-q.x)*te,y:q.y+(ee.y-q.y)*te}}function u(q,ee){q.length>2&&(q[q.length-2]=ee.x,q[q.length-1]=ee.y)}function d(q){return{x:parseFloat(q[q.length-2]),y:parseFloat(q[q.length-1])}}t.indexOf("NaN")>-1&&(t="");var p=t.split(/[,\s]/).reduce(function(q,ee){var te=ee.match(/^([a-zA-Z])(.+)/);return te?(q.push(te[1]),q.push(te[2])):q.push(ee),q},[]).reduce(function(q,ee){return parseFloat(ee)==ee&&q.length?q[q.length-1].push(ee):q.push([ee]),q},[]),m=[];if(p.length>1){var y=d(p[0]),b=null;p[p.length-1][0]=="Z"&&p[0].length>2&&(b=["L",y.x,y.y],p[p.length-1]=b),m.push(p[0]);for(var S=1;S<p.length;S++){var M=m[m.length-1],A=p[S],R=A==b?p[1]:p[S+1];if(R&&M&&M.length>2&&A[0]=="L"&&R.length>2&&R[0]=="L"){var E,_,T=d(M),B=d(A),z=d(R);E=r(B,T,s),_=r(B,z,s),u(A,E),A.origPoint=B,m.push(A);var W=a(E,B,.5),L=a(B,_,.5),U=["C",W.x,W.y,L.x,L.y,_.x,_.y];U.origPoint=B,m.push(U)}else m.push(A)}if(b){var I=d(m[m.length-1]);m.push(["Z"]),u(m[0],I)}}else m=p;return m.reduce(function(q,ee){return q+ee.join(" ")+" "},"")}},{key:"drawLine",value:function(t,s,r,a){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",d=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,p=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,m=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:t,y1:s,x2:r,y2:a,stroke:u,"stroke-dasharray":d,"stroke-width":p,"stroke-linecap":m})}},{key:"drawRect",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,d=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",p=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,m=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,y=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,b=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,S=this.w.globals.dom.Paper.rect();return S.attr({x:t,y:s,width:r>0?r:0,height:a>0?a:0,rx:u,ry:u,opacity:p,"stroke-width":m!==null?m:0,stroke:y!==null?y:"none","stroke-dasharray":b}),S.node.setAttribute("fill",d),S}},{key:"drawPolygon",value:function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(t).attr({fill:a,stroke:s,"stroke-width":r})}},{key:"drawCircle",value:function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;t<0&&(t=0);var r=this.w.globals.dom.Paper.circle(2*t);return s!==null&&r.attr(s),r}},{key:"drawPath",value:function(t){var s=t.d,r=s===void 0?"":s,a=t.stroke,u=a===void 0?"#a8a8a8":a,d=t.strokeWidth,p=d===void 0?1:d,m=t.fill,y=t.fillOpacity,b=y===void 0?1:y,S=t.strokeOpacity,M=S===void 0?1:S,A=t.classes,R=t.strokeLinecap,E=R===void 0?null:R,_=t.strokeDashArray,T=_===void 0?0:_,B=this.w;return E===null&&(E=B.config.stroke.lineCap),(r.indexOf("undefined")>-1||r.indexOf("NaN")>-1)&&(r="M 0 ".concat(B.globals.gridHeight)),B.globals.dom.Paper.path(r).attr({fill:m,"fill-opacity":b,stroke:u,"stroke-opacity":M,"stroke-linecap":E,"stroke-width":p,"stroke-dasharray":T,class:A})}},{key:"group",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,s=this.w.globals.dom.Paper.group();return t!==null&&s.attr(t),s}},{key:"move",value:function(t,s){var r=["M",t,s].join(" ");return r}},{key:"line",value:function(t,s){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=null;return r===null?a=[" L",t,s].join(" "):r==="H"?a=[" H",t].join(" "):r==="V"&&(a=[" V",s].join(" ")),a}},{key:"curve",value:function(t,s,r,a,u,d){var p=["C",t,s,r,a,u,d].join(" ");return p}},{key:"quadraticCurve",value:function(t,s,r,a){return["Q",t,s,r,a].join(" ")}},{key:"arc",value:function(t,s,r,a,u,d,p){var m="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(m="a");var y=[m,t,s,r,a,u,d,p].join(" ");return y}},{key:"renderPaths",value:function(t){var s,r=t.j,a=t.realIndex,u=t.pathFrom,d=t.pathTo,p=t.stroke,m=t.strokeWidth,y=t.strokeLinecap,b=t.fill,S=t.animationDelay,M=t.initialSpeed,A=t.dataChangeSpeed,R=t.className,E=t.chartType,_=t.shouldClipToGrid,T=_===void 0||_,B=t.bindEventsOnPaths,z=B===void 0||B,W=t.drawShadow,L=W===void 0||W,U=this.w,I=new sr(this.ctx),q=new Bh(this.ctx),ee=this.w.config.chart.animations.enabled,te=ee&&this.w.config.chart.animations.dynamicAnimation.enabled;if(u&&u.startsWith("M 0 0")&&d){var ce=d.match(/^M\s+[\d.-]+\s+[\d.-]+/);ce&&(u=u.replace(/^M\s+0\s+0/,ce[0]))}var re=!!(ee&&!U.globals.resized||te&&U.globals.dataChanged&&U.globals.shouldAnimate);re?s=u:(s=d,U.globals.animationEnded=!0);var ae=U.config.stroke.dashArray,ue=0;ue=Array.isArray(ae)?ae[a]:U.config.stroke.dashArray;var ie=this.drawPath({d:s,stroke:p,strokeWidth:m,fill:b,fillOpacity:1,classes:R,strokeLinecap:y,strokeDashArray:ue});ie.attr("index",a),T&&(E==="bar"&&!U.globals.isHorizontal||U.globals.comboCharts?ie.attr({"clip-path":"url(#gridRectBarMask".concat(U.globals.cuid,")")}):ie.attr({"clip-path":"url(#gridRectMask".concat(U.globals.cuid,")")})),U.config.chart.dropShadow.enabled&&L&&I.dropShadow(ie,U.config.chart.dropShadow,a),z&&(ie.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,ie)),ie.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,ie)),ie.node.addEventListener("mousedown",this.pathMouseDown.bind(this,ie))),ie.attr({pathTo:d,pathFrom:u});var he={el:ie,j:r,realIndex:a,pathFrom:u,pathTo:d,fill:b,strokeWidth:m,delay:S};return!ee||U.globals.resized||U.globals.dataChanged?!U.globals.resized&&U.globals.dataChanged||q.showDelayedElements():q.animatePathsGradually(Yt(Yt({},he),{},{speed:M})),U.globals.dataChanged&&te&&re&&q.animatePathsGradually(Yt(Yt({},he),{},{speed:A})),ie}},{key:"drawPattern",value:function(t,s,r){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(s,r,function(d){t==="horizontalLines"?d.line(0,0,r,0).stroke({color:a,width:u+1}):t==="verticalLines"?d.line(0,0,0,s).stroke({color:a,width:u+1}):t==="slantedLines"?d.line(0,0,s,r).stroke({color:a,width:u}):t==="squares"?d.rect(s,r).fill("none").stroke({color:a,width:u}):t==="circles"&&d.circle(s).fill("none").stroke({color:a,width:u})})}},{key:"drawGradient",value:function(t,s,r,a,u){var d,p=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,m=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,y=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],b=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,S=this.w;s.length<9&&s.indexOf("#")===0&&(s=Ye.hexToRgba(s,a)),r.length<9&&r.indexOf("#")===0&&(r=Ye.hexToRgba(r,u));var M=0,A=1,R=1,E=null;m!==null&&(M=m[0]!==void 0?m[0]/100:0,A=m[1]!==void 0?m[1]/100:1,R=m[2]!==void 0?m[2]/100:1,E=m[3]!==void 0?m[3]/100:null);var _=!(S.config.chart.type!=="donut"&&S.config.chart.type!=="pie"&&S.config.chart.type!=="polarArea"&&S.config.chart.type!=="bubble");if(d=y&&y.length!==0?S.globals.dom.Paper.gradient(_?"radial":"linear",function(z){(Array.isArray(y[b])?y[b]:y).forEach(function(W){z.stop(W.offset/100,W.color,W.opacity)})}):S.globals.dom.Paper.gradient(_?"radial":"linear",function(z){z.stop(M,s,a),z.stop(A,r,u),z.stop(R,r,u),E!==null&&z.stop(E,s,a)}),_){var T=S.globals.gridWidth/2,B=S.globals.gridHeight/2;S.config.chart.type!=="bubble"?d.attr({gradientUnits:"userSpaceOnUse",cx:T,cy:B,r:p}):d.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else t==="vertical"?d.from(0,0).to(0,1):t==="diagonal"?d.from(0,0).to(1,1):t==="horizontal"?d.from(0,1).to(1,1):t==="diagonal2"&&d.from(1,0).to(0,1);return d}},{key:"getTextBasedOnMaxWidth",value:function(t){var s=t.text,r=t.maxWidth,a=t.fontSize,u=t.fontFamily,d=this.getTextRects(s,a,u),p=d.width/s.length,m=Math.floor(r/p);return r<d.width?s.slice(0,m-3)+"...":s}},{key:"drawText",value:function(t){var s=this,r=t.x,a=t.y,u=t.text,d=t.textAnchor,p=t.fontSize,m=t.fontFamily,y=t.fontWeight,b=t.foreColor,S=t.opacity,M=t.maxWidth,A=t.cssClass,R=A===void 0?"":A,E=t.isPlainText,_=E===void 0||E,T=t.dominantBaseline,B=T===void 0?"auto":T,z=this.w;u===void 0&&(u="");var W=u;d||(d="start"),b&&b.length||(b=z.config.chart.foreColor),m=m||z.config.chart.fontFamily,y=y||"regular";var L,U={maxWidth:M,fontSize:p=p||"11px",fontFamily:m};return Array.isArray(u)?L=z.globals.dom.Paper.text(function(I){for(var q=0;q<u.length;q++)W=u[q],M&&(W=s.getTextBasedOnMaxWidth(Yt({text:u[q]},U))),q===0?I.tspan(W):I.tspan(W).newLine()}):(M&&(W=this.getTextBasedOnMaxWidth(Yt({text:u},U))),L=_?z.globals.dom.Paper.plain(u):z.globals.dom.Paper.text(function(I){return I.tspan(W)})),L.attr({x:r,y:a,"text-anchor":d,"dominant-baseline":B,"font-size":p,"font-family":m,"font-weight":y,fill:b,class:"apexcharts-text "+R}),L.node.style.fontFamily=m,L.node.style.opacity=S,L}},{key:"getMarkerPath",value:function(t,s,r,a){var u="";switch(r){case"cross":u="M ".concat(t-(a/=1.4)," ").concat(s-a," L ").concat(t+a," ").concat(s+a,"  M ").concat(t-a," ").concat(s+a," L ").concat(t+a," ").concat(s-a);break;case"plus":u="M ".concat(t-(a/=1.12)," ").concat(s," L ").concat(t+a," ").concat(s,"  M ").concat(t," ").concat(s-a," L ").concat(t," ").concat(s+a);break;case"star":case"sparkle":var d=5;a*=1.15,r==="sparkle"&&(a/=1.1,d=4);for(var p=Math.PI/d,m=0;m<=2*d;m++){var y=m*p,b=m%2==0?a:a/2;u+=(m===0?"M":"L")+(t+b*Math.sin(y))+","+(s-b*Math.cos(y))}u+="Z";break;case"triangle":u="M ".concat(t," ").concat(s-a,` 
             L `).concat(t+a," ").concat(s+a,` 
             L `).concat(t-a," ").concat(s+a,` 
             Z`);break;case"square":case"rect":u="M ".concat(t-(a/=1.125)," ").concat(s-a,` 
           L `).concat(t+a," ").concat(s-a,` 
           L `).concat(t+a," ").concat(s+a,` 
           L `).concat(t-a," ").concat(s+a,` 
           Z`);break;case"diamond":a*=1.05,u="M ".concat(t," ").concat(s-a,` 
             L `).concat(t+a," ").concat(s,` 
             L `).concat(t," ").concat(s+a,` 
             L `).concat(t-a," ").concat(s,` 
            Z`);break;case"line":u="M ".concat(t-(a/=1.1)," ").concat(s,` 
           L `).concat(t+a," ").concat(s);break;default:a*=2,u="M ".concat(t,", ").concat(s,` 
           m -`).concat(a/2,`, 0 
           a `).concat(a/2,",").concat(a/2," 0 1,0 ").concat(a,`,0 
           a `).concat(a/2,",").concat(a/2," 0 1,0 -").concat(a,",0")}return u}},{key:"drawMarkerShape",value:function(t,s,r,a,u){var d=this.drawPath({d:this.getMarkerPath(t,s,r,a,u),stroke:u.pointStrokeColor,strokeDashArray:u.pointStrokeDashArray,strokeWidth:u.pointStrokeWidth,fill:u.pointFillColor,fillOpacity:u.pointFillOpacity,strokeOpacity:u.pointStrokeOpacity});return d.attr({cx:t,cy:s,shape:u.shape,class:u.class?u.class:""}),d}},{key:"drawMarker",value:function(t,s,r){t=t||0;var a=r.pSize||0;return Ye.isNumber(s)||(a=0,s=0),this.drawMarkerShape(t,s,r?.shape,a,Yt(Yt({},r),r.shape==="line"||r.shape==="plus"||r.shape==="cross"?{pointStrokeColor:r.pointFillColor,pointStrokeOpacity:r.pointFillOpacity}:{}))}},{key:"pathMouseEnter",value:function(t,s){var r=this.w,a=new sr(this.ctx),u=parseInt(t.node.getAttribute("index"),10),d=parseInt(t.node.getAttribute("j"),10);if(typeof r.config.chart.events.dataPointMouseEnter=="function"&&r.config.chart.events.dataPointMouseEnter(s,this.ctx,{seriesIndex:u,dataPointIndex:d,w:r}),this.ctx.events.fireEvent("dataPointMouseEnter",[s,this.ctx,{seriesIndex:u,dataPointIndex:d,w:r}]),(r.config.states.active.filter.type==="none"||t.node.getAttribute("selected")!=="true")&&r.config.states.hover.filter.type!=="none"&&!r.globals.isTouchDevice){var p=r.config.states.hover.filter;a.applyFilter(t,u,p.type)}}},{key:"pathMouseLeave",value:function(t,s){var r=this.w,a=new sr(this.ctx),u=parseInt(t.node.getAttribute("index"),10),d=parseInt(t.node.getAttribute("j"),10);typeof r.config.chart.events.dataPointMouseLeave=="function"&&r.config.chart.events.dataPointMouseLeave(s,this.ctx,{seriesIndex:u,dataPointIndex:d,w:r}),this.ctx.events.fireEvent("dataPointMouseLeave",[s,this.ctx,{seriesIndex:u,dataPointIndex:d,w:r}]),r.config.states.active.filter.type!=="none"&&t.node.getAttribute("selected")==="true"||r.config.states.hover.filter.type!=="none"&&a.getDefaultFilter(t,u)}},{key:"pathMouseDown",value:function(t,s){var r=this.w,a=new sr(this.ctx),u=parseInt(t.node.getAttribute("index"),10),d=parseInt(t.node.getAttribute("j"),10),p="false";if(t.node.getAttribute("selected")==="true"){if(t.node.setAttribute("selected","false"),r.globals.selectedDataPoints[u].indexOf(d)>-1){var m=r.globals.selectedDataPoints[u].indexOf(d);r.globals.selectedDataPoints[u].splice(m,1)}}else{if(!r.config.states.active.allowMultipleDataPointsSelection&&r.globals.selectedDataPoints.length>0){r.globals.selectedDataPoints=[];var y=r.globals.dom.Paper.find(".apexcharts-series path:not(.apexcharts-decoration-element)"),b=r.globals.dom.Paper.find(".apexcharts-series circle:not(.apexcharts-decoration-element), .apexcharts-series rect:not(.apexcharts-decoration-element)"),S=function(R){Array.prototype.forEach.call(R,function(E){E.node.setAttribute("selected","false"),a.getDefaultFilter(E,u)})};S(y),S(b)}t.node.setAttribute("selected","true"),p="true",r.globals.selectedDataPoints[u]===void 0&&(r.globals.selectedDataPoints[u]=[]),r.globals.selectedDataPoints[u].push(d)}if(p==="true"){var M=r.config.states.active.filter;if(M!=="none")a.applyFilter(t,u,M.type);else if(r.config.states.hover.filter!=="none"&&!r.globals.isTouchDevice){var A=r.config.states.hover.filter;a.applyFilter(t,u,A.type)}}else r.config.states.active.filter.type!=="none"&&(r.config.states.hover.filter.type==="none"||r.globals.isTouchDevice?a.getDefaultFilter(t,u):(A=r.config.states.hover.filter,a.applyFilter(t,u,A.type)));typeof r.config.chart.events.dataPointSelection=="function"&&r.config.chart.events.dataPointSelection(s,this.ctx,{selectedDataPoints:r.globals.selectedDataPoints,seriesIndex:u,dataPointIndex:d,w:r}),s&&this.ctx.events.fireEvent("dataPointSelection",[s,this.ctx,{selectedDataPoints:r.globals.selectedDataPoints,seriesIndex:u,dataPointIndex:d,w:r}])}},{key:"rotateAroundCenter",value:function(t){var s={};return t&&typeof t.getBBox=="function"&&(s=t.getBBox()),{x:s.x+s.width/2,y:s.y+s.height/2}}},{key:"getTextRects",value:function(t,s,r,a){var u=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],d=this.w,p=this.drawText({x:-200,y:-200,text:t,textAnchor:"start",fontSize:s,fontFamily:r,foreColor:"#fff",opacity:0});a&&p.attr("transform",a),d.globals.dom.Paper.add(p);var m=p.bbox();return u||(m=p.node.getBoundingClientRect()),p.remove(),{width:m.width,height:m.height}}},{key:"placeTextWithEllipsis",value:function(t,s,r){if(typeof t.getComputedTextLength=="function"&&(t.textContent=s,s.length>0&&t.getComputedTextLength()>=r/1.1)){for(var a=s.length-3;a>0;a-=3)if(t.getSubStringLength(0,a)<=r/1.1)return void(t.textContent=s.substring(0,a)+"...");t.textContent="."}}}],[{key:"setAttrs",value:function(t,s){for(var r in s)s.hasOwnProperty(r)&&t.setAttribute(r,s[r])}}]),i}(),ms=function(){function i(t){ln(this,i),this.ctx=t,this.w=t.w}return cn(i,[{key:"getStackedSeriesTotals",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],s=this.w,r=[];if(s.globals.series.length===0)return r;for(var a=0;a<s.globals.series[s.globals.maxValsInArrayIndex].length;a++){for(var u=0,d=0;d<s.globals.series.length;d++)s.globals.series[d][a]!==void 0&&t.indexOf(d)===-1&&(u+=s.globals.series[d][a]);r.push(u)}return r}},{key:"getSeriesTotalByIndex",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return t===null?this.w.config.series.reduce(function(s,r){return s+r},0):this.w.globals.series[t].reduce(function(s,r){return s+r},0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var t=this,s=this.w,r=[];return s.globals.seriesGroups.forEach(function(a){var u=[];s.config.series.forEach(function(p,m){a.indexOf(s.globals.seriesNames[m])>-1&&u.push(m)});var d=s.globals.series.map(function(p,m){return u.indexOf(m)===-1?m:-1}).filter(function(p){return p!==-1});r.push(t.getStackedSeriesTotals(d))}),r}},{key:"setSeriesYAxisMappings",value:function(){var t=this.w.globals,s=this.w.config,r=[],a=[],u=[],d=t.series.length>s.yaxis.length||s.yaxis.some(function(S){return Array.isArray(S.seriesName)});s.series.forEach(function(S,M){u.push(M),a.push(null)}),s.yaxis.forEach(function(S,M){r[M]=[]});var p=[];s.yaxis.forEach(function(S,M){var A=!1;if(S.seriesName){var R=[];Array.isArray(S.seriesName)?R=S.seriesName:R.push(S.seriesName),R.forEach(function(E){s.series.forEach(function(_,T){if(_.name===E){var B=T;M===T||d?!d||u.indexOf(T)>-1?r[M].push([M,T]):console.warn("Series '"+_.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(r[T].push([T,M]),B=M),A=!0,(B=u.indexOf(B))!==-1&&u.splice(B,1)}})})}A||p.push(M)}),r=r.map(function(S,M){var A=[];return S.forEach(function(R){a[R[1]]=R[0],A.push(R[1])}),A});for(var m=s.yaxis.length-1,y=0;y<p.length&&(m=p[y],r[m]=[],u);y++){var b=u[0];u.shift(),r[m].push(b),a[b]=m}u.forEach(function(S){r[m].push(S),a[S]=m}),t.seriesYAxisMap=r.map(function(S){return S}),t.seriesYAxisReverseMap=a.map(function(S){return S}),t.seriesYAxisMap.forEach(function(S,M){S.forEach(function(A){s.series[A]&&s.series[A].group===void 0&&(s.series[A].group="apexcharts-axis-".concat(M.toString()))})})}},{key:"isSeriesNull",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(t===null?this.w.config.series.filter(function(s){return s!==null}):this.w.config.series[t].data.filter(function(s){return s!==null})).length===0}},{key:"seriesHaveSameValues",value:function(t){return this.w.globals.series[t].every(function(s,r,a){return s===a[0]})}},{key:"getCategoryLabels",value:function(t){var s=this.w,r=t.slice();return s.config.xaxis.convertedCatToNumeric&&(r=t.map(function(a,u){return s.config.xaxis.labels.formatter(a-s.globals.minX+1)})),r}},{key:"getLargestSeries",value:function(){var t=this.w;t.globals.maxValsInArrayIndex=t.globals.series.map(function(s){return s.length}).indexOf(Math.max.apply(Math,t.globals.series.map(function(s){return s.length})))}},{key:"getLargestMarkerSize",value:function(){var t=this.w,s=0;return t.globals.markers.size.forEach(function(r){s=Math.max(s,r)}),t.config.markers.discrete&&t.config.markers.discrete.length&&t.config.markers.discrete.forEach(function(r){s=Math.max(s,r.size)}),s>0&&(t.config.markers.hover.size>0?s=t.config.markers.hover.size:s+=t.config.markers.hover.sizeOffset),t.globals.markers.largestSize=s,s}},{key:"getSeriesTotals",value:function(){var t=this.w;t.globals.seriesTotals=t.globals.series.map(function(s,r){var a=0;if(Array.isArray(s))for(var u=0;u<s.length;u++)a+=s[u];else a+=s;return a})}},{key:"getSeriesTotalsXRange",value:function(t,s){var r=this.w;return r.globals.series.map(function(a,u){for(var d=0,p=0;p<a.length;p++)r.globals.seriesX[u][p]>t&&r.globals.seriesX[u][p]<s&&(d+=a[p]);return d})}},{key:"getPercentSeries",value:function(){var t=this.w;t.globals.seriesPercent=t.globals.series.map(function(s,r){var a=[];if(Array.isArray(s))for(var u=0;u<s.length;u++){var d=t.globals.stackedSeriesTotals[u],p=0;d&&(p=100*s[u]/d),a.push(p)}else{var m=100*s/t.globals.seriesTotals.reduce(function(y,b){return y+b},0);a.push(m)}return a})}},{key:"getCalculatedRatios",value:function(){var t,s,r,a=this,u=this.w,d=u.globals,p=[],m=0,y=[],b=.1,S=0;if(d.yRange=[],d.isMultipleYAxis)for(var M=0;M<d.minYArr.length;M++)d.yRange.push(Math.abs(d.minYArr[M]-d.maxYArr[M])),y.push(0);else d.yRange.push(Math.abs(d.minY-d.maxY));d.xRange=Math.abs(d.maxX-d.minX),d.zRange=Math.abs(d.maxZ-d.minZ);for(var A=0;A<d.yRange.length;A++)p.push(d.yRange[A]/d.gridHeight);if(s=d.xRange/d.gridWidth,t=d.yRange/d.gridWidth,r=d.xRange/d.gridHeight,(m=d.zRange/d.gridHeight*16)||(m=1),d.minY!==Number.MIN_VALUE&&Math.abs(d.minY)!==0&&(d.hasNegs=!0),u.globals.seriesYAxisReverseMap.length>0){var R=function(_,T){var B=u.config.yaxis[u.globals.seriesYAxisReverseMap[T]],z=_<0?-1:1;return _=Math.abs(_),B.logarithmic&&(_=a.getBaseLog(B.logBase,_)),-z*_/p[T]};if(d.isMultipleYAxis){y=[];for(var E=0;E<p.length;E++)y.push(R(d.minYArr[E],E))}else(y=[]).push(R(d.minY,0)),d.minY!==Number.MIN_VALUE&&Math.abs(d.minY)!==0&&(b=-d.minY/t,S=d.minX/s)}else(y=[]).push(0),b=0,S=0;return{yRatio:p,invertedYRatio:t,zRatio:m,xRatio:s,invertedXRatio:r,baseLineInvertedY:b,baseLineY:y,baseLineX:S}}},{key:"getLogSeries",value:function(t){var s=this,r=this.w;return r.globals.seriesLog=t.map(function(a,u){var d=r.globals.seriesYAxisReverseMap[u];return r.config.yaxis[d]&&r.config.yaxis[d].logarithmic?a.map(function(p){return p===null?null:s.getLogVal(r.config.yaxis[d].logBase,p,u)}):a}),r.globals.invalidLogScale?t:r.globals.seriesLog}},{key:"getLogValAtSeriesIndex",value:function(t,s){if(t===null)return null;var r=this.w,a=r.globals.seriesYAxisReverseMap[s];return r.config.yaxis[a]&&r.config.yaxis[a].logarithmic?this.getLogVal(r.config.yaxis[a].logBase,t,s):t}},{key:"getBaseLog",value:function(t,s){return Math.log(s)/Math.log(t)}},{key:"getLogVal",value:function(t,s,r){if(s<=0)return 0;var a=this.w,u=a.globals.minYArr[r]===0?-1:this.getBaseLog(t,a.globals.minYArr[r]),d=(a.globals.maxYArr[r]===0?0:this.getBaseLog(t,a.globals.maxYArr[r]))-u;return s<1?s/d:(this.getBaseLog(t,s)-u)/d}},{key:"getLogYRatios",value:function(t){var s=this,r=this.w,a=this.w.globals;return a.yLogRatio=t.slice(),a.logYRange=a.yRange.map(function(u,d){var p=r.globals.seriesYAxisReverseMap[d];if(r.config.yaxis[p]&&s.w.config.yaxis[p].logarithmic){var m,y=-Number.MAX_VALUE,b=Number.MIN_VALUE;return a.seriesLog.forEach(function(S,M){S.forEach(function(A){r.config.yaxis[M]&&r.config.yaxis[M].logarithmic&&(y=Math.max(A,y),b=Math.min(A,b))})}),m=Math.pow(a.yRange[d],Math.abs(b-y)/a.yRange[d]),a.yLogRatio[d]=m/a.gridHeight,m}}),a.invalidLogScale?t.slice():a.yLogRatio}},{key:"drawSeriesByGroup",value:function(t,s,r,a){var u=this.w,d=[];return t.series.length>0&&s.forEach(function(p){var m=[],y=[];t.i.forEach(function(b,S){u.config.series[b].group===p&&(m.push(t.series[S]),y.push(b))}),m.length>0&&d.push(a.draw(m,r,y))}),d}}],[{key:"checkComboSeries",value:function(t,s){var r=!1,a=0,u=0;return s===void 0&&(s="line"),t.length&&t[0].type!==void 0&&t.forEach(function(d){d.type!=="bar"&&d.type!=="column"&&d.type!=="candlestick"&&d.type!=="boxPlot"||a++,d.type!==void 0&&d.type!==s&&u++}),u>0&&(r=!0),{comboBarCount:a,comboCharts:r}}},{key:"extendArrayProps",value:function(t,s,r){var a,u,d,p,m,y;return(a=s)!==null&&a!==void 0&&a.yaxis&&(s=t.extendYAxis(s,r)),(u=s)!==null&&u!==void 0&&u.annotations&&(s.annotations.yaxis&&(s=t.extendYAxisAnnotations(s)),(d=s)!==null&&d!==void 0&&(p=d.annotations)!==null&&p!==void 0&&p.xaxis&&(s=t.extendXAxisAnnotations(s)),(m=s)!==null&&m!==void 0&&(y=m.annotations)!==null&&y!==void 0&&y.points&&(s=t.extendPointAnnotations(s))),s}}]),i}(),ty=function(){function i(t){ln(this,i),this.w=t.w,this.annoCtx=t}return cn(i,[{key:"setOrientations",value:function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=this.w;if(t.label.orientation==="vertical"){var a=s!==null?s:0,u=r.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(a,"']"));if(u!==null){var d=u.getBoundingClientRect();u.setAttribute("x",parseFloat(u.getAttribute("x"))-d.height+4);var p=t.label.position==="top"?d.width:-d.width;u.setAttribute("y",parseFloat(u.getAttribute("y"))+p);var m=this.annoCtx.graphics.rotateAroundCenter(u),y=m.x,b=m.y;u.setAttribute("transform","rotate(-90 ".concat(y," ").concat(b,")"))}}}},{key:"addBackgroundToAnno",value:function(t,s){var r=this.w;if(!t||!s.label.text||!String(s.label.text).trim())return null;var a=r.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),u=t.getBoundingClientRect(),d=s.label.style.padding,p=d.left,m=d.right,y=d.top,b=d.bottom;if(s.label.orientation==="vertical"){var S=[p,m,y,b];y=S[0],b=S[1],p=S[2],m=S[3]}var M=u.left-a.left-p,A=u.top-a.top-y,R=this.annoCtx.graphics.drawRect(M-r.globals.barPadForNumericAxis,A,u.width+p+m,u.height+y+b,s.label.borderRadius,s.label.style.background,1,s.label.borderWidth,s.label.borderColor,0);return s.id&&R.node.classList.add(s.id),R}},{key:"annotationsBackground",value:function(){var t=this,s=this.w,r=function(a,u,d){var p=s.globals.dom.baseEl.querySelector(".apexcharts-".concat(d,"-annotations .apexcharts-").concat(d,"-annotation-label[rel='").concat(u,"']"));if(p){var m=p.parentNode,y=t.addBackgroundToAnno(p,a);y&&(m.insertBefore(y.node,p),a.label.mouseEnter&&y.node.addEventListener("mouseenter",a.label.mouseEnter.bind(t,a)),a.label.mouseLeave&&y.node.addEventListener("mouseleave",a.label.mouseLeave.bind(t,a)),a.label.click&&y.node.addEventListener("click",a.label.click.bind(t,a)))}};s.config.annotations.xaxis.forEach(function(a,u){return r(a,u,"xaxis")}),s.config.annotations.yaxis.forEach(function(a,u){return r(a,u,"yaxis")}),s.config.annotations.points.forEach(function(a,u){return r(a,u,"point")})}},{key:"getY1Y2",value:function(t,s){var r,a=this.w,u=t==="y1"?s.y:s.y2,d=!1;if(this.annoCtx.invertAxis){var p=a.config.xaxis.convertedCatToNumeric?a.globals.categoryLabels:a.globals.labels,m=p.indexOf(u),y=a.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child(".concat(m+1,")"));r=y?parseFloat(y.getAttribute("y")):(a.globals.gridHeight/p.length-1)*(m+1)-a.globals.barHeight,s.seriesIndex!==void 0&&a.globals.barHeight&&(r-=a.globals.barHeight/2*(a.globals.series.length-1)-a.globals.barHeight*s.seriesIndex)}else{var b,S=a.globals.seriesYAxisMap[s.yAxisIndex][0],M=a.config.yaxis[s.yAxisIndex].logarithmic?new ms(this.annoCtx.ctx).getLogVal(a.config.yaxis[s.yAxisIndex].logBase,u,S)/a.globals.yLogRatio[S]:(u-a.globals.minYArr[S])/(a.globals.yRange[S]/a.globals.gridHeight);r=a.globals.gridHeight-Math.min(Math.max(M,0),a.globals.gridHeight),d=M>a.globals.gridHeight||M<0,!s.marker||s.y!==void 0&&s.y!==null||(r=0),(b=a.config.yaxis[s.yAxisIndex])!==null&&b!==void 0&&b.reversed&&(r=M)}return typeof u=="string"&&u.includes("px")&&(r=parseFloat(u)),{yP:r,clipped:d}}},{key:"getX1X2",value:function(t,s){var r=this.w,a=t==="x1"?s.x:s.x2,u=this.annoCtx.invertAxis?r.globals.minY:r.globals.minX,d=this.annoCtx.invertAxis?r.globals.maxY:r.globals.maxX,p=this.annoCtx.invertAxis?r.globals.yRange[0]:r.globals.xRange,m=!1,y=this.annoCtx.inversedReversedAxis?(d-a)/(p/r.globals.gridWidth):(a-u)/(p/r.globals.gridWidth);return r.config.xaxis.type!=="category"&&!r.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||r.globals.dataFormatXNumeric||r.config.chart.sparkline.enabled||(y=this.getStringX(a)),typeof a=="string"&&a.includes("px")&&(y=parseFloat(a)),a==null&&s.marker&&(y=r.globals.gridWidth),s.seriesIndex!==void 0&&r.globals.barWidth&&!this.annoCtx.invertAxis&&(y-=r.globals.barWidth/2*(r.globals.series.length-1)-r.globals.barWidth*s.seriesIndex),typeof y!="number"&&(y=0,m=!0),parseFloat(y.toFixed(10))>parseFloat(r.globals.gridWidth.toFixed(10))?(y=r.globals.gridWidth,m=!0):y<0&&(y=0,m=!0),{x:y,clipped:m}}},{key:"getStringX",value:function(t){var s=this.w,r=t;s.config.xaxis.convertedCatToNumeric&&s.globals.categoryLabels.length&&(t=s.globals.categoryLabels.indexOf(t)+1);var a=s.globals.labels.map(function(d){return Array.isArray(d)?d.join(" "):d}).indexOf(t),u=s.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child(".concat(a+1,")"));return u&&(r=parseFloat(u.getAttribute("x"))),r}}]),i}(),tU=function(){function i(t){ln(this,i),this.w=t.w,this.annoCtx=t,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new ty(this.annoCtx)}return cn(i,[{key:"addXaxisAnnotation",value:function(t,s,r){var a,u=this.w,d=this.helpers.getX1X2("x1",t),p=d.x,m=d.clipped,y=!0,b=t.label.text,S=t.strokeDashArray;if(Ye.isNumber(p)){if(t.x2===null||t.x2===void 0){if(!m){var M=this.annoCtx.graphics.drawLine(p+t.offsetX,0+t.offsetY,p+t.offsetX,u.globals.gridHeight+t.offsetY,t.borderColor,S,t.borderWidth);s.appendChild(M.node),t.id&&M.node.classList.add(t.id)}}else{var A=this.helpers.getX1X2("x2",t);if(a=A.x,y=A.clipped,a<p){var R=p;p=a,a=R}var E=this.annoCtx.graphics.drawRect(p+t.offsetX,0+t.offsetY,a-p,u.globals.gridHeight+t.offsetY,0,t.fillColor,t.opacity,1,t.borderColor,S);E.node.classList.add("apexcharts-annotation-rect"),E.attr("clip-path","url(#gridRectMask".concat(u.globals.cuid,")")),s.appendChild(E.node),t.id&&E.node.classList.add(t.id)}if(!m||!y){var _=this.annoCtx.graphics.getTextRects(b,parseFloat(t.label.style.fontSize)),T=t.label.position==="top"?4:t.label.position==="center"?u.globals.gridHeight/2+(t.label.orientation==="vertical"?_.width/2:0):u.globals.gridHeight,B=this.annoCtx.graphics.drawText({x:p+t.label.offsetX,y:T+t.label.offsetY-(t.label.orientation==="vertical"?t.label.position==="top"?_.width/2-12:-_.width/2:0),text:b,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id?t.id:"")});B.attr({rel:r}),s.appendChild(B.node),this.annoCtx.helpers.setOrientations(t,r)}}}},{key:"drawXAxisAnnotations",value:function(){var t=this,s=this.w,r=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return s.config.annotations.xaxis.map(function(a,u){t.addXaxisAnnotation(a,r.node,u)}),r}}]),i}(),ir=function(){function i(t){ln(this,i),this.ctx=t,this.w=t.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return cn(i,[{key:"isValidDate",value:function(t){return typeof t!="number"&&!isNaN(this.parseDate(t))}},{key:"getTimeStamp",value:function(t){return Date.parse(t)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(t).toISOString().substr(0,25)).getTime():new Date(t).getTime():t}},{key:"getDate",value:function(t){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(t).toUTCString()):new Date(t)}},{key:"parseDate",value:function(t){var s=Date.parse(t);if(!isNaN(s))return this.getTimeStamp(t);var r=Date.parse(t.replace(/-/g,"/").replace(/[a-z]+/gi," "));return r=this.getTimeStamp(r)}},{key:"parseDateWithTimezone",value:function(t){return Date.parse(t.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(t,s){var r=this.w.globals.locale,a=this.w.config.xaxis.labels.datetimeUTC,u=["\0"].concat(Bs(r.months)),d=[""].concat(Bs(r.shortMonths)),p=[""].concat(Bs(r.days)),m=[""].concat(Bs(r.shortDays));function y(q,ee){var te=q+"";for(ee=ee||2;te.length<ee;)te="0"+te;return te}var b=a?t.getUTCFullYear():t.getFullYear();s=(s=(s=s.replace(/(^|[^\\])yyyy+/g,"$1"+b)).replace(/(^|[^\\])yy/g,"$1"+b.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+b);var S=(a?t.getUTCMonth():t.getMonth())+1;s=(s=(s=(s=s.replace(/(^|[^\\])MMMM+/g,"$1"+u[0])).replace(/(^|[^\\])MMM/g,"$1"+d[0])).replace(/(^|[^\\])MM/g,"$1"+y(S))).replace(/(^|[^\\])M/g,"$1"+S);var M=a?t.getUTCDate():t.getDate();s=(s=(s=(s=s.replace(/(^|[^\\])dddd+/g,"$1"+p[0])).replace(/(^|[^\\])ddd/g,"$1"+m[0])).replace(/(^|[^\\])dd/g,"$1"+y(M))).replace(/(^|[^\\])d/g,"$1"+M);var A=a?t.getUTCHours():t.getHours(),R=A>12?A-12:A===0?12:A;s=(s=(s=(s=s.replace(/(^|[^\\])HH+/g,"$1"+y(A))).replace(/(^|[^\\])H/g,"$1"+A)).replace(/(^|[^\\])hh+/g,"$1"+y(R))).replace(/(^|[^\\])h/g,"$1"+R);var E=a?t.getUTCMinutes():t.getMinutes();s=(s=s.replace(/(^|[^\\])mm+/g,"$1"+y(E))).replace(/(^|[^\\])m/g,"$1"+E);var _=a?t.getUTCSeconds():t.getSeconds();s=(s=s.replace(/(^|[^\\])ss+/g,"$1"+y(_))).replace(/(^|[^\\])s/g,"$1"+_);var T=a?t.getUTCMilliseconds():t.getMilliseconds();s=s.replace(/(^|[^\\])fff+/g,"$1"+y(T,3)),T=Math.round(T/10),s=s.replace(/(^|[^\\])ff/g,"$1"+y(T)),T=Math.round(T/10);var B=A<12?"AM":"PM";s=(s=(s=s.replace(/(^|[^\\])f/g,"$1"+T)).replace(/(^|[^\\])TT+/g,"$1"+B)).replace(/(^|[^\\])T/g,"$1"+B.charAt(0));var z=B.toLowerCase();s=(s=s.replace(/(^|[^\\])tt+/g,"$1"+z)).replace(/(^|[^\\])t/g,"$1"+z.charAt(0));var W=-t.getTimezoneOffset(),L=a||!W?"Z":W>0?"+":"-";if(!a){var U=(W=Math.abs(W))%60;L+=y(Math.floor(W/60))+":"+y(U)}s=s.replace(/(^|[^\\])K/g,"$1"+L);var I=(a?t.getUTCDay():t.getDay())+1;return s=(s=(s=(s=(s=s.replace(new RegExp(p[0],"g"),p[I])).replace(new RegExp(m[0],"g"),m[I])).replace(new RegExp(u[0],"g"),u[S])).replace(new RegExp(d[0],"g"),d[S])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(t,s,r){var a=this.w;a.config.xaxis.min!==void 0&&(t=a.config.xaxis.min),a.config.xaxis.max!==void 0&&(s=a.config.xaxis.max);var u=this.getDate(t),d=this.getDate(s),p=this.formatDate(u,"yyyy MM dd HH mm ss fff").split(" "),m=this.formatDate(d,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(p[6],10),maxMillisecond:parseInt(m[6],10),minSecond:parseInt(p[5],10),maxSecond:parseInt(m[5],10),minMinute:parseInt(p[4],10),maxMinute:parseInt(m[4],10),minHour:parseInt(p[3],10),maxHour:parseInt(m[3],10),minDate:parseInt(p[2],10),maxDate:parseInt(m[2],10),minMonth:parseInt(p[1],10)-1,maxMonth:parseInt(m[1],10)-1,minYear:parseInt(p[0],10),maxYear:parseInt(m[0],10)}}},{key:"isLeapYear",value:function(t){return t%4==0&&t%100!=0||t%400==0}},{key:"calculcateLastDaysOfMonth",value:function(t,s,r){return this.determineDaysOfMonths(t,s)-r}},{key:"determineDaysOfYear",value:function(t){var s=365;return this.isLeapYear(t)&&(s=366),s}},{key:"determineRemainingDaysOfYear",value:function(t,s,r){var a=this.daysCntOfYear[s]+r;return s>1&&this.isLeapYear()&&a++,a}},{key:"determineDaysOfMonths",value:function(t,s){var r=30;switch(t=Ye.monthMod(t),!0){case this.months30.indexOf(t)>-1:t===2&&(r=this.isLeapYear(s)?29:28);break;case this.months31.indexOf(t)>-1:default:r=31}return r}}]),i}(),Dp=function(){function i(t){ln(this,i),this.ctx=t,this.w=t.w,this.tooltipKeyFormat="dd MMM"}return cn(i,[{key:"xLabelFormat",value:function(t,s,r,a){var u=this.w;if(u.config.xaxis.type==="datetime"&&u.config.xaxis.labels.formatter===void 0&&u.config.tooltip.x.formatter===void 0){var d=new ir(this.ctx);return d.formatDate(d.getDate(s),u.config.tooltip.x.format)}return t(s,r,a)}},{key:"defaultGeneralFormatter",value:function(t){return Array.isArray(t)?t.map(function(s){return s}):t}},{key:"defaultYFormatter",value:function(t,s,r){var a=this.w;if(Ye.isNumber(t))if(a.globals.yValueDecimal!==0)t=t.toFixed(s.decimalsInFloat!==void 0?s.decimalsInFloat:a.globals.yValueDecimal);else{var u=t.toFixed(0);t=t==u?u:t.toFixed(1)}return t}},{key:"setLabelFormatters",value:function(){var t=this,s=this.w;return s.globals.xaxisTooltipFormatter=function(r){return t.defaultGeneralFormatter(r)},s.globals.ttKeyFormatter=function(r){return t.defaultGeneralFormatter(r)},s.globals.ttZFormatter=function(r){return r},s.globals.legendFormatter=function(r){return t.defaultGeneralFormatter(r)},s.config.xaxis.labels.formatter!==void 0?s.globals.xLabelFormatter=s.config.xaxis.labels.formatter:s.globals.xLabelFormatter=function(r){if(Ye.isNumber(r)){if(!s.config.xaxis.convertedCatToNumeric&&s.config.xaxis.type==="numeric"){if(Ye.isNumber(s.config.xaxis.decimalsInFloat))return r.toFixed(s.config.xaxis.decimalsInFloat);var a=s.globals.maxX-s.globals.minX;return a>0&&a<100?r.toFixed(1):r.toFixed(0)}return s.globals.isBarHorizontal&&s.globals.maxY-s.globals.minYArr<4?r.toFixed(1):r.toFixed(0)}return r},typeof s.config.tooltip.x.formatter=="function"?s.globals.ttKeyFormatter=s.config.tooltip.x.formatter:s.globals.ttKeyFormatter=s.globals.xLabelFormatter,typeof s.config.xaxis.tooltip.formatter=="function"&&(s.globals.xaxisTooltipFormatter=s.config.xaxis.tooltip.formatter),(Array.isArray(s.config.tooltip.y)||s.config.tooltip.y.formatter!==void 0)&&(s.globals.ttVal=s.config.tooltip.y),s.config.tooltip.z.formatter!==void 0&&(s.globals.ttZFormatter=s.config.tooltip.z.formatter),s.config.legend.formatter!==void 0&&(s.globals.legendFormatter=s.config.legend.formatter),s.config.yaxis.forEach(function(r,a){r.labels.formatter!==void 0?s.globals.yLabelFormatters[a]=r.labels.formatter:s.globals.yLabelFormatters[a]=function(u){return s.globals.xyCharts?Array.isArray(u)?u.map(function(d){return t.defaultYFormatter(d,r,a)}):t.defaultYFormatter(u,r,a):u}}),s.globals}},{key:"heatmapLabelFormatters",value:function(){var t=this.w;if(t.config.chart.type==="heatmap"){t.globals.yAxisScale[0].result=t.globals.seriesNames.slice();var s=t.globals.seriesNames.reduce(function(r,a){return r.length>a.length?r:a},0);t.globals.yAxisScale[0].niceMax=s,t.globals.yAxisScale[0].niceMin=s}}}]),i}(),Xl=function(){function i(t){ln(this,i),this.ctx=t,this.w=t.w}return cn(i,[{key:"getLabel",value:function(t,s,r,a){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],d=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",p=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],m=this.w,y=t[a]===void 0?"":t[a],b=y,S=m.globals.xLabelFormatter,M=m.config.xaxis.labels.formatter,A=!1,R=new Dp(this.ctx),E=y;p&&(b=R.xLabelFormat(S,y,E,{i:a,dateFormatter:new ir(this.ctx).formatDate,w:m}),M!==void 0&&(b=M(y,t[a],{i:a,dateFormatter:new ir(this.ctx).formatDate,w:m})));var _,T;s.length>0?(_=s[a].unit,T=null,s.forEach(function(L){L.unit==="month"?T="year":L.unit==="day"?T="month":L.unit==="hour"?T="day":L.unit==="minute"&&(T="hour")}),A=T===_,r=s[a].position,b=s[a].value):m.config.xaxis.type==="datetime"&&M===void 0&&(b=""),b===void 0&&(b=""),b=Array.isArray(b)?b:b.toString();var B=new Dt(this.ctx),z={};z=m.globals.rotateXLabels&&p?B.getTextRects(b,parseInt(d,10),null,"rotate(".concat(m.config.xaxis.labels.rotate," 0 0)"),!1):B.getTextRects(b,parseInt(d,10));var W=!m.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(b)&&(String(b)==="NaN"||u.indexOf(b)>=0&&W)&&(b=""),{x:r,text:b,textRect:z,isBold:A}}},{key:"checkLabelBasedOnTickamount",value:function(t,s,r){var a=this.w,u=a.config.xaxis.tickAmount;return u==="dataPoints"&&(u=Math.round(a.globals.gridWidth/120)),u>r||t%Math.round(r/(u+1))==0||(s.text=""),s}},{key:"checkForOverflowingLabels",value:function(t,s,r,a,u){var d=this.w;if(t===0&&d.globals.skipFirstTimelinelabel&&(s.text=""),t===r-1&&d.globals.skipLastTimelinelabel&&(s.text=""),d.config.xaxis.labels.hideOverlappingLabels&&a.length>0){var p=u[u.length-1];if(d.config.xaxis.labels.trim&&d.config.xaxis.type!=="datetime")return s;s.x<p.textRect.width/(d.globals.rotateXLabels?Math.abs(d.config.xaxis.labels.rotate)/12:1.01)+p.x&&(s.text="")}return s}},{key:"checkForReversedLabels",value:function(t,s){var r=this.w;return r.config.yaxis[t]&&r.config.yaxis[t].reversed&&s.reverse(),s}},{key:"yAxisAllSeriesCollapsed",value:function(t){var s=this.w.globals;return!s.seriesYAxisMap[t].some(function(r){return s.collapsedSeriesIndices.indexOf(r)===-1})}},{key:"translateYAxisIndex",value:function(t){var s=this.w,r=s.globals,a=s.config.yaxis;return r.series.length>a.length||a.some(function(u){return Array.isArray(u.seriesName)})?t:r.seriesYAxisReverseMap[t]}},{key:"isYAxisHidden",value:function(t){var s=this.w,r=s.config.yaxis[t];if(!r.show||this.yAxisAllSeriesCollapsed(t))return!0;if(!r.showForNullSeries){var a=s.globals.seriesYAxisMap[t],u=new ms(this.ctx);return a.every(function(d){return u.isSeriesNull(d)})}return!1}},{key:"getYAxisForeColor",value:function(t,s){var r=this.w;return Array.isArray(t)&&r.globals.yAxisScale[s]&&this.ctx.theme.pushExtraColors(t,r.globals.yAxisScale[s].result.length,!1),t}},{key:"drawYAxisTicks",value:function(t,s,r,a,u,d,p){var m=this.w,y=new Dt(this.ctx),b=m.globals.translateY+m.config.yaxis[u].labels.offsetY;if(m.globals.isBarHorizontal?b=0:m.config.chart.type==="heatmap"&&(b+=d/2),a.show&&s>0){m.config.yaxis[u].opposite===!0&&(t+=a.width);for(var S=s;S>=0;S--){var M=y.drawLine(t+r.offsetX-a.width+a.offsetX,b+a.offsetY,t+r.offsetX+a.offsetX,b+a.offsetY,a.color);p.add(M),b+=d}}}}]),i}(),nU=function(){function i(t){ln(this,i),this.w=t.w,this.annoCtx=t,this.helpers=new ty(this.annoCtx),this.axesUtils=new Xl(this.annoCtx)}return cn(i,[{key:"addYaxisAnnotation",value:function(t,s,r){var a,u=this.w,d=t.strokeDashArray,p=this.helpers.getY1Y2("y1",t),m=p.yP,y=p.clipped,b=!0,S=!1,M=t.label.text;if(t.y2===null||t.y2===void 0){if(!y){S=!0;var A=this.annoCtx.graphics.drawLine(0+t.offsetX,m+t.offsetY,this._getYAxisAnnotationWidth(t),m+t.offsetY,t.borderColor,d,t.borderWidth);s.appendChild(A.node),t.id&&A.node.classList.add(t.id)}}else{if(a=(p=this.helpers.getY1Y2("y2",t)).yP,b=p.clipped,a>m){var R=m;m=a,a=R}if(!y||!b){S=!0;var E=this.annoCtx.graphics.drawRect(0+t.offsetX,a+t.offsetY,this._getYAxisAnnotationWidth(t),m-a,0,t.fillColor,t.opacity,1,t.borderColor,d);E.node.classList.add("apexcharts-annotation-rect"),E.attr("clip-path","url(#gridRectMask".concat(u.globals.cuid,")")),s.appendChild(E.node),t.id&&E.node.classList.add(t.id)}}if(S){var _=t.label.position==="right"?u.globals.gridWidth:t.label.position==="center"?u.globals.gridWidth/2:0,T=this.annoCtx.graphics.drawText({x:_+t.label.offsetX,y:(a??m)+t.label.offsetY-3,text:M,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id?t.id:"")});T.attr({rel:r}),s.appendChild(T.node)}}},{key:"_getYAxisAnnotationWidth",value:function(t){var s=this.w;return s.globals.gridWidth,(t.width.indexOf("%")>-1?s.globals.gridWidth*parseInt(t.width,10)/100:parseInt(t.width,10))+t.offsetX}},{key:"drawYAxisAnnotations",value:function(){var t=this,s=this.w,r=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return s.config.annotations.yaxis.forEach(function(a,u){a.yAxisIndex=t.axesUtils.translateYAxisIndex(a.yAxisIndex),t.axesUtils.isYAxisHidden(a.yAxisIndex)&&t.axesUtils.yAxisAllSeriesCollapsed(a.yAxisIndex)||t.addYaxisAnnotation(a,r.node,u)}),r}}]),i}(),iU=function(){function i(t){ln(this,i),this.w=t.w,this.annoCtx=t,this.helpers=new ty(this.annoCtx)}return cn(i,[{key:"addPointAnnotation",value:function(t,s,r){if(!(this.w.globals.collapsedSeriesIndices.indexOf(t.seriesIndex)>-1)){var a=this.helpers.getX1X2("x1",t),u=a.x,d=a.clipped,p=(a=this.helpers.getY1Y2("y1",t)).yP,m=a.clipped;if(Ye.isNumber(u)&&!m&&!d){var y={pSize:t.marker.size,pointStrokeWidth:t.marker.strokeWidth,pointFillColor:t.marker.fillColor,pointStrokeColor:t.marker.strokeColor,shape:t.marker.shape,pRadius:t.marker.radius,class:"apexcharts-point-annotation-marker ".concat(t.marker.cssClass," ").concat(t.id?t.id:"")},b=this.annoCtx.graphics.drawMarker(u+t.marker.offsetX,p+t.marker.offsetY,y);s.appendChild(b.node);var S=t.label.text?t.label.text:"",M=this.annoCtx.graphics.drawText({x:u+t.label.offsetX,y:p+t.label.offsetY-t.marker.size-parseFloat(t.label.style.fontSize)/1.6,text:S,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id?t.id:"")});if(M.attr({rel:r}),s.appendChild(M.node),t.customSVG.SVG){var A=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+t.customSVG.cssClass});A.attr({transform:"translate(".concat(u+t.customSVG.offsetX,", ").concat(p+t.customSVG.offsetY,")")}),A.node.innerHTML=t.customSVG.SVG,s.appendChild(A.node)}if(t.image.path){var R=t.image.width?t.image.width:20,E=t.image.height?t.image.height:20;b=this.annoCtx.addImage({x:u+t.image.offsetX-R/2,y:p+t.image.offsetY-E/2,width:R,height:E,path:t.image.path,appendTo:".apexcharts-point-annotations"})}t.mouseEnter&&b.node.addEventListener("mouseenter",t.mouseEnter.bind(this,t)),t.mouseLeave&&b.node.addEventListener("mouseleave",t.mouseLeave.bind(this,t)),t.click&&b.node.addEventListener("click",t.click.bind(this,t))}}}},{key:"drawPointAnnotations",value:function(){var t=this,s=this.w,r=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return s.config.annotations.points.map(function(a,u){t.addPointAnnotation(a,r.node,u)}),r}}]),i}(),DE={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},Dc=function(){function i(){ln(this,i),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,showDuplicates:!1,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return cn(i,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"",locales:[DE],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.7},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",categoryFormatter:void 0,valueFormatter:void 0},png:{filename:void 0},svg:{filename:void 0},scale:void 0,width:void 0},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},parsing:{x:void 0,y:void 0},plotOptions:{line:{isSlopeChart:!1,colors:{threshold:0,colorAboveThreshold:void 0,colorBelowThreshold:void 0}},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0},seriesTitle:{show:!0,offsetY:1,offsetX:1,borderColor:"#000",borderWidth:1,borderRadius:2,style:{background:"rgba(0, 0, 0, 0.6)",color:"#fff",fontSize:"12px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:6,right:6,top:2,bottom:2}}}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(t){return t}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(t){return t+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(t){return t.globals.seriesTotals.reduce(function(s,r){return s+r},0)/t.globals.series.length+"%"}}},barLabels:{enabled:!1,offsetX:0,offsetY:0,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(t){return t},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(t){return t}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(t){return t}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(t){return t.globals.seriesTotals.reduce(function(s,r){return s+r},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(t){return t!==null?t:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",backgroundColor:void 0,borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],clusterGroupedSeries:!0,clusterGroupedSeriesOrientation:"vertical",labels:{colors:void 0,useSeriesColors:!1},markers:{size:7,fillColors:void 0,strokeWidth:1,shape:void 0,offsetX:0,offsetY:0,customHTML:void 0,onClick:void 0},itemMargin:{horizontal:5,vertical:4},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",offsetX:0,offsetY:0,showNullDataPoints:!0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{hover:{filter:{type:"lighten"}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken"}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(t){return t?t+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.8}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),i}(),sU=function(){function i(t){ln(this,i),this.ctx=t,this.w=t.w,this.graphics=new Dt(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new ty(this),this.xAxisAnnotations=new tU(this),this.yAxisAnnotations=new nU(this),this.pointsAnnotations=new iU(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return cn(i,[{key:"drawAxesAnnotations",value:function(){var t=this.w;if(t.globals.axisCharts&&t.globals.dataPoints){for(var s=this.yAxisAnnotations.drawYAxisAnnotations(),r=this.xAxisAnnotations.drawXAxisAnnotations(),a=this.pointsAnnotations.drawPointAnnotations(),u=t.config.chart.animations.enabled,d=[s,r,a],p=[r.node,s.node,a.node],m=0;m<3;m++)t.globals.dom.elGraphical.add(d[m]),!u||t.globals.resized||t.globals.dataChanged||t.config.chart.type!=="scatter"&&t.config.chart.type!=="bubble"&&t.globals.dataPoints>1&&p[m].classList.add("apexcharts-element-hidden"),t.globals.delayedElements.push({el:p[m],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var t=this;this.w.config.annotations.images.map(function(s,r){t.addImage(s,r)})}},{key:"drawTextAnnos",value:function(){var t=this;this.w.config.annotations.texts.map(function(s,r){t.addText(s,r)})}},{key:"addXaxisAnnotation",value:function(t,s,r){this.xAxisAnnotations.addXaxisAnnotation(t,s,r)}},{key:"addYaxisAnnotation",value:function(t,s,r){this.yAxisAnnotations.addYaxisAnnotation(t,s,r)}},{key:"addPointAnnotation",value:function(t,s,r){this.pointsAnnotations.addPointAnnotation(t,s,r)}},{key:"addText",value:function(t,s){var r=t.x,a=t.y,u=t.text,d=t.textAnchor,p=t.foreColor,m=t.fontSize,y=t.fontFamily,b=t.fontWeight,S=t.cssClass,M=t.backgroundColor,A=t.borderWidth,R=t.strokeDashArray,E=t.borderRadius,_=t.borderColor,T=t.appendTo,B=T===void 0?".apexcharts-svg":T,z=t.paddingLeft,W=z===void 0?4:z,L=t.paddingRight,U=L===void 0?4:L,I=t.paddingBottom,q=I===void 0?2:I,ee=t.paddingTop,te=ee===void 0?2:ee,ce=this.w,re=this.graphics.drawText({x:r,y:a,text:u,textAnchor:d||"start",fontSize:m||"12px",fontWeight:b||"regular",fontFamily:y||ce.config.chart.fontFamily,foreColor:p||ce.config.chart.foreColor,cssClass:S}),ae=ce.globals.dom.baseEl.querySelector(B);ae&&ae.appendChild(re.node);var ue=re.bbox();if(u){var ie=this.graphics.drawRect(ue.x-W,ue.y-te,ue.width+W+U,ue.height+q+te,E,M||"transparent",1,A,_,R);ae.insertBefore(ie.node,re.node)}}},{key:"addImage",value:function(t,s){var r=this.w,a=t.path,u=t.x,d=u===void 0?0:u,p=t.y,m=p===void 0?0:p,y=t.width,b=y===void 0?20:y,S=t.height,M=S===void 0?20:S,A=t.appendTo,R=A===void 0?".apexcharts-svg":A,E=r.globals.dom.Paper.image(a);E.size(b,M).move(d,m);var _=r.globals.dom.baseEl.querySelector(R);return _&&_.appendChild(E.node),E}},{key:"addXaxisAnnotationExternal",value:function(t,s,r){return this.addAnnotationExternal({params:t,pushToMemory:s,context:r,type:"xaxis",contextMethod:r.addXaxisAnnotation}),r}},{key:"addYaxisAnnotationExternal",value:function(t,s,r){return this.addAnnotationExternal({params:t,pushToMemory:s,context:r,type:"yaxis",contextMethod:r.addYaxisAnnotation}),r}},{key:"addPointAnnotationExternal",value:function(t,s,r){return this.invertAxis===void 0&&(this.invertAxis=r.w.globals.isBarHorizontal),this.addAnnotationExternal({params:t,pushToMemory:s,context:r,type:"point",contextMethod:r.addPointAnnotation}),r}},{key:"addAnnotationExternal",value:function(t){var s=t.params,r=t.pushToMemory,a=t.context,u=t.type,d=t.contextMethod,p=a,m=p.w,y=m.globals.dom.baseEl.querySelector(".apexcharts-".concat(u,"-annotations")),b=y.childNodes.length+1,S=new Dc,M=Object.assign({},u==="xaxis"?S.xAxisAnnotation:u==="yaxis"?S.yAxisAnnotation:S.pointAnnotation),A=Ye.extend(M,s);switch(u){case"xaxis":this.addXaxisAnnotation(A,y,b);break;case"yaxis":this.addYaxisAnnotation(A,y,b);break;case"point":this.addPointAnnotation(A,y,b)}var R=m.globals.dom.baseEl.querySelector(".apexcharts-".concat(u,"-annotations .apexcharts-").concat(u,"-annotation-label[rel='").concat(b,"']")),E=this.helpers.addBackgroundToAnno(R,A);return E&&y.insertBefore(E.node,R),r&&m.globals.memory.methodsToExec.push({context:p,id:A.id?A.id:Ye.randomId(),method:d,label:"addAnnotation",params:s}),a}},{key:"clearAnnotations",value:function(t){for(var s=t.w,r=s.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations"),a=s.globals.memory.methodsToExec.length-1;a>=0;a--)s.globals.memory.methodsToExec[a].label!=="addText"&&s.globals.memory.methodsToExec[a].label!=="addAnnotation"||s.globals.memory.methodsToExec.splice(a,1);r=Ye.listToArray(r),Array.prototype.forEach.call(r,function(u){for(;u.firstChild;)u.removeChild(u.firstChild)})}},{key:"removeAnnotation",value:function(t,s){var r=t.w,a=r.globals.dom.baseEl.querySelectorAll(".".concat(s));a&&(r.globals.memory.methodsToExec.map(function(u,d){u.id===s&&r.globals.memory.methodsToExec.splice(d,1)}),Object.keys(r.config.annotations).forEach(function(u){var d=r.config.annotations[u];Array.isArray(d)&&(r.config.annotations[u]=d.filter(function(p){return p.id!==s}))}),Array.prototype.forEach.call(a,function(u){u.parentElement.removeChild(u)}))}}]),i}(),jv=function(i){var t,s=i.isTimeline,r=i.ctx,a=i.seriesIndex,u=i.dataPointIndex,d=i.y1,p=i.y2,m=i.w,y=m.globals.seriesRangeStart[a][u],b=m.globals.seriesRangeEnd[a][u],S=m.globals.labels[u],M=m.config.series[a].name?m.config.series[a].name:"",A=m.globals.ttKeyFormatter,R=m.config.tooltip.y.title.formatter,E={w:m,seriesIndex:a,dataPointIndex:u,start:y,end:b};typeof R=="function"&&(M=R(M,E)),(t=m.config.series[a].data[u])!==null&&t!==void 0&&t.x&&(S=m.config.series[a].data[u].x),s||m.config.xaxis.type==="datetime"&&(S=new Dp(r).xLabelFormat(m.globals.ttKeyFormatter,S,S,{i:void 0,dateFormatter:new ir(r).formatDate,w:m})),typeof A=="function"&&(S=A(S,E)),Number.isFinite(d)&&Number.isFinite(p)&&(y=d,b=p);var _="",T="",B=m.globals.colors[a];if(m.config.tooltip.x.formatter===void 0)if(m.config.xaxis.type==="datetime"){var z=new ir(r);_=z.formatDate(z.getDate(y),m.config.tooltip.x.format),T=z.formatDate(z.getDate(b),m.config.tooltip.x.format)}else _=y,T=b;else _=m.config.tooltip.x.formatter(y),T=m.config.tooltip.x.formatter(b);return{start:y,end:b,startVal:_,endVal:T,ylabel:S,color:B,seriesName:M}},_v=function(i){var t=i.color,s=i.seriesName,r=i.ylabel,a=i.start,u=i.end,d=i.seriesIndex,p=i.dataPointIndex,m=i.ctx.tooltip.tooltipLabels.getFormatters(d);a=m.yLbFormatter(a),u=m.yLbFormatter(u);var y=m.yLbFormatter(i.w.globals.series[d][p]),b=`<span class="value start-value">
  `.concat(a,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(u,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+t+'">'+(s||"")+'</span></div><div> <span class="category">'+r+": </span> "+(i.w.globals.comboCharts?i.w.config.series[d].type==="rangeArea"||i.w.config.series[d].type==="rangeBar"?b:"<span>".concat(y,"</span>"):b)+" </div></div>"},sp=function(){function i(t){ln(this,i),this.opts=t}return cn(i,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(t){return this.hideYAxis(),Ye.extend(t,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(t,s){var r=s.w.config.series[s.seriesIndex].name;return t!==null?r+": "+t:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"square"},fill:{opacity:.85},legend:{markers:{shape:"square"}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),Yt(Yt({},this.bar()),{},{chart:{animations:{speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var t=this;return{stroke:{width:1},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(s){var r=s.seriesIndex,a=s.dataPointIndex,u=s.w;return t._getBoxTooltip(u,r,a,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var t=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(s){var r=s.seriesIndex,a=s.dataPointIndex,u=s.w;return t._getBoxTooltip(u,r,a,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:7,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(t,s){s.ctx;var r=s.seriesIndex,a=s.dataPointIndex,u=s.w,d=function(){var p=u.globals.seriesRangeStart[r][a];return u.globals.seriesRangeEnd[r][a]-p};return u.globals.comboCharts?u.config.series[r].type==="rangeBar"||u.config.series[r].type==="rangeArea"?d():t:d()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(t){return t.w.config.plotOptions&&t.w.config.plotOptions.bar&&t.w.config.plotOptions.bar.horizontal?function(s){var r=jv(Yt(Yt({},s),{},{isTimeline:!0})),a=r.color,u=r.seriesName,d=r.ylabel,p=r.startVal,m=r.endVal;return _v(Yt(Yt({},s),{},{color:a,seriesName:u,ylabel:d,start:p,end:m}))}(t):function(s){var r=jv(s),a=r.color,u=r.seriesName,d=r.ylabel,p=r.start,m=r.end;return _v(Yt(Yt({},s),{},{color:a,seriesName:u,ylabel:d,start:p,end:m}))}(t)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(t){var s,r;return(s=t.plotOptions.bar)!==null&&s!==void 0&&s.barHeight||(t.plotOptions.bar.barHeight=2),(r=t.plotOptions.bar)!==null&&r!==void 0&&r.columnWidth||(t.plotOptions.bar.columnWidth=2),t}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(t){return function(s){var r=jv(s),a=r.color,u=r.seriesName,d=r.ylabel,p=r.start,m=r.end;return _v(Yt(Yt({},s),{},{color:a,seriesName:u,ylabel:d,start:p,end:m}))}(t)}}}}},{key:"brush",value:function(t){return Ye.extend(t,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(t){t.dataLabels=t.dataLabels||{},t.dataLabels.formatter=t.dataLabels.formatter||void 0;var s=t.dataLabels.formatter;return t.yaxis.forEach(function(r,a){t.yaxis[a].min=0,t.yaxis[a].max=100}),t.chart.type==="bar"&&(t.dataLabels.formatter=s||function(r){return typeof r=="number"&&r?r.toFixed(0)+"%":r}),t}},{key:"stackedBars",value:function(){var t=this.bar();return Yt(Yt({},t),{},{plotOptions:Yt(Yt({},t.plotOptions),{},{bar:Yt(Yt({},t.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(t){return t.xaxis.convertedCatToNumeric=!0,t}},{key:"convertCatToNumericXaxis",value:function(t,s,r){t.xaxis.type="numeric",t.xaxis.labels=t.xaxis.labels||{},t.xaxis.labels.formatter=t.xaxis.labels.formatter||function(d){return Ye.isNumber(d)?Math.floor(d):d};var a=t.xaxis.labels.formatter,u=t.xaxis.categories&&t.xaxis.categories.length?t.xaxis.categories:t.labels;return r&&r.length&&(u=r.map(function(d){return Array.isArray(d)?d:String(d)})),u&&u.length&&(t.xaxis.labels.formatter=function(d){return Ye.isNumber(d)?a(u[Math.floor(d)-1]):a(d)}),t.xaxis.categories=[],t.labels=[],t.xaxis.tickAmount=t.xaxis.tickAmount||"dataPoints",t}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square"}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{opacity:1,gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:5,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},xaxis:{labels:{formatter:function(t){return t},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"_getBoxTooltip",value:function(t,s,r,a,u){var d=t.globals.seriesCandleO[s][r],p=t.globals.seriesCandleH[s][r],m=t.globals.seriesCandleM[s][r],y=t.globals.seriesCandleL[s][r],b=t.globals.seriesCandleC[s][r];return t.config.series[s].type&&t.config.series[s].type!==u?`<div class="apexcharts-custom-tooltip">
          `.concat(t.config.series[s].name?t.config.series[s].name:"series-"+(s+1),": <strong>").concat(t.globals.series[s][r],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(t.config.chart.type,'">')+"<div>".concat(a[0],': <span class="value">')+d+"</span></div>"+"<div>".concat(a[1],': <span class="value">')+p+"</span></div>"+(m?"<div>".concat(a[2],': <span class="value">')+m+"</span></div>":"")+"<div>".concat(a[3],': <span class="value">')+y+"</span></div>"+"<div>".concat(a[4],': <span class="value">')+b+"</span></div></div>"}}]),i}(),rp=function(){function i(t){ln(this,i),this.opts=t}return cn(i,[{key:"init",value:function(t){var s=t.responsiveOverride,r=this.opts,a=new Dc,u=new sp(r);this.chartType=r.chart.type,r=this.extendYAxis(r),r=this.extendAnnotations(r);var d=a.init(),p={};if(r&&kr(r)==="object"){var m,y,b,S,M,A,R,E,_,T,B={};B=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(r.chart.type)!==-1?u[r.chart.type]():u.line(),(m=r.plotOptions)!==null&&m!==void 0&&(y=m.bar)!==null&&y!==void 0&&y.isFunnel&&(B=u.funnel()),r.chart.stacked&&r.chart.type==="bar"&&(B=u.stackedBars()),(b=r.chart.brush)!==null&&b!==void 0&&b.enabled&&(B=u.brush(B)),(S=r.plotOptions)!==null&&S!==void 0&&(M=S.line)!==null&&M!==void 0&&M.isSlopeChart&&(B=u.slope()),r.chart.stacked&&r.chart.stackType==="100%"&&(r=u.stacked100(r)),(A=r.plotOptions)!==null&&A!==void 0&&(R=A.bar)!==null&&R!==void 0&&R.isDumbbell&&(r=u.dumbbell(r)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(r),r.xaxis=r.xaxis||window.Apex.xaxis||{},s||(r.xaxis.convertedCatToNumeric=!1),((E=(r=this.checkForCatToNumericXAxis(this.chartType,B,r)).chart.sparkline)!==null&&E!==void 0&&E.enabled||(_=window.Apex.chart)!==null&&_!==void 0&&(T=_.sparkline)!==null&&T!==void 0&&T.enabled)&&(B=u.sparkline(B)),p=Ye.extend(d,B)}var z=Ye.extend(p,window.Apex);return d=Ye.extend(z,r),d=this.handleUserInputErrors(d)}},{key:"checkForCatToNumericXAxis",value:function(t,s,r){var a,u,d=new sp(r),p=(t==="bar"||t==="boxPlot")&&((a=r.plotOptions)===null||a===void 0||(u=a.bar)===null||u===void 0?void 0:u.horizontal),m=t==="pie"||t==="polarArea"||t==="donut"||t==="radar"||t==="radialBar"||t==="heatmap",y=r.xaxis.type!=="datetime"&&r.xaxis.type!=="numeric",b=r.xaxis.tickPlacement?r.xaxis.tickPlacement:s.xaxis&&s.xaxis.tickPlacement;return p||m||!y||b==="between"||(r=d.convertCatToNumeric(r)),r}},{key:"extendYAxis",value:function(t,s){var r=new Dc;(t.yaxis===void 0||!t.yaxis||Array.isArray(t.yaxis)&&t.yaxis.length===0)&&(t.yaxis={}),t.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(t.yaxis=Ye.extend(t.yaxis,window.Apex.yaxis)),t.yaxis.constructor!==Array?t.yaxis=[Ye.extend(r.yAxis,t.yaxis)]:t.yaxis=Ye.extendArray(t.yaxis,r.yAxis);var a=!1;t.yaxis.forEach(function(d){d.logarithmic&&(a=!0)});var u=t.series;return s&&!u&&(u=s.config.series),a&&u.length!==t.yaxis.length&&u.length&&(t.yaxis=u.map(function(d,p){if(d.name||(u[p].name="series-".concat(p+1)),t.yaxis[p])return t.yaxis[p].seriesName=u[p].name,t.yaxis[p];var m=Ye.extend(r.yAxis,t.yaxis[0]);return m.show=!1,m})),a&&u.length>1&&u.length!==t.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),t}},{key:"extendAnnotations",value:function(t){return t.annotations===void 0&&(t.annotations={},t.annotations.yaxis=[],t.annotations.xaxis=[],t.annotations.points=[]),t=this.extendYAxisAnnotations(t),t=this.extendXAxisAnnotations(t),t=this.extendPointAnnotations(t)}},{key:"extendYAxisAnnotations",value:function(t){var s=new Dc;return t.annotations.yaxis=Ye.extendArray(t.annotations.yaxis!==void 0?t.annotations.yaxis:[],s.yAxisAnnotation),t}},{key:"extendXAxisAnnotations",value:function(t){var s=new Dc;return t.annotations.xaxis=Ye.extendArray(t.annotations.xaxis!==void 0?t.annotations.xaxis:[],s.xAxisAnnotation),t}},{key:"extendPointAnnotations",value:function(t){var s=new Dc;return t.annotations.points=Ye.extendArray(t.annotations.points!==void 0?t.annotations.points:[],s.pointAnnotation),t}},{key:"checkForDarkTheme",value:function(t){t.theme&&t.theme.mode==="dark"&&(t.tooltip||(t.tooltip={}),t.tooltip.theme!=="light"&&(t.tooltip.theme="dark"),t.chart.foreColor||(t.chart.foreColor="#f6f7f8"),t.theme.palette||(t.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(t){var s=t;if(s.tooltip.shared&&s.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(s.chart.type==="bar"&&s.plotOptions.bar.horizontal){if(s.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");s.yaxis[0].reversed&&(s.yaxis[0].opposite=!0),s.xaxis.tooltip.enabled=!1,s.yaxis[0].tooltip.enabled=!1,s.chart.zoom.enabled=!1}return s.chart.type!=="bar"&&s.chart.type!=="rangeBar"||s.tooltip.shared&&s.xaxis.crosshairs.width==="barWidth"&&s.series.length>1&&(s.xaxis.crosshairs.width="tickWidth"),s.chart.type!=="candlestick"&&s.chart.type!=="boxPlot"||s.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(s.chart.type," chart is not supported.")),s.yaxis[0].reversed=!1),s}}]),i}(),EE=function(){function i(){ln(this,i)}return cn(i,[{key:"initGlobalVars",value:function(t){t.series=[],t.seriesCandleO=[],t.seriesCandleH=[],t.seriesCandleM=[],t.seriesCandleL=[],t.seriesCandleC=[],t.seriesRangeStart=[],t.seriesRangeEnd=[],t.seriesRange=[],t.seriesPercent=[],t.seriesGoals=[],t.seriesX=[],t.seriesZ=[],t.seriesNames=[],t.seriesTotals=[],t.seriesLog=[],t.seriesColors=[],t.stackedSeriesTotals=[],t.seriesXvalues=[],t.seriesYvalues=[],t.dataWasParsed=!1,t.originalSeries=null,t.labels=[],t.hasXaxisGroups=!1,t.groups=[],t.barGroups=[],t.lineGroups=[],t.areaGroups=[],t.hasSeriesGroups=!1,t.seriesGroups=[],t.categoryLabels=[],t.timescaleLabels=[],t.noLabelsProvided=!1,t.resizeTimer=null,t.selectionResizeTimer=null,t.lastWheelExecution=0,t.delayedElements=[],t.pointsArray=[],t.dataLabelsRects=[],t.isXNumeric=!1,t.skipLastTimelinelabel=!1,t.skipFirstTimelinelabel=!1,t.isDataXYZ=!1,t.isMultiLineX=!1,t.isMultipleYAxis=!1,t.maxY=-Number.MAX_VALUE,t.minY=Number.MIN_VALUE,t.minYArr=[],t.maxYArr=[],t.maxX=-Number.MAX_VALUE,t.minX=Number.MAX_VALUE,t.initialMaxX=-Number.MAX_VALUE,t.initialMinX=Number.MAX_VALUE,t.maxDate=0,t.minDate=Number.MAX_VALUE,t.minZ=Number.MAX_VALUE,t.maxZ=-Number.MAX_VALUE,t.minXDiff=Number.MAX_VALUE,t.yAxisScale=[],t.xAxisScale=null,t.xAxisTicksPositions=[],t.yLabelsCoords=[],t.yTitleCoords=[],t.barPadForNumericAxis=0,t.padHorizontal=0,t.xRange=0,t.yRange=[],t.zRange=0,t.dataPoints=0,t.xTickAmount=0,t.multiAxisTickAmount=0}},{key:"globalVars",value:function(t){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:t.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:t.chart.toolbar.autoSelected==="zoom"&&t.chart.toolbar.tools.zoom&&t.chart.zoom.enabled,panEnabled:t.chart.toolbar.autoSelected==="pan"&&t.chart.toolbar.tools.pan,selectionEnabled:t.chart.toolbar.autoSelected==="selection"&&t.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:t.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(t){var s=this.globalVars(t);return this.initGlobalVars(s),s.initialConfig=Ye.extend({},t),s.initialSeries=Ye.clone(t.series),s.lastXAxis=Ye.clone(s.initialConfig.xaxis),s.lastYAxis=Ye.clone(s.initialConfig.yaxis),s}}]),i}(),rU=function(){function i(t){ln(this,i),this.opts=t}return cn(i,[{key:"init",value:function(){var t=new rp(this.opts).init({responsiveOverride:!1});return{config:t,globals:new EE().init(t)}}}]),i}(),sa=function(){function i(t){ln(this,i),this.ctx=t,this.w=t.w,this.opts=null,this.seriesIndex=0,this.patternIDs=[]}return cn(i,[{key:"clippedImgArea",value:function(t){var s=this.w,r=s.config,a=parseInt(s.globals.gridWidth,10),u=parseInt(s.globals.gridHeight,10),d=a>u?a:u,p=t.image,m=0,y=0;t.width===void 0&&t.height===void 0?r.fill.image.width!==void 0&&r.fill.image.height!==void 0?(m=r.fill.image.width+1,y=r.fill.image.height):(m=d+1,y=d):(m=t.width,y=t.height);var b=document.createElementNS(s.globals.SVGNS,"pattern");Dt.setAttrs(b,{id:t.patternID,patternUnits:t.patternUnits?t.patternUnits:"userSpaceOnUse",width:m+"px",height:y+"px"});var S=document.createElementNS(s.globals.SVGNS,"image");b.appendChild(S),S.setAttributeNS(window.SVG.xlink,"href",p),Dt.setAttrs(S,{x:0,y:0,preserveAspectRatio:"none",width:m+"px",height:y+"px"}),S.style.opacity=t.opacity,s.globals.dom.elDefs.node.appendChild(b)}},{key:"getSeriesIndex",value:function(t){var s=this.w,r=s.config.chart.type;return(r==="bar"||r==="rangeBar")&&s.config.plotOptions.bar.distributed||r==="heatmap"||r==="treemap"?this.seriesIndex=t.seriesNumber:this.seriesIndex=t.seriesNumber%s.globals.series.length,this.seriesIndex}},{key:"computeColorStops",value:function(t,s){var r,a=this.w,u=null,d=null,p=Sf(t);try{for(p.s();!(r=p.n()).done;){var m=r.value;m>=s.threshold?(u===null||m>u)&&(u=m):(d===null||m<d)&&(d=m)}}catch(S){p.e(S)}finally{p.f()}u===null&&(u=s.threshold),d===null&&(d=s.threshold);var y=u-s.threshold+(s.threshold-d);y===0&&(y=1);var b=100-(s.threshold-d)/y*100;return[{offset:b=Math.max(0,Math.min(b,100)),color:s.colorAboveThreshold,opacity:a.config.fill.opacity},{offset:0,color:s.colorBelowThreshold,opacity:a.config.fill.opacity}]}},{key:"fillPath",value:function(t){var s,r,a,u=this.w;this.opts=t;var d,p,m,y=this.w.config;this.seriesIndex=this.getSeriesIndex(t);var b=y.plotOptions.line.colors.colorAboveThreshold&&y.plotOptions.line.colors.colorBelowThreshold,S=this.getFillColors()[this.seriesIndex];u.globals.seriesColors[this.seriesIndex]!==void 0&&(S=u.globals.seriesColors[this.seriesIndex]),typeof S=="function"&&(S=S({seriesIndex:this.seriesIndex,dataPointIndex:t.dataPointIndex,value:t.value,w:u}));var M,A,R,E=t.fillType?t.fillType:this.getFillType(this.seriesIndex),_=Array.isArray(y.fill.opacity)?y.fill.opacity[this.seriesIndex]:y.fill.opacity,T=E==="gradient"||b;t.color&&(S=t.color),(s=u.config.series[this.seriesIndex])!==null&&s!==void 0&&(r=s.data)!==null&&r!==void 0&&(a=r[t.dataPointIndex])!==null&&a!==void 0&&a.fillColor&&(S=(M=u.config.series[this.seriesIndex])===null||M===void 0||(A=M.data)===null||A===void 0||(R=A[t.dataPointIndex])===null||R===void 0?void 0:R.fillColor),S||(S="#fff",console.warn("undefined color - ApexCharts"));var B=S;if(S.indexOf("rgb")===-1?S.indexOf("#")===-1?B=S:S.length<9&&(B=Ye.hexToRgba(S,_)):S.indexOf("rgba")>-1?_=Ye.getOpacityFromRGBA(S):B=Ye.hexToRgba(Ye.rgb2hex(S),_),t.opacity&&(_=t.opacity),E==="pattern"&&(p=this.handlePatternFill({fillConfig:t.fillConfig,patternFill:p,fillColor:S,fillOpacity:_,defaultColor:B})),T){var z=Bs(y.fill.gradient.colorStops)||[],W=y.fill.gradient.type;b&&(z[this.seriesIndex]=this.computeColorStops(u.globals.series[this.seriesIndex],y.plotOptions.line.colors),W="vertical"),m=this.handleGradientFill({type:W,fillConfig:t.fillConfig,fillColor:S,fillOpacity:_,colorStops:z,i:this.seriesIndex})}if(E==="image"){var L=y.fill.image.src,U=t.patternID?t.patternID:"",I="pattern".concat(u.globals.cuid).concat(t.seriesNumber+1).concat(U);this.patternIDs.indexOf(I)===-1&&(this.clippedImgArea({opacity:_,image:Array.isArray(L)?t.seriesNumber<L.length?L[t.seriesNumber]:L[0]:L,width:t.width?t.width:void 0,height:t.height?t.height:void 0,patternUnits:t.patternUnits,patternID:I}),this.patternIDs.push(I)),d="url(#".concat(I,")")}else d=T?m:E==="pattern"?p:B;return t.solid&&(d=B),d}},{key:"getFillType",value:function(t){var s=this.w;return Array.isArray(s.config.fill.type)?s.config.fill.type[t]:s.config.fill.type}},{key:"getFillColors",value:function(){var t=this.w,s=t.config,r=this.opts,a=[];return t.globals.comboCharts?t.config.series[this.seriesIndex].type==="line"?Array.isArray(t.globals.stroke.colors)?a=t.globals.stroke.colors:a.push(t.globals.stroke.colors):Array.isArray(t.globals.fill.colors)?a=t.globals.fill.colors:a.push(t.globals.fill.colors):s.chart.type==="line"?Array.isArray(t.globals.stroke.colors)?a=t.globals.stroke.colors:a.push(t.globals.stroke.colors):Array.isArray(t.globals.fill.colors)?a=t.globals.fill.colors:a.push(t.globals.fill.colors),r.fillColors!==void 0&&(a=[],Array.isArray(r.fillColors)?a=r.fillColors.slice():a.push(r.fillColors)),a}},{key:"handlePatternFill",value:function(t){var s=t.fillConfig,r=t.patternFill,a=t.fillColor,u=t.fillOpacity,d=t.defaultColor,p=this.w.config.fill;s&&(p=s);var m=this.opts,y=new Dt(this.ctx),b=Array.isArray(p.pattern.strokeWidth)?p.pattern.strokeWidth[this.seriesIndex]:p.pattern.strokeWidth,S=a;return Array.isArray(p.pattern.style)?r=p.pattern.style[m.seriesNumber]!==void 0?y.drawPattern(p.pattern.style[m.seriesNumber],p.pattern.width,p.pattern.height,S,b,u):d:r=y.drawPattern(p.pattern.style,p.pattern.width,p.pattern.height,S,b,u),r}},{key:"handleGradientFill",value:function(t){var s=t.type,r=t.fillColor,a=t.fillOpacity,u=t.fillConfig,d=t.colorStops,p=t.i,m=this.w.config.fill;u&&(m=Yt(Yt({},m),u));var y=this.opts,b=new Dt(this.ctx),S=new Ye;s=s||m.gradient.type;var M,A=r,R=m.gradient.opacityFrom===void 0?a:Array.isArray(m.gradient.opacityFrom)?m.gradient.opacityFrom[p]:m.gradient.opacityFrom;A.indexOf("rgba")>-1&&(R=Ye.getOpacityFromRGBA(A));var E=m.gradient.opacityTo===void 0?a:Array.isArray(m.gradient.opacityTo)?m.gradient.opacityTo[p]:m.gradient.opacityTo;if(m.gradient.gradientToColors===void 0||m.gradient.gradientToColors.length===0)M=m.gradient.shade==="dark"?S.shadeColor(-1*parseFloat(m.gradient.shadeIntensity),r.indexOf("rgb")>-1?Ye.rgb2hex(r):r):S.shadeColor(parseFloat(m.gradient.shadeIntensity),r.indexOf("rgb")>-1?Ye.rgb2hex(r):r);else if(m.gradient.gradientToColors[y.seriesNumber]){var _=m.gradient.gradientToColors[y.seriesNumber];M=_,_.indexOf("rgba")>-1&&(E=Ye.getOpacityFromRGBA(_))}else M=r;if(m.gradient.gradientFrom&&(A=m.gradient.gradientFrom),m.gradient.gradientTo&&(M=m.gradient.gradientTo),m.gradient.inverseColors){var T=A;A=M,M=T}return A.indexOf("rgb")>-1&&(A=Ye.rgb2hex(A)),M.indexOf("rgb")>-1&&(M=Ye.rgb2hex(M)),b.drawGradient(s,A,M,R,E,y.size,m.gradient.stops,d,p)}}]),i}(),$h=function(){function i(t,s){ln(this,i),this.ctx=t,this.w=t.w}return cn(i,[{key:"setGlobalMarkerSize",value:function(){var t=this.w;if(t.globals.markers.size=Array.isArray(t.config.markers.size)?t.config.markers.size:[t.config.markers.size],t.globals.markers.size.length>0){if(t.globals.markers.size.length<t.globals.series.length+1)for(var s=0;s<=t.globals.series.length;s++)t.globals.markers.size[s]===void 0&&t.globals.markers.size.push(t.globals.markers.size[0])}else t.globals.markers.size=t.config.series.map(function(r){return t.config.markers.size})}},{key:"plotChartMarkers",value:function(t){var s=t.pointsPos,r=t.seriesIndex,a=t.j,u=t.pSize,d=t.alwaysDrawMarker,p=d!==void 0&&d,m=t.isVirtualPoint,y=m!==void 0&&m,b=this.w,S=r,M=s,A=null,R=new Dt(this.ctx),E=b.config.markers.discrete&&b.config.markers.discrete.length;if(Array.isArray(M.x))for(var _=0;_<M.x.length;_++){var T=void 0,B=a,z=!Ye.isNumber(M.y[_]);b.globals.markers.largestSize===0&&b.globals.hasNullValues&&b.globals.series[S][a+1]!==null&&!y&&(z=!0),a===1&&_===0&&(B=0),a===1&&_===1&&(B=1);var W="apexcharts-marker";if(b.config.chart.type!=="line"&&b.config.chart.type!=="area"||b.globals.comboCharts||b.config.tooltip.intersect||(W+=" no-pointer-events"),(Array.isArray(b.config.markers.size)?b.globals.markers.size[r]>0:b.config.markers.size>0)||p||E){z||(W+=" w".concat(Ye.randomId()));var L=this.getMarkerConfig({cssClass:W,seriesIndex:r,dataPointIndex:B});b.config.series[S].data[B]&&(b.config.series[S].data[B].fillColor&&(L.pointFillColor=b.config.series[S].data[B].fillColor),b.config.series[S].data[B].strokeColor&&(L.pointStrokeColor=b.config.series[S].data[B].strokeColor)),u!==void 0&&(L.pSize=u),(M.x[_]<-b.globals.markers.largestSize||M.x[_]>b.globals.gridWidth+b.globals.markers.largestSize||M.y[_]<-b.globals.markers.largestSize||M.y[_]>b.globals.gridHeight+b.globals.markers.largestSize)&&(L.pSize=0),!z&&((b.globals.markers.size[r]>0||p||E)&&!A&&(A=R.group({class:p||E?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(b.globals.cuid,")")),(T=R.drawMarker(M.x[_],M.y[_],L)).attr("rel",B),T.attr("j",B),T.attr("index",r),T.node.setAttribute("default-marker-size",L.pSize),new sr(this.ctx).setSelectionFilter(T,r,B),this.addEvents(T),A&&A.add(T))}else b.globals.pointsArray[r]===void 0&&(b.globals.pointsArray[r]=[]),b.globals.pointsArray[r].push([M.x[_],M.y[_]])}return A}},{key:"getMarkerConfig",value:function(t){var s=t.cssClass,r=t.seriesIndex,a=t.dataPointIndex,u=a===void 0?null:a,d=t.radius,p=d===void 0?null:d,m=t.size,y=m===void 0?null:m,b=t.strokeWidth,S=b===void 0?null:b,M=this.w,A=this.getMarkerStyle(r),R=y===null?M.globals.markers.size[r]:y,E=M.config.markers;return u!==null&&E.discrete.length&&E.discrete.map(function(_){_.seriesIndex===r&&_.dataPointIndex===u&&(A.pointStrokeColor=_.strokeColor,A.pointFillColor=_.fillColor,R=_.size,A.pointShape=_.shape)}),{pSize:p===null?R:p,pRadius:p!==null?p:E.radius,pointStrokeWidth:S!==null?S:Array.isArray(E.strokeWidth)?E.strokeWidth[r]:E.strokeWidth,pointStrokeColor:A.pointStrokeColor,pointFillColor:A.pointFillColor,shape:A.pointShape||(Array.isArray(E.shape)?E.shape[r]:E.shape),class:s,pointStrokeOpacity:Array.isArray(E.strokeOpacity)?E.strokeOpacity[r]:E.strokeOpacity,pointStrokeDashArray:Array.isArray(E.strokeDashArray)?E.strokeDashArray[r]:E.strokeDashArray,pointFillOpacity:Array.isArray(E.fillOpacity)?E.fillOpacity[r]:E.fillOpacity,seriesIndex:r}}},{key:"addEvents",value:function(t){var s=this.w,r=new Dt(this.ctx);t.node.addEventListener("mouseenter",r.pathMouseEnter.bind(this.ctx,t)),t.node.addEventListener("mouseleave",r.pathMouseLeave.bind(this.ctx,t)),t.node.addEventListener("mousedown",r.pathMouseDown.bind(this.ctx,t)),t.node.addEventListener("click",s.config.markers.onClick),t.node.addEventListener("dblclick",s.config.markers.onDblClick),t.node.addEventListener("touchstart",r.pathMouseDown.bind(this.ctx,t),{passive:!0})}},{key:"getMarkerStyle",value:function(t){var s=this.w,r=s.globals.markers.colors,a=s.config.markers.strokeColor||s.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(a)?a[t]:a,pointFillColor:Array.isArray(r)?r[t]:r}}}]),i}(),NE=function(){function i(t){ln(this,i),this.ctx=t,this.w=t.w,this.initialAnim=this.w.config.chart.animations.enabled}return cn(i,[{key:"draw",value:function(t,s,r){var a=this.w,u=new Dt(this.ctx),d=r.realIndex,p=r.pointsPos,m=r.zRatio,y=r.elParent,b=u.group({class:"apexcharts-series-markers apexcharts-series-".concat(a.config.chart.type)});if(b.attr("clip-path","url(#gridRectMarkerMask".concat(a.globals.cuid,")")),Array.isArray(p.x))for(var S=0;S<p.x.length;S++){var M=s+1,A=!0;s===0&&S===0&&(M=0),s===0&&S===1&&(M=1);var R=a.globals.markers.size[d];if(m!==1/0){var E=a.config.plotOptions.bubble;R=a.globals.seriesZ[d][M],E.zScaling&&(R/=m),E.minBubbleRadius&&R<E.minBubbleRadius&&(R=E.minBubbleRadius),E.maxBubbleRadius&&R>E.maxBubbleRadius&&(R=E.maxBubbleRadius)}var _=p.x[S],T=p.y[S];if(R=R||0,T!==null&&a.globals.series[d][M]!==void 0||(A=!1),A){var B=this.drawPoint(_,T,R,d,M,s);b.add(B)}y.add(b)}}},{key:"drawPoint",value:function(t,s,r,a,u,d){var p=this.w,m=a,y=new Bh(this.ctx),b=new sr(this.ctx),S=new sa(this.ctx),M=new $h(this.ctx),A=new Dt(this.ctx),R=M.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:m,dataPointIndex:u,radius:p.config.chart.type==="bubble"||p.globals.comboCharts&&p.config.series[a]&&p.config.series[a].type==="bubble"?r:null}),E=S.fillPath({seriesNumber:a,dataPointIndex:u,color:R.pointFillColor,patternUnits:"objectBoundingBox",value:p.globals.series[a][d]}),_=A.drawMarker(t,s,R);if(p.config.series[m].data[u]&&p.config.series[m].data[u].fillColor&&(E=p.config.series[m].data[u].fillColor),_.attr({fill:E}),p.config.chart.dropShadow.enabled){var T=p.config.chart.dropShadow;b.dropShadow(_,T,a)}if(!this.initialAnim||p.globals.dataChanged||p.globals.resized)p.globals.animationEnded=!0;else{var B=p.config.chart.animations.speed;y.animateMarker(_,B,p.globals.easing,function(){window.setTimeout(function(){y.animationCompleted(_)},100)})}return _.attr({rel:u,j:u,index:a,"default-marker-size":R.pSize}),b.setSelectionFilter(_,a,u),M.addEvents(_),_.node.classList.add("apexcharts-marker"),_}},{key:"centerTextInBubble",value:function(t){var s=this.w;return{y:t+=parseInt(s.config.dataLabels.style.fontSize,10)/4}}}]),i}(),Ch=function(){function i(t){ln(this,i),this.ctx=t,this.w=t.w}return cn(i,[{key:"dataLabelsCorrection",value:function(t,s,r,a,u,d,p){var m=this.w,y=!1,b=new Dt(this.ctx).getTextRects(r,p),S=b.width,M=b.height;s<0&&(s=0),s>m.globals.gridHeight+M&&(s=m.globals.gridHeight+M/2),m.globals.dataLabelsRects[a]===void 0&&(m.globals.dataLabelsRects[a]=[]),m.globals.dataLabelsRects[a].push({x:t,y:s,width:S,height:M});var A=m.globals.dataLabelsRects[a].length-2,R=m.globals.lastDrawnDataLabelsIndexes[a]!==void 0?m.globals.lastDrawnDataLabelsIndexes[a][m.globals.lastDrawnDataLabelsIndexes[a].length-1]:0;if(m.globals.dataLabelsRects[a][A]!==void 0){var E=m.globals.dataLabelsRects[a][R];(t>E.x+E.width||s>E.y+E.height||s+M<E.y||t+S<E.x)&&(y=!0)}return(u===0||d)&&(y=!0),{x:t,y:s,textRects:b,drawnextLabel:y}}},{key:"drawDataLabel",value:function(t){var s=this,r=t.type,a=t.pos,u=t.i,d=t.j,p=t.isRangeStart,m=t.strokeWidth,y=m===void 0?2:m,b=this.w,S=new Dt(this.ctx),M=b.config.dataLabels,A=0,R=0,E=d,_=null;if(b.globals.collapsedSeriesIndices.indexOf(u)!==-1||!M.enabled||!Array.isArray(a.x))return _;_=S.group({class:"apexcharts-data-labels"});for(var T=0;T<a.x.length;T++)if(A=a.x[T]+M.offsetX,R=a.y[T]+M.offsetY+y,!isNaN(A)){d===1&&T===0&&(E=0),d===1&&T===1&&(E=1);var B=b.globals.series[u][E];r==="rangeArea"&&(B=p?b.globals.seriesRangeStart[u][E]:b.globals.seriesRangeEnd[u][E]);var z="",W=function(U){return b.config.dataLabels.formatter(U,{ctx:s.ctx,seriesIndex:u,dataPointIndex:E,w:b})};b.config.chart.type==="bubble"?(z=W(B=b.globals.seriesZ[u][E]),R=a.y[T],R=new NE(this.ctx).centerTextInBubble(R,u,E).y):B!==void 0&&(z=W(B));var L=b.config.dataLabels.textAnchor;b.globals.isSlopeChart&&(L=E===0?"end":E===b.config.series[u].data.length-1?"start":"middle"),this.plotDataLabelsText({x:A,y:R,text:z,i:u,j:E,parent:_,offsetCorrection:!0,dataLabelsConfig:b.config.dataLabels,textAnchor:L})}return _}},{key:"plotDataLabelsText",value:function(t){var s=this.w,r=new Dt(this.ctx),a=t.x,u=t.y,d=t.i,p=t.j,m=t.text,y=t.textAnchor,b=t.fontSize,S=t.parent,M=t.dataLabelsConfig,A=t.color,R=t.alwaysDrawDataLabel,E=t.offsetCorrection,_=t.className,T=null;if(Array.isArray(s.config.dataLabels.enabledOnSeries)&&s.config.dataLabels.enabledOnSeries.indexOf(d)<0)return T;var B={x:a,y:u,drawnextLabel:!0,textRects:null};E&&(B=this.dataLabelsCorrection(a,u,m,d,p,R,parseInt(M.style.fontSize,10))),s.globals.zoomed||(a=B.x,u=B.y),B.textRects&&(a<-20-B.textRects.width||a>s.globals.gridWidth+B.textRects.width+30)&&(m="");var z=s.globals.dataLabels.style.colors[d];((s.config.chart.type==="bar"||s.config.chart.type==="rangeBar")&&s.config.plotOptions.bar.distributed||s.config.dataLabels.distributed)&&(z=s.globals.dataLabels.style.colors[p]),typeof z=="function"&&(z=z({series:s.globals.series,seriesIndex:d,dataPointIndex:p,w:s})),A&&(z=A);var W=M.offsetX,L=M.offsetY;if(s.config.chart.type!=="bar"&&s.config.chart.type!=="rangeBar"||(W=0,L=0),s.globals.isSlopeChart&&(p!==0&&(W=-2*M.offsetX+5),p!==0&&p!==s.config.series[d].data.length-1&&(W=0)),B.drawnextLabel){if(y==="middle"&&a===s.globals.gridWidth&&(y="end"),(T=r.drawText({width:100,height:parseInt(M.style.fontSize,10),x:a+W,y:u+L,foreColor:z,textAnchor:y||M.textAnchor,text:m,fontSize:b||M.style.fontSize,fontFamily:M.style.fontFamily,fontWeight:M.style.fontWeight||"normal"})).attr({class:_||"apexcharts-datalabel",cx:a,cy:u}),M.dropShadow.enabled){var U=M.dropShadow;new sr(this.ctx).dropShadow(T,U)}S.add(T),s.globals.lastDrawnDataLabelsIndexes[d]===void 0&&(s.globals.lastDrawnDataLabelsIndexes[d]=[]),s.globals.lastDrawnDataLabelsIndexes[d].push(p)}return T}},{key:"addBackgroundToDataLabel",value:function(t,s){var r=this.w,a=r.config.dataLabels.background,u=a.padding,d=a.padding/2,p=s.width,m=s.height,y=new Dt(this.ctx).drawRect(s.x-u,s.y-d/2,p+2*u,m+d,a.borderRadius,r.config.chart.background!=="transparent"&&r.config.chart.background?r.config.chart.background:"#fff",a.opacity,a.borderWidth,a.borderColor);return a.dropShadow.enabled&&new sr(this.ctx).dropShadow(y,a.dropShadow),y}},{key:"dataLabelsBackground",value:function(){var t=this.w;if(t.config.chart.type!=="bubble")for(var s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),r=0;r<s.length;r++){var a=s[r],u=a.getBBox(),d=null;if(u.width&&u.height&&(d=this.addBackgroundToDataLabel(a,u)),d){a.parentNode.insertBefore(d.node,a);var p=t.config.dataLabels.background.backgroundColor||a.getAttribute("fill");t.config.chart.animations.enabled&&!t.globals.resized&&!t.globals.dataChanged?d.animate().attr({fill:p}):d.attr({fill:p}),a.setAttribute("fill",t.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var t=this.w,s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),r=t.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),a=0;a<s.length;a++)r&&r.insertBefore(s[a],r.nextSibling)}}]),i}(),Vo=function(){function i(t){ln(this,i),this.ctx=t,this.w=t.w,this.legendInactiveClass="legend-mouseover-inactive"}return cn(i,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(t){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(Ye.escapeString(t),"']"))}},{key:"isSeriesHidden",value:function(t){var s=this.getSeriesByName(t),r=parseInt(s.getAttribute("data:realIndex"),10);return{isHidden:s.classList.contains("apexcharts-series-collapsed"),realIndex:r}}},{key:"addCollapsedClassToSeries",value:function(t,s){var r=this.w;function a(u){for(var d=0;d<u.length;d++)u[d].index===s&&t.node.classList.add("apexcharts-series-collapsed")}a(r.globals.collapsedSeries),a(r.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(t){var s=this.isSeriesHidden(t);return this.ctx.legend.legendHelpers.toggleDataSeries(s.realIndex,s.isHidden),s.isHidden}},{key:"showSeries",value:function(t){var s=this.isSeriesHidden(t);s.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(s.realIndex,!0)}},{key:"hideSeries",value:function(t){var s=this.isSeriesHidden(t);s.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(s.realIndex,!1)}},{key:"resetSeries",value:function(){var t=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],a=this.w,u=Ye.clone(a.globals.initialSeries);a.globals.previousPaths=[],r?(a.globals.collapsedSeries=[],a.globals.ancillaryCollapsedSeries=[],a.globals.collapsedSeriesIndices=[],a.globals.ancillaryCollapsedSeriesIndices=[]):u=this.emptyCollapsedSeries(u),a.config.series=u,t&&(s&&(a.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(u,a.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(t){for(var s=this.w,r=0;r<t.length;r++)s.globals.collapsedSeriesIndices.indexOf(r)>-1&&(t[r].data=[]);return t}},{key:"highlightSeries",value:function(t){var s=this.w,r=this.getSeriesByName(t),a=parseInt(r?.getAttribute("data:realIndex"),10),u=s.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis"),d=null,p=null,m=null;if(s.globals.axisCharts||s.config.chart.type==="radialBar")if(s.globals.axisCharts){d=s.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(a,"']")),p=s.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(a,"']"));var y=s.globals.seriesYAxisReverseMap[a];m=s.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(y,"']"))}else d=s.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"']"));else d=s.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"'] path"));for(var b=0;b<u.length;b++)u[b].classList.add(this.legendInactiveClass);if(d)s.globals.axisCharts||d.parentNode.classList.remove(this.legendInactiveClass),d.classList.remove(this.legendInactiveClass),p!==null&&p.classList.remove(this.legendInactiveClass),m!==null&&m.classList.remove(this.legendInactiveClass);else for(var S=0;S<u.length;S++)u[S].classList.remove(this.legendInactiveClass)}},{key:"toggleSeriesOnHover",value:function(t,s){var r=this.w;s||(s=t.target);var a=r.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if(t.type==="mousemove"){var u=parseInt(s.getAttribute("rel"),10)-1;this.highlightSeries(r.globals.seriesNames[u])}else if(t.type==="mouseout")for(var d=0;d<a.length;d++)a[d].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(t,s){var r=this,a=this.w,u=a.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),d=function(y){for(var b=0;b<u.length;b++)u[b].classList[y](r.legendInactiveClass)};if(t.type==="mousemove"){var p=parseInt(s.getAttribute("rel"),10)-1;d("add");var m=a.config.plotOptions.heatmap.colorScale.ranges;(function(y,b){for(var S=0;S<u.length;S++){var M=Number(u[S].getAttribute("val"));M>=y.from&&(M<y.to||y.to===b&&M===b)&&u[S].classList.remove(r.legendInactiveClass)}})(m[p],m.reduce(function(y,b){return Math.max(y,b.to)},0))}else t.type==="mouseout"&&d("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=this.w,a=0;if(r.config.series.length>1){for(var u=r.config.series.map(function(p,m){return p.data&&p.data.length>0&&r.globals.collapsedSeriesIndices.indexOf(m)===-1&&(!r.globals.comboCharts||s.length===0||s.length&&s.indexOf(r.config.series[m].type)>-1)?m:-1}),d=t==="asc"?0:u.length-1;t==="asc"?d<u.length:d>=0;t==="asc"?d++:d--)if(u[d]!==-1){a=u[d];break}}return a}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(t,s){return t.type==="bar"||t.type==="column"?s:-1}).filter(function(t){return t!==-1}):this.w.config.series.map(function(t,s){return s})}},{key:"getPreviousPaths",value:function(){var t=this.w;function s(d,p,m){for(var y=d[p].childNodes,b={type:m,paths:[],realIndex:d[p].getAttribute("data:realIndex")},S=0;S<y.length;S++)if(y[S].hasAttribute("pathTo")){var M=y[S].getAttribute("pathTo");b.paths.push({d:M})}t.globals.previousPaths.push(b)}t.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(d){for(var p,m=(p=d,t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(p,"-series .apexcharts-series"))),y=0;y<m.length;y++)s(m,y,d)});var r=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t.config.chart.type," .apexcharts-series"));if(r.length>0)for(var a=function(d){for(var p=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(d,"'] rect")),m=[],y=function(S){var M=function(R){return p[S].getAttribute(R)},A={x:parseFloat(M("x")),y:parseFloat(M("y")),width:parseFloat(M("width")),height:parseFloat(M("height"))};m.push({rect:A,color:p[S].getAttribute("color")})},b=0;b<p.length;b++)y(b);t.globals.previousPaths.push(m)},u=0;u<r.length;u++)a(u);t.globals.axisCharts||(t.globals.previousPaths=t.globals.series)}},{key:"clearPreviousPaths",value:function(){var t=this.w;t.globals.previousPaths=[],t.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var t=this.w,s=t.config.noData,r=new Dt(this.ctx),a=t.globals.svgWidth/2,u=t.globals.svgHeight/2,d="middle";if(t.globals.noData=!0,t.globals.animationEnded=!0,s.align==="left"?(a=10,d="start"):s.align==="right"&&(a=t.globals.svgWidth-10,d="end"),s.verticalAlign==="top"?u=50:s.verticalAlign==="bottom"&&(u=t.globals.svgHeight-50),a+=s.offsetX,u=u+parseInt(s.style.fontSize,10)+2+s.offsetY,s.text!==void 0&&s.text!==""){var p=r.drawText({x:a,y:u,text:s.text,textAnchor:d,fontSize:s.style.fontSize,fontFamily:s.style.fontFamily,foreColor:s.style.color,opacity:1,class:"apexcharts-text-nodata"});t.globals.dom.Paper.add(p)}}},{key:"setNullSeriesToZeroValues",value:function(t){for(var s=this.w,r=0;r<t.length;r++)if(t[r].length===0)for(var a=0;a<t[s.globals.maxValsInArrayIndex].length;a++)t[r].push(0);return t}},{key:"hasAllSeriesEqualX",value:function(){for(var t=!0,s=this.w,r=this.filteredSeriesX(),a=0;a<r.length-1;a++)if(r[a][0]!==r[a+1][0]){t=!1;break}return s.globals.allSeriesHasEqualX=t,t}},{key:"filteredSeriesX",value:function(){var t=this.w.globals.seriesX.map(function(s){return s.length>0?s:[]});return t}}]),i}(),Mw=function(){function i(t){ln(this,i),this.ctx=t,this.w=t.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new ms(this.ctx)}return cn(i,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var t=this.w.config.series.slice(),s=new Vo(this.ctx);if(this.activeSeriesIndex=s.getActiveConfigSeriesIndex(),t[this.activeSeriesIndex].data!==void 0&&t[this.activeSeriesIndex].data.length>0&&t[this.activeSeriesIndex].data[0]!==null&&t[this.activeSeriesIndex].data[0].x!==void 0&&t[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var t=this.w.config.series.slice(),s=new Vo(this.ctx);if(this.activeSeriesIndex=s.getActiveConfigSeriesIndex(),t[this.activeSeriesIndex].data!==void 0&&t[this.activeSeriesIndex].data.length>0&&t[this.activeSeriesIndex].data[0]!==void 0&&t[this.activeSeriesIndex].data[0]!==null&&t[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(t,s){for(var r=this.w.config,a=this.w.globals,u=r.chart.type==="boxPlot"||r.series[s].type==="boxPlot",d=0;d<t[s].data.length;d++)if(t[s].data[d][1]!==void 0&&(Array.isArray(t[s].data[d][1])&&t[s].data[d][1].length===4&&!u?this.twoDSeries.push(Ye.parseNumber(t[s].data[d][1][3])):t[s].data[d].length>=5?this.twoDSeries.push(Ye.parseNumber(t[s].data[d][4])):this.twoDSeries.push(Ye.parseNumber(t[s].data[d][1])),a.dataFormatXNumeric=!0),r.xaxis.type==="datetime"){var p=new Date(t[s].data[d][0]);p=new Date(p).getTime(),this.twoDSeriesX.push(p)}else this.twoDSeriesX.push(t[s].data[d][0]);for(var m=0;m<t[s].data.length;m++)t[s].data[m][2]!==void 0&&(this.threeDSeries.push(t[s].data[m][2]),a.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(t,s){var r=this.w.config,a=this.w.globals,u=new ir(this.ctx),d=s;a.collapsedSeriesIndices.indexOf(s)>-1&&(d=this.activeSeriesIndex);for(var p=0;p<t[s].data.length;p++)t[s].data[p].y!==void 0&&(Array.isArray(t[s].data[p].y)?this.twoDSeries.push(Ye.parseNumber(t[s].data[p].y[t[s].data[p].y.length-1])):this.twoDSeries.push(Ye.parseNumber(t[s].data[p].y))),t[s].data[p].goals!==void 0&&Array.isArray(t[s].data[p].goals)?(this.seriesGoals[s]===void 0&&(this.seriesGoals[s]=[]),this.seriesGoals[s].push(t[s].data[p].goals)):(this.seriesGoals[s]===void 0&&(this.seriesGoals[s]=[]),this.seriesGoals[s].push(null));for(var m=0;m<t[d].data.length;m++){var y=typeof t[d].data[m].x=="string",b=Array.isArray(t[d].data[m].x),S=!b&&!!u.isValidDate(t[d].data[m].x);if(y||S)if(y||r.xaxis.convertedCatToNumeric){var M=a.isBarHorizontal&&a.isRangeData;r.xaxis.type!=="datetime"||M?(this.fallbackToCategory=!0,this.twoDSeriesX.push(t[d].data[m].x),isNaN(t[d].data[m].x)||this.w.config.xaxis.type==="category"||typeof t[d].data[m].x=="string"||(a.isXNumeric=!0)):this.twoDSeriesX.push(u.parseDate(t[d].data[m].x))}else r.xaxis.type==="datetime"?this.twoDSeriesX.push(u.parseDate(t[d].data[m].x.toString())):(a.dataFormatXNumeric=!0,a.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(t[d].data[m].x)));else b?(this.fallbackToCategory=!0,this.twoDSeriesX.push(t[d].data[m].x)):(a.isXNumeric=!0,a.dataFormatXNumeric=!0,this.twoDSeriesX.push(t[d].data[m].x))}if(t[s].data[0]&&t[s].data[0].z!==void 0){for(var A=0;A<t[s].data.length;A++)this.threeDSeries.push(t[s].data[A].z);a.isDataXYZ=!0}}},{key:"handleRangeData",value:function(t,s){var r=this.w.globals,a={};return this.isFormat2DArray()?a=this.handleRangeDataFormat("array",t,s):this.isFormatXY()&&(a=this.handleRangeDataFormat("xy",t,s)),r.seriesRangeStart[s]=a.start===void 0?[]:a.start,r.seriesRangeEnd[s]=a.end===void 0?[]:a.end,r.seriesRange[s]=a.rangeUniques,r.seriesRange.forEach(function(u,d){u&&u.forEach(function(p,m){p.y.forEach(function(y,b){for(var S=0;S<p.y.length;S++)if(b!==S){var M=y.y1,A=y.y2,R=p.y[S].y1;M<=p.y[S].y2&&R<=A&&(p.overlaps.indexOf(y.rangeName)<0&&p.overlaps.push(y.rangeName),p.overlaps.indexOf(p.y[S].rangeName)<0&&p.overlaps.push(p.y[S].rangeName))}})})}),a}},{key:"handleCandleStickBoxData",value:function(t,s){var r=this.w.globals,a={};return this.isFormat2DArray()?a=this.handleCandleStickBoxDataFormat("array",t,s):this.isFormatXY()&&(a=this.handleCandleStickBoxDataFormat("xy",t,s)),r.seriesCandleO[s]=a.o,r.seriesCandleH[s]=a.h,r.seriesCandleM[s]=a.m,r.seriesCandleL[s]=a.l,r.seriesCandleC[s]=a.c,a}},{key:"handleRangeDataFormat",value:function(t,s,r){var a=[],u=[],d=s[r].data.filter(function(b,S,M){return S===M.findIndex(function(A){return A.x===b.x})}).map(function(b,S){return{x:b.x,overlaps:[],y:[]}});if(t==="array")for(var p=0;p<s[r].data.length;p++)Array.isArray(s[r].data[p])?(a.push(s[r].data[p][1][0]),u.push(s[r].data[p][1][1])):(a.push(s[r].data[p]),u.push(s[r].data[p]));else if(t==="xy")for(var m=function(b){var S=Array.isArray(s[r].data[b].y),M=Ye.randomId(),A=s[r].data[b].x,R={y1:S?s[r].data[b].y[0]:s[r].data[b].y,y2:S?s[r].data[b].y[1]:s[r].data[b].y,rangeName:M};s[r].data[b].rangeName=M;var E=d.findIndex(function(_){return _.x===A});d[E].y.push(R),a.push(R.y1),u.push(R.y2)},y=0;y<s[r].data.length;y++)m(y);return{start:a,end:u,rangeUniques:d}}},{key:"handleCandleStickBoxDataFormat",value:function(t,s,r){var a=this.w,u=a.config.chart.type==="boxPlot"||a.config.series[r].type==="boxPlot",d=[],p=[],m=[],y=[],b=[];if(t==="array")if(u&&s[r].data[0].length===6||!u&&s[r].data[0].length===5)for(var S=0;S<s[r].data.length;S++)d.push(s[r].data[S][1]),p.push(s[r].data[S][2]),u?(m.push(s[r].data[S][3]),y.push(s[r].data[S][4]),b.push(s[r].data[S][5])):(y.push(s[r].data[S][3]),b.push(s[r].data[S][4]));else for(var M=0;M<s[r].data.length;M++)Array.isArray(s[r].data[M][1])&&(d.push(s[r].data[M][1][0]),p.push(s[r].data[M][1][1]),u?(m.push(s[r].data[M][1][2]),y.push(s[r].data[M][1][3]),b.push(s[r].data[M][1][4])):(y.push(s[r].data[M][1][2]),b.push(s[r].data[M][1][3])));else if(t==="xy")for(var A=0;A<s[r].data.length;A++)Array.isArray(s[r].data[A].y)&&(d.push(s[r].data[A].y[0]),p.push(s[r].data[A].y[1]),u?(m.push(s[r].data[A].y[2]),y.push(s[r].data[A].y[3]),b.push(s[r].data[A].y[4])):(y.push(s[r].data[A].y[2]),b.push(s[r].data[A].y[3])));return{o:d,h:p,m,l:y,c:b}}},{key:"parseDataAxisCharts",value:function(t){var s=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,a=this.w.config,u=this.w.globals,d=new ir(r),p=a.labels.length>0?a.labels.slice():a.xaxis.categories.slice();u.isRangeBar=a.chart.type==="rangeBar"&&u.isBarHorizontal,u.hasXaxisGroups=a.xaxis.type==="category"&&a.xaxis.group.groups.length>0,u.hasXaxisGroups&&(u.groups=a.xaxis.group.groups),t.forEach(function(A,R){A.name!==void 0?u.seriesNames.push(A.name):u.seriesNames.push("series-"+parseInt(R+1,10))}),this.coreUtils.setSeriesYAxisMappings();var m=[],y=Bs(new Set(a.series.map(function(A){return A.group})));a.series.forEach(function(A,R){var E=y.indexOf(A.group);m[E]||(m[E]=[]),m[E].push(u.seriesNames[R])}),u.seriesGroups=m;for(var b=function(){for(var A=0;A<p.length;A++)if(typeof p[A]=="string"){if(!d.isValidDate(p[A]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");s.twoDSeriesX.push(d.parseDate(p[A]))}else s.twoDSeriesX.push(p[A])},S=0;S<t.length;S++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],t[S].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(a.chart.type!=="rangeBar"&&a.chart.type!=="rangeArea"&&t[S].type!=="rangeBar"&&t[S].type!=="rangeArea"||(u.isRangeData=!0,this.handleRangeData(t,S)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(t,S):this.isFormatXY()&&this.handleFormatXY(t,S),a.chart.type!=="candlestick"&&t[S].type!=="candlestick"&&a.chart.type!=="boxPlot"&&t[S].type!=="boxPlot"||this.handleCandleStickBoxData(t,S),u.series.push(this.twoDSeries),u.labels.push(this.twoDSeriesX),u.seriesX.push(this.twoDSeriesX),u.seriesGoals=this.seriesGoals,S!==this.activeSeriesIndex||this.fallbackToCategory||(u.isXNumeric=!0);else{a.xaxis.type==="datetime"?(u.isXNumeric=!0,b(),u.seriesX.push(this.twoDSeriesX)):a.xaxis.type==="numeric"&&(u.isXNumeric=!0,p.length>0&&(this.twoDSeriesX=p,u.seriesX.push(this.twoDSeriesX))),u.labels.push(this.twoDSeriesX);var M=t[S].data.map(function(A){return Ye.parseNumber(A)});u.series.push(M)}u.seriesZ.push(this.threeDSeries),t[S].color!==void 0?u.seriesColors.push(t[S].color):u.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(t){var s=this.w.globals,r=this.w.config,a=Array.isArray(t)&&t.every(function(b){return typeof b=="number"})&&r.labels.length>0,u=Array.isArray(t)&&t.some(function(b){return b&&kr(b)==="object"&&b.data||b&&kr(b)==="object"&&b.parsing});if(a&&u&&console.warn("ApexCharts: Both old format (numeric series + labels) and new format (series objects with data/parsing) detected. Using old format for backward compatibility."),a){s.series=t.slice(),s.seriesNames=r.labels.slice();for(var d=0;d<s.series.length;d++)s.seriesNames[d]===void 0&&s.seriesNames.push("series-"+(d+1));return this.w}if(Array.isArray(t)&&t.every(function(b){return typeof b=="number"})){s.series=t.slice(),s.seriesNames=[];for(var p=0;p<s.series.length;p++)s.seriesNames.push(r.labels[p]||"series-".concat(p+1));return this.w}var m=this.extractPieDataFromSeries(t);s.series=m.values,s.seriesNames=m.labels,r.chart.type==="radialBar"&&(s.series=s.series.map(function(b){var S=Ye.parseNumber(b);return S>100&&console.warn("ApexCharts: RadialBar value ".concat(S," > 100, consider using percentage values (0-100)")),S}));for(var y=0;y<s.series.length;y++)s.seriesNames[y]===void 0&&s.seriesNames.push("series-"+(y+1));return this.w}},{key:"extractPieDataFromSeries",value:function(t){var s=[],r=[];if(!Array.isArray(t))return console.warn("ApexCharts: Expected array for series data"),{values:[],labels:[]};if(t.length===0)return console.warn("ApexCharts: Empty series array"),{values:[],labels:[]};var a=t[0];return kr(a)==="object"&&a!==null&&a.data?(this.extractPieDataFromSeriesObjects(t,s,r),{values:s,labels:r}):(console.warn("ApexCharts: Unsupported series format for pie/donut/radialBar. Expected series objects with data property."),{values:[],labels:[]})}},{key:"extractPieDataFromSeriesObjects",value:function(t,s,r){t.forEach(function(a,u){a.data&&Array.isArray(a.data)?a.data.forEach(function(d){kr(d)==="object"&&d!==null?d.x!==void 0&&d.y!==void 0?(r.push(String(d.x)),s.push(Ye.parseNumber(d.y))):console.warn("ApexCharts: Invalid data point format for pie chart. Expected {x, y} format:",d):console.warn("ApexCharts: Expected object data point, got:",kr(d))}):console.warn("ApexCharts: Series ".concat(u," has no valid data array"))})}},{key:"handleExternalLabelsData",value:function(t){var s=this.w.config,r=this.w.globals;s.xaxis.categories.length>0?r.labels=s.xaxis.categories:s.labels.length>0?r.labels=s.labels.slice():this.fallbackToCategory?(r.labels=r.labels[0],r.seriesRange.length&&(r.seriesRange.map(function(a){a.forEach(function(u){r.labels.indexOf(u.x)<0&&u.x&&r.labels.push(u.x)})}),r.labels=Array.from(new Set(r.labels.map(JSON.stringify)),JSON.parse)),s.xaxis.convertedCatToNumeric&&(new sp(s).convertCatToNumericXaxis(s,this.ctx,r.seriesX[0]),this._generateExternalLabels(t))):this._generateExternalLabels(t)}},{key:"_generateExternalLabels",value:function(t){var s=this.w.globals,r=this.w.config,a=[];if(s.axisCharts){if(s.series.length>0)if(this.isFormatXY())for(var u=r.series.map(function(S,M){return S.data.filter(function(A,R,E){return E.findIndex(function(_){return _.x===A.x})===R})}),d=u.reduce(function(S,M,A,R){return R[S].length>M.length?S:A},0),p=0;p<u[d].length;p++)a.push(p+1);else for(var m=0;m<s.series[s.maxValsInArrayIndex].length;m++)a.push(m+1);s.seriesX=[];for(var y=0;y<t.length;y++)s.seriesX.push(a);this.w.globals.isBarHorizontal||(s.isXNumeric=!0)}if(a.length===0){a=s.axisCharts?[]:s.series.map(function(S,M){return M+1});for(var b=0;b<t.length;b++)s.seriesX.push(a)}s.labels=a,r.xaxis.convertedCatToNumeric&&(s.categoryLabels=a.map(function(S){return r.xaxis.labels.formatter(S)})),s.noLabelsProvided=!0}},{key:"parseRawDataIfNeeded",value:function(t){var s=this,r=this.w.config,a=this.w.globals,u=r.parsing;if(a.dataWasParsed||!u&&!t.some(function(p){return p.parsing}))return t;var d=t.map(function(p,m){var y,b;if(!p.data||!Array.isArray(p.data)||p.data.length===0)return p;var S={x:((y=p.parsing)===null||y===void 0?void 0:y.x)||u?.x,y:((b=p.parsing)===null||b===void 0?void 0:b.y)||u?.y};if(!S.x&&!S.y)return p;var M=p.data[0];if(kr(M)==="object"&&M!==null&&(M.hasOwnProperty("x")||M.hasOwnProperty("y"))||Array.isArray(M))return p;if(!S.x||!S.y)return console.warn("ApexCharts: Series ".concat(m," has parsing config but missing x or y field specification")),p;var A=p.data.map(function(R,E){if(kr(R)!=="object"||R===null)return console.warn("ApexCharts: Series ".concat(m,", data point ").concat(E," is not an object, skipping parsing")),R;var _=s.getNestedValue(R,S.x),T=s.getNestedValue(R,S.y);return _===void 0&&console.warn("ApexCharts: Series ".concat(m,", data point ").concat(E," missing field '").concat(S.x,"'")),T===void 0&&console.warn("ApexCharts: Series ".concat(m,", data point ").concat(E," missing field '").concat(S.y,"'")),{x:_,y:T}});return Yt(Yt({},p),{},{data:A,__apexParsed:!0})});return a.dataWasParsed=!0,a.originalSeries||(a.originalSeries=Ye.clone(t)),d}},{key:"getNestedValue",value:function(t,s){if(t&&kr(t)==="object"&&s){if(s.indexOf(".")===-1)return t[s];for(var r=s.split("."),a=t,u=0;u<r.length;u++){if(a==null||kr(a)!=="object")return;a=a[r[u]]}return a}}},{key:"parseData",value:function(t){var s=this.w,r=s.config,a=s.globals;if(t=this.parseRawDataIfNeeded(t),r.series=t,this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),a.axisCharts?(this.parseDataAxisCharts(t),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(t),r.chart.stacked){var u=new Vo(this.ctx);a.series=u.setNullSeriesToZeroValues(a.series)}this.coreUtils.getSeriesTotals(),a.axisCharts&&(a.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),a.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),a.dataFormatXNumeric||a.isXNumeric&&(r.xaxis.type!=="numeric"||r.labels.length!==0||r.xaxis.categories.length!==0)||this.handleExternalLabelsData(t);for(var d=this.coreUtils.getCategoryLabels(a.labels),p=0;p<d.length;p++)if(Array.isArray(d[p])){a.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var t=this.w,s=[];t.globals.seriesYAxisMap.forEach(function(r,a){var u=0;r.forEach(function(d){t.globals.collapsedSeriesIndices.indexOf(d)!==-1&&u++}),u>0&&u==r.length&&s.push(a)}),t.globals.ignoreYAxisIndexes=s.map(function(r){return r})}}]),i}(),jf=function(){function i(t){ln(this,i),this.ctx=t,this.w=t.w}return cn(i,[{key:"svgStringToNode",value:function(t){return new DOMParser().parseFromString(t,"image/svg+xml").documentElement}},{key:"scaleSvgNode",value:function(t,s){var r=parseFloat(t.getAttributeNS(null,"width")),a=parseFloat(t.getAttributeNS(null,"height"));t.setAttributeNS(null,"width",r*s),t.setAttributeNS(null,"height",a*s),t.setAttributeNS(null,"viewBox","0 0 "+r+" "+a)}},{key:"getSvgString",value:function(t){var s=this;return new Promise(function(r){var a=s.w,u=t||a.config.chart.toolbar.export.scale||a.config.chart.toolbar.export.width/a.globals.svgWidth;u||(u=1);var d=a.globals.svgWidth*u,p=a.globals.svgHeight*u,m=a.globals.dom.elWrap.cloneNode(!0);m.style.width=d+"px",m.style.height=p+"px";var y=new XMLSerializer().serializeToString(m),b=`
        <svg xmlns="http://www.w3.org/2000/svg"
          version="1.1"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          class="apexcharts-svg"
          xmlns:data="ApexChartsNS"
          transform="translate(0, 0)"
          width="`.concat(a.globals.svgWidth,'px" height="').concat(a.globals.svgHeight,`px">
          <foreignObject width="100%" height="100%">
            <div xmlns="http://www.w3.org/1999/xhtml" style="width:`).concat(d,"px; height:").concat(p,`px;">
            <style type="text/css">
              .apexcharts-tooltip, .apexcharts-toolbar, .apexcharts-xaxistooltip, .apexcharts-yaxistooltip, .apexcharts-xcrosshairs, .apexcharts-ycrosshairs, .apexcharts-zoom-rect, .apexcharts-selection-rect {
                display: none;
              }
            </style>
              `).concat(y,`
            </div>
          </foreignObject>
        </svg>
      `),S=s.svgStringToNode(b);u!==1&&s.scaleSvgNode(S,u),s.convertImagesToBase64(S).then(function(){b=new XMLSerializer().serializeToString(S),r(b.replace(/&nbsp;/g,"&#160;"))})})}},{key:"convertImagesToBase64",value:function(t){var s=this,r=t.getElementsByTagName("image"),a=Array.from(r).map(function(u){var d=u.getAttributeNS("http://www.w3.org/1999/xlink","href");return d&&!d.startsWith("data:")?s.getBase64FromUrl(d).then(function(p){u.setAttributeNS("http://www.w3.org/1999/xlink","href",p)}).catch(function(p){console.error("Error converting image to base64:",p)}):Promise.resolve()});return Promise.all(a)}},{key:"getBase64FromUrl",value:function(t){return new Promise(function(s,r){var a=new Image;a.crossOrigin="Anonymous",a.onload=function(){var u=document.createElement("canvas");u.width=a.width,u.height=a.height,u.getContext("2d").drawImage(a,0,0),s(u.toDataURL())},a.onerror=r,a.src=t})}},{key:"svgUrl",value:function(){var t=this;return new Promise(function(s){t.getSvgString().then(function(r){var a=new Blob([r],{type:"image/svg+xml;charset=utf-8"});s(URL.createObjectURL(a))})})}},{key:"dataURI",value:function(t){var s=this;return new Promise(function(r){var a=s.w,u=t?t.scale||t.width/a.globals.svgWidth:1,d=document.createElement("canvas");d.width=a.globals.svgWidth*u,d.height=parseInt(a.globals.dom.elWrap.style.height,10)*u;var p=a.config.chart.background!=="transparent"&&a.config.chart.background?a.config.chart.background:"#fff",m=d.getContext("2d");m.fillStyle=p,m.fillRect(0,0,d.width*u,d.height*u),s.getSvgString(u).then(function(y){var b="data:image/svg+xml,"+encodeURIComponent(y),S=new Image;S.crossOrigin="anonymous",S.onload=function(){if(m.drawImage(S,0,0),d.msToBlob){var M=d.msToBlob();r({blob:M})}else{var A=d.toDataURL("image/png");r({imgURI:A})}},S.src=b})})}},{key:"exportToSVG",value:function(){var t=this;this.svgUrl().then(function(s){t.triggerDownload(s,t.w.config.chart.toolbar.export.svg.filename,".svg")})}},{key:"exportToPng",value:function(){var t=this,s=this.w.config.chart.toolbar.export.scale,r=this.w.config.chart.toolbar.export.width,a=s?{scale:s}:r?{width:r}:void 0;this.dataURI(a).then(function(u){var d=u.imgURI,p=u.blob;p?navigator.msSaveOrOpenBlob(p,t.w.globals.chartID+".png"):t.triggerDownload(d,t.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(t){var s=this,r=t.series,a=t.fileName,u=t.columnDelimiter,d=u===void 0?",":u,p=t.lineDelimiter,m=p===void 0?`
`:p,y=this.w;r||(r=y.config.series);var b=[],S=[],M="",A=y.globals.series.map(function(L,U){return y.globals.collapsedSeriesIndices.indexOf(U)===-1?L:[]}),R=function(L){return typeof y.config.chart.toolbar.export.csv.categoryFormatter=="function"?y.config.chart.toolbar.export.csv.categoryFormatter(L):y.config.xaxis.type==="datetime"&&String(L).length>=10?new Date(L).toDateString():Ye.isNumber(L)?L:L.split(d).join("")},E=function(L){return typeof y.config.chart.toolbar.export.csv.valueFormatter=="function"?y.config.chart.toolbar.export.csv.valueFormatter(L):L},_=Math.max.apply(Math,Bs(r.map(function(L){return L.data?L.data.length:0}))),T=new Mw(this.ctx),B=new Xl(this.ctx),z=function(L){var U="";if(y.globals.axisCharts){if(y.config.xaxis.type==="category"||y.config.xaxis.convertedCatToNumeric)if(y.globals.isBarHorizontal){var I=y.globals.yLabelFormatters[0],q=new Vo(s.ctx).getActiveConfigSeriesIndex();U=I(y.globals.labels[L],{seriesIndex:q,dataPointIndex:L,w:y})}else U=B.getLabel(y.globals.labels,y.globals.timescaleLabels,0,L).text;y.config.xaxis.type==="datetime"&&(y.config.xaxis.categories.length?U=y.config.xaxis.categories[L]:y.config.labels.length&&(U=y.config.labels[L]))}else U=y.config.labels[L];return U===null?"nullvalue":(Array.isArray(U)&&(U=U.join(" ")),Ye.isNumber(U)?U:U.split(d).join(""))},W=function(L,U){if(b.length&&U===0&&S.push(b.join(d)),L.data){L.data=L.data.length&&L.data||Bs(Array(_)).map(function(){return""});for(var I=0;I<L.data.length;I++){b=[];var q=z(I);if(q!=="nullvalue"){if(q||(T.isFormatXY()?q=r[U].data[I].x:T.isFormat2DArray()&&(q=r[U].data[I]?r[U].data[I][0]:"")),U===0){b.push(R(q));for(var ee=0;ee<y.globals.series.length;ee++){var te,ce=T.isFormatXY()?(te=r[ee].data[I])===null||te===void 0?void 0:te.y:A[ee][I];b.push(E(ce))}}(y.config.chart.type==="candlestick"||L.type&&L.type==="candlestick")&&(b.pop(),b.push(y.globals.seriesCandleO[U][I]),b.push(y.globals.seriesCandleH[U][I]),b.push(y.globals.seriesCandleL[U][I]),b.push(y.globals.seriesCandleC[U][I])),(y.config.chart.type==="boxPlot"||L.type&&L.type==="boxPlot")&&(b.pop(),b.push(y.globals.seriesCandleO[U][I]),b.push(y.globals.seriesCandleH[U][I]),b.push(y.globals.seriesCandleM[U][I]),b.push(y.globals.seriesCandleL[U][I]),b.push(y.globals.seriesCandleC[U][I])),y.config.chart.type==="rangeBar"&&(b.pop(),b.push(y.globals.seriesRangeStart[U][I]),b.push(y.globals.seriesRangeEnd[U][I])),b.length&&S.push(b.join(d))}}}};b.push(y.config.chart.toolbar.export.csv.headerCategory),y.config.chart.type==="boxPlot"?(b.push("minimum"),b.push("q1"),b.push("median"),b.push("q3"),b.push("maximum")):y.config.chart.type==="candlestick"?(b.push("open"),b.push("high"),b.push("low"),b.push("close")):y.config.chart.type==="rangeBar"?(b.push("minimum"),b.push("maximum")):r.map(function(L,U){var I=(L.name?L.name:"series-".concat(U))+"";y.globals.axisCharts&&b.push(I.split(d).join("")?I.split(d).join(""):"series-".concat(U))}),y.globals.axisCharts||(b.push(y.config.chart.toolbar.export.csv.headerValue),S.push(b.join(d))),y.globals.allSeriesHasEqualX||!y.globals.axisCharts||y.config.xaxis.categories.length||y.config.labels.length?r.map(function(L,U){y.globals.axisCharts?W(L,U):((b=[]).push(R(y.globals.labels[U])),b.push(E(A[U])),S.push(b.join(d)))}):function(){var L=new Set,U={};r.forEach(function(I,q){I?.data.forEach(function(ee){var te,ce;if(T.isFormatXY())te=ee.x,ce=ee.y;else{if(!T.isFormat2DArray())return;te=ee[0],ce=ee[1]}U[te]||(U[te]=Array(r.length).fill("")),U[te][q]=E(ce),L.add(te)})}),b.length&&S.push(b.join(d)),Array.from(L).sort().forEach(function(I){S.push([R(I),U[I].join(d)])})}(),M+=S.join(m),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+M),a||y.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(t,s,r){var a=document.createElement("a");a.href=t,a.download=(s||this.w.globals.chartID)+r,document.body.appendChild(a),a.click(),document.body.removeChild(a)}}]),i}(),op=function(){function i(t,s){ln(this,i),this.ctx=t,this.elgrid=s,this.w=t.w;var r=this.w;this.axesUtils=new Xl(t),this.xaxisLabels=r.globals.labels.slice(),r.globals.timescaleLabels.length>0&&!r.globals.isBarHorizontal&&(this.xaxisLabels=r.globals.timescaleLabels.slice()),r.config.xaxis.overwriteCategories&&(this.xaxisLabels=r.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],r.config.xaxis.position==="top"?this.offY=0:this.offY=r.globals.gridHeight,this.offY=this.offY+r.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=r.config.chart.type==="bar"&&r.config.plotOptions.bar.horizontal,this.xaxisFontSize=r.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=r.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=r.config.xaxis.labels.style.colors,this.xaxisBorderWidth=r.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=r.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=r.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=r.config.xaxis.axisBorder.height,this.yaxis=r.config.yaxis[0]}return cn(i,[{key:"drawXaxis",value:function(){var t=this.w,s=new Dt(this.ctx),r=s.group({class:"apexcharts-xaxis",transform:"translate(".concat(t.config.xaxis.offsetX,", ").concat(t.config.xaxis.offsetY,")")}),a=s.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(t.globals.translateXAxisX,", ").concat(t.globals.translateXAxisY,")")});r.add(a);for(var u=[],d=0;d<this.xaxisLabels.length;d++)u.push(this.xaxisLabels[d]);if(this.drawXAxisLabelAndGroup(!0,s,a,u,t.globals.isXNumeric,function(R,E){return E}),t.globals.hasXaxisGroups){var p=t.globals.groups;u=[];for(var m=0;m<p.length;m++)u.push(p[m].title);var y={};t.config.xaxis.group.style&&(y.xaxisFontSize=t.config.xaxis.group.style.fontSize,y.xaxisFontFamily=t.config.xaxis.group.style.fontFamily,y.xaxisForeColors=t.config.xaxis.group.style.colors,y.fontWeight=t.config.xaxis.group.style.fontWeight,y.cssClass=t.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,s,a,u,!1,function(R,E){return p[R].cols*E},y)}if(t.config.xaxis.title.text!==void 0){var b=s.group({class:"apexcharts-xaxis-title"}),S=s.drawText({x:t.globals.gridWidth/2+t.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(t.config.xaxis.position==="bottom"?t.globals.xAxisLabelsHeight:-t.globals.xAxisLabelsHeight-10)+t.config.xaxis.title.offsetY,text:t.config.xaxis.title.text,textAnchor:"middle",fontSize:t.config.xaxis.title.style.fontSize,fontFamily:t.config.xaxis.title.style.fontFamily,fontWeight:t.config.xaxis.title.style.fontWeight,foreColor:t.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+t.config.xaxis.title.style.cssClass});b.add(S),r.add(b)}if(t.config.xaxis.axisBorder.show){var M=t.globals.barPadForNumericAxis,A=s.drawLine(t.globals.padHorizontal+t.config.xaxis.axisBorder.offsetX-M,this.offY,this.xaxisBorderWidth+M,this.offY,t.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&t.config.grid.show?this.elgrid.elGridBorders.add(A):r.add(A)}return r}},{key:"drawXAxisLabelAndGroup",value:function(t,s,r,a,u,d){var p,m=this,y=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},b=[],S=[],M=this.w,A=y.xaxisFontSize||this.xaxisFontSize,R=y.xaxisFontFamily||this.xaxisFontFamily,E=y.xaxisForeColors||this.xaxisForeColors,_=y.fontWeight||M.config.xaxis.labels.style.fontWeight,T=y.cssClass||M.config.xaxis.labels.style.cssClass,B=M.globals.padHorizontal,z=a.length,W=M.config.xaxis.type==="category"?M.globals.dataPoints:z;if(W===0&&z>W&&(W=z),u){var L=Math.max(Number(M.config.xaxis.tickAmount)||1,W>1?W-1:W);p=M.globals.gridWidth/Math.min(L,z-1),B=B+d(0,p)/2+M.config.xaxis.labels.offsetX}else p=M.globals.gridWidth/W,B=B+d(0,p)+M.config.xaxis.labels.offsetX;for(var U=function(q){var ee=B-d(q,p)/2+M.config.xaxis.labels.offsetX;q===0&&z===1&&p/2===B&&W===1&&(ee=M.globals.gridWidth/2);var te=m.axesUtils.getLabel(a,M.globals.timescaleLabels,ee,q,b,A,t),ce=28;if(M.globals.rotateXLabels&&t&&(ce=22),M.config.xaxis.title.text&&M.config.xaxis.position==="top"&&(ce+=parseFloat(M.config.xaxis.title.style.fontSize)+2),t||(ce=ce+parseFloat(A)+(M.globals.xAxisLabelsHeight-M.globals.xAxisGroupLabelsHeight)+(M.globals.rotateXLabels?10:0)),te=M.config.xaxis.tickAmount!==void 0&&M.config.xaxis.tickAmount!=="dataPoints"&&M.config.xaxis.type!=="datetime"?m.axesUtils.checkLabelBasedOnTickamount(q,te,z):m.axesUtils.checkForOverflowingLabels(q,te,z,b,S),M.config.xaxis.labels.show){var re=s.drawText({x:te.x,y:m.offY+M.config.xaxis.labels.offsetY+ce-(M.config.xaxis.position==="top"?M.globals.xAxisHeight+M.config.xaxis.axisTicks.height-2:0),text:te.text,textAnchor:"middle",fontWeight:te.isBold?600:_,fontSize:A,fontFamily:R,foreColor:Array.isArray(E)?t&&M.config.xaxis.convertedCatToNumeric?E[M.globals.minX+q-1]:E[q]:E,isPlainText:!1,cssClass:(t?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+T});if(r.add(re),re.on("click",function(ue){if(typeof M.config.chart.events.xAxisLabelClick=="function"){var ie=Object.assign({},M,{labelIndex:q});M.config.chart.events.xAxisLabelClick(ue,m.ctx,ie)}}),t){var ae=document.createElementNS(M.globals.SVGNS,"title");ae.textContent=Array.isArray(te.text)?te.text.join(" "):te.text,re.node.appendChild(ae),te.text!==""&&(b.push(te.text),S.push(te))}}q<z-1&&(B+=d(q+1,p))},I=0;I<=z-1;I++)U(I)}},{key:"drawXaxisInversed",value:function(t){var s,r,a=this,u=this.w,d=new Dt(this.ctx),p=u.config.yaxis[0].opposite?u.globals.translateYAxisX[t]:0,m=d.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:t}),y=d.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+p+", 0)"});m.add(y);var b=[];if(u.config.yaxis[t].show)for(var S=0;S<this.xaxisLabels.length;S++)b.push(this.xaxisLabels[S]);s=u.globals.gridHeight/b.length,r=-s/2.2;var M=u.globals.yLabelFormatters[0],A=u.config.yaxis[0].labels;if(A.show)for(var R=function(L){var U=b[L]===void 0?"":b[L];U=M(U,{seriesIndex:t,dataPointIndex:L,w:u});var I=a.axesUtils.getYAxisForeColor(A.style.colors,t),q=0;Array.isArray(U)&&(q=U.length/2*parseInt(A.style.fontSize,10));var ee=A.offsetX-15,te="end";a.yaxis.opposite&&(te="start"),u.config.yaxis[0].labels.align==="left"?(ee=A.offsetX,te="start"):u.config.yaxis[0].labels.align==="center"?(ee=A.offsetX,te="middle"):u.config.yaxis[0].labels.align==="right"&&(te="end");var ce=d.drawText({x:ee,y:r+s+A.offsetY-q,text:U,textAnchor:te,foreColor:Array.isArray(I)?I[L]:I,fontSize:A.style.fontSize,fontFamily:A.style.fontFamily,fontWeight:A.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+A.style.cssClass,maxWidth:A.maxWidth});y.add(ce),ce.on("click",function(ue){if(typeof u.config.chart.events.xAxisLabelClick=="function"){var ie=Object.assign({},u,{labelIndex:L});u.config.chart.events.xAxisLabelClick(ue,a.ctx,ie)}});var re=document.createElementNS(u.globals.SVGNS,"title");if(re.textContent=Array.isArray(U)?U.join(" "):U,ce.node.appendChild(re),u.config.yaxis[t].labels.rotate!==0){var ae=d.rotateAroundCenter(ce.node);ce.node.setAttribute("transform","rotate(".concat(u.config.yaxis[t].labels.rotate," 0 ").concat(ae.y,")"))}r+=s},E=0;E<=b.length-1;E++)R(E);if(u.config.yaxis[0].title.text!==void 0){var _=d.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+p+", 0)"}),T=d.drawText({x:u.config.yaxis[0].title.offsetX,y:u.globals.gridHeight/2+u.config.yaxis[0].title.offsetY,text:u.config.yaxis[0].title.text,textAnchor:"middle",foreColor:u.config.yaxis[0].title.style.color,fontSize:u.config.yaxis[0].title.style.fontSize,fontWeight:u.config.yaxis[0].title.style.fontWeight,fontFamily:u.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+u.config.yaxis[0].title.style.cssClass});_.add(T),m.add(_)}var B=0;this.isCategoryBarHorizontal&&u.config.yaxis[0].opposite&&(B=u.globals.gridWidth);var z=u.config.xaxis.axisBorder;if(z.show){var W=d.drawLine(u.globals.padHorizontal+z.offsetX+B,1+z.offsetY,u.globals.padHorizontal+z.offsetX+B,u.globals.gridHeight+z.offsetY,z.color,0);this.elgrid&&this.elgrid.elGridBorders&&u.config.grid.show?this.elgrid.elGridBorders.add(W):m.add(W)}return u.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(B,b.length,u.config.yaxis[0].axisBorder,u.config.yaxis[0].axisTicks,0,s,m),m}},{key:"drawXaxisTicks",value:function(t,s,r){var a=this.w,u=t;if(!(t<0||t-2>a.globals.gridWidth)){var d=this.offY+a.config.xaxis.axisTicks.offsetY;if(s=s+d+a.config.xaxis.axisTicks.height,a.config.xaxis.position==="top"&&(s=d-a.config.xaxis.axisTicks.height),a.config.xaxis.axisTicks.show){var p=new Dt(this.ctx).drawLine(t+a.config.xaxis.axisTicks.offsetX,d+a.config.xaxis.offsetY,u+a.config.xaxis.axisTicks.offsetX,s+a.config.xaxis.offsetY,a.config.xaxis.axisTicks.color);r.add(p),p.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var t=this.w,s=[],r=this.xaxisLabels.length,a=t.globals.padHorizontal;if(t.globals.timescaleLabels.length>0)for(var u=0;u<r;u++)a=this.xaxisLabels[u].position,s.push(a);else for(var d=r,p=0;p<d;p++){var m=d;t.globals.isXNumeric&&t.config.chart.type!=="bar"&&(m-=1),a+=t.globals.gridWidth/m,s.push(a)}return s}},{key:"xAxisLabelCorrections",value:function(){var t=this.w,s=new Dt(this.ctx),r=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),a=t.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),u=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),d=t.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(t.globals.rotateXLabels||t.config.xaxis.labels.rotateAlways)for(var p=0;p<a.length;p++){var m=s.rotateAroundCenter(a[p]);m.y=m.y-1,m.x=m.x+1,a[p].setAttribute("transform","rotate(".concat(t.config.xaxis.labels.rotate," ").concat(m.x," ").concat(m.y,")")),a[p].setAttribute("text-anchor","end"),r.setAttribute("transform","translate(0, ".concat(-10,")"));var y=a[p].childNodes;t.config.xaxis.labels.trim&&Array.prototype.forEach.call(y,function(A){s.placeTextWithEllipsis(A,A.textContent,t.globals.xAxisLabelsHeight-(t.config.legend.position==="bottom"?20:10))})}else(function(){for(var A=t.globals.gridWidth/(t.globals.labels.length+1),R=0;R<a.length;R++){var E=a[R].childNodes;t.config.xaxis.labels.trim&&t.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(E,function(_){s.placeTextWithEllipsis(_,_.textContent,A)})}})();if(u.length>0){var b=u[u.length-1].getBBox(),S=u[0].getBBox();b.x<-20&&u[u.length-1].parentNode.removeChild(u[u.length-1]),S.x+S.width>t.globals.gridWidth&&!t.globals.isBarHorizontal&&u[0].parentNode.removeChild(u[0]);for(var M=0;M<d.length;M++)s.placeTextWithEllipsis(d[M],d[M].textContent,t.config.yaxis[0].labels.maxWidth-(t.config.yaxis[0].title.text?2*parseFloat(t.config.yaxis[0].title.style.fontSize):0)-15)}}}]),i}(),RE=function(){function i(t){ln(this,i),this.ctx=t,this.w=t.w;var s=this.w;this.xaxisLabels=s.globals.labels.slice(),this.axesUtils=new Xl(t),this.isRangeBar=s.globals.seriesRange.length&&s.globals.isBarHorizontal,s.globals.timescaleLabels.length>0&&(this.xaxisLabels=s.globals.timescaleLabels.slice())}return cn(i,[{key:"drawGridArea",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,s=this.w,r=new Dt(this.ctx);t||(t=r.group({class:"apexcharts-grid"}));var a=r.drawLine(s.globals.padHorizontal,1,s.globals.padHorizontal,s.globals.gridHeight,"transparent"),u=r.drawLine(s.globals.padHorizontal,s.globals.gridHeight,s.globals.gridWidth,s.globals.gridHeight,"transparent");return t.add(u),t.add(a),t}},{key:"drawGrid",value:function(){if(this.w.globals.axisCharts){var t=this.renderGrid();return this.drawGridArea(t.el),t}return null}},{key:"createGridMask",value:function(){var t=this.w,s=t.globals,r=new Dt(this.ctx),a=Array.isArray(t.config.stroke.width)?Math.max.apply(Math,Bs(t.config.stroke.width)):t.config.stroke.width,u=function(b){var S=document.createElementNS(s.SVGNS,"clipPath");return S.setAttribute("id",b),S};s.dom.elGridRectMask=u("gridRectMask".concat(s.cuid)),s.dom.elGridRectBarMask=u("gridRectBarMask".concat(s.cuid)),s.dom.elGridRectMarkerMask=u("gridRectMarkerMask".concat(s.cuid)),s.dom.elForecastMask=u("forecastMask".concat(s.cuid)),s.dom.elNonForecastMask=u("nonForecastMask".concat(s.cuid));var d=0,p=0;(["bar","rangeBar","candlestick","boxPlot"].includes(t.config.chart.type)||t.globals.comboBarCount>0)&&t.globals.isXNumeric&&!t.globals.isBarHorizontal&&(d=Math.max(t.config.grid.padding.left,s.barPadForNumericAxis),p=Math.max(t.config.grid.padding.right,s.barPadForNumericAxis)),s.dom.elGridRect=r.drawRect(-a/2-2,-a/2-2,s.gridWidth+a+4,s.gridHeight+a+4,0,"#fff"),s.dom.elGridRectBar=r.drawRect(-a/2-d-2,-a/2-2,s.gridWidth+a+p+d+4,s.gridHeight+a+4,0,"#fff");var m=t.globals.markers.largestSize;s.dom.elGridRectMarker=r.drawRect(Math.min(-a/2-d-2,-m),-m,s.gridWidth+Math.max(a+p+d+4,2*m),s.gridHeight+2*m,0,"#fff"),s.dom.elGridRectMask.appendChild(s.dom.elGridRect.node),s.dom.elGridRectBarMask.appendChild(s.dom.elGridRectBar.node),s.dom.elGridRectMarkerMask.appendChild(s.dom.elGridRectMarker.node);var y=s.dom.baseEl.querySelector("defs");y.appendChild(s.dom.elGridRectMask),y.appendChild(s.dom.elGridRectBarMask),y.appendChild(s.dom.elGridRectMarkerMask),y.appendChild(s.dom.elForecastMask),y.appendChild(s.dom.elNonForecastMask)}},{key:"_drawGridLines",value:function(t){var s=t.i,r=t.x1,a=t.y1,u=t.x2,d=t.y2,p=t.xCount,m=t.parent,y=this.w;if(!(s===0&&y.globals.skipFirstTimelinelabel||s===p-1&&y.globals.skipLastTimelinelabel&&!y.config.xaxis.labels.formatter||y.config.chart.type==="radar")){y.config.grid.xaxis.lines.show&&this._drawGridLine({i:s,x1:r,y1:a,x2:u,y2:d,xCount:p,parent:m});var b=0;if(y.globals.hasXaxisGroups&&y.config.xaxis.tickPlacement==="between"){var S=y.globals.groups;if(S){for(var M=0,A=0;M<s&&A<S.length;A++)M+=S[A].cols;M===s&&(b=.6*y.globals.xAxisLabelsHeight)}}new op(this.ctx).drawXaxisTicks(r,b,y.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(t){var s=t.i,r=t.x1,a=t.y1,u=t.x2,d=t.y2,p=t.xCount,m=t.parent,y=this.w,b=m.node.classList.contains("apexcharts-gridlines-horizontal"),S=y.globals.barPadForNumericAxis,M=a===0&&d===0||r===0&&u===0||a===y.globals.gridHeight&&d===y.globals.gridHeight||y.globals.isBarHorizontal&&(s===0||s===p-1),A=new Dt(this).drawLine(r-(b?S:0),a,u+(b?S:0),d,y.config.grid.borderColor,y.config.grid.strokeDashArray);A.node.classList.add("apexcharts-gridline"),M&&y.config.grid.show?this.elGridBorders.add(A):m.add(A)}},{key:"_drawGridBandRect",value:function(t){var s=t.c,r=t.x1,a=t.y1,u=t.x2,d=t.y2,p=t.type,m=this.w,y=new Dt(this.ctx),b=m.globals.barPadForNumericAxis,S=m.config.grid[p].colors[s],M=y.drawRect(r-(p==="row"?b:0),a,u+(p==="row"?2*b:0),d,0,S,m.config.grid[p].opacity);this.elg.add(M),M.attr("clip-path","url(#gridRectMask".concat(m.globals.cuid,")")),M.node.classList.add("apexcharts-grid-".concat(p))}},{key:"_drawXYLines",value:function(t){var s=this,r=t.xCount,a=t.tickAmount,u=this.w;if(u.config.grid.xaxis.lines.show||u.config.xaxis.axisTicks.show){var d,p=u.globals.padHorizontal,m=u.globals.gridHeight;u.globals.timescaleLabels.length?function(R){for(var E=R.xC,_=R.x1,T=R.y1,B=R.x2,z=R.y2,W=0;W<E;W++)_=s.xaxisLabels[W].position,B=s.xaxisLabels[W].position,s._drawGridLines({i:W,x1:_,y1:T,x2:B,y2:z,xCount:r,parent:s.elgridLinesV})}({xC:r,x1:p,y1:0,x2:d,y2:m}):(u.globals.isXNumeric&&(r=u.globals.xAxisScale.result.length),function(R){for(var E=R.xC,_=R.x1,T=R.y1,B=R.x2,z=R.y2,W=0;W<E+(u.globals.isXNumeric?0:1);W++)W===0&&E===1&&u.globals.dataPoints===1&&(B=_=u.globals.gridWidth/2),s._drawGridLines({i:W,x1:_,y1:T,x2:B,y2:z,xCount:r,parent:s.elgridLinesV}),B=_+=u.globals.gridWidth/(u.globals.isXNumeric?E-1:E)}({xC:r,x1:p,y1:0,x2:d,y2:m}))}if(u.config.grid.yaxis.lines.show){var y=0,b=0,S=u.globals.gridWidth,M=a+1;this.isRangeBar&&(M=u.globals.labels.length);for(var A=0;A<M+(this.isRangeBar?1:0);A++)this._drawGridLine({i:A,xCount:M+(this.isRangeBar?1:0),x1:0,y1:y,x2:S,y2:b,parent:this.elgridLinesH}),b=y+=u.globals.gridHeight/(this.isRangeBar?M:a)}}},{key:"_drawInvertedXYLines",value:function(t){var s=t.xCount,r=this.w;if(r.config.grid.xaxis.lines.show||r.config.xaxis.axisTicks.show)for(var a,u=r.globals.padHorizontal,d=r.globals.gridHeight,p=0;p<s+1;p++)r.config.grid.xaxis.lines.show&&this._drawGridLine({i:p,xCount:s+1,x1:u,y1:0,x2:a,y2:d,parent:this.elgridLinesV}),new op(this.ctx).drawXaxisTicks(u,0,r.globals.dom.elGraphical),a=u+=r.globals.gridWidth/s;if(r.config.grid.yaxis.lines.show)for(var m=0,y=0,b=r.globals.gridWidth,S=0;S<r.globals.dataPoints+1;S++)this._drawGridLine({i:S,xCount:r.globals.dataPoints+1,x1:0,y1:m,x2:b,y2:y,parent:this.elgridLinesH}),y=m+=r.globals.gridHeight/r.globals.dataPoints}},{key:"renderGrid",value:function(){var t=this.w,s=t.globals,r=new Dt(this.ctx);this.elg=r.group({class:"apexcharts-grid"}),this.elgridLinesH=r.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=r.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=r.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),t.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var a=0;a<s.seriesYAxisMap.length&&s.ignoreYAxisIndexes.includes(a);)a++;a===s.seriesYAxisMap.length&&(a=0);var u,d=s.yAxisScale[a].result.length-1;if(!s.isBarHorizontal||this.isRangeBar){var p,m,y;u=this.xaxisLabels.length,this.isRangeBar&&(d=s.labels.length,t.config.xaxis.tickAmount&&t.config.xaxis.labels.formatter&&(u=t.config.xaxis.tickAmount),((p=s.yAxisScale)===null||p===void 0||(m=p[a])===null||m===void 0||(y=m.result)===null||y===void 0?void 0:y.length)>0&&t.config.xaxis.type!=="datetime"&&(u=s.yAxisScale[a].result.length-1)),this._drawXYLines({xCount:u,tickAmount:d})}else u=d,d=s.xTickAmount,this._drawInvertedXYLines({xCount:u,tickAmount:d});return this.drawGridBands(u,d),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:s.gridWidth/u}}},{key:"drawGridBands",value:function(t,s){var r,a,u=this,d=this.w;if(((r=d.config.grid.row.colors)===null||r===void 0?void 0:r.length)>0&&function(R,E,_,T,B,z){for(var W=0,L=0;W<E;W++,L++)L>=d.config.grid[R].colors.length&&(L=0),u._drawGridBandRect({c:L,x1:_,y1:T,x2:B,y2:z,type:R}),T+=d.globals.gridHeight/s}("row",s,0,0,d.globals.gridWidth,d.globals.gridHeight/s),((a=d.config.grid.column.colors)===null||a===void 0?void 0:a.length)>0){var p=d.globals.isBarHorizontal||d.config.xaxis.tickPlacement!=="on"||d.config.xaxis.type!=="category"&&!d.config.xaxis.convertedCatToNumeric?t:t-1;d.globals.isXNumeric&&(p=d.globals.xAxisScale.result.length-1);for(var m=d.globals.padHorizontal,y=d.globals.padHorizontal+d.globals.gridWidth/p,b=d.globals.gridHeight,S=0,M=0;S<t;S++,M++){var A;M>=d.config.grid.column.colors.length&&(M=0),d.config.xaxis.type==="datetime"&&(m=this.xaxisLabels[S].position,y=(((A=this.xaxisLabels[S+1])===null||A===void 0?void 0:A.position)||d.globals.gridWidth)-this.xaxisLabels[S].position),this._drawGridBandRect({c:M,x1:m,y1:0,x2:y,y2:b,type:"column"}),m+=d.globals.gridWidth/p}}}}]),i}(),LE=function(){function i(t){ln(this,i),this.ctx=t,this.w=t.w,this.coreUtils=new ms(this.ctx)}return cn(i,[{key:"niceScale",value:function(t,s){var r,a,u,d,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,m=1e-11,y=this.w,b=y.globals;b.isBarHorizontal?(r=y.config.xaxis,a=Math.max((b.svgWidth-100)/25,2)):(r=y.config.yaxis[p],a=Math.max((b.svgHeight-100)/15,2)),Ye.isNumber(a)||(a=10),u=r.min!==void 0&&r.min!==null,d=r.max!==void 0&&r.min!==null;var S=r.stepSize!==void 0&&r.stepSize!==null,M=r.tickAmount!==void 0&&r.tickAmount!==null,A=M?r.tickAmount:b.niceScaleDefaultTicks[Math.min(Math.round(a/2),b.niceScaleDefaultTicks.length-1)];if(b.isMultipleYAxis&&!M&&b.multiAxisTickAmount>0&&(A=b.multiAxisTickAmount,M=!0),A=A==="dataPoints"?b.dataPoints-1:Math.abs(Math.round(A)),(t===Number.MIN_VALUE&&s===0||!Ye.isNumber(t)&&!Ye.isNumber(s)||t===Number.MIN_VALUE&&s===-Number.MAX_VALUE)&&(t=Ye.isNumber(r.min)?r.min:0,s=Ye.isNumber(r.max)?r.max:t+A,b.allSeriesCollapsed=!1),t>s){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var R=s;s=t,t=R}else t===s&&(t=t===0?0:t-1,s=s===0?2:s+1);var E=[];A<1&&(A=1);var _=A,T=Math.abs(s-t);!u&&t>0&&t/T<.15&&(t=0,u=!0),!d&&s<0&&-s/T<.15&&(s=0,d=!0);var B=(T=Math.abs(s-t))/_,z=B,W=Math.floor(Math.log10(z)),L=Math.pow(10,W),U=Math.ceil(z/L);if(B=z=(U=b.niceScaleAllowedMagMsd[b.yValueDecimal===0?0:1][U])*L,b.isBarHorizontal&&r.stepSize&&r.type!=="datetime"?(B=r.stepSize,S=!0):S&&(B=r.stepSize),S&&r.forceNiceScale){var I=Math.floor(Math.log10(B));B*=Math.pow(10,W-I)}if(u&&d){var q=T/_;if(M)if(S)if(Ye.mod(T,B)!=0){var ee=Ye.getGCD(B,q);B=q/ee<10?ee:q}else Ye.mod(B,q)==0?B=q:(q=B,M=!1);else B=q;else if(S)Ye.mod(T,B)==0?q=B:B=q;else if(Ye.mod(T,B)==0)q=B;else{q=T/(_=Math.ceil(T/B));var te=Ye.getGCD(T,B);T/te<a&&(q=te),B=q}_=Math.round(T/B)}else{if(u||d){if(d)if(M)t=s-B*_;else{var ce=t;t=B*Math.floor(t/B),Math.abs(s-t)/Ye.getGCD(T,B)>a&&(t=s-B*A,t+=B*Math.floor((ce-t)/B))}else if(u)if(M)s=t+B*_;else{var re=s;s=B*Math.ceil(s/B),Math.abs(s-t)/Ye.getGCD(T,B)>a&&(s=t+B*A,s+=B*Math.ceil((re-s)/B))}}else if(b.isMultipleYAxis&&M){var ae=B*Math.floor(t/B),ue=ae+B*_;ue<s&&(B*=2),ue=s,s=(t=ae)+B*_,T=Math.abs(s-t),t>0&&t<Math.abs(ue-s)&&(t=0,s=B*_),s<0&&-s<Math.abs(ae-t)&&(s=0,t=-B*_)}else t=B*Math.floor(t/B),s=B*Math.ceil(s/B);T=Math.abs(s-t),B=Ye.getGCD(T,B),_=Math.round(T/B)}if(M||u||d||(_=Math.ceil((T-m)/(B+m)))>16&&Ye.getPrimeFactors(_).length<2&&_++,!M&&r.forceNiceScale&&b.yValueDecimal===0&&_>T&&(_=T,B=Math.round(T/_)),_>a&&(!M&&!S||r.forceNiceScale)){var ie=Ye.getPrimeFactors(_),he=ie.length-1,pe=_;e:for(var de=0;de<he;de++)for(var xe=0;xe<=he-de;xe++){for(var Se=Math.min(xe+de,he),be=pe,Ne=1,_e=xe;_e<=Se;_e++)Ne*=ie[_e];if((be/=Ne)<a){pe=be;break e}}B=pe===_?T:T/pe,_=Math.round(T/B)}b.isMultipleYAxis&&b.multiAxisTickAmount==0&&b.ignoreYAxisIndexes.indexOf(p)<0&&(b.multiAxisTickAmount=_);var Me=t-B,qe=B*m;do Me+=B,E.push(Ye.stripNumber(Me,7));while(s-Me>qe);return{result:E,niceMin:E[0],niceMax:E[E.length-1]}}},{key:"linearScale",value:function(t,s){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,d=Math.abs(s-t),p=[];if(t===s)return{result:p=[t],niceMin:p[0],niceMax:p[p.length-1]};(r=this._adjustTicksForSmallRange(r,a,d))==="dataPoints"&&(r=this.w.globals.dataPoints-1),u||(u=d/r),u=Math.round(100*(u+Number.EPSILON))/100,r===Number.MAX_VALUE&&(r=5,u=1);for(var m=t;r>=0;)p.push(m),m=Ye.preciseAddition(m,u),r-=1;return{result:p,niceMin:p[0],niceMax:p[p.length-1]}}},{key:"logarithmicScaleNice",value:function(t,s,r){s<=0&&(s=Math.max(t,r)),t<=0&&(t=Math.min(s,r));for(var a=[],u=Math.ceil(Math.log(s)/Math.log(r)+1),d=Math.floor(Math.log(t)/Math.log(r));d<u;d++)a.push(Math.pow(r,d));return{result:a,niceMin:a[0],niceMax:a[a.length-1]}}},{key:"logarithmicScale",value:function(t,s,r){s<=0&&(s=Math.max(t,r)),t<=0&&(t=Math.min(s,r));for(var a=[],u=Math.log(s)/Math.log(r),d=Math.log(t)/Math.log(r),p=u-d,m=Math.round(p),y=p/m,b=0,S=d;b<m;b++,S+=y)a.push(Math.pow(r,S));return a.push(Math.pow(r,u)),{result:a,niceMin:t,niceMax:s}}},{key:"_adjustTicksForSmallRange",value:function(t,s,r){var a=t;if(s!==void 0&&this.w.config.yaxis[s].labels.formatter&&this.w.config.yaxis[s].tickAmount===void 0){var u=Number(this.w.config.yaxis[s].labels.formatter(1));Ye.isNumber(u)&&this.w.globals.yValueDecimal===0&&(a=Math.ceil(r))}return a<t?a:t}},{key:"setYScaleForIndex",value:function(t,s,r){var a=this.w.globals,u=this.w.config,d=a.isBarHorizontal?u.xaxis:u.yaxis[t];a.yAxisScale[t]===void 0&&(a.yAxisScale[t]=[]);var p=Math.abs(r-s);d.logarithmic&&p<=5&&(a.invalidLogScale=!0),d.logarithmic&&p>5?(a.allSeriesCollapsed=!1,a.yAxisScale[t]=d.forceNiceScale?this.logarithmicScaleNice(s,r,d.logBase):this.logarithmicScale(s,r,d.logBase)):r!==-Number.MAX_VALUE&&Ye.isNumber(r)&&s!==Number.MAX_VALUE&&Ye.isNumber(s)?(a.allSeriesCollapsed=!1,a.yAxisScale[t]=this.niceScale(s,r,t)):a.yAxisScale[t]=this.niceScale(Number.MIN_VALUE,0,t)}},{key:"setXScale",value:function(t,s){var r=this.w,a=r.globals;if(s!==-Number.MAX_VALUE&&Ye.isNumber(s)){var u=a.xTickAmount;a.xAxisScale=this.linearScale(t,s,u,0,r.config.xaxis.stepSize)}else a.xAxisScale=this.linearScale(0,10,10);return a.xAxisScale}},{key:"scaleMultipleYAxes",value:function(){var t=this,s=this.w.config,r=this.w.globals;this.coreUtils.setSeriesYAxisMappings();var a=r.seriesYAxisMap,u=r.minYArr,d=r.maxYArr;r.allSeriesCollapsed=!0,r.barGroups=[],a.forEach(function(p,m){var y=[];p.forEach(function(b){var S,M=(S=s.series[b])===null||S===void 0?void 0:S.group;y.indexOf(M)<0&&y.push(M)}),p.length>0?function(){var b,S,M=Number.MAX_VALUE,A=-Number.MAX_VALUE,R=M,E=A;if(s.chart.stacked)(function(){var B=new Array(r.dataPoints).fill(0),z=[],W=[],L=[];y.forEach(function(){z.push(B.map(function(){return Number.MIN_VALUE})),W.push(B.map(function(){return Number.MIN_VALUE})),L.push(B.map(function(){return Number.MIN_VALUE}))});for(var U=function(q){!b&&s.series[p[q]].type&&(b=s.series[p[q]].type);var ee=p[q];S=s.series[ee].group?s.series[ee].group:"axis-".concat(m),!(r.collapsedSeriesIndices.indexOf(ee)<0&&r.ancillaryCollapsedSeriesIndices.indexOf(ee)<0)||(r.allSeriesCollapsed=!1,y.forEach(function(te,ce){if(s.series[ee].group===te)for(var re=0;re<r.series[ee].length;re++){var ae=r.series[ee][re];ae>=0?W[ce][re]+=ae:L[ce][re]+=ae,z[ce][re]+=ae,R=Math.min(R,ae),E=Math.max(E,ae)}})),b!=="bar"&&b!=="column"||r.barGroups.push(S)},I=0;I<p.length;I++)U(I);b||(b=s.chart.type),b==="bar"||b==="column"?y.forEach(function(q,ee){M=Math.min(M,Math.min.apply(null,L[ee])),A=Math.max(A,Math.max.apply(null,W[ee]))}):(y.forEach(function(q,ee){R=Math.min(R,Math.min.apply(null,z[ee])),E=Math.max(E,Math.max.apply(null,z[ee]))}),M=R,A=E),M===Number.MIN_VALUE&&A===Number.MIN_VALUE&&(A=-Number.MAX_VALUE)})();else for(var _=0;_<p.length;_++){var T=p[_];M=Math.min(M,u[T]),A=Math.max(A,d[T]),!(r.collapsedSeriesIndices.indexOf(T)<0&&r.ancillaryCollapsedSeriesIndices.indexOf(T)<0)||(r.allSeriesCollapsed=!1)}s.yaxis[m].min!==void 0&&(M=typeof s.yaxis[m].min=="function"?s.yaxis[m].min(M):s.yaxis[m].min),s.yaxis[m].max!==void 0&&(A=typeof s.yaxis[m].max=="function"?s.yaxis[m].max(A):s.yaxis[m].max),r.barGroups=r.barGroups.filter(function(B,z,W){return W.indexOf(B)===z}),t.setYScaleForIndex(m,M,A),p.forEach(function(B){u[B]=r.yAxisScale[m].niceMin,d[B]=r.yAxisScale[m].niceMax})}():t.setYScaleForIndex(m,0,-Number.MAX_VALUE)})}}]),i}(),qb=function(){function i(t){ln(this,i),this.ctx=t,this.w=t.w,this.scales=new LE(t)}return cn(i,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,u=this.w.config,d=this.w.globals,p=-Number.MAX_VALUE,m=Number.MIN_VALUE;a===null&&(a=t+1);var y=d.series,b=y,S=y;u.chart.type==="candlestick"?(b=d.seriesCandleL,S=d.seriesCandleH):u.chart.type==="boxPlot"?(b=d.seriesCandleO,S=d.seriesCandleC):d.isRangeData&&(b=d.seriesRangeStart,S=d.seriesRangeEnd);var M=!1;if(d.seriesX.length>=a){var A,R=(A=d.brushSource)===null||A===void 0?void 0:A.w.config.chart.brush;(u.chart.zoom.enabled&&u.chart.zoom.autoScaleYaxis||R!=null&&R.enabled&&R!=null&&R.autoScaleYaxis)&&(M=!0)}for(var E=t;E<a;E++){d.dataPoints=Math.max(d.dataPoints,y[E].length);var _=u.series[E].type;d.categoryLabels.length&&(d.dataPoints=d.categoryLabels.filter(function(ee){return ee!==void 0}).length),d.labels.length&&u.xaxis.type!=="datetime"&&d.series.reduce(function(ee,te){return ee+te.length},0)!==0&&(d.dataPoints=Math.max(d.dataPoints,d.labels.length));var T=0,B=y[E].length-1;if(M){if(u.xaxis.min)for(;T<B&&d.seriesX[E][T]<u.xaxis.min;T++);if(u.xaxis.max)for(;B>T&&d.seriesX[E][B]>u.xaxis.max;B--);}for(var z=T;z<=B&&z<d.series[E].length;z++){var W=y[E][z];if(W!==null&&Ye.isNumber(W)){var L,U,I,q;switch(((L=S[E])===null||L===void 0?void 0:L[z])!==void 0&&(p=Math.max(p,S[E][z]),s=Math.min(s,S[E][z])),((U=b[E])===null||U===void 0?void 0:U[z])!==void 0&&(s=Math.min(s,b[E][z]),r=Math.max(r,b[E][z])),_){case"candlestick":d.seriesCandleC[E][z]!==void 0&&(p=Math.max(p,d.seriesCandleH[E][z]),s=Math.min(s,d.seriesCandleL[E][z]));break;case"boxPlot":d.seriesCandleC[E][z]!==void 0&&(p=Math.max(p,d.seriesCandleC[E][z]),s=Math.min(s,d.seriesCandleO[E][z]))}_&&_!=="candlestick"&&_!=="boxPlot"&&_!=="rangeArea"&&_!=="rangeBar"&&(p=Math.max(p,d.series[E][z]),s=Math.min(s,d.series[E][z])),d.seriesGoals[E]&&d.seriesGoals[E][z]&&Array.isArray(d.seriesGoals[E][z])&&d.seriesGoals[E][z].forEach(function(ee){p=Math.max(p,ee.value),s=Math.min(s,ee.value)}),r=p,W=Ye.noExponents(W),Ye.isFloat(W)&&(d.yValueDecimal=Math.max(d.yValueDecimal,W.toString().split(".")[1].length)),m>((I=b[E])===null||I===void 0?void 0:I[z])&&((q=b[E])===null||q===void 0?void 0:q[z])<0&&(m=b[E][z])}else d.hasNullValues=!0}_!=="bar"&&_!=="column"||(m<0&&p<0&&(p=0,r=Math.max(r,0)),m===Number.MIN_VALUE&&(m=0,s=Math.min(s,0)))}return u.chart.type==="rangeBar"&&d.seriesRangeStart.length&&d.isBarHorizontal&&(m=s),u.chart.type==="bar"&&(m<0&&p<0&&(p=0),m===Number.MIN_VALUE&&(m=0)),{minY:m,maxY:p,lowestY:s,highestY:r}}},{key:"setYRange",value:function(){var t=this.w.globals,s=this.w.config;t.maxY=-Number.MAX_VALUE,t.minY=Number.MIN_VALUE;var r,a=Number.MAX_VALUE;if(t.isMultipleYAxis){a=Number.MAX_VALUE;for(var u=0;u<t.series.length;u++)r=this.getMinYMaxY(u),t.minYArr[u]=r.lowestY,t.maxYArr[u]=r.highestY,a=Math.min(a,r.lowestY)}return r=this.getMinYMaxY(0,a,null,t.series.length),s.chart.type==="bar"?(t.minY=r.minY,t.maxY=r.maxY):(t.minY=r.lowestY,t.maxY=r.highestY),a=r.lowestY,s.chart.stacked&&this._setStackedMinMax(),s.chart.type==="line"||s.chart.type==="area"||s.chart.type==="scatter"||s.chart.type==="candlestick"||s.chart.type==="boxPlot"||s.chart.type==="rangeBar"&&!t.isBarHorizontal?t.minY===Number.MIN_VALUE&&a!==-Number.MAX_VALUE&&a!==t.maxY&&(t.minY=a):t.minY=t.minY!==Number.MIN_VALUE?Math.min(r.minY,t.minY):r.minY,s.yaxis.forEach(function(d,p){d.max!==void 0&&(typeof d.max=="number"?t.maxYArr[p]=d.max:typeof d.max=="function"&&(t.maxYArr[p]=d.max(t.isMultipleYAxis?t.maxYArr[p]:t.maxY)),t.maxY=t.maxYArr[p]),d.min!==void 0&&(typeof d.min=="number"?t.minYArr[p]=d.min:typeof d.min=="function"&&(t.minYArr[p]=d.min(t.isMultipleYAxis?t.minYArr[p]===Number.MIN_VALUE?0:t.minYArr[p]:t.minY)),t.minY=t.minYArr[p])}),t.isBarHorizontal&&["min","max"].forEach(function(d){s.xaxis[d]!==void 0&&typeof s.xaxis[d]=="number"&&(d==="min"?t.minY=s.xaxis[d]:t.maxY=s.xaxis[d])}),t.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),t.minY=a):(this.scales.setYScaleForIndex(0,t.minY,t.maxY),t.minY=t.yAxisScale[0].niceMin,t.maxY=t.yAxisScale[0].niceMax,t.minYArr[0]=t.minY,t.maxYArr[0]=t.maxY),t.barGroups=[],t.lineGroups=[],t.areaGroups=[],s.series.forEach(function(d){switch(d.type||s.chart.type){case"bar":case"column":t.barGroups.push(d.group);break;case"line":t.lineGroups.push(d.group);break;case"area":t.areaGroups.push(d.group)}}),t.barGroups=t.barGroups.filter(function(d,p,m){return m.indexOf(d)===p}),t.lineGroups=t.lineGroups.filter(function(d,p,m){return m.indexOf(d)===p}),t.areaGroups=t.areaGroups.filter(function(d,p,m){return m.indexOf(d)===p}),{minY:t.minY,maxY:t.maxY,minYArr:t.minYArr,maxYArr:t.maxYArr,yAxisScale:t.yAxisScale}}},{key:"setXRange",value:function(){var t=this.w.globals,s=this.w.config,r=s.xaxis.type==="numeric"||s.xaxis.type==="datetime"||s.xaxis.type==="category"&&!t.noLabelsProvided||t.noLabelsProvided||t.isXNumeric;if(t.isXNumeric&&function(){for(var m=0;m<t.series.length;m++)if(t.labels[m])for(var y=0;y<t.labels[m].length;y++)t.labels[m][y]!==null&&Ye.isNumber(t.labels[m][y])&&(t.maxX=Math.max(t.maxX,t.labels[m][y]),t.initialMaxX=Math.max(t.maxX,t.labels[m][y]),t.minX=Math.min(t.minX,t.labels[m][y]),t.initialMinX=Math.min(t.minX,t.labels[m][y]))}(),t.noLabelsProvided&&s.xaxis.categories.length===0&&(t.maxX=t.labels[t.labels.length-1],t.initialMaxX=t.labels[t.labels.length-1],t.minX=1,t.initialMinX=1),t.isXNumeric||t.noLabelsProvided||t.dataFormatXNumeric){var a=10;if(s.xaxis.tickAmount===void 0)a=Math.round(t.svgWidth/150),s.xaxis.type==="numeric"&&t.dataPoints<30&&(a=t.dataPoints-1),a>t.dataPoints&&t.dataPoints!==0&&(a=t.dataPoints-1);else if(s.xaxis.tickAmount==="dataPoints"){if(t.series.length>1&&(a=t.series[t.maxValsInArrayIndex].length-1),t.isXNumeric){var u=Math.round(t.maxX-t.minX);u<30&&(a=u)}}else a=s.xaxis.tickAmount;if(t.xTickAmount=a,s.xaxis.max!==void 0&&typeof s.xaxis.max=="number"&&(t.maxX=s.xaxis.max),s.xaxis.min!==void 0&&typeof s.xaxis.min=="number"&&(t.minX=s.xaxis.min),s.xaxis.range!==void 0&&(t.minX=t.maxX-s.xaxis.range),t.minX!==Number.MAX_VALUE&&t.maxX!==-Number.MAX_VALUE)if(s.xaxis.convertedCatToNumeric&&!t.dataFormatXNumeric){for(var d=[],p=t.minX-1;p<t.maxX;p++)d.push(p+1);t.xAxisScale={result:d,niceMin:d[0],niceMax:d[d.length-1]}}else t.xAxisScale=this.scales.setXScale(t.minX,t.maxX);else t.xAxisScale=this.scales.linearScale(0,a,a,0,s.xaxis.stepSize),t.noLabelsProvided&&t.labels.length>0&&(t.xAxisScale=this.scales.linearScale(1,t.labels.length,a-1,0,s.xaxis.stepSize),t.seriesX=t.labels.slice());r&&(t.labels=t.xAxisScale.result.slice())}return t.isBarHorizontal&&t.labels.length&&(t.xTickAmount=t.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:t.minX,maxX:t.maxX}}},{key:"setZRange",value:function(){var t=this.w.globals;if(t.isDataXYZ){for(var s=0;s<t.series.length;s++)if(t.seriesZ[s]!==void 0)for(var r=0;r<t.seriesZ[s].length;r++)t.seriesZ[s][r]!==null&&Ye.isNumber(t.seriesZ[s][r])&&(t.maxZ=Math.max(t.maxZ,t.seriesZ[s][r]),t.minZ=Math.min(t.minZ,t.seriesZ[s][r]))}}},{key:"_handleSingleDataPoint",value:function(){var t=this.w.globals,s=this.w.config;if(t.minX===t.maxX){var r=new ir(this.ctx);if(s.xaxis.type==="datetime"){var a=r.getDate(t.minX);s.xaxis.labels.datetimeUTC?a.setUTCDate(a.getUTCDate()-2):a.setDate(a.getDate()-2),t.minX=new Date(a).getTime();var u=r.getDate(t.maxX);s.xaxis.labels.datetimeUTC?u.setUTCDate(u.getUTCDate()+2):u.setDate(u.getDate()+2),t.maxX=new Date(u).getTime()}else(s.xaxis.type==="numeric"||s.xaxis.type==="category"&&!t.noLabelsProvided)&&(t.minX=t.minX-2,t.initialMinX=t.minX,t.maxX=t.maxX+2,t.initialMaxX=t.maxX)}}},{key:"_getMinXDiff",value:function(){var t=this.w.globals;t.isXNumeric&&t.seriesX.forEach(function(s,r){if(s.length){s.length===1&&s.push(t.seriesX[t.maxValsInArrayIndex][t.seriesX[t.maxValsInArrayIndex].length-1]);var a=s.slice();a.sort(function(u,d){return u-d}),a.forEach(function(u,d){if(d>0){var p=u-a[d-1];p>0&&(t.minXDiff=Math.min(p,t.minXDiff))}}),t.dataPoints!==1&&t.minXDiff!==Number.MAX_VALUE||(t.minXDiff=.5)}})}},{key:"_setStackedMinMax",value:function(){var t=this,s=this.w.globals;if(s.series.length){var r=s.seriesGroups;r.length||(r=[this.w.globals.seriesNames.map(function(d){return d})]);var a={},u={};r.forEach(function(d){a[d]=[],u[d]=[],t.w.config.series.map(function(p,m){return d.indexOf(s.seriesNames[m])>-1?m:null}).filter(function(p){return p!==null}).forEach(function(p){for(var m=0;m<s.series[s.maxValsInArrayIndex].length;m++){var y,b,S,M;a[d][m]===void 0&&(a[d][m]=0,u[d][m]=0),(t.w.config.chart.stacked&&!s.comboCharts||t.w.config.chart.stacked&&s.comboCharts&&(!t.w.config.chart.stackOnlyBar||((y=t.w.config.series)===null||y===void 0||(b=y[p])===null||b===void 0?void 0:b.type)==="bar"||((S=t.w.config.series)===null||S===void 0||(M=S[p])===null||M===void 0?void 0:M.type)==="column"))&&s.series[p][m]!==null&&Ye.isNumber(s.series[p][m])&&(s.series[p][m]>0?a[d][m]+=parseFloat(s.series[p][m])+1e-4:u[d][m]+=parseFloat(s.series[p][m]))}})}),Object.entries(a).forEach(function(d){var p=tE(d,1)[0];a[p].forEach(function(m,y){s.maxY=Math.max(s.maxY,a[p][y]),s.minY=Math.min(s.minY,u[p][y])})})}}}]),i}(),Tw=function(){function i(t,s){ln(this,i),this.ctx=t,this.elgrid=s,this.w=t.w;var r=this.w;this.xaxisFontSize=r.config.xaxis.labels.style.fontSize,this.axisFontFamily=r.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=r.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=r.config.chart.type==="bar"&&r.config.plotOptions.bar.horizontal,this.xAxisoffX=r.config.xaxis.position==="bottom"?r.globals.gridHeight:0,this.drawnLabels=[],this.axesUtils=new Xl(t)}return cn(i,[{key:"drawYaxis",value:function(t){var s=this.w,r=new Dt(this.ctx),a=s.config.yaxis[t].labels.style,u=a.fontSize,d=a.fontFamily,p=a.fontWeight,m=r.group({class:"apexcharts-yaxis",rel:t,transform:"translate(".concat(s.globals.translateYAxisX[t],", 0)")});if(this.axesUtils.isYAxisHidden(t))return m;var y=r.group({class:"apexcharts-yaxis-texts-g"});m.add(y);var b=s.globals.yAxisScale[t].result.length-1,S=s.globals.gridHeight/b,M=s.globals.yLabelFormatters[t],A=this.axesUtils.checkForReversedLabels(t,s.globals.yAxisScale[t].result.slice());if(s.config.yaxis[t].labels.show){var R=s.globals.translateY+s.config.yaxis[t].labels.offsetY;s.globals.isBarHorizontal?R=0:s.config.chart.type==="heatmap"&&(R-=S/2),R+=parseInt(u,10)/3;for(var E=b;E>=0;E--){var _=M(A[E],E,s),T=s.config.yaxis[t].labels.padding;s.config.yaxis[t].opposite&&s.config.yaxis.length!==0&&(T*=-1);var B=this.getTextAnchor(s.config.yaxis[t].labels.align,s.config.yaxis[t].opposite),z=this.axesUtils.getYAxisForeColor(a.colors,t),W=Array.isArray(z)?z[E]:z,L=Ye.listToArray(s.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(t,"'] .apexcharts-yaxis-label tspan"))).map(function(I){return I.textContent}),U=r.drawText({x:T,y:R,text:L.includes(_)&&!s.config.yaxis[t].labels.showDuplicates?"":_,textAnchor:B,fontSize:u,fontFamily:d,fontWeight:p,maxWidth:s.config.yaxis[t].labels.maxWidth,foreColor:W,isPlainText:!1,cssClass:"apexcharts-yaxis-label ".concat(a.cssClass)});y.add(U),this.addTooltip(U,_),s.config.yaxis[t].labels.rotate!==0&&this.rotateLabel(r,U,firstLabel,s.config.yaxis[t].labels.rotate),R+=S}}return this.addYAxisTitle(r,m,t),this.addAxisBorder(r,m,t,b,S),m}},{key:"getTextAnchor",value:function(t,s){return t==="left"?"start":t==="center"?"middle":t==="right"?"end":s?"start":"end"}},{key:"addTooltip",value:function(t,s){var r=document.createElementNS(this.w.globals.SVGNS,"title");r.textContent=Array.isArray(s)?s.join(" "):s,t.node.appendChild(r)}},{key:"rotateLabel",value:function(t,s,r,a){var u=t.rotateAroundCenter(r.node),d=t.rotateAroundCenter(s.node);s.node.setAttribute("transform","rotate(".concat(a," ").concat(u.x," ").concat(d.y,")"))}},{key:"addYAxisTitle",value:function(t,s,r){var a=this.w;if(a.config.yaxis[r].title.text!==void 0){var u=t.group({class:"apexcharts-yaxis-title"}),d=a.config.yaxis[r].opposite?a.globals.translateYAxisX[r]:0,p=t.drawText({x:d,y:a.globals.gridHeight/2+a.globals.translateY+a.config.yaxis[r].title.offsetY,text:a.config.yaxis[r].title.text,textAnchor:"end",foreColor:a.config.yaxis[r].title.style.color,fontSize:a.config.yaxis[r].title.style.fontSize,fontWeight:a.config.yaxis[r].title.style.fontWeight,fontFamily:a.config.yaxis[r].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text ".concat(a.config.yaxis[r].title.style.cssClass)});u.add(p),s.add(u)}}},{key:"addAxisBorder",value:function(t,s,r,a,u){var d=this.w,p=d.config.yaxis[r].axisBorder,m=31+p.offsetX;if(d.config.yaxis[r].opposite&&(m=-31-p.offsetX),p.show){var y=t.drawLine(m,d.globals.translateY+p.offsetY-2,m,d.globals.gridHeight+d.globals.translateY+p.offsetY+2,p.color,0,p.width);s.add(y)}d.config.yaxis[r].axisTicks.show&&this.axesUtils.drawYAxisTicks(m,a,p,d.config.yaxis[r].axisTicks,r,u,s)}},{key:"drawYaxisInversed",value:function(t){var s=this.w,r=new Dt(this.ctx),a=r.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),u=r.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(s.globals.translateXAxisX,", ").concat(s.globals.translateXAxisY,")")});a.add(u);var d=s.globals.yAxisScale[t].result.length-1,p=s.globals.gridWidth/d+.1,m=p+s.config.xaxis.labels.offsetX,y=s.globals.xLabelFormatter,b=this.axesUtils.checkForReversedLabels(t,s.globals.yAxisScale[t].result.slice()),S=s.globals.timescaleLabels;if(S.length>0&&(this.xaxisLabels=S.slice(),d=(b=S.slice()).length),s.config.xaxis.labels.show)for(var M=S.length?0:d;S.length?M<S.length:M>=0;S.length?M++:M--){var A=y(b[M],M,s),R=s.globals.gridWidth+s.globals.padHorizontal-(m-p+s.config.xaxis.labels.offsetX);if(S.length){var E=this.axesUtils.getLabel(b,S,R,M,this.drawnLabels,this.xaxisFontSize);R=E.x,A=E.text,this.drawnLabels.push(E.text),M===0&&s.globals.skipFirstTimelinelabel&&(A=""),M===b.length-1&&s.globals.skipLastTimelinelabel&&(A="")}var _=r.drawText({x:R,y:this.xAxisoffX+s.config.xaxis.labels.offsetY+30-(s.config.xaxis.position==="top"?s.globals.xAxisHeight+s.config.xaxis.axisTicks.height-2:0),text:A,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[t]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:s.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label ".concat(s.config.xaxis.labels.style.cssClass)});u.add(_),_.tspan(A),this.addTooltip(_,A),m+=p}return this.inversedYAxisTitleText(a),this.inversedYAxisBorder(a),a}},{key:"inversedYAxisBorder",value:function(t){var s=this.w,r=new Dt(this.ctx),a=s.config.xaxis.axisBorder;if(a.show){var u=0;s.config.chart.type==="bar"&&s.globals.isXNumeric&&(u-=15);var d=r.drawLine(s.globals.padHorizontal+u+a.offsetX,this.xAxisoffX,s.globals.gridWidth,this.xAxisoffX,a.color,0,a.height);this.elgrid&&this.elgrid.elGridBorders&&s.config.grid.show?this.elgrid.elGridBorders.add(d):t.add(d)}}},{key:"inversedYAxisTitleText",value:function(t){var s=this.w,r=new Dt(this.ctx);if(s.config.xaxis.title.text!==void 0){var a=r.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),u=r.drawText({x:s.globals.gridWidth/2+s.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(s.config.xaxis.title.style.fontSize)+s.config.xaxis.title.offsetY+20,text:s.config.xaxis.title.text,textAnchor:"middle",fontSize:s.config.xaxis.title.style.fontSize,fontFamily:s.config.xaxis.title.style.fontFamily,fontWeight:s.config.xaxis.title.style.fontWeight,foreColor:s.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text ".concat(s.config.xaxis.title.style.cssClass)});a.add(u),t.add(a)}}},{key:"yAxisTitleRotate",value:function(t,s){var r=this.w,a=new Dt(this.ctx),u=r.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(t,"'] .apexcharts-yaxis-texts-g")),d=u?u.getBoundingClientRect():{width:0,height:0},p=r.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(t,"'] .apexcharts-yaxis-title text")),m=p?p.getBoundingClientRect():{width:0,height:0};if(p){var y=this.xPaddingForYAxisTitle(t,d,m,s);p.setAttribute("x",y.xPos-(s?10:0));var b=a.rotateAroundCenter(p);p.setAttribute("transform","rotate(".concat(s?-1*r.config.yaxis[t].title.rotate:r.config.yaxis[t].title.rotate," ").concat(b.x," ").concat(b.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(t,s,r,a){var u=this.w,d=0,p=10;return u.config.yaxis[t].title.text===void 0||t<0?{xPos:d,padd:0}:(a?d=s.width+u.config.yaxis[t].title.offsetX+r.width/2+p/2:(d=-1*s.width+u.config.yaxis[t].title.offsetX+p/2+r.width/2,u.globals.isBarHorizontal&&(p=25,d=-1*s.width-u.config.yaxis[t].title.offsetX-p)),{xPos:d,padd:p})}},{key:"setYAxisXPosition",value:function(t,s){var r=this.w,a=0,u=0,d=18,p=1;r.config.yaxis.length>1&&(this.multipleYs=!0),r.config.yaxis.forEach(function(m,y){var b=r.globals.ignoreYAxisIndexes.includes(y)||!m.show||m.floating||t[y].width===0,S=t[y].width+s[y].width;m.opposite?r.globals.isBarHorizontal?(u=r.globals.gridWidth+r.globals.translateX-1,r.globals.translateYAxisX[y]=u-m.labels.offsetX):(u=r.globals.gridWidth+r.globals.translateX+p,b||(p+=S+20),r.globals.translateYAxisX[y]=u-m.labels.offsetX+20):(a=r.globals.translateX-d,b||(d+=S+20),r.globals.translateYAxisX[y]=a+m.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var t=this.w;Ye.listToArray(t.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis")).forEach(function(s,r){var a=t.config.yaxis[r];if(a&&!a.floating&&a.labels.align!==void 0){var u=t.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(r,"'] .apexcharts-yaxis-texts-g")),d=Ye.listToArray(t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(r,"'] .apexcharts-yaxis-label"))),p=u.getBoundingClientRect();d.forEach(function(m){m.setAttribute("text-anchor",a.labels.align)}),a.labels.align!=="left"||a.opposite?a.labels.align==="center"?u.setAttribute("transform","translate(".concat(p.width/2*(a.opposite?1:-1),", 0)")):a.labels.align==="right"&&a.opposite&&u.setAttribute("transform","translate(".concat(p.width,", 0)")):u.setAttribute("transform","translate(-".concat(p.width,", 0)"))}})}}]),i}(),oU=function(){function i(t){ln(this,i),this.ctx=t,this.w=t.w,this.documentEvent=Ye.bind(this.documentEvent,this)}return cn(i,[{key:"addEventListener",value:function(t,s){var r=this.w;r.globals.events.hasOwnProperty(t)?r.globals.events[t].push(s):r.globals.events[t]=[s]}},{key:"removeEventListener",value:function(t,s){var r=this.w;if(r.globals.events.hasOwnProperty(t)){var a=r.globals.events[t].indexOf(s);a!==-1&&r.globals.events[t].splice(a,1)}}},{key:"fireEvent",value:function(t,s){var r=this.w;if(r.globals.events.hasOwnProperty(t)){s&&s.length||(s=[]);for(var a=r.globals.events[t],u=a.length,d=0;d<u;d++)a[d].apply(null,s)}}},{key:"setupEventHandlers",value:function(){var t=this,s=this.w,r=this.ctx,a=s.globals.dom.baseEl.querySelector(s.globals.chartClass);this.ctx.eventList.forEach(function(u){a.addEventListener(u,function(d){var p=d.target.getAttribute("i")===null&&s.globals.capturedSeriesIndex!==-1?s.globals.capturedSeriesIndex:d.target.getAttribute("i"),m=d.target.getAttribute("j")===null&&s.globals.capturedDataPointIndex!==-1?s.globals.capturedDataPointIndex:d.target.getAttribute("j"),y=Object.assign({},s,{seriesIndex:s.globals.axisCharts?p:0,dataPointIndex:m});d.type==="mousemove"||d.type==="touchmove"?typeof s.config.chart.events.mouseMove=="function"&&s.config.chart.events.mouseMove(d,r,y):d.type==="mouseleave"||d.type==="touchleave"?typeof s.config.chart.events.mouseLeave=="function"&&s.config.chart.events.mouseLeave(d,r,y):(d.type==="mouseup"&&d.which===1||d.type==="touchend")&&(typeof s.config.chart.events.click=="function"&&s.config.chart.events.click(d,r,y),r.ctx.events.fireEvent("click",[d,r,y]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(u){s.globals.dom.baseEl.addEventListener(u,t.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(t){var s=this.w,r=t.target.className;if(t.type==="click"){var a=s.globals.dom.baseEl.querySelector(".apexcharts-menu");a&&a.classList.contains("apexcharts-menu-open")&&r!=="apexcharts-menu-icon"&&a.classList.remove("apexcharts-menu-open")}s.globals.clientX=t.type==="touchmove"?t.touches[0].clientX:t.clientX,s.globals.clientY=t.type==="touchmove"?t.touches[0].clientY:t.clientY}}]),i}(),aU=function(){function i(t){ln(this,i),this.ctx=t,this.w=t.w}return cn(i,[{key:"setCurrentLocaleValues",value:function(t){var s=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(s=this.w.config.chart.locales.concat(window.Apex.chart.locales));var r=s.filter(function(u){return u.name===t})[0];if(!r)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var a=Ye.extend(DE,r);this.w.globals.locale=a.options}}]),i}(),lU=function(){function i(t){ln(this,i),this.ctx=t,this.w=t.w}return cn(i,[{key:"drawAxis",value:function(t,s){var r,a,u=this,d=this.w.globals,p=this.w.config,m=new op(this.ctx,s),y=new Tw(this.ctx,s);d.axisCharts&&t!=="radar"&&(d.isBarHorizontal?(a=y.drawYaxisInversed(0),r=m.drawXaxisInversed(0),d.dom.elGraphical.add(r),d.dom.elGraphical.add(a)):(r=m.drawXaxis(),d.dom.elGraphical.add(r),p.yaxis.map(function(b,S){if(d.ignoreYAxisIndexes.indexOf(S)===-1&&(a=y.drawYaxis(S),d.dom.Paper.add(a),u.w.config.grid.position==="back")){var M=d.dom.Paper.children()[1];M.remove(),d.dom.Paper.add(M)}})))}}]),i}(),Kb=function(){function i(t){ln(this,i),this.ctx=t,this.w=t.w}return cn(i,[{key:"drawXCrosshairs",value:function(){var t=this.w,s=new Dt(this.ctx),r=new sr(this.ctx),a=t.config.xaxis.crosshairs.fill.gradient,u=t.config.xaxis.crosshairs.dropShadow,d=t.config.xaxis.crosshairs.fill.type,p=a.colorFrom,m=a.colorTo,y=a.opacityFrom,b=a.opacityTo,S=a.stops,M=u.enabled,A=u.left,R=u.top,E=u.blur,_=u.color,T=u.opacity,B=t.config.xaxis.crosshairs.fill.color;if(t.config.xaxis.crosshairs.show){d==="gradient"&&(B=s.drawGradient("vertical",p,m,y,b,null,S,null));var z=s.drawRect();t.config.xaxis.crosshairs.width===1&&(z=s.drawLine());var W=t.globals.gridHeight;(!Ye.isNumber(W)||W<0)&&(W=0);var L=t.config.xaxis.crosshairs.width;(!Ye.isNumber(L)||L<0)&&(L=0),z.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:W,width:L,height:W,fill:B,filter:"none","fill-opacity":t.config.xaxis.crosshairs.opacity,stroke:t.config.xaxis.crosshairs.stroke.color,"stroke-width":t.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":t.config.xaxis.crosshairs.stroke.dashArray}),M&&(z=r.dropShadow(z,{left:A,top:R,blur:E,color:_,opacity:T})),t.globals.dom.elGraphical.add(z)}}},{key:"drawYCrosshairs",value:function(){var t=this.w,s=new Dt(this.ctx),r=t.config.yaxis[0].crosshairs,a=t.globals.barPadForNumericAxis;if(t.config.yaxis[0].crosshairs.show){var u=s.drawLine(-a,0,t.globals.gridWidth+a,0,r.stroke.color,r.stroke.dashArray,r.stroke.width);u.attr({class:"apexcharts-ycrosshairs"}),t.globals.dom.elGraphical.add(u)}var d=s.drawLine(-a,0,t.globals.gridWidth+a,0,r.stroke.color,0,0);d.attr({class:"apexcharts-ycrosshairs-hidden"}),t.globals.dom.elGraphical.add(d)}}]),i}(),cU=function(){function i(t){ln(this,i),this.ctx=t,this.w=t.w}return cn(i,[{key:"checkResponsiveConfig",value:function(t){var s=this,r=this.w,a=r.config;if(a.responsive.length!==0){var u=a.responsive.slice();u.sort(function(y,b){return y.breakpoint>b.breakpoint?1:b.breakpoint>y.breakpoint?-1:0}).reverse();var d=new rp({}),p=function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=u[0].breakpoint,S=window.innerWidth>0?window.innerWidth:screen.width;if(S>b){var M=Ye.clone(r.globals.initialConfig);M.series=Ye.clone(r.config.series);var A=ms.extendArrayProps(d,M,r);y=Ye.extend(A,y),y=Ye.extend(r.config,y),s.overrideResponsiveOptions(y)}else for(var R=0;R<u.length;R++)S<u[R].breakpoint&&(y=ms.extendArrayProps(d,u[R].options,r),y=Ye.extend(r.config,y),s.overrideResponsiveOptions(y))};if(t){var m=ms.extendArrayProps(d,t,r);m=Ye.extend(r.config,m),p(m=Ye.extend(m,t))}else p({})}}},{key:"overrideResponsiveOptions",value:function(t){var s=new rp(t).init({responsiveOverride:!0});this.w.config=s}}]),i}(),uU=function(){function i(t){ln(this,i),this.ctx=t,this.w=t.w,this.colors=[],this.isColorFn=!1,this.isHeatmapDistributed=this.checkHeatmapDistributed(),this.isBarDistributed=this.checkBarDistributed()}return cn(i,[{key:"checkHeatmapDistributed",value:function(){var t=this.w.config,s=t.chart,r=t.plotOptions;return s.type==="treemap"&&r.treemap&&r.treemap.distributed||s.type==="heatmap"&&r.heatmap&&r.heatmap.distributed}},{key:"checkBarDistributed",value:function(){var t=this.w.config,s=t.chart,r=t.plotOptions;return r.bar&&r.bar.distributed&&(s.type==="bar"||s.type==="rangeBar")}},{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var t=this.w,s=new Ye;t.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(t.config.theme.mode||"light"));var r=Bs(t.config.colors||t.config.fill.colors||[]);t.globals.colors=this.getColors(r),this.applySeriesColors(t.globals.seriesColors,t.globals.colors),t.config.theme.monochrome.enabled&&(t.globals.colors=this.getMonochromeColors(t.config.theme.monochrome,t.globals.series,s));var a=t.globals.colors.slice();this.pushExtraColors(t.globals.colors),this.applyColorTypes(["fill","stroke"],a),this.applyDataLabelsColors(a),this.applyRadarPolygonsColors(),this.applyMarkersColors(a)}},{key:"getColors",value:function(t){var s=this,r=this.w;return t&&t.length!==0?Array.isArray(t)&&t.length>0&&typeof t[0]=="function"?(this.isColorFn=!0,r.config.series.map(function(a,u){var d=t[u]||t[0];return typeof d=="function"?d({value:r.globals.axisCharts?r.globals.series[u][0]||0:r.globals.series[u],seriesIndex:u,dataPointIndex:u,w:s.w}):d})):t:this.predefined()}},{key:"applySeriesColors",value:function(t,s){t.forEach(function(r,a){r&&(s[a]=r)})}},{key:"getMonochromeColors",value:function(t,s,r){var a=t.color,u=t.shadeIntensity,d=t.shadeTo,p=this.isBarDistributed||this.isHeatmapDistributed?s[0].length*s.length:s.length,m=1/(p/u),y=0;return Array.from({length:p},function(){var b=d==="dark"?r.shadeColor(-1*y,a):r.shadeColor(y,a);return y+=m,b})}},{key:"applyColorTypes",value:function(t,s){var r=this,a=this.w;t.forEach(function(u){a.globals[u].colors=a.config[u].colors===void 0?r.isColorFn?a.config.colors:s:a.config[u].colors.slice(),r.pushExtraColors(a.globals[u].colors)})}},{key:"applyDataLabelsColors",value:function(t){var s=this.w;s.globals.dataLabels.style.colors=s.config.dataLabels.style.colors===void 0?t:s.config.dataLabels.style.colors.slice(),this.pushExtraColors(s.globals.dataLabels.style.colors,50)}},{key:"applyRadarPolygonsColors",value:function(){var t=this.w;t.globals.radarPolygons.fill.colors=t.config.plotOptions.radar.polygons.fill.colors===void 0?[t.config.theme.mode==="dark"?"#343A3F":"none"]:t.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(t.globals.radarPolygons.fill.colors,20)}},{key:"applyMarkersColors",value:function(t){var s=this.w;s.globals.markers.colors=s.config.markers.colors===void 0?t:s.config.markers.colors.slice(),this.pushExtraColors(s.globals.markers.colors)}},{key:"pushExtraColors",value:function(t,s){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=this.w,u=s||a.globals.series.length;if(r===null&&(r=this.isBarDistributed||this.isHeatmapDistributed||a.config.chart.type==="heatmap"&&a.config.plotOptions.heatmap&&a.config.plotOptions.heatmap.colorScale.inverse),r&&a.globals.series.length&&(u=a.globals.series[a.globals.maxValsInArrayIndex].length*a.globals.series.length),t.length<u)for(var d=u-t.length,p=0;p<d;p++)t.push(t[p])}},{key:"updateThemeOptions",value:function(t){t.chart=t.chart||{},t.tooltip=t.tooltip||{};var s=t.theme.mode,r=s==="dark"?"palette4":s==="light"?"palette1":t.theme.palette||"palette1",a=s==="dark"?"#f6f7f8":s==="light"?"#373d3f":t.chart.foreColor||"#373d3f";return t.tooltip.theme=s||"light",t.chart.foreColor=a,t.theme.palette=r,t}},{key:"predefined",value:function(){var t=this.w.config.theme.palette,s=this.ctx.constructor.getThemePalettes();return s[t]||s.palette1}}]),i}(),hU=function(){function i(t){ln(this,i),this.ctx=t,this.w=t.w}return cn(i,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(t){var s=this.w,r=t==="title"?s.config.title:s.config.subtitle,a=s.globals.svgWidth/2,u=r.offsetY,d="middle";if(r.align==="left"?(a=10,d="start"):r.align==="right"&&(a=s.globals.svgWidth-10,d="end"),a+=r.offsetX,u=u+parseInt(r.style.fontSize,10)+r.margin/2,r.text!==void 0){var p=new Dt(this.ctx).drawText({x:a,y:u,text:r.text,textAnchor:d,fontSize:r.style.fontSize,fontFamily:r.style.fontFamily,fontWeight:r.style.fontWeight,foreColor:r.style.color,opacity:1});p.node.setAttribute("class","apexcharts-".concat(t,"-text")),s.globals.dom.Paper.add(p)}}}]),i}(),dU=function(){function i(t){ln(this,i),this.w=t.w,this.dCtx=t}return cn(i,[{key:"getTitleSubtitleCoords",value:function(t){var s=this.w,r=0,a=0,u=t==="title"?s.config.title.floating:s.config.subtitle.floating,d=s.globals.dom.baseEl.querySelector(".apexcharts-".concat(t,"-text"));if(d!==null&&!u){var p=d.getBoundingClientRect();r=p.width,a=s.globals.axisCharts?p.height+5:p.height}return{width:r,height:a}}},{key:"getLegendsRect",value:function(){var t=this.w,s=t.globals.dom.elLegendWrap;t.config.legend.height||t.config.legend.position!=="top"&&t.config.legend.position!=="bottom"||(s.style.maxHeight=t.globals.svgHeight/2+"px");var r=Object.assign({},Ye.getBoundingClientRect(s));return s!==null&&!t.config.legend.floating&&t.config.legend.show?this.dCtx.lgRect={x:r.x,y:r.y,height:r.height,width:r.height===0?0:r.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},t.config.legend.position!=="left"&&t.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>t.globals.svgWidth&&(this.dCtx.lgRect.width=t.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var t=this,s=this.w,r=[];s.config.series.forEach(function(m,y){m.data.forEach(function(b,S){var M;M=s.globals.series[y][S],a=s.config.dataLabels.formatter(M,{ctx:t.dCtx.ctx,seriesIndex:y,dataPointIndex:S,w:s}),r.push(a)})});var a=Ye.getLargestStringFromArr(r),u=new Dt(this.dCtx.ctx),d=s.config.dataLabels.style,p=u.getTextRects(a,parseInt(d.fontSize),d.fontFamily);return{width:1.05*p.width,height:p.height}}},{key:"getLargestStringFromMultiArr",value:function(t,s){var r=t;if(this.w.globals.isMultiLineX){var a=s.map(function(d,p){return Array.isArray(d)?d.length:1}),u=Math.max.apply(Math,Bs(a));r=s[a.indexOf(u)]}return r}}]),i}(),fU=function(){function i(t){ln(this,i),this.w=t.w,this.dCtx=t}return cn(i,[{key:"getxAxisLabelsCoords",value:function(){var t,s=this.w,r=s.globals.labels.slice();if(s.config.xaxis.convertedCatToNumeric&&r.length===0&&(r=s.globals.categoryLabels),s.globals.timescaleLabels.length>0){var a=this.getxAxisTimeScaleLabelsCoords();t={width:a.width,height:a.height},s.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=s.config.legend.position!=="left"&&s.config.legend.position!=="right"||s.config.legend.floating?0:this.dCtx.lgRect.width;var u=s.globals.xLabelFormatter,d=Ye.getLargestStringFromArr(r),p=this.dCtx.dimHelpers.getLargestStringFromMultiArr(d,r);s.globals.isBarHorizontal&&(p=d=s.globals.yAxisScale[0].result.reduce(function(R,E){return R.length>E.length?R:E},0));var m=new Dp(this.dCtx.ctx),y=d;d=m.xLabelFormat(u,d,y,{i:void 0,dateFormatter:new ir(this.dCtx.ctx).formatDate,w:s}),p=m.xLabelFormat(u,p,y,{i:void 0,dateFormatter:new ir(this.dCtx.ctx).formatDate,w:s}),(s.config.xaxis.convertedCatToNumeric&&d===void 0||String(d).trim()==="")&&(p=d="1");var b=new Dt(this.dCtx.ctx),S=b.getTextRects(d,s.config.xaxis.labels.style.fontSize),M=S;if(d!==p&&(M=b.getTextRects(p,s.config.xaxis.labels.style.fontSize)),(t={width:S.width>=M.width?S.width:M.width,height:S.height>=M.height?S.height:M.height}).width*r.length>s.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&s.config.xaxis.labels.rotate!==0||s.config.xaxis.labels.rotateAlways){if(!s.globals.isBarHorizontal){s.globals.rotateXLabels=!0;var A=function(R){return b.getTextRects(R,s.config.xaxis.labels.style.fontSize,s.config.xaxis.labels.style.fontFamily,"rotate(".concat(s.config.xaxis.labels.rotate," 0 0)"),!1)};S=A(d),d!==p&&(M=A(p)),t.height=(S.height>M.height?S.height:M.height)/1.5,t.width=S.width>M.width?S.width:M.width}}else s.globals.rotateXLabels=!1}return s.config.xaxis.labels.show||(t={width:0,height:0}),{width:t.width,height:t.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var t,s=this.w;if(!s.globals.hasXaxisGroups)return{width:0,height:0};var r,a=((t=s.config.xaxis.group.style)===null||t===void 0?void 0:t.fontSize)||s.config.xaxis.labels.style.fontSize,u=s.globals.groups.map(function(S){return S.title}),d=Ye.getLargestStringFromArr(u),p=this.dCtx.dimHelpers.getLargestStringFromMultiArr(d,u),m=new Dt(this.dCtx.ctx),y=m.getTextRects(d,a),b=y;return d!==p&&(b=m.getTextRects(p,a)),r={width:y.width>=b.width?y.width:b.width,height:y.height>=b.height?y.height:b.height},s.config.xaxis.labels.show||(r={width:0,height:0}),{width:r.width,height:r.height}}},{key:"getxAxisTitleCoords",value:function(){var t=this.w,s=0,r=0;if(t.config.xaxis.title.text!==void 0){var a=new Dt(this.dCtx.ctx).getTextRects(t.config.xaxis.title.text,t.config.xaxis.title.style.fontSize);s=a.width,r=a.height}return{width:s,height:r}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var t,s=this.w;this.dCtx.timescaleLabels=s.globals.timescaleLabels.slice();var r=this.dCtx.timescaleLabels.map(function(u){return u.value}),a=r.reduce(function(u,d){return u===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):u.length>d.length?u:d},0);return 1.05*(t=new Dt(this.dCtx.ctx).getTextRects(a,s.config.xaxis.labels.style.fontSize)).width*r.length>s.globals.gridWidth&&s.config.xaxis.labels.rotate!==0&&(s.globals.overlappingXLabels=!0),t}},{key:"additionalPaddingXLabels",value:function(t){var s=this,r=this.w,a=r.globals,u=r.config,d=u.xaxis.type,p=t.width;a.skipLastTimelinelabel=!1,a.skipFirstTimelinelabel=!1;var m=r.config.yaxis[0].opposite&&r.globals.isBarHorizontal,y=function(b,S){u.yaxis.length>1&&function(M){return a.collapsedSeriesIndices.indexOf(M)!==-1}(S)||function(M){if(s.dCtx.timescaleLabels&&s.dCtx.timescaleLabels.length){var A=s.dCtx.timescaleLabels[0],R=s.dCtx.timescaleLabels[s.dCtx.timescaleLabels.length-1].position+p/1.75-s.dCtx.yAxisWidthRight,E=A.position-p/1.75+s.dCtx.yAxisWidthLeft,_=r.config.legend.position==="right"&&s.dCtx.lgRect.width>0?s.dCtx.lgRect.width:0;R>a.svgWidth-a.translateX-_&&(a.skipLastTimelinelabel=!0),E<-(M.show&&!M.floating||u.chart.type!=="bar"&&u.chart.type!=="candlestick"&&u.chart.type!=="rangeBar"&&u.chart.type!=="boxPlot"?10:p/1.75)&&(a.skipFirstTimelinelabel=!0)}else d==="datetime"?s.dCtx.gridPad.right<p&&!a.rotateXLabels&&(a.skipLastTimelinelabel=!0):d!=="datetime"&&s.dCtx.gridPad.right<p/2-s.dCtx.yAxisWidthRight&&!a.rotateXLabels&&!r.config.xaxis.labels.trim&&(s.dCtx.xPadRight=p/2+1)}(b)};u.yaxis.forEach(function(b,S){m?(s.dCtx.gridPad.left<p&&(s.dCtx.xPadLeft=p/2+1),s.dCtx.xPadRight=p/2+1):y(b,S)})}}]),i}(),pU=function(){function i(t){ln(this,i),this.w=t.w,this.dCtx=t}return cn(i,[{key:"getyAxisLabelsCoords",value:function(){var t=this,s=this.w,r=[],a=10,u=new Xl(this.dCtx.ctx);return s.config.yaxis.map(function(d,p){var m={seriesIndex:p,dataPointIndex:-1,w:s},y=s.globals.yAxisScale[p],b=0;if(!u.isYAxisHidden(p)&&d.labels.show&&d.labels.minWidth!==void 0&&(b=d.labels.minWidth),!u.isYAxisHidden(p)&&d.labels.show&&y.result.length){var S=s.globals.yLabelFormatters[p],M=y.niceMin===Number.MIN_VALUE?0:y.niceMin,A=y.result.reduce(function(W,L){var U,I;return((U=String(S(W,m)))===null||U===void 0?void 0:U.length)>((I=String(S(L,m)))===null||I===void 0?void 0:I.length)?W:L},M),R=A=S(A,m);if(A!==void 0&&A.length!==0||(A=y.niceMax),s.globals.isBarHorizontal){a=0;var E=s.globals.labels.slice();A=Ye.getLargestStringFromArr(E),A=S(A,{seriesIndex:p,dataPointIndex:-1,w:s}),R=t.dCtx.dimHelpers.getLargestStringFromMultiArr(A,E)}var _=new Dt(t.dCtx.ctx),T="rotate(".concat(d.labels.rotate," 0 0)"),B=_.getTextRects(A,d.labels.style.fontSize,d.labels.style.fontFamily,T,!1),z=B;A!==R&&(z=_.getTextRects(R,d.labels.style.fontSize,d.labels.style.fontFamily,T,!1)),r.push({width:(b>z.width||b>B.width?b:z.width>B.width?z.width:B.width)+a,height:z.height>B.height?z.height:B.height})}else r.push({width:0,height:0})}),r}},{key:"getyAxisTitleCoords",value:function(){var t=this,s=this.w,r=[];return s.config.yaxis.map(function(a,u){if(a.show&&a.title.text!==void 0){var d=new Dt(t.dCtx.ctx),p="rotate(".concat(a.title.rotate," 0 0)"),m=d.getTextRects(a.title.text,a.title.style.fontSize,a.title.style.fontFamily,p,!1);r.push({width:m.width,height:m.height})}else r.push({width:0,height:0})}),r}},{key:"getTotalYAxisWidth",value:function(){var t=this.w,s=0,r=0,a=0,u=t.globals.yAxisScale.length>1?10:0,d=new Xl(this.dCtx.ctx),p=function(m,y){var b=t.config.yaxis[y].floating,S=0;m.width>0&&!b?(S=m.width+u,function(M){return t.globals.ignoreYAxisIndexes.indexOf(M)>-1}(y)&&(S=S-m.width-u)):S=b||d.isYAxisHidden(y)?0:5,t.config.yaxis[y].opposite?a+=S:r+=S,s+=S};return t.globals.yLabelsCoords.map(function(m,y){p(m,y)}),t.globals.yTitleCoords.map(function(m,y){p(m,y)}),t.globals.isBarHorizontal&&!t.config.yaxis[0].floating&&(s=t.globals.yLabelsCoords[0].width+t.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=r,this.dCtx.yAxisWidthRight=a,s}}]),i}(),gU=function(){function i(t){ln(this,i),this.w=t.w,this.dCtx=t}return cn(i,[{key:"gridPadForColumnsInNumericAxis",value:function(t){var s=this.w,r=s.config,a=s.globals;if(a.noData||a.collapsedSeries.length+a.ancillaryCollapsedSeries.length===r.series.length)return 0;var u=function(A){return["bar","rangeBar","candlestick","boxPlot"].includes(A)},d=r.chart.type,p=0,m=u(d)?r.series.length:1;a.comboBarCount>0&&(m=a.comboBarCount),a.collapsedSeries.forEach(function(A){u(A.type)&&(m-=1)}),r.chart.stacked&&(m=1);var y=u(d)||a.comboBarCount>0,b=Math.abs(a.initialMaxX-a.initialMinX);if(y&&a.isXNumeric&&!a.isBarHorizontal&&m>0&&b!==0){b<=3&&(b=a.dataPoints);var S=b/t,M=a.minXDiff&&a.minXDiff/S>0?a.minXDiff/S:0;M>t/2&&(M/=2),(p=M*parseInt(r.plotOptions.bar.columnWidth,10)/100)<1&&(p=1),a.barPadForNumericAxis=p}return p}},{key:"gridPadFortitleSubtitle",value:function(){var t=this,s=this.w,r=s.globals,a=this.dCtx.isSparkline||!r.axisCharts?0:10;["title","subtitle"].forEach(function(p){s.config[p].text!==void 0?a+=s.config[p].margin:a+=t.dCtx.isSparkline||!r.axisCharts?0:5}),!s.config.legend.show||s.config.legend.position!=="bottom"||s.config.legend.floating||r.axisCharts||(a+=10);var u=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),d=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");r.gridHeight-=u.height+d.height+a,r.translateY+=u.height+d.height+a}},{key:"setGridXPosForDualYAxis",value:function(t,s){var r=this.w,a=new Xl(this.dCtx.ctx);r.config.yaxis.forEach(function(u,d){r.globals.ignoreYAxisIndexes.indexOf(d)!==-1||u.floating||a.isYAxisHidden(d)||(u.opposite&&(r.globals.translateX-=s[d].width+t[d].width+parseInt(u.labels.style.fontSize,10)/1.2+12),r.globals.translateX<2&&(r.globals.translateX=2))})}}]),i}(),o0=function(){function i(t){ln(this,i),this.ctx=t,this.w=t.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new dU(this),this.dimYAxis=new pU(this),this.dimXAxis=new fU(this),this.dimGrid=new gU(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return cn(i,[{key:"plotCoords",value:function(){var t=this,s=this.w,r=s.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var a=Array.isArray(s.config.stroke.width)?Math.max.apply(Math,Bs(s.config.stroke.width)):s.config.stroke.width;this.isSparkline&&((s.config.markers.discrete.length>0||s.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(d){var p=tE(d,2),m=p[0],y=p[1];t.gridPad[m]=Math.max(y,t.w.globals.markers.largestSize/1.5)}),this.gridPad.top=Math.max(a/2,this.gridPad.top),this.gridPad.bottom=Math.max(a/2,this.gridPad.bottom)),r.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),r.gridHeight=r.gridHeight-this.gridPad.top-this.gridPad.bottom,r.gridWidth=r.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var u=this.dimGrid.gridPadForColumnsInNumericAxis(r.gridWidth);r.gridWidth=r.gridWidth-2*u,r.translateX=r.translateX+this.gridPad.left+this.xPadLeft+(u>0?u:0),r.translateY=r.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var t=this,s=this.w,r=s.globals,a=this.dimYAxis.getyAxisLabelsCoords(),u=this.dimYAxis.getyAxisTitleCoords();r.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),s.globals.yLabelsCoords=[],s.globals.yTitleCoords=[],s.config.yaxis.map(function(A,R){s.globals.yLabelsCoords.push({width:a[R].width,index:R}),s.globals.yTitleCoords.push({width:u[R].width,index:R})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var d=this.dimXAxis.getxAxisLabelsCoords(),p=this.dimXAxis.getxAxisGroupLabelsCoords(),m=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(d,m,p),r.translateXAxisY=s.globals.rotateXLabels?this.xAxisHeight/8:-4,r.translateXAxisX=s.globals.rotateXLabels&&s.globals.isXNumeric&&s.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,s.globals.isBarHorizontal&&(r.rotateXLabels=!1,r.translateXAxisY=parseInt(s.config.xaxis.labels.style.fontSize,10)/1.5*-1),r.translateXAxisY=r.translateXAxisY+s.config.xaxis.labels.offsetY,r.translateXAxisX=r.translateXAxisX+s.config.xaxis.labels.offsetX;var y=this.yAxisWidth,b=this.xAxisHeight;r.xAxisLabelsHeight=this.xAxisHeight-m.height,r.xAxisGroupLabelsHeight=r.xAxisLabelsHeight-d.height,r.xAxisLabelsWidth=this.xAxisWidth,r.xAxisHeight=this.xAxisHeight;var S=10;(s.config.chart.type==="radar"||this.isSparkline)&&(y=0,b=0),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||s.config.chart.type==="treemap")&&(y=0,b=0,S=0),this.isSparkline||s.config.chart.type==="treemap"||this.dimXAxis.additionalPaddingXLabels(d);var M=function(){r.translateX=y+t.datalabelsCoords.width,r.gridHeight=r.svgHeight-t.lgRect.height-b-(t.isSparkline||s.config.chart.type==="treemap"?0:s.globals.rotateXLabels?10:15),r.gridWidth=r.svgWidth-y-2*t.datalabelsCoords.width};switch(s.config.xaxis.position==="top"&&(S=r.xAxisHeight-s.config.xaxis.axisTicks.height-5),s.config.legend.position){case"bottom":r.translateY=S,M();break;case"top":r.translateY=this.lgRect.height+S,M();break;case"left":r.translateY=S,r.translateX=this.lgRect.width+y+this.datalabelsCoords.width,r.gridHeight=r.svgHeight-b-12,r.gridWidth=r.svgWidth-this.lgRect.width-y-2*this.datalabelsCoords.width;break;case"right":r.translateY=S,r.translateX=y+this.datalabelsCoords.width,r.gridHeight=r.svgHeight-b-12,r.gridWidth=r.svgWidth-this.lgRect.width-y-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(u,a),new Tw(this.ctx).setYAxisXPosition(a,u)}},{key:"setDimensionsForNonAxisCharts",value:function(){var t=this.w,s=t.globals,r=t.config,a=0;t.config.legend.show&&!t.config.legend.floating&&(a=20);var u=r.chart.type==="pie"||r.chart.type==="polarArea"||r.chart.type==="donut"?"pie":"radialBar",d=r.plotOptions[u].offsetY,p=r.plotOptions[u].offsetX;if(!r.legend.show||r.legend.floating){s.gridHeight=s.svgHeight;var m=s.dom.elWrap.getBoundingClientRect().width;return s.gridWidth=Math.min(m,s.gridHeight),s.translateY=d,void(s.translateX=p+(s.svgWidth-s.gridWidth)/2)}switch(r.legend.position){case"bottom":s.gridHeight=s.svgHeight-this.lgRect.height,s.gridWidth=s.svgWidth,s.translateY=d-10,s.translateX=p+(s.svgWidth-s.gridWidth)/2;break;case"top":s.gridHeight=s.svgHeight-this.lgRect.height,s.gridWidth=s.svgWidth,s.translateY=this.lgRect.height+d+10,s.translateX=p+(s.svgWidth-s.gridWidth)/2;break;case"left":s.gridWidth=s.svgWidth-this.lgRect.width-a,s.gridHeight=r.chart.height!=="auto"?s.svgHeight:s.gridWidth,s.translateY=d,s.translateX=p+this.lgRect.width+a;break;case"right":s.gridWidth=s.svgWidth-this.lgRect.width-a-5,s.gridHeight=r.chart.height!=="auto"?s.svgHeight:s.gridWidth,s.translateY=d,s.translateX=p+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(t,s,r){var a=this.w,u=a.globals.hasXaxisGroups?2:1,d=r.height+t.height+s.height,p=a.globals.isMultiLineX?1.2:a.globals.LINE_HEIGHT_RATIO,m=a.globals.rotateXLabels?22:10,y=a.globals.rotateXLabels&&a.config.legend.position==="bottom"?10:0;this.xAxisHeight=d*p+u*m+y,this.xAxisWidth=t.width,this.xAxisHeight-s.height>a.config.xaxis.labels.maxHeight&&(this.xAxisHeight=a.config.xaxis.labels.maxHeight),a.config.xaxis.labels.minHeight&&this.xAxisHeight<a.config.xaxis.labels.minHeight&&(this.xAxisHeight=a.config.xaxis.labels.minHeight),a.config.xaxis.floating&&(this.xAxisHeight=0);var b=0,S=0;a.config.yaxis.forEach(function(M){b+=M.labels.minWidth,S+=M.labels.maxWidth}),this.yAxisWidth<b&&(this.yAxisWidth=b),this.yAxisWidth>S&&(this.yAxisWidth=S)}}]),i}(),mU=function(){function i(t){ln(this,i),this.w=t.w,this.lgCtx=t}return cn(i,[{key:"getLegendStyles",value:function(){var t,s,r,a=document.createElement("style");a.setAttribute("type","text/css");var u=((t=this.lgCtx.ctx)===null||t===void 0||(s=t.opts)===null||s===void 0||(r=s.chart)===null||r===void 0?void 0:r.nonce)||this.w.config.chart.nonce;u&&a.setAttribute("nonce",u);var d=document.createTextNode(`
      .apexcharts-flip-y {
        transform: scaleY(-1) translateY(-100%);
        transform-origin: top;
        transform-box: fill-box;
      }
      .apexcharts-flip-x {
        transform: scaleX(-1);
        transform-origin: center;
        transform-box: fill-box;
      }
      .apexcharts-legend {
        display: flex;
        overflow: auto;
        padding: 0 10px;
      }
      .apexcharts-legend.apexcharts-legend-group-horizontal {
        flex-direction: column;
      }
      .apexcharts-legend-group {
        display: flex;
      }
      .apexcharts-legend-group-vertical {
        flex-direction: column-reverse;
      }
      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {
        flex-wrap: wrap
      }
      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        flex-direction: column;
        bottom: 0;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        justify-content: flex-start;
        align-items: flex-start;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {
        justify-content: center;
        align-items: center;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {
        justify-content: flex-end;
        align-items: flex-end;
      }
      .apexcharts-legend-series {
        cursor: pointer;
        line-height: normal;
        display: flex;
        align-items: center;
      }
      .apexcharts-legend-text {
        position: relative;
        font-size: 14px;
      }
      .apexcharts-legend-text *, .apexcharts-legend-marker * {
        pointer-events: none;
      }
      .apexcharts-legend-marker {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        margin-right: 1px;
      }

      .apexcharts-legend-series.apexcharts-no-click {
        cursor: auto;
      }
      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {
        display: none !important;
      }
      .apexcharts-inactive-legend {
        opacity: 0.45;
      }

    `);return a.appendChild(d),a}},{key:"getLegendDimensions",value:function(){var t=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),s=t.width;return{clwh:t.height,clww:s}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(t,s){var r=this,a=this.w;if(a.globals.axisCharts||a.config.chart.type==="radialBar"){a.globals.resized=!0;var u=null,d=null;a.globals.risingSeries=[],a.globals.axisCharts?(u=a.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"']")),d=parseInt(u.getAttribute("data:realIndex"),10)):(u=a.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(t+1,"']")),d=parseInt(u.getAttribute("rel"),10)-1),s?[{cs:a.globals.collapsedSeries,csi:a.globals.collapsedSeriesIndices},{cs:a.globals.ancillaryCollapsedSeries,csi:a.globals.ancillaryCollapsedSeriesIndices}].forEach(function(b){r.riseCollapsedSeries(b.cs,b.csi,d)}):this.hideSeries({seriesEl:u,realIndex:d})}else{var p=a.globals.dom.Paper.findOne(" .apexcharts-series[rel='".concat(t+1,"'] path")),m=a.config.chart.type;if(m==="pie"||m==="polarArea"||m==="donut"){var y=a.config.plotOptions.pie.donut.labels;new Dt(this.lgCtx.ctx).pathMouseDown(p,null),this.lgCtx.ctx.pie.printDataLabelsInner(p.node,y)}p.fire("click")}}},{key:"getSeriesAfterCollapsing",value:function(t){var s=t.realIndex,r=this.w,a=r.globals,u=Ye.clone(r.config.series);if(a.axisCharts){var d=r.config.yaxis[a.seriesYAxisReverseMap[s]],p={index:s,data:u[s].data.slice(),type:u[s].type||r.config.chart.type};if(d&&d.show&&d.showAlways)a.ancillaryCollapsedSeriesIndices.indexOf(s)<0&&(a.ancillaryCollapsedSeries.push(p),a.ancillaryCollapsedSeriesIndices.push(s));else if(a.collapsedSeriesIndices.indexOf(s)<0){a.collapsedSeries.push(p),a.collapsedSeriesIndices.push(s);var m=a.risingSeries.indexOf(s);a.risingSeries.splice(m,1)}}else a.collapsedSeries.push({index:s,data:u[s]}),a.collapsedSeriesIndices.push(s);return a.allSeriesCollapsed=a.collapsedSeries.length+a.ancillaryCollapsedSeries.length===r.config.series.length,this._getSeriesBasedOnCollapsedState(u)}},{key:"hideSeries",value:function(t){for(var s=t.seriesEl,r=t.realIndex,a=this.w,u=this.getSeriesAfterCollapsing({realIndex:r}),d=s.childNodes,p=0;p<d.length;p++)d[p].classList.contains("apexcharts-series-markers-wrap")&&(d[p].classList.contains("apexcharts-hide")?d[p].classList.remove("apexcharts-hide"):d[p].classList.add("apexcharts-hide"));this.lgCtx.ctx.updateHelpers._updateSeries(u,a.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(t,s,r){var a=this.w,u=Ye.clone(a.config.series);if(t.length>0){for(var d=0;d<t.length;d++)t[d].index===r&&(a.globals.axisCharts?u[r].data=t[d].data.slice():u[r]=t[d].data,typeof u[r]!="number"&&(u[r].hidden=!1),t.splice(d,1),s.splice(d,1),a.globals.risingSeries.push(r));u=this._getSeriesBasedOnCollapsedState(u),this.lgCtx.ctx.updateHelpers._updateSeries(u,a.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(t){var s=this.w,r=0;return s.globals.axisCharts?t.forEach(function(a,u){s.globals.collapsedSeriesIndices.indexOf(u)<0&&s.globals.ancillaryCollapsedSeriesIndices.indexOf(u)<0||(t[u].data=[],r++)}):t.forEach(function(a,u){!s.globals.collapsedSeriesIndices.indexOf(u)<0&&(t[u]=0,r++)}),s.globals.allSeriesCollapsed=r===t.length,t}}]),i}(),OE=function(){function i(t){ln(this,i),this.ctx=t,this.w=t.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new mU(this)}return cn(i,[{key:"init",value:function(){var t=this.w,s=t.globals,r=t.config,a=r.legend.showForSingleSeries&&s.series.length===1||this.isBarsDistributed||s.series.length>1;if(this.legendHelpers.appendToForeignObject(),(a||!s.axisCharts)&&r.legend.show){for(;s.dom.elLegendWrap.firstChild;)s.dom.elLegendWrap.removeChild(s.dom.elLegendWrap.firstChild);this.drawLegends(),r.legend.position==="bottom"||r.legend.position==="top"?this.legendAlignHorizontal():r.legend.position!=="right"&&r.legend.position!=="left"||this.legendAlignVertical()}}},{key:"createLegendMarker",value:function(t){var s=t.i,r=t.fillcolor,a=this.w,u=document.createElement("span");u.classList.add("apexcharts-legend-marker");var d=a.config.legend.markers.shape||a.config.markers.shape,p=d;Array.isArray(d)&&(p=d[s]);var m=Array.isArray(a.config.legend.markers.size)?parseFloat(a.config.legend.markers.size[s]):parseFloat(a.config.legend.markers.size),y=Array.isArray(a.config.legend.markers.offsetX)?parseFloat(a.config.legend.markers.offsetX[s]):parseFloat(a.config.legend.markers.offsetX),b=Array.isArray(a.config.legend.markers.offsetY)?parseFloat(a.config.legend.markers.offsetY[s]):parseFloat(a.config.legend.markers.offsetY),S=Array.isArray(a.config.legend.markers.strokeWidth)?parseFloat(a.config.legend.markers.strokeWidth[s]):parseFloat(a.config.legend.markers.strokeWidth),M=u.style;if(M.height=2*(m+S)+"px",M.width=2*(m+S)+"px",M.left=y+"px",M.top=b+"px",a.config.legend.markers.customHTML)M.background="transparent",M.color=r[s],Array.isArray(a.config.legend.markers.customHTML)?a.config.legend.markers.customHTML[s]&&(u.innerHTML=a.config.legend.markers.customHTML[s]()):u.innerHTML=a.config.legend.markers.customHTML();else{var A=new $h(this.ctx).getMarkerConfig({cssClass:"apexcharts-legend-marker apexcharts-marker apexcharts-marker-".concat(p),seriesIndex:s,strokeWidth:S,size:m}),R=window.SVG().addTo(u).size("100%","100%"),E=new Dt(this.ctx).drawMarker(0,0,Yt(Yt({},A),{},{pointFillColor:Array.isArray(r)?r[s]:A.pointFillColor,shape:p}));a.globals.dom.Paper.find(".apexcharts-legend-marker.apexcharts-marker").forEach(function(_){_.node.classList.contains("apexcharts-marker-triangle")?_.node.style.transform="translate(50%, 45%)":_.node.style.transform="translate(50%, 50%)"}),R.add(E)}return u}},{key:"drawLegends",value:function(){var t=this,s=this,r=this.w,a=r.config.legend.fontFamily,u=r.globals.seriesNames,d=r.config.legend.markers.fillColors?r.config.legend.markers.fillColors.slice():r.globals.colors.slice();if(r.config.chart.type==="heatmap"){var p=r.config.plotOptions.heatmap.colorScale.ranges;u=p.map(function(A){return A.name?A.name:A.from+" - "+A.to}),d=p.map(function(A){return A.color})}else this.isBarsDistributed&&(u=r.globals.labels.slice());r.config.legend.customLegendItems.length&&(u=r.config.legend.customLegendItems);var m=r.globals.legendFormatter,y=r.config.legend.inverseOrder,b=[];r.globals.seriesGroups.length>1&&r.config.legend.clusterGroupedSeries&&r.globals.seriesGroups.forEach(function(A,R){b[R]=document.createElement("div"),b[R].classList.add("apexcharts-legend-group","apexcharts-legend-group-".concat(R)),r.config.legend.clusterGroupedSeriesOrientation==="horizontal"?r.globals.dom.elLegendWrap.classList.add("apexcharts-legend-group-horizontal"):b[R].classList.add("apexcharts-legend-group-vertical")});for(var S=function(A){var R,E=m(u[A],{seriesIndex:A,w:r}),_=!1,T=!1;if(r.globals.collapsedSeries.length>0)for(var B=0;B<r.globals.collapsedSeries.length;B++)r.globals.collapsedSeries[B].index===A&&(_=!0);if(r.globals.ancillaryCollapsedSeriesIndices.length>0)for(var z=0;z<r.globals.ancillaryCollapsedSeriesIndices.length;z++)r.globals.ancillaryCollapsedSeriesIndices[z]===A&&(T=!0);var W=t.createLegendMarker({i:A,fillcolor:d});Dt.setAttrs(W,{rel:A+1,"data:collapsed":_||T}),(_||T)&&W.classList.add("apexcharts-inactive-legend");var L=document.createElement("div"),U=document.createElement("span");U.classList.add("apexcharts-legend-text"),U.innerHTML=Array.isArray(E)?E.join(" "):E;var I=r.config.legend.labels.useSeriesColors?r.globals.colors[A]:Array.isArray(r.config.legend.labels.colors)?(R=r.config.legend.labels.colors)===null||R===void 0?void 0:R[A]:r.config.legend.labels.colors;I||(I=r.config.chart.foreColor),U.style.color=I,U.style.fontSize=parseFloat(r.config.legend.fontSize)+"px",U.style.fontWeight=r.config.legend.fontWeight,U.style.fontFamily=a||r.config.chart.fontFamily,Dt.setAttrs(U,{rel:A+1,i:A,"data:default-text":encodeURIComponent(E),"data:collapsed":_||T}),L.appendChild(W),L.appendChild(U);var q=new ms(t.ctx);r.config.legend.showForZeroSeries||q.getSeriesTotalByIndex(A)===0&&q.seriesHaveSameValues(A)&&!q.isSeriesNull(A)&&r.globals.collapsedSeriesIndices.indexOf(A)===-1&&r.globals.ancillaryCollapsedSeriesIndices.indexOf(A)===-1&&L.classList.add("apexcharts-hidden-zero-series"),r.config.legend.showForNullSeries||q.isSeriesNull(A)&&r.globals.collapsedSeriesIndices.indexOf(A)===-1&&r.globals.ancillaryCollapsedSeriesIndices.indexOf(A)===-1&&L.classList.add("apexcharts-hidden-null-series"),b.length?r.globals.seriesGroups.forEach(function(ee,te){var ce;ee.includes((ce=r.config.series[A])===null||ce===void 0?void 0:ce.name)&&(r.globals.dom.elLegendWrap.appendChild(b[te]),b[te].appendChild(L))}):r.globals.dom.elLegendWrap.appendChild(L),r.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(r.config.legend.horizontalAlign)),r.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+r.config.legend.position),L.classList.add("apexcharts-legend-series"),L.style.margin="".concat(r.config.legend.itemMargin.vertical,"px ").concat(r.config.legend.itemMargin.horizontal,"px"),r.globals.dom.elLegendWrap.style.width=r.config.legend.width?r.config.legend.width+"px":"",r.globals.dom.elLegendWrap.style.height=r.config.legend.height?r.config.legend.height+"px":"",Dt.setAttrs(L,{rel:A+1,seriesName:Ye.escapeString(u[A]),"data:collapsed":_||T}),(_||T)&&L.classList.add("apexcharts-inactive-legend"),r.config.legend.onItemClick.toggleDataSeries||L.classList.add("apexcharts-no-click")},M=y?u.length-1:0;y?M>=0:M<=u.length-1;y?M--:M++)S(M);r.globals.dom.elWrap.addEventListener("click",s.onLegendClick,!0),r.config.legend.onItemHover.highlightDataSeries&&r.config.legend.customLegendItems.length===0&&(r.globals.dom.elWrap.addEventListener("mousemove",s.onLegendHovered,!0),r.globals.dom.elWrap.addEventListener("mouseout",s.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(t,s){var r=this.w,a=r.globals.dom.elLegendWrap,u=a.clientHeight,d=0,p=0;if(r.config.legend.position==="bottom")p=r.globals.svgHeight-Math.min(u,r.globals.svgHeight/2)-5;else if(r.config.legend.position==="top"){var m=new o0(this.ctx),y=m.dimHelpers.getTitleSubtitleCoords("title").height,b=m.dimHelpers.getTitleSubtitleCoords("subtitle").height;p=(y>0?y-10:0)+(b>0?b-10:0)}a.style.position="absolute",d=d+t+r.config.legend.offsetX,p=p+s+r.config.legend.offsetY,a.style.left=d+"px",a.style.top=p+"px",r.config.legend.position==="right"&&(a.style.left="auto",a.style.right=25+r.config.legend.offsetX+"px"),["width","height"].forEach(function(S){a.style[S]&&(a.style[S]=parseInt(r.config.legend[S],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var t=this.w;t.globals.dom.elLegendWrap.style.right=0;var s=new o0(this.ctx),r=s.dimHelpers.getTitleSubtitleCoords("title"),a=s.dimHelpers.getTitleSubtitleCoords("subtitle"),u=0;t.config.legend.position==="top"&&(u=r.height+a.height+t.config.title.margin+t.config.subtitle.margin-10),this.setLegendWrapXY(20,u)}},{key:"legendAlignVertical",value:function(){var t=this.w,s=this.legendHelpers.getLegendDimensions(),r=0;t.config.legend.position==="left"&&(r=20),t.config.legend.position==="right"&&(r=t.globals.svgWidth-s.clww-10),this.setLegendWrapXY(r,20)}},{key:"onLegendHovered",value:function(t){var s=this.w,r=t.target.classList.contains("apexcharts-legend-series")||t.target.classList.contains("apexcharts-legend-text")||t.target.classList.contains("apexcharts-legend-marker");if(s.config.chart.type==="heatmap"||this.isBarsDistributed){if(r){var a=parseInt(t.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,a,this.w]),new Vo(this.ctx).highlightRangeInSeries(t,t.target)}}else!t.target.classList.contains("apexcharts-inactive-legend")&&r&&new Vo(this.ctx).toggleSeriesOnHover(t,t.target)}},{key:"onLegendClick",value:function(t){var s=this.w;if(!s.config.legend.customLegendItems.length&&(t.target.classList.contains("apexcharts-legend-series")||t.target.classList.contains("apexcharts-legend-text")||t.target.classList.contains("apexcharts-legend-marker"))){var r=parseInt(t.target.getAttribute("rel"),10)-1,a=t.target.getAttribute("data:collapsed")==="true",u=this.w.config.chart.events.legendClick;typeof u=="function"&&u(this.ctx,r,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,r,this.w]);var d=this.w.config.legend.markers.onClick;typeof d=="function"&&t.target.classList.contains("apexcharts-legend-marker")&&(d(this.ctx,r,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,r,this.w])),s.config.chart.type!=="treemap"&&s.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&s.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(r,a)}}}]),i}(),IE=function(){function i(t){ln(this,i),this.ctx=t,this.w=t.w;var s=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=s.globals.minX,this.maxX=s.globals.maxX}return cn(i,[{key:"createToolbar",value:function(){var t=this,s=this.w,r=function(){return document.createElement("div")},a=r();if(a.setAttribute("class","apexcharts-toolbar"),a.style.top=s.config.chart.toolbar.offsetY+"px",a.style.right=3-s.config.chart.toolbar.offsetX+"px",s.globals.dom.elWrap.appendChild(a),this.elZoom=r(),this.elZoomIn=r(),this.elZoomOut=r(),this.elPan=r(),this.elSelection=r(),this.elZoomReset=r(),this.elMenuIcon=r(),this.elMenu=r(),this.elCustomIcons=[],this.t=s.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var u=0;u<this.t.customIcons.length;u++)this.elCustomIcons.push(r());var d=[],p=function(S,M,A){var R=S.toLowerCase();t.t[R]&&s.config.chart.zoom.enabled&&d.push({el:M,icon:typeof t.t[R]=="string"?t.t[R]:A,title:t.localeValues[S],class:"apexcharts-".concat(R,"-icon")})};p("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),p("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var m=function(S){t.t[S]&&s.config.chart[S].enabled&&d.push({el:S==="zoom"?t.elZoom:t.elSelection,icon:typeof t.t[S]=="string"?t.t[S]:S==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:t.localeValues[S==="zoom"?"selectionZoom":"selection"],class:s.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(S,"-icon")})};m("zoom"),m("selection"),this.t.pan&&s.config.chart.zoom.enabled&&d.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:s.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),p("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&d.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var y=0;y<this.elCustomIcons.length;y++)d.push({el:this.elCustomIcons[y],icon:this.t.customIcons[y].icon,title:this.t.customIcons[y].title,index:this.t.customIcons[y].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[y].class});d.forEach(function(S,M){S.index&&Ye.moveIndexInArray(d,M,S.index)});for(var b=0;b<d.length;b++)Dt.setAttrs(d[b].el,{class:d[b].class,title:d[b].title}),d[b].el.innerHTML=d[b].icon,a.appendChild(d[b].el);this._createHamburgerMenu(a),s.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):s.globals.panEnabled?this.elPan.classList.add(this.selectedClass):s.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(t){this.elMenuItems=[],t.appendChild(this.elMenu),Dt.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var s=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],r=0;r<s.length;r++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[r].innerHTML=s[r].title,Dt.setAttrs(this.elMenuItems[r],{class:"apexcharts-menu-item ".concat(s[r].name),title:s[r].title}),this.elMenu.appendChild(this.elMenuItems[r])}},{key:"addToolbarEventListeners",value:function(){var t=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(r){r.classList.contains("exportSVG")?r.addEventListener("click",t.handleDownload.bind(t,"svg")):r.classList.contains("exportPNG")?r.addEventListener("click",t.handleDownload.bind(t,"png")):r.classList.contains("exportCSV")&&r.addEventListener("click",t.handleDownload.bind(t,"csv"))});for(var s=0;s<this.t.customIcons.length;s++)this.elCustomIcons[s].addEventListener("click",this.t.customIcons[s].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(t){this.ctx.getSyncedCharts().forEach(function(s){s.ctx.toolbar.toggleOtherControls();var r=t==="selection"?s.ctx.toolbar.elSelection:s.ctx.toolbar.elZoom,a=t==="selection"?"selectionEnabled":"zoomEnabled";s.w.globals[a]=!s.w.globals[a],r.classList.contains(s.ctx.toolbar.selectedClass)?r.classList.remove(s.ctx.toolbar.selectedClass):r.classList.add(s.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var t=this.w;this.elZoom||(this.elZoom=t.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=t.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=t.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(t){this.toggleOtherControls(),t==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var s=t==="pan"?this.elPan:this.elZoom,r=t==="pan"?this.elZoom:this.elPan;s&&s.classList.add(this.selectedClass),r&&r.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(t){t.ctx.toolbar.toggleOtherControls(),t.w.globals.panEnabled=!t.w.globals.panEnabled,t.ctx.toolbar.elPan.classList.contains(t.ctx.toolbar.selectedClass)?t.ctx.toolbar.elPan.classList.remove(t.ctx.toolbar.selectedClass):t.ctx.toolbar.elPan.classList.add(t.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var t=this,s=this.w;s.globals.panEnabled=!1,s.globals.zoomEnabled=!1,s.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(r){r&&r.classList.remove(t.selectedClass)})}},{key:"handleZoomIn",value:function(){var t=this.w;t.globals.isRangeBar&&(this.minX=t.globals.minY,this.maxX=t.globals.maxY);var s=(this.minX+this.maxX)/2,r=(this.minX+s)/2,a=(this.maxX+s)/2,u=this._getNewMinXMaxX(r,a);t.globals.disableZoomIn||this.zoomUpdateOptions(u.minX,u.maxX)}},{key:"handleZoomOut",value:function(){var t=this.w;if(t.globals.isRangeBar&&(this.minX=t.globals.minY,this.maxX=t.globals.maxY),!(t.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var s=(this.minX+this.maxX)/2,r=this.minX-(s-this.minX),a=this.maxX-(s-this.maxX),u=this._getNewMinXMaxX(r,a);t.globals.disableZoomOut||this.zoomUpdateOptions(u.minX,u.maxX)}}},{key:"_getNewMinXMaxX",value:function(t,s){var r=this.w.config.xaxis.convertedCatToNumeric;return{minX:r?Math.floor(t):t,maxX:r?Math.floor(s):s}}},{key:"zoomUpdateOptions",value:function(t,s){var r=this.w;if(t!==void 0||s!==void 0){if(!(r.config.xaxis.convertedCatToNumeric&&(t<1&&(t=1,s=r.globals.dataPoints),s-t<2))){var a={min:t,max:s},u=this.getBeforeZoomRange(a);u&&(a=u.xaxis);var d={xaxis:a},p=Ye.clone(r.globals.initialConfig.yaxis);r.config.chart.group||(d.yaxis=p),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(d,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(a,p)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(t,s){typeof this.ev.zoomed=="function"&&(this.ev.zoomed(this.ctx,{xaxis:t,yaxis:s}),this.ctx.events.fireEvent("zoomed",{xaxis:t,yaxis:s}))}},{key:"getBeforeZoomRange",value:function(t,s){var r=null;return typeof this.ev.beforeZoom=="function"&&(r=this.ev.beforeZoom(this,{xaxis:t,yaxis:s})),r}},{key:"toggleMenu",value:function(){var t=this;window.setTimeout(function(){t.elMenu.classList.contains("apexcharts-menu-open")?t.elMenu.classList.remove("apexcharts-menu-open"):t.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(t){var s=this.w,r=new jf(this.ctx);switch(t){case"svg":r.exportToSVG(this.ctx);break;case"png":r.exportToPng(this.ctx);break;case"csv":r.exportToCSV({series:s.config.series,columnDelimiter:s.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(t){this.ctx.getSyncedCharts().forEach(function(s){var r=s.w;if(r.globals.lastXAxis.min=r.globals.initialConfig.xaxis.min,r.globals.lastXAxis.max=r.globals.initialConfig.xaxis.max,s.updateHelpers.revertDefaultAxisMinMax(),typeof r.config.chart.events.beforeResetZoom=="function"){var a=r.config.chart.events.beforeResetZoom(s,r);a&&s.updateHelpers.revertDefaultAxisMinMax(a)}typeof r.config.chart.events.zoomed=="function"&&s.ctx.toolbar.zoomCallback({min:r.config.xaxis.min,max:r.config.xaxis.max}),r.globals.zoomed=!1;var u=s.ctx.series.emptyCollapsedSeries(Ye.clone(r.globals.initialSeries));s.updateHelpers._updateSeries(u,r.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),i}(),yU=function(i){Pp(s,IE);var t=kp(s);function s(r){var a;return ln(this,s),(a=t.call(this,r)).ctx=r,a.w=r.w,a.dragged=!1,a.graphics=new Dt(a.ctx),a.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend","wheel"],a.clientX=0,a.clientY=0,a.startX=0,a.endX=0,a.dragX=0,a.startY=0,a.endY=0,a.dragY=0,a.moveDirection="none",a.debounceTimer=null,a.debounceDelay=100,a.wheelDelay=400,a}return cn(s,[{key:"init",value:function(r){var a=this,u=r.xyRatios,d=this.w,p=this;this.xyRatios=u,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=d.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.constraints=new gs(0,0,d.globals.gridWidth,d.globals.gridHeight),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),d.globals.dom.Paper.add(this.zoomRect),d.globals.dom.Paper.add(this.selectionRect),d.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:d.globals.gridWidth,maxY:d.globals.gridHeight}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):d.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:d.globals.gridWidth}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=d.globals.dom.baseEl.querySelector("".concat(d.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(m){a.hoverArea.addEventListener(m,p.svgMouseEvents.bind(p,u),{capture:!1,passive:!0})}),d.config.chart.zoom.enabled&&d.config.chart.zoom.allowMouseWheelZoom&&this.hoverArea.addEventListener("wheel",p.mouseWheelEvent.bind(p),{capture:!1,passive:!1})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(r,a){var u=this.w,d=this.ctx.toolbar,p=u.globals.zoomEnabled?u.config.chart.zoom.type:u.config.chart.selection.type,m=u.config.chart.toolbar.autoSelected;if(a.shiftKey?(this.shiftWasPressed=!0,d.enableZoomPanFromToolbar(m==="pan"?"zoom":"pan")):this.shiftWasPressed&&(d.enableZoomPanFromToolbar(m),this.shiftWasPressed=!1),a.target){var y,b=a.target.classList;if(a.target.parentNode&&a.target.parentNode!==null&&(y=a.target.parentNode.classList),!(b.contains("apexcharts-legend-marker")||b.contains("apexcharts-legend-text")||y&&y.contains("apexcharts-toolbar"))){if(this.clientX=a.type==="touchmove"||a.type==="touchstart"?a.touches[0].clientX:a.type==="touchend"?a.changedTouches[0].clientX:a.clientX,this.clientY=a.type==="touchmove"||a.type==="touchstart"?a.touches[0].clientY:a.type==="touchend"?a.changedTouches[0].clientY:a.clientY,a.type==="mousedown"&&a.which===1||a.type==="touchstart"){var S=this.gridRect.getBoundingClientRect();this.startX=this.clientX-S.left-u.globals.barPadForNumericAxis,this.startY=this.clientY-S.top,this.dragged=!1,this.w.globals.mousedown=!0}(a.type==="mousemove"&&a.which===1||a.type==="touchmove")&&(this.dragged=!0,u.globals.panEnabled?(u.globals.selection=null,this.w.globals.mousedown&&this.panDragging({context:this,zoomtype:p,xyRatios:r})):(this.w.globals.mousedown&&u.globals.zoomEnabled||this.w.globals.mousedown&&u.globals.selectionEnabled)&&(this.selection=this.selectionDrawing({context:this,zoomtype:p}))),a.type!=="mouseup"&&a.type!=="touchend"&&a.type!=="mouseleave"||this.handleMouseUp({zoomtype:p}),this.makeSelectionRectDraggable()}}}},{key:"handleMouseUp",value:function(r){var a,u=r.zoomtype,d=r.isResized,p=this.w,m=(a=this.gridRect)===null||a===void 0?void 0:a.getBoundingClientRect();m&&(this.w.globals.mousedown||d)&&(this.endX=this.clientX-m.left-p.globals.barPadForNumericAxis,this.endY=this.clientY-m.top,this.dragX=Math.abs(this.endX-this.startX),this.dragY=Math.abs(this.endY-this.startY),(p.globals.zoomEnabled||p.globals.selectionEnabled)&&this.selectionDrawn({context:this,zoomtype:u})),p.globals.zoomEnabled&&this.hideSelectionRect(this.selectionRect),this.dragged=!1,this.w.globals.mousedown=!1}},{key:"mouseWheelEvent",value:function(r){var a=this,u=this.w;r.preventDefault();var d=Date.now();d-u.globals.lastWheelExecution>this.wheelDelay&&(this.executeMouseWheelZoom(r),u.globals.lastWheelExecution=d),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(function(){d-u.globals.lastWheelExecution>a.wheelDelay&&(a.executeMouseWheelZoom(r),u.globals.lastWheelExecution=d)},this.debounceDelay)}},{key:"executeMouseWheelZoom",value:function(r){var a,u=this.w;this.minX=u.globals.isRangeBar?u.globals.minY:u.globals.minX,this.maxX=u.globals.isRangeBar?u.globals.maxY:u.globals.maxX;var d=(a=this.gridRect)===null||a===void 0?void 0:a.getBoundingClientRect();if(d){var p,m,y,b=(r.clientX-d.left)/d.width,S=this.minX,M=this.maxX,A=M-S;if(r.deltaY<0){var R=S+b*A;m=R-(p=.5*A)/2,y=R+p/2}else m=S-(p=1.5*A)/2,y=M+p/2;if(!u.globals.isRangeBar){m=Math.max(m,u.globals.initialMinX),y=Math.min(y,u.globals.initialMaxX);var E=.01*(u.globals.initialMaxX-u.globals.initialMinX);if(y-m<E){var _=(m+y)/2;m=_-E/2,y=_+E/2}}var T=this._getNewMinXMaxX(m,y);isNaN(T.minX)||isNaN(T.maxX)||this.zoomUpdateOptions(T.minX,T.maxX)}}},{key:"makeSelectionRectDraggable",value:function(){var r=this,a=this.w;if(this.selectionRect){var u=this.selectionRect.node.getBoundingClientRect();u.width>0&&u.height>0&&(this.selectionRect.select(!1).resize(!1),this.selectionRect.select({createRot:function(){},updateRot:function(){},createHandle:function(d,p,m,y,b){return b==="l"||b==="r"?d.circle(8).css({"stroke-width":1,stroke:"#333",fill:"#fff"}):d.circle(0)},updateHandle:function(d,p){return d.center(p[0],p[1])}}).resize().on("resize",function(){var d=a.globals.zoomEnabled?a.config.chart.zoom.type:a.config.chart.selection.type;r.handleMouseUp({zoomtype:d,isResized:!0})}))}}},{key:"preselectedSelection",value:function(){var r=this.w,a=this.xyRatios;if(!r.globals.zoomEnabled){if(r.globals.selection!==void 0&&r.globals.selection!==null)this.drawSelectionRect(Yt(Yt({},r.globals.selection),{},{translateX:r.globals.translateX,translateY:r.globals.translateY}));else if(r.config.chart.selection.xaxis.min!==void 0&&r.config.chart.selection.xaxis.max!==void 0){var u=(r.config.chart.selection.xaxis.min-r.globals.minX)/a.xRatio,d=r.globals.gridWidth-(r.globals.maxX-r.config.chart.selection.xaxis.max)/a.xRatio-u;r.globals.isRangeBar&&(u=(r.config.chart.selection.xaxis.min-r.globals.yAxisScale[0].niceMin)/a.invertedYRatio,d=(r.config.chart.selection.xaxis.max-r.config.chart.selection.xaxis.min)/a.invertedYRatio);var p={x:u,y:0,width:d,height:r.globals.gridHeight,translateX:r.globals.translateX,translateY:r.globals.translateY,selectionEnabled:!0};this.drawSelectionRect(p),this.makeSelectionRectDraggable(),typeof r.config.chart.events.selection=="function"&&r.config.chart.events.selection(this.ctx,{xaxis:{min:r.config.chart.selection.xaxis.min,max:r.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(r){var a=r.x,u=r.y,d=r.width,p=r.height,m=r.translateX,y=m===void 0?0:m,b=r.translateY,S=b===void 0?0:b,M=this.w,A=this.zoomRect,R=this.selectionRect;if(this.dragged||M.globals.selection!==null){var E={transform:"translate("+y+", "+S+")"};M.globals.zoomEnabled&&this.dragged&&(d<0&&(d=1),A.attr({x:a,y:u,width:d,height:p,fill:M.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":M.config.chart.zoom.zoomedArea.fill.opacity,stroke:M.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":M.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":M.config.chart.zoom.zoomedArea.stroke.opacity}),Dt.setAttrs(A.node,E)),M.globals.selectionEnabled&&(R.attr({x:a,y:u,width:d>0?d:0,height:p>0?p:0,fill:M.config.chart.selection.fill.color,"fill-opacity":M.config.chart.selection.fill.opacity,stroke:M.config.chart.selection.stroke.color,"stroke-width":M.config.chart.selection.stroke.width,"stroke-dasharray":M.config.chart.selection.stroke.dashArray,"stroke-opacity":M.config.chart.selection.stroke.opacity}),Dt.setAttrs(R.node,E))}}},{key:"hideSelectionRect",value:function(r){r&&r.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(r){var a=r.context,u=r.zoomtype,d=this.w,p=a,m=this.gridRect.getBoundingClientRect(),y=p.startX-1,b=p.startY,S=!1,M=!1,A=p.clientX-m.left-d.globals.barPadForNumericAxis,R=p.clientY-m.top,E=A-y,_=R-b,T={translateX:d.globals.translateX,translateY:d.globals.translateY};return Math.abs(E+y)>d.globals.gridWidth?E=d.globals.gridWidth-y:A<0&&(E=y),y>A&&(S=!0,E=Math.abs(E)),b>R&&(M=!0,_=Math.abs(_)),T=Yt(Yt({},T=u==="x"?{x:S?y-E:y,y:0,width:E,height:d.globals.gridHeight}:u==="y"?{x:0,y:M?b-_:b,width:d.globals.gridWidth,height:_}:{x:S?y-E:y,y:M?b-_:b,width:E,height:_}),{},{translateX:d.globals.translateX,translateY:d.globals.translateY}),p.drawSelectionRect(T),p.selectionDragging("resizing"),T}},{key:"selectionDragging",value:function(r,a){var u=this,d=this.w;if(a){a.preventDefault();var p=a.detail,m=p.handler,y=p.box,b=y.x,S=y.y;b<this.constraints.x&&(b=this.constraints.x),S<this.constraints.y&&(S=this.constraints.y),y.x2>this.constraints.x2&&(b=this.constraints.x2-y.w),y.y2>this.constraints.y2&&(S=this.constraints.y2-y.h),m.move(b,S);var M=this.xyRatios,A=this.selectionRect,R=0;r==="resizing"&&(R=30);var E=function(T){return parseFloat(A.node.getAttribute(T))},_={x:E("x"),y:E("y"),width:E("width"),height:E("height")};d.globals.selection=_,typeof d.config.chart.events.selection=="function"&&d.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var T,B,z,W,L=u.gridRect.getBoundingClientRect(),U=A.node.getBoundingClientRect();d.globals.isRangeBar?(T=d.globals.yAxisScale[0].niceMin+(U.left-L.left)*M.invertedYRatio,B=d.globals.yAxisScale[0].niceMin+(U.right-L.left)*M.invertedYRatio,z=0,W=1):(T=d.globals.xAxisScale.niceMin+(U.left-L.left)*M.xRatio,B=d.globals.xAxisScale.niceMin+(U.right-L.left)*M.xRatio,z=d.globals.yAxisScale[0].niceMin+(L.bottom-U.bottom)*M.yRatio[0],W=d.globals.yAxisScale[0].niceMax-(U.top-L.top)*M.yRatio[0]);var I={xaxis:{min:T,max:B},yaxis:{min:z,max:W}};d.config.chart.events.selection(u.ctx,I),d.config.chart.brush.enabled&&d.config.chart.events.brushScrolled!==void 0&&d.config.chart.events.brushScrolled(u.ctx,I)},R))}}},{key:"selectionDrawn",value:function(r){var a,u,d=r.context,p=r.zoomtype,m=this.w,y=d,b=this.xyRatios,S=this.ctx.toolbar,M=m.globals.zoomEnabled?y.zoomRect.node.getBoundingClientRect():y.selectionRect.node.getBoundingClientRect(),A=y.gridRect.getBoundingClientRect(),R=M.left-A.left-m.globals.barPadForNumericAxis,E=M.right-A.left-m.globals.barPadForNumericAxis,_=M.top-A.top,T=M.bottom-A.top;m.globals.isRangeBar?(a=m.globals.yAxisScale[0].niceMin+R*b.invertedYRatio,u=m.globals.yAxisScale[0].niceMin+E*b.invertedYRatio):(a=m.globals.xAxisScale.niceMin+R*b.xRatio,u=m.globals.xAxisScale.niceMin+E*b.xRatio);var B=[],z=[];if(m.config.yaxis.forEach(function(te,ce){var re=m.globals.seriesYAxisMap[ce][0],ae=m.globals.yAxisScale[ce].niceMax-b.yRatio[re]*_,ue=m.globals.yAxisScale[ce].niceMax-b.yRatio[re]*T;B.push(ae),z.push(ue)}),y.dragged&&(y.dragX>10||y.dragY>10)&&a!==u){if(m.globals.zoomEnabled){var W=Ye.clone(m.globals.initialConfig.yaxis),L=Ye.clone(m.globals.initialConfig.xaxis);if(m.globals.zoomed=!0,m.config.xaxis.convertedCatToNumeric&&(a=Math.floor(a),u=Math.floor(u),a<1&&(a=1,u=m.globals.dataPoints),u-a<2&&(u=a+1)),p!=="xy"&&p!=="x"||(L={min:a,max:u}),p!=="xy"&&p!=="y"||W.forEach(function(te,ce){W[ce].min=z[ce],W[ce].max=B[ce]}),S){var U=S.getBeforeZoomRange(L,W);U&&(L=U.xaxis?U.xaxis:L,W=U.yaxis?U.yaxis:W)}var I={xaxis:L};m.config.chart.group||(I.yaxis=W),y.ctx.updateHelpers._updateOptions(I,!1,y.w.config.chart.animations.dynamicAnimation.enabled),typeof m.config.chart.events.zoomed=="function"&&S.zoomCallback(L,W)}else if(m.globals.selectionEnabled){var q,ee=null;q={min:a,max:u},p!=="xy"&&p!=="y"||(ee=Ye.clone(m.config.yaxis)).forEach(function(te,ce){ee[ce].min=z[ce],ee[ce].max=B[ce]}),m.globals.selection=y.selection,typeof m.config.chart.events.selection=="function"&&m.config.chart.events.selection(y.ctx,{xaxis:q,yaxis:ee})}}}},{key:"panDragging",value:function(r){var a=r.context,u=this.w,d=a;if(u.globals.lastClientPosition.x!==void 0){var p=u.globals.lastClientPosition.x-d.clientX,m=u.globals.lastClientPosition.y-d.clientY;Math.abs(p)>Math.abs(m)&&p>0?this.moveDirection="left":Math.abs(p)>Math.abs(m)&&p<0?this.moveDirection="right":Math.abs(m)>Math.abs(p)&&m>0?this.moveDirection="up":Math.abs(m)>Math.abs(p)&&m<0&&(this.moveDirection="down")}u.globals.lastClientPosition={x:d.clientX,y:d.clientY};var y=u.globals.isRangeBar?u.globals.minY:u.globals.minX,b=u.globals.isRangeBar?u.globals.maxY:u.globals.maxX;d.panScrolled(y,b)}},{key:"panScrolled",value:function(r,a){var u=this.w,d=this.xyRatios,p=Ye.clone(u.globals.initialConfig.yaxis),m=d.xRatio,y=u.globals.minX,b=u.globals.maxX;u.globals.isRangeBar&&(m=d.invertedYRatio,y=u.globals.minY,b=u.globals.maxY),this.moveDirection==="left"?(r=y+u.globals.gridWidth/15*m,a=b+u.globals.gridWidth/15*m):this.moveDirection==="right"&&(r=y-u.globals.gridWidth/15*m,a=b-u.globals.gridWidth/15*m),u.globals.isRangeBar||(r<u.globals.initialMinX||a>u.globals.initialMaxX)&&(r=y,a=b);var S={xaxis:{min:r,max:a}};u.config.chart.group||(S.yaxis=p),this.updateScrolledChart(S,r,a)}},{key:"updateScrolledChart",value:function(r,a,u){var d=this.w;if(this.ctx.updateHelpers._updateOptions(r,!1,!1),typeof d.config.chart.events.scrolled=="function"){var p={xaxis:{min:a,max:u}};d.config.chart.events.scrolled(this.ctx,p),this.ctx.events.fireEvent("scrolled",p)}}}]),s}(),FE=function(){function i(t){ln(this,i),this.w=t.w,this.ttCtx=t,this.ctx=t.ctx}return cn(i,[{key:"getNearestValues",value:function(t){var s=t.hoverArea,r=t.elGrid,a=t.clientX,u=t.clientY,d=this.w,p=r.getBoundingClientRect(),m=p.width,y=p.height,b=m/(d.globals.dataPoints-1),S=y/d.globals.dataPoints,M=this.hasBars();!d.globals.comboCharts&&!M||d.config.xaxis.convertedCatToNumeric||(b=m/d.globals.dataPoints);var A=a-p.left-d.globals.barPadForNumericAxis,R=u-p.top;A<0||R<0||A>m||R>y?(s.classList.remove("hovering-zoom"),s.classList.remove("hovering-pan")):d.globals.zoomEnabled?(s.classList.remove("hovering-pan"),s.classList.add("hovering-zoom")):d.globals.panEnabled&&(s.classList.remove("hovering-zoom"),s.classList.add("hovering-pan"));var E=Math.round(A/b),_=Math.floor(R/S);M&&!d.config.xaxis.convertedCatToNumeric&&(E=Math.ceil(A/b),E-=1);var T=null,B=null,z=d.globals.seriesXvalues.map(function(q){return q.filter(function(ee){return Ye.isNumber(ee)})}),W=d.globals.seriesYvalues.map(function(q){return q.filter(function(ee){return Ye.isNumber(ee)})});if(d.globals.isXNumeric){var L=this.ttCtx.getElGrid().getBoundingClientRect(),U=A*(L.width/m),I=R*(L.height/y);T=(B=this.closestInMultiArray(U,I,z,W)).index,E=B.j,T!==null&&d.globals.hasNullValues&&(z=d.globals.seriesXvalues[T],E=(B=this.closestInArray(U,z)).j)}return d.globals.capturedSeriesIndex=T===null?-1:T,(!E||E<1)&&(E=0),d.globals.isBarHorizontal?d.globals.capturedDataPointIndex=_:d.globals.capturedDataPointIndex=E,{capturedSeries:T,j:d.globals.isBarHorizontal?_:E,hoverX:A,hoverY:R}}},{key:"getFirstActiveXArray",value:function(t){for(var s=this.w,r=0,a=t.map(function(d,p){return d.length>0?p:-1}),u=0;u<a.length;u++)if(a[u]!==-1&&s.globals.collapsedSeriesIndices.indexOf(u)===-1&&s.globals.ancillaryCollapsedSeriesIndices.indexOf(u)===-1){r=a[u];break}return r}},{key:"closestInMultiArray",value:function(t,s,r,a){for(var u,d=this.w,p=1/0,m=null,y=null,b=0;b<r.length;b++)if(u=b,d.globals.collapsedSeriesIndices.indexOf(u)===-1&&d.globals.ancillaryCollapsedSeriesIndices.indexOf(u)===-1)for(var S=r[b],M=a[b],A=Math.min(S.length,M.length),R=0;R<A;R++){var E=t-S[R],_=Math.sqrt(E*E);if(!d.globals.allSeriesHasEqualX){var T=s-M[R];_=Math.sqrt(E*E+T*T)}_<p&&(p=_,m=b,y=R)}return{index:m,j:y}}},{key:"closestInArray",value:function(t,s){for(var r=s[0],a=null,u=Math.abs(t-r),d=0;d<s.length;d++){var p=Math.abs(t-s[d]);p<u&&(u=p,a=d)}return{j:a}}},{key:"isXoverlap",value:function(t){var s=[],r=this.w.globals.seriesX.filter(function(u){return u[0]!==void 0});if(r.length>0)for(var a=0;a<r.length-1;a++)r[a][t]!==void 0&&r[a+1][t]!==void 0&&r[a][t]!==r[a+1][t]&&s.push("unEqual");return s.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var t=!0,s=this.w.globals.initialSeries,r=0;r<s.length-1;r++)if(s[r].data.length!==s[r+1].data.length){t=!1;break}return t}},{key:"getBarsHeight",value:function(t){return Bs(t).reduce(function(s,r){return s+r.getBBox().height},0)}},{key:"getElMarkers",value:function(t){return typeof t=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var t=this,s=arguments.length>0&&arguments[0]!==void 0&&arguments[0],r=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");r=Bs(r),s&&(r=r.filter(function(u){var d=Number(u.getAttribute("data:realIndex"));return t.w.globals.collapsedSeriesIndices.indexOf(d)===-1})),r.sort(function(u,d){var p=Number(u.getAttribute("data:realIndex")),m=Number(d.getAttribute("data:realIndex"));return m<p?1:m>p?-1:0});var a=[];return r.forEach(function(u){a.push(u.querySelector(".apexcharts-marker"))}),a}},{key:"hasMarkers",value:function(t){return this.getElMarkers(t).length>0}},{key:"getPathFromPoint",value:function(t,s){var r=Number(t.getAttribute("cx")),a=Number(t.getAttribute("cy")),u=t.getAttribute("shape");return new Dt(this.ctx).getMarkerPath(r,a,u,s)}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(t){var s=this.w,r=s.config.markers.hover.size;return r===void 0&&(r=s.globals.markers.size[t]+s.config.markers.hover.sizeOffset),r}},{key:"toggleAllTooltipSeriesGroups",value:function(t){var s=this.w,r=this.ttCtx;r.allTooltipSeriesGroups.length===0&&(r.allTooltipSeriesGroups=s.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var a=r.allTooltipSeriesGroups,u=0;u<a.length;u++)t==="enable"?(a[u].classList.add("apexcharts-active"),a[u].style.display=s.config.tooltip.items.display):(a[u].classList.remove("apexcharts-active"),a[u].style.display="none")}}]),i}(),xU=function(){function i(t){ln(this,i),this.w=t.w,this.ctx=t.ctx,this.ttCtx=t,this.tooltipUtil=new FE(t)}return cn(i,[{key:"drawSeriesTexts",value:function(t){var s=t.shared,r=s===void 0||s,a=t.ttItems,u=t.i,d=u===void 0?0:u,p=t.j,m=p===void 0?null:p,y=t.y1,b=t.y2,S=t.e,M=this.w;M.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:d,j:m,y1:y,y2:b,w:M}):this.toggleActiveInactiveSeries(r,d);var A=this.getValuesToPrint({i:d,j:m});this.printLabels({i:d,j:m,values:A,ttItems:a,shared:r,e:S});var R=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=R.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=R.getBoundingClientRect().height}},{key:"printLabels",value:function(t){var s,r=this,a=t.i,u=t.j,d=t.values,p=t.ttItems,m=t.shared,y=t.e,b=this.w,S=[],M=function(L){return b.globals.seriesGoals[L]&&b.globals.seriesGoals[L][u]&&Array.isArray(b.globals.seriesGoals[L][u])},A=d.xVal,R=d.zVal,E=d.xAxisTTVal,_="",T=b.globals.colors[a];u!==null&&b.config.plotOptions.bar.distributed&&(T=b.globals.colors[u]);for(var B=function(L,U){var I=r.getFormatters(a);_=r.getSeriesName({fn:I.yLbTitleFormatter,index:a,seriesIndex:a,j:u}),b.config.chart.type==="treemap"&&(_=I.yLbTitleFormatter(String(b.config.series[a].data[u].x),{series:b.globals.series,seriesIndex:a,dataPointIndex:u,w:b}));var q=b.config.tooltip.inverseOrder?U:L;if(b.globals.axisCharts){var ee=function(re){var ae,ue,ie,he;return b.globals.isRangeData?I.yLbFormatter((ae=b.globals.seriesRangeStart)===null||ae===void 0||(ue=ae[re])===null||ue===void 0?void 0:ue[u],{series:b.globals.seriesRangeStart,seriesIndex:re,dataPointIndex:u,w:b})+" - "+I.yLbFormatter((ie=b.globals.seriesRangeEnd)===null||ie===void 0||(he=ie[re])===null||he===void 0?void 0:he[u],{series:b.globals.seriesRangeEnd,seriesIndex:re,dataPointIndex:u,w:b}):I.yLbFormatter(b.globals.series[re][u],{series:b.globals.series,seriesIndex:re,dataPointIndex:u,w:b})};if(m)I=r.getFormatters(q),_=r.getSeriesName({fn:I.yLbTitleFormatter,index:q,seriesIndex:a,j:u}),T=b.globals.colors[q],s=ee(q),M(q)&&(S=b.globals.seriesGoals[q][u].map(function(re){return{attrs:re,val:I.yLbFormatter(re.value,{seriesIndex:q,dataPointIndex:u,w:b})}}));else{var te,ce=y==null||(te=y.target)===null||te===void 0?void 0:te.getAttribute("fill");ce&&(ce.indexOf("url")!==-1?ce.indexOf("Pattern")!==-1&&(T=b.globals.dom.baseEl.querySelector(ce.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke")):T=ce),s=ee(a),M(a)&&Array.isArray(b.globals.seriesGoals[a][u])&&(S=b.globals.seriesGoals[a][u].map(function(re){return{attrs:re,val:I.yLbFormatter(re.value,{seriesIndex:a,dataPointIndex:u,w:b})}}))}}u===null&&(s=I.yLbFormatter(b.globals.series[a],Yt(Yt({},b),{},{seriesIndex:a,dataPointIndex:a}))),r.DOMHandling({i:a,t:q,j:u,ttItems:p,values:{val:s,goalVals:S,xVal:A,xAxisTTVal:E,zVal:R},seriesName:_,shared:m,pColor:T})},z=0,W=b.globals.series.length-1;z<b.globals.series.length;z++,W--)B(z,W)}},{key:"getFormatters",value:function(t){var s,r=this.w,a=r.globals.yLabelFormatters[t];return r.globals.ttVal!==void 0?Array.isArray(r.globals.ttVal)?(a=r.globals.ttVal[t]&&r.globals.ttVal[t].formatter,s=r.globals.ttVal[t]&&r.globals.ttVal[t].title&&r.globals.ttVal[t].title.formatter):(a=r.globals.ttVal.formatter,typeof r.globals.ttVal.title.formatter=="function"&&(s=r.globals.ttVal.title.formatter)):s=r.config.tooltip.y.title.formatter,typeof a!="function"&&(a=r.globals.yLabelFormatters[0]?r.globals.yLabelFormatters[0]:function(u){return u}),typeof s!="function"&&(s=function(u){return u?u+": ":""}),{yLbFormatter:a,yLbTitleFormatter:s}}},{key:"getSeriesName",value:function(t){var s=t.fn,r=t.index,a=t.seriesIndex,u=t.j,d=this.w;return s(String(d.globals.seriesNames[r]),{series:d.globals.series,seriesIndex:a,dataPointIndex:u,w:d})}},{key:"DOMHandling",value:function(t){t.i;var s=t.t,r=t.j,a=t.ttItems,u=t.values,d=t.seriesName,p=t.shared,m=t.pColor,y=this.w,b=this.ttCtx,S=u.val,M=u.goalVals,A=u.xVal,R=u.xAxisTTVal,E=u.zVal,_=null;_=a[s].children,y.config.tooltip.fillSeriesColor&&(a[s].style.backgroundColor=m,_[0].style.display="none"),b.showTooltipTitle&&(b.tooltipTitle===null&&(b.tooltipTitle=y.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),b.tooltipTitle.innerHTML=A),b.isXAxisTooltipEnabled&&(b.xaxisTooltipText.innerHTML=R!==""?R:A);var T=a[s].querySelector(".apexcharts-tooltip-text-y-label");T&&(T.innerHTML=d||"");var B=a[s].querySelector(".apexcharts-tooltip-text-y-value");B&&(B.innerHTML=S!==void 0?S:""),_[0]&&_[0].classList.contains("apexcharts-tooltip-marker")&&(y.config.tooltip.marker.fillColors&&Array.isArray(y.config.tooltip.marker.fillColors)&&(m=y.config.tooltip.marker.fillColors[s]),y.config.tooltip.fillSeriesColor?_[0].style.backgroundColor=m:_[0].style.color=m),y.config.tooltip.marker.show||(_[0].style.display="none");var z=a[s].querySelector(".apexcharts-tooltip-text-goals-label"),W=a[s].querySelector(".apexcharts-tooltip-text-goals-value");if(M.length&&y.globals.seriesGoals[s]){var L=function(){var q="<div>",ee="<div>";M.forEach(function(te,ce){q+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(te.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(te.attrs.name,"</div>"),ee+="<div>".concat(te.val,"</div>")}),z.innerHTML=q+"</div>",W.innerHTML=ee+"</div>"};p?y.globals.seriesGoals[s][r]&&Array.isArray(y.globals.seriesGoals[s][r])?L():(z.innerHTML="",W.innerHTML=""):L()}else z.innerHTML="",W.innerHTML="";if(E!==null&&(a[s].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=y.config.tooltip.z.title,a[s].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=E!==void 0?E:""),p&&_[0]){if(y.config.tooltip.hideEmptySeries){var U=a[s].querySelector(".apexcharts-tooltip-marker"),I=a[s].querySelector(".apexcharts-tooltip-text");parseFloat(S)==0?(U.style.display="none",I.style.display="none"):(U.style.display="block",I.style.display="block")}S==null||y.globals.ancillaryCollapsedSeriesIndices.indexOf(s)>-1||y.globals.collapsedSeriesIndices.indexOf(s)>-1||Array.isArray(b.tConfig.enabledOnSeries)&&b.tConfig.enabledOnSeries.indexOf(s)===-1?_[0].parentNode.style.display="none":_[0].parentNode.style.display=y.config.tooltip.items.display}else Array.isArray(b.tConfig.enabledOnSeries)&&b.tConfig.enabledOnSeries.indexOf(s)===-1&&(_[0].parentNode.style.display="none")}},{key:"toggleActiveInactiveSeries",value:function(t,s){var r=this.w;if(t)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var a=r.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group-".concat(s));a&&(a.classList.add("apexcharts-active"),a.style.display=r.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(t){var s=t.i,r=t.j,a=this.w,u=this.ctx.series.filteredSeriesX(),d="",p="",m=null,y=null,b={series:a.globals.series,seriesIndex:s,dataPointIndex:r,w:a},S=a.globals.ttZFormatter;r===null?y=a.globals.series[s]:a.globals.isXNumeric&&a.config.chart.type!=="treemap"?(d=u[s][r],u[s].length===0&&(d=u[this.tooltipUtil.getFirstActiveXArray(u)][r])):d=new Mw(this.ctx).isFormatXY()?a.config.series[s].data[r]!==void 0?a.config.series[s].data[r].x:"":a.globals.labels[r]!==void 0?a.globals.labels[r]:"";var M=d;return a.globals.isXNumeric&&a.config.xaxis.type==="datetime"?d=new Dp(this.ctx).xLabelFormat(a.globals.ttKeyFormatter,M,M,{i:void 0,dateFormatter:new ir(this.ctx).formatDate,w:this.w}):d=a.globals.isBarHorizontal?a.globals.yLabelFormatters[0](M,b):a.globals.xLabelFormatter(M,b),a.config.tooltip.x.formatter!==void 0&&(d=a.globals.ttKeyFormatter(M,b)),a.globals.seriesZ.length>0&&a.globals.seriesZ[s].length>0&&(m=S(a.globals.seriesZ[s][r],a)),p=typeof a.config.xaxis.tooltip.formatter=="function"?a.globals.xaxisTooltipFormatter(M,b):d,{val:Array.isArray(y)?y.join(" "):y,xVal:Array.isArray(d)?d.join(" "):d,xAxisTTVal:Array.isArray(p)?p.join(" "):p,zVal:m}}},{key:"handleCustomTooltip",value:function(t){var s=t.i,r=t.j,a=t.y1,u=t.y2,d=t.w,p=this.ttCtx.getElTooltip(),m=d.config.tooltip.custom;Array.isArray(m)&&m[s]&&(m=m[s]);var y=m({ctx:this.ctx,series:d.globals.series,seriesIndex:s,dataPointIndex:r,y1:a,y2:u,w:d});typeof y=="string"||typeof y=="number"?p.innerHTML=y:(y instanceof Element||typeof y.nodeName=="string")&&(p.innerHTML="",p.appendChild(y.cloneNode(!0)))}}]),i}(),jE=function(){function i(t){ln(this,i),this.ttCtx=t,this.ctx=t.ctx,this.w=t.w}return cn(i,[{key:"moveXCrosshairs",value:function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=this.ttCtx,a=this.w,u=r.getElXCrosshairs(),d=t-r.xcrosshairsWidth/2,p=a.globals.labels.slice().length;if(s!==null&&(d=a.globals.gridWidth/p*s),u===null||a.globals.isBarHorizontal||(u.setAttribute("x",d),u.setAttribute("x1",d),u.setAttribute("x2",d),u.setAttribute("y2",a.globals.gridHeight),u.classList.add("apexcharts-active")),d<0&&(d=0),d>a.globals.gridWidth&&(d=a.globals.gridWidth),r.isXAxisTooltipEnabled){var m=d;a.config.xaxis.crosshairs.width!=="tickWidth"&&a.config.xaxis.crosshairs.width!=="barWidth"||(m=d+r.xcrosshairsWidth/2),this.moveXAxisTooltip(m)}}},{key:"moveYCrosshairs",value:function(t){var s=this.ttCtx;s.ycrosshairs!==null&&Dt.setAttrs(s.ycrosshairs,{y1:t,y2:t}),s.ycrosshairsHidden!==null&&Dt.setAttrs(s.ycrosshairsHidden,{y1:t,y2:t})}},{key:"moveXAxisTooltip",value:function(t){var s=this.w,r=this.ttCtx;if(r.xaxisTooltip!==null&&r.xcrosshairsWidth!==0){r.xaxisTooltip.classList.add("apexcharts-active");var a=r.xaxisOffY+s.config.xaxis.tooltip.offsetY+s.globals.translateY+1+s.config.xaxis.offsetY;if(t-=r.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(t)){t+=s.globals.translateX;var u;u=new Dt(this.ctx).getTextRects(r.xaxisTooltipText.innerHTML),r.xaxisTooltipText.style.minWidth=u.width+"px",r.xaxisTooltip.style.left=t+"px",r.xaxisTooltip.style.top=a+"px"}}}},{key:"moveYAxisTooltip",value:function(t){var s=this.w,r=this.ttCtx;r.yaxisTTEls===null&&(r.yaxisTTEls=s.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var a=parseInt(r.ycrosshairsHidden.getAttribute("y1"),10),u=s.globals.translateY+a,d=r.yaxisTTEls[t].getBoundingClientRect(),p=d.height,m=s.globals.translateYAxisX[t]-2;s.config.yaxis[t].opposite&&(m-=d.width),u-=p/2,s.globals.ignoreYAxisIndexes.indexOf(t)===-1&&u>0&&u<s.globals.gridHeight?(r.yaxisTTEls[t].classList.add("apexcharts-active"),r.yaxisTTEls[t].style.top=u+"px",r.yaxisTTEls[t].style.left=m+s.config.yaxis[t].tooltip.offsetX+"px"):r.yaxisTTEls[t].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(t,s){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=this.w,u=this.ttCtx,d=u.getElTooltip(),p=u.tooltipRect,m=r!==null?parseFloat(r):1,y=parseFloat(t)+m+5,b=parseFloat(s)+m/2;if(y>a.globals.gridWidth/2&&(y=y-p.ttWidth-m-10),y>a.globals.gridWidth-p.ttWidth-10&&(y=a.globals.gridWidth-p.ttWidth),y<-20&&(y=-20),a.config.tooltip.followCursor){var S=u.getElGrid().getBoundingClientRect();(y=u.e.clientX-S.left)>a.globals.gridWidth/2&&(y-=u.tooltipRect.ttWidth),(b=u.e.clientY+a.globals.translateY-S.top)>a.globals.gridHeight/2&&(b-=u.tooltipRect.ttHeight)}else a.globals.isBarHorizontal||p.ttHeight/2+b>a.globals.gridHeight&&(b=a.globals.gridHeight-p.ttHeight+a.globals.translateY);isNaN(y)||(y+=a.globals.translateX,d.style.left=y+"px",d.style.top=b+"px")}},{key:"moveMarkers",value:function(t,s){var r=this.w,a=this.ttCtx;if(r.globals.markers.size[t]>0)for(var u=r.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-marker")),d=0;d<u.length;d++)parseInt(u[d].getAttribute("rel"),10)===s&&(a.marker.resetPointsSize(),a.marker.enlargeCurrentPoint(s,u[d]));else a.marker.resetPointsSize(),this.moveDynamicPointOnHover(s,t)}},{key:"moveDynamicPointOnHover",value:function(t,s){var r,a,u,d,p=this.w,m=this.ttCtx,y=new Dt(this.ctx),b=p.globals.pointsArray,S=m.tooltipUtil.getHoverMarkerSize(s),M=p.config.series[s].type;if(!M||M!=="column"&&M!=="candlestick"&&M!=="boxPlot"){u=(r=b[s][t])===null||r===void 0?void 0:r[0],d=((a=b[s][t])===null||a===void 0?void 0:a[1])||0;var A=p.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(s,"'] .apexcharts-series-markers path"));if(A&&d<p.globals.gridHeight&&d>0){var R=A.getAttribute("shape"),E=y.getMarkerPath(u,d,R,1.5*S);A.setAttribute("d",E)}this.moveXCrosshairs(u),m.fixedTooltip||this.moveTooltip(u,d,S)}}},{key:"moveDynamicPointsOnHover",value:function(t){var s,r=this.ttCtx,a=r.w,u=0,d=0,p=a.globals.pointsArray,m=new Vo(this.ctx),y=new Dt(this.ctx);s=m.getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var b=r.tooltipUtil.getHoverMarkerSize(s);if(p[s]&&(u=p[s][t][0],d=p[s][t][1]),!isNaN(u)){var S=r.tooltipUtil.getAllMarkers();if(S.length)for(var M=0;M<a.globals.series.length;M++){var A=p[M];if(a.globals.comboCharts&&A===void 0&&S.splice(M,0,null),A&&A.length){var R=p[M][t][1],E=void 0;S[M].setAttribute("cx",u);var _=S[M].getAttribute("shape");if(a.config.chart.type==="rangeArea"&&!a.globals.comboCharts){var T=t+a.globals.series[M].length;E=p[M][T][1],R-=Math.abs(R-E)/2}if(R!==null&&!isNaN(R)&&R<a.globals.gridHeight+b&&R+b>0){var B=y.getMarkerPath(u,R,_,b);S[M].setAttribute("d",B)}else S[M].setAttribute("d","")}}this.moveXCrosshairs(u),r.fixedTooltip||this.moveTooltip(u,d||a.globals.gridHeight,b)}}},{key:"moveStickyTooltipOverBars",value:function(t,s){var r=this.w,a=this.ttCtx,u=r.globals.columnSeries?r.globals.columnSeries.length:r.globals.series.length;r.config.chart.stacked&&(u=r.globals.barGroups.length);var d=u>=2&&u%2==0?Math.floor(u/2):Math.floor(u/2)+1;r.globals.isBarHorizontal&&(d=new Vo(this.ctx).getActiveConfigSeriesIndex("desc")+1);var p=r.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(d,"'] path[j='").concat(t,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(d,"'] path[j='").concat(t,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(d,"'] path[j='").concat(t,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(d,"'] path[j='").concat(t,"']"));p||typeof s!="number"||(p=r.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(s,"'] path[j='").concat(t,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(s,"'] path[j='").concat(t,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(s,"'] path[j='").concat(t,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(s,"'] path[j='").concat(t,"']")));var m=p?parseFloat(p.getAttribute("cx")):0,y=p?parseFloat(p.getAttribute("cy")):0,b=p?parseFloat(p.getAttribute("barWidth")):0,S=a.getElGrid().getBoundingClientRect(),M=p&&(p.classList.contains("apexcharts-candlestick-area")||p.classList.contains("apexcharts-boxPlot-area"));r.globals.isXNumeric?(p&&!M&&(m-=u%2!=0?b/2:0),p&&M&&(m-=b/2)):r.globals.isBarHorizontal||(m=a.xAxisTicksPositions[t-1]+a.dataPointsDividedWidth/2,isNaN(m)&&(m=a.xAxisTicksPositions[t]-a.dataPointsDividedWidth/2)),r.globals.isBarHorizontal?y-=a.tooltipRect.ttHeight:r.config.tooltip.followCursor?y=a.e.clientY-S.top-a.tooltipRect.ttHeight/2:y+a.tooltipRect.ttHeight+15>r.globals.gridHeight&&(y=r.globals.gridHeight),r.globals.isBarHorizontal||this.moveXCrosshairs(m),a.fixedTooltip||this.moveTooltip(m,y||r.globals.gridHeight)}}]),i}(),vU=function(){function i(t){ln(this,i),this.w=t.w,this.ttCtx=t,this.ctx=t.ctx,this.tooltipPosition=new jE(t)}return cn(i,[{key:"drawDynamicPoints",value:function(){var t=this.w,s=new Dt(this.ctx),r=new $h(this.ctx),a=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series");a=Bs(a),t.config.chart.stacked&&a.sort(function(S,M){return parseFloat(S.getAttribute("data:realIndex"))-parseFloat(M.getAttribute("data:realIndex"))});for(var u=0;u<a.length;u++){var d=a[u].querySelector(".apexcharts-series-markers-wrap");if(d!==null){var p=void 0,m="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));t.config.chart.type!=="line"&&t.config.chart.type!=="area"||t.globals.comboCharts||t.config.tooltip.intersect||(m+=" no-pointer-events");var y=r.getMarkerConfig({cssClass:m,seriesIndex:Number(d.getAttribute("data:realIndex"))});(p=s.drawMarker(0,0,y)).node.setAttribute("default-marker-size",0);var b=document.createElementNS(t.globals.SVGNS,"g");b.classList.add("apexcharts-series-markers"),b.appendChild(p.node),d.appendChild(b)}}}},{key:"enlargeCurrentPoint",value:function(t,s){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,u=this.w;u.config.chart.type!=="bubble"&&this.newPointSize(t,s);var d=s.getAttribute("cx"),p=s.getAttribute("cy");if(r!==null&&a!==null&&(d=r,p=a),this.tooltipPosition.moveXCrosshairs(d),!this.fixedTooltip){if(u.config.chart.type==="radar"){var m=this.ttCtx.getElGrid().getBoundingClientRect();d=this.ttCtx.e.clientX-m.left}this.tooltipPosition.moveTooltip(d,p,u.config.markers.hover.size)}}},{key:"enlargePoints",value:function(t){for(var s=this.w,r=this,a=this.ttCtx,u=t,d=s.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),p=s.config.markers.hover.size,m=0;m<d.length;m++){var y=d[m].getAttribute("rel"),b=d[m].getAttribute("index");if(p===void 0&&(p=s.globals.markers.size[b]+s.config.markers.hover.sizeOffset),u===parseInt(y,10)){r.newPointSize(u,d[m]);var S=d[m].getAttribute("cx"),M=d[m].getAttribute("cy");r.tooltipPosition.moveXCrosshairs(S),a.fixedTooltip||r.tooltipPosition.moveTooltip(S,M,p)}else r.oldPointSize(d[m])}}},{key:"newPointSize",value:function(t,s){var r=this.w,a=r.config.markers.hover.size,u=t===0?s.parentNode.firstChild:s.parentNode.lastChild;if(u.getAttribute("default-marker-size")!=="0"){var d=parseInt(u.getAttribute("index"),10);a===void 0&&(a=r.globals.markers.size[d]+r.config.markers.hover.sizeOffset),a<0&&(a=0);var p=this.ttCtx.tooltipUtil.getPathFromPoint(s,a);s.setAttribute("d",p)}}},{key:"oldPointSize",value:function(t){var s=parseFloat(t.getAttribute("default-marker-size")),r=this.ttCtx.tooltipUtil.getPathFromPoint(t,s);t.setAttribute("d",r)}},{key:"resetPointsSize",value:function(){for(var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),s=0;s<t.length;s++){var r=parseFloat(t[s].getAttribute("default-marker-size"));if(Ye.isNumber(r)&&r>0){var a=this.ttCtx.tooltipUtil.getPathFromPoint(t[s],r);t[s].setAttribute("d",a)}else t[s].setAttribute("d","M0,0")}}}]),i}(),bU=function(){function i(t){ln(this,i),this.w=t.w;var s=this.w;this.ttCtx=t,this.isVerticalGroupedRangeBar=!s.globals.isBarHorizontal&&s.config.chart.type==="rangeBar"&&s.config.plotOptions.bar.rangeBarGroupRows}return cn(i,[{key:"getAttr",value:function(t,s){return parseFloat(t.target.getAttribute(s))}},{key:"handleHeatTreeTooltip",value:function(t){var s=t.e,r=t.opt,a=t.x,u=t.y,d=t.type,p=this.ttCtx,m=this.w;if(s.target.classList.contains("apexcharts-".concat(d,"-rect"))){var y=this.getAttr(s,"i"),b=this.getAttr(s,"j"),S=this.getAttr(s,"cx"),M=this.getAttr(s,"cy"),A=this.getAttr(s,"width"),R=this.getAttr(s,"height");if(p.tooltipLabels.drawSeriesTexts({ttItems:r.ttItems,i:y,j:b,shared:!1,e:s}),m.globals.capturedSeriesIndex=y,m.globals.capturedDataPointIndex=b,a=S+p.tooltipRect.ttWidth/2+A,u=M+p.tooltipRect.ttHeight/2-R/2,p.tooltipPosition.moveXCrosshairs(S+A/2),a>m.globals.gridWidth/2&&(a=S-p.tooltipRect.ttWidth/2+A),p.w.config.tooltip.followCursor){var E=m.globals.dom.elWrap.getBoundingClientRect();a=m.globals.clientX-E.left-(a>m.globals.gridWidth/2?p.tooltipRect.ttWidth:0),u=m.globals.clientY-E.top-(u>m.globals.gridHeight/2?p.tooltipRect.ttHeight:0)}}return{x:a,y:u}}},{key:"handleMarkerTooltip",value:function(t){var s,r,a=t.e,u=t.opt,d=t.x,p=t.y,m=this.w,y=this.ttCtx;if(a.target.classList.contains("apexcharts-marker")){var b=parseInt(u.paths.getAttribute("cx"),10),S=parseInt(u.paths.getAttribute("cy"),10),M=parseFloat(u.paths.getAttribute("val"));if(r=parseInt(u.paths.getAttribute("rel"),10),s=parseInt(u.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,y.intersect){var A=Ye.findAncestor(u.paths,"apexcharts-series");A&&(s=parseInt(A.getAttribute("data:realIndex"),10))}if(y.tooltipLabels.drawSeriesTexts({ttItems:u.ttItems,i:s,j:r,shared:!y.showOnIntersect&&m.config.tooltip.shared,e:a}),a.type==="mouseup"&&y.markerClick(a,s,r),m.globals.capturedSeriesIndex=s,m.globals.capturedDataPointIndex=r,d=b,p=S+m.globals.translateY-1.4*y.tooltipRect.ttHeight,y.w.config.tooltip.followCursor){var R=y.getElGrid().getBoundingClientRect();p=y.e.clientY+m.globals.translateY-R.top}M<0&&(p=S),y.marker.enlargeCurrentPoint(r,u.paths,d,p)}return{x:d,y:p}}},{key:"handleBarTooltip",value:function(t){var s,r,a=t.e,u=t.opt,d=this.w,p=this.ttCtx,m=p.getElTooltip(),y=0,b=0,S=0,M=this.getBarTooltipXY({e:a,opt:u});if(M.j!==null||M.barHeight!==0||M.barWidth!==0){s=M.i;var A=M.j;if(d.globals.capturedSeriesIndex=s,d.globals.capturedDataPointIndex=A,d.globals.isBarHorizontal&&p.tooltipUtil.hasBars()||!d.config.tooltip.shared?(b=M.x,S=M.y,r=Array.isArray(d.config.stroke.width)?d.config.stroke.width[s]:d.config.stroke.width,y=b):d.globals.comboCharts||d.config.tooltip.shared||(y/=2),isNaN(S)&&(S=d.globals.svgHeight-p.tooltipRect.ttHeight),parseInt(u.paths.parentNode.getAttribute("data:realIndex"),10),b+p.tooltipRect.ttWidth>d.globals.gridWidth?b-=p.tooltipRect.ttWidth:b<0&&(b=0),p.w.config.tooltip.followCursor){var R=p.getElGrid().getBoundingClientRect();S=p.e.clientY-R.top}p.tooltip===null&&(p.tooltip=d.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),d.config.tooltip.shared||(d.globals.comboBarCount>0?p.tooltipPosition.moveXCrosshairs(y+r/2):p.tooltipPosition.moveXCrosshairs(y)),!p.fixedTooltip&&(!d.config.tooltip.shared||d.globals.isBarHorizontal&&p.tooltipUtil.hasBars())&&(S=S+d.globals.translateY-p.tooltipRect.ttHeight/2,m.style.left=b+d.globals.translateX+"px",m.style.top=S+"px")}}},{key:"getBarTooltipXY",value:function(t){var s=this,r=t.e,a=t.opt,u=this.w,d=null,p=this.ttCtx,m=0,y=0,b=0,S=0,M=0,A=r.target.classList;if(A.contains("apexcharts-bar-area")||A.contains("apexcharts-candlestick-area")||A.contains("apexcharts-boxPlot-area")||A.contains("apexcharts-rangebar-area")){var R=r.target,E=R.getBoundingClientRect(),_=a.elGrid.getBoundingClientRect(),T=E.height;M=E.height;var B=E.width,z=parseInt(R.getAttribute("cx"),10),W=parseInt(R.getAttribute("cy"),10);S=parseFloat(R.getAttribute("barWidth"));var L=r.type==="touchmove"?r.touches[0].clientX:r.clientX;d=parseInt(R.getAttribute("j"),10),m=parseInt(R.parentNode.getAttribute("rel"),10)-1;var U=R.getAttribute("data-range-y1"),I=R.getAttribute("data-range-y2");u.globals.comboCharts&&(m=parseInt(R.parentNode.getAttribute("data:realIndex"),10));var q=function(te){return u.globals.isXNumeric?z-B/2:s.isVerticalGroupedRangeBar?z+B/2:z-p.dataPointsDividedWidth+B/2},ee=function(){return W-p.dataPointsDividedHeight+T/2-p.tooltipRect.ttHeight/2};p.tooltipLabels.drawSeriesTexts({ttItems:a.ttItems,i:m,j:d,y1:U?parseInt(U,10):null,y2:I?parseInt(I,10):null,shared:!p.showOnIntersect&&u.config.tooltip.shared,e:r}),u.config.tooltip.followCursor?u.globals.isBarHorizontal?(y=L-_.left+15,b=ee()):(y=q(),b=r.clientY-_.top-p.tooltipRect.ttHeight/2-15):u.globals.isBarHorizontal?((y=z)<p.xyRatios.baseLineInvertedY&&(y=z-p.tooltipRect.ttWidth),b=ee()):(y=q(),b=W)}return{x:y,y:b,barHeight:M,barWidth:S,i:m,j:d}}}]),i}(),wU=function(){function i(t){ln(this,i),this.w=t.w,this.ttCtx=t}return cn(i,[{key:"drawXaxisTooltip",value:function(){var t=this.w,s=this.ttCtx,r=t.config.xaxis.position==="bottom";s.xaxisOffY=r?t.globals.gridHeight+1:-t.globals.xAxisHeight-t.config.xaxis.axisTicks.height+3;var a=r?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",u=t.globals.dom.elWrap;s.isXAxisTooltipEnabled&&t.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(s.xaxisTooltip=document.createElement("div"),s.xaxisTooltip.setAttribute("class",a+" apexcharts-theme-"+t.config.tooltip.theme),u.appendChild(s.xaxisTooltip),s.xaxisTooltipText=document.createElement("div"),s.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),s.xaxisTooltipText.style.fontFamily=t.config.xaxis.tooltip.style.fontFamily||t.config.chart.fontFamily,s.xaxisTooltipText.style.fontSize=t.config.xaxis.tooltip.style.fontSize,s.xaxisTooltip.appendChild(s.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var t=this.w,s=this.ttCtx,r=0;r<t.config.yaxis.length;r++){var a=t.config.yaxis[r].opposite||t.config.yaxis[r].crosshairs.opposite;s.yaxisOffX=a?t.globals.gridWidth+1:1;var u="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(r,a?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),d=t.globals.dom.elWrap;t.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(r))===null&&(s.yaxisTooltip=document.createElement("div"),s.yaxisTooltip.setAttribute("class",u+" apexcharts-theme-"+t.config.tooltip.theme),d.appendChild(s.yaxisTooltip),r===0&&(s.yaxisTooltipText=[]),s.yaxisTooltipText[r]=document.createElement("div"),s.yaxisTooltipText[r].classList.add("apexcharts-yaxistooltip-text"),s.yaxisTooltip.appendChild(s.yaxisTooltipText[r]))}}},{key:"setXCrosshairWidth",value:function(){var t=this.w,s=this.ttCtx,r=s.getElXCrosshairs();if(s.xcrosshairsWidth=parseInt(t.config.xaxis.crosshairs.width,10),t.globals.comboCharts){var a=t.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(a!==null&&t.config.xaxis.crosshairs.width==="barWidth"){var u=parseFloat(a.getAttribute("barWidth"));s.xcrosshairsWidth=u}else if(t.config.xaxis.crosshairs.width==="tickWidth"){var d=t.globals.labels.length;s.xcrosshairsWidth=t.globals.gridWidth/d}}else if(t.config.xaxis.crosshairs.width==="tickWidth"){var p=t.globals.labels.length;s.xcrosshairsWidth=t.globals.gridWidth/p}else if(t.config.xaxis.crosshairs.width==="barWidth"){var m=t.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(m!==null){var y=parseFloat(m.getAttribute("barWidth"));s.xcrosshairsWidth=y}else s.xcrosshairsWidth=1}t.globals.isBarHorizontal&&(s.xcrosshairsWidth=0),r!==null&&s.xcrosshairsWidth>0&&r.setAttribute("width",s.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var t=this.w,s=this.ttCtx;s.ycrosshairs=t.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),s.ycrosshairsHidden=t.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(t,s,r){var a=this.ttCtx,u=this.w,d=u.globals,p=d.seriesYAxisMap[t];if(a.yaxisTooltips[t]&&p.length>0){var m=d.yLabelFormatters[t],y=a.getElGrid().getBoundingClientRect(),b=p[0],S=0;r.yRatio.length>1&&(S=b);var M=(s-y.top)*r.yRatio[S],A=d.maxYArr[b]-d.minYArr[b],R=d.minYArr[b]+(A-M);u.config.yaxis[t].reversed&&(R=d.maxYArr[b]-(A-M)),a.tooltipPosition.moveYCrosshairs(s-y.top),a.yaxisTooltipText[t].innerHTML=m(R),a.tooltipPosition.moveYAxisTooltip(t)}}}]),i}(),OM=function(){function i(t){ln(this,i),this.ctx=t,this.w=t.w;var s=this.w;this.tConfig=s.config.tooltip,this.tooltipUtil=new FE(this),this.tooltipLabels=new xU(this),this.tooltipPosition=new jE(this),this.marker=new vU(this),this.intersect=new bU(this),this.axesTooltip=new wU(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!s.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return cn(i,[{key:"getElTooltip",value:function(t){return t||(t=this),t.w.globals.dom.baseEl?t.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(t){var s=this.w;this.xyRatios=t,this.isXAxisTooltipEnabled=s.config.xaxis.tooltip.enabled&&s.globals.axisCharts,this.yaxisTooltips=s.config.yaxis.map(function(d,p){return!!(d.show&&d.tooltip.enabled&&s.globals.axisCharts)}),this.allTooltipSeriesGroups=[],s.globals.axisCharts||(this.showTooltipTitle=!1);var r=document.createElement("div");if(r.classList.add("apexcharts-tooltip"),s.config.tooltip.cssClass&&r.classList.add(s.config.tooltip.cssClass),r.classList.add("apexcharts-theme-".concat(this.tConfig.theme||"light")),s.globals.dom.elWrap.appendChild(r),s.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var a=new op(this.ctx);this.xAxisTicksPositions=a.getXAxisTicksPositions()}if(!s.globals.comboCharts&&!this.tConfig.intersect&&s.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),s.config.markers.size!==0&&s.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),s.globals.collapsedSeries.length!==s.globals.series.length){this.dataPointsDividedHeight=s.globals.gridHeight/s.globals.dataPoints,this.dataPointsDividedWidth=s.globals.gridWidth/s.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||s.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,r.appendChild(this.tooltipTitle));var u=s.globals.series.length;(s.globals.xyCharts||s.globals.comboCharts)&&this.tConfig.shared&&(u=this.showOnIntersect?1:s.globals.series.length),this.legendLabels=s.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(u),this.addSVGEvents()}}},{key:"createTTElements",value:function(t){for(var s=this,r=this.w,a=[],u=this.getElTooltip(),d=function(m){var y=document.createElement("div");y.classList.add("apexcharts-tooltip-series-group","apexcharts-tooltip-series-group-".concat(m)),y.style.order=r.config.tooltip.inverseOrder?t-m:m+1;var b=document.createElement("span");b.classList.add("apexcharts-tooltip-marker"),r.config.tooltip.fillSeriesColor?b.style.backgroundColor=r.globals.colors[m]:b.style.color=r.globals.colors[m];var S=r.config.markers.shape,M=S;Array.isArray(S)&&(M=S[m]),b.setAttribute("shape",M),y.appendChild(b);var A=document.createElement("div");A.classList.add("apexcharts-tooltip-text"),A.style.fontFamily=s.tConfig.style.fontFamily||r.config.chart.fontFamily,A.style.fontSize=s.tConfig.style.fontSize,["y","goals","z"].forEach(function(R){var E=document.createElement("div");E.classList.add("apexcharts-tooltip-".concat(R,"-group"));var _=document.createElement("span");_.classList.add("apexcharts-tooltip-text-".concat(R,"-label")),E.appendChild(_);var T=document.createElement("span");T.classList.add("apexcharts-tooltip-text-".concat(R,"-value")),E.appendChild(T),A.appendChild(E)}),y.appendChild(A),u.appendChild(y),a.push(y)},p=0;p<t;p++)d(p);return a}},{key:"addSVGEvents",value:function(){var t=this.w,s=t.config.chart.type,r=this.getElTooltip(),a=!(s!=="bar"&&s!=="candlestick"&&s!=="boxPlot"&&s!=="rangeBar"),u=s==="area"||s==="line"||s==="scatter"||s==="bubble"||s==="radar",d=t.globals.dom.Paper.node,p=this.getElGrid();p&&(this.seriesBound=p.getBoundingClientRect());var m,y=[],b=[],S={hoverArea:d,elGrid:p,tooltipEl:r,tooltipY:y,tooltipX:b,ttItems:this.ttItems};if(t.globals.axisCharts&&(u?m=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):a?m=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):s!=="heatmap"&&s!=="treemap"||(m=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),m&&m.length))for(var M=0;M<m.length;M++)y.push(m[M].getAttribute("cy")),b.push(m[M].getAttribute("cx"));if(t.globals.xyCharts&&!this.showOnIntersect||t.globals.comboCharts&&!this.showOnIntersect||a&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([d],S);else if(a&&!t.globals.comboCharts||u&&this.showOnIntersect)this.addDatapointEventsListeners(S);else if(!t.globals.axisCharts||s==="heatmap"||s==="treemap"){var A=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(A,S)}if(this.showOnIntersect){var R=t.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");R.length>0&&this.addPathsEventListeners(R,S),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(S)}}},{key:"drawFixedTooltipRect",value:function(){var t=this.w,s=this.getElTooltip(),r=s.getBoundingClientRect(),a=r.width+10,u=r.height+10,d=this.tConfig.fixed.offsetX,p=this.tConfig.fixed.offsetY,m=this.tConfig.fixed.position.toLowerCase();return m.indexOf("right")>-1&&(d=d+t.globals.svgWidth-a+10),m.indexOf("bottom")>-1&&(p=p+t.globals.svgHeight-u-10),s.style.left=d+"px",s.style.top=p+"px",{x:d,y:p,ttWidth:a,ttHeight:u}}},{key:"addDatapointEventsListeners",value:function(t){var s=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(s,t)}},{key:"addPathsEventListeners",value:function(t,s){for(var r=this,a=function(d){var p={paths:t[d],tooltipEl:s.tooltipEl,tooltipY:s.tooltipY,tooltipX:s.tooltipX,elGrid:s.elGrid,hoverArea:s.hoverArea,ttItems:s.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(m){return t[d].addEventListener(m,r.onSeriesHover.bind(r,p),{capture:!1,passive:!0})})},u=0;u<t.length;u++)a(u)}},{key:"onSeriesHover",value:function(t,s){var r=this,a=Date.now()-this.lastHoverTime;a>=20?this.seriesHover(t,s):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){r.seriesHover(t,s)},20-a))}},{key:"seriesHover",value:function(t,s){var r=this;this.lastHoverTime=Date.now();var a=[],u=this.w;u.config.chart.group&&(a=this.ctx.getGroupedCharts()),u.globals.axisCharts&&(u.globals.minX===-1/0&&u.globals.maxX===1/0||u.globals.dataPoints===0)||(a.length?a.forEach(function(d){var p=r.getElTooltip(d),m={paths:t.paths,tooltipEl:p,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:d.w.globals.tooltip.ttItems};d.w.globals.minX===r.w.globals.minX&&d.w.globals.maxX===r.w.globals.maxX&&d.w.globals.tooltip.seriesHoverByContext({chartCtx:d,ttCtx:d.w.globals.tooltip,opt:m,e:s})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:t,e:s}))}},{key:"seriesHoverByContext",value:function(t){var s=t.chartCtx,r=t.ttCtx,a=t.opt,u=t.e,d=s.w,p=this.getElTooltip(s);p&&(r.tooltipRect={x:0,y:0,ttWidth:p.getBoundingClientRect().width,ttHeight:p.getBoundingClientRect().height},r.e=u,r.tooltipUtil.hasBars()&&!d.globals.comboCharts&&!r.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new Vo(s).toggleSeriesOnHover(u,u.target.parentNode),d.globals.axisCharts?r.axisChartsTooltips({e:u,opt:a,tooltipRect:r.tooltipRect}):r.nonAxisChartsTooltips({e:u,opt:a,tooltipRect:r.tooltipRect}),r.fixedTooltip&&r.drawFixedTooltipRect())}},{key:"axisChartsTooltips",value:function(t){var s,r,a=t.e,u=t.opt,d=this.w,p=u.elGrid.getBoundingClientRect(),m=a.type==="touchmove"?a.touches[0].clientX:a.clientX,y=a.type==="touchmove"?a.touches[0].clientY:a.clientY;if(this.clientY=y,this.clientX=m,d.globals.capturedSeriesIndex=-1,d.globals.capturedDataPointIndex=-1,y<p.top||y>p.top+p.height)this.handleMouseOut(u);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!d.config.tooltip.shared){var b=parseInt(u.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(b)<0)return void this.handleMouseOut(u)}var S=this.getElTooltip(),M=this.getElXCrosshairs(),A=[];d.config.chart.group&&(A=this.ctx.getSyncedCharts());var R=d.globals.xyCharts||d.config.chart.type==="bar"&&!d.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||d.globals.comboCharts&&this.tooltipUtil.hasBars();if(a.type==="mousemove"||a.type==="touchmove"||a.type==="mouseup"){if(d.globals.collapsedSeries.length+d.globals.ancillaryCollapsedSeries.length===d.globals.series.length)return;M!==null&&M.classList.add("apexcharts-active");var E=this.yaxisTooltips.filter(function(B){return B===!0});if(this.ycrosshairs!==null&&E.length&&this.ycrosshairs.classList.add("apexcharts-active"),R&&!this.showOnIntersect||A.length>1)this.handleStickyTooltip(a,m,y,u);else if(d.config.chart.type==="heatmap"||d.config.chart.type==="treemap"){var _=this.intersect.handleHeatTreeTooltip({e:a,opt:u,x:s,y:r,type:d.config.chart.type});s=_.x,r=_.y,S.style.left=s+"px",S.style.top=r+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:a,opt:u}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:a,opt:u,x:s,y:r});if(this.yaxisTooltips.length)for(var T=0;T<d.config.yaxis.length;T++)this.axesTooltip.drawYaxisTooltipText(T,y,this.xyRatios);d.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),u.tooltipEl.classList.add("apexcharts-active")}else a.type!=="mouseout"&&a.type!=="touchend"||this.handleMouseOut(u)}}},{key:"nonAxisChartsTooltips",value:function(t){var s=t.e,r=t.opt,a=t.tooltipRect,u=this.w,d=r.paths.getAttribute("rel"),p=this.getElTooltip(),m=u.globals.dom.elWrap.getBoundingClientRect();if(s.type==="mousemove"||s.type==="touchmove"){u.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),p.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:r.ttItems,i:parseInt(d,10)-1,shared:!1});var y=u.globals.clientX-m.left-a.ttWidth/2,b=u.globals.clientY-m.top-a.ttHeight-10;if(p.style.left=y+"px",p.style.top=b+"px",u.config.legend.tooltipHoverFormatter){var S=d-1,M=(0,u.config.legend.tooltipHoverFormatter)(this.legendLabels[S].getAttribute("data:default-text"),{seriesIndex:S,dataPointIndex:S,w:u});this.legendLabels[S].innerHTML=M}}else s.type!=="mouseout"&&s.type!=="touchend"||(p.classList.remove("apexcharts-active"),u.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),u.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(A){var R=A.getAttribute("data:default-text");A.innerHTML=decodeURIComponent(R)}))}},{key:"handleStickyTooltip",value:function(t,s,r,a){var u=this.w,d=this.tooltipUtil.getNearestValues({context:this,hoverArea:a.hoverArea,elGrid:a.elGrid,clientX:s,clientY:r}),p=d.j,m=d.capturedSeries;u.globals.collapsedSeriesIndices.includes(m)&&(m=null);var y=a.elGrid.getBoundingClientRect();if(d.hoverX<0||d.hoverX>y.width)this.handleMouseOut(a);else if(m!==null)this.handleStickyCapturedSeries(t,m,a,p);else if(this.tooltipUtil.isXoverlap(p)||u.globals.isBarHorizontal){var b=u.globals.series.findIndex(function(S,M){return!u.globals.collapsedSeriesIndices.includes(M)});this.create(t,this,b,p,a.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(t,s,r,a){var u=this.w;if(!this.tConfig.shared&&u.globals.series[s][a]===null)return void this.handleMouseOut(r);if(u.globals.series[s][a]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(a)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(t,this,s,a,r.ttItems):this.create(t,this,s,a,r.ttItems,!1);else if(this.tooltipUtil.isXoverlap(a)){var d=u.globals.series.findIndex(function(p,m){return!u.globals.collapsedSeriesIndices.includes(m)});this.create(t,this,d,a,r.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var t=this.w,s=new Dt(this.ctx),r=t.globals.dom.Paper.find(".apexcharts-bar-area"),a=0;a<r.length;a++)s.pathMouseLeave(r[a])}},{key:"handleMouseOut",value:function(t){var s=this.w,r=this.getElXCrosshairs();if(s.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),t.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),s.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),r!==null&&r.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=s.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var a=0;a<this.yaxisTTEls.length;a++)this.yaxisTTEls[a].classList.remove("apexcharts-active")}s.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(u){var d=u.getAttribute("data:default-text");u.innerHTML=decodeURIComponent(d)})}},{key:"markerClick",value:function(t,s,r){var a=this.w;typeof a.config.chart.events.markerClick=="function"&&a.config.chart.events.markerClick(t,this.ctx,{seriesIndex:s,dataPointIndex:r,w:a}),this.ctx.events.fireEvent("markerClick",[t,this.ctx,{seriesIndex:s,dataPointIndex:r,w:a}])}},{key:"create",value:function(t,s,r,a,u){var d,p,m,y,b,S,M,A,R,E,_,T,B,z,W,L,U=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,I=this.w,q=s;t.type==="mouseup"&&this.markerClick(t,r,a),U===null&&(U=this.tConfig.shared);var ee=this.tooltipUtil.hasMarkers(r),te=this.tooltipUtil.getElBars(),ce=function(){I.globals.markers.largestSize>0?q.marker.enlargePoints(a):q.tooltipPosition.moveDynamicPointsOnHover(a)};if(I.config.legend.tooltipHoverFormatter){var re=I.config.legend.tooltipHoverFormatter,ae=Array.from(this.legendLabels);ae.forEach(function(_e){var Me=_e.getAttribute("data:default-text");_e.innerHTML=decodeURIComponent(Me)});for(var ue=0;ue<ae.length;ue++){var ie=ae[ue],he=parseInt(ie.getAttribute("i"),10),pe=decodeURIComponent(ie.getAttribute("data:default-text")),de=re(pe,{seriesIndex:U?he:r,dataPointIndex:a,w:I});if(U)ie.innerHTML=I.globals.collapsedSeriesIndices.indexOf(he)<0?de:pe;else if(ie.innerHTML=he===r?de:pe,r===he)break}}var xe=Yt(Yt({ttItems:u,i:r,j:a},((d=I.globals.seriesRange)===null||d===void 0||(p=d[r])===null||p===void 0||(m=p[a])===null||m===void 0||(y=m.y[0])===null||y===void 0?void 0:y.y1)!==void 0&&{y1:(b=I.globals.seriesRange)===null||b===void 0||(S=b[r])===null||S===void 0||(M=S[a])===null||M===void 0||(A=M.y[0])===null||A===void 0?void 0:A.y1}),((R=I.globals.seriesRange)===null||R===void 0||(E=R[r])===null||E===void 0||(_=E[a])===null||_===void 0||(T=_.y[0])===null||T===void 0?void 0:T.y2)!==void 0&&{y2:(B=I.globals.seriesRange)===null||B===void 0||(z=B[r])===null||z===void 0||(W=z[a])===null||W===void 0||(L=W.y[0])===null||L===void 0?void 0:L.y2});if(U){if(q.tooltipLabels.drawSeriesTexts(Yt(Yt({},xe),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),ee)ce();else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(te),this.barSeriesHeight>0)){var Se=new Dt(this.ctx),be=I.globals.dom.Paper.find(".apexcharts-bar-area[j='".concat(a,"']"));this.deactivateHoverFilter(),q.tooltipUtil.getAllMarkers(!0).length&&!this.barSeriesHeight&&ce(),q.tooltipPosition.moveStickyTooltipOverBars(a,r);for(var Ne=0;Ne<be.length;Ne++)Se.pathMouseEnter(be[Ne])}}else q.tooltipLabels.drawSeriesTexts(Yt({shared:!1},xe)),this.tooltipUtil.hasBars()&&q.tooltipPosition.moveStickyTooltipOverBars(a,r),ee&&q.tooltipPosition.moveMarkers(r,a)}}]),i}(),SU=function(){function i(t){ln(this,i),this.w=t.w,this.barCtx=t,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return cn(i,[{key:"handleBarDataLabels",value:function(t){var s,r,a=t.x,u=t.y,d=t.y1,p=t.y2,m=t.i,y=t.j,b=t.realIndex,S=t.columnGroupIndex,M=t.series,A=t.barHeight,R=t.barWidth,E=t.barXPosition,_=t.barYPosition,T=t.visibleSeries,B=this.w,z=new Dt(this.barCtx.ctx),W=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[b]:this.barCtx.strokeWidth;B.globals.isXNumeric&&!B.globals.isBarHorizontal?(s=a+parseFloat(R*(T+1)),r=u+parseFloat(A*(T+1))-W):(s=a+parseFloat(R*T),r=u+parseFloat(A*T));var L,U=null,I=a,q=u,ee={},te=B.config.dataLabels,ce=this.barCtx.barOptions.dataLabels,re=this.barCtx.barOptions.dataLabels.total;_!==void 0&&this.barCtx.isRangeBar&&(r=_,q=_),E!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(s=E,I=E);var ae=te.offsetX,ue=te.offsetY,ie={width:0,height:0};if(B.config.dataLabels.enabled){var he=B.globals.series[m][y];ie=z.getTextRects(B.config.dataLabels.formatter?B.config.dataLabels.formatter(he,Yt(Yt({},B),{},{seriesIndex:m,dataPointIndex:y,w:B})):B.globals.yLabelFormatters[0](he),parseFloat(te.style.fontSize))}var pe={x:a,y:u,i:m,j:y,realIndex:b,columnGroupIndex:S,bcx:s,bcy:r,barHeight:A,barWidth:R,textRects:ie,strokeWidth:W,dataLabelsX:I,dataLabelsY:q,dataLabelsConfig:te,barDataLabelsConfig:ce,barTotalDataLabelsConfig:re,offX:ae,offY:ue};return ee=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(pe):this.calculateColumnsDataLabelsPosition(pe),L=this.drawCalculatedDataLabels({x:ee.dataLabelsX,y:ee.dataLabelsY,val:this.barCtx.isRangeBar?[d,p]:B.config.chart.stackType==="100%"?M[b][y]:B.globals.series[b][y],i:b,j:y,barWidth:R,barHeight:A,textRects:ie,dataLabelsConfig:te}),B.config.chart.stacked&&re.enabled&&(U=this.drawTotalDataLabels({x:ee.totalDataLabelsX,y:ee.totalDataLabelsY,barWidth:R,barHeight:A,realIndex:b,textAnchor:ee.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:b,j:y}),dataLabelsConfig:te,barTotalDataLabelsConfig:re})),{dataLabelsPos:ee,dataLabels:L,totalDataLabels:U}}},{key:"getStackedTotalDataLabel",value:function(t){var s=t.realIndex,r=t.j,a=this.w,u=this.barCtx.stackedSeriesTotals[r];return this.totalFormatter&&(u=this.totalFormatter(u,Yt(Yt({},a),{},{seriesIndex:s,dataPointIndex:r,w:a}))),u}},{key:"calculateColumnsDataLabelsPosition",value:function(t){var s=this,r=this.w,a=t.i,u=t.j,d=t.realIndex;t.columnGroupIndex;var p,m,y=t.y,b=t.bcx,S=t.barWidth,M=t.barHeight,A=t.textRects,R=t.dataLabelsX,E=t.dataLabelsY,_=t.dataLabelsConfig,T=t.barDataLabelsConfig,B=t.barTotalDataLabelsConfig,z=t.strokeWidth,W=t.offX,L=t.offY,U=b;M=Math.abs(M);var I=r.config.plotOptions.bar.dataLabels.orientation==="vertical",q=this.barCtx.barHelpers.getZeroValueEncounters({i:a,j:u}).zeroEncounters;b-=z/2;var ee=r.globals.gridWidth/r.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?R+=S/2:(R=r.globals.isXNumeric?b-S/2+W:b-ee+S/2+W,!r.config.chart.stacked&&q>0&&r.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(R-=S*q)),I&&(R=R+A.height/2-z/2-2);var te=r.globals.series[a][u]<0,ce=y;switch(this.barCtx.isReversed&&(ce=y+(te?M:-M)),T.position){case"center":E=I?te?ce-M/2+L:ce+M/2-L:te?ce-M/2+A.height/2+L:ce+M/2+A.height/2-L;break;case"bottom":E=I?te?ce-M+L:ce+M-L:te?ce-M+A.height+z+L:ce+M-A.height/2+z-L;break;case"top":E=I?te?ce+L:ce-L:te?ce-A.height/2-L:ce+A.height+L}var re=ce;if(r.globals.seriesGroups.forEach(function(ie){var he;(he=s.barCtx[ie.join(",")])===null||he===void 0||he.prevY.forEach(function(pe){re=te?Math.max(pe[u],re):Math.min(pe[u],re)})}),this.barCtx.lastActiveBarSerieIndex===d&&B.enabled){var ae=new Dt(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:d,j:u}),_.fontSize);p=te?re-ae.height/2-L-B.offsetY+18:re+ae.height+L+B.offsetY-18;var ue=ee;m=U+(r.globals.isXNumeric?-S*r.globals.barGroups.length/2:r.globals.barGroups.length*S/2-(r.globals.barGroups.length-1)*S-ue)+B.offsetX}return r.config.chart.stacked||(E<0?E=0+z:E+A.height/3>r.globals.gridHeight&&(E=r.globals.gridHeight-z)),{bcx:b,bcy:y,dataLabelsX:R,dataLabelsY:E,totalDataLabelsX:m,totalDataLabelsY:p,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(t){var s=this,r=this.w,a=t.x,u=t.i,d=t.j,p=t.realIndex,m=t.bcy,y=t.barHeight,b=t.barWidth,S=t.textRects,M=t.dataLabelsX,A=t.strokeWidth,R=t.dataLabelsConfig,E=t.barDataLabelsConfig,_=t.barTotalDataLabelsConfig,T=t.offX,B=t.offY,z=r.globals.gridHeight/r.globals.dataPoints,W=this.barCtx.barHelpers.getZeroValueEncounters({i:u,j:d}).zeroEncounters;b=Math.abs(b);var L,U,I=m-(this.barCtx.isRangeBar?0:z)+y/2+S.height/2+B-3;!r.config.chart.stacked&&W>0&&r.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(I-=y*W);var q="start",ee=r.globals.series[u][d]<0,te=a;switch(this.barCtx.isReversed&&(te=a+(ee?-b:b),q=ee?"start":"end"),E.position){case"center":M=ee?te+b/2-T:Math.max(S.width/2,te-b/2)+T;break;case"bottom":M=ee?te+b-A-T:te-b+A+T;break;case"top":M=ee?te-A-T:te-A+T}var ce=te;if(r.globals.seriesGroups.forEach(function(ae){var ue;(ue=s.barCtx[ae.join(",")])===null||ue===void 0||ue.prevX.forEach(function(ie){ce=ee?Math.min(ie[d],ce):Math.max(ie[d],ce)})}),this.barCtx.lastActiveBarSerieIndex===p&&_.enabled){var re=new Dt(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:p,j:d}),R.fontSize);ee?(L=ce-A-T-_.offsetX,q="end"):L=ce+T+_.offsetX+(this.barCtx.isReversed?-(b+A):A),U=I-S.height/2+re.height/2+_.offsetY+A,r.globals.barGroups.length>1&&(U-=r.globals.barGroups.length/2*(y/2))}return r.config.chart.stacked||(R.textAnchor==="start"?M-S.width<0?M=ee?S.width+A:A:M+S.width>r.globals.gridWidth&&(M=ee?r.globals.gridWidth-A:r.globals.gridWidth-S.width-A):R.textAnchor==="middle"?M-S.width/2<0?M=S.width/2+A:M+S.width/2>r.globals.gridWidth&&(M=r.globals.gridWidth-S.width/2-A):R.textAnchor==="end"&&(M<1?M=S.width+A:M+1>r.globals.gridWidth&&(M=r.globals.gridWidth-S.width-A))),{bcx:a,bcy:m,dataLabelsX:M,dataLabelsY:I,totalDataLabelsX:L,totalDataLabelsY:U,totalDataLabelsAnchor:q}}},{key:"drawCalculatedDataLabels",value:function(t){var s=t.x,r=t.y,a=t.val,u=t.i,d=t.j,p=t.textRects,m=t.barHeight,y=t.barWidth,b=t.dataLabelsConfig,S=this.w,M="rotate(0)";S.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(M="rotate(-90, ".concat(s,", ").concat(r,")"));var A=new Ch(this.barCtx.ctx),R=new Dt(this.barCtx.ctx),E=b.formatter,_=null,T=S.globals.collapsedSeriesIndices.indexOf(u)>-1;if(b.enabled&&!T){_=R.group({class:"apexcharts-data-labels",transform:M});var B="";a!==void 0&&(B=E(a,Yt(Yt({},S),{},{seriesIndex:u,dataPointIndex:d,w:S}))),!a&&S.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(B="");var z=S.globals.series[u][d]<0,W=S.config.plotOptions.bar.dataLabels.position;S.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(W==="top"&&(b.textAnchor=z?"end":"start"),W==="center"&&(b.textAnchor="middle"),W==="bottom"&&(b.textAnchor=z?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&y<R.getTextRects(B,parseFloat(b.style.fontSize)).width&&(B=""),S.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?p.width/1.6>Math.abs(y)&&(B=""):p.height/1.6>Math.abs(m)&&(B=""));var L=Yt({},b);this.barCtx.isHorizontal&&a<0&&(b.textAnchor==="start"?L.textAnchor="end":b.textAnchor==="end"&&(L.textAnchor="start")),A.plotDataLabelsText({x:s,y:r,text:B,i:u,j:d,parent:_,dataLabelsConfig:L,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return _}},{key:"drawTotalDataLabels",value:function(t){var s=t.x,r=t.y,a=t.val,u=t.realIndex,d=t.textAnchor,p=t.barTotalDataLabelsConfig;this.w;var m,y=new Dt(this.barCtx.ctx);return p.enabled&&s!==void 0&&r!==void 0&&this.barCtx.lastActiveBarSerieIndex===u&&(m=y.drawText({x:s,y:r,foreColor:p.style.color,text:a,textAnchor:d,fontFamily:p.style.fontFamily,fontSize:p.style.fontSize,fontWeight:p.style.fontWeight})),m}}]),i}(),CU=function(){function i(t){ln(this,i),this.w=t.w,this.barCtx=t}return cn(i,[{key:"initVariables",value:function(t){var s=this.w;this.barCtx.series=t,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var r=0;r<t.length;r++)if(t[r].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=t[r].length),s.globals.isXNumeric)for(var a=0;a<t[r].length;a++)s.globals.seriesX[r][a]>s.globals.minX&&s.globals.seriesX[r][a]<s.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=s.globals.dataPoints;this.arrBorderRadius=this.createBorderRadiusArr(s.globals.series),Ye.isSafari()&&(this.arrBorderRadius=this.arrBorderRadius.map(function(u){return u.map(function(d){return"none"})})),this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],s.globals.comboCharts||this.checkZeroSeries({series:t})}},{key:"initialPositions",value:function(t){var s,r,a,u,d,p,m,y,b=this.w,S=b.globals.dataPoints;this.barCtx.isRangeBar&&(S=b.globals.labels.length);var M=this.barCtx.seriesLen;if(b.config.plotOptions.bar.rangeBarGroupRows&&(M=1),this.barCtx.isHorizontal)d=(a=b.globals.gridHeight/S)/M,b.globals.isXNumeric&&(d=(a=b.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),d=d*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(d=parseInt(this.barCtx.barOptions.barHeight,10)),y=this.barCtx.baseLineInvertedY+b.globals.padHorizontal+(this.barCtx.isReversed?b.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(y=b.globals.gridWidth/2),r=(a-d*this.barCtx.seriesLen)/2;else{if(u=b.globals.gridWidth/this.barCtx.visibleItems,b.config.xaxis.convertedCatToNumeric&&(u=b.globals.gridWidth/b.globals.dataPoints),p=u/M*parseInt(this.barCtx.barOptions.columnWidth,10)/100,b.globals.isXNumeric){var A=this.barCtx.xRatio;b.globals.minXDiff&&b.globals.minXDiff!==.5&&b.globals.minXDiff/A>0&&(u=b.globals.minXDiff/A),(p=u/M*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(p=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(p=parseInt(this.barCtx.barOptions.columnWidth,10)),m=b.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?b.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),b.globals.isXNumeric?s=this.barCtx.getBarXForNumericXAxis({x:s,j:0,realIndex:t,barWidth:p}).x:s=b.globals.padHorizontal+Ye.noExponents(u-p*this.barCtx.seriesLen)/2}return b.globals.barHeight=d,b.globals.barWidth=p,{x:s,y:r,yDivision:a,xDivision:u,barHeight:d,barWidth:p,zeroH:m,zeroW:y}}},{key:"initializeStackedPrevVars",value:function(t){t.w.globals.seriesGroups.forEach(function(s){t[s]||(t[s]={}),t[s].prevY=[],t[s].prevX=[],t[s].prevYF=[],t[s].prevXF=[],t[s].prevYVal=[],t[s].prevXVal=[]})}},{key:"initializeStackedXYVars",value:function(t){t.w.globals.seriesGroups.forEach(function(s){t[s]||(t[s]={}),t[s].xArrj=[],t[s].xArrjF=[],t[s].xArrjVal=[],t[s].yArrj=[],t[s].yArrjF=[],t[s].yArrjVal=[]})}},{key:"getPathFillColor",value:function(t,s,r,a){var u,d,p,m,y=this.w,b=this.barCtx.ctx.fill,S=null,M=this.barCtx.barOptions.distributed?r:s,A=!1;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(R){t[s][r]>=R.from&&t[s][r]<=R.to&&(S=R.color,A=!0)}),{color:b.fillPath({seriesNumber:this.barCtx.barOptions.distributed?M:a,dataPointIndex:r,color:S,value:t[s][r],fillConfig:(u=y.config.series[s].data[r])===null||u===void 0?void 0:u.fill,fillType:(d=y.config.series[s].data[r])!==null&&d!==void 0&&(p=d.fill)!==null&&p!==void 0&&p.type?(m=y.config.series[s].data[r])===null||m===void 0?void 0:m.fill.type:Array.isArray(y.config.fill.type)?y.config.fill.type[a]:y.config.fill.type}),useRangeColor:A}}},{key:"getStrokeWidth",value:function(t,s,r){var a=0,u=this.w;return this.barCtx.series[t][s]===void 0||this.barCtx.series[t][s]===null?this.barCtx.isNullValue=!0:this.barCtx.isNullValue=!1,u.config.stroke.show&&(this.barCtx.isNullValue||(a=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[r]:this.barCtx.strokeWidth)),a}},{key:"createBorderRadiusArr",value:function(t){var s,r=this.w,a=!this.w.config.chart.stacked||r.config.plotOptions.bar.borderRadius<=0,u=t.length,d=0|((s=t[0])===null||s===void 0?void 0:s.length),p=Array.from({length:u},function(){return Array(d).fill(a?"top":"none")});if(a)return p;for(var m=0;m<d;m++){for(var y=[],b=[],S=0,M=0;M<u;M++){var A=t[M][m];A>0?(y.push(M),S++):A<0&&(b.push(M),S++)}if(y.length>0&&b.length===0)if(y.length===1)p[y[0]][m]="both";else{var R,E=y[0],_=y[y.length-1],T=Sf(y);try{for(T.s();!(R=T.n()).done;){var B=R.value;p[B][m]=B===E?"bottom":B===_?"top":"none"}}catch(he){T.e(he)}finally{T.f()}}else if(b.length>0&&y.length===0)if(b.length===1)p[b[0]][m]="both";else{var z,W=Math.max.apply(Math,b),L=Math.min.apply(Math,b),U=Sf(b);try{for(U.s();!(z=U.n()).done;){var I=z.value;p[I][m]=I===W?"bottom":I===L?"top":"none"}}catch(he){U.e(he)}finally{U.f()}}else if(y.length>0&&b.length>0){var q,ee=y[y.length-1],te=Sf(y);try{for(te.s();!(q=te.n()).done;){var ce=q.value;p[ce][m]=ce===ee?"top":"none"}}catch(he){te.e(he)}finally{te.f()}var re,ae=Math.max.apply(Math,b),ue=Sf(b);try{for(ue.s();!(re=ue.n()).done;){var ie=re.value;p[ie][m]=ie===ae?"bottom":"none"}}catch(he){ue.e(he)}finally{ue.f()}}else S===1&&(p[y[0]||b[0]][m]="both")}return p}},{key:"barBackground",value:function(t){var s=t.j,r=t.i,a=t.x1,u=t.x2,d=t.y1,p=t.y2,m=t.elSeries,y=this.w,b=new Dt(this.barCtx.ctx),S=new Vo(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&S===r){s>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(s%=this.barCtx.barOptions.colors.backgroundBarColors.length);var M=this.barCtx.barOptions.colors.backgroundBarColors[s],A=b.drawRect(a!==void 0?a:0,d!==void 0?d:0,u!==void 0?u:y.globals.gridWidth,p!==void 0?p:y.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,M,this.barCtx.barOptions.colors.backgroundBarOpacity);m.add(A),A.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(t){var s,r=t.barWidth,a=t.barXPosition,u=t.y1,d=t.y2,p=t.strokeWidth,m=t.isReversed,y=t.series,b=t.seriesGroup,S=t.realIndex,M=t.i,A=t.j,R=t.w,E=new Dt(this.barCtx.ctx);(p=Array.isArray(p)?p[S]:p)||(p=0);var _=r,T=a;(s=R.config.series[S].data[A])!==null&&s!==void 0&&s.columnWidthOffset&&(T=a-R.config.series[S].data[A].columnWidthOffset/2,_=r+R.config.series[S].data[A].columnWidthOffset);var B=p/2,z=T+B,W=T+_-B,L=(y[M][A]>=0?1:-1)*(m?-1:1);u+=.001-B*L,d+=.001+B*L;var U=E.move(z,u),I=E.move(z,u),q=E.line(W,u);if(R.globals.previousPaths.length>0&&(I=this.barCtx.getPreviousPath(S,A,!1)),U=U+E.line(z,d)+E.line(W,d)+q+(R.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[S][A]==="both"?" Z":" z"),I=I+E.line(z,u)+q+q+q+q+q+E.line(z,u)+(R.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[S][A]==="both"?" Z":" z"),this.arrBorderRadius[S][A]!=="none"&&(U=E.roundPathCorners(U,R.config.plotOptions.bar.borderRadius)),R.config.chart.stacked){var ee=this.barCtx;(ee=this.barCtx[b]).yArrj.push(d-B*L),ee.yArrjF.push(Math.abs(u-d+p*L)),ee.yArrjVal.push(this.barCtx.series[M][A])}return{pathTo:U,pathFrom:I}}},{key:"getBarpaths",value:function(t){var s,r=t.barYPosition,a=t.barHeight,u=t.x1,d=t.x2,p=t.strokeWidth,m=t.isReversed,y=t.series,b=t.seriesGroup,S=t.realIndex,M=t.i,A=t.j,R=t.w,E=new Dt(this.barCtx.ctx);(p=Array.isArray(p)?p[S]:p)||(p=0);var _=r,T=a;(s=R.config.series[S].data[A])!==null&&s!==void 0&&s.barHeightOffset&&(_=r-R.config.series[S].data[A].barHeightOffset/2,T=a+R.config.series[S].data[A].barHeightOffset);var B=p/2,z=_+B,W=_+T-B,L=(y[M][A]>=0?1:-1)*(m?-1:1);u+=.001+B*L,d+=.001-B*L;var U=E.move(u,z),I=E.move(u,z);R.globals.previousPaths.length>0&&(I=this.barCtx.getPreviousPath(S,A,!1));var q=E.line(u,W);if(U=U+E.line(d,z)+E.line(d,W)+q+(R.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[S][A]==="both"?" Z":" z"),I=I+E.line(u,z)+q+q+q+q+q+E.line(u,z)+(R.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[S][A]==="both"?" Z":" z"),this.arrBorderRadius[S][A]!=="none"&&(U=E.roundPathCorners(U,R.config.plotOptions.bar.borderRadius)),R.config.chart.stacked){var ee=this.barCtx;(ee=this.barCtx[b]).xArrj.push(d+B*L),ee.xArrjF.push(Math.abs(u-d-p*L)),ee.xArrjVal.push(this.barCtx.series[M][A])}return{pathTo:U,pathFrom:I}}},{key:"checkZeroSeries",value:function(t){for(var s=t.series,r=this.w,a=0;a<s.length;a++){for(var u=0,d=0;d<s[r.globals.maxValsInArrayIndex].length;d++)u+=s[a][d];u===0&&this.barCtx.zeroSerieses.push(a)}}},{key:"getXForValue",value:function(t,s){var r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?s:null;return t!=null&&(r=s+t/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?t/this.barCtx.invertedYRatio:0)),r}},{key:"getYForValue",value:function(t,s,r){var a=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3]?s:null;return t!=null&&(a=s-t/this.barCtx.yRatio[r]+2*(this.barCtx.isReversed?t/this.barCtx.yRatio[r]:0)),a}},{key:"getGoalValues",value:function(t,s,r,a,u,d){var p=this,m=this.w,y=[],b=function(A,R){var E;y.push((n0(E={},t,t==="x"?p.getXForValue(A,s,!1):p.getYForValue(A,r,d,!1)),n0(E,"attrs",R),E))};if(m.globals.seriesGoals[a]&&m.globals.seriesGoals[a][u]&&Array.isArray(m.globals.seriesGoals[a][u])&&m.globals.seriesGoals[a][u].forEach(function(A){b(A.value,A)}),this.barCtx.barOptions.isDumbbell&&m.globals.seriesRange.length){var S=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:m.globals.colors,M={strokeHeight:t==="x"?0:m.globals.markers.size[a],strokeWidth:t==="x"?m.globals.markers.size[a]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(S[a])?S[a][0]:S[a]};b(m.globals.seriesRangeStart[a][u],M),b(m.globals.seriesRangeEnd[a][u],Yt(Yt({},M),{},{strokeColor:Array.isArray(S[a])?S[a][1]:S[a]}))}return y}},{key:"drawGoalLine",value:function(t){var s=t.barXPosition,r=t.barYPosition,a=t.goalX,u=t.goalY,d=t.barWidth,p=t.barHeight,m=new Dt(this.barCtx.ctx),y=m.group({className:"apexcharts-bar-goals-groups"});y.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:y.node}),y.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var b=null;return this.barCtx.isHorizontal?Array.isArray(a)&&a.forEach(function(S){if(S.x>=-1&&S.x<=m.w.globals.gridWidth+1){var M=S.attrs.strokeHeight!==void 0?S.attrs.strokeHeight:p/2,A=r+M+p/2;b=m.drawLine(S.x,A-2*M,S.x,A,S.attrs.strokeColor?S.attrs.strokeColor:void 0,S.attrs.strokeDashArray,S.attrs.strokeWidth?S.attrs.strokeWidth:2,S.attrs.strokeLineCap),y.add(b)}}):Array.isArray(u)&&u.forEach(function(S){if(S.y>=-1&&S.y<=m.w.globals.gridHeight+1){var M=S.attrs.strokeWidth!==void 0?S.attrs.strokeWidth:d/2,A=s+M+d/2;b=m.drawLine(A-2*M,S.y,A,S.y,S.attrs.strokeColor?S.attrs.strokeColor:void 0,S.attrs.strokeDashArray,S.attrs.strokeHeight?S.attrs.strokeHeight:2,S.attrs.strokeLineCap),y.add(b)}}),y}},{key:"drawBarShadow",value:function(t){var s=t.prevPaths,r=t.currPaths,a=t.color,u=this.w,d=s.x,p=s.x1,m=s.barYPosition,y=r.x,b=r.x1,S=r.barYPosition,M=m+r.barHeight,A=new Dt(this.barCtx.ctx),R=new Ye,E=A.move(p,M)+A.line(d,M)+A.line(y,S)+A.line(b,S)+A.line(p,M)+(u.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[realIndex][j]==="both"?" Z":" z");return A.drawPath({d:E,fill:R.shadeColor(.5,Ye.rgb2hex(a)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadow apexcharts-decoration-element"})}},{key:"getZeroValueEncounters",value:function(t){var s,r=t.i,a=t.j,u=this.w,d=0,p=0;return(u.config.plotOptions.bar.horizontal?u.globals.series.map(function(m,y){return y}):((s=u.globals.columnSeries)===null||s===void 0?void 0:s.i.map(function(m){return m}))||[]).forEach(function(m){var y=u.globals.seriesPercent[m][a];y&&d++,m<r&&y===0&&p++}),{nonZeroColumns:d,zeroEncounters:p}}},{key:"getGroupIndex",value:function(t){var s=this.w,r=s.globals.seriesGroups.findIndex(function(d){return d.indexOf(s.globals.seriesNames[t])>-1}),a=this.barCtx.columnGroupIndices,u=a.indexOf(r);return u<0&&(a.push(r),u=a.length-1),{groupIndex:r,columnGroupIndex:u}}}]),i}(),kh=function(){function i(t,s){ln(this,i),this.ctx=t,this.w=t.w;var r=this.w;this.barOptions=r.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=r.config.stroke.width,this.isNullValue=!1,this.isRangeBar=r.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!r.globals.isBarHorizontal&&r.globals.seriesRange.length&&r.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=s,this.xyRatios!==null&&(this.xRatio=s.xRatio,this.yRatio=s.yRatio,this.invertedXRatio=s.invertedXRatio,this.invertedYRatio=s.invertedYRatio,this.baseLineY=s.baseLineY,this.baseLineInvertedY=s.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var a=new Vo(this.ctx);this.lastActiveBarSerieIndex=a.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var u=a.getBarSeriesIndices(),d=new ms(this.ctx);this.stackedSeriesTotals=d.getStackedSeriesTotals(this.w.config.series.map(function(p,m){return u.indexOf(m)===-1?m:-1}).filter(function(p){return p!==-1})),this.barHelpers=new CU(this)}return cn(i,[{key:"draw",value:function(t,s){var r=this.w,a=new Dt(this.ctx),u=new ms(this.ctx,r);t=u.getLogSeries(t),this.series=t,this.yRatio=u.getLogYRatios(this.yRatio),this.barHelpers.initVariables(t);var d=a.group({class:"apexcharts-bar-series apexcharts-plot-series"});r.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var p=0,m=0;p<t.length;p++,m++){var y,b,S,M,A=void 0,R=void 0,E=[],_=[],T=r.globals.comboCharts?s[p]:p,B=this.barHelpers.getGroupIndex(T).columnGroupIndex,z=a.group({class:"apexcharts-series",rel:p+1,seriesName:Ye.escapeString(r.globals.seriesNames[T]),"data:realIndex":T});this.ctx.series.addCollapsedClassToSeries(z,T),t[p].length>0&&(this.visibleI=this.visibleI+1);var W=0,L=0;this.yRatio.length>1&&(this.yaxisIndex=r.globals.seriesYAxisReverseMap[T],this.translationsIndex=T);var U=this.translationsIndex;this.isReversed=r.config.yaxis[this.yaxisIndex]&&r.config.yaxis[this.yaxisIndex].reversed;var I=this.barHelpers.initialPositions(T);R=I.y,W=I.barHeight,b=I.yDivision,M=I.zeroW,A=I.x,L=I.barWidth,y=I.xDivision,S=I.zeroH,this.isHorizontal||_.push(A+L/2);var q=a.group({class:"apexcharts-datalabels","data:realIndex":T});r.globals.delayedElements.push({el:q.node}),q.node.classList.add("apexcharts-element-hidden");var ee=a.group({class:"apexcharts-bar-goals-markers"}),te=a.group({class:"apexcharts-bar-shadows"});r.globals.delayedElements.push({el:te.node}),te.node.classList.add("apexcharts-element-hidden");for(var ce=0;ce<t[p].length;ce++){var re=this.barHelpers.getStrokeWidth(p,ce,T),ae=null,ue={indexes:{i:p,j:ce,realIndex:T,translationsIndex:U,bc:m},x:A,y:R,strokeWidth:re,elSeries:z};this.isHorizontal?(ae=this.drawBarPaths(Yt(Yt({},ue),{},{barHeight:W,zeroW:M,yDivision:b})),L=this.series[p][ce]/this.invertedYRatio):(ae=this.drawColumnPaths(Yt(Yt({},ue),{},{xDivision:y,barWidth:L,zeroH:S})),W=this.series[p][ce]/this.yRatio[U]);var ie=this.barHelpers.getPathFillColor(t,p,ce,T);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&ce>0){var he,pe=this.barHelpers.drawBarShadow({color:typeof ie.color=="string"&&((he=ie.color)===null||he===void 0?void 0:he.indexOf("url"))===-1?ie.color:Ye.hexToRgba(r.globals.colors[p]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:ae});te.add(pe),r.config.chart.dropShadow.enabled&&new sr(this.ctx).dropShadow(pe,r.config.chart.dropShadow,T)}this.pathArr.push(ae);var de=this.barHelpers.drawGoalLine({barXPosition:ae.barXPosition,barYPosition:ae.barYPosition,goalX:ae.goalX,goalY:ae.goalY,barHeight:W,barWidth:L});de&&ee.add(de),R=ae.y,A=ae.x,ce>0&&_.push(A+L/2),E.push(R),this.renderSeries(Yt(Yt({realIndex:T,pathFill:ie.color},ie.useRangeColor?{lineFill:ie.color}:{}),{},{j:ce,i:p,columnGroupIndex:B,pathFrom:ae.pathFrom,pathTo:ae.pathTo,strokeWidth:re,elSeries:z,x:A,y:R,series:t,barHeight:Math.abs(ae.barHeight?ae.barHeight:W),barWidth:Math.abs(ae.barWidth?ae.barWidth:L),elDataLabelsWrap:q,elGoalsMarkers:ee,elBarShadows:te,visibleSeries:this.visibleI,type:"bar"}))}r.globals.seriesXvalues[T]=_,r.globals.seriesYvalues[T]=E,d.add(z)}return d}},{key:"renderSeries",value:function(t){var s=t.realIndex,r=t.pathFill,a=t.lineFill,u=t.j,d=t.i,p=t.columnGroupIndex,m=t.pathFrom,y=t.pathTo,b=t.strokeWidth,S=t.elSeries,M=t.x,A=t.y,R=t.y1,E=t.y2,_=t.series,T=t.barHeight,B=t.barWidth,z=t.barXPosition,W=t.barYPosition,L=t.elDataLabelsWrap,U=t.elGoalsMarkers,I=t.elBarShadows,q=t.visibleSeries,ee=t.type,te=t.classes,ce=this.w,re=new Dt(this.ctx),ae=!1;if(!a){var ue=typeof ce.globals.stroke.colors[s]=="function"?function(xe){var Se,be=ce.config.stroke.colors;return Array.isArray(be)&&be.length>0&&((Se=be[xe])||(Se=""),typeof Se=="function")?Se({value:ce.globals.series[xe][u],dataPointIndex:u,w:ce}):Se}(s):ce.globals.stroke.colors[s];a=this.barOptions.distributed?ce.globals.stroke.colors[u]:ue}var ie=new SU(this).handleBarDataLabels({x:M,y:A,y1:R,y2:E,i:d,j:u,series:_,realIndex:s,columnGroupIndex:p,barHeight:T,barWidth:B,barXPosition:z,barYPosition:W,visibleSeries:q});ce.globals.isBarHorizontal||(ie.dataLabelsPos.dataLabelsX+Math.max(B,ce.globals.barPadForNumericAxis)<0||ie.dataLabelsPos.dataLabelsX-Math.max(B,ce.globals.barPadForNumericAxis)>ce.globals.gridWidth)&&(ae=!0),ce.config.series[d].data[u]&&ce.config.series[d].data[u].strokeColor&&(a=ce.config.series[d].data[u].strokeColor),this.isNullValue&&(r="none");var he=u/ce.config.chart.animations.animateGradually.delay*(ce.config.chart.animations.speed/ce.globals.dataPoints)/2.4;if(!ae){var pe=re.renderPaths({i:d,j:u,realIndex:s,pathFrom:m,pathTo:y,stroke:a,strokeWidth:b,strokeLineCap:ce.config.stroke.lineCap,fill:r,animationDelay:he,initialSpeed:ce.config.chart.animations.speed,dataChangeSpeed:ce.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(ee,"-area ").concat(te),chartType:ee});pe.attr("clip-path","url(#gridRectBarMask".concat(ce.globals.cuid,")"));var de=ce.config.forecastDataPoints;de.count>0&&u>=ce.globals.dataPoints-de.count&&(pe.node.setAttribute("stroke-dasharray",de.dashArray),pe.node.setAttribute("stroke-width",de.strokeWidth),pe.node.setAttribute("fill-opacity",de.fillOpacity)),R!==void 0&&E!==void 0&&(pe.attr("data-range-y1",R),pe.attr("data-range-y2",E)),new sr(this.ctx).setSelectionFilter(pe,s,u),S.add(pe),pe.attr({cy:ie.dataLabelsPos.bcy,cx:ie.dataLabelsPos.bcx,j:u,val:ce.globals.series[d][u],barHeight:T,barWidth:B}),ie.dataLabels!==null&&L.add(ie.dataLabels),ie.totalDataLabels&&L.add(ie.totalDataLabels),S.add(L),U&&S.add(U),I&&S.add(I)}return S}},{key:"drawBarPaths",value:function(t){var s,r=t.indexes,a=t.barHeight,u=t.strokeWidth,d=t.zeroW,p=t.x,m=t.y,y=t.yDivision,b=t.elSeries,S=this.w,M=r.i,A=r.j;if(S.globals.isXNumeric)s=(m=(S.globals.seriesX[M][A]-S.globals.minX)/this.invertedXRatio-a)+a*this.visibleI;else if(S.config.plotOptions.bar.hideZeroBarsWhenGrouped){var R=this.barHelpers.getZeroValueEncounters({i:M,j:A}),E=R.nonZeroColumns,_=R.zeroEncounters;E>0&&(a=this.seriesLen*a/E),s=m+a*this.visibleI,s-=a*_}else s=m+a*this.visibleI;this.isFunnel&&(d-=(this.barHelpers.getXForValue(this.series[M][A],d)-d)/2),p=this.barHelpers.getXForValue(this.series[M][A],d);var T=this.barHelpers.getBarpaths({barYPosition:s,barHeight:a,x1:d,x2:p,strokeWidth:u,isReversed:this.isReversed,series:this.series,realIndex:r.realIndex,i:M,j:A,w:S});return S.globals.isXNumeric||(m+=y),this.barHelpers.barBackground({j:A,i:M,y1:s-a*this.visibleI,y2:a*this.seriesLen,elSeries:b}),{pathTo:T.pathTo,pathFrom:T.pathFrom,x1:d,x:p,y:m,goalX:this.barHelpers.getGoalValues("x",d,null,M,A),barYPosition:s,barHeight:a}}},{key:"drawColumnPaths",value:function(t){var s,r=t.indexes,a=t.x,u=t.y,d=t.xDivision,p=t.barWidth,m=t.zeroH,y=t.strokeWidth,b=t.elSeries,S=this.w,M=r.realIndex,A=r.translationsIndex,R=r.i,E=r.j,_=r.bc;if(S.globals.isXNumeric){var T=this.getBarXForNumericXAxis({x:a,j:E,realIndex:M,barWidth:p});a=T.x,s=T.barXPosition}else if(S.config.plotOptions.bar.hideZeroBarsWhenGrouped){var B=this.barHelpers.getZeroValueEncounters({i:R,j:E}),z=B.nonZeroColumns,W=B.zeroEncounters;z>0&&(p=this.seriesLen*p/z),s=a+p*this.visibleI,s-=p*W}else s=a+p*this.visibleI;u=this.barHelpers.getYForValue(this.series[R][E],m,A);var L=this.barHelpers.getColumnPaths({barXPosition:s,barWidth:p,y1:m,y2:u,strokeWidth:y,isReversed:this.isReversed,series:this.series,realIndex:M,i:R,j:E,w:S});return S.globals.isXNumeric||(a+=d),this.barHelpers.barBackground({bc:_,j:E,i:R,x1:s-y/2-p*this.visibleI,x2:p*this.seriesLen+y/2,elSeries:b}),{pathTo:L.pathTo,pathFrom:L.pathFrom,x:a,y:u,goalY:this.barHelpers.getGoalValues("y",null,m,R,E,A),barXPosition:s,barWidth:p}}},{key:"getBarXForNumericXAxis",value:function(t){var s=t.x,r=t.barWidth,a=t.realIndex,u=t.j,d=this.w,p=a;return d.globals.seriesX[a].length||(p=d.globals.maxValsInArrayIndex),Ye.isNumber(d.globals.seriesX[p][u])&&(s=(d.globals.seriesX[p][u]-d.globals.minX)/this.xRatio-r*this.seriesLen/2),{barXPosition:s+r*this.visibleI,x:s}}},{key:"getPreviousPath",value:function(t,s){for(var r=this.w,a="M 0 0",u=0;u<r.globals.previousPaths.length;u++){var d=r.globals.previousPaths[u];d.paths&&d.paths.length>0&&parseInt(d.realIndex,10)===parseInt(t,10)&&r.globals.previousPaths[u].paths[s]!==void 0&&(a=r.globals.previousPaths[u].paths[s].d)}return a}}]),i}(),IM=function(i){Pp(s,kh);var t=kp(s);function s(){return ln(this,s),t.apply(this,arguments)}return cn(s,[{key:"draw",value:function(r,a){var u=this,d=this.w;this.graphics=new Dt(this.ctx),this.bar=new kh(this.ctx,this.xyRatios);var p=new ms(this.ctx,d);r=p.getLogSeries(r),this.yRatio=p.getLogYRatios(this.yRatio),this.barHelpers.initVariables(r),d.config.chart.stackType==="100%"&&(r=d.globals.comboCharts?a.map(function(R){return d.globals.seriesPercent[R]}):d.globals.seriesPercent.slice()),this.series=r,this.barHelpers.initializeStackedPrevVars(this);for(var m=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),y=0,b=0,S=function(R,E){var _=void 0,T=void 0,B=void 0,z=void 0,W=d.globals.comboCharts?a[R]:R,L=u.barHelpers.getGroupIndex(W),U=L.groupIndex,I=L.columnGroupIndex;u.groupCtx=u[d.globals.seriesGroups[U]];var q=[],ee=[],te=0;u.yRatio.length>1&&(u.yaxisIndex=d.globals.seriesYAxisReverseMap[W][0],te=W),u.isReversed=d.config.yaxis[u.yaxisIndex]&&d.config.yaxis[u.yaxisIndex].reversed;var ce=u.graphics.group({class:"apexcharts-series",seriesName:Ye.escapeString(d.globals.seriesNames[W]),rel:R+1,"data:realIndex":W});u.ctx.series.addCollapsedClassToSeries(ce,W);var re=u.graphics.group({class:"apexcharts-datalabels","data:realIndex":W}),ae=u.graphics.group({class:"apexcharts-bar-goals-markers"}),ue=0,ie=0,he=u.initialPositions(y,b,_,T,B,z,te);b=he.y,ue=he.barHeight,T=he.yDivision,z=he.zeroW,y=he.x,ie=he.barWidth,_=he.xDivision,B=he.zeroH,d.globals.barHeight=ue,d.globals.barWidth=ie,u.barHelpers.initializeStackedXYVars(u),u.groupCtx.prevY.length===1&&u.groupCtx.prevY[0].every(function(qe){return isNaN(qe)})&&(u.groupCtx.prevY[0]=u.groupCtx.prevY[0].map(function(){return B}),u.groupCtx.prevYF[0]=u.groupCtx.prevYF[0].map(function(){return 0}));for(var pe=0;pe<d.globals.dataPoints;pe++){var de=u.barHelpers.getStrokeWidth(R,pe,W),xe={indexes:{i:R,j:pe,realIndex:W,translationsIndex:te,bc:E},strokeWidth:de,x:y,y:b,elSeries:ce,columnGroupIndex:I,seriesGroup:d.globals.seriesGroups[U]},Se=null;u.isHorizontal?(Se=u.drawStackedBarPaths(Yt(Yt({},xe),{},{zeroW:z,barHeight:ue,yDivision:T})),ie=u.series[R][pe]/u.invertedYRatio):(Se=u.drawStackedColumnPaths(Yt(Yt({},xe),{},{xDivision:_,barWidth:ie,zeroH:B})),ue=u.series[R][pe]/u.yRatio[te]);var be=u.barHelpers.drawGoalLine({barXPosition:Se.barXPosition,barYPosition:Se.barYPosition,goalX:Se.goalX,goalY:Se.goalY,barHeight:ue,barWidth:ie});be&&ae.add(be),b=Se.y,y=Se.x,q.push(y),ee.push(b);var Ne=u.barHelpers.getPathFillColor(r,R,pe,W),_e="",Me=d.globals.isBarHorizontal?"apexcharts-flip-x":"apexcharts-flip-y";(u.barHelpers.arrBorderRadius[W][pe]==="bottom"&&d.globals.series[W][pe]>0||u.barHelpers.arrBorderRadius[W][pe]==="top"&&d.globals.series[W][pe]<0)&&(_e=Me),ce=u.renderSeries(Yt(Yt({realIndex:W,pathFill:Ne.color},Ne.useRangeColor?{lineFill:Ne.color}:{}),{},{j:pe,i:R,columnGroupIndex:I,pathFrom:Se.pathFrom,pathTo:Se.pathTo,strokeWidth:de,elSeries:ce,x:y,y:b,series:r,barHeight:ue,barWidth:ie,elDataLabelsWrap:re,elGoalsMarkers:ae,type:"bar",visibleSeries:I,classes:_e}))}d.globals.seriesXvalues[W]=q,d.globals.seriesYvalues[W]=ee,u.groupCtx.prevY.push(u.groupCtx.yArrj),u.groupCtx.prevYF.push(u.groupCtx.yArrjF),u.groupCtx.prevYVal.push(u.groupCtx.yArrjVal),u.groupCtx.prevX.push(u.groupCtx.xArrj),u.groupCtx.prevXF.push(u.groupCtx.xArrjF),u.groupCtx.prevXVal.push(u.groupCtx.xArrjVal),m.add(ce)},M=0,A=0;M<r.length;M++,A++)S(M,A);return m}},{key:"initialPositions",value:function(r,a,u,d,p,m,y){var b,S,M=this.w;if(this.isHorizontal){d=M.globals.gridHeight/M.globals.dataPoints;var A=M.config.plotOptions.bar.barHeight;b=String(A).indexOf("%")===-1?parseInt(A,10):d*parseInt(A,10)/100,m=M.globals.padHorizontal+(this.isReversed?M.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),a=(d-b)/2}else{S=u=M.globals.gridWidth/M.globals.dataPoints;var R=M.config.plotOptions.bar.columnWidth;M.globals.isXNumeric&&M.globals.dataPoints>1?S=(u=M.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:String(R).indexOf("%")===-1?S=parseInt(R,10):S*=parseInt(R,10)/100,p=this.isReversed?this.baseLineY[y]:M.globals.gridHeight-this.baseLineY[y],r=M.globals.padHorizontal+(u-S)/2}var E=M.globals.barGroups.length||1;return{x:r,y:a,yDivision:d,xDivision:u,barHeight:b/E,barWidth:S/E,zeroH:p,zeroW:m}}},{key:"drawStackedBarPaths",value:function(r){for(var a,u=r.indexes,d=r.barHeight,p=r.strokeWidth,m=r.zeroW,y=r.x,b=r.y,S=r.columnGroupIndex,M=r.seriesGroup,A=r.yDivision,R=r.elSeries,E=this.w,_=b+S*d,T=u.i,B=u.j,z=u.realIndex,W=u.translationsIndex,L=0,U=0;U<this.groupCtx.prevXF.length;U++)L+=this.groupCtx.prevXF[U][B];var I=T;if(E.config.series[z].name&&(I=M.indexOf(E.config.series[z].name)),I>0){var q=m;this.groupCtx.prevXVal[I-1][B]<0?q=this.series[T][B]>=0?this.groupCtx.prevX[I-1][B]+L-2*(this.isReversed?L:0):this.groupCtx.prevX[I-1][B]:this.groupCtx.prevXVal[I-1][B]>=0&&(q=this.series[T][B]>=0?this.groupCtx.prevX[I-1][B]:this.groupCtx.prevX[I-1][B]-L+2*(this.isReversed?L:0)),a=q}else a=m;y=this.series[T][B]===null?a:a+this.series[T][B]/this.invertedYRatio-2*(this.isReversed?this.series[T][B]/this.invertedYRatio:0);var ee=this.barHelpers.getBarpaths({barYPosition:_,barHeight:d,x1:a,x2:y,strokeWidth:p,isReversed:this.isReversed,series:this.series,realIndex:u.realIndex,seriesGroup:M,i:T,j:B,w:E});return this.barHelpers.barBackground({j:B,i:T,y1:_,y2:d,elSeries:R}),b+=A,{pathTo:ee.pathTo,pathFrom:ee.pathFrom,goalX:this.barHelpers.getGoalValues("x",m,null,T,B,W),barXPosition:a,barYPosition:_,x:y,y:b}}},{key:"drawStackedColumnPaths",value:function(r){var a=r.indexes,u=r.x,d=r.y,p=r.xDivision,m=r.barWidth,y=r.zeroH,b=r.columnGroupIndex,S=r.seriesGroup,M=r.elSeries,A=this.w,R=a.i,E=a.j,_=a.bc,T=a.realIndex,B=a.translationsIndex;if(A.globals.isXNumeric){var z=A.globals.seriesX[T][E];z||(z=0),u=(z-A.globals.minX)/this.xRatio-m/2*A.globals.barGroups.length}for(var W,L=u+b*m,U=0,I=0;I<this.groupCtx.prevYF.length;I++)U+=isNaN(this.groupCtx.prevYF[I][E])?0:this.groupCtx.prevYF[I][E];var q=R;if(S&&(q=S.indexOf(A.globals.seriesNames[T])),q>0&&!A.globals.isXNumeric||q>0&&A.globals.isXNumeric&&A.globals.seriesX[T-1][E]===A.globals.seriesX[T][E]){var ee,te,ce,re=Math.min(this.yRatio.length+1,T+1);if(this.groupCtx.prevY[q-1]!==void 0&&this.groupCtx.prevY[q-1].length)for(var ae=1;ae<re;ae++){var ue;if(!isNaN((ue=this.groupCtx.prevY[q-ae])===null||ue===void 0?void 0:ue[E])){ce=this.groupCtx.prevY[q-ae][E];break}}for(var ie=1;ie<re;ie++){var he,pe;if(((he=this.groupCtx.prevYVal[q-ie])===null||he===void 0?void 0:he[E])<0){te=this.series[R][E]>=0?ce-U+2*(this.isReversed?U:0):ce;break}if(((pe=this.groupCtx.prevYVal[q-ie])===null||pe===void 0?void 0:pe[E])>=0){te=this.series[R][E]>=0?ce:ce+U-2*(this.isReversed?U:0);break}}te===void 0&&(te=A.globals.gridHeight),W=(ee=this.groupCtx.prevYF[0])!==null&&ee!==void 0&&ee.every(function(xe){return xe===0})&&this.groupCtx.prevYF.slice(1,q).every(function(xe){return xe.every(function(Se){return isNaN(Se)})})?y:te}else W=y;d=this.series[R][E]?W-this.series[R][E]/this.yRatio[B]+2*(this.isReversed?this.series[R][E]/this.yRatio[B]:0):W;var de=this.barHelpers.getColumnPaths({barXPosition:L,barWidth:m,y1:W,y2:d,yRatio:this.yRatio[B],strokeWidth:this.strokeWidth,isReversed:this.isReversed,series:this.series,seriesGroup:S,realIndex:a.realIndex,i:R,j:E,w:A});return this.barHelpers.barBackground({bc:_,j:E,i:R,x1:L,x2:m,elSeries:M}),{pathTo:de.pathTo,pathFrom:de.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,y,R,E),barXPosition:L,x:A.globals.isXNumeric?u:u+p,y:d}}}]),s}(),zv=function(i){Pp(s,kh);var t=kp(s);function s(){return ln(this,s),t.apply(this,arguments)}return cn(s,[{key:"draw",value:function(r,a,u){var d=this,p=this.w,m=new Dt(this.ctx),y=p.globals.comboCharts?a:p.config.chart.type,b=new sa(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=p.config.plotOptions.bar.horizontal,this.isOHLC=this.candlestickOptions&&this.candlestickOptions.type==="ohlc";var S=new ms(this.ctx,p);r=S.getLogSeries(r),this.series=r,this.yRatio=S.getLogYRatios(this.yRatio),this.barHelpers.initVariables(r);for(var M=m.group({class:"apexcharts-".concat(y,"-series apexcharts-plot-series")}),A=function(E){d.isBoxPlot=p.config.chart.type==="boxPlot"||p.config.series[E].type==="boxPlot";var _,T,B,z,W=void 0,L=void 0,U=[],I=[],q=p.globals.comboCharts?u[E]:E,ee=d.barHelpers.getGroupIndex(q).columnGroupIndex,te=m.group({class:"apexcharts-series",seriesName:Ye.escapeString(p.globals.seriesNames[q]),rel:E+1,"data:realIndex":q});d.ctx.series.addCollapsedClassToSeries(te,q),r[E].length>0&&(d.visibleI=d.visibleI+1);var ce,re,ae=0;d.yRatio.length>1&&(d.yaxisIndex=p.globals.seriesYAxisReverseMap[q][0],ae=q);var ue=d.barHelpers.initialPositions(q);L=ue.y,ce=ue.barHeight,T=ue.yDivision,z=ue.zeroW,W=ue.x,re=ue.barWidth,_=ue.xDivision,B=ue.zeroH,I.push(W+re/2);for(var ie=m.group({class:"apexcharts-datalabels","data:realIndex":q}),he=m.group({class:"apexcharts-bar-goals-markers"}),pe=function(xe){var Se=d.barHelpers.getStrokeWidth(E,xe,q),be=null,Ne={indexes:{i:E,j:xe,realIndex:q,translationsIndex:ae},x:W,y:L,strokeWidth:Se,elSeries:te};be=d.isHorizontal?d.drawHorizontalBoxPaths(Yt(Yt({},Ne),{},{yDivision:T,barHeight:ce,zeroW:z})):d.drawVerticalBoxPaths(Yt(Yt({},Ne),{},{xDivision:_,barWidth:re,zeroH:B})),L=be.y,W=be.x;var _e=d.barHelpers.drawGoalLine({barXPosition:be.barXPosition,barYPosition:be.barYPosition,goalX:be.goalX,goalY:be.goalY,barHeight:ce,barWidth:re});_e&&he.add(_e),xe>0&&I.push(W+re/2),U.push(L),be.pathTo.forEach(function(Me,qe){var ze=!d.isBoxPlot&&d.candlestickOptions.wick.useFillColor?be.color[qe]:p.globals.stroke.colors[E],$e=b.fillPath({seriesNumber:q,dataPointIndex:xe,color:be.color[qe],value:r[E][xe]});d.renderSeries({realIndex:q,pathFill:$e,lineFill:ze,j:xe,i:E,pathFrom:be.pathFrom,pathTo:Me,strokeWidth:Se,elSeries:te,x:W,y:L,series:r,columnGroupIndex:ee,barHeight:ce,barWidth:re,elDataLabelsWrap:ie,elGoalsMarkers:he,visibleSeries:d.visibleI,type:p.config.chart.type})})},de=0;de<p.globals.dataPoints;de++)pe(de);p.globals.seriesXvalues[q]=I,p.globals.seriesYvalues[q]=U,M.add(te)},R=0;R<r.length;R++)A(R);return M}},{key:"drawVerticalBoxPaths",value:function(r){var a=r.indexes,u=r.x;r.y;var d=r.xDivision,p=r.barWidth,m=r.zeroH,y=r.strokeWidth,b=this.w,S=new Dt(this.ctx),M=a.i,A=a.j,R=b.config.plotOptions.candlestick.colors,E=this.boxOptions.colors,_=a.realIndex,T=function(de){return Array.isArray(de)?de[_]:de},B=T(R.upward),z=T(R.downward),W=this.yRatio[a.translationsIndex],L=this.getOHLCValue(_,A),U=m,I=m,q=L.o<L.c?[B]:[z];this.isBoxPlot&&(q=[T(E.lower),T(E.upper)]);var ee=Math.min(L.o,L.c),te=Math.max(L.o,L.c),ce=L.m;b.globals.isXNumeric&&(u=(b.globals.seriesX[_][A]-b.globals.minX)/this.xRatio-p/2);var re=u+p*this.visibleI;this.series[M][A]===void 0||this.series[M][A]===null?(ee=m,te=m):(ee=m-ee/W,te=m-te/W,U=m-L.h/W,I=m-L.l/W,ce=m-L.m/W);var ae=S.move(re,m),ue=S.move(re+p/2,ee);if(b.globals.previousPaths.length>0&&(ue=this.getPreviousPath(_,A,!0)),this.isOHLC){var ie=re+p/2,he=m-L.o/W,pe=m-L.c/W;ae=[S.move(ie,U)+S.line(ie,I)+S.move(ie,he)+S.line(re,he)+S.move(ie,pe)+S.line(re+p,pe)]}else ae=this.isBoxPlot?[S.move(re,ee)+S.line(re+p/2,ee)+S.line(re+p/2,U)+S.line(re+p/4,U)+S.line(re+p-p/4,U)+S.line(re+p/2,U)+S.line(re+p/2,ee)+S.line(re+p,ee)+S.line(re+p,ce)+S.line(re,ce)+S.line(re,ee+y/2),S.move(re,ce)+S.line(re+p,ce)+S.line(re+p,te)+S.line(re+p/2,te)+S.line(re+p/2,I)+S.line(re+p-p/4,I)+S.line(re+p/4,I)+S.line(re+p/2,I)+S.line(re+p/2,te)+S.line(re,te)+S.line(re,ce)+"z"]:[S.move(re,te)+S.line(re+p/2,te)+S.line(re+p/2,U)+S.line(re+p/2,te)+S.line(re+p,te)+S.line(re+p,ee)+S.line(re+p/2,ee)+S.line(re+p/2,I)+S.line(re+p/2,ee)+S.line(re,ee)+S.line(re,te-y/2)];return ue+=S.move(re,ee),b.globals.isXNumeric||(u+=d),{pathTo:ae,pathFrom:ue,x:u,y:te,goalY:this.barHelpers.getGoalValues("y",null,m,M,A,a.translationsIndex),barXPosition:re,color:q}}},{key:"drawHorizontalBoxPaths",value:function(r){var a=r.indexes;r.x;var u=r.y,d=r.yDivision,p=r.barHeight,m=r.zeroW,y=r.strokeWidth,b=this.w,S=new Dt(this.ctx),M=a.i,A=a.j,R=this.boxOptions.colors.lower;this.isBoxPlot&&(R=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var E=this.invertedYRatio,_=a.realIndex,T=this.getOHLCValue(_,A),B=m,z=m,W=Math.min(T.o,T.c),L=Math.max(T.o,T.c),U=T.m;b.globals.isXNumeric&&(u=(b.globals.seriesX[_][A]-b.globals.minX)/this.invertedXRatio-p/2);var I=u+p*this.visibleI;this.series[M][A]===void 0||this.series[M][A]===null?(W=m,L=m):(W=m+W/E,L=m+L/E,B=m+T.h/E,z=m+T.l/E,U=m+T.m/E);var q=S.move(m,I),ee=S.move(W,I+p/2);return b.globals.previousPaths.length>0&&(ee=this.getPreviousPath(_,A,!0)),q=[S.move(W,I)+S.line(W,I+p/2)+S.line(B,I+p/2)+S.line(B,I+p/2-p/4)+S.line(B,I+p/2+p/4)+S.line(B,I+p/2)+S.line(W,I+p/2)+S.line(W,I+p)+S.line(U,I+p)+S.line(U,I)+S.line(W+y/2,I),S.move(U,I)+S.line(U,I+p)+S.line(L,I+p)+S.line(L,I+p/2)+S.line(z,I+p/2)+S.line(z,I+p-p/4)+S.line(z,I+p/4)+S.line(z,I+p/2)+S.line(L,I+p/2)+S.line(L,I)+S.line(U,I)+"z"],ee+=S.move(W,I),b.globals.isXNumeric||(u+=d),{pathTo:q,pathFrom:ee,x:L,y:u,goalX:this.barHelpers.getGoalValues("x",m,null,M,A),barYPosition:I,color:R}}},{key:"getOHLCValue",value:function(r,a){var u=this.w,d=new ms(this.ctx,u),p=d.getLogValAtSeriesIndex(u.globals.seriesCandleH[r][a],r),m=d.getLogValAtSeriesIndex(u.globals.seriesCandleO[r][a],r),y=d.getLogValAtSeriesIndex(u.globals.seriesCandleM[r][a],r),b=d.getLogValAtSeriesIndex(u.globals.seriesCandleC[r][a],r),S=d.getLogValAtSeriesIndex(u.globals.seriesCandleL[r][a],r);return{o:this.isBoxPlot?p:m,h:this.isBoxPlot?m:p,m:y,l:this.isBoxPlot?b:S,c:this.isBoxPlot?S:b}}}]),s}(),_E=function(){function i(t){ln(this,i),this.ctx=t,this.w=t.w}return cn(i,[{key:"checkColorRange",value:function(){var t=this.w,s=!1,r=t.config.plotOptions[t.config.chart.type];return r.colorScale.ranges.length>0&&r.colorScale.ranges.map(function(a,u){a.from<=0&&(s=!0)}),s}},{key:"getShadeColor",value:function(t,s,r,a){var u=this.w,d=1,p=u.config.plotOptions[t].shadeIntensity,m=this.determineColor(t,s,r);u.globals.hasNegs||a?d=u.config.plotOptions[t].reverseNegativeShade?m.percent<0?m.percent/100*(1.25*p):(1-m.percent/100)*(1.25*p):m.percent<=0?1-(1+m.percent/100)*p:(1-m.percent/100)*p:(d=1-m.percent/100,t==="treemap"&&(d=(1-m.percent/100)*(1.25*p)));var y=m.color,b=new Ye;if(u.config.plotOptions[t].enableShades)if(this.w.config.theme.mode==="dark"){var S=b.shadeColor(-1*d,m.color);y=Ye.hexToRgba(Ye.isColorHex(S)?S:Ye.rgb2hex(S),u.config.fill.opacity)}else{var M=b.shadeColor(d,m.color);y=Ye.hexToRgba(Ye.isColorHex(M)?M:Ye.rgb2hex(M),u.config.fill.opacity)}return{color:y,colorProps:m}}},{key:"determineColor",value:function(t,s,r){var a=this.w,u=a.globals.series[s][r],d=a.config.plotOptions[t],p=d.colorScale.inverse?r:s;d.distributed&&a.config.chart.type==="treemap"&&(p=r);var m=a.globals.colors[p],y=null,b=Math.min.apply(Math,Bs(a.globals.series[s])),S=Math.max.apply(Math,Bs(a.globals.series[s]));d.distributed||t!=="heatmap"||(b=a.globals.minY,S=a.globals.maxY),d.colorScale.min!==void 0&&(b=d.colorScale.min<a.globals.minY?d.colorScale.min:a.globals.minY,S=d.colorScale.max>a.globals.maxY?d.colorScale.max:a.globals.maxY);var M=Math.abs(S)+Math.abs(b),A=100*u/(M===0?M-1e-6:M);return d.colorScale.ranges.length>0&&d.colorScale.ranges.map(function(R,E){if(u>=R.from&&u<=R.to){m=R.color,y=R.foreColor?R.foreColor:null,b=R.from,S=R.to;var _=Math.abs(S)+Math.abs(b);A=100*u/(_===0?_-1e-6:_)}}),{color:m,foreColor:y,percent:A}}},{key:"calculateDataLabels",value:function(t){var s=t.text,r=t.x,a=t.y,u=t.i,d=t.j,p=t.colorProps,m=t.fontSize,y=this.w.config.dataLabels,b=new Dt(this.ctx),S=new Ch(this.ctx),M=null;if(y.enabled){M=b.group({class:"apexcharts-data-labels"});var A=y.offsetX,R=y.offsetY,E=r+A,_=a+parseFloat(y.style.fontSize)/3+R;S.plotDataLabelsText({x:E,y:_,text:s,i:u,j:d,color:p.foreColor,parent:M,fontSize:m,dataLabelsConfig:y})}return M}},{key:"addListeners",value:function(t){var s=new Dt(this.ctx);t.node.addEventListener("mouseenter",s.pathMouseEnter.bind(this,t)),t.node.addEventListener("mouseleave",s.pathMouseLeave.bind(this,t)),t.node.addEventListener("mousedown",s.pathMouseDown.bind(this,t))}}]),i}(),kU=function(){function i(t,s){ln(this,i),this.ctx=t,this.w=t.w,this.xRatio=s.xRatio,this.yRatio=s.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new _E(t),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return cn(i,[{key:"draw",value:function(t){var s=this.w,r=new Dt(this.ctx),a=r.group({class:"apexcharts-heatmap"});a.attr("clip-path","url(#gridRectMask".concat(s.globals.cuid,")"));var u=s.globals.gridWidth/s.globals.dataPoints,d=s.globals.gridHeight/s.globals.series.length,p=0,m=!1;this.negRange=this.helpers.checkColorRange();var y=t.slice();s.config.yaxis[0].reversed&&(m=!0,y.reverse());for(var b=m?0:y.length-1;m?b<y.length:b>=0;m?b++:b--){var S=r.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:Ye.escapeString(s.globals.seriesNames[b]),rel:b+1,"data:realIndex":b});if(this.ctx.series.addCollapsedClassToSeries(S,b),s.config.chart.dropShadow.enabled){var M=s.config.chart.dropShadow;new sr(this.ctx).dropShadow(S,M,b)}for(var A=0,R=s.config.plotOptions.heatmap.shadeIntensity,E=0,_=0;_<s.globals.dataPoints;_++)if(s.globals.seriesX.length&&!s.globals.allSeriesHasEqualX&&s.globals.minX+s.globals.minXDiff*_<s.globals.seriesX[b][E])A+=u;else{if(E>=y[b].length)break;var T=this.helpers.getShadeColor(s.config.chart.type,b,E,this.negRange),B=T.color,z=T.colorProps;s.config.fill.type==="image"&&(B=new sa(this.ctx).fillPath({seriesNumber:b,dataPointIndex:E,opacity:s.globals.hasNegs?z.percent<0?1-(1+z.percent/100):R+z.percent/100:z.percent/100,patternID:Ye.randomId(),width:s.config.fill.image.width?s.config.fill.image.width:u,height:s.config.fill.image.height?s.config.fill.image.height:d}));var W=this.rectRadius,L=r.drawRect(A,p,u,d,W);if(L.attr({cx:A,cy:p}),L.node.classList.add("apexcharts-heatmap-rect"),S.add(L),L.attr({fill:B,i:b,index:b,j:E,val:t[b][E],"stroke-width":this.strokeWidth,stroke:s.config.plotOptions.heatmap.useFillColorAsStroke?B:s.globals.stroke.colors[0],color:B}),this.helpers.addListeners(L),s.config.chart.animations.enabled&&!s.globals.dataChanged){var U=1;s.globals.resized||(U=s.config.chart.animations.speed),this.animateHeatMap(L,A,p,u,d,U)}if(s.globals.dataChanged){var I=1;if(this.dynamicAnim.enabled&&s.globals.shouldAnimate){I=this.dynamicAnim.speed;var q=s.globals.previousPaths[b]&&s.globals.previousPaths[b][E]&&s.globals.previousPaths[b][E].color;q||(q="rgba(255, 255, 255, 0)"),this.animateHeatColor(L,Ye.isColorHex(q)?q:Ye.rgb2hex(q),Ye.isColorHex(B)?B:Ye.rgb2hex(B),I)}}var ee=(0,s.config.dataLabels.formatter)(s.globals.series[b][E],{value:s.globals.series[b][E],seriesIndex:b,dataPointIndex:E,w:s}),te=this.helpers.calculateDataLabels({text:ee,x:A+u/2,y:p+d/2,i:b,j:E,colorProps:z,series:y});te!==null&&S.add(te),A+=u,E++}p+=d,a.add(S)}var ce=s.globals.yAxisScale[0].result.slice();return s.config.yaxis[0].reversed?ce.unshift(""):ce.push(""),s.globals.yAxisScale[0].result=ce,a}},{key:"animateHeatMap",value:function(t,s,r,a,u,d){var p=new Bh(this.ctx);p.animateRect(t,{x:s+a/2,y:r+u/2,width:0,height:0},{x:s,y:r,width:a,height:u},d,function(){p.animationCompleted(t)})}},{key:"animateHeatColor",value:function(t,s,r,a){t.attr({fill:s}).animate(a).attr({fill:r})}}]),i}(),zE=function(){function i(t){ln(this,i),this.ctx=t,this.w=t.w}return cn(i,[{key:"drawYAxisTexts",value:function(t,s,r,a){var u=this.w,d=u.config.yaxis[0],p=u.globals.yLabelFormatters[0];return new Dt(this.ctx).drawText({x:t+d.labels.offsetX,y:s+d.labels.offsetY,text:p(a,r),textAnchor:"middle",fontSize:d.labels.style.fontSize,fontFamily:d.labels.style.fontFamily,foreColor:Array.isArray(d.labels.style.colors)?d.labels.style.colors[r]:d.labels.style.colors})}}]),i}(),BE=function(){function i(t){ln(this,i),this.ctx=t,this.w=t.w;var s=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=s.globals.stroke.colors!==void 0?s.globals.stroke.colors:s.globals.colors,this.defaultSize=Math.min(s.globals.gridWidth,s.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=s.globals.gridWidth/2,s.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(s.config.plotOptions.pie.endAngle-s.config.plotOptions.pie.startAngle),this.initialAngle=s.config.plotOptions.pie.startAngle%this.fullAngle,s.globals.radialSize=this.defaultSize/2.05-s.config.stroke.width-(s.config.chart.sparkline.enabled?0:s.config.chart.dropShadow.blur),this.donutSize=s.globals.radialSize*parseInt(s.config.plotOptions.pie.donut.size,10)/100;var r=s.config.plotOptions.pie.customScale,a=s.globals.gridWidth/2,u=s.globals.gridHeight/2;this.translateX=a-a*r,this.translateY=u-u*r,this.dataLabelsGroup=new Dt(this.ctx).group({class:"apexcharts-datalabels-group",transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(r,")")}),this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return cn(i,[{key:"draw",value:function(t){var s=this,r=this.w,a=new Dt(this.ctx),u=a.group({class:"apexcharts-pie"});if(r.globals.noData)return u;for(var d=0,p=0;p<t.length;p++)d+=Ye.negToZero(t[p]);var m=[],y=a.group();d===0&&(d=1e-5),t.forEach(function(z){s.maxY=Math.max(s.maxY,z)}),r.config.yaxis[0].max&&(this.maxY=r.config.yaxis[0].max),r.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(u);for(var b=0;b<t.length;b++){var S=this.fullAngle*Ye.negToZero(t[b])/d;m.push(S),this.chartType==="polarArea"?(m[b]=this.fullAngle/t.length,this.sliceSizes.push(r.globals.radialSize*t[b]/this.maxY)):this.sliceSizes.push(r.globals.radialSize)}if(r.globals.dataChanged){for(var M,A=0,R=0;R<r.globals.previousPaths.length;R++)A+=Ye.negToZero(r.globals.previousPaths[R]);for(var E=0;E<r.globals.previousPaths.length;E++)M=this.fullAngle*Ye.negToZero(r.globals.previousPaths[E])/A,this.prevSectorAngleArr.push(M)}if(this.donutSize<0&&(this.donutSize=0),this.chartType==="donut"){var _=a.drawCircle(this.donutSize);_.attr({cx:this.centerX,cy:this.centerY,fill:r.config.plotOptions.pie.donut.background?r.config.plotOptions.pie.donut.background:"transparent"}),y.add(_)}var T=this.drawArcs(m,t);if(this.sliceLabels.forEach(function(z){T.add(z)}),y.attr({transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(r.config.plotOptions.pie.customScale,")")}),y.add(T),u.add(y),this.donutDataLabels.show){var B=this.renderInnerDataLabels(this.dataLabelsGroup,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});u.add(B)}return r.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(u),u}},{key:"drawArcs",value:function(t,s){var r=this.w,a=new sr(this.ctx),u=new Dt(this.ctx),d=new sa(this.ctx),p=u.group({class:"apexcharts-slices"}),m=this.initialAngle,y=this.initialAngle,b=this.initialAngle,S=this.initialAngle;this.strokeWidth=r.config.stroke.show?r.config.stroke.width:0;for(var M=0;M<t.length;M++){var A=u.group({class:"apexcharts-series apexcharts-pie-series",seriesName:Ye.escapeString(r.globals.seriesNames[M]),rel:M+1,"data:realIndex":M});p.add(A),y=S,b=(m=b)+t[M],S=y+this.prevSectorAngleArr[M];var R=b<m?this.fullAngle+b-m:b-m,E=d.fillPath({seriesNumber:M,size:this.sliceSizes[M],value:s[M]}),_=this.getChangedPath(y,S),T=u.drawPath({d:_,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[M]:this.lineColorArr,strokeWidth:0,fill:E,fillOpacity:r.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(M)});if(T.attr({index:0,j:M}),a.setSelectionFilter(T,0,M),r.config.chart.dropShadow.enabled){var B=r.config.chart.dropShadow;a.dropShadow(T,B,M)}this.addListeners(T,this.donutDataLabels),Dt.setAttrs(T.node,{"data:angle":R,"data:startAngle":m,"data:strokeWidth":this.strokeWidth,"data:value":s[M]});var z={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?z=Ye.polarToCartesian(this.centerX,this.centerY,r.globals.radialSize/1.25+r.config.plotOptions.pie.dataLabels.offset,(m+R/2)%this.fullAngle):this.chartType==="donut"&&(z=Ye.polarToCartesian(this.centerX,this.centerY,(r.globals.radialSize+this.donutSize)/2+r.config.plotOptions.pie.dataLabels.offset,(m+R/2)%this.fullAngle)),A.add(T);var W=0;if(!this.initialAnim||r.globals.resized||r.globals.dataChanged?this.animBeginArr.push(0):((W=R/this.fullAngle*r.config.chart.animations.speed)===0&&(W=1),this.animDur=W+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&r.globals.dataChanged?this.animatePaths(T,{size:this.sliceSizes[M],endAngle:b,startAngle:m,prevStartAngle:y,prevEndAngle:S,animateStartingPos:!0,i:M,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:r.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(T,{size:this.sliceSizes[M],endAngle:b,startAngle:m,i:M,totalItems:t.length-1,animBeginArr:this.animBeginArr,dur:W}),r.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&T.node.addEventListener("mouseup",this.pieClicked.bind(this,M)),r.globals.selectedDataPoints[0]!==void 0&&r.globals.selectedDataPoints[0].indexOf(M)>-1&&this.pieClicked(M),r.config.dataLabels.enabled){var L=z.x,U=z.y,I=100*R/this.fullAngle+"%";if(R!==0&&r.config.plotOptions.pie.dataLabels.minAngleToShowLabel<t[M]){var q=r.config.dataLabels.formatter;q!==void 0&&(I=q(r.globals.seriesPercent[M][0],{seriesIndex:M,w:r}));var ee=r.globals.dataLabels.style.colors[M],te=u.group({class:"apexcharts-datalabels"}),ce=u.drawText({x:L,y:U,text:I,textAnchor:"middle",fontSize:r.config.dataLabels.style.fontSize,fontFamily:r.config.dataLabels.style.fontFamily,fontWeight:r.config.dataLabels.style.fontWeight,foreColor:ee});if(te.add(ce),r.config.dataLabels.dropShadow.enabled){var re=r.config.dataLabels.dropShadow;a.dropShadow(ce,re)}ce.node.classList.add("apexcharts-pie-label"),r.config.chart.animations.animate&&r.globals.resized===!1&&(ce.node.classList.add("apexcharts-pie-label-delay"),ce.node.style.animationDelay=r.config.chart.animations.speed/940+"s"),this.sliceLabels.push(te)}}}return p}},{key:"addListeners",value:function(t,s){var r=new Dt(this.ctx);t.node.addEventListener("mouseenter",r.pathMouseEnter.bind(this,t)),t.node.addEventListener("mouseleave",r.pathMouseLeave.bind(this,t)),t.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,t.node,s)),t.node.addEventListener("mousedown",r.pathMouseDown.bind(this,t)),this.donutDataLabels.total.showAlways||(t.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,t.node,s)),t.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,t.node,s)))}},{key:"animatePaths",value:function(t,s){var r=this.w,a=s.endAngle<s.startAngle?this.fullAngle+s.endAngle-s.startAngle:s.endAngle-s.startAngle,u=a,d=s.startAngle,p=s.startAngle;s.prevStartAngle!==void 0&&s.prevEndAngle!==void 0&&(d=s.prevEndAngle,u=s.prevEndAngle<s.prevStartAngle?this.fullAngle+s.prevEndAngle-s.prevStartAngle:s.prevEndAngle-s.prevStartAngle),s.i===r.config.series.length-1&&(a+p>this.fullAngle?s.endAngle=s.endAngle-(a+p):a+p<this.fullAngle&&(s.endAngle=s.endAngle+(this.fullAngle-(a+p)))),a===this.fullAngle&&(a=this.fullAngle-.01),this.animateArc(t,d,p,a,u,s)}},{key:"animateArc",value:function(t,s,r,a,u,d){var p,m=this,y=this.w,b=new Bh(this.ctx),S=d.size;(isNaN(s)||isNaN(u))&&(s=r,u=a,d.dur=0);var M=a,A=r,R=s<r?this.fullAngle+s-r:s-r;y.globals.dataChanged&&d.shouldSetPrevPaths&&d.prevEndAngle&&(p=m.getPiePath({me:m,startAngle:d.prevStartAngle,angle:d.prevEndAngle<d.prevStartAngle?this.fullAngle+d.prevEndAngle-d.prevStartAngle:d.prevEndAngle-d.prevStartAngle,size:S}),t.attr({d:p})),d.dur!==0?t.animate(d.dur,d.animBeginArr[d.i]).after(function(){m.chartType!=="pie"&&m.chartType!=="donut"&&m.chartType!=="polarArea"||this.animate(y.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":m.strokeWidth}),d.i===y.config.series.length-1&&b.animationCompleted(t)}).during(function(E){M=R+(a-R)*E,d.animateStartingPos&&(M=u+(a-u)*E,A=s-u+(r-(s-u))*E),p=m.getPiePath({me:m,startAngle:A,angle:M,size:S}),t.node.setAttribute("data:pathOrig",p),t.attr({d:p})}):(p=m.getPiePath({me:m,startAngle:A,angle:a,size:S}),d.isTrack||(y.globals.animationEnded=!0),t.node.setAttribute("data:pathOrig",p),t.attr({d:p,"stroke-width":m.strokeWidth}))}},{key:"pieClicked",value:function(t){var s,r=this.w,a=this,u=a.sliceSizes[t]+(r.config.plotOptions.pie.expandOnClick?4:0),d=r.globals.dom.Paper.findOne(".apexcharts-".concat(a.chartType.toLowerCase(),"-slice-").concat(t));if(d.attr("data:pieClicked")!=="true"){var p=r.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(p,function(S){S.setAttribute("data:pieClicked","false");var M=S.getAttribute("data:pathOrig");M&&S.setAttribute("d",M)}),r.globals.capturedDataPointIndex=t,d.attr("data:pieClicked","true");var m=parseInt(d.attr("data:startAngle"),10),y=parseInt(d.attr("data:angle"),10);s=a.getPiePath({me:a,startAngle:m,angle:y,size:u}),y!==360&&d.plot(s)}else{d.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(d.node,this.donutDataLabels);var b=d.attr("data:pathOrig");d.attr({d:b})}}},{key:"getChangedPath",value:function(t,s){var r="";return this.dynamicAnim&&this.w.globals.dataChanged&&(r=this.getPiePath({me:this,startAngle:t,angle:s-t,size:this.size})),r}},{key:"getPiePath",value:function(t){var s,r=t.me,a=t.startAngle,u=t.angle,d=t.size,p=new Dt(this.ctx),m=a,y=Math.PI*(m-90)/180,b=u+a;Math.ceil(b)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(b=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(b)>this.fullAngle&&(b-=this.fullAngle);var S=Math.PI*(b-90)/180,M=r.centerX+d*Math.cos(y),A=r.centerY+d*Math.sin(y),R=r.centerX+d*Math.cos(S),E=r.centerY+d*Math.sin(S),_=Ye.polarToCartesian(r.centerX,r.centerY,r.donutSize,b),T=Ye.polarToCartesian(r.centerX,r.centerY,r.donutSize,m),B=u>180?1:0,z=["M",M,A,"A",d,d,0,B,1,R,E];return s=r.chartType==="donut"?[].concat(z,["L",_.x,_.y,"A",r.donutSize,r.donutSize,0,B,0,T.x,T.y,"L",M,A,"z"]).join(" "):r.chartType==="pie"||r.chartType==="polarArea"?[].concat(z,["L",r.centerX,r.centerY,"L",M,A]).join(" "):[].concat(z).join(" "),p.roundPathCorners(s,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(t){var s=this.w,r=new LE(this.ctx),a=new Dt(this.ctx),u=new zE(this.ctx),d=a.group(),p=a.group(),m=r.niceScale(0,Math.ceil(this.maxY),0),y=m.result.reverse(),b=m.result.length;this.maxY=m.niceMax;for(var S=s.globals.radialSize,M=S/(b-1),A=0;A<b-1;A++){var R=a.drawCircle(S);if(R.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":s.config.plotOptions.polarArea.rings.strokeWidth,stroke:s.config.plotOptions.polarArea.rings.strokeColor}),s.config.yaxis[0].show){var E=u.drawYAxisTexts(this.centerX,this.centerY-S+parseInt(s.config.yaxis[0].labels.style.fontSize,10)/2,A,y[A]);p.add(E)}d.add(R),S-=M}this.drawSpokes(t),t.add(d),t.add(p)}},{key:"renderInnerDataLabels",value:function(t,s,r){var a=this.w,u=new Dt(this.ctx),d=s.total.show;t.node.innerHTML="",t.node.style.opacity=r.opacity;var p,m,y=r.centerX,b=this.donutDataLabels.total.label?r.centerY:r.centerY-r.centerY/6;p=s.name.color===void 0?a.globals.colors[0]:s.name.color;var S=s.name.fontSize,M=s.name.fontFamily,A=s.name.fontWeight;m=s.value.color===void 0?a.config.chart.foreColor:s.value.color;var R=s.value.formatter,E="",_="";if(d?(p=s.total.color,S=s.total.fontSize,M=s.total.fontFamily,A=s.total.fontWeight,_=this.donutDataLabels.total.label?s.total.label:"",E=s.total.formatter(a)):a.globals.series.length===1&&(E=R(a.globals.series[0],a),_=a.globals.seriesNames[0]),_&&(_=s.name.formatter(_,s.total.show,a)),s.name.show){var T=u.drawText({x:y,y:b+parseFloat(s.name.offsetY),text:_,textAnchor:"middle",foreColor:p,fontSize:S,fontWeight:A,fontFamily:M});T.node.classList.add("apexcharts-datalabel-label"),t.add(T)}if(s.value.show){var B=s.name.show?parseFloat(s.value.offsetY)+16:s.value.offsetY,z=u.drawText({x:y,y:b+B,text:E,textAnchor:"middle",foreColor:m,fontWeight:s.value.fontWeight,fontSize:s.value.fontSize,fontFamily:s.value.fontFamily});z.node.classList.add("apexcharts-datalabel-value"),t.add(z)}return t}},{key:"printInnerLabels",value:function(t,s,r,a){var u,d=this.w;a?u=t.name.color===void 0?d.globals.colors[parseInt(a.parentNode.getAttribute("rel"),10)-1]:t.name.color:d.globals.series.length>1&&t.total.show&&(u=t.total.color);var p=d.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),m=d.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");r=(0,t.value.formatter)(r,d),a||typeof t.total.formatter!="function"||(r=t.total.formatter(d));var y=s===t.total.label;s=this.donutDataLabels.total.label?t.name.formatter(s,y,d):"",p!==null&&(p.textContent=s),m!==null&&(m.textContent=r),p!==null&&(p.style.fill=u)}},{key:"printDataLabelsInner",value:function(t,s){var r=this.w,a=t.getAttribute("data:value"),u=r.globals.seriesNames[parseInt(t.parentNode.getAttribute("rel"),10)-1];r.globals.series.length>1&&this.printInnerLabels(s,u,a,t);var d=r.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");d!==null&&(d.style.opacity=1)}},{key:"drawSpokes",value:function(t){var s=this,r=this.w,a=new Dt(this.ctx),u=r.config.plotOptions.polarArea.spokes;if(u.strokeWidth!==0){for(var d=[],p=360/r.globals.series.length,m=0;m<r.globals.series.length;m++)d.push(Ye.polarToCartesian(this.centerX,this.centerY,r.globals.radialSize,r.config.plotOptions.pie.startAngle+p*m));d.forEach(function(y,b){var S=a.drawLine(y.x,y.y,s.centerX,s.centerY,Array.isArray(u.connectorColors)?u.connectorColors[b]:u.connectorColors);t.add(S)})}}},{key:"revertDataLabelsInner",value:function(){var t=this.w;if(this.donutDataLabels.show){var s=t.globals.dom.Paper.findOne(".apexcharts-datalabels-group"),r=this.renderInnerDataLabels(s,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});t.globals.dom.Paper.findOne(".apexcharts-radialbar, .apexcharts-pie").add(r)}}}]),i}(),PU=function(){function i(t){ln(this,i),this.ctx=t,this.w=t.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var s=this.w;this.graphics=new Dt(this.ctx),this.lineColorArr=s.globals.stroke.colors!==void 0?s.globals.stroke.colors:s.globals.colors,this.defaultSize=s.globals.svgHeight<s.globals.svgWidth?s.globals.gridHeight:s.globals.gridWidth,this.isLog=s.config.yaxis[0].logarithmic,this.logBase=s.config.yaxis[0].logBase,this.coreUtils=new ms(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,s.globals.maxY,0):s.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):s.globals.minY,this.polygons=s.config.plotOptions.radar.polygons,this.strokeWidth=s.config.stroke.show?s.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-s.config.chart.dropShadow.blur,s.config.xaxis.labels.show&&(this.size=this.size-s.globals.xAxisLabelsWidth/1.75),s.config.plotOptions.radar.size!==void 0&&(this.size=s.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return cn(i,[{key:"draw",value:function(t){var s=this,r=this.w,a=new sa(this.ctx),u=[],d=new Ch(this.ctx);t.length&&(this.dataPointsLen=t[r.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var p=r.globals.gridWidth/2,m=r.globals.gridHeight/2,y=p+r.config.plotOptions.radar.offsetX,b=m+r.config.plotOptions.radar.offsetY,S=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(y||0,", ").concat(b||0,")")}),M=[],A=null,R=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),t.forEach(function(_,T){var B=_.length===r.globals.dataPoints,z=s.graphics.group().attr({class:"apexcharts-series","data:longestSeries":B,seriesName:Ye.escapeString(r.globals.seriesNames[T]),rel:T+1,"data:realIndex":T});s.dataRadiusOfPercent[T]=[],s.dataRadius[T]=[],s.angleArr[T]=[],_.forEach(function(ae,ue){var ie=Math.abs(s.maxValue-s.minValue);ae-=s.minValue,s.isLog&&(ae=s.coreUtils.getLogVal(s.logBase,ae,0)),s.dataRadiusOfPercent[T][ue]=ae/ie,s.dataRadius[T][ue]=s.dataRadiusOfPercent[T][ue]*s.size,s.angleArr[T][ue]=ue*s.disAngle}),M=s.getDataPointsPos(s.dataRadius[T],s.angleArr[T]);var W=s.createPaths(M,{x:0,y:0});A=s.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),R=s.graphics.group({class:"apexcharts-datalabels","data:realIndex":T}),r.globals.delayedElements.push({el:A.node,index:T});var L={i:T,realIndex:T,animationDelay:T,initialSpeed:r.config.chart.animations.speed,dataChangeSpeed:r.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:r.globals.stroke.colors[T],strokeLineCap:r.config.stroke.lineCap},U=null;r.globals.previousPaths.length>0&&(U=s.getPreviousPath(T));for(var I=0;I<W.linePathsTo.length;I++){var q=s.graphics.renderPaths(Yt(Yt({},L),{},{pathFrom:U===null?W.linePathsFrom[I]:U,pathTo:W.linePathsTo[I],strokeWidth:Array.isArray(s.strokeWidth)?s.strokeWidth[T]:s.strokeWidth,fill:"none",drawShadow:!1}));z.add(q);var ee=a.fillPath({seriesNumber:T}),te=s.graphics.renderPaths(Yt(Yt({},L),{},{pathFrom:U===null?W.areaPathsFrom[I]:U,pathTo:W.areaPathsTo[I],strokeWidth:0,fill:ee,drawShadow:!1}));if(r.config.chart.dropShadow.enabled){var ce=new sr(s.ctx),re=r.config.chart.dropShadow;ce.dropShadow(te,Object.assign({},re,{noUserSpaceOnUse:!0}),T)}z.add(te)}_.forEach(function(ae,ue){var ie=new $h(s.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:T,dataPointIndex:ue}),he=s.graphics.drawMarker(M[ue].x,M[ue].y,ie);he.attr("rel",ue),he.attr("j",ue),he.attr("index",T),he.node.setAttribute("default-marker-size",ie.pSize);var pe=s.graphics.group({class:"apexcharts-series-markers"});pe&&pe.add(he),A.add(pe),z.add(A);var de=r.config.dataLabels;if(de.enabled){var xe=de.formatter(r.globals.series[T][ue],{seriesIndex:T,dataPointIndex:ue,w:r});d.plotDataLabelsText({x:M[ue].x,y:M[ue].y,text:xe,textAnchor:"middle",i:T,j:T,parent:R,offsetCorrection:!1,dataLabelsConfig:Yt({},de)})}z.add(R)}),u.push(z)}),this.drawPolygons({parent:S}),r.config.xaxis.labels.show){var E=this.drawXAxisTexts();S.add(E)}return u.forEach(function(_){S.add(_)}),S.add(this.yaxisLabels),S}},{key:"drawPolygons",value:function(t){for(var s=this,r=this.w,a=t.parent,u=new zE(this.ctx),d=r.globals.yAxisScale[0].result.reverse(),p=d.length,m=[],y=this.size/(p-1),b=0;b<p;b++)m[b]=y*b;m.reverse();var S=[],M=[];m.forEach(function(A,R){var E=Ye.getPolygonPos(A,s.dataPointsLen),_="";E.forEach(function(T,B){if(R===0){var z=s.graphics.drawLine(T.x,T.y,0,0,Array.isArray(s.polygons.connectorColors)?s.polygons.connectorColors[B]:s.polygons.connectorColors);M.push(z)}B===0&&s.yaxisLabelsTextsPos.push({x:T.x,y:T.y}),_+=T.x+","+T.y+" "}),S.push(_)}),S.forEach(function(A,R){var E=s.polygons.strokeColors,_=s.polygons.strokeWidth,T=s.graphics.drawPolygon(A,Array.isArray(E)?E[R]:E,Array.isArray(_)?_[R]:_,r.globals.radarPolygons.fill.colors[R]);a.add(T)}),M.forEach(function(A){a.add(A)}),r.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(A,R){var E=u.drawYAxisTexts(A.x,A.y,R,d[R]);s.yaxisLabels.add(E)})}},{key:"drawXAxisTexts",value:function(){var t=this,s=this.w,r=s.config.xaxis.labels,a=this.graphics.group({class:"apexcharts-xaxis"}),u=Ye.getPolygonPos(this.size,this.dataPointsLen);return s.globals.labels.forEach(function(d,p){var m=s.config.xaxis.labels.formatter,y=new Ch(t.ctx);if(u[p]){var b=t.getTextPos(u[p],t.size),S=m(d,{seriesIndex:-1,dataPointIndex:p,w:s});y.plotDataLabelsText({x:b.newX,y:b.newY,text:S,textAnchor:b.textAnchor,i:p,j:p,parent:a,className:"apexcharts-xaxis-label",color:Array.isArray(r.style.colors)&&r.style.colors[p]?r.style.colors[p]:"#a8a8a8",dataLabelsConfig:Yt({textAnchor:b.textAnchor,dropShadow:{enabled:!1}},r),offsetCorrection:!1}).on("click",function(M){if(typeof s.config.chart.events.xAxisLabelClick=="function"){var A=Object.assign({},s,{labelIndex:p});s.config.chart.events.xAxisLabelClick(M,t.ctx,A)}})}}),a}},{key:"createPaths",value:function(t,s){var r=this,a=[],u=[],d=[],p=[];if(t.length){u=[this.graphics.move(s.x,s.y)],p=[this.graphics.move(s.x,s.y)];var m=this.graphics.move(t[0].x,t[0].y),y=this.graphics.move(t[0].x,t[0].y);t.forEach(function(b,S){m+=r.graphics.line(b.x,b.y),y+=r.graphics.line(b.x,b.y),S===t.length-1&&(m+="Z",y+="Z")}),a.push(m),d.push(y)}return{linePathsFrom:u,linePathsTo:a,areaPathsFrom:p,areaPathsTo:d}}},{key:"getTextPos",value:function(t,s){var r="middle",a=t.x,u=t.y;return Math.abs(t.x)>=10?t.x>0?(r="start",a+=10):t.x<0&&(r="end",a-=10):r="middle",Math.abs(t.y)>=s-10&&(t.y<0?u-=10:t.y>0&&(u+=10)),{textAnchor:r,newX:a,newY:u}}},{key:"getPreviousPath",value:function(t){for(var s=this.w,r=null,a=0;a<s.globals.previousPaths.length;a++){var u=s.globals.previousPaths[a];u.paths.length>0&&parseInt(u.realIndex,10)===parseInt(t,10)&&s.globals.previousPaths[a].paths[0]!==void 0&&(r=s.globals.previousPaths[a].paths[0].d)}return r}},{key:"getDataPointsPos",value:function(t,s){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;t=t||[],s=s||[];for(var a=[],u=0;u<r;u++){var d={};d.x=t[u]*Math.sin(s[u]),d.y=-t[u]*Math.cos(s[u]),a.push(d)}return a}}]),i}(),MU=function(i){Pp(s,BE);var t=kp(s);function s(r){var a;ln(this,s),(a=t.call(this,r)).ctx=r,a.w=r.w,a.animBeginArr=[0],a.animDur=0;var u=a.w;return a.startAngle=u.config.plotOptions.radialBar.startAngle,a.endAngle=u.config.plotOptions.radialBar.endAngle,a.totalAngle=Math.abs(u.config.plotOptions.radialBar.endAngle-u.config.plotOptions.radialBar.startAngle),a.trackStartAngle=u.config.plotOptions.radialBar.track.startAngle,a.trackEndAngle=u.config.plotOptions.radialBar.track.endAngle,a.barLabels=a.w.config.plotOptions.radialBar.barLabels,a.donutDataLabels=a.w.config.plotOptions.radialBar.dataLabels,a.radialDataLabels=a.donutDataLabels,a.trackStartAngle||(a.trackStartAngle=a.startAngle),a.trackEndAngle||(a.trackEndAngle=a.endAngle),a.endAngle===360&&(a.endAngle=359.99),a.margin=parseInt(u.config.plotOptions.radialBar.track.margin,10),a.onBarLabelClick=a.onBarLabelClick.bind(QD(a)),a}return cn(s,[{key:"draw",value:function(r){var a=this.w,u=new Dt(this.ctx),d=u.group({class:"apexcharts-radialbar"});if(a.globals.noData)return d;var p=u.group(),m=this.defaultSize/2,y=a.globals.gridWidth/2,b=this.defaultSize/2.05;a.config.chart.sparkline.enabled||(b=b-a.config.stroke.width-a.config.chart.dropShadow.blur);var S=a.globals.fill.colors;if(a.config.plotOptions.radialBar.track.show){var M=this.drawTracks({size:b,centerX:y,centerY:m,colorArr:S,series:r});p.add(M)}var A=this.drawArcs({size:b,centerX:y,centerY:m,colorArr:S,series:r}),R=360;a.config.plotOptions.radialBar.startAngle<0&&(R=this.totalAngle);var E=(360-R)/360;if(a.globals.radialSize=b-b*E,this.radialDataLabels.value.show){var _=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);a.globals.radialSize+=_*E}return p.add(A.g),a.config.plotOptions.radialBar.hollow.position==="front"&&(A.g.add(A.elHollow),A.dataLabels&&A.g.add(A.dataLabels)),d.add(p),d}},{key:"drawTracks",value:function(r){var a=this.w,u=new Dt(this.ctx),d=u.group({class:"apexcharts-tracks"}),p=new sr(this.ctx),m=new sa(this.ctx),y=this.getStrokeWidth(r);r.size=r.size-y/2;for(var b=0;b<r.series.length;b++){var S=u.group({class:"apexcharts-radialbar-track apexcharts-track"});d.add(S),S.attr({rel:b+1}),r.size=r.size-y-this.margin;var M=a.config.plotOptions.radialBar.track,A=m.fillPath({seriesNumber:0,size:r.size,fillColors:Array.isArray(M.background)?M.background[b]:M.background,solid:!0}),R=this.trackStartAngle,E=this.trackEndAngle;Math.abs(E)+Math.abs(R)>=360&&(E=360-Math.abs(this.startAngle)-.1);var _=u.drawPath({d:"",stroke:A,strokeWidth:y*parseInt(M.strokeWidth,10)/100,fill:"none",strokeOpacity:M.opacity,classes:"apexcharts-radialbar-area"});if(M.dropShadow.enabled){var T=M.dropShadow;p.dropShadow(_,T)}S.add(_),_.attr("id","apexcharts-radialbarTrack-"+b),this.animatePaths(_,{centerX:r.centerX,centerY:r.centerY,endAngle:E,startAngle:R,size:r.size,i:b,totalItems:2,animBeginArr:0,dur:0,isTrack:!0})}return d}},{key:"drawArcs",value:function(r){var a=this.w,u=new Dt(this.ctx),d=new sa(this.ctx),p=new sr(this.ctx),m=u.group(),y=this.getStrokeWidth(r);r.size=r.size-y/2;var b=a.config.plotOptions.radialBar.hollow.background,S=r.size-y*r.series.length-this.margin*r.series.length-y*parseInt(a.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,M=S-a.config.plotOptions.radialBar.hollow.margin;a.config.plotOptions.radialBar.hollow.image!==void 0&&(b=this.drawHollowImage(r,m,S,b));var A=this.drawHollow({size:M,centerX:r.centerX,centerY:r.centerY,fill:b||"transparent"});if(a.config.plotOptions.radialBar.hollow.dropShadow.enabled){var R=a.config.plotOptions.radialBar.hollow.dropShadow;p.dropShadow(A,R)}var E=1;!this.radialDataLabels.total.show&&a.globals.series.length>1&&(E=0);var _=null;if(this.radialDataLabels.show){var T=a.globals.dom.Paper.findOne(".apexcharts-datalabels-group");_=this.renderInnerDataLabels(T,this.radialDataLabels,{hollowSize:S,centerX:r.centerX,centerY:r.centerY,opacity:E})}a.config.plotOptions.radialBar.hollow.position==="back"&&(m.add(A),_&&m.add(_));var B=!1;a.config.plotOptions.radialBar.inverseOrder&&(B=!0);for(var z=B?r.series.length-1:0;B?z>=0:z<r.series.length;B?z--:z++){var W=u.group({class:"apexcharts-series apexcharts-radial-series",seriesName:Ye.escapeString(a.globals.seriesNames[z])});m.add(W),W.attr({rel:z+1,"data:realIndex":z}),this.ctx.series.addCollapsedClassToSeries(W,z),r.size=r.size-y-this.margin;var L=d.fillPath({seriesNumber:z,size:r.size,value:r.series[z]}),U=this.startAngle,I=void 0,q=Ye.negToZero(r.series[z]>100?100:r.series[z])/100,ee=Math.round(this.totalAngle*q)+this.startAngle,te=void 0;a.globals.dataChanged&&(I=this.startAngle,te=Math.round(this.totalAngle*Ye.negToZero(a.globals.previousPaths[z])/100)+I),Math.abs(ee)+Math.abs(U)>360&&(ee-=.01),Math.abs(te)+Math.abs(I)>360&&(te-=.01);var ce=ee-U,re=Array.isArray(a.config.stroke.dashArray)?a.config.stroke.dashArray[z]:a.config.stroke.dashArray,ae=u.drawPath({d:"",stroke:L,strokeWidth:y,fill:"none",fillOpacity:a.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+z,strokeDashArray:re});if(Dt.setAttrs(ae.node,{"data:angle":ce,"data:value":r.series[z]}),a.config.chart.dropShadow.enabled){var ue=a.config.chart.dropShadow;p.dropShadow(ae,ue,z)}if(p.setSelectionFilter(ae,0,z),this.addListeners(ae,this.radialDataLabels),W.add(ae),ae.attr({index:0,j:z}),this.barLabels.enabled){var ie=Ye.polarToCartesian(r.centerX,r.centerY,r.size,U),he=this.barLabels.formatter(a.globals.seriesNames[z],{seriesIndex:z,w:a}),pe=["apexcharts-radialbar-label"];this.barLabels.onClick||pe.push("apexcharts-no-click");var de=this.barLabels.useSeriesColors?a.globals.colors[z]:a.config.chart.foreColor;de||(de=a.config.chart.foreColor);var xe=ie.x+this.barLabels.offsetX,Se=ie.y+this.barLabels.offsetY,be=u.drawText({x:xe,y:Se,text:he,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:de,cssClass:pe.join(" ")});be.on("click",this.onBarLabelClick),be.attr({rel:z+1}),U!==0&&be.attr({"transform-origin":"".concat(xe," ").concat(Se),transform:"rotate(".concat(U," 0 0)")}),W.add(be)}var Ne=0;!this.initialAnim||a.globals.resized||a.globals.dataChanged||(Ne=a.config.chart.animations.speed),a.globals.dataChanged&&(Ne=a.config.chart.animations.dynamicAnimation.speed),this.animDur=Ne/(1.2*r.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(ae,{centerX:r.centerX,centerY:r.centerY,endAngle:ee,startAngle:U,prevEndAngle:te,prevStartAngle:I,size:r.size,i:z,totalItems:2,animBeginArr:this.animBeginArr,dur:Ne,shouldSetPrevPaths:!0})}return{g:m,elHollow:A,dataLabels:_}}},{key:"drawHollow",value:function(r){var a=new Dt(this.ctx).drawCircle(2*r.size);return a.attr({class:"apexcharts-radialbar-hollow",cx:r.centerX,cy:r.centerY,r:r.size,fill:r.fill}),a}},{key:"drawHollowImage",value:function(r,a,u,d){var p=this.w,m=new sa(this.ctx),y=Ye.randomId(),b=p.config.plotOptions.radialBar.hollow.image;if(p.config.plotOptions.radialBar.hollow.imageClipped)m.clippedImgArea({width:u,height:u,image:b,patternID:"pattern".concat(p.globals.cuid).concat(y)}),d="url(#pattern".concat(p.globals.cuid).concat(y,")");else{var S=p.config.plotOptions.radialBar.hollow.imageWidth,M=p.config.plotOptions.radialBar.hollow.imageHeight;if(S===void 0&&M===void 0){var A=p.globals.dom.Paper.image(b,function(E){this.move(r.centerX-E.width/2+p.config.plotOptions.radialBar.hollow.imageOffsetX,r.centerY-E.height/2+p.config.plotOptions.radialBar.hollow.imageOffsetY)});a.add(A)}else{var R=p.globals.dom.Paper.image(b,function(E){this.move(r.centerX-S/2+p.config.plotOptions.radialBar.hollow.imageOffsetX,r.centerY-M/2+p.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(S,M)});a.add(R)}}return d}},{key:"getStrokeWidth",value:function(r){var a=this.w;return r.size*(100-parseInt(a.config.plotOptions.radialBar.hollow.size,10))/100/(r.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(r){var a=parseInt(r.target.getAttribute("rel"),10)-1,u=this.barLabels.onClick,d=this.w;u&&u(d.globals.seriesNames[a],{w:d,seriesIndex:a})}}]),s}(),TU=function(i){Pp(s,kh);var t=kp(s);function s(){return ln(this,s),t.apply(this,arguments)}return cn(s,[{key:"draw",value:function(r,a){var u=this.w,d=new Dt(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=r,this.seriesRangeStart=u.globals.seriesRangeStart,this.seriesRangeEnd=u.globals.seriesRangeEnd,this.barHelpers.initVariables(r);for(var p=d.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),m=0;m<r.length;m++){var y,b,S,M,A=void 0,R=void 0,E=u.globals.comboCharts?a[m]:m,_=this.barHelpers.getGroupIndex(E).columnGroupIndex,T=d.group({class:"apexcharts-series",seriesName:Ye.escapeString(u.globals.seriesNames[E]),rel:m+1,"data:realIndex":E});this.ctx.series.addCollapsedClassToSeries(T,E),r[m].length>0&&(this.visibleI=this.visibleI+1);var B=0,z=0,W=0;this.yRatio.length>1&&(this.yaxisIndex=u.globals.seriesYAxisReverseMap[E][0],W=E);var L=this.barHelpers.initialPositions(E);R=L.y,M=L.zeroW,A=L.x,z=L.barWidth,B=L.barHeight,y=L.xDivision,b=L.yDivision,S=L.zeroH;for(var U=d.group({class:"apexcharts-datalabels","data:realIndex":E}),I=d.group({class:"apexcharts-rangebar-goals-markers"}),q=0;q<u.globals.dataPoints;q++){var ee=this.barHelpers.getStrokeWidth(m,q,E),te=this.seriesRangeStart[m][q],ce=this.seriesRangeEnd[m][q],re=null,ae=null,ue=null,ie={x:A,y:R,strokeWidth:ee,elSeries:T},he=this.seriesLen;if(u.config.plotOptions.bar.rangeBarGroupRows&&(he=1),u.config.series[m].data[q]===void 0)break;if(this.isHorizontal){ue=R+B*this.visibleI;var pe=(b-B*he)/2;if(u.config.series[m].data[q].x){var de=this.detectOverlappingBars({i:m,j:q,barYPosition:ue,srty:pe,barHeight:B,yDivision:b,initPositions:L});B=de.barHeight,ue=de.barYPosition}z=(re=this.drawRangeBarPaths(Yt({indexes:{i:m,j:q,realIndex:E},barHeight:B,barYPosition:ue,zeroW:M,yDivision:b,y1:te,y2:ce},ie))).barWidth}else{u.globals.isXNumeric&&(A=(u.globals.seriesX[m][q]-u.globals.minX)/this.xRatio-z/2),ae=A+z*this.visibleI;var xe=(y-z*he)/2;if(u.config.series[m].data[q].x){var Se=this.detectOverlappingBars({i:m,j:q,barXPosition:ae,srtx:xe,barWidth:z,xDivision:y,initPositions:L});z=Se.barWidth,ae=Se.barXPosition}B=(re=this.drawRangeColumnPaths(Yt({indexes:{i:m,j:q,realIndex:E,translationsIndex:W},barWidth:z,barXPosition:ae,zeroH:S,xDivision:y},ie))).barHeight}var be=this.barHelpers.drawGoalLine({barXPosition:re.barXPosition,barYPosition:ue,goalX:re.goalX,goalY:re.goalY,barHeight:B,barWidth:z});be&&I.add(be),R=re.y,A=re.x;var Ne=this.barHelpers.getPathFillColor(r,m,q,E);this.renderSeries({realIndex:E,pathFill:Ne.color,lineFill:Ne.useRangeColor?Ne.color:u.globals.stroke.colors[E],j:q,i:m,x:A,y:R,y1:te,y2:ce,pathFrom:re.pathFrom,pathTo:re.pathTo,strokeWidth:ee,elSeries:T,series:r,barHeight:B,barWidth:z,barXPosition:ae,barYPosition:ue,columnGroupIndex:_,elDataLabelsWrap:U,elGoalsMarkers:I,visibleSeries:this.visibleI,type:"rangebar"})}p.add(T)}return p}},{key:"detectOverlappingBars",value:function(r){var a=r.i,u=r.j,d=r.barYPosition,p=r.barXPosition,m=r.srty,y=r.srtx,b=r.barHeight,S=r.barWidth,M=r.yDivision,A=r.xDivision,R=r.initPositions,E=this.w,_=[],T=E.config.series[a].data[u].rangeName,B=E.config.series[a].data[u].x,z=Array.isArray(B)?B.join(" "):B,W=E.globals.labels.map(function(U){return Array.isArray(U)?U.join(" "):U}).indexOf(z),L=E.globals.seriesRange[a].findIndex(function(U){return U.x===z&&U.overlaps.length>0});return this.isHorizontal?(d=E.config.plotOptions.bar.rangeBarGroupRows?m+M*W:m+b*this.visibleI+M*W,L>-1&&!E.config.plotOptions.bar.rangeBarOverlap&&(_=E.globals.seriesRange[a][L].overlaps).indexOf(T)>-1&&(d=(b=R.barHeight/_.length)*this.visibleI+M*(100-parseInt(this.barOptions.barHeight,10))/100/2+b*(this.visibleI+_.indexOf(T))+M*W)):(W>-1&&!E.globals.timescaleLabels.length&&(p=E.config.plotOptions.bar.rangeBarGroupRows?y+A*W:y+S*this.visibleI+A*W),L>-1&&!E.config.plotOptions.bar.rangeBarOverlap&&(_=E.globals.seriesRange[a][L].overlaps).indexOf(T)>-1&&(p=(S=R.barWidth/_.length)*this.visibleI+A*(100-parseInt(this.barOptions.barWidth,10))/100/2+S*(this.visibleI+_.indexOf(T))+A*W)),{barYPosition:d,barXPosition:p,barHeight:b,barWidth:S}}},{key:"drawRangeColumnPaths",value:function(r){var a=r.indexes,u=r.x,d=r.xDivision,p=r.barWidth,m=r.barXPosition,y=r.zeroH,b=this.w,S=a.i,M=a.j,A=a.realIndex,R=a.translationsIndex,E=this.yRatio[R],_=this.getRangeValue(A,M),T=Math.min(_.start,_.end),B=Math.max(_.start,_.end);this.series[S][M]===void 0||this.series[S][M]===null?T=y:(T=y-T/E,B=y-B/E);var z=Math.abs(B-T),W=this.barHelpers.getColumnPaths({barXPosition:m,barWidth:p,y1:T,y2:B,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:A,i:A,j:M,w:b});if(b.globals.isXNumeric){var L=this.getBarXForNumericXAxis({x:u,j:M,realIndex:A,barWidth:p});u=L.x,m=L.barXPosition}else u+=d;return{pathTo:W.pathTo,pathFrom:W.pathFrom,barHeight:z,x:u,y:_.start<0&&_.end<0?T:B,goalY:this.barHelpers.getGoalValues("y",null,y,S,M,R),barXPosition:m}}},{key:"preventBarOverflow",value:function(r){var a=this.w;return r<0&&(r=0),r>a.globals.gridWidth&&(r=a.globals.gridWidth),r}},{key:"drawRangeBarPaths",value:function(r){var a=r.indexes,u=r.y,d=r.y1,p=r.y2,m=r.yDivision,y=r.barHeight,b=r.barYPosition,S=r.zeroW,M=this.w,A=a.realIndex,R=a.j,E=this.preventBarOverflow(S+d/this.invertedYRatio),_=this.preventBarOverflow(S+p/this.invertedYRatio),T=this.getRangeValue(A,R),B=Math.abs(_-E),z=this.barHelpers.getBarpaths({barYPosition:b,barHeight:y,x1:E,x2:_,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:A,realIndex:A,j:R,w:M});return M.globals.isXNumeric||(u+=m),{pathTo:z.pathTo,pathFrom:z.pathFrom,barWidth:B,x:T.start<0&&T.end<0?E:_,goalX:this.barHelpers.getGoalValues("x",S,null,A,R),y:u}}},{key:"getRangeValue",value:function(r,a){var u=this.w;return{start:u.globals.seriesRangeStart[r][a],end:u.globals.seriesRangeEnd[r][a]}}}]),s}(),AU=function(){function i(t){ln(this,i),this.w=t.w,this.lineCtx=t}return cn(i,[{key:"sameValueSeriesFix",value:function(t,s){var r=this.w;if((r.config.fill.type==="gradient"||r.config.fill.type[t]==="gradient")&&new ms(this.lineCtx.ctx,r).seriesHaveSameValues(t)){var a=s[t].slice();a[a.length-1]=a[a.length-1]+1e-6,s[t]=a}return s}},{key:"calculatePoints",value:function(t){var s=t.series,r=t.realIndex,a=t.x,u=t.y,d=t.i,p=t.j,m=t.prevY,y=this.w,b=[],S=[],M=this.lineCtx.categoryAxisCorrection+y.config.markers.offsetX;return y.globals.isXNumeric&&(M=(y.globals.seriesX[r][0]-y.globals.minX)/this.lineCtx.xRatio+y.config.markers.offsetX),p===0&&(b.push(M),S.push(Ye.isNumber(s[d][0])?m+y.config.markers.offsetY:null)),b.push(a+y.config.markers.offsetX),S.push(Ye.isNumber(s[d][p+1])?u+y.config.markers.offsetY:null),{x:b,y:S}}},{key:"checkPreviousPaths",value:function(t){for(var s=t.pathFromLine,r=t.pathFromArea,a=t.realIndex,u=this.w,d=0;d<u.globals.previousPaths.length;d++){var p=u.globals.previousPaths[d];(p.type==="line"||p.type==="area")&&p.paths.length>0&&parseInt(p.realIndex,10)===parseInt(a,10)&&(p.type==="line"?(this.lineCtx.appendPathFrom=!1,s=u.globals.previousPaths[d].paths[0].d):p.type==="area"&&(this.lineCtx.appendPathFrom=!1,r=u.globals.previousPaths[d].paths[0].d,u.config.stroke.show&&u.globals.previousPaths[d].paths[1]&&(s=u.globals.previousPaths[d].paths[1].d)))}return{pathFromLine:s,pathFromArea:r}}},{key:"determineFirstPrevY",value:function(t){var s,r,a,u=t.i,d=t.realIndex,p=t.series,m=t.prevY,y=t.lineYPosition,b=t.translationsIndex,S=this.w,M=S.config.chart.stacked&&!S.globals.comboCharts||S.config.chart.stacked&&S.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((s=this.w.config.series[d])===null||s===void 0?void 0:s.type)==="bar"||((r=this.w.config.series[d])===null||r===void 0?void 0:r.type)==="column");if(((a=p[u])===null||a===void 0?void 0:a[0])!==void 0)m=(y=M&&u>0?this.lineCtx.prevSeriesY[u-1][0]:this.lineCtx.zeroY)-p[u][0]/this.lineCtx.yRatio[b]+2*(this.lineCtx.isReversed?p[u][0]/this.lineCtx.yRatio[b]:0);else if(M&&u>0&&p[u][0]===void 0){for(var A=u-1;A>=0;A--)if(p[A][0]!==null&&p[A][0]!==void 0){m=y=this.lineCtx.prevSeriesY[A][0];break}}return{prevY:m,lineYPosition:y}}}]),i}(),DU=function(i){for(var t,s,r,a,u=function(b){for(var S=[],M=b[0],A=b[1],R=S[0]=Bv(M,A),E=1,_=b.length-1;E<_;E++)M=A,A=b[E+1],S[E]=.5*(R+(R=Bv(M,A)));return S[E]=R,S}(i),d=i.length-1,p=[],m=0;m<d;m++)r=Bv(i[m],i[m+1]),Math.abs(r)<1e-6?u[m]=u[m+1]=0:(a=(t=u[m]/r)*t+(s=u[m+1]/r)*s)>9&&(a=3*r/Math.sqrt(a),u[m]=a*t,u[m+1]=a*s);for(var y=0;y<=d;y++)a=(i[Math.min(d,y+1)][0]-i[Math.max(0,y-1)][0])/(6*(1+u[y]*u[y])),p.push([a||0,u[y]*a||0]);return p},EU=function(i){var t=DU(i),s=i[1],r=i[0],a=[],u=t[1],d=t[0];a.push(r,[r[0]+d[0],r[1]+d[1],s[0]-u[0],s[1]-u[1],s[0],s[1]]);for(var p=2,m=t.length;p<m;p++){var y=i[p],b=t[p];a.push([y[0]-b[0],y[1]-b[1],y[0],y[1]])}return a},NU=function(i,t,s){var r=i.slice(t,s);if(t){if(s-t>1&&r[1].length<6){var a=r[0].length;r[1]=[2*r[0][a-2]-r[0][a-4],2*r[0][a-1]-r[0][a-3]].concat(r[1])}r[0]=r[0].slice(-2)}return r};function Bv(i,t){return(t[1]-i[1])/(t[0]-i[0])}var Vv=function(){function i(t,s,r){ln(this,i),this.ctx=t,this.w=t.w,this.xyRatios=s,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||r,this.scatter=new NE(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new AU(this),this.markers=new $h(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return cn(i,[{key:"draw",value:function(t,s,r,a){var u,d=this.w,p=new Dt(this.ctx),m=d.globals.comboCharts?s:d.config.chart.type,y=p.group({class:"apexcharts-".concat(m,"-series apexcharts-plot-series")}),b=new ms(this.ctx,d);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,t=b.getLogSeries(t),this.yRatio=b.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var S=[],M=0;M<t.length;M++){t=this.lineHelpers.sameValueSeriesFix(M,t);var A=d.globals.comboCharts?r[M]:M,R=this.yRatio.length>1?A:0;this._initSerieVariables(t,M,A);var E=[],_=[],T=[],B=d.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,A),d.globals.isXNumeric&&d.globals.seriesX.length>0&&(B=(d.globals.seriesX[A][0]-d.globals.minX)/this.xRatio),T.push(B);var z,W=B,L=void 0,U=W,I=this.zeroY,q=this.zeroY;I=this.lineHelpers.determineFirstPrevY({i:M,realIndex:A,series:t,prevY:I,lineYPosition:0,translationsIndex:R}).prevY,d.config.stroke.curve==="monotoneCubic"&&t[M][0]===null?E.push(null):E.push(I),z=I,m==="rangeArea"&&(L=q=this.lineHelpers.determineFirstPrevY({i:M,realIndex:A,series:a,prevY:q,lineYPosition:0,translationsIndex:R}).prevY,_.push(E[0]!==null?q:null));var ee=this._calculatePathsFrom({type:m,series:t,i:M,realIndex:A,translationsIndex:R,prevX:U,prevY:I,prevY2:q}),te=[E[0]],ce=[_[0]],re={type:m,series:t,realIndex:A,translationsIndex:R,i:M,x:B,y:1,pX:W,pY:z,pathsFrom:ee,linePaths:[],areaPaths:[],seriesIndex:r,lineYPosition:0,xArrj:T,yArrj:E,y2Arrj:_,seriesRangeEnd:a},ae=this._iterateOverDataPoints(Yt(Yt({},re),{},{iterations:m==="rangeArea"?t[M].length-1:void 0,isRangeStart:!0}));if(m==="rangeArea"){for(var ue=this._calculatePathsFrom({series:a,i:M,realIndex:A,prevX:U,prevY:q}),ie=this._iterateOverDataPoints(Yt(Yt({},re),{},{series:a,xArrj:[B],yArrj:te,y2Arrj:ce,pY:L,areaPaths:ae.areaPaths,pathsFrom:ue,iterations:a[M].length-1,isRangeStart:!1})),he=ae.linePaths.length/2,pe=0;pe<he;pe++)ae.linePaths[pe]=ie.linePaths[pe+he]+ae.linePaths[pe];ae.linePaths.splice(he),ae.pathFromLine=ie.pathFromLine+ae.pathFromLine}else ae.pathFromArea+="z";this._handlePaths({type:m,realIndex:A,i:M,paths:ae}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),S.push(this.elSeries)}if(((u=d.config.series[0])===null||u===void 0?void 0:u.zIndex)!==void 0&&S.sort(function(Se,be){return Number(Se.node.getAttribute("zIndex"))-Number(be.node.getAttribute("zIndex"))}),d.config.chart.stacked)for(var de=S.length-1;de>=0;de--)y.add(S[de]);else for(var xe=0;xe<S.length;xe++)y.add(S[xe]);return y}},{key:"_initSerieVariables",value:function(t,s,r){var a=this.w,u=new Dt(this.ctx);this.xDivision=a.globals.gridWidth/(a.globals.dataPoints-(a.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(a.config.stroke.width)?a.config.stroke.width[r]:a.config.stroke.width;var d=0;if(this.yRatio.length>1&&(this.yaxisIndex=a.globals.seriesYAxisReverseMap[r],d=r),this.isReversed=a.config.yaxis[this.yaxisIndex]&&a.config.yaxis[this.yaxisIndex].reversed,this.zeroY=a.globals.gridHeight-this.baseLineY[d]-(this.isReversed?a.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[d]:0),this.areaBottomY=this.zeroY,(this.zeroY>a.globals.gridHeight||a.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=a.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=u.group({class:"apexcharts-series",zIndex:a.config.series[r].zIndex!==void 0?a.config.series[r].zIndex:r,seriesName:Ye.escapeString(a.globals.seriesNames[r])}),this.elPointsMain=u.group({class:"apexcharts-series-markers-wrap","data:realIndex":r}),a.globals.hasNullValues){var p=this.markers.plotChartMarkers({pointsPos:{x:[0],y:[a.globals.gridHeight+a.globals.markers.largestSize]},seriesIndex:s,j:0,pSize:.1,alwaysDrawMarker:!0,isVirtualPoint:!0});p!==null&&this.elPointsMain.add(p)}this.elDataLabelsWrap=u.group({class:"apexcharts-datalabels","data:realIndex":r});var m=t[s].length===a.globals.dataPoints;this.elSeries.attr({"data:longestSeries":m,rel:s+1,"data:realIndex":r}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(t){var s,r,a,u,d=t.type,p=t.series,m=t.i,y=t.realIndex,b=t.translationsIndex,S=t.prevX,M=t.prevY,A=t.prevY2,R=this.w,E=new Dt(this.ctx);if(p[m][0]===null){for(var _=0;_<p[m].length;_++)if(p[m][_]!==null){S=this.xDivision*_,M=this.zeroY-p[m][_]/this.yRatio[b],s=E.move(S,M),r=E.move(S,this.areaBottomY);break}}else s=E.move(S,M),d==="rangeArea"&&(s=E.move(S,A)+E.line(S,M)),r=E.move(S,this.areaBottomY)+E.line(S,M);if(a=E.move(0,this.areaBottomY)+E.line(0,this.areaBottomY),u=E.move(0,this.areaBottomY)+E.line(0,this.areaBottomY),R.globals.previousPaths.length>0){var T=this.lineHelpers.checkPreviousPaths({pathFromLine:a,pathFromArea:u,realIndex:y});a=T.pathFromLine,u=T.pathFromArea}return{prevX:S,prevY:M,linePath:s,areaPath:r,pathFromLine:a,pathFromArea:u}}},{key:"_handlePaths",value:function(t){var s=t.type,r=t.realIndex,a=t.i,u=t.paths,d=this.w,p=new Dt(this.ctx),m=new sa(this.ctx);this.prevSeriesY.push(u.yArrj),d.globals.seriesXvalues[r]=u.xArrj,d.globals.seriesYvalues[r]=u.yArrj;var y=d.config.forecastDataPoints;if(y.count>0&&s!=="rangeArea"){var b=d.globals.seriesXvalues[r][d.globals.seriesXvalues[r].length-y.count-1],S=p.drawRect(b,0,d.globals.gridWidth,d.globals.gridHeight,0);d.globals.dom.elForecastMask.appendChild(S.node);var M=p.drawRect(0,0,b,d.globals.gridHeight,0);d.globals.dom.elNonForecastMask.appendChild(M.node)}this.pointsChart||d.globals.delayedElements.push({el:this.elPointsMain.node,index:r});var A={i:a,realIndex:r,animationDelay:a,initialSpeed:d.config.chart.animations.speed,dataChangeSpeed:d.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(s)};if(s==="area")for(var R=m.fillPath({seriesNumber:r}),E=0;E<u.areaPaths.length;E++){var _=p.renderPaths(Yt(Yt({},A),{},{pathFrom:u.pathFromArea,pathTo:u.areaPaths[E],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:R}));this.elSeries.add(_)}if(d.config.stroke.show&&!this.pointsChart){var T=null;if(s==="line")T=m.fillPath({seriesNumber:r,i:a});else if(d.config.stroke.fill.type==="solid")T=d.globals.stroke.colors[r];else{var B=d.config.fill;d.config.fill=d.config.stroke.fill,T=m.fillPath({seriesNumber:r,i:a}),d.config.fill=B}for(var z=0;z<u.linePaths.length;z++){var W=T;s==="rangeArea"&&(W=m.fillPath({seriesNumber:r}));var L=Yt(Yt({},A),{},{pathFrom:u.pathFromLine,pathTo:u.linePaths[z],stroke:T,strokeWidth:this.strokeWidth,strokeLineCap:d.config.stroke.lineCap,fill:s==="rangeArea"?W:"none"}),U=p.renderPaths(L);if(this.elSeries.add(U),U.attr("fill-rule","evenodd"),y.count>0&&s!=="rangeArea"){var I=p.renderPaths(L);I.node.setAttribute("stroke-dasharray",y.dashArray),y.strokeWidth&&I.node.setAttribute("stroke-width",y.strokeWidth),this.elSeries.add(I),I.attr("clip-path","url(#forecastMask".concat(d.globals.cuid,")")),U.attr("clip-path","url(#nonForecastMask".concat(d.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(t){var s,r,a=this,u=t.type,d=t.series,p=t.iterations,m=t.realIndex,y=t.translationsIndex,b=t.i,S=t.x,M=t.y,A=t.pX,R=t.pY,E=t.pathsFrom,_=t.linePaths,T=t.areaPaths,B=t.seriesIndex,z=t.lineYPosition,W=t.xArrj,L=t.yArrj,U=t.y2Arrj,I=t.isRangeStart,q=t.seriesRangeEnd,ee=this.w,te=new Dt(this.ctx),ce=this.yRatio,re=E.prevY,ae=E.linePath,ue=E.areaPath,ie=E.pathFromLine,he=E.pathFromArea,pe=Ye.isNumber(ee.globals.minYArr[m])?ee.globals.minYArr[m]:ee.globals.minY;p||(p=ee.globals.dataPoints>1?ee.globals.dataPoints-1:ee.globals.dataPoints);var de=function(Pe,Re){return Re-Pe/ce[y]+2*(a.isReversed?Pe/ce[y]:0)},xe=M,Se=ee.config.chart.stacked&&!ee.globals.comboCharts||ee.config.chart.stacked&&ee.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((s=this.w.config.series[m])===null||s===void 0?void 0:s.type)==="bar"||((r=this.w.config.series[m])===null||r===void 0?void 0:r.type)==="column"),be=ee.config.stroke.curve;Array.isArray(be)&&(be=Array.isArray(B)?be[B[b]]:be[b]);for(var Ne,_e=0,Me=0;Me<p&&d[b].length!==0;Me++){var qe=d[b][Me+1]===void 0||d[b][Me+1]===null;if(ee.globals.isXNumeric){var ze=ee.globals.seriesX[m][Me+1];ee.globals.seriesX[m][Me+1]===void 0&&(ze=ee.globals.seriesX[m][p-1]),S=(ze-ee.globals.minX)/this.xRatio}else S+=this.xDivision;Se?b>0&&ee.globals.collapsedSeries.length<ee.config.series.length-1?z=this.prevSeriesY[function(Pe){for(var Re=Pe;Re>0;Re--){if(!(ee.globals.collapsedSeriesIndices.indexOf(B?.[Re]||Re)>-1))return Re;Re--}return 0}(b-1)][Me+1]:z=this.zeroY:z=this.zeroY,qe?M=de(pe,z):(M=de(d[b][Me+1],z),u==="rangeArea"&&(xe=de(q[b][Me+1],z))),W.push(d[b][Me+1]===null?null:S),!qe||ee.config.stroke.curve!=="smooth"&&ee.config.stroke.curve!=="monotoneCubic"?(L.push(M),U.push(xe)):(L.push(null),U.push(null));var $e=this.lineHelpers.calculatePoints({series:d,x:S,y:M,realIndex:m,i:b,j:Me,prevY:re}),Ue=this._createPaths({type:u,series:d,i:b,realIndex:m,j:Me,x:S,y:M,y2:xe,xArrj:W,yArrj:L,y2Arrj:U,pX:A,pY:R,pathState:_e,segmentStartX:Ne,linePath:ae,areaPath:ue,linePaths:_,areaPaths:T,curve:be,isRangeStart:I});T=Ue.areaPaths,_=Ue.linePaths,A=Ue.pX,R=Ue.pY,_e=Ue.pathState,Ne=Ue.segmentStartX,ue=Ue.areaPath,ae=Ue.linePath,!this.appendPathFrom||ee.globals.hasNullValues||be==="monotoneCubic"&&u==="rangeArea"||(ie+=te.line(S,this.areaBottomY),he+=te.line(S,this.areaBottomY)),this.handleNullDataPoints(d,$e,b,Me,m),this._handleMarkersAndLabels({type:u,pointsPos:$e,i:b,j:Me,realIndex:m,isRangeStart:I})}return{yArrj:L,xArrj:W,pathFromArea:he,areaPaths:T,pathFromLine:ie,linePaths:_,linePath:ae,areaPath:ue}}},{key:"_handleMarkersAndLabels",value:function(t){var s=t.type,r=t.pointsPos,a=t.isRangeStart,u=t.i,d=t.j,p=t.realIndex,m=this.w,y=new Ch(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,d,{realIndex:p,pointsPos:r,zRatio:this.zRatio,elParent:this.elPointsMain});else{m.globals.series[u].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var b=this.markers.plotChartMarkers({pointsPos:r,seriesIndex:p,j:d+1});b!==null&&this.elPointsMain.add(b)}var S=y.drawDataLabel({type:s,isRangeStart:a,pos:r,i:p,j:d+1});S!==null&&this.elDataLabelsWrap.add(S)}},{key:"_createPaths",value:function(t){var s=t.type,r=t.series,a=t.i;t.realIndex;var u,d=t.j,p=t.x,m=t.y,y=t.xArrj,b=t.yArrj,S=t.y2,M=t.y2Arrj,A=t.pX,R=t.pY,E=t.pathState,_=t.segmentStartX,T=t.linePath,B=t.areaPath,z=t.linePaths,W=t.areaPaths,L=t.curve,U=t.isRangeStart,I=new Dt(this.ctx),q=this.areaBottomY,ee=s==="rangeArea",te=s==="rangeArea"&&U;switch(L){case"monotoneCubic":var ce=U?b:M;switch(E){case 0:if(ce[d+1]===null)break;E=1;case 1:if(!(ee?y.length===r[a].length:d===r[a].length-2))break;case 2:var re=U?y:y.slice().reverse(),ae=U?ce:ce.slice().reverse(),ue=(u=ae,re.map(function(ze,$e){return[ze,u[$e]]}).filter(function(ze){return ze[1]!==null})),ie=ue.length>1?EU(ue):ue,he=[];ee&&(te?W=ue:he=W.reverse());var pe=0,de=0;if(function(ze,$e){for(var Ue=function(je){var Ee=[],Qe=0;return je.forEach(function(ut){ut!==null?Qe++:Qe>0&&(Ee.push(Qe),Qe=0)}),Qe>0&&Ee.push(Qe),Ee}(ze),Pe=[],Re=0,De=0;Re<Ue.length;De+=Ue[Re++])Pe[Re]=NU($e,De,De+Ue[Re]);return Pe}(ae,ie).forEach(function(ze){pe++;var $e=function(Re){for(var De="",je=0;je<Re.length;je++){var Ee=Re[je],Qe=Ee.length;Qe>4?(De+="C".concat(Ee[0],", ").concat(Ee[1]),De+=", ".concat(Ee[2],", ").concat(Ee[3]),De+=", ".concat(Ee[4],", ").concat(Ee[5])):Qe>2&&(De+="S".concat(Ee[0],", ").concat(Ee[1]),De+=", ".concat(Ee[2],", ").concat(Ee[3]))}return De}(ze),Ue=de,Pe=(de+=ze.length)-1;te?T=I.move(ue[Ue][0],ue[Ue][1])+$e:ee?T=I.move(he[Ue][0],he[Ue][1])+I.line(ue[Ue][0],ue[Ue][1])+$e+I.line(he[Pe][0],he[Pe][1]):(T=I.move(ue[Ue][0],ue[Ue][1])+$e,B=T+I.line(ue[Pe][0],q)+I.line(ue[Ue][0],q)+"z",W.push(B)),z.push(T)}),ee&&pe>1&&!te){var xe=z.slice(pe).reverse();z.splice(pe),xe.forEach(function(ze){return z.push(ze)})}E=0}break;case"smooth":var Se=.35*(p-A);if(r[a][d]===null)E=0;else switch(E){case 0:if(_=A,T=te?I.move(A,M[d])+I.line(A,R):I.move(A,R),B=I.move(A,R),r[a][d+1]===null||r[a][d+1]===void 0){z.push(T),W.push(B);break}if(E=1,d<r[a].length-2){var be=I.curve(A+Se,R,p-Se,m,p,m);T+=be,B+=be;break}case 1:if(r[a][d+1]===null)T+=te?I.line(A,S):I.move(A,R),B+=I.line(A,q)+I.line(_,q)+"z",z.push(T),W.push(B),E=-1;else{var Ne=I.curve(A+Se,R,p-Se,m,p,m);T+=Ne,B+=Ne,d>=r[a].length-2&&(te&&(T+=I.curve(p,m,p,m,p,S)+I.move(p,S)),B+=I.curve(p,m,p,m,p,q)+I.line(_,q)+"z",z.push(T),W.push(B),E=-1)}}A=p,R=m;break;default:var _e=function(ze,$e,Ue){var Pe=[];switch(ze){case"stepline":Pe=I.line($e,null,"H")+I.line(null,Ue,"V");break;case"linestep":Pe=I.line(null,Ue,"V")+I.line($e,null,"H");break;case"straight":Pe=I.line($e,Ue)}return Pe};if(r[a][d]===null)E=0;else switch(E){case 0:if(_=A,T=te?I.move(A,M[d])+I.line(A,R):I.move(A,R),B=I.move(A,R),r[a][d+1]===null||r[a][d+1]===void 0){z.push(T),W.push(B);break}if(E=1,d<r[a].length-2){var Me=_e(L,p,m);T+=Me,B+=Me;break}case 1:if(r[a][d+1]===null)T+=te?I.line(A,S):I.move(A,R),B+=I.line(A,q)+I.line(_,q)+"z",z.push(T),W.push(B),E=-1;else{var qe=_e(L,p,m);T+=qe,B+=qe,d>=r[a].length-2&&(te&&(T+=I.line(p,S)),B+=I.line(p,q)+I.line(_,q)+"z",z.push(T),W.push(B),E=-1)}}A=p,R=m}return{linePaths:z,areaPaths:W,pX:A,pY:R,pathState:E,segmentStartX:_,linePath:T,areaPath:B}}},{key:"handleNullDataPoints",value:function(t,s,r,a,u){var d=this.w;if(t[r][a]===null&&d.config.markers.showNullDataPoints||t[r].length===1){var p=this.strokeWidth-d.config.markers.strokeWidth/2;p>0||(p=0);var m=this.markers.plotChartMarkers({pointsPos:s,seriesIndex:u,j:a+1,pSize:p,alwaysDrawMarker:!0});m!==null&&this.elPointsMain.add(m)}}}]),i}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function i(p,m,y,b){this.xoffset=p,this.yoffset=m,this.height=b,this.width=y,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(S){var M,A=[],R=this.xoffset,E=this.yoffset,_=u(S)/this.height,T=u(S)/this.width;if(this.width>=this.height)for(M=0;M<S.length;M++)A.push([R,E,R+_,E+S[M]/_]),E+=S[M]/_;else for(M=0;M<S.length;M++)A.push([R,E,R+S[M]/T,E+T]),R+=S[M]/T;return A},this.cutArea=function(S){var M;if(this.width>=this.height){var A=S/this.height,R=this.width-A;M=new i(this.xoffset+A,this.yoffset,R,this.height)}else{var E=S/this.width,_=this.height-E;M=new i(this.xoffset,this.yoffset+E,this.width,_)}return M}}function t(p,m,y,b,S){b=b===void 0?0:b,S=S===void 0?0:S;var M=s(function(A,R){var E,_=[],T=R/u(A);for(E=0;E<A.length;E++)_[E]=A[E]*T;return _}(p,m*y),[],new i(b,S,m,y),[]);return function(A){var R,E,_=[];for(R=0;R<A.length;R++)for(E=0;E<A[R].length;E++)_.push(A[R][E]);return _}(M)}function s(p,m,y,b){var S,M,A;if(p.length!==0)return S=y.shortestEdge(),function(R,E,_){var T;if(R.length===0)return!0;(T=R.slice()).push(E);var B=r(R,_),z=r(T,_);return B>=z}(m,M=p[0],S)?(m.push(M),s(p.slice(1),m,y,b)):(A=y.cutArea(u(m),b),b.push(y.getCoordinates(m)),s(p,[],A,b)),b;b.push(y.getCoordinates(m))}function r(p,m){var y=Math.min.apply(Math,p),b=Math.max.apply(Math,p),S=u(p);return Math.max(Math.pow(m,2)*b/Math.pow(S,2),Math.pow(S,2)/(Math.pow(m,2)*y))}function a(p){return p&&p.constructor===Array}function u(p){var m,y=0;for(m=0;m<p.length;m++)y+=p[m];return y}function d(p){var m,y=0;if(a(p[0]))for(m=0;m<p.length;m++)y+=d(p[m]);else y=u(p);return y}return function p(m,y,b,S,M){S=S===void 0?0:S,M=M===void 0?0:M;var A,R,E=[],_=[];if(a(m[0])){for(R=0;R<m.length;R++)E[R]=d(m[R]);for(A=t(E,y,b,S,M),R=0;R<m.length;R++)_.push(p(m[R],A[R][2]-A[R][0],A[R][3]-A[R][1],A[R][0],A[R][1]))}else _=t(m,y,b,S,M);return _}}();var RU=function(){function i(t,s){ln(this,i),this.ctx=t,this.w=t.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new _E(t),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return cn(i,[{key:"draw",value:function(t){var s=this,r=this.w,a=new Dt(this.ctx),u=new sa(this.ctx),d=a.group({class:"apexcharts-treemap"});if(r.globals.noData)return d;var p=[];return t.forEach(function(m){var y=m.map(function(b){return Math.abs(b)});p.push(y)}),this.negRange=this.helpers.checkColorRange(),r.config.series.forEach(function(m,y){m.data.forEach(function(b){Array.isArray(s.labels[y])||(s.labels[y]=[]),s.labels[y].push(b.x)})}),window.TreemapSquared.generate(p,r.globals.gridWidth,r.globals.gridHeight).forEach(function(m,y){var b=a.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:Ye.escapeString(r.globals.seriesNames[y]),rel:y+1,"data:realIndex":y});if(r.config.chart.dropShadow.enabled){var S=r.config.chart.dropShadow;new sr(s.ctx).dropShadow(d,S,y)}var M=a.group({class:"apexcharts-data-labels"}),A={xMin:1/0,yMin:1/0,xMax:-1/0,yMax:-1/0};m.forEach(function(ie,he){var pe=ie[0],de=ie[1],xe=ie[2],Se=ie[3];A.xMin=Math.min(A.xMin,pe),A.yMin=Math.min(A.yMin,de),A.xMax=Math.max(A.xMax,xe),A.yMax=Math.max(A.yMax,Se);var be=s.helpers.getShadeColor(r.config.chart.type,y,he,s.negRange),Ne=be.color,_e=u.fillPath({color:Ne,seriesNumber:y,dataPointIndex:he}),Me=a.drawRect(pe,de,xe-pe,Se-de,r.config.plotOptions.treemap.borderRadius,"#fff",1,s.strokeWidth,r.config.plotOptions.treemap.useFillColorAsStroke?Ne:r.globals.stroke.colors[y]);Me.attr({cx:pe,cy:de,index:y,i:y,j:he,width:xe-pe,height:Se-de,fill:_e}),Me.node.classList.add("apexcharts-treemap-rect"),s.helpers.addListeners(Me);var qe={x:pe+(xe-pe)/2,y:de+(Se-de)/2,width:0,height:0},ze={x:pe,y:de,width:xe-pe,height:Se-de};if(r.config.chart.animations.enabled&&!r.globals.dataChanged){var $e=1;r.globals.resized||($e=r.config.chart.animations.speed),s.animateTreemap(Me,qe,ze,$e)}if(r.globals.dataChanged){var Ue=1;s.dynamicAnim.enabled&&r.globals.shouldAnimate&&(Ue=s.dynamicAnim.speed,r.globals.previousPaths[y]&&r.globals.previousPaths[y][he]&&r.globals.previousPaths[y][he].rect&&(qe=r.globals.previousPaths[y][he].rect),s.animateTreemap(Me,qe,ze,Ue))}var Pe=s.getFontSize(ie),Re=r.config.dataLabels.formatter(s.labels[y][he],{value:r.globals.series[y][he],seriesIndex:y,dataPointIndex:he,w:r});r.config.plotOptions.treemap.dataLabels.format==="truncate"&&(Pe=parseInt(r.config.dataLabels.style.fontSize,10),Re=s.truncateLabels(Re,Pe,pe,de,xe,Se));var De=null;r.globals.series[y][he]&&(De=s.helpers.calculateDataLabels({text:Re,x:(pe+xe)/2,y:(de+Se)/2+s.strokeWidth/2+Pe/3,i:y,j:he,colorProps:be,fontSize:Pe,series:t})),r.config.dataLabels.enabled&&De&&s.rotateToFitLabel(De,Pe,Re,pe,de,xe,Se),b.add(Me),De!==null&&b.add(De)});var R=r.config.plotOptions.treemap.seriesTitle;if(r.config.series.length>1&&R&&R.show){var E=r.config.series[y].name||"";if(E&&A.xMin<1/0&&A.yMin<1/0){var _=R.offsetX,T=R.offsetY,B=R.borderColor,z=R.borderWidth,W=R.borderRadius,L=R.style,U=L.color||r.config.chart.foreColor,I={left:L.padding.left,right:L.padding.right,top:L.padding.top,bottom:L.padding.bottom},q=a.getTextRects(E,L.fontSize,L.fontFamily),ee=q.width+I.left+I.right,te=q.height+I.top+I.bottom,ce=A.xMin+(_||0),re=A.yMin+(T||0),ae=a.drawRect(ce,re,ee,te,W,L.background,1,z,B),ue=a.drawText({x:ce+I.left,y:re+I.top+.75*q.height,text:E,fontSize:L.fontSize,fontFamily:L.fontFamily,fontWeight:L.fontWeight,foreColor:U,cssClass:L.cssClass||""});b.add(ae),b.add(ue)}}b.add(M),d.add(b)}),d}},{key:"getFontSize",value:function(t){var s=this.w,r=function a(u){var d,p=0;if(Array.isArray(u[0]))for(d=0;d<u.length;d++)p+=a(u[d]);else for(d=0;d<u.length;d++)p+=u[d].length;return p}(this.labels)/function a(u){var d,p=0;if(Array.isArray(u[0]))for(d=0;d<u.length;d++)p+=a(u[d]);else for(d=0;d<u.length;d++)p+=1;return p}(this.labels);return function(a,u){var d=a*u,p=Math.pow(d,.5);return Math.min(p/r,parseInt(s.config.dataLabels.style.fontSize,10))}(t[2]-t[0],t[3]-t[1])}},{key:"rotateToFitLabel",value:function(t,s,r,a,u,d,p){var m=new Dt(this.ctx),y=m.getTextRects(r,s);if(y.width+this.w.config.stroke.width+5>d-a&&y.width<=p-u){var b=m.rotateAroundCenter(t.node);t.node.setAttribute("transform","rotate(-90 ".concat(b.x," ").concat(b.y,") translate(").concat(y.height/3,")"))}}},{key:"truncateLabels",value:function(t,s,r,a,u,d){var p=new Dt(this.ctx),m=p.getTextRects(t,s).width+this.w.config.stroke.width+5>u-r&&d-a>u-r?d-a:u-r,y=p.getTextBasedOnMaxWidth({text:t,maxWidth:m,fontSize:s});return t.length!==y.length&&m/s<5?"":y}},{key:"animateTreemap",value:function(t,s,r,a){var u=new Bh(this.ctx);u.animateRect(t,s,r,a,function(){u.animationCompleted(t)})}}]),i}(),VE=86400,LU=10/VE,OU=function(){function i(t){ln(this,i),this.ctx=t,this.w=t.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return cn(i,[{key:"calculateTimeScaleTicks",value:function(t,s){var r=this,a=this.w;if(a.globals.allSeriesCollapsed)return a.globals.labels=[],a.globals.timescaleLabels=[],[];var u=new ir(this.ctx),d=(s-t)/864e5;this.determineInterval(d),a.globals.disableZoomIn=!1,a.globals.disableZoomOut=!1,d<LU?a.globals.disableZoomIn=!0:d>5e4&&(a.globals.disableZoomOut=!0);var p=u.getTimeUnitsfromTimestamp(t,s,this.utc),m=a.globals.gridWidth/d,y=m/24,b=y/60,S=b/60,M=Math.floor(24*d),A=Math.floor(1440*d),R=Math.floor(d*VE),E=Math.floor(d),_=Math.floor(d/30),T=Math.floor(d/365),B={minMillisecond:p.minMillisecond,minSecond:p.minSecond,minMinute:p.minMinute,minHour:p.minHour,minDate:p.minDate,minMonth:p.minMonth,minYear:p.minYear},z={firstVal:B,currentMillisecond:B.minMillisecond,currentSecond:B.minSecond,currentMinute:B.minMinute,currentHour:B.minHour,currentMonthDate:B.minDate,currentDate:B.minDate,currentMonth:B.minMonth,currentYear:B.minYear,daysWidthOnXAxis:m,hoursWidthOnXAxis:y,minutesWidthOnXAxis:b,secondsWidthOnXAxis:S,numberOfSeconds:R,numberOfMinutes:A,numberOfHours:M,numberOfDays:E,numberOfMonths:_,numberOfYears:T};switch(this.tickInterval){case"years":this.generateYearScale(z);break;case"months":case"half_year":this.generateMonthScale(z);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(z);break;case"hours":this.generateHourScale(z);break;case"minutes_fives":case"minutes":this.generateMinuteScale(z);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(z)}var W=this.timeScaleArray.map(function(L){var U={position:L.position,unit:L.unit,year:L.year,day:L.day?L.day:1,hour:L.hour?L.hour:0,month:L.month+1};return L.unit==="month"?Yt(Yt({},U),{},{day:1,value:L.value+1}):L.unit==="day"||L.unit==="hour"?Yt(Yt({},U),{},{value:L.value}):L.unit==="minute"?Yt(Yt({},U),{},{value:L.value,minute:L.value}):L.unit==="second"?Yt(Yt({},U),{},{value:L.value,minute:L.minute,second:L.second}):L});return W.filter(function(L){var U=1,I=Math.ceil(a.globals.gridWidth/120),q=L.value;a.config.xaxis.tickAmount!==void 0&&(I=a.config.xaxis.tickAmount),W.length>I&&(U=Math.floor(W.length/I));var ee=!1,te=!1;switch(r.tickInterval){case"years":L.unit==="year"&&(ee=!0);break;case"half_year":U=7,L.unit==="year"&&(ee=!0);break;case"months":U=1,L.unit==="year"&&(ee=!0);break;case"months_fortnight":U=15,L.unit!=="year"&&L.unit!=="month"||(ee=!0),q===30&&(te=!0);break;case"months_days":U=10,L.unit==="month"&&(ee=!0),q===30&&(te=!0);break;case"week_days":U=8,L.unit==="month"&&(ee=!0);break;case"days":U=1,L.unit==="month"&&(ee=!0);break;case"hours":L.unit==="day"&&(ee=!0);break;case"minutes_fives":case"seconds_fives":q%5!=0&&(te=!0);break;case"seconds_tens":q%10!=0&&(te=!0)}if(r.tickInterval==="hours"||r.tickInterval==="minutes_fives"||r.tickInterval==="seconds_tens"||r.tickInterval==="seconds_fives"){if(!te)return!0}else if((q%U==0||ee)&&!te)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(t,s){var r=this.w,a=this.formatDates(t),u=this.removeOverlappingTS(a);r.globals.timescaleLabels=u.slice(),new o0(this.ctx).plotCoords()}},{key:"determineInterval",value:function(t){var s=24*t,r=60*s;switch(!0){case t/365>5:this.tickInterval="years";break;case t>800:this.tickInterval="half_year";break;case t>180:this.tickInterval="months";break;case t>90:this.tickInterval="months_fortnight";break;case t>60:this.tickInterval="months_days";break;case t>30:this.tickInterval="week_days";break;case t>2:this.tickInterval="days";break;case s>2.4:this.tickInterval="hours";break;case r>15:this.tickInterval="minutes_fives";break;case r>5:this.tickInterval="minutes";break;case r>1:this.tickInterval="seconds_tens";break;case 60*r>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(t){var s=t.firstVal,r=t.currentMonth,a=t.currentYear,u=t.daysWidthOnXAxis,d=t.numberOfYears,p=s.minYear,m=0,y=new ir(this.ctx),b="year";if(s.minDate>1||s.minMonth>0){var S=y.determineRemainingDaysOfYear(s.minYear,s.minMonth,s.minDate);m=(y.determineDaysOfYear(s.minYear)-S+1)*u,p=s.minYear+1,this.timeScaleArray.push({position:m,value:p,unit:b,year:p,month:Ye.monthMod(r+1)})}else s.minDate===1&&s.minMonth===0&&this.timeScaleArray.push({position:m,value:p,unit:b,year:a,month:Ye.monthMod(r+1)});for(var M=p,A=m,R=0;R<d;R++)M++,A=y.determineDaysOfYear(M-1)*u+A,this.timeScaleArray.push({position:A,value:M,unit:b,year:M,month:1})}},{key:"generateMonthScale",value:function(t){var s=t.firstVal,r=t.currentMonthDate,a=t.currentMonth,u=t.currentYear,d=t.daysWidthOnXAxis,p=t.numberOfMonths,m=a,y=0,b=new ir(this.ctx),S="month",M=0;if(s.minDate>1){y=(b.determineDaysOfMonths(a+1,s.minYear)-r+1)*d,m=Ye.monthMod(a+1);var A=u+M,R=Ye.monthMod(m),E=m;m===0&&(S="year",E=A,R=1,A+=M+=1),this.timeScaleArray.push({position:y,value:E,unit:S,year:A,month:R})}else this.timeScaleArray.push({position:y,value:m,unit:S,year:u,month:Ye.monthMod(a)});for(var _=m+1,T=y,B=0,z=1;B<p;B++,z++){(_=Ye.monthMod(_))===0?(S="year",M+=1):S="month";var W=this._getYear(u,_,M);T=b.determineDaysOfMonths(_,W)*d+T;var L=_===0?W:_;this.timeScaleArray.push({position:T,value:L,unit:S,year:W,month:_===0?1:_}),_++}}},{key:"generateDayScale",value:function(t){var s=t.firstVal,r=t.currentMonth,a=t.currentYear,u=t.hoursWidthOnXAxis,d=t.numberOfDays,p=new ir(this.ctx),m="day",y=s.minDate+1,b=y,S=function(z,W,L){return z>p.determineDaysOfMonths(W+1,L)&&(b=1,m="month",A=W+=1),W},M=(24-s.minHour)*u,A=y,R=S(b,r,a);s.minHour===0&&s.minDate===1?(M=0,A=Ye.monthMod(s.minMonth),m="month",b=s.minDate):s.minDate!==1&&s.minHour===0&&s.minMinute===0&&(M=0,y=s.minDate,A=y,R=S(b=y,r,a),A!==1&&(m="day")),this.timeScaleArray.push({position:M,value:A,unit:m,year:this._getYear(a,R,0),month:Ye.monthMod(R),day:b});for(var E=M,_=0;_<d;_++){m="day",R=S(b+=1,R,this._getYear(a,R,0));var T=this._getYear(a,R,0);E=24*u+E;var B=b===1?Ye.monthMod(R):b;this.timeScaleArray.push({position:E,value:B,unit:m,year:T,month:Ye.monthMod(R),day:B})}}},{key:"generateHourScale",value:function(t){var s=t.firstVal,r=t.currentDate,a=t.currentMonth,u=t.currentYear,d=t.minutesWidthOnXAxis,p=t.numberOfHours,m=new ir(this.ctx),y="hour",b=function(U,I){return U>m.determineDaysOfMonths(I+1,u)&&(_=1,I+=1),{month:I,date:_}},S=function(U,I){return U>m.determineDaysOfMonths(I+1,u)?I+=1:I},M=60-(s.minMinute+s.minSecond/60),A=M*d,R=s.minHour+1,E=R;M===60&&(A=0,E=R=s.minHour);var _=r;E>=24&&(E=0,y="day",R=_+=1);var T=b(_,a).month;T=S(_,T),R>31&&(R=_=1),this.timeScaleArray.push({position:A,value:R,unit:y,day:_,hour:E,year:u,month:Ye.monthMod(T)}),E++;for(var B=A,z=0;z<p;z++){y="hour",E>=24&&(E=0,y="day",T=b(_+=1,T).month,T=S(_,T));var W=this._getYear(u,T,0);B=60*d+B;var L=E===0?_:E;this.timeScaleArray.push({position:B,value:L,unit:y,hour:E,day:_,year:W,month:Ye.monthMod(T)}),E++}}},{key:"generateMinuteScale",value:function(t){for(var s=t.currentMillisecond,r=t.currentSecond,a=t.currentMinute,u=t.currentHour,d=t.currentDate,p=t.currentMonth,m=t.currentYear,y=t.minutesWidthOnXAxis,b=t.secondsWidthOnXAxis,S=t.numberOfMinutes,M=a+1,A=d,R=p,E=m,_=u,T=(60-r-s/1e3)*b,B=0;B<S;B++)M>=60&&(M=0,(_+=1)===24&&(_=0)),this.timeScaleArray.push({position:T,value:M,unit:"minute",hour:_,minute:M,day:A,year:this._getYear(E,R,0),month:Ye.monthMod(R)}),T+=y,M++}},{key:"generateSecondScale",value:function(t){for(var s=t.currentMillisecond,r=t.currentSecond,a=t.currentMinute,u=t.currentHour,d=t.currentDate,p=t.currentMonth,m=t.currentYear,y=t.secondsWidthOnXAxis,b=t.numberOfSeconds,S=r+1,M=a,A=d,R=p,E=m,_=u,T=(1e3-s)/1e3*y,B=0;B<b;B++)S>=60&&(S=0,++M>=60&&(M=0,++_===24&&(_=0))),this.timeScaleArray.push({position:T,value:S,unit:"second",hour:_,minute:M,second:S,day:A,year:this._getYear(E,R,0),month:Ye.monthMod(R)}),T+=y,S++}},{key:"createRawDateString",value:function(t,s){var r=t.year;return t.month===0&&(t.month=1),r+="-"+("0"+t.month.toString()).slice(-2),t.unit==="day"?r+=t.unit==="day"?"-"+("0"+s).slice(-2):"-01":r+="-"+("0"+(t.day?t.day:"1")).slice(-2),t.unit==="hour"?r+=t.unit==="hour"?"T"+("0"+s).slice(-2):"T00":r+="T"+("0"+(t.hour?t.hour:"0")).slice(-2),t.unit==="minute"?r+=":"+("0"+s).slice(-2):r+=":"+(t.minute?("0"+t.minute).slice(-2):"00"),t.unit==="second"?r+=":"+("0"+s).slice(-2):r+=":00",this.utc&&(r+=".000Z"),r}},{key:"formatDates",value:function(t){var s=this,r=this.w;return t.map(function(a){var u=a.value.toString(),d=new ir(s.ctx),p=s.createRawDateString(a,u),m=d.getDate(d.parseDate(p));if(s.utc||(m=d.getDate(d.parseDateWithTimezone(p))),r.config.xaxis.labels.format===void 0){var y="dd MMM",b=r.config.xaxis.labels.datetimeFormatter;a.unit==="year"&&(y=b.year),a.unit==="month"&&(y=b.month),a.unit==="day"&&(y=b.day),a.unit==="hour"&&(y=b.hour),a.unit==="minute"&&(y=b.minute),a.unit==="second"&&(y=b.second),u=d.formatDate(m,y)}else u=d.formatDate(m,r.config.xaxis.labels.format);return{dateString:p,position:a.position,value:u,unit:a.unit,year:a.year,month:a.month}})}},{key:"removeOverlappingTS",value:function(t){var s,r=this,a=new Dt(this.ctx),u=!1;t.length>0&&t[0].value&&t.every(function(m){return m.value.length===t[0].value.length})&&(u=!0,s=a.getTextRects(t[0].value).width);var d=0,p=t.map(function(m,y){if(y>0&&r.w.config.xaxis.labels.hideOverlappingLabels){var b=u?s:a.getTextRects(t[d].value).width,S=t[d].position;return m.position>S+b+10?(d=y,m):null}return m});return p=p.filter(function(m){return m!==null})}},{key:"_getYear",value:function(t,s,r){return t+Math.floor(s/12)+r}}]),i}(),IU=function(){function i(t,s){ln(this,i),this.ctx=s,this.w=s.w,this.el=t}return cn(i,[{key:"setupElements",value:function(){var t=this.w,s=t.globals,r=t.config,a=r.chart.type;s.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].includes(a),s.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].includes(a),s.isBarHorizontal=["bar","rangeBar","boxPlot"].includes(a)&&r.plotOptions.bar.horizontal,s.chartClass=".apexcharts".concat(s.chartID),s.dom.baseEl=this.el,s.dom.elWrap=document.createElement("div"),Dt.setAttrs(s.dom.elWrap,{id:s.chartClass.substring(1),class:"apexcharts-canvas ".concat(s.chartClass.substring(1))}),this.el.appendChild(s.dom.elWrap),s.dom.Paper=window.SVG().addTo(s.dom.elWrap),s.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(r.chart.offsetX,", ").concat(r.chart.offsetY,")")}),s.dom.Paper.node.style.background=r.theme.mode!=="dark"||r.chart.background?r.theme.mode!=="light"||r.chart.background?r.chart.background:"#fff":"#343A3F",this.setSVGDimensions(),s.dom.elLegendForeign=document.createElementNS(s.SVGNS,"foreignObject"),Dt.setAttrs(s.dom.elLegendForeign,{x:0,y:0,width:s.svgWidth,height:s.svgHeight}),s.dom.elLegendWrap=document.createElement("div"),s.dom.elLegendWrap.classList.add("apexcharts-legend"),s.dom.elWrap.appendChild(s.dom.elLegendWrap),s.dom.Paper.node.appendChild(s.dom.elLegendForeign),s.dom.elGraphical=s.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),s.dom.elDefs=s.dom.Paper.defs(),s.dom.Paper.add(s.dom.elGraphical),s.dom.elGraphical.add(s.dom.elDefs)}},{key:"plotChartType",value:function(t,s){var r=this.w,a=this.ctx,u=r.config,d=r.globals,p={line:{series:[],i:[]},area:{series:[],i:[]},scatter:{series:[],i:[]},bubble:{series:[],i:[]},bar:{series:[],i:[]},candlestick:{series:[],i:[]},boxPlot:{series:[],i:[]},rangeBar:{series:[],i:[]},rangeArea:{series:[],seriesRangeEnd:[],i:[]}},m=u.chart.type||"line",y=null,b=0;d.series.forEach(function(U,I){var q,ee,te=((q=t[I])===null||q===void 0?void 0:q.type)==="column"?"bar":((ee=t[I])===null||ee===void 0?void 0:ee.type)||(m==="column"?"bar":m);p[te]?(te==="rangeArea"?(p[te].series.push(d.seriesRangeStart[I]),p[te].seriesRangeEnd.push(d.seriesRangeEnd[I])):p[te].series.push(U),p[te].i.push(I),te==="bar"&&(r.globals.columnSeries=p.bar)):["heatmap","treemap","pie","donut","polarArea","radialBar","radar"].includes(te)?y=te:console.warn("You have specified an unrecognized series type (".concat(te,").")),m!==te&&te!=="scatter"&&b++}),b>0&&(y&&console.warn("Chart or series type ".concat(y," cannot appear with other chart or series types.")),p.bar.series.length>0&&u.plotOptions.bar.horizontal&&(b-=p.bar.series.length,p.bar={series:[],i:[]},r.globals.columnSeries={series:[],i:[]},console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"))),d.comboCharts||(d.comboCharts=b>0);var S=new Vv(a,s),M=new zv(a,s);a.pie=new BE(a);var A=new MU(a);a.rangeBar=new TU(a,s);var R=new PU(a),E=[];if(d.comboCharts){var _,T,B=new ms(a);if(p.area.series.length>0&&(_=E).push.apply(_,Bs(B.drawSeriesByGroup(p.area,d.areaGroups,"area",S))),p.bar.series.length>0)if(u.chart.stacked){var z=new IM(a,s);E.push(z.draw(p.bar.series,p.bar.i))}else a.bar=new kh(a,s),E.push(a.bar.draw(p.bar.series,p.bar.i));if(p.rangeArea.series.length>0&&E.push(S.draw(p.rangeArea.series,"rangeArea",p.rangeArea.i,p.rangeArea.seriesRangeEnd)),p.line.series.length>0&&(T=E).push.apply(T,Bs(B.drawSeriesByGroup(p.line,d.lineGroups,"line",S))),p.candlestick.series.length>0&&E.push(M.draw(p.candlestick.series,"candlestick",p.candlestick.i)),p.boxPlot.series.length>0&&E.push(M.draw(p.boxPlot.series,"boxPlot",p.boxPlot.i)),p.rangeBar.series.length>0&&E.push(a.rangeBar.draw(p.rangeBar.series,p.rangeBar.i)),p.scatter.series.length>0){var W=new Vv(a,s,!0);E.push(W.draw(p.scatter.series,"scatter",p.scatter.i))}if(p.bubble.series.length>0){var L=new Vv(a,s,!0);E.push(L.draw(p.bubble.series,"bubble",p.bubble.i))}}else switch(u.chart.type){case"line":E=S.draw(d.series,"line");break;case"area":E=S.draw(d.series,"area");break;case"bar":u.chart.stacked?E=new IM(a,s).draw(d.series):(a.bar=new kh(a,s),E=a.bar.draw(d.series));break;case"candlestick":E=new zv(a,s).draw(d.series,"candlestick");break;case"boxPlot":E=new zv(a,s).draw(d.series,u.chart.type);break;case"rangeBar":E=a.rangeBar.draw(d.series);break;case"rangeArea":E=S.draw(d.seriesRangeStart,"rangeArea",void 0,d.seriesRangeEnd);break;case"heatmap":E=new kU(a,s).draw(d.series);break;case"treemap":E=new RU(a,s).draw(d.series);break;case"pie":case"donut":case"polarArea":E=a.pie.draw(d.series);break;case"radialBar":E=A.draw(d.series);break;case"radar":E=R.draw(d.series);break;default:E=S.draw(d.series)}return E}},{key:"setSVGDimensions",value:function(){var t=this.w,s=t.globals,r=t.config;r.chart.width=r.chart.width||"100%",r.chart.height=r.chart.height||"auto",s.svgWidth=r.chart.width,s.svgHeight=r.chart.height;var a=Ye.getDimensions(this.el),u=r.chart.width.toString().split(/[0-9]+/g).pop();u==="%"?Ye.isNumber(a[0])&&(a[0].width===0&&(a=Ye.getDimensions(this.el.parentNode)),s.svgWidth=a[0]*parseInt(r.chart.width,10)/100):u!=="px"&&u!==""||(s.svgWidth=parseInt(r.chart.width,10));var d=String(r.chart.height).toString().split(/[0-9]+/g).pop();if(s.svgHeight!=="auto"&&s.svgHeight!=="")if(d==="%"){var p=Ye.getDimensions(this.el.parentNode);s.svgHeight=p[1]*parseInt(r.chart.height,10)/100}else s.svgHeight=parseInt(r.chart.height,10);else s.svgHeight=s.axisCharts?s.svgWidth/1.61:s.svgWidth/1.2;if(s.svgWidth=Math.max(s.svgWidth,0),s.svgHeight=Math.max(s.svgHeight,0),Dt.setAttrs(s.dom.Paper.node,{width:s.svgWidth,height:s.svgHeight}),d!=="%"){var m=r.chart.sparkline.enabled?0:s.axisCharts?r.chart.parentHeightOffset:0;s.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(s.svgHeight+m,"px")}s.dom.elWrap.style.width="".concat(s.svgWidth,"px"),s.dom.elWrap.style.height="".concat(s.svgHeight,"px")}},{key:"shiftGraphPosition",value:function(){var t=this.w.globals,s=t.translateY,r=t.translateX;Dt.setAttrs(t.dom.elGraphical.node,{transform:"translate(".concat(r,", ").concat(s,")")})}},{key:"resizeNonAxisCharts",value:function(){var t=this.w,s=t.globals,r=0,a=t.config.chart.sparkline.enabled?1:15;a+=t.config.grid.padding.bottom,["top","bottom"].includes(t.config.legend.position)&&t.config.legend.show&&!t.config.legend.floating&&(r=new OE(this.ctx).legendHelpers.getLegendDimensions().clwh+7);var u=t.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),d=2.05*t.globals.radialSize;if(u&&!t.config.chart.sparkline.enabled&&t.config.plotOptions.radialBar.startAngle!==0){var p=Ye.getBoundingClientRect(u);d=p.bottom;var m=p.bottom-p.top;d=Math.max(2.05*t.globals.radialSize,m)}var y=Math.ceil(d+s.translateY+r+a);s.dom.elLegendForeign&&s.dom.elLegendForeign.setAttribute("height",y),t.config.chart.height&&String(t.config.chart.height).includes("%")||(s.dom.elWrap.style.height="".concat(y,"px"),Dt.setAttrs(s.dom.Paper.node,{height:y}),s.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(y,"px"))}},{key:"coreCalculations",value:function(){new qb(this.ctx).init()}},{key:"resetGlobals",value:function(){var t=this,s=function(){return t.w.config.series.map(function(){return[]})},r=new EE,a=this.w.globals,u={dataWasParsed:a.dataWasParsed,originalSeries:a.originalSeries};r.initGlobalVars(a),a.seriesXvalues=s(),a.seriesYvalues=s(),u.dataWasParsed&&(a.dataWasParsed=u.dataWasParsed,a.originalSeries=u.originalSeries)}},{key:"isMultipleY",value:function(){return!!(Array.isArray(this.w.config.yaxis)&&this.w.config.yaxis.length>1)&&(this.w.globals.isMultipleYAxis=!0,!0)}},{key:"xySettings",value:function(){var t=this.w,s=null;if(t.globals.axisCharts){if(t.config.xaxis.crosshairs.position==="back"&&new Kb(this.ctx).drawXCrosshairs(),t.config.yaxis[0].crosshairs.position==="back"&&new Kb(this.ctx).drawYCrosshairs(),t.config.xaxis.type==="datetime"&&t.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new OU(this.ctx);var r=[];isFinite(t.globals.minX)&&isFinite(t.globals.maxX)&&!t.globals.isBarHorizontal?r=this.ctx.timeScale.calculateTimeScaleTicks(t.globals.minX,t.globals.maxX):t.globals.isBarHorizontal&&(r=this.ctx.timeScale.calculateTimeScaleTicks(t.globals.minY,t.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(r)}s=new ms(this.ctx).getCalculatedRatios()}return s}},{key:"updateSourceChart",value:function(t){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:t.w.globals.minX,max:t.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var t=this,s=this.ctx,r=this.w;if(r.config.chart.brush.enabled&&typeof r.config.chart.events.selection!="function"){var a=Array.isArray(r.config.chart.brush.targets)?r.config.chart.brush.targets:[r.config.chart.brush.target];a.forEach(function(u){var d=s.constructor.getChartByID(u);d.w.globals.brushSource=t.ctx,typeof d.w.config.chart.events.zoomed!="function"&&(d.w.config.chart.events.zoomed=function(){return t.updateSourceChart(d)}),typeof d.w.config.chart.events.scrolled!="function"&&(d.w.config.chart.events.scrolled=function(){return t.updateSourceChart(d)})}),r.config.chart.events.selection=function(u,d){a.forEach(function(p){s.constructor.getChartByID(p).ctx.updateHelpers._updateOptions({xaxis:{min:d.xaxis.min,max:d.xaxis.max}},!1,!1,!1,!1)})}}}}]),i}(),FU=function(){function i(t){ln(this,i),this.ctx=t,this.w=t.w}return cn(i,[{key:"_updateOptions",value:function(t){var s=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1],a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],u=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],d=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise(function(p){var m=[s.ctx];u&&(m=s.ctx.getSyncedCharts()),s.ctx.w.globals.isExecCalled&&(m=[s.ctx],s.ctx.w.globals.isExecCalled=!1),m.forEach(function(y,b){var S=y.w;if(S.globals.shouldAnimate=a,r||(S.globals.resized=!0,S.globals.dataChanged=!0,a&&y.series.getPreviousPaths()),t&&kr(t)==="object"&&(y.config=new rp(t),t=ms.extendArrayProps(y.config,t,S),y.w.globals.chartID!==s.ctx.w.globals.chartID&&delete t.series,S.config=Ye.extend(S.config,t),d&&(S.globals.lastXAxis=t.xaxis?Ye.clone(t.xaxis):[],S.globals.lastYAxis=t.yaxis?Ye.clone(t.yaxis):[],S.globals.initialConfig=Ye.extend({},S.config),S.globals.initialSeries=Ye.clone(S.config.series),t.series))){for(var M=0;M<S.globals.collapsedSeriesIndices.length;M++){var A=S.config.series[S.globals.collapsedSeriesIndices[M]];S.globals.collapsedSeries[M].data=S.globals.axisCharts?A.data.slice():A}for(var R=0;R<S.globals.ancillaryCollapsedSeriesIndices.length;R++){var E=S.config.series[S.globals.ancillaryCollapsedSeriesIndices[R]];S.globals.ancillaryCollapsedSeries[R].data=S.globals.axisCharts?E.data.slice():E}y.series.emptyCollapsedSeries(S.config.series)}return y.update(t).then(function(){b===m.length-1&&p(y)})})})}},{key:"_updateSeries",value:function(t,s){var r=this,a=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise(function(u){var d,p=r.w;return p.globals.shouldAnimate=s,p.globals.dataChanged=!0,s&&r.ctx.series.getPreviousPaths(),p.globals.axisCharts?((d=t.map(function(m,y){return r._extendSeries(m,y)})).length===0&&(d=[{data:[]}]),p.config.series=d):p.config.series=t.slice(),a&&(p.globals.initialConfig.series=Ye.clone(p.config.series),p.globals.initialSeries=Ye.clone(p.config.series)),r.ctx.update().then(function(){u(r.ctx)})})}},{key:"_extendSeries",value:function(t,s){var r=this.w,a=r.config.series[s];return Yt(Yt({},r.config.series[s]),{},{name:t.name?t.name:a?.name,color:t.color?t.color:a?.color,type:t.type?t.type:a?.type,group:t.group?t.group:a?.group,hidden:t.hidden!==void 0?t.hidden:a?.hidden,data:t.data?t.data:a?.data,zIndex:t.zIndex!==void 0?t.zIndex:s})}},{key:"toggleDataPointSelection",value:function(t,s){var r=this.w,a=null,u=".apexcharts-series[data\\:realIndex='".concat(t,"']");return r.globals.axisCharts?a=r.globals.dom.Paper.findOne("".concat(u," path[j='").concat(s,"'], ").concat(u," circle[j='").concat(s,"'], ").concat(u," rect[j='").concat(s,"']")):s===void 0&&(a=r.globals.dom.Paper.findOne("".concat(u," path[j='").concat(t,"']")),r.config.chart.type!=="pie"&&r.config.chart.type!=="polarArea"&&r.config.chart.type!=="donut"||this.ctx.pie.pieClicked(t)),a?(new Dt(this.ctx).pathMouseDown(a,null),a.node?a.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(t){var s=this.w;if(["min","max"].forEach(function(a){t.xaxis[a]!==void 0&&(s.config.xaxis[a]=t.xaxis[a],s.globals.lastXAxis[a]=t.xaxis[a])}),t.xaxis.categories&&t.xaxis.categories.length&&(s.config.xaxis.categories=t.xaxis.categories),s.config.xaxis.convertedCatToNumeric){var r=new sp(t);t=r.convertCatToNumericXaxis(t,this.ctx)}return t}},{key:"forceYAxisUpdate",value:function(t){return t.chart&&t.chart.stacked&&t.chart.stackType==="100%"&&(Array.isArray(t.yaxis)?t.yaxis.forEach(function(s,r){t.yaxis[r].min=0,t.yaxis[r].max=100}):(t.yaxis.min=0,t.yaxis.max=100)),t}},{key:"resetParsingFlags",value:function(){var t=this.w.globals;t.dataWasParsed=!1,t.originalSeries=null,this.w.config.series&&this.w.config.series.forEach(function(s){s.__apexParsed&&delete s.__apexParsed})}},{key:"revertDefaultAxisMinMax",value:function(t){var s=this,r=this.w,a=r.globals.lastXAxis,u=r.globals.lastYAxis;t&&t.xaxis&&(a=t.xaxis),t&&t.yaxis&&(u=t.yaxis),r.config.xaxis.min=a.min,r.config.xaxis.max=a.max;var d=function(p){u[p]!==void 0&&(r.config.yaxis[p].min=u[p].min,r.config.yaxis[p].max=u[p].max)};r.config.yaxis.map(function(p,m){r.globals.zoomed||u[m]!==void 0?d(m):s.ctx.opts.yaxis[m]!==void 0&&(p.min=s.ctx.opts.yaxis[m].min,p.max=s.ctx.opts.yaxis[m].max)})}}]),i}();(function(){function i(){for(var u=arguments.length>0&&arguments[0]!==S?arguments[0]:[],d=arguments.length>1?arguments[1]:S,p=arguments.length>2?arguments[2]:S,m=arguments.length>3?arguments[3]:S,y=arguments.length>4?arguments[4]:S,b=arguments.length>5?arguments[5]:S,S=arguments.length>6?arguments[6]:S,M=u.slice(d,p||S),A=m.slice(y,b||S),R=0,E={pos:[0,0],start:[0,0]},_={pos:[0,0],start:[0,0]};M[R]=t.call(E,M[R]),A[R]=t.call(_,A[R]),M[R][0]!=A[R][0]||M[R][0]=="M"||M[R][0]=="A"&&(M[R][4]!=A[R][4]||M[R][5]!=A[R][5])?(Array.prototype.splice.apply(M,[R,1].concat(r.call(E,M[R]))),Array.prototype.splice.apply(A,[R,1].concat(r.call(_,A[R])))):(M[R]=s.call(E,M[R]),A[R]=s.call(_,A[R])),!(++R==M.length&&R==A.length);)R==M.length&&M.push(["C",E.pos[0],E.pos[1],E.pos[0],E.pos[1],E.pos[0],E.pos[1]]),R==A.length&&A.push(["C",_.pos[0],_.pos[1],_.pos[0],_.pos[1],_.pos[0],_.pos[1]]);return{start:M,dest:A}}function t(u){switch(u[0]){case"z":case"Z":u[0]="L",u[1]=this.start[0],u[2]=this.start[1];break;case"H":u[0]="L",u[2]=this.pos[1];break;case"V":u[0]="L",u[2]=u[1],u[1]=this.pos[0];break;case"T":u[0]="Q",u[3]=u[1],u[4]=u[2],u[1]=this.reflection[1],u[2]=this.reflection[0];break;case"S":u[0]="C",u[6]=u[4],u[5]=u[3],u[4]=u[2],u[3]=u[1],u[2]=this.reflection[1],u[1]=this.reflection[0]}return u}function s(u){var d=u.length;return this.pos=[u[d-2],u[d-1]],"SCQT".indexOf(u[0])!=-1&&(this.reflection=[2*this.pos[0]-u[d-4],2*this.pos[1]-u[d-3]]),u}function r(u){var d=[u];switch(u[0]){case"M":return this.pos=this.start=[u[1],u[2]],d;case"L":u[5]=u[3]=u[1],u[6]=u[4]=u[2],u[1]=this.pos[0],u[2]=this.pos[1];break;case"Q":u[6]=u[4],u[5]=u[3],u[4]=1*u[4]/3+2*u[2]/3,u[3]=1*u[3]/3+2*u[1]/3,u[2]=1*this.pos[1]/3+2*u[2]/3,u[1]=1*this.pos[0]/3+2*u[1]/3;break;case"A":d=function(p,m){var y,b,S,M,A,R,E,_,T,B,z,W,L,U,I,q,ee,te,ce,re,ae,ue,ie,he,pe,de,xe=Math.abs(m[1]),Se=Math.abs(m[2]),be=m[3]%360,Ne=m[4],_e=m[5],Me=m[6],qe=m[7],ze=new Mi(p),$e=new Mi(Me,qe),Ue=[];if(xe===0||Se===0||ze.x===$e.x&&ze.y===$e.y)return[["C",ze.x,ze.y,$e.x,$e.y,$e.x,$e.y]];for(y=new Mi((ze.x-$e.x)/2,(ze.y-$e.y)/2).transform(new En().rotate(be)),b=y.x*y.x/(xe*xe)+y.y*y.y/(Se*Se),b>1&&(xe*=b=Math.sqrt(b),Se*=b),S=new En().rotate(be).scale(1/xe,1/Se).rotate(-be),ze=ze.transform(S),$e=$e.transform(S),M=[$e.x-ze.x,$e.y-ze.y],R=M[0]*M[0]+M[1]*M[1],A=Math.sqrt(R),M[0]/=A,M[1]/=A,E=R<4?Math.sqrt(1-R/4):0,Ne===_e&&(E*=-1),_=new Mi(($e.x+ze.x)/2+E*-M[1],($e.y+ze.y)/2+E*M[0]),T=new Mi(ze.x-_.x,ze.y-_.y),B=new Mi($e.x-_.x,$e.y-_.y),z=Math.acos(T.x/Math.sqrt(T.x*T.x+T.y*T.y)),T.y<0&&(z*=-1),W=Math.acos(B.x/Math.sqrt(B.x*B.x+B.y*B.y)),B.y<0&&(W*=-1),_e&&z>W&&(W+=2*Math.PI),!_e&&z<W&&(W-=2*Math.PI),U=Math.ceil(2*Math.abs(z-W)/Math.PI),q=[],ee=z,L=(W-z)/U,I=4*Math.tan(L/4)/3,ae=0;ae<=U;ae++)ce=Math.cos(ee),te=Math.sin(ee),re=new Mi(_.x+ce,_.y+te),q[ae]=[new Mi(re.x+I*te,re.y-I*ce),re,new Mi(re.x-I*te,re.y+I*ce)],ee+=L;for(q[0][0]=q[0][1].clone(),q[q.length-1][2]=q[q.length-1][1].clone(),S=new En().rotate(be).scale(xe,Se).rotate(-be),ae=0,ue=q.length;ae<ue;ae++)q[ae][0]=q[ae][0].transform(S),q[ae][1]=q[ae][1].transform(S),q[ae][2]=q[ae][2].transform(S);for(ae=1,ue=q.length;ae<ue;ae++)ie=(re=q[ae-1][2]).x,he=re.y,pe=(re=q[ae][0]).x,de=re.y,Me=(re=q[ae][1]).x,qe=re.y,Ue.push(["C",ie,he,pe,de,Me,qe]);return Ue}(this.pos,u),u=d[0]}return u[0]="C",this.pos=[u[5],u[6]],this.reflection=[2*u[5]-u[3],2*u[6]-u[4]],d}function a(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],d=arguments.length>1?arguments[1]:void 0;if(d===!1)return!1;for(var p=d,m=u.length;p<m;++p)if(u[p][0]=="M")return p;return!1}Fn(ta,{morph:function(u,d,p,m,y){for(var b=this.parse(u),S=this.parse(d),M=0,A=0,R=!1,E=!1;M!==!1||A!==!1;){var _;R=a(b,M!==!1&&M+1),E=a(S,A!==!1&&A+1),M===!1&&(M=(_=new ta(T.start).bbox()).height==0||_.width==0?b.push(b[0])-1:b.push(["M",_.x+_.width/2,_.y+_.height/2])-1),A===!1&&(A=(_=new ta(T.dest).bbox()).height==0||_.width==0?S.push(S[0])-1:S.push(["M",_.x+_.width/2,_.y+_.height/2])-1);var T=i(b,M,R,S,A,E);b=b.slice(0,M).concat(T.start,R===!1?[]:b.slice(R)),S=S.slice(0,A).concat(T.dest,E===!1?[]:S.slice(E)),M=R!==!1&&M+T.start.length,A=E!==!1&&A+T.dest.length}this._array=b,this.destination=new ta,this.destination._array=S;var B=this.fromArray(b.map(function(z,W){var L=S[W].map(function(U,I){return I===0?U:m.step(z[I],S[W][I],p,y[W],y)});return L}));return B}})})();const FM=i=>(i.changedTouches&&(i=i.changedTouches[0]),{x:i.clientX,y:i.clientY});class jU{constructor(t){t.remember("_draggable",this),this.el=t,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}init(t){t?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag,{passive:!1})):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}startDrag(t){const s=!t.type.indexOf("mouse");if(s&&t.which!==1&&t.buttons!==0||this.el.dispatch("beforedrag",{event:t,handler:this}).defaultPrevented)return;t.preventDefault(),t.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point(FM(t));const r=(s?"mouseup":"touchend")+".drag";Ka(window,(s?"mousemove":"touchmove")+".drag",this.drag,this,{passive:!1}),Ka(window,r,this.endDrag,this,{passive:!1}),this.el.fire("dragstart",{event:t,handler:this,box:this.box})}drag(t){const{box:s,lastClick:r}=this,a=this.el.point(FM(t)),u=a.x-r.x,d=a.y-r.y;if(!u&&!d)return s;const p=s.x+u,m=s.y+d;this.box=new gs(p,m,s.w,s.h),this.lastClick=a,this.el.dispatch("dragmove",{event:t,handler:this,box:this.box}).defaultPrevented||this.move(p,m)}move(t,s){this.el.type==="svg"?Hl.prototype.move.call(this.el,t,s):this.el.move(t,s)}endDrag(t){this.drag(t),this.el.fire("dragend",{event:t,handler:this,box:this.box}),zo(window,"mousemove.drag"),zo(window,"touchmove.drag"),zo(window,"mouseup.drag"),zo(window,"touchend.drag"),this.init(!0)}}/*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function Zb(i,t,s,r=null){return function(a){a.preventDefault(),a.stopPropagation();var u=a.pageX||a.touches[0].pageX,d=a.pageY||a.touches[0].pageY;t.fire(i,{x:u,y:d,event:a,index:r,points:s})}}function Jb([i,t],{a:s,b:r,c:a,d:u,e:d,f:p}){return[i*s+t*a+d,i*r+t*u+p]}Fn(rr,{draggable(i=!0){return(this.remember("_draggable")||new jU(this)).init(i),this}});let HE=class{constructor(i){this.el=i,i.remember("_selectHandler",this),this.selection=new Hl,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const t=Mp();this.observer=new t.MutationObserver(this.mutationHandler)}init(i){this.createHandle=i.createHandle||this.createHandleFn,this.createRot=i.createRot||this.createRotFn,this.updateHandle=i.updateHandle||this.updateHandleFn,this.updateRot=i.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(i,t){if(!i)return this.selection.clear().remove(),void this.observer.disconnect();this.init(t)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((i,t,s)=>{const r=this.order[t];this.createHandle.call(this,this.selection,i,t,s,r),this.selection.get(t+1).addClass("svg_select_handle svg_select_handle_"+r).on("mousedown.selection touchstart.selection",Zb(r,this.el,this.handlePoints,t))})}createHandleFn(i){i.polyline()}updateHandleFn(i,t,s,r){const a=r.at(s-1),u=r[(s+1)%r.length],d=t,p=[d[0]-a[0],d[1]-a[1]],m=[d[0]-u[0],d[1]-u[1]],y=Math.sqrt(p[0]*p[0]+p[1]*p[1]),b=Math.sqrt(m[0]*m[0]+m[1]*m[1]),S=[p[0]/y,p[1]/y],M=[m[0]/b,m[1]/b],A=[d[0]-10*S[0],d[1]-10*S[1]],R=[d[0]-10*M[0],d[1]-10*M[1]];i.plot([A,d,R])}updateResizeHandles(){this.handlePoints.forEach((i,t,s)=>{const r=this.order[t];this.updateHandle.call(this,this.selection.get(t+1),i,t,s,r)})}createRotFn(i){i.line(),i.circle(5)}getPoint(i){return this.handlePoints[this.order.indexOf(i)]}getPointHandle(i){return this.selection.get(this.order.indexOf(i)+1)}updateRotFn(i,t){const s=this.getPoint("t");i.get(0).plot(s[0],s[1],t[0],t[1]),i.get(1).center(t[0],t[1])}createRotationHandle(){const i=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",Zb("rot",this.el,this.handlePoints));this.createRot.call(this,i)}updateRotationHandle(){const i=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(i,this.rotationPoint,this.handlePoints)}updatePoints(){const i=this.el.bbox(),t=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(i).map(s=>Jb(s,t)),this.rotationPoint=Jb(this.getRotationPoint(i),t)}getHandlePoints({x:i,x2:t,y:s,y2:r,cx:a,cy:u}=this.el.bbox()){return[[i,s],[a,s],[t,s],[t,u],[t,r],[a,r],[i,r],[i,u]]}getRotationPoint({y:i,cx:t}=this.el.bbox()){return[t,i-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}};const jM=i=>function(t=!0,s={}){typeof t=="object"&&(s=t,t=!0);let r=this.remember("_"+i.name);return r||(t.prototype instanceof HE?(r=new t(this),t=!0):r=new i(this),this.remember("_"+i.name,r)),r.active(t,s),this};/*!
* @svgdotjs/svg.resize.js - An extension for svg.js which allows to resize elements which are selected
* @version 2.0.4
* https://github.com/svgdotjs/svg.resize.js
*
* @copyright [object Object]
* @license MIT
*
* BUILT: Fri Sep 13 2024 12:43:14 GMT+0200 (Central European Summer Time)
*//*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function Qb(i,t,s,r=null){return function(a){a.preventDefault(),a.stopPropagation();var u=a.pageX||a.touches[0].pageX,d=a.pageY||a.touches[0].pageY;t.fire(i,{x:u,y:d,event:a,index:r,points:s})}}function e1([i,t],{a:s,b:r,c:a,d:u,e:d,f:p}){return[i*s+t*a+d,i*r+t*u+p]}Fn(rr,{select:jM(HE)}),Fn([Oc,Ic,Lc],{pointSelect:jM(class{constructor(i){this.el=i,i.remember("_pointSelectHandler",this),this.selection=new Hl,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const t=Mp();this.observer=new t.MutationObserver(this.mutationHandler)}init(i){this.createHandle=i.createHandle||this.createHandleFn,this.updateHandle=i.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(i,t){if(!i)return this.selection.clear().remove(),void this.observer.disconnect();this.init(t)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((i,t,s)=>{this.createHandle.call(this,this.selection,i,t,s),this.selection.get(t+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",Zb("point",this.el,this.points,t))})}createHandleFn(i){i.circle(5)}updateHandleFn(i,t){i.center(t[0],t[1])}updatePointHandles(){this.points.forEach((i,t,s)=>{this.updateHandle.call(this,this.selection.get(t+1),i,t,s)})}updatePoints(){const i=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(t=>Jb(t,i))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});class WE{constructor(t){this.el=t,t.remember("_selectHandler",this),this.selection=new Hl,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const s=Mp();this.observer=new s.MutationObserver(this.mutationHandler)}init(t){this.createHandle=t.createHandle||this.createHandleFn,this.createRot=t.createRot||this.createRotFn,this.updateHandle=t.updateHandle||this.updateHandleFn,this.updateRot=t.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(t,s){if(!t)return this.selection.clear().remove(),void this.observer.disconnect();this.init(s)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((t,s,r)=>{const a=this.order[s];this.createHandle.call(this,this.selection,t,s,r,a),this.selection.get(s+1).addClass("svg_select_handle svg_select_handle_"+a).on("mousedown.selection touchstart.selection",Qb(a,this.el,this.handlePoints,s))})}createHandleFn(t){t.polyline()}updateHandleFn(t,s,r,a){const u=a.at(r-1),d=a[(r+1)%a.length],p=s,m=[p[0]-u[0],p[1]-u[1]],y=[p[0]-d[0],p[1]-d[1]],b=Math.sqrt(m[0]*m[0]+m[1]*m[1]),S=Math.sqrt(y[0]*y[0]+y[1]*y[1]),M=[m[0]/b,m[1]/b],A=[y[0]/S,y[1]/S],R=[p[0]-10*M[0],p[1]-10*M[1]],E=[p[0]-10*A[0],p[1]-10*A[1]];t.plot([R,p,E])}updateResizeHandles(){this.handlePoints.forEach((t,s,r)=>{const a=this.order[s];this.updateHandle.call(this,this.selection.get(s+1),t,s,r,a)})}createRotFn(t){t.line(),t.circle(5)}getPoint(t){return this.handlePoints[this.order.indexOf(t)]}getPointHandle(t){return this.selection.get(this.order.indexOf(t)+1)}updateRotFn(t,s){const r=this.getPoint("t");t.get(0).plot(r[0],r[1],s[0],s[1]),t.get(1).center(s[0],s[1])}createRotationHandle(){const t=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",Qb("rot",this.el,this.handlePoints));this.createRot.call(this,t)}updateRotationHandle(){const t=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(t,this.rotationPoint,this.handlePoints)}updatePoints(){const t=this.el.bbox(),s=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(t).map(r=>e1(r,s)),this.rotationPoint=e1(this.getRotationPoint(t),s)}getHandlePoints({x:t,x2:s,y:r,y2:a,cx:u,cy:d}=this.el.bbox()){return[[t,r],[u,r],[s,r],[s,d],[s,a],[u,a],[t,a],[t,d]]}getRotationPoint({y:t,cx:s}=this.el.bbox()){return[s,t-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}}const _M=i=>function(t=!0,s={}){typeof t=="object"&&(s=t,t=!0);let r=this.remember("_"+i.name);return r||(t.prototype instanceof WE?(r=new t(this),t=!0):r=new i(this),this.remember("_"+i.name,r)),r.active(t,s),this};Fn(rr,{select:_M(WE)}),Fn([Oc,Ic,Lc],{pointSelect:_M(class{constructor(i){this.el=i,i.remember("_pointSelectHandler",this),this.selection=new Hl,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const t=Mp();this.observer=new t.MutationObserver(this.mutationHandler)}init(i){this.createHandle=i.createHandle||this.createHandleFn,this.updateHandle=i.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(i,t){if(!i)return this.selection.clear().remove(),void this.observer.disconnect();this.init(t)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((i,t,s)=>{this.createHandle.call(this,this.selection,i,t,s),this.selection.get(t+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",Qb("point",this.el,this.points,t))})}createHandleFn(i){i.circle(5)}updateHandleFn(i,t){i.center(t[0],t[1])}updatePointHandles(){this.points.forEach((i,t,s)=>{this.updateHandle.call(this,this.selection.get(t+1),i,t,s)})}updatePoints(){const i=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(t=>e1(t,i))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});const Jg=i=>(i.changedTouches&&(i=i.changedTouches[0]),{x:i.clientX,y:i.clientY}),zM=i=>{let t=1/0,s=1/0,r=-1/0,a=-1/0;for(let u=0;u<i.length;u++){const d=i[u];t=Math.min(t,d[0]),s=Math.min(s,d[1]),r=Math.max(r,d[0]),a=Math.max(a,d[1])}return new gs(t,s,r-t,a-s)};class BM{constructor(t){this.el=t,t.remember("_ResizeHandler",this),this.lastCoordinates=null,this.eventType="",this.lastEvent=null,this.handleResize=this.handleResize.bind(this),this.resize=this.resize.bind(this),this.endResize=this.endResize.bind(this),this.rotate=this.rotate.bind(this),this.movePoint=this.movePoint.bind(this)}active(t,s){this.preserveAspectRatio=s.preserveAspectRatio??!1,this.aroundCenter=s.aroundCenter??!1,this.grid=s.grid??0,this.degree=s.degree??0,this.el.off(".resize"),t&&(this.el.on(["lt.resize","rt.resize","rb.resize","lb.resize","t.resize","r.resize","b.resize","l.resize","rot.resize","point.resize"],this.handleResize),this.lastEvent&&(this.eventType==="rot"?this.rotate(this.lastEvent):this.eventType==="point"?this.movePoint(this.lastEvent):this.resize(this.lastEvent)))}handleResize(t){this.eventType=t.type;const{event:s,index:r,points:a}=t.detail,u=!s.type.indexOf("mouse");if(u&&(s.which||s.buttons)!==1||this.el.dispatch("beforeresize",{event:t,handler:this}).defaultPrevented)return;this.box=this.el.bbox(),this.startPoint=this.el.point(Jg(s)),this.index=r,this.points=a.slice();const d=(u?"mousemove":"touchmove")+".resize",p=(u?"mouseup":"touchcancel.resize touchend")+".resize";t.type==="point"?Ka(window,d,this.movePoint):t.type==="rot"?Ka(window,d,this.rotate):Ka(window,d,this.resize),Ka(window,p,this.endResize)}resize(t){this.lastEvent=t;const s=this.snapToGrid(this.el.point(Jg(t)));let r=s.x-this.startPoint.x,a=s.y-this.startPoint.y;this.preserveAspectRatio&&this.aroundCenter&&(r*=2,a*=2);const u=this.box.x+r,d=this.box.y+a,p=this.box.x2+r,m=this.box.y2+a;let y=new gs(this.box);if(this.eventType.includes("l")&&(y.x=Math.min(u,this.box.x2),y.x2=Math.max(u,this.box.x2)),this.eventType.includes("r")&&(y.x=Math.min(p,this.box.x),y.x2=Math.max(p,this.box.x)),this.eventType.includes("t")&&(y.y=Math.min(d,this.box.y2),y.y2=Math.max(d,this.box.y2)),this.eventType.includes("b")&&(y.y=Math.min(m,this.box.y),y.y2=Math.max(m,this.box.y)),y.width=y.x2-y.x,y.height=y.y2-y.y,this.preserveAspectRatio){const b=y.width/this.box.width,S=y.height/this.box.height,M=["lt","t","rt","r","rb","b","lb","l"],A=(M.indexOf(this.eventType)+4)%M.length,R=this.aroundCenter?[this.box.cx,this.box.cy]:this.points[A];let E=this.eventType.includes("t")||this.eventType.includes("b")?S:b;E=this.eventType.length===2?Math.max(b,S):E,y=function(_,T,B){const z=[[_.x,_.y],[_.x+_.width,_.y],[_.x+_.width,_.y+_.height],[_.x,_.y+_.height]].map(([W,L])=>{const U=W-T[0],I=(L-T[1])*B;return[U*B+T[0],I+T[1]]});return zM(z)}(this.box,R,E)}this.el.dispatch("resize",{box:new gs(y),angle:0,eventType:this.eventType,event:t,handler:this}).defaultPrevented||this.el.size(y.width,y.height).move(y.x,y.y)}movePoint(t){this.lastEvent=t;const{x:s,y:r}=this.snapToGrid(this.el.point(Jg(t))),a=this.el.array().slice();a[this.index]=[s,r],this.el.dispatch("resize",{box:zM(a),angle:0,eventType:this.eventType,event:t,handler:this}).defaultPrevented||this.el.plot(a)}rotate(t){this.lastEvent=t;const s=this.startPoint,r=this.el.point(Jg(t)),{cx:a,cy:u}=this.box,d=s.x-a,p=s.y-u,m=r.x-a,y=r.y-u,b=Math.sqrt(d*d+p*p)*Math.sqrt(m*m+y*y);if(b===0)return;let S=Math.acos((d*m+p*y)/b)/Math.PI*180;if(!S)return;r.x<s.x&&(S=-S);const M=new En(this.el),{x:A,y:R}=new Mi(a,u).transformO(M),{rotate:E}=M.decompose(),_=this.snapToAngle(E+S)-E;this.el.dispatch("resize",{box:this.box,angle:_,eventType:this.eventType,event:t,handler:this}).defaultPrevented||this.el.transform(M.rotateO(_,A,R))}endResize(t){this.eventType!=="rot"&&this.eventType!=="point"&&this.resize(t),this.lastEvent=null,this.eventType="",zo(window,"mousemove.resize touchmove.resize"),zo(window,"mouseup.resize touchend.resize")}snapToGrid(t){return this.grid&&(t.x=Math.round(t.x/this.grid)*this.grid,t.y=Math.round(t.y/this.grid)*this.grid),t}snapToAngle(t){return this.degree&&(t=Math.round(t/this.degree)*this.degree),t}}Fn(rr,{resize:function(i=!0,t={}){typeof i=="object"&&(t=i,i=!0);let s=this.remember("_ResizeHandler");return s||(i.prototype instanceof BM?(s=new i(this),i=!0):s=new BM(this),this.remember("_resizeHandler",s)),s.active(i,t),this}}),window.SVG===void 0&&(window.SVG=J3),window.Apex===void 0&&(window.Apex={});var VM=function(){function i(t){ln(this,i),this.ctx=t,this.w=t.w}return cn(i,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","highlightSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new Bh(this.ctx),this.ctx.axes=new lU(this.ctx),this.ctx.core=new IU(this.ctx.el,this.ctx),this.ctx.config=new rp({}),this.ctx.data=new Mw(this.ctx),this.ctx.grid=new RE(this.ctx),this.ctx.graphics=new Dt(this.ctx),this.ctx.coreUtils=new ms(this.ctx),this.ctx.crosshairs=new Kb(this.ctx),this.ctx.events=new oU(this.ctx),this.ctx.exports=new jf(this.ctx),this.ctx.fill=new sa(this.ctx),this.ctx.localization=new aU(this.ctx),this.ctx.options=new Dc,this.ctx.responsive=new cU(this.ctx),this.ctx.series=new Vo(this.ctx),this.ctx.theme=new uU(this.ctx),this.ctx.formatters=new Dp(this.ctx),this.ctx.titleSubtitle=new hU(this.ctx),this.ctx.legend=new OE(this.ctx),this.ctx.toolbar=new IE(this.ctx),this.ctx.tooltip=new OM(this.ctx),this.ctx.dimensions=new o0(this.ctx),this.ctx.updateHelpers=new FU(this.ctx),this.ctx.zoomPanSelection=new yU(this.ctx),this.ctx.w.globals.tooltip=new OM(this.ctx)}}]),i}(),HM=function(){function i(t){ln(this,i),this.ctx=t,this.w=t.w}return cn(i,[{key:"clear",value:function(t){var s=t.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:s})}},{key:"killSVG",value:function(t){t.each(function(){this.removeClass("*"),this.off()},!0),t.clear()}},{key:"clearDomElements",value:function(t){var s=this,r=t.isUpdating,a=this.w.globals.dom.Paper.node;a.parentNode&&a.parentNode.parentNode&&!r&&(a.parentNode.parentNode.style.minHeight="unset");var u=this.w.globals.dom.baseEl;u&&this.ctx.eventList.forEach(function(p){u.removeEventListener(p,s.ctx.events.documentEvent)});var d=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(d.Paper),d.Paper.remove(),d.elWrap=null,d.elGraphical=null,d.elLegendWrap=null,d.elLegendForeign=null,d.baseEl=null,d.elGridRect=null,d.elGridRectMask=null,d.elGridRectBarMask=null,d.elGridRectMarkerMask=null,d.elForecastMask=null,d.elNonForecastMask=null,d.elDefs=null}}]),i}(),Hv=new WeakMap,_U=function(){function i(t,s){ln(this,i),this.opts=s,this.ctx=this,this.w=new rU(s).init(),this.el=t,this.w.globals.cuid=Ye.randomId(),this.w.globals.chartID=this.w.config.chart.id?Ye.escapeString(this.w.config.chart.id):this.w.globals.cuid,new VM(this).initModules(),this.lastUpdateOptions=null,this.create=Ye.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return cn(i,[{key:"render",value:function(){var t=this;return new Promise(function(s,r){if(Ye.elementExists(t.el)){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),t.w.config.chart.id&&Apex._chartInstances.push({id:t.w.globals.chartID,group:t.w.config.chart.group,chart:t}),t.setLocale(t.w.config.chart.defaultLocale);var a=t.w.config.chart.events.beforeMount;typeof a=="function"&&a(t,t.w),t.events.fireEvent("beforeMount",[t,t.w]),window.addEventListener("resize",t.windowResizeHandler),function(M,A){var R=!1;if(M.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var E=M.getBoundingClientRect();M.style.display!=="none"&&E.width!==0||(R=!0)}var _=new ResizeObserver(function(T){R&&A.call(M,T),R=!0});M.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(M.children).forEach(function(T){return _.observe(T)}):_.observe(M),Hv.set(A,_)}(t.el.parentNode,t.parentResizeHandler);var u=t.el.getRootNode&&t.el.getRootNode(),d=Ye.is("ShadowRoot",u),p=t.el.ownerDocument,m=d?u.getElementById("apexcharts-css"):p.getElementById("apexcharts-css");if(!m){var y;(m=document.createElement("style")).id="apexcharts-css",m.textContent=`@keyframes opaque {
  0% {
    opacity: 0
  }

  to {
    opacity: 1
  }
}

@keyframes resizeanim {

  0%,
  to {
    opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  direction: ltr !important;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0, 0, 0, .5);
  box-shadow: 0 0 1px rgba(255, 255, 255, .5);
  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

rect.legend-mouseover-inactive,
.legend-mouseover-inactive rect,
.legend-mouseover-inactive path,
.legend-mouseover-inactive circle,
.legend-mouseover-inactive line,
.legend-mouseover-inactive text.apexcharts-yaxis-title-text,
.legend-mouseover-inactive text.apexcharts-yaxis-label {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255, 255, 255, .96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30, 30, 30, .8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0, 0, 0, .7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,
.apexcharts-tooltip-text-y-value,
.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,
.apexcharts-tooltip-text-goals-value:empty,
.apexcharts-tooltip-text-y-label:empty,
.apexcharts-tooltip-text-y-value:empty,
.apexcharts-tooltip-text-z-value:empty,
.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,
.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),
.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  display: inline-block;
  position: relative;
  width: 16px;
  height: 16px;
  font-size: 16px;
  line-height: 16px;
  margin-right: 4px;
  text-align: center;
  vertical-align: middle;
  color: inherit;
}

.apexcharts-tooltip-marker::before {
  content: "";
  display: inline-block;
  width: 100%;
  text-align: center;
  color: currentcolor;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  font-size: 26px;
  font-family: Arial, Helvetica, sans-serif;
  line-height: 14px;
  font-weight: 900;
}

.apexcharts-tooltip-marker[shape="circle"]::before {
  content: "\\25CF";
}

.apexcharts-tooltip-marker[shape="square"]::before,
.apexcharts-tooltip-marker[shape="rect"]::before {
  content: "\\25A0";
  transform: translate(-1px, -2px);
}

.apexcharts-tooltip-marker[shape="line"]::before {
  content: "\\2500";
}

.apexcharts-tooltip-marker[shape="diamond"]::before {
  content: "\\25C6";
  font-size: 28px;
}

.apexcharts-tooltip-marker[shape="triangle"]::before {
  content: "\\25B2";
  font-size: 22px;
}

.apexcharts-tooltip-marker[shape="cross"]::before {
  content: "\\2715";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="plus"]::before {
  content: "\\2715";
  transform: rotate(45deg) translate(-1px, -1px);
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="star"]::before {
  content: "\\2605";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="sparkle"]::before {
  content: "\\2726";
  font-size: 20px;
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,
.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,
.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,
.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-xaxistooltip:after,
.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,
.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,
.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-yaxistooltip:after,
.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,
.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,
.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,
.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,
.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_shape {
  stroke-width: 1;
  stroke-dasharray: 10 10;
  stroke: black;
  stroke-opacity: 0.1;
  pointer-events: none;
  fill: none;
}

.svg_select_handle {
  stroke-width: 3;
  stroke: black;
  fill: none;
}

.svg_select_handle_r {
  cursor: e-resize;
}

.svg_select_handle_l {
  cursor: w-resize;
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,
.apexcharts-pan-icon,
.apexcharts-reset-icon,
.apexcharts-selection-icon,
.apexcharts-toolbar-custom-icon,
.apexcharts-zoom-icon,
.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,
.apexcharts-reset-icon svg,
.apexcharts-zoom-icon svg,
.apexcharts-zoomin-icon svg,
.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,
.apexcharts-theme-dark .apexcharts-pan-icon svg,
.apexcharts-theme-dark .apexcharts-reset-icon svg,
.apexcharts-theme-dark .apexcharts-selection-icon svg,
.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,
.apexcharts-theme-dark .apexcharts-zoom-icon svg,
.apexcharts-theme-dark .apexcharts-zoomin-icon svg,
.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,
.apexcharts-theme-light .apexcharts-reset-icon:hover svg,
.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,
.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,
.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,
.apexcharts-reset-icon,
.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0, 0, 0, .7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
    opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,
.apexcharts-datalabel.apexcharts-element-hidden,
.apexcharts-hide .apexcharts-series-points {
  opacity: 0;
}

.apexcharts-hidden-element-shown {
  opacity: 1;
  transition: 0.25s ease all;
}

.apexcharts-datalabel,
.apexcharts-datalabel-label,
.apexcharts-datalabel-value,
.apexcharts-datalabels,
.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-radialbar-label {
  cursor: pointer;
}

.apexcharts-annotation-rect,
.apexcharts-area-series .apexcharts-area,
.apexcharts-gridline,
.apexcharts-line,
.apexcharts-point-annotation-label,
.apexcharts-radar-series path:not(.apexcharts-marker),
.apexcharts-radar-series polygon,
.apexcharts-toolbar svg,
.apexcharts-tooltip .apexcharts-marker,
.apexcharts-xaxis-annotation-label,
.apexcharts-yaxis-annotation-label,
.apexcharts-zoom-rect,
.no-pointer-events {
  pointer-events: none
}

.apexcharts-tooltip-active .apexcharts-marker {
  transition: .15s ease all
}

.apexcharts-radar-series .apexcharts-yaxis {
  pointer-events: none;
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,
.resize-triggers,
.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}

.apexcharts-bar-goals-markers {
  pointer-events: none
}

.apexcharts-bar-shadows {
  pointer-events: none
}

.apexcharts-rangebar-goals-markers {
  pointer-events: none
}

.apexcharts-disable-transitions * {
  transition: none !important;
}`;var b=((y=t.opts.chart)===null||y===void 0?void 0:y.nonce)||t.w.config.chart.nonce;b&&m.setAttribute("nonce",b),d?u.prepend(m):p.head.appendChild(m)}var S=t.create(t.w.config.series,{});if(!S)return s(t);t.mount(S).then(function(){typeof t.w.config.chart.events.mounted=="function"&&t.w.config.chart.events.mounted(t,t.w),t.events.fireEvent("mounted",[t,t.w]),s(S)}).catch(function(M){r(M)})}else r(new Error("Element not found"))})}},{key:"create",value:function(t,s){var r=this,a=this.w;new VM(this).initModules();var u=this.w.globals;if(u.noData=!1,u.animationEnded=!1,!Ye.elementExists(this.el)||(this.responsive.checkResponsiveConfig(s),a.config.xaxis.convertedCatToNumeric&&new sp(a.config).convertCatToNumericXaxis(a.config,this.ctx),this.core.setupElements(),a.config.chart.type==="treemap"&&(a.config.grid.show=!1,a.config.yaxis[0].show=!1),u.svgWidth===0))return u.animationEnded=!0,null;var d=t;t.forEach(function(M,A){M.hidden&&(d=r.legend.legendHelpers.getSeriesAfterCollapsing({realIndex:A}))});var p=ms.checkComboSeries(d,a.config.chart.type);u.comboCharts=p.comboCharts,u.comboBarCount=p.comboBarCount;var m=d.every(function(M){return M.data&&M.data.length===0});(d.length===0||m&&u.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(d),this.theme.init(),new $h(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),u.noData&&u.collapsedSeries.length!==u.series.length&&!a.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),u.axisCharts&&(this.core.coreCalculations(),a.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=a.globals.minX,this.ctx.toolbar.maxX=a.globals.maxX),this.formatters.heatmapLabelFormatters(),new ms(this).getLargestMarkerSize(),this.dimensions.plotCoords();var y=this.core.xySettings();this.grid.createGridMask();var b=this.core.plotChartType(d,y),S=new Ch(this);return S.bringForward(),a.config.dataLabels.background.enabled&&S.dataLabelsBackground(),this.core.shiftGraphPosition(),a.globals.dataPoints>50&&a.globals.dom.elWrap.classList.add("apexcharts-disable-transitions"),{elGraph:b,xyRatios:y,dimensions:{plot:{left:a.globals.translateX,top:a.globals.translateY,width:a.globals.gridWidth,height:a.globals.gridHeight}}}}},{key:"mount",value:function(){var t=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=this,a=r.w;return new Promise(function(u,d){if(r.el===null)return d(new Error("Not enough data to display or target element not found"));(s===null||a.globals.allSeriesCollapsed)&&r.series.handleNoData(),r.grid=new RE(r);var p,m,y=r.grid.drawGrid();if(r.annotations=new sU(r),r.annotations.drawImageAnnos(),r.annotations.drawTextAnnos(),a.config.grid.position==="back"&&(y&&a.globals.dom.elGraphical.add(y.el),y!=null&&(p=y.elGridBorders)!==null&&p!==void 0&&p.node&&a.globals.dom.elGraphical.add(y.elGridBorders)),Array.isArray(s.elGraph))for(var b=0;b<s.elGraph.length;b++)a.globals.dom.elGraphical.add(s.elGraph[b]);else a.globals.dom.elGraphical.add(s.elGraph);a.config.grid.position==="front"&&(y&&a.globals.dom.elGraphical.add(y.el),y!=null&&(m=y.elGridBorders)!==null&&m!==void 0&&m.node&&a.globals.dom.elGraphical.add(y.elGridBorders)),a.config.xaxis.crosshairs.position==="front"&&r.crosshairs.drawXCrosshairs(),a.config.yaxis[0].crosshairs.position==="front"&&r.crosshairs.drawYCrosshairs(),a.config.chart.type!=="treemap"&&r.axes.drawAxis(a.config.chart.type,y);var S=new op(t.ctx,y),M=new Tw(t.ctx,y);if(y!==null&&(S.xAxisLabelCorrections(y.xAxisTickWidth),M.setYAxisTextAlignments(),a.config.yaxis.map(function(R,E){a.globals.ignoreYAxisIndexes.indexOf(E)===-1&&M.yAxisTitleRotate(E,R.opposite)})),r.annotations.drawAxesAnnotations(),!a.globals.noData){if(a.config.tooltip.enabled&&!a.globals.noData&&r.w.globals.tooltip.drawTooltip(s.xyRatios),a.globals.axisCharts&&(a.globals.isXNumeric||a.config.xaxis.convertedCatToNumeric||a.globals.isRangeBar))(a.config.chart.zoom.enabled||a.config.chart.selection&&a.config.chart.selection.enabled||a.config.chart.pan&&a.config.chart.pan.enabled)&&r.zoomPanSelection.init({xyRatios:s.xyRatios});else{var A=a.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(R){A[R]=!1})}a.config.chart.toolbar.show&&!a.globals.allSeriesCollapsed&&r.toolbar.createToolbar()}a.globals.memory.methodsToExec.length>0&&a.globals.memory.methodsToExec.forEach(function(R){R.method(R.params,!1,R.context)}),a.globals.axisCharts||a.globals.noData||r.core.resizeNonAxisCharts(),u(r)})}},{key:"destroy",value:function(){window.removeEventListener("resize",this.windowResizeHandler),function(s,r){var a=Hv.get(r);a&&(a.disconnect(),Hv.delete(r))}(this.el.parentNode,this.parentResizeHandler);var t=this.w.config.chart.id;t&&Apex._chartInstances.forEach(function(s,r){s.id===Ye.escapeString(t)&&Apex._chartInstances.splice(r,1)}),new HM(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(t){var s=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1],a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],u=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],d=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],p=this.w;return p.globals.selection=void 0,this.lastUpdateOptions&&JSON.stringify(this.lastUpdateOptions)===JSON.stringify(t)?this:(t.series&&(this.updateHelpers.resetParsingFlags(),this.series.resetSeries(!1,!0,!1),t.series.length&&t.series[0].data&&(t.series=t.series.map(function(m,y){return s.updateHelpers._extendSeries(m,y)})),this.updateHelpers.revertDefaultAxisMinMax()),t.xaxis&&(t=this.updateHelpers.forceXAxisUpdate(t)),t.yaxis&&(t=this.updateHelpers.forceYAxisUpdate(t)),p.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),t.theme&&(t=this.theme.updateThemeOptions(t)),this.updateHelpers._updateOptions(t,r,a,u,d))}},{key:"updateSeries",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.updateHelpers.resetParsingFlags(),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(t,s,r)}},{key:"appendSeries",value:function(t){var s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],a=this.w.config.series.slice();return a.push(t),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(a,s,r)}},{key:"appendData",value:function(t){var s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this;r.w.globals.dataChanged=!0,r.series.getPreviousPaths();for(var a=r.w.config.series.slice(),u=0;u<a.length;u++)if(t[u]!==null&&t[u]!==void 0)for(var d=0;d<t[u].data.length;d++)a[u].data.push(t[u].data[d]);return r.w.config.series=a,s&&(r.w.globals.initialSeries=Ye.clone(r.w.config.series)),this.update()}},{key:"update",value:function(t){var s=this;return new Promise(function(r,a){if(s.lastUpdateOptions&&JSON.stringify(s.lastUpdateOptions)===JSON.stringify(t))return r(s);s.lastUpdateOptions=Ye.clone(t),new HM(s.ctx).clear({isUpdating:!0});var u=s.create(s.w.config.series,t);if(!u)return r(s);s.mount(u).then(function(){typeof s.w.config.chart.events.updated=="function"&&s.w.config.chart.events.updated(s,s.w),s.events.fireEvent("updated",[s,s.w]),s.w.globals.isDirty=!0,r(s)}).catch(function(d){a(d)})})}},{key:"getSyncedCharts",value:function(){var t=this.getGroupedCharts(),s=[this];return t.length&&(s=[],t.forEach(function(r){s.push(r)})),s}},{key:"getGroupedCharts",value:function(){var t=this;return Apex._chartInstances.filter(function(s){if(s.group)return!0}).map(function(s){return t.w.config.chart.group===s.group?s.chart:t})}},{key:"toggleSeries",value:function(t){return this.series.toggleSeries(t)}},{key:"highlightSeriesOnLegendHover",value:function(t,s){return this.series.toggleSeriesOnHover(t,s)}},{key:"showSeries",value:function(t){this.series.showSeries(t)}},{key:"hideSeries",value:function(t){this.series.hideSeries(t)}},{key:"highlightSeries",value:function(t){this.series.highlightSeries(t)}},{key:"isSeriesHidden",value:function(t){this.series.isSeriesHidden(t)}},{key:"resetSeries",value:function(){var t=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(t,s)}},{key:"addEventListener",value:function(t,s){this.events.addEventListener(t,s)}},{key:"removeEventListener",value:function(t,s){this.events.removeEventListener(t,s)}},{key:"addXaxisAnnotation",value:function(t){var s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,a=this;r&&(a=r),a.annotations.addXaxisAnnotationExternal(t,s,a)}},{key:"addYaxisAnnotation",value:function(t){var s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,a=this;r&&(a=r),a.annotations.addYaxisAnnotationExternal(t,s,a)}},{key:"addPointAnnotation",value:function(t){var s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,a=this;r&&(a=r),a.annotations.addPointAnnotationExternal(t,s,a)}},{key:"clearAnnotations",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,s=this;t&&(s=t),s.annotations.clearAnnotations(s)}},{key:"removeAnnotation",value:function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,r=this;s&&(r=s),r.annotations.removeAnnotation(r,t)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(t,s){return this.coreUtils.getSeriesTotalsXRange(t,s)}},{key:"getHighestValueInSeries",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new qb(this.ctx).getMinYMaxY(t).highestY}},{key:"getLowestValueInSeries",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new qb(this.ctx).getMinYMaxY(t).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(t,s){return this.updateHelpers.toggleDataPointSelection(t,s)}},{key:"zoomX",value:function(t,s){this.ctx.toolbar.zoomUpdateOptions(t,s)}},{key:"setLocale",value:function(t){this.localization.setCurrentLocaleValues(t)}},{key:"dataURI",value:function(t){return new jf(this.ctx).dataURI(t)}},{key:"getSvgString",value:function(t){return new jf(this.ctx).getSvgString(t)}},{key:"exportToCSV",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new jf(this.ctx).exportToCSV(t)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var t=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){t.w.globals.resized=!0,t.w.globals.dataChanged=!1,t.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var t=this.w.config.chart.redrawOnWindowResize;typeof t=="function"&&(t=t()),t&&this._windowResize()}}],[{key:"getChartByID",value:function(t){var s=Ye.escapeString(t);if(Apex._chartInstances){var r=Apex._chartInstances.filter(function(a){return a.id===s})[0];return r&&r.chart}}},{key:"initOnLoad",value:function(){for(var t=document.querySelectorAll("[data-apexcharts]"),s=0;s<t.length;s++)new i(t[s],JSON.parse(t[s].getAttribute("data-options"))).render()}},{key:"exec",value:function(t,s){var r=this.getChartByID(t);if(r){r.w.globals.isExecCalled=!0;var a=null;if(r.publicMethods.indexOf(s)!==-1){for(var u=arguments.length,d=new Array(u>2?u-2:0),p=2;p<u;p++)d[p-2]=arguments[p];a=r[s].apply(r,d)}return a}}},{key:"merge",value:function(t,s){return Ye.extend(t,s)}},{key:"getThemePalettes",value:function(){return{palette1:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"],palette2:["#3F51B5","#03A9F4","#4CAF50","#F9CE1D","#FF9800"],palette3:["#33B2DF","#546E7A","#D4526E","#13D8AA","#A5978B"],palette4:["#4ECDC4","#C7F464","#81D4FA","#FD6A6A","#546E7A"],palette5:["#2B908F","#F9A3A4","#90EE7E","#FA4443","#69D2E7"],palette6:["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"],palette7:["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"],palette8:["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"],palette9:["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"],palette10:["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}}}]),i}();const zU=Object.freeze(Object.defineProperty({__proto__:null,default:_U},Symbol.toStringTag,{value:"Module"})),BU=La(zU);var WM;function VU(){return WM||(WM=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=z;var t=p(Gl()),s=u(BU),r=u(DA()),a=["type","width","height","series","options"];function u(W){return W&&W.__esModule?W:{default:W}}function d(W){var L,U;return typeof WeakMap!="function"?null:(L=new WeakMap,U=new WeakMap,(d=function(I){return I?U:L})(W))}function p(W,L){if(!L&&W&&W.__esModule)return W;if(W===null||S(W)!="object"&&typeof W!="function")return{default:W};if(L=d(L),L&&L.has(W))return L.get(W);var U,I,q={__proto__:null},ee=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(U in W)U!=="default"&&{}.hasOwnProperty.call(W,U)&&((I=ee?Object.getOwnPropertyDescriptor(W,U):null)&&(I.get||I.set)?Object.defineProperty(q,U,I):q[U]=W[U]);return q.default=W,L&&L.set(W,q),q}function m(){return(m=Object.assign?Object.assign.bind():function(W){for(var L=1;L<arguments.length;L++){var U,I=arguments[L];for(U in I)!{}.hasOwnProperty.call(I,U)||(W[U]=I[U])}return W}).apply(null,arguments)}function y(W,L){if(W==null)return{};var U,I=b(W,L);if(Object.getOwnPropertySymbols)for(var q=Object.getOwnPropertySymbols(W),ee=0;ee<q.length;ee++)U=q[ee],L.includes(U)||{}.propertyIsEnumerable.call(W,U)&&(I[U]=W[U]);return I}function b(W,L){if(W==null)return{};var U,I={};for(U in W)if({}.hasOwnProperty.call(W,U)){if(L.includes(U))continue;I[U]=W[U]}return I}function S(W){return(S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(W)}function M(W,L){var U,I=Object.keys(W);return Object.getOwnPropertySymbols&&(U=Object.getOwnPropertySymbols(W),L&&(U=U.filter(function(q){return Object.getOwnPropertyDescriptor(W,q).enumerable})),I.push.apply(I,U)),I}function A(W){for(var L=1;L<arguments.length;L++){var U=arguments[L]!=null?arguments[L]:{};L%2?M(Object(U),!0).forEach(function(I){R(W,I,U[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(U)):M(Object(U)).forEach(function(I){Object.defineProperty(W,I,Object.getOwnPropertyDescriptor(U,I))})}return W}function R(W,L,U){return(L=E(L))in W?Object.defineProperty(W,L,{value:U,enumerable:!0,configurable:!0,writable:!0}):W[L]=U,W}function E(W){return W=_(W,"string"),S(W)=="symbol"?W:W+""}function _(W,L){if(S(W)!="object"||!W)return W;var U=W[Symbol.toPrimitive];if(U===void 0)return(L==="string"?String:Number)(W);if(U=U.call(W,L),S(U)!="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}function T(W,L){var U=A({},W);return L.forEach(function(I){delete U[I]}),U}function B(W,L){var U=2<arguments.length&&arguments[2]!==void 0?arguments[2]:new WeakSet;if(W!==L){if(S(W)!=="object"||W===null||S(L)!=="object"||L===null)return!1;if(!U.has(W)&&!U.has(L)){U.add(W),U.add(L);var I=Object.keys(W),q=Object.keys(L);if(I.length!==q.length)return!1;for(var ee=0,te=I;ee<te.length;ee++){var ce=te[ee];if(!q.includes(ce)||!B(W[ce],L[ce],U))return!1}}}return!0}function z(pe){function L(de){return de&&S(de)==="object"&&!Array.isArray(de)}var ce=pe.type,U=ce===void 0?"line":ce,ce=pe.width,I=ce===void 0?"100%":ce,ce=pe.height,q=ce===void 0?"auto":ce,ee=pe.series,te=pe.options,ce=y(pe,a),re=(0,t.useRef)(null),ae=(0,t.useRef)(null),ue=(0,t.useRef)(),ie=((0,t.useEffect)(function(){ue.current=te;var de=re.current;return ae.current=new s.default(de,ie()),ae.current.render(),function(){ae.current&&typeof ae.current.destroy=="function"&&ae.current.destroy()}},[]),(0,t.useEffect)(function(){var de=!B(ae.current.w.config.series,ee),xe=!B(ue.current,te)||q!==ae.current.opts.chart.height||I!==ae.current.opts.chart.width;(de||xe)&&(!de||xe?ae.current.updateOptions(ie()):ae.current.updateSeries(ee)),ue.current=te},[te,ee,q,I]),function(){return he(te,{chart:{type:U,height:q,width:I},series:ee})}),he=function(de,xe){var Se=A({},de);return L(de)&&L(xe)&&Object.keys(xe).forEach(function(be){L(xe[be])&&be in de?Se[be]=he(de[be],xe[be]):Object.assign(Se,R({},be,xe[be]))}),Se},pe=T(ce,Object.keys(z.propTypes));return t.default.createElement("div",m({ref:re},pe))}z.propTypes={type:r.default.string.isRequired,series:r.default.array.isRequired,options:r.default.object.isRequired,width:r.default.oneOfType([r.default.string,r.default.number]),height:r.default.oneOfType([r.default.string,r.default.number])}}(kv)),kv}var HU=VU();const Aw=Qn(HU),WU=({totalRAM:i,AvailRAM:t,usedRAM:s})=>{const[r,a]=X.useState([0,100]),[u,d]=X.useState(!0);if(X.useEffect(()=>{if(i>0){const m=s/i*100,y=t/i*100;a([m,y]),d(!1)}},[s,i,t]),u)return D.jsx(Bt,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:D.jsx(mr,{})});if(i===0)return D.jsx(Bt,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:D.jsx(Oe,{children:"RAM Data Not Available"})});const p={chart:{type:"donut"},labels:[`Used RAM: ${(Number(s)||0).toFixed(2)} MB`,`Available RAM: ${(Number(t)||0).toFixed(2)} MB`],legend:{show:!0,position:"bottom",horizontalAlign:"center",fontSize:"12px",offsetY:5,itemMargin:{horizontal:5,vertical:2}},dataLabels:{enabled:!1},tooltip:{enabled:!0,y:{formatter:function(m){return(typeof m=="number"?m.toFixed(2):"0.00")+"%"}}},colors:["#d32f2f","#4caf50"],plotOptions:{pie:{donut:{labels:{show:!0,name:{show:!0,fontSize:"16px",fontWeight:600,offsetY:-10},value:{show:!0,fontSize:"18px",fontWeight:"bold",offsetY:5,formatter:function(m){return(typeof m=="number"?m.toFixed(1):"0.0")+"%"}},total:{show:!0,showAlways:!0,label:"Total RAM",fontSize:"14px",color:"#373d3f",formatter:function(){return(Number(i)||0).toFixed(2)+" MB"}}}}}}};return D.jsx("div",{id:"ram-chart",style:{width:"100%",height:"100%"},children:D.jsx(Aw,{options:p,series:r,type:"donut",height:"100%",width:"100%"})})},$U=({totalStorage:i,AvailStorage:t,usedStorage:s})=>{const r=i>0?s/i*100:0,a=i>0?t/i*100:0,u=[typeof r=="number"?r:0,typeof a=="number"?a:0],d={chart:{type:"donut"},labels:[`Used Storage: ${(Number(s)||0).toFixed(2)} GB`,`Available Storage: ${(Number(t)||0).toFixed(2)} GB`],legend:{show:!0,position:"bottom",horizontalAlign:"center",fontSize:"12px",offsetY:5,itemMargin:{horizontal:5,vertical:2}},dataLabels:{enabled:!1},tooltip:{enabled:!0,y:{formatter:p=>(typeof p=="number"?p.toFixed(2):"0.00")+"%"}},colors:["#d32f2f","#4caf50"],plotOptions:{pie:{donut:{labels:{show:!0,name:{show:!0,fontSize:"16px",fontWeight:600,offsetY:-10},value:{show:!0,fontSize:"18px",fontWeight:"bold",offsetY:5,formatter:p=>(typeof p=="number"?p.toFixed(1):"0.0")+"%"},total:{show:!0,showAlways:!0,label:"Total Storage",fontSize:"14px",color:"#373d3f",formatter:()=>(Number(i)||0).toFixed(2)+" GB"}}}}}};return D.jsx("div",{id:"storage-chart",style:{width:"100%",height:"100%"},children:D.jsx(Aw,{options:d,series:u,type:"donut",height:"100%",width:"100%"})})},YU=({osGatewayTemp:i})=>{const t=parseFloat(i),s=isNaN(t)?0:t,r={chart:{},plotOptions:{radialBar:{hollow:{size:"50%"},dataLabels:{name:{show:!1,fontSize:"15px",fontWeight:"bold"},value:{show:!0,fontSize:"20px",fontWeight:"bold",formatter:function(u){return(typeof u=="number"?u.toFixed(2):"0.00")+"C"}}}}},labels:["Temperature"],fill:{type:"gradient",gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:["#ABE5A1"],inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,100]}},stroke:{lineCap:"round"},legend:{show:!0,position:"bottom",horizontalAlign:"center",fontSize:"12px",offsetY:0,itemMargin:{horizontal:5,vertical:5}}},a=[s];return D.jsxs(Bt,{id:"temperature-chart",style:{width:"100%",height:"100%"},children:[" ",D.jsx(Aw,{options:r,series:a,type:"radialBar",height:220})]})},UU=nu(i=>({gateWayId:{},setGateWayId:t=>i({gateWayId:t})}));function Dw(){const[i,t]=X.useState(!0),[s,r]=X.useState(!1),[a,u]=X.useState(!1),[d,p]=X.useState(!1),[m,y]=X.useState(null),{setGateWayId:b}=UU(),{role:S,setRole:M}=Kl(),A=X.useRef(!1);return X.useEffect(()=>{const R=async()=>{const E=localStorage.getItem("system-info");if(E)try{const T=JSON.parse(E),B=T?.hostname||"will-be-updated";Hn.gatewayName=B,b(B),y(T)}catch{console.warn("Invalid system-info in localStorage")}if(localStorage.getItem("userid")){const T=localStorage.getItem("userRole");T&&T!==S&&M(T)}p(!0);try{const B=(await Jn.request(Gc))?.allProfiles?.nodes||[];if(B.length>0){u(!0);const z=localStorage.getItem("userid");if(z){const W=B.find(L=>L.userid===z);W&&(Hn.orgName=W.orgname,Hn.buildingName=W.buildingName,Hn.address=W.address)}}}catch(T){console.error("GraphQL Init Error:",T)}finally{r(!0),t(!1)}try{const B=await(await fetch(`${Hn.appBaseUrl}/v2/api/system-info`,{signal:AbortSignal.timeout(5e3)})).json(),z=B?.hostname||"will-be-updated";Hn.gatewayName=z,b(z),y(B),localStorage.setItem("system-info",JSON.stringify({...B}))}catch(T){console.error("Fast system info error:",T)}};A.current||(A.current=!0,R())},[b,M,S]),{isLoading:i,profileLoaded:s,hasProfile:a,role:S,roleLoaded:d,systemInfo:m}}const XU=()=>{const i=vs(),{systemInfo:t}=Dw(),[s,r]=X.useState(null),[a,u]=X.useState(!0);return console.log("DashboardPage - systemInfo:",t),console.log("DashboardPage - loading:",a),console.log("DashboardPage - data:",s),X.useEffect(()=>{try{r(t),u(!1)}catch(d){console.error("Failed to process system info:",d),u(!1)}},[t]),a?D.jsx(Bt,{sx:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:D.jsx(mr,{})}):D.jsx(Zr,{in:!0,timeout:600,children:D.jsxs(Bt,{sx:{px:2,py:1},children:[D.jsx(Oe,{variant:"h5",mb:1,fontWeight:"bold",children:"Gateway Dashboard"}),D.jsxs(ts,{elevation:2,sx:{p:1,mb:3,backgroundColor:i.palette.background.paper,borderRadius:2},children:[D.jsx(Oe,{variant:"h6",sx:{fontWeight:"bold",mb:1},children:"System Overview"}),D.jsxs(Yn,{container:!0,spacing:2,children:[D.jsxs(Yn,{item:!0,xs:12,sm:6,children:[D.jsxs(Oe,{variant:"body1",sx:{mb:1},children:[D.jsx("strong",{children:"Gateway Serial NO:"})," ",Hn.gatewayName||"N/A"]}),D.jsx(Oe,{variant:"body1",sx:{mb:1},children:D.jsx("strong",{children:"Network Interface:"})}),D.jsxs(Oe,{variant:"body2",sx:{ml:2,mb:.5},children:["Default MAC: ",s?.mac?.eth0||"N/A"]}),D.jsxs(Oe,{variant:"body2",sx:{ml:2,mb:1},children:["Wifi MAC: ",s?.mac?.wlan0||"N/A"]}),D.jsxs(Oe,{variant:"body2",sx:{ml:2,mb:1},children:["Ethernet IP Address: ",s?.ipAddr||"N/A"]}),D.jsxs(Oe,{variant:"body1",children:[D.jsx("strong",{children:"Device Model:"})," ","SKYGW0.5GBR"]})]}),D.jsxs(Yn,{item:!0,xs:12,sm:6,children:[D.jsxs(Oe,{variant:"body1",sx:{mb:1},children:[D.jsx("strong",{children:"Software Version:"})," ","SKYGW0.5GBR_V1"]}),D.jsxs(Oe,{variant:"body1",sx:{mb:1},children:[D.jsx("strong",{children:"Up Time:"})," ",s?.uptime||"N/A"]}),D.jsxs(Oe,{variant:"body1",children:[D.jsx("strong",{children:"Manufacture Date:"})," ","1st Aug 2024"]})]})]})]}),D.jsxs(Yn,{container:!0,spacing:2,children:[D.jsx(Yn,{item:!0,xs:12,sm:6,md:4,lg:4,sx:{display:"flex"},children:D.jsx(Fi,{in:!0,timeout:800,children:D.jsxs(ts,{sx:{px:2,py:1,flexGrow:1,height:270,display:"flex",flexDirection:"column"},children:[D.jsx(Oe,{variant:"h6",children:"CPU Temperature"}),D.jsx(YU,{osGatewayTemp:parseFloat(s?.cpuTemperature)||0})]})})}),D.jsx(Yn,{item:!0,xs:12,sm:6,md:4,lg:4,sx:{display:"flex"},children:D.jsx(Fi,{in:!0,timeout:800,children:D.jsxs(ts,{sx:{px:2,py:1,flexGrow:1,height:270,display:"flex",flexDirection:"column"},children:[D.jsx(Oe,{variant:"h6",children:"RAM Usage"}),D.jsx(WU,{totalRAM:parseFloat(s?.memory?.total)||0,AvailRAM:parseFloat(s?.memory?.free)||0,usedRAM:parseFloat(s?.memory?.used)||0})]})})}),D.jsx(Yn,{item:!0,xs:12,sm:6,md:4,lg:4,sx:{display:"flex"},children:D.jsx(Fi,{in:!0,timeout:800,children:D.jsxs(ts,{sx:{px:2,py:1,flexGrow:1,height:270,display:"flex",flexDirection:"column"},children:[D.jsx(Oe,{variant:"h6",children:"Storage"}),D.jsx($U,{totalStorage:parseFloat(s?.disk?.total)||0,AvailStorage:parseFloat(s?.disk?.free)||0,usedStorage:parseFloat(s?.disk?.used)||0})]})})})]})]})})},Ew=nu(i=>({themeMode:"light",setThemeMode:t=>i({themeMode:t})})),GU=()=>{const{themeMode:i}=Ew(),{role:t}=Kl(),[s,r]=X.useState(""),a=X.useRef(null),[u,d]=X.useState(!1);X.useEffect(()=>{d(!0);const m=`${Hn.appBaseUrl}/main/page/dashboards/?theme=${i}`;r(t!=="ADMIN"?`${m}&orgId=1&from=now-6h&to=now&refresh=5s`:m);const y=b=>{try{if(typeof b.data=="string"&&b.data.startsWith("Grafana"))return;const S=JSON.parse(b.data);S.type==="urlChange"&&S.url.includes("/admin")&&t!=="ADMIN"&&a.current&&(a.current.src=`${Hn.appBaseUrl}/main/page/dashboards/?theme=${i}&orgId=1&from=now-6h&to=now&refresh=5s`)}catch(S){S instanceof SyntaxError||console.error("Error handling message from iframe:",S)}};return window.addEventListener("message",y),()=>window.removeEventListener("message",y)},[i,t]);const p=m=>{try{const y=m.target;y.contentWindow&&y.contentWindow.eval(`
          (function() {
            if (window.grafanaRoutedUrlChangeBound) return; 
            window.grafanaRoutedUrlChangeBound = true;

            const originalPushState = window.history.pushState;
            window.history.pushState = function() {
              originalPushState.apply(this, arguments);
              window.parent.postMessage(JSON.stringify({
                type: 'urlChange',
                url: window.location.href
              }), '*'); 
            };

            const originalReplaceState = window.history.replaceState;
            window.history.replaceState = function() {
              originalReplaceState.apply(this, arguments);
              window.parent.postMessage(JSON.stringify({
                type: 'urlChange',
                url: window.location.href
              }), '*'); 
            };

            window.addEventListener('popstate', function() {
              window.parent.postMessage(JSON.stringify({
                type: 'urlChange',
                url: window.location.href
              }), '*'); 
            });
          })();
        `)}catch{}};return D.jsx(Zr,{in:u,timeout:700,children:D.jsx("div",{style:{height:"100vh",width:"100%"},children:s?D.jsx("iframe",{ref:a,src:s,style:{border:"none",width:"100%",height:"100%",borderRadius:"10px"},title:"Dashboard",onLoad:p}):D.jsxs(Bt,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:[D.jsx(mr,{}),D.jsx(Oe,{sx:{ml:1},children:"Loading Dashboard..."})]})})})};function qU(i,t,s){return t in i?Object.defineProperty(i,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[t]=s,i}function $M(i,t){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),s.push.apply(s,r)}return s}function YM(i){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?$M(Object(s),!0).forEach(function(r){qU(i,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):$M(Object(s)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(s,r))})}return i}function KU(i,t){if(i==null)return{};var s={},r=Object.keys(i),a,u;for(u=0;u<r.length;u++)a=r[u],!(t.indexOf(a)>=0)&&(s[a]=i[a]);return s}function ZU(i,t){if(i==null)return{};var s=KU(i,t),r,a;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(a=0;a<u.length;a++)r=u[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(s[r]=i[r])}return s}function JU(i,t){return QU(i)||e7(i,t)||t7(i,t)||n7()}function QU(i){if(Array.isArray(i))return i}function e7(i,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(i)))){var s=[],r=!0,a=!1,u=void 0;try{for(var d=i[Symbol.iterator](),p;!(r=(p=d.next()).done)&&(s.push(p.value),!(t&&s.length===t));r=!0);}catch(m){a=!0,u=m}finally{try{!r&&d.return!=null&&d.return()}finally{if(a)throw u}}return s}}function t7(i,t){if(i){if(typeof i=="string")return UM(i,t);var s=Object.prototype.toString.call(i).slice(8,-1);if(s==="Object"&&i.constructor&&(s=i.constructor.name),s==="Map"||s==="Set")return Array.from(i);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return UM(i,t)}}function UM(i,t){(t==null||t>i.length)&&(t=i.length);for(var s=0,r=new Array(t);s<t;s++)r[s]=i[s];return r}function n7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i7(i,t,s){return t in i?Object.defineProperty(i,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[t]=s,i}function XM(i,t){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),s.push.apply(s,r)}return s}function GM(i){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?XM(Object(s),!0).forEach(function(r){i7(i,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):XM(Object(s)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(s,r))})}return i}function s7(){for(var i=arguments.length,t=new Array(i),s=0;s<i;s++)t[s]=arguments[s];return function(r){return t.reduceRight(function(a,u){return u(a)},r)}}function Cf(i){return function t(){for(var s=this,r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];return a.length>=i.length?i.apply(this,a):function(){for(var d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];return t.apply(s,[].concat(a,p))}}}function a0(i){return{}.toString.call(i).includes("Object")}function r7(i){return!Object.keys(i).length}function ap(i){return typeof i=="function"}function o7(i,t){return Object.prototype.hasOwnProperty.call(i,t)}function a7(i,t){return a0(t)||Wl("changeType"),Object.keys(t).some(function(s){return!o7(i,s)})&&Wl("changeField"),t}function l7(i){ap(i)||Wl("selectorType")}function c7(i){ap(i)||a0(i)||Wl("handlerType"),a0(i)&&Object.values(i).some(function(t){return!ap(t)})&&Wl("handlersType")}function u7(i){i||Wl("initialIsRequired"),a0(i)||Wl("initialType"),r7(i)&&Wl("initialContent")}function h7(i,t){throw new Error(i[t]||i.default)}var d7={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Wl=Cf(h7)(d7),Qg={changes:a7,selector:l7,handler:c7,initial:u7};function f7(i){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Qg.initial(i),Qg.handler(t);var s={current:i},r=Cf(m7)(s,t),a=Cf(g7)(s),u=Cf(Qg.changes)(i),d=Cf(p7)(s);function p(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(b){return b};return Qg.selector(y),y(s.current)}function m(y){s7(r,a,u,d)(y)}return[p,m]}function p7(i,t){return ap(t)?t(i.current):t}function g7(i,t){return i.current=GM(GM({},i.current),t),t}function m7(i,t,s){return ap(t)?t(i.current):Object.keys(s).forEach(function(r){var a;return(a=t[r])===null||a===void 0?void 0:a.call(t,i.current[r])}),s}var y7={create:f7},x7={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function v7(i){return function t(){for(var s=this,r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];return a.length>=i.length?i.apply(this,a):function(){for(var d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];return t.apply(s,[].concat(a,p))}}}function b7(i){return{}.toString.call(i).includes("Object")}function w7(i){return i||qM("configIsRequired"),b7(i)||qM("configType"),i.urls?(S7(),{paths:{vs:i.urls.monacoBase}}):i}function S7(){console.warn($E.deprecation)}function C7(i,t){throw new Error(i[t]||i.default)}var $E={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},qM=v7(C7)($E),k7={config:w7},P7=function(){for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return function(a){return s.reduceRight(function(u,d){return d(u)},a)}};function YE(i,t){return Object.keys(t).forEach(function(s){t[s]instanceof Object&&i[s]&&Object.assign(t[s],YE(i[s],t[s]))}),YM(YM({},i),t)}var M7={type:"cancelation",msg:"operation is manually canceled"};function Wv(i){var t=!1,s=new Promise(function(r,a){i.then(function(u){return t?a(M7):r(u)}),i.catch(a)});return s.cancel=function(){return t=!0},s}var T7=y7.create({config:x7,isInitialized:!1,resolve:null,reject:null,monaco:null}),UE=JU(T7,2),Ep=UE[0],ny=UE[1];function A7(i){var t=k7.config(i),s=t.monaco,r=ZU(t,["monaco"]);ny(function(a){return{config:YE(a.config,r),monaco:s}})}function D7(){var i=Ep(function(t){var s=t.monaco,r=t.isInitialized,a=t.resolve;return{monaco:s,isInitialized:r,resolve:a}});if(!i.isInitialized){if(ny({isInitialized:!0}),i.monaco)return i.resolve(i.monaco),Wv($v);if(window.monaco&&window.monaco.editor)return XE(window.monaco),i.resolve(window.monaco),Wv($v);P7(E7,R7)(L7)}return Wv($v)}function E7(i){return document.body.appendChild(i)}function N7(i){var t=document.createElement("script");return i&&(t.src=i),t}function R7(i){var t=Ep(function(r){var a=r.config,u=r.reject;return{config:a,reject:u}}),s=N7("".concat(t.config.paths.vs,"/loader.js"));return s.onload=function(){return i()},s.onerror=t.reject,s}function L7(){var i=Ep(function(s){var r=s.config,a=s.resolve,u=s.reject;return{config:r,resolve:a,reject:u}}),t=window.require;t.config(i.config),t(["vs/editor/editor.main"],function(s){XE(s),i.resolve(s)},function(s){i.reject(s)})}function XE(i){Ep().monaco||ny({monaco:i})}function O7(){return Ep(function(i){var t=i.monaco;return t})}var $v=new Promise(function(i,t){return ny({resolve:i,reject:t})}),GE={config:A7,init:D7,__getMonacoInstance:O7},I7={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Yv=I7,F7={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},j7=F7;function _7({children:i}){return _n.createElement("div",{style:j7.container},i)}var z7=_7,B7=z7;function V7({width:i,height:t,isEditorReady:s,loading:r,_ref:a,className:u,wrapperProps:d}){return _n.createElement("section",{style:{...Yv.wrapper,width:i,height:t},...d},!s&&_n.createElement(B7,null,r),_n.createElement("div",{ref:a,style:{...Yv.fullWidth,...!s&&Yv.hide},className:u}))}var H7=V7,qE=X.memo(H7);function W7(i){X.useEffect(i,[])}var KE=W7;function $7(i,t,s=!0){let r=X.useRef(!0);X.useEffect(r.current||!s?()=>{r.current=!1}:i,t)}var so=$7;function _f(){}function ah(i,t,s,r){return Y7(i,r)||U7(i,t,s,r)}function Y7(i,t){return i.editor.getModel(ZE(i,t))}function U7(i,t,s,r){return i.editor.createModel(t,s,r?ZE(i,r):void 0)}function ZE(i,t){return i.Uri.parse(t)}function X7({original:i,modified:t,language:s,originalLanguage:r,modifiedLanguage:a,originalModelPath:u,modifiedModelPath:d,keepCurrentOriginalModel:p=!1,keepCurrentModifiedModel:m=!1,theme:y="light",loading:b="Loading...",options:S={},height:M="100%",width:A="100%",className:R,wrapperProps:E={},beforeMount:_=_f,onMount:T=_f}){let[B,z]=X.useState(!1),[W,L]=X.useState(!0),U=X.useRef(null),I=X.useRef(null),q=X.useRef(null),ee=X.useRef(T),te=X.useRef(_),ce=X.useRef(!1);KE(()=>{let ie=GE.init();return ie.then(he=>(I.current=he)&&L(!1)).catch(he=>he?.type!=="cancelation"&&console.error("Monaco initialization: error:",he)),()=>U.current?ue():ie.cancel()}),so(()=>{if(U.current&&I.current){let ie=U.current.getOriginalEditor(),he=ah(I.current,i||"",r||s||"text",u||"");he!==ie.getModel()&&ie.setModel(he)}},[u],B),so(()=>{if(U.current&&I.current){let ie=U.current.getModifiedEditor(),he=ah(I.current,t||"",a||s||"text",d||"");he!==ie.getModel()&&ie.setModel(he)}},[d],B),so(()=>{let ie=U.current.getModifiedEditor();ie.getOption(I.current.editor.EditorOption.readOnly)?ie.setValue(t||""):t!==ie.getValue()&&(ie.executeEdits("",[{range:ie.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),ie.pushUndoStop())},[t],B),so(()=>{U.current?.getModel()?.original.setValue(i||"")},[i],B),so(()=>{let{original:ie,modified:he}=U.current.getModel();I.current.editor.setModelLanguage(ie,r||s||"text"),I.current.editor.setModelLanguage(he,a||s||"text")},[s,r,a],B),so(()=>{I.current?.editor.setTheme(y)},[y],B),so(()=>{U.current?.updateOptions(S)},[S],B);let re=X.useCallback(()=>{if(!I.current)return;te.current(I.current);let ie=ah(I.current,i||"",r||s||"text",u||""),he=ah(I.current,t||"",a||s||"text",d||"");U.current?.setModel({original:ie,modified:he})},[s,t,a,i,r,u,d]),ae=X.useCallback(()=>{!ce.current&&q.current&&(U.current=I.current.editor.createDiffEditor(q.current,{automaticLayout:!0,...S}),re(),I.current?.editor.setTheme(y),z(!0),ce.current=!0)},[S,y,re]);X.useEffect(()=>{B&&ee.current(U.current,I.current)},[B]),X.useEffect(()=>{!W&&!B&&ae()},[W,B,ae]);function ue(){let ie=U.current?.getModel();p||ie?.original?.dispose(),m||ie?.modified?.dispose(),U.current?.dispose()}return _n.createElement(qE,{width:A,height:M,isEditorReady:B,loading:b,_ref:q,className:R,wrapperProps:E})}var G7=X7;X.memo(G7);function q7(i){let t=X.useRef();return X.useEffect(()=>{t.current=i},[i]),t.current}var K7=q7,em=new Map;function Z7({defaultValue:i,defaultLanguage:t,defaultPath:s,value:r,language:a,path:u,theme:d="light",line:p,loading:m="Loading...",options:y={},overrideServices:b={},saveViewState:S=!0,keepCurrentModel:M=!1,width:A="100%",height:R="100%",className:E,wrapperProps:_={},beforeMount:T=_f,onMount:B=_f,onChange:z,onValidate:W=_f}){let[L,U]=X.useState(!1),[I,q]=X.useState(!0),ee=X.useRef(null),te=X.useRef(null),ce=X.useRef(null),re=X.useRef(B),ae=X.useRef(T),ue=X.useRef(),ie=X.useRef(r),he=K7(u),pe=X.useRef(!1),de=X.useRef(!1);KE(()=>{let be=GE.init();return be.then(Ne=>(ee.current=Ne)&&q(!1)).catch(Ne=>Ne?.type!=="cancelation"&&console.error("Monaco initialization: error:",Ne)),()=>te.current?Se():be.cancel()}),so(()=>{let be=ah(ee.current,i||r||"",t||a||"",u||s||"");be!==te.current?.getModel()&&(S&&em.set(he,te.current?.saveViewState()),te.current?.setModel(be),S&&te.current?.restoreViewState(em.get(u)))},[u],L),so(()=>{te.current?.updateOptions(y)},[y],L),so(()=>{!te.current||r===void 0||(te.current.getOption(ee.current.editor.EditorOption.readOnly)?te.current.setValue(r):r!==te.current.getValue()&&(de.current=!0,te.current.executeEdits("",[{range:te.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),te.current.pushUndoStop(),de.current=!1))},[r],L),so(()=>{let be=te.current?.getModel();be&&a&&ee.current?.editor.setModelLanguage(be,a)},[a],L),so(()=>{p!==void 0&&te.current?.revealLine(p)},[p],L),so(()=>{ee.current?.editor.setTheme(d)},[d],L);let xe=X.useCallback(()=>{if(!(!ce.current||!ee.current)&&!pe.current){ae.current(ee.current);let be=u||s,Ne=ah(ee.current,r||i||"",t||a||"",be||"");te.current=ee.current?.editor.create(ce.current,{model:Ne,automaticLayout:!0,...y},b),S&&te.current.restoreViewState(em.get(be)),ee.current.editor.setTheme(d),p!==void 0&&te.current.revealLine(p),U(!0),pe.current=!0}},[i,t,s,r,a,u,y,b,S,d,p]);X.useEffect(()=>{L&&re.current(te.current,ee.current)},[L]),X.useEffect(()=>{!I&&!L&&xe()},[I,L,xe]),ie.current=r,X.useEffect(()=>{L&&z&&(ue.current?.dispose(),ue.current=te.current?.onDidChangeModelContent(be=>{de.current||z(te.current.getValue(),be)}))},[L,z]),X.useEffect(()=>{if(L){let be=ee.current.editor.onDidChangeMarkers(Ne=>{let _e=te.current.getModel()?.uri;if(_e&&Ne.find(Me=>Me.path===_e.path)){let Me=ee.current.editor.getModelMarkers({resource:_e});W?.(Me)}});return()=>{be?.dispose()}}return()=>{}},[L,W]);function Se(){ue.current?.dispose(),M?S&&em.set(u,te.current.saveViewState()):te.current.getModel()?.dispose(),te.current.dispose()}return _n.createElement(qE,{width:A,height:R,isEditorReady:L,loading:m,_ref:ce,className:E,wrapperProps:_})}var J7=Z7,Q7=X.memo(J7),eX=Q7;const tX=async(i,t,s,r)=>{console.log("defaultJsonConfig",i);try{const u=(await Jn.request(BY))?.allGeneratedJsonData?.nodes?.find(m=>m.meterId===String(t)),d=u?u.nodeId:null;console.log("Found nodeId for meterId",t,d);let p;if(i&&Object.keys(i).length>0&&!d)p=await Jn.request(_Y,{input:{generatedJsonDatum:{meterId:String(t),jsonData:JSON.stringify(s),dateAndTime:new Date().toISOString()}}});else{const m={input:{generatedJsonDatumPatch:{meterId:String(t),jsonData:JSON.stringify(s)},nodeId:d}};p=await Jn.request(zY,m),console.log("dvdjnvd",p)}if(p?.createGeneratedJsonDatum?.generatedJsonDatum||p?.updateGeneratedJsonDatum?.generatedJsonDatum)try{const m=await fetch(`${Hn.appBaseUrl}/v2/api/save-json`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({meter_id:r,operation:"write",json_data:s})});if(!m.ok){const b=await m.json();throw new Error(b.error||`Failed to save JSON file for ${r}`)}const y=await m.json();console.log("cdvdvd",y)}catch{}else it.error("Something Went Wrong ")}catch(a){throw console.error("Error inserting meter JSON data:",a),a}},nX=({open:i,onClose:t,defaultJsonConfig:s,jsonError:r,jsonString:a,onEditorChange:u,onEditorMount:d,onSave:p,saveDisabled:m,getMeterName:y})=>D.jsxs(Ji,{open:i,fullWidth:!0,maxWidth:"lg",TransitionComponent:Zr,children:[D.jsxs(Ks,{sx:{textAlign:"center",p:1},children:[D.jsx("span",{style:{fontWeight:"lighter"},children:"Dashboard Configuration for "}),D.jsx("span",{style:{fontWeight:"bold"},children:y})]}),D.jsxs(ws,{dividers:!0,sx:{p:0},children:[r&&D.jsxs(Bt,{sx:{position:"absolute",top:16,right:16,zIndex:10,backgroundColor:"background.paper",boxShadow:3,border:"1px solid",borderRadius:1,px:1},children:[D.jsx(Oe,{color:"error",variant:"subtitle2",fontWeight:"bold",children:"JSON Error"}),D.jsx(Oe,{variant:"caption",color:"error",children:r})]}),D.jsx(Bt,{sx:{border:"1px solid",borderColor:"divider",borderRadius:1,p:1,backgroundColor:"background.paper",minHeight:400},children:D.jsx(eX,{height:"60vh",defaultLanguage:"json",value:a,onChange:u,theme:"vs",beforeMount:b=>{b.editor.defineTheme("vs",{base:"vs",inherit:!0,rules:[],colors:{}})},options:{minimap:{enabled:!0,showSlider:!0},fontSize:13,formatOnPaste:!0,formatOnType:!0,scrollBeyondLastLine:!0,wordWrap:"on",readOnly:!1,lineNumbers:"on",renderValidationDecorations:"on"},onMount:d})})]}),D.jsxs(qs,{children:[D.jsx(Sn,{onClick:t,size:"small",color:"secondary",variant:"outlined",children:"Cancel"}),D.jsxs(Sn,{variant:"contained",color:"primary",size:"small",sx:{mr:1},disabled:m,onClick:p,children:[s==null?"Update":"Add"," Dashboard"]})]})]}),tm=JSON.parse('[{"device_make":"ELMEASURE","device_model":"LG 6400","device_type":"Energy Meter","device_name":"Demand Controllers","device_description":"MFM, 2 Relay Demand Controller (LED), Class 1.0, RS485, 5A Inbuilt","baud_rate":["1200","2400","4800","9600","19200"],"parity":["Even","Odd","no"]},{"device_make":"ELMEASURE","device_model":"EN 8400","device_type":"Energy Meter","device_name":"Demand Controllers","device_description":"High Profile 4 Relay Demand Controller (LED), Class 1.0, RS485, 5A Inbuilt","baud_rate":["1200","2400","4800","9600","19200"],"parity":["Even","Odd","no"]},{"device_make":"ELMEASURE","device_model":"EN 7500","device_type":"Energy Meter","device_name":"Demand Controllers","device_description":"High Profile 2 Relay Demand Controller (LCD), Class 1.0, RS485, 5A Inbuilt","baud_rate":["1200","2400","4800","9600","19200"],"parity":["Even","Odd","no"]},{"device_make":"ELMEASURE","device_model":"PN 8700","device_type":"Energy Meter","device_name":"Demand Controllers","device_description":"High Profile 4 Relay Demand Controller (LCD), Class 0.2S, RS485, TOD, 5A Inbuilt","baud_rate":["1200","2400","4800","9600","19200"],"parity":["Even","Odd","no"]},{"device_make":"ELMEASURE","device_model":"EN 8420","device_type":"Energy Meter","device_name":"Power Quality Monitors","device_description":"High Profile Dual Source MFM (LED), Class 1.0, Demand Monitor, RS485, 5A Inbuilt","baud_rate":["4800","9600","19200","38400"],"parity":["Even","Odd","no"]},{"device_make":"ELMEASURE","device_model":"EN 7520","device_type":"Energy Meter","device_name":"Power Quality Monitors","device_description":"High Profile Dual Source Demand Monitor (LCD), Class 0.5S, RS485, 1DO, 5A Inbuilt","baud_rate":["4800","9600","19200","38400"],"parity":["Even","Odd","no"]},{"device_make":"ELMEASURE","device_model":"LG 6435","device_type":"Energy Meter","device_name":"Multifunctional Energy Meter","device_description":"MFM, Class 1.0, RS485, 5A Inbuilt","baud_rate":["1200","2400","4800","9600","19200"],"parity":["Even","Odd","no"]},{"device_make":"ELMEASURE","device_model":"LG 6430","device_type":"Energy Meter","device_name":"Multifunctional Energy Meter","device_description":"MFM, Class 1.0, 5A Inbuilt","baud_rate":["1200","2400","4800","9600","19200"],"parity":["Even","Odd","no"]},{"device_make":"ELMEASURE","device_model":"LG 2510","device_type":"Energy Meter","device_name":"Multifunctional Energy Meter","device_description":"MFM, Class 1.0, RS485, 5A Inbuilt","baud_rate":["1200","2400","4800","9600","19200"],"parity":["Even","Odd","no"]},{"device_make":"ELMEASURE","device_model":"LG 2519","device_type":"Energy Meter","device_name":"Multifunctional Energy Meter","device_description":"Digital Energy Meter, Class 1.0, RS485, 5A Inbuilt","baud_rate":["1200","2400","4800","9600","19200"],"parity":["Even","Odd","no"]},{"device_make":"ELMEASURE","device_model":"G 1119","device_type":"Energy Meter","device_name":"Multifunctional Energy Meter","device_description":"Digital Energy Meter, Class 1.0, 5A Inbuilt, 96x48mm","baud_rate":["1200","2400","4800","9600","19200"],"parity":["Even","Odd","no"]},{"device_make":"ELMEASURE","device_model":"G 5110","device_type":"Energy Meter","device_name":"Multifunctional Energy Meter","device_description":"MFM, Class 1.0, RS485, 5A Inbuilt, 96x48mm","baud_rate":["1200","2400","4800","9600","19200"],"parity":["Even","Odd","no"]},{"device_make":"ELMEASURE","device_model":"SL 1300","device_type":"Energy Meter","device_name":"Basic Meters","device_description":"VAF Meter + PF, Class 1.0, 5A Inbuilt, RS485","baud_rate":["4800","9600","19200","38400"],"parity":["Even","No","Odd"]},{"device_make":"ELMEASURE","device_model":"SL 4300","device_type":"Energy Meter","device_name":"Basic Meters","device_description":"VAF Meter + W, VA, PF & VAR, Class 1.0, RS485, 5A Inbuilt","baud_rate":["4800","9600","19200","38400"],"parity":["Even","No","Odd"]},{"device_make":"L&T","device_model":"4000 LED Series","device_type":"Energy Meter","device_name":"4000 Series","device_description":"kWh LED meter Cl 1 with RS485","baud_rate":["2400","4800","9600","19200"],"parity":["Odd","Even","None"]},{"device_make":"L&T","device_model":"4000 LCD Series","device_type":"Energy Meter","device_name":"4000 Series","device_description":"kWh LCD meter Cl 1 with RS485","baud_rate":["2400","4800","9600","19200"],"parity":["Odd","Even","None"]},{"device_make":"L&T","device_model":"4110 Series","device_type":"VAF + PF Meters","device_name":"4110 Series","device_description":"VAF + PF meter with RS485, Cl 0.5","baud_rate":["2400","4800","9600","19200"],"parity":["Even","Odd","None"]},{"device_make":"L&T","device_model":"4040LED Series","device_type":"Dual Source Basic MFM","device_name":"4040 Series","device_description":"Dualsource LED meter Cl0.5 with RS485","baud_rate":["2400","4800","9600","19200"],"parity":["Odd","Even","None"]},{"device_make":"L&T","device_model":"4040LCD Series","device_type":"Dual Source Basic MFM","device_name":"4040 Series","device_description":"Dualsource LCD meter Cl0.5 with RS486","baud_rate":["2400","4800","9600","19200"],"parity":["Odd","Even","None"]},{"device_make":"L&T","device_model":"4405 Series","device_type":"Basic Multifunction Meters","device_name":"4405 Series","device_description":"MFM 4405 LED meter Cl 0.5S with RS485","baud_rate":["2400","4800","9600","19200"],"parity":["Odd","Even","None"]},{"device_make":"L&T","device_model":"4400 LCD Series","device_type":"Basic Multifunction Meters","device_name":"4400 Series","device_description":"MFM 4400 LED meter Cl 0.5S with RS485","baud_rate":["2400","4800","9600","19200"],"parity":["Odd","Even","None"]},{"device_make":"L&T","device_model":"4400 LED Series","device_type":"Basic Multifunction Meters","device_name":"4400 Series","device_description":"MFM 4400 LCD meter Cl 1 with RS485","baud_rate":["2400","4800","9600","19200"],"parity":["Odd","Even","None"]},{"device_make":"L&T","device_model":"4410 LED Series","device_type":"Multifunction Meters","device_name":"4410 Series","device_description":"MFM 4410 LED meter Cl 0.2 with RS485","baud_rate":["2400","4800","9600","19200","38400"],"parity":["Odd","Even","None"]},{"device_make":"L&T","device_model":"4410 LCD Series","device_type":"Multifunction Meters","device_name":"4410 Series","device_description":"MFM 4410 LCD meter Cl 0.2 with RS485","baud_rate":["2400","4800","9600","19200","38400"],"parity":["Odd","Even","None"]},{"device_make":"L&T","device_model":"4420 LED Series","device_type":"Multifunction Meters","device_name":"4420 Series Max Demand Indicator","device_description":"MFM 4420 LED meter Cl 0.2 with RS485","baud_rate":["2400","4800","9600","19200","38400"],"parity":["Odd","Even","None"]},{"device_make":"L&T","device_model":"4420 LCD Series","device_type":"Multifunction Meters","device_name":"4420 Series Max Demand Indicator","device_description":"MFM 4420 LCD meter Cl 0.2 with RS485","baud_rate":["2400","4800","9600","19200","38400"],"parity":["Odd","Even","None"]},{"device_make":"L&T","device_model":"5000 LED Series","device_type":"Advanced Multifunction Meters","device_name":"5000 Series","device_description":"MFM 5000 LED meter Cl 1 with RS485","baud_rate":["2400","4800","9600","19200","38400"],"parity":["Odd","Even","None"]},{"device_make":"L&T","device_model":"5000 LCD Series","device_type":"Advanced Multifunction Meters","device_name":"5000 Series","device_description":"MFM 5000 LCD meter Cl 0.2 with RS485","baud_rate":["2400","4800","9600","19200","38400"],"parity":["Odd","Even","None"]},{"device_make":"L&T","device_model":"4430 LED Series","device_type":"Multifunction Meters","device_name":"4430 Series Max Demand Indicator","device_description":"MFM 4430 LED meter Cl 0.2 with RS485","baud_rate":["2400","4800","9600","19200","38400"],"parity":["Odd","Even","None"]},{"device_make":"L&T","device_model":"4430 LCD Series","device_type":"Multifunction Meters","device_name":"4430 Series Max Demand Indicator","device_description":"MFM 4430 LCD meter Cl 0.2 with RS485","baud_rate":["2400","4800","9600","19200","38400"],"parity":["Odd","Even","None"]},{"device_make":"L&T","device_model":"4440 LED Series","device_type":"Multifunction Meters","device_name":"4440 Series","device_description":"MFM 4440 LED meter Cl 1 with RS485","baud_rate":["2400","4800","9600","19200","38400"],"parity":["Odd","Even","None"]},{"device_make":"L&T","device_model":"4440 LCD Series","device_type":"Multifunction Meters","device_name":"4440 Series","device_description":"MFM 4440 LCD meter Cl 0.5 with RS485","baud_rate":["2400","4800","9600","19200","38400"],"parity":["Odd","Even","None"]},{"device_make":"L&T","device_model":"5010 LED Series","device_type":"Advanced Multifunction Meters","device_name":"5010 Series","device_description":"MFM 5010 LED meter Cl 1 with RS485","baud_rate":["2400","4800","9600","19200","38400"],"parity":["Odd","Even","None"]},{"device_make":"L&T","device_model":"5010 LCD Series","device_type":"Advanced Multifunction Meters","device_name":"5010 Series","device_description":"MFM 5010 LCD meter Cl 0.2 with RS485","baud_rate":["2400","4800","9600","19200","38400"],"parity":["Odd","Even","None"]},{"device_make":"L&T","device_model":"6000 LED Series","device_type":"Maximum Demand Controller","device_name":"","device_description":"MDC 6000 LED meter Cl 1 with RS485","baud_rate":["2400","4800","9600","19200"],"parity":["Odd","Even","None"]},{"device_make":"L&T","device_model":"6000 LCD Series","device_type":"Maximum Demand Controller","device_name":"","device_description":"MDC 6000 LCD meter Cl 1 with RS485","baud_rate":["2400","4800","9600","19200"],"parity":["Odd","Even","None"]},{"device_make":"SCHNEIDER","device_model":"EM 7290","device_type":"Smart Demand Controller","device_name":"EM7200 Series","device_description":"Demand Controller Cl0.2* with RS485 Port","baud_rate":["4800","9600","19200","38400"],"parity":["Odd","Even","None"]},{"device_make":"SCHNEIDER","device_model":"EM 7280","device_type":"Smart Demand Controller","device_name":"EM7200 Series","device_description":"Demand Controller Cl0.5S with RS485 Port","baud_rate":["4800","9600","19200","38400"],"parity":["Odd","Even","None"]},{"device_make":"SCHNEIDER","device_model":"EM 7230","device_type":"Smart Demand Controller","device_name":"EM7200 Series","device_description":"Demand Controller Cl1.0 with RS485 Port","baud_rate":["4800","9600","19200","38400"],"parity":["Odd","Even","None"]},{"device_make":"SCHNEIDER","device_model":"PM2230","device_type":"EasyLogicTM","device_name":"PM2000 Series","device_description":"PM2230, LCD, RS485, Accuracy Cl0.5S, 31st Ind.harmonics, 12am snap shot, kg CO2 and energy rate counters, Data logging","baud_rate":["4800","9600","19200","38400"],"parity":["Odd","Even","None"]},{"device_make":"SCHNEIDER","device_model":"PM2220","device_type":"EasyLogicTM","device_name":"PM2000 Series","device_description":"PM2220, LCD, RS485, Accuracy Cl1, 15th Ind.harmonics, 12am snap shot, kg CO2 and energy rate counters","baud_rate":["4800","9600","19200","38400"],"parity":["Odd","Even","None"]},{"device_make":"SCHNEIDER","device_model":"PM2130","device_type":"EasyLogicTM","device_name":"PM2000 Series","device_description":"PM2130, LED, RS485, Accuracy Cl0.5S, Ind. Harmonics up to 31st over communication, data logging","baud_rate":["4800","9600","19200","38400"],"parity":["Odd","Even","None"]},{"device_make":"SCHNEIDER","device_model":"EM6400NG","device_type":"EasyLogicTM","device_name":"EM6400NG+ Series","device_description":"Class accuracy CI0.2, RS485 port","baud_rate":["4800","9600","19200","38400"],"parity":["Odd","Even","None"]},{"device_make":"SCHNEIDER","device_model":"PM1130H","device_type":"Hexa Series","device_name":"EM64XXH and PM1130H Meters","device_description":"EASYLOGICTM PM1130H Dual Source Power & Energy Meter, Class accuracy 0.5, 01 Relay Contact, 01 RS485 port","baud_rate":["4800","9600","19200","38400"],"parity":["Odd","Even","None"]},{"device_make":"SCHNEIDER","device_model":"EM6438H","device_type":"Hexa Series","device_name":"EM64XXH and PM1130H Meters","device_description":"EasyLogicTM EM6438H Dual Power & Energy Meter, Class accuracy 0.5, 01 RS485 port","baud_rate":["4800","9600","19200","38400"],"parity":["Odd","Even","None"]},{"device_make":"SCHNEIDER","device_model":"EM6436H","device_type":"Hexa Series","device_name":"EM64XXH and PM1130H Meters","device_description":"EasyLogicTM EM6436H VAF+ PF + Power & Energy Meter, Class accuracy 0.5, 01 RS485 port","baud_rate":["4800","9600","19200","38400"],"parity":["Odd","Even","None"]},{"device_make":"SCHNEIDER","device_model":"EM6433H","device_type":"Hexa Series","device_name":"EM64XXH and PM1130H Meters","device_description":"EasyLogicTM EM6433H A+ Power & Energy Meter, Class accuracy 0.5, 01 RS485 port","baud_rate":["4800","9600","19200","38400"],"parity":["Odd","Even","None"]},{"device_make":"SCHNEIDER","device_model":"EM6459H","device_type":"Hexa Series","device_name":"EM64XXH and PM1130H Meters","device_description":"EasyLogicTM EM6459H VAF+ PF Digital Meter, Class accuracy 0.5, 01 RS485 port","baud_rate":["4800","9600","19200","38400"],"parity":["Odd","Even","None"]},{"device_make":"SCHNEIDER","device_model":"PM 3255","device_type":"PowerLogic","device_name":"PM 3255 Series","device_description":"Din rail Power meter Modbus","baud_rate":["4800","9600","19200","38400"],"parity":["Odd","Even","None"]},{"device_make":"SCHNEIDER","device_model":"PM 3210","device_type":"PowerLogic","device_name":"PM 3210Series","device_description":"Din rail Power meter pulse","baud_rate":["4800","9600","19200","38400"],"parity":["Odd","Even","None"]},{"device_make":"SCHNEIDER","device_model":"iEM33xx","device_type":"Din Rail Meter","device_name":"iEM33xx","device_description":"Three Phase, 125A Direct Current, Lonwork","baud_rate":["4800","9600","19200","38400"],"parity":["Odd","Even","None"]},{"device_make":"SCHNEIDER","device_model":"iEM 3x65","device_type":"Din Rail Meter / Direct Current-Three phase","device_name":"iEM 3x65","device_description":"","baud_rate":["4800","9600","19200","38400"],"parity":["Odd","Even","None"]},{"device_make":"SCHNEIDER","device_model":"iEM 3x55","device_type":"Din Rail Meter / Direct Current-Three phase","device_name":"iEM 3x55","device_description":"","baud_rate":["4800","9600","19200","38400"],"parity":["Odd","Even","None"]},{"device_make":"SCHNEIDER","device_model":"iEM 3x50","device_type":"Din Rail Meter / Direct Current-Three phase","device_name":"iEM 3x50","device_description":"","baud_rate":["4800","9600","19200","38400"],"parity":["Odd","Even","None"]},{"device_make":"SCHNEIDER","device_model":"iEM 3x10","device_type":"Din Rail Meter / Direct Current-Three phase","device_name":"iEM 3x10","device_description":"","baud_rate":["4800","9600","19200","38400"],"parity":["Odd","Even","None"]},{"device_make":"SECURE","device_model":"ELITE-440-441","device_type":"Multi-line three-phase panel meter","device_name":"","device_description":"","baud_rate":["1200","2400","4800","9600","19200","38400"],"parity":["Even","Odd","None"]},{"device_make":"SECURE","device_model":"ELITE-440-442","device_type":"Multi-line three-phase panel meter","device_name":"","device_description":"","baud_rate":["1200","2400","4800","9600","19200","38400"],"parity":["Even","Odd","None"]},{"device_make":"SECURE","device_model":"ELITE-440-443","device_type":"Multi-line three-phase panel meter","device_name":"","device_description":"","baud_rate":["1200","2400","4800","9600","19200","38400"],"parity":["Even","Odd","None"]},{"device_make":"SECURE","device_model":"ELITE-440-444","device_type":"Multi-line three-phase panel meter","device_name":"","device_description":"","baud_rate":["1200","2400","4800","9600","19200","38400"],"parity":["Even","Odd","None"]},{"device_make":"SECURE","device_model":"ELITE-440-445","device_type":"Multi-line three-phase panel meter","device_name":"","device_description":"","baud_rate":["1200","2400","4800","9600","19200","38400"],"parity":["Even","Odd","None"]},{"device_make":"SECURE","device_model":"ELITE-440-446","device_type":"Multi-line three-phase panel meter","device_name":"","device_description":"","baud_rate":["1200","2400","4800","9600","19200","38400"],"parity":["Even","Odd","None"]},{"device_make":"SECURE","device_model":"ELITE-440-447","device_type":"Multi-line three-phase panel meter","device_name":"","device_description":"","baud_rate":["1200","2400","4800","9600","19200","38400"],"parity":["Even","Odd","None"]},{"device_make":"SECURE","device_model":"ELITE-440-448","device_type":"Multi-line three-phase panel meter","device_name":"","device_description":"","baud_rate":["1200","2400","4800","9600","19200","38400"],"parity":["Even","Odd","None"]},{"device_make":"SECURE","device_model":"ELITE-100-103","device_type":"Multi-line three-phase panel meter","device_name":"","device_description":"","baud_rate":["1200","2400","4800","9600","19200","38400"],"parity":["Even","Odd","None"]},{"device_make":"SECURE","device_model":"ELITE-300-30A/30B","device_type":"Multi-line three-phase panel meter","device_name":"","device_description":"","baud_rate":["1200","2400","4800","9600","19200","38400"],"parity":["Even","Odd","None"]},{"device_make":"SECURE","device_model":"ELITE-300-303/307","device_type":"Multi-line three-phase panel meter","device_name":"","device_description":"","baud_rate":["1200","2400","4800","9600","19200","38400"],"parity":["Even","Odd","None"]},{"device_make":"ABB","device_model":"M1M 12","device_type":"M1M 12 Multi-function meter","device_name":"","device_description":"M1M 12 is a multi-function meter with aux supply 80-300 V AC/DC, LED display","baud_rate":["9600","19200","38400","57600","115200"],"parity":["Odd","Even","None"]},{"device_make":"ABB","device_model":"M1M 15","device_type":"M1M 15 Power meter","device_name":"","device_description":"M1M 15 Modbus is a multimeter with aux supply 100-230 V AC/DC, LED display, Modbus RTU","baud_rate":["9600","19200","38400","57600","115200"],"parity":["Odd","Even","None"]},{"device_make":"ABB","device_model":"M1M 20","device_type":"M1M 20 Power meter","device_name":"","device_description":"M1M 20 is a power meter with aux supply 100-230 V AC/DC, LCD display","baud_rate":["9600","19200","38400","57600","115200"],"parity":["Odd","Even","None"]},{"device_make":"ABB","device_model":"M1M 30","device_type":"M1M 30 Power meter","device_name":"","device_description":"M1M 30 Modbus is a power meter with 2 digital outputs, aux supply 100-230 V AC/DC, LCD display, Modbus RTU","baud_rate":["9600","19200","38400","57600","115200"],"parity":["Odd","Even","None"]},{"device_make":"ABB","device_model":"M1M 20B","device_type":"M1M 20B Power meter","device_name":"","device_description":"Power meter, LED display, Modbus RTU. 0,2% accuracy","baud_rate":["9600","19200","38400","57600","115200"],"parity":["Odd","Even","None"]},{"device_make":"ABB","device_model":"M1M 30B","device_type":"M1M 30B Power meter","device_name":"","device_description":"Advanced Power meter, LED display, Modbus RTU. 0,5% accuracy","baud_rate":["9600","19200","38400","57600","115200"],"parity":["Odd","Even","None"]},{"device_make":"ABB","device_model":"M4M 20","device_type":"M4M 20 Network analyzer","device_name":"","device_description":"M4M 20 is a network analyzer with 2 digital outputs, aux supply 48-240 V AC/DC and Bluetooth","baud_rate":["9600","19200","38400","57600","115200"],"parity":["Odd","Even","None"]},{"device_make":"ABB","device_model":"M4M 30","device_type":"M4M 30 Network analyzer","device_name":"","device_description":"M4M 30 MODBUS is a network analyzer with 4 programmable I/O, aux supply 48-240 V AC/DC, Bluetooth and Modbus RTU","baud_rate":["9600","19200","38400","57600","115200"],"parity":["Odd","Even","None"]},{"device_make":"ABB","device_model":"M4M 2X","device_type":"M4M 2X MODBUS Network analyzer","device_name":"","device_description":"M4M 2X Modbus is a network analyzer without display with 2 digital outputs, aux supply 48-240 V AC/DC, Bluetooth and Modbus RTU","baud_rate":["9600","19200","38400","57600","115200"],"parity":["Odd","Even","None"]}]');var Id={},Uv={};const iX=La(Kj);var KM;function Bi(){return KM||(KM=1,function(i){"use client";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=iX}(Uv)),Uv}var ZM;function sX(){if(ZM)return Id;ZM=1;var i=Ei();Object.defineProperty(Id,"__esModule",{value:!0}),Id.default=void 0;var t=i(Bi()),s=Li();return Id.default=(0,t.default)((0,s.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2M9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9zm9 14H6V10h12zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2"}),"LockOutlined"),Id}var rX=sX();const oX=Qn(rX);var Fd={},JM;function aX(){if(JM)return Fd;JM=1;var i=Ei();Object.defineProperty(Fd,"__esModule",{value:!0}),Fd.default=void 0;var t=i(Bi()),s=Li();return Fd.default=(0,t.default)((0,s.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),Fd}var lX=aX();const JE=Qn(lX);var jd={},QM;function cX(){if(QM)return jd;QM=1;var i=Ei();Object.defineProperty(jd,"__esModule",{value:!0}),jd.default=void 0;var t=i(Bi()),s=Li();return jd.default=(0,t.default)((0,s.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff"),jd}var uX=cX();const hX=Qn(uX),QE=({open:i,onClose:t,onConfirm:s,dialogType:r,actionDescription:a})=>{const[u,d]=X.useState(""),[p,m]=X.useState(!1),[y,b]=X.useState(r),[S,M]=X.useState(a),A=X.useRef(null);X.useEffect(()=>{i?(b(r),M(a),setTimeout(()=>{A.current?.focus()},100)):(d(""),m(!1))},[i,r,a]);const R=()=>{t()},E=()=>{s(u)},_=()=>{m(!p)},T=W=>{W.preventDefault()};let B="Confirm Action",z=S||"Please enter your admin password to proceed.";return y==="delete"?(B="Confirm Deletion",z="Please enter your admin password to delete this meter."):y==="add"?(B="Device Action",z="Please enter your admin password to add a new meter."):y==="toggleDevice"&&(B="Confirm Device Toggle",z=S||"Please enter your admin password to toggle this device."),D.jsxs(Ji,{open:i,onClose:R,TransitionComponent:Fi,maxWidth:"xs",fullWidth:!0,PaperProps:{sx:{borderRadius:2,boxShadow:5}},children:[D.jsxs(ws,{sx:{pt:3,textAlign:"center"},children:[D.jsx(Oe,{variant:"h6",gutterBottom:!0,sx:{mb:2,fontWeight:"medium"},children:B}),D.jsx(Oe,{variant:"body2",color:"text.secondary",sx:{mb:2},children:z}),D.jsx(Gn,{inputRef:A,type:p?"text":"password",label:"Admin Password",value:u,onChange:W=>d(W.target.value),fullWidth:!0,size:"small",variant:"outlined",autoComplete:"current-password",InputProps:{startAdornment:D.jsx(Km,{position:"start",children:D.jsx(oX,{color:"action"})}),endAdornment:D.jsx(Km,{position:"end",children:D.jsx(Hi,{"aria-label":"toggle password visibility",onClick:_,onMouseDown:T,edge:"end",children:p?D.jsx(hX,{}):D.jsx(JE,{})})})}})]}),D.jsxs(qs,{sx:{p:"16px 24px",justifyContent:"center",gap:2},children:[D.jsx(Sn,{variant:"outlined",onClick:R,size:"small",children:"Cancel"}),D.jsx(Sn,{variant:"contained",onClick:E,size:"small",color:"primary",disabled:!u,children:"Proceed"})]})]})},Rm=JSON.parse('[{"device_make":"ELMEASURE","device_model":"LG 6400","device_type":"Energy Meter","device_name":"Demand Controllers","device_description":"MFM, 2 Relay Demand Controller (LED), Class 1.0, RS485, 5A Inbuilt","baud_rate":[1200,2400,4800,9600,19200],"parity":["Even","Odd","None"]},{"device_make":"ELMEASURE","device_model":"EN 8400","device_type":"Energy Meter","device_name":"Demand Controllers","device_description":"High Profile 4 Relay Demand Controller (LED), Class 1.0, RS485, 5A Inbuilt","baud_rate":[1200,2400,4800,9600,19200],"parity":["Even","Odd","None"]},{"device_make":"ELMEASURE","device_model":"EN 7500","device_type":"Energy Meter","device_name":"Demand Controllers","device_description":"High Profile 2 Relay Demand Controller (LCD), Class 1.0, RS485, 5A Inbuilt","baud_rate":[1200,2400,4800,9600,19200],"parity":["Even","Odd","None"]},{"device_make":"ELMEASURE","device_model":"PN 8700","device_type":"Energy Meter","device_name":"Demand Controllers","device_description":"High Profile 4 Relay Demand Controller (LCD), Class 0.2S, RS485, TOD, 5A Inbuilt","baud_rate":[1200,2400,4800,9600,19200],"parity":["Even","Odd","None"]},{"device_make":"ELMEASURE","device_model":"EN 8420","device_type":"Energy Meter","device_name":"Power Quality Monitors","device_description":"High Profile Dual Source MFM (LED), Class 1.0, Demand Monitor, RS485, 5A Inbuilt","baud_rate":[4800,9600,19200,38400],"parity":["Even","Odd","None"]},{"device_make":"ELMEASURE","device_model":"EN 7520","device_type":"Energy Meter","device_name":"Power Quality Monitors","device_description":"High Profile Dual Source Demand Monitor (LCD), Class 0.5S, RS485, 1DO, 5A Inbuilt","baud_rate":[4800,9600,19200,38400],"parity":["Even","Odd","None"]},{"device_make":"ELMEASURE","device_model":"LG 6435","device_type":"Energy Meter","device_name":"Multifunctional Energy Meter","device_description":"MFM, Class 1.0, RS485, 5A Inbuilt","baud_rate":[1200,2400,4800,9600,19200],"parity":["Even","Odd","None"]},{"device_make":"ELMEASURE","device_model":"LG 6430","device_type":"Energy Meter","device_name":"Multifunctional Energy Meter","device_description":"MFM, Class 1.0, 5A Inbuilt","baud_rate":[1200,2400,4800,9600,19200],"parity":["Even","Odd","None"]},{"device_make":"ELMEASURE","device_model":"LG 2510","device_type":"Energy Meter","device_name":"Multifunctional Energy Meter","device_description":"MFM, Class 1.0, RS485, 5A Inbuilt","baud_rate":[1200,2400,4800,9600,19200],"parity":["Even","Odd","None"]},{"device_make":"ELMEASURE","device_model":"LG 2519","device_type":"Energy Meter","device_name":"Multifunctional Energy Meter","device_description":"Digital Energy Meter, Class 1.0, RS485, 5A Inbuilt","baud_rate":[1200,2400,4800,9600,19200],"parity":["Even","Odd","None"]},{"device_make":"ELMEASURE","device_model":"G 1119","device_type":"Energy Meter","device_name":"Multifunctional Energy Meter","device_description":"Digital Energy Meter, Class 1.0, 5A Inbuilt, 96x48mm","baud_rate":[1200,2400,4800,9600,19200],"parity":["Even","Odd","None"]},{"device_make":"ELMEASURE","device_model":"G 5110","device_type":"Energy Meter","device_name":"Multifunctional Energy Meter","device_description":"MFM, Class 1.0, RS485, 5A Inbuilt, 96x48mm","baud_rate":[1200,2400,4800,9600,19200],"parity":["Even","Odd","None"]},{"device_make":"ELMEASURE","device_model":"SL 1300","device_type":"Energy Meter","device_name":"Basic Meters","device_description":"VAF Meter + PF, Class 1.0, 5A Inbuilt, RS485","baud_rate":[4800,9600,19200,38400],"parity":["Even","No","Odd"]},{"device_make":"ELMEASURE","device_model":"SL 4300","device_type":"Energy Meter","device_name":"Basic Meters","device_description":"VAF Meter + W, VA, PF & VAR, Class 1.0, RS485, 5A Inbuilt","baud_rate":[4800,9600,19200,38400],"parity":["Even","No","Odd"]},{"device_make":"L&T","device_model":"4000 LED Series","device_type":"Energy Meter","device_name":"4000 Series","device_description":"kWh LED meter Cl 1 with RS485","baud_rate":[2400,4800,9600,19200],"parity":["Odd","Even","None"]},{"device_make":"L&T","device_model":"4000 LCD Series","device_type":"Energy Meter","device_name":"4000 Series","device_description":"kWh LCD meter Cl 1 with RS485","baud_rate":[2400,4800,9600,19200],"parity":["Odd","Even","None"]},{"device_make":"L&T","device_model":"4110 Series","device_type":"VAF + PF Meters","device_name":"4110 Series","device_description":"VAF + PF meter with RS485, Cl 0.5","baud_rate":[2400,4800,9600,19200],"parity":["Even","Odd","None"]},{"device_make":"L&T","device_model":"4040 LED Series","device_type":"Dual Source Basic MFM","device_name":"4040 Series","device_description":"Dualsource LED meter Cl0.5 with RS485","baud_rate":[2400,4800,9600,19200],"parity":["Odd","Even","None"]},{"device_make":"L&T","device_model":"4040 LCD Series","device_type":"Dual Source Basic MFM","device_name":"4040 Series","device_description":"Dualsource LCD meter Cl0.5 with RS486","baud_rate":[2400,4800,9600,19200],"parity":["Odd","Even","None"]},{"device_make":"L&T","device_model":"4405 Series","device_type":"Basic Multifunction Meters","device_name":"4405 Series","device_description":"MFM 4405 LED meter Cl 0.5S with RS485","baud_rate":[2400,4800,9600,19200],"parity":["Odd","Even","None"]},{"device_make":"L&T","device_model":"4400 LCD Series","device_type":"Basic Multifunction Meters","device_name":"4400 Series","device_description":"MFM 4400 LED meter Cl 0.5S with RS485","baud_rate":[2400,4800,9600,19200],"parity":["Odd","Even","None"]},{"device_make":"L&T","device_model":"4400 LED Series","device_type":"Basic Multifunction Meters","device_name":"4400 Series","device_description":"MFM 4400 LCD meter Cl 1 with RS485","baud_rate":[2400,4800,9600,19200],"parity":["Odd","Even","None"]},{"device_make":"L&T","device_model":"4410 LED Series","device_type":"Multifunction Meters","device_name":"4410 Series","device_description":"MFM 4410 LED meter Cl 0.2 with RS485","baud_rate":[2400,4800,9600,19200,38400],"parity":["Odd","Even","None"]},{"device_make":"L&T","device_model":"4410 LCD Series","device_type":"Multifunction Meters","device_name":"4410 Series","device_description":"MFM 4410 LCD meter Cl 0.2 with RS485","baud_rate":[2400,4800,9600,19200,38400],"parity":["Odd","Even","None"]},{"device_make":"L&T","device_model":"4420 LED Series","device_type":"Multifunction Meters","device_name":"4420 Series Max Demand Indicator","device_description":"MFM 4420 LED meter Cl 0.2 with RS485","baud_rate":[2400,4800,9600,19200,38400],"parity":["Odd","Even","None"]},{"device_make":"L&T","device_model":"4420 LCD Series","device_type":"Multifunction Meters","device_name":"4420 Series Max Demand Indicator","device_description":"MFM 4420 LCD meter Cl 0.2 with RS485","baud_rate":[2400,4800,9600,19200,38400],"parity":["Odd","Even","None"]},{"device_make":"L&T","device_model":"5000 LED Series","device_type":"Advanced Multifunction Meters","device_name":"5000 Series","device_description":"MFM 5000 LED meter Cl 1 with RS485","baud_rate":[2400,4800,9600,19200,38400],"parity":["Odd","Even","None"]},{"device_make":"L&T","device_model":"5000 LCD Series","device_type":"Advanced Multifunction Meters","device_name":"5000 Series","device_description":"MFM 5000 LCD meter Cl 0.2 with RS485","baud_rate":[2400,4800,9600,19200,38400],"parity":["Odd","Even","None"]},{"device_make":"L&T","device_model":"4430 LED Series","device_type":"Multifunction Meters","device_name":"4430 Series Max Demand Indicator","device_description":"MFM 4430 LED meter Cl 0.2 with RS485","baud_rate":[2400,4800,9600,19200,38400],"parity":["Odd","Even","None"]},{"device_make":"L&T","device_model":"4430 LCD Series","device_type":"Multifunction Meters","device_name":"4430 Series Max Demand Indicator","device_description":"MFM 4430 LCD meter Cl 0.2 with RS485","baud_rate":[2400,4800,9600,19200,38400],"parity":["Odd","Even","None"]},{"device_make":"L&T","device_model":"4440 LED Series","device_type":"Multifunction Meters","device_name":"4440 Series","device_description":"MFM 4440 LED meter Cl 1 with RS485","baud_rate":[2400,4800,9600,19200,38400],"parity":["Odd","Even","None"]},{"device_make":"L&T","device_model":"4440 LCD Series","device_type":"Multifunction Meters","device_name":"4440 Series","device_description":"MFM 4440 LCD meter Cl 0.5 with RS485","baud_rate":[2400,4800,9600,19200,38400],"parity":["Odd","Even","None"]},{"device_make":"L&T","device_model":"5010 LED Series","device_type":"Advanced Multifunction Meters","device_name":"5010 Series","device_description":"MFM 5010 LED meter Cl 1 with RS485","baud_rate":[2400,4800,9600,19200,38400],"parity":["Odd","Even","None"]},{"device_make":"L&T","device_model":"5010 LCD Series","device_type":"Advanced Multifunction Meters","device_name":"5010 Series","device_description":"MFM 5010 LCD meter Cl 0.2 with RS485","baud_rate":[2400,4800,9600,19200,38400],"parity":["Odd","Even","None"]},{"device_make":"L&T","device_model":"6000 LED Series","device_type":"Maximum Demand Controller","device_name":"","device_description":"MDC 6000 LED meter Cl 1 with RS485","baud_rate":[2400,4800,9600,19200],"parity":["Odd","Even","None"]},{"device_make":"L&T","device_model":"6000 LCD Series","device_type":"Maximum Demand Controller","device_name":"","device_description":"MDC 6000 LCD meter Cl 1 with RS485","baud_rate":[2400,4800,9600,19200],"parity":["Odd","Even","None"]},{"device_make":"SCHNEIDER","device_model":"EM 7290","device_type":"Smart Demand Controller","device_name":"EM7200 Series","device_description":"Demand Controller Cl0.2* with RS485 Port","baud_rate":[4800,9600,19200,38400],"parity":["Odd","Even","None"]},{"device_make":"SCHNEIDER","device_model":"EM 7280","device_type":"Smart Demand Controller","device_name":"EM7200 Series","device_description":"Demand Controller Cl0.5S with RS485 Port","baud_rate":[4800,9600,19200,38400],"parity":["Odd","Even","None"]},{"device_make":"SCHNEIDER","device_model":"EM 7230","device_type":"Smart Demand Controller","device_name":"EM7200 Series","device_description":"Demand Controller Cl1.0 with RS485 Port","baud_rate":[4800,9600,19200,38400],"parity":["Odd","Even","None"]},{"device_make":"SCHNEIDER","device_model":"PM2230","device_type":"EasyLogicTM","device_name":"PM2000 Series","device_description":"PM2230, LCD, RS485, Accuracy Cl0.5S, 31st Ind.harmonics, 12am snap shot, kg CO2 and energy rate counters, Data logging","baud_rate":[4800,9600,19200,38400],"parity":["Odd","Even","None"]},{"device_make":"SCHNEIDER","device_model":"PM2220","device_type":"EasyLogicTM","device_name":"PM2000 Series","device_description":"PM2220, LCD, RS485, Accuracy Cl1, 15th Ind.harmonics, 12am snap shot, kg CO2 and energy rate counters","baud_rate":[4800,9600,19200,38400],"parity":["Odd","Even","None"]},{"device_make":"SCHNEIDER","device_model":"PM2130","device_type":"EasyLogicTM","device_name":"PM2000 Series","device_description":"PM2130, LED, RS485, Accuracy Cl0.5S, Ind. Harmonics up to 31st over communication, data logging","baud_rate":[4800,9600,19200,38400],"parity":["Odd","Even","None"]},{"device_make":"SCHNEIDER","device_model":"EM6400NG","device_type":"EasyLogicTM","device_name":"EM6400NG+ Series","device_description":"Class accuracy CI0.2, RS485 port","baud_rate":[4800,9600,19200,38400],"parity":["Odd","Even","None"]},{"device_make":"SCHNEIDER","device_model":"PM1130H","device_type":"Hexa Series","device_name":"EM64XXH and PM1130H Meters","device_description":"EASYLOGICTM PM1130H Dual Source Power & Energy Meter, Class accuracy 0.5, 01 Relay Contact, 01 RS485 port","baud_rate":[4800,9600,19200,38400],"parity":["Odd","Even","None"]},{"device_make":"SCHNEIDER","device_model":"EM6438H","device_type":"Hexa Series","device_name":"EM64XXH and PM1130H Meters","device_description":"EasyLogicTM EM6438H Dual Power & Energy Meter, Class accuracy 0.5, 01 RS485 port","baud_rate":[4800,9600,19200,38400],"parity":["Odd","Even","None"]},{"device_make":"SCHNEIDER","device_model":"EM6436H","device_type":"Hexa Series","device_name":"EM64XXH and PM1130H Meters","device_description":"EasyLogicTM EM6436H VAF+ PF + Power & Energy Meter, Class accuracy 0.5, 01 RS485 port","baud_rate":[4800,9600,19200,38400],"parity":["Odd","Even","None"]},{"device_make":"SCHNEIDER","device_model":"EM6433H","device_type":"Hexa Series","device_name":"EM64XXH and PM1130H Meters","device_description":"EasyLogicTM EM6433H A+ Power & Energy Meter, Class accuracy 0.5, 01 RS485 port","baud_rate":[4800,9600,19200,38400],"parity":["Odd","Even","None"]},{"device_make":"SCHNEIDER","device_model":"EM6459H","device_type":"Hexa Series","device_name":"EM64XXH and PM1130H Meters","device_description":"EasyLogicTM EM6459H VAF+ PF Digital Meter, Class accuracy 0.5, 01 RS485 port","baud_rate":[4800,9600,19200,38400],"parity":["Odd","Even","None"]},{"device_make":"SCHNEIDER","device_model":"PM 3255","device_type":"PowerLogic","device_name":"PM 3255 Series","device_description":"Din rail Power meter Modbus","baud_rate":[4800,9600,19200,38400],"parity":["Odd","Even","None"]},{"device_make":"SCHNEIDER","device_model":"PM 3210","device_type":"PowerLogic","device_name":"PM 3210Series","device_description":"Din rail Power meter pulse","baud_rate":[4800,9600,19200,38400],"parity":["Odd","Even","None"]},{"device_make":"SCHNEIDER","device_model":"iEM33xx","device_type":"Din Rail Meter","device_name":"iEM33xx","device_description":"Three Phase, 125A Direct Current, Lonwork","baud_rate":[4800,9600,19200,38400],"parity":["Odd","Even","None"]},{"device_make":"SCHNEIDER","device_model":"iEM 3x65","device_type":"Din Rail Meter / Direct Current-Three phase","device_name":"iEM 3x65","device_description":"","baud_rate":[4800,9600,19200,38400],"parity":["Odd","Even","None"]},{"device_make":"SCHNEIDER","device_model":"iEM 3x55","device_type":"Din Rail Meter / Direct Current-Three phase","device_name":"iEM 3x55","device_description":"","baud_rate":[4800,9600,19200,38400],"parity":["Odd","Even","None"]},{"device_make":"SCHNEIDER","device_model":"iEM 3x50","device_type":"Din Rail Meter / Direct Current-Three phase","device_name":"iEM 3x50","device_description":"","baud_rate":[4800,9600,19200,38400],"parity":["Odd","Even","None"]},{"device_make":"SCHNEIDER","device_model":"iEM 3x10","device_type":"Din Rail Meter / Direct Current-Three phase","device_name":"iEM 3x10","device_description":"","baud_rate":[4800,9600,19200,38400],"parity":["Odd","Even","None"]},{"device_make":"ABB","device_model":"M1M 12","device_type":"M1M 12 Multi-function meter","device_name":"M1M 12","device_description":"M1M 12 is a multi-function meter with aux supply 80-300 V AC/DC, LED display","baud_rate":[9600,19200,38400,57600,115200],"parity":["Odd","Even","None"]},{"device_make":"ABB","device_model":"M1M 15","device_type":"M1M 15 Power meter","device_name":"M1M 15","device_description":"M1M 15 Modbus is a multimeter with aux supply 100-230 V AC/DC, LED display, Modbus RTU","baud_rate":[9600,19200,38400,57600,115200],"parity":["Odd","Even","None"]},{"device_make":"ABB","device_model":"M1M 20","device_type":"M1M 20 Power meter","device_name":"M1M 20","device_description":"M1M 20 is a power meter with aux supply 100-230 V AC/DC, LCD display","baud_rate":[9600,19200,38400,57600,115200],"parity":["Odd","Even","None"]},{"device_make":"ABB","device_model":"M1M 30","device_type":"M1M 30 Power meter","device_name":"M1M 30","device_description":"M1M 30 Modbus is a power meter with 2 digital outputs, aux supply 100-230 V AC/DC, LCD display, Modbus RTU","baud_rate":[9600,19200,38400,57600,115200],"parity":["Odd","Even","None"]},{"device_make":"ABB","device_model":"M1M 20B","device_type":"M1M 20B Power meter","device_name":"M1M 20B","device_description":"Power meter, LED display, Modbus RTU. 0,2% accuracy","baud_rate":[9600,19200,38400,57600,115200],"parity":["Odd","Even","None"]},{"device_make":"ABB","device_model":"M1M 30B","device_type":"M1M 30B Power meter","device_name":"M1M 30B","device_description":"Advanced Power meter, LED display, Modbus RTU. 0,5% accuracy","baud_rate":[9600,19200,38400,57600,115200],"parity":["Odd","Even","None"]},{"device_make":"ABB","device_model":"M4M 20","device_type":"M4M 20 Network analyzer","device_name":"M4M 20","device_description":"M4M 20 is a network analyzer with 2 digital outputs, aux supply 48-240 V AC/DC and Bluetooth","baud_rate":[9600,19200,38400,57600,115200],"parity":["Odd","Even","None"]},{"device_make":"ABB","device_model":"M4M 30","device_type":"M4M 30 Network analyzer","device_name":"M4M 30","device_description":"M4M 30 MODBUS is a network analyzer with 4 programmable I/O, aux supply 48-240 V AC/DC, Bluetooth and Modbus RTU","baud_rate":[9600,19200,38400,57600,115200],"parity":["Odd","Even","None"]},{"device_make":"ABB","device_model":"M4M 2X","device_type":"M4M 2X MODBUS Network analyzer","device_name":"M4M 2X","device_description":"M4M 2X Modbus is a network analyzer without display with 2 digital outputs, aux supply 48-240 V AC/DC, Bluetooth and Modbus RTU","baud_rate":[9600,19200,38400,57600,115200],"parity":["Odd","Even","None"]},{"device_make":"SECURE","device_model":"ELITE-440-441","device_type":"Multi-line three-phase panel meter","device_name":"","device_description":"","baud_rate":["1200","2400","4800","9600","19200","38400"],"parity":["Even","Odd","None"]},{"device_make":"SECURE","device_model":"ELITE-440-442","device_type":"Multi-line three-phase panel meter","device_name":"","device_description":"","baud_rate":["1200","2400","4800","9600","19200","38400"],"parity":["Even","Odd","None"]},{"device_make":"SECURE","device_model":"ELITE-440-443","device_type":"Multi-line three-phase panel meter","device_name":"","device_description":"","baud_rate":["1200","2400","4800","9600","19200","38400"],"parity":["Even","Odd","None"]},{"device_make":"SECURE","device_model":"ELITE-440-444","device_type":"Multi-line three-phase panel meter","device_name":"","device_description":"","baud_rate":["1200","2400","4800","9600","19200","38400"],"parity":["Even","Odd","None"]},{"device_make":"SECURE","device_model":"ELITE-440-445","device_type":"Multi-line three-phase panel meter","device_name":"","device_description":"","baud_rate":["1200","2400","4800","9600","19200","38400"],"parity":["Even","Odd","None"]},{"device_make":"SECURE","device_model":"ELITE-440-446","device_type":"Multi-line three-phase panel meter","device_name":"","device_description":"","baud_rate":["1200","2400","4800","9600","19200","38400"],"parity":["Even","Odd","None"]},{"device_make":"SECURE","device_model":"ELITE-440-447","device_type":"Multi-line three-phase panel meter","device_name":"","device_description":"","baud_rate":["1200","2400","4800","9600","19200","38400"],"parity":["Even","Odd","None"]},{"device_make":"SECURE","device_model":"ELITE-440-448","device_type":"Multi-line three-phase panel meter","device_name":"","device_description":"","baud_rate":["1200","2400","4800","9600","19200","38400"],"parity":["Even","Odd","None"]},{"device_make":"SECURE","device_model":"ELITE-100-103","device_type":"Multi-line three-phase panel meter","device_name":"","device_description":"","baud_rate":["1200","2400","4800","9600","19200","38400"],"parity":["Even","Odd","None"]},{"device_make":"SECURE","device_model":"ELITE-300-30A/30B","device_type":"Multi-line three-phase panel meter","device_name":"","device_description":"","baud_rate":["1200","2400","4800","9600","19200","38400"],"parity":["Even","Odd","None"]},{"device_make":"SECURE","device_model":"ELITE-300-303/307","device_type":"Multi-line three-phase panel meter","device_name":"","device_description":"","baud_rate":["1200","2400","4800","9600","19200","38400"],"parity":["Even","Odd","None"]},{"device_make":"TRINITY","device_model":"ME2A1","device_type":"Basic Energy Meter","device_name":"ME2A1","device_description":"Basic energy meter with RS485 MODBUS-RTU communication option.","baud_rate":[2400,4800,9600,19200],"parity":["Odd","Even","None"]},{"device_make":"TRINITY","device_model":"ME2V1","device_type":"Basic Energy Meter","device_name":"ME2V1","device_description":"Basic energy meter with RS485 MODBUS-RTU communication option.","baud_rate":[2400,4800,9600,19200],"parity":["Odd","Even","None"]},{"device_make":"TRINITY","device_model":"ME2A3","device_type":"Basic Energy Meter","device_name":"ME2A3","device_description":"Three phase basic energy meter with RS485 MODBUS-RTU communication option.","baud_rate":[2400,4800,9600,19200],"parity":["Odd","Even","None"]},{"device_make":"TRINITY","device_model":"ME2V3","device_type":"Basic Energy Meter","device_name":"ME2V3","device_description":"Three phase basic energy meter with RS485 MODBUS-RTU communication option.","baud_rate":[2400,4800,9600,19200],"parity":["Odd","Even","None"]},{"device_make":"TRINITY","device_model":"ME2F1","device_type":"Basic Energy Meter","device_name":"ME2F1","device_description":"Basic energy meter with RS485 MODBUS-RTU communication option.","baud_rate":[2400,4800,9600,19200],"parity":["Odd","Even","None"]},{"device_make":"TRINITY","device_model":"PF300","device_type":"Basic Energy Meter","device_name":"PF300","device_description":"Basic energy meter with RS485 MODBUS-RTU communication.","baud_rate":[2400,4800,9600,19200],"parity":["Odd","Even","None"]},{"device_make":"TRINITY","device_model":"Infinity","device_type":"Basic Energy Meter","device_name":"Infinity","device_description":"Dual source energy meter with RS485 MODBUS-RTU communication, whole current models available.","baud_rate":[2400,4800,9600,19200],"parity":["Odd","Even","None"]},{"device_make":"TRINITY","device_model":"Entity","device_type":"Basic Energy Meter","device_name":"Entity","device_description":"Three phase digital energy meter with RS485 MODBUS-RTU communication.","baud_rate":[2400,4800,9600,19200],"parity":["Odd","Even","None"]},{"device_make":"TRINITY","device_model":"VAF","device_type":"Basic Energy Meter","device_name":"VAF","device_description":"Basic energy meter with RS485 MODBUS-RTU communication.","baud_rate":[2400,4800,9600,19200],"parity":["Odd","Even","None"]},{"device_make":"TRINITY","device_model":"Tiny-Pro-6","device_type":"Intelligent & Smart Meter","device_name":"Tiny-Pro-6","device_description":"Multifunction meter with RS485 MODBUS-RTU communication, 0.4 LED display, measures multiple electrical parameters.","baud_rate":[9600],"parity":["None"]},{"device_make":"TRINITY","device_model":"NF29","device_type":"Intelligent & Smart Meter","device_name":"NF29","device_description":"Three phase multifunction meter with RS485 MODBUS-RTU communication.","baud_rate":[9600],"parity":["None"]},{"device_make":"TRINITY","device_model":"Empower Plus","device_type":"Intelligent & Smart Meter","device_name":"Empower Plus","device_description":"Multifunction meter with RS485 MODBUS-RTU communication supporting multiple electrical parameters.","baud_rate":[2400,4800,9600,19200],"parity":["Odd","Even","None"]},{"device_make":"TRINITY","device_model":"Blind Measuring Module","device_type":"Intelligent & Smart Meter","device_name":"Blind Measuring Module","device_description":"Module with RS485 MODBUS-RTU communication for blind measurement applications.","baud_rate":[9600],"parity":["None"]},{"device_make":"TRINITY","device_model":"SLM-PRO","device_type":"Intelligent & Smart Meter","device_name":"SLM-PRO","device_description":"Smart meter with RS485 MODBUS-RTU communication.","baud_rate":[9600],"parity":["None"]},{"device_make":"TRINITY","device_model":"Power PRO","device_type":"Intelligent & Smart Meter","device_name":"Power PRO","device_description":"Three phase multifunction meter with RS485 MODBUS-RTU communication and advanced features.","baud_rate":[2400,4800,9600,19200],"parity":["Odd","Even","None"]},{"device_make":"TRINITY","device_model":"Xpert Lite","device_type":"Demand Controller & Data Logger","device_name":"Xpert Lite","device_description":"Demand controller with RS485 MODBUS-RTU communication.","baud_rate":[9600],"parity":["None"]},{"device_make":"TRINITY","device_model":"Xpert Pro","device_type":"Demand Controller & Data Logger","device_name":"Xpert Pro","device_description":"Demand controller with RS485 MODBUS-RTU communication.","baud_rate":[9600],"parity":["None"]},{"device_make":"TRINITY","device_model":"Xpert Plus","device_type":"Demand Controller & Data Logger","device_name":"Xpert Plus","device_description":"Demand controller and data logger with RS485 MODBUS-RTU communication.","baud_rate":[2400,4800,9600,19200],"parity":["Odd","Even","None"]},{"device_make":"TRINITY","device_model":"Goblin Plus","device_type":"Demand Controller & Data Logger","device_name":"Goblin Plus","device_description":"Demand controller and data logger with RS485 MODBUS-RTU communication.","baud_rate":[9600],"parity":["None"]}]'),Rs=({label:i,value:t,onChange:s,select:r,options:a=[],disabled:u,name:d,required:p,type:m="text"})=>{const y=S=>{const M=S.target.value;s&&s(d,M)},b=r&&a.length&&!a.some(S=>S.value===t)?"":t??"";return D.jsxs(D.Fragment,{children:[D.jsx(Oe,{variant:"body2",sx:{color:"text.secondary"},children:i}),D.jsx(Gn,{select:r,fullWidth:!0,required:p,disabled:u,value:b,onChange:y,size:"small",type:m,inputProps:m==="number"?{min:1,step:1}:{},children:r&&a.map(S=>D.jsx(io,{value:S.value,children:S.label},S.value))})]})};var _d={},eT;function dX(){if(eT)return _d;eT=1;var i=Ei();Object.defineProperty(_d,"__esModule",{value:!0}),_d.default=void 0;var t=i(Bi()),s=Li();return _d.default=(0,t.default)((0,s.jsx)("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"CheckCircleOutline"),_d}var fX=dX();const zf=Qn(fX);var zd={},tT;function pX(){if(tT)return zd;tT=1;var i=Ei();Object.defineProperty(zd,"__esModule",{value:!0}),zd.default=void 0;var t=i(Bi()),s=Li();return zd.default=(0,t.default)((0,s.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline"),zd}var gX=pX();const eN=Qn(gX);var Bd={},nT;function mX(){if(nT)return Bd;nT=1;var i=Ei();Object.defineProperty(Bd,"__esModule",{value:!0}),Bd.default=void 0;var t=i(Bi()),s=Li();return Bd.default=(0,t.default)((0,s.jsx)("path",{d:"M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2zm10 14.5V20H8v-3.5l4-4zm-4-5-4-4V4h8v3.5z"}),"HourglassEmpty"),Bd}var yX=mX();const l0=Qn(yX),xX={meter_make:"",meter_model:"",meter_name:"",meter_type:"",meter_no:"",label:"",con:{baudRate:9600,dataBits:8,stopBits:1,parity:"even"}},vX=({meter:i=xX,onChange:t,jsonDialogOpen:s,onRequestPassword:r,onSave:a,onDelete:u,onClose:d,responseMessage:p,loaderPercentage:m,globalInterval:y,usedMeterNos:b=[]})=>{const S=Rm.find(T=>T.device_make===i?.meter_make&&T.device_model===i?.meter_model)||{},M=S.baud_rate?.map(T=>({value:T,label:T.toString()}))||[{value:9600,label:"9600"}],A=S.parity?.map(T=>({value:T.toLowerCase(),label:T}))||[{value:"even",label:"Even"}],_=Array.from({length:24},(T,B)=>B+2).filter(T=>!b.includes(T)||T===i.meter_no).map(T=>({value:T,label:`id${T}`}));return D.jsxs(ts,{elevation:3,sx:{p:{xs:1,sm:1},borderRadius:2},children:[D.jsxs(Oe,{variant:"h6",gutterBottom:!0,sx:{textAlign:"center",fontWeight:"medium",color:"primary.main"},children:["Edit Meter: ",i?.label||`ID ${i?.meter_no}`]}),D.jsx(Q2,{}),D.jsxs(Yn,{container:!0,spacing:3,children:[D.jsxs(Yn,{item:!0,xs:12,md:6,children:[D.jsx(Oe,{variant:"h6",gutterBottom:!0,sx:{color:"text.secondary"},children:"Device Information"}),D.jsx(Rs,{label:"Make",value:i?.meter_make||"",disabled:!0}),D.jsx(Rs,{label:"Model",value:i?.meter_model||"",disabled:!0}),D.jsx(Rs,{label:"Name",value:i?.meter_name||"",disabled:!0}),D.jsx(Rs,{label:"Type",value:i?.meter_type||"",disabled:!0}),D.jsx(Rs,{label:"Meter No.",value:i?.meter_no===""||i?.meter_no===void 0||i?.meter_no===null?"":Number(i.meter_no),onChange:t,name:"meter_no",select:!0,options:_,disabled:!0}),D.jsxs(Oe,{variant:"body2",sx:{color:"text.secondary",px:1},children:["Current Interval (Global): ",y," sec"]})]}),D.jsxs(Yn,{item:!0,xs:12,md:6,children:[D.jsx(Oe,{variant:"h6",gutterBottom:!0,sx:{color:"text.secondary"},children:"Connection Settings"}),D.jsx(Rs,{label:"Label",value:i?.label||"",onChange:t,name:"label",disabled:!0}),D.jsx(Rs,{label:"BaudRate",value:i?.con?.baudRate||9600,onChange:t,name:"baudRate",select:!0,options:M}),D.jsx(Rs,{label:"DataBits",value:i?.con?.dataBits||8,onChange:t,name:"dataBits",select:!0,options:[{value:8,label:"8"},{value:16,label:"16"}]}),D.jsx(Rs,{label:"StopBits",value:i?.con?.stopBits||1,onChange:t,name:"stopBits",select:!0,options:[{value:1,label:"1"},{value:2,label:"2"}]}),D.jsx(Rs,{label:"Parity",value:i?.con?.parity||"even",onChange:t,name:"parity",select:!0,options:A})]})]}),p&&D.jsxs(Bt,{sx:{borderRadius:1,backgroundColor:p==="success"?"success.light":p==="testing"?"info.light":"error.light",display:"flex",alignItems:"center"},children:[p==="success"?D.jsx(zf,{sx:{color:"success.dark",mr:1}}):p==="testing"?D.jsx(l0,{sx:{color:"info.dark",mr:1}}):D.jsx(eN,{sx:{color:"error.dark",mr:1}}),D.jsx(Oe,{variant:"body2",sx:{color:p==="success"?"success.dark":p==="testing"?"info.dark":"error.dark",fontWeight:"medium"},children:p==="success"?`Test Successful! Response time: ${m}`:p==="testing"?"Testing meter connection...":"Meter connection failed. Check connectivity and settings."})]}),D.jsxs(Bt,{sx:{display:"flex",justifyContent:"flex-end",pt:{xs:1,sm:1,md:1,lg:0},gap:1.5},children:[D.jsx(Sn,{variant:"outlined",size:"small",color:"secondary",onClick:d,children:"Close"}),D.jsx(Sn,{variant:"outlined",size:"small",color:"primary",onClick:()=>r&&r(),disabled:s,startIcon:s?D.jsx(l0,{}):D.jsx(zf,{}),children:"Dashboard"}),D.jsx(Sn,{variant:"outlined",size:"small",color:"error",onClick:u,children:"Delete"}),D.jsx(Sn,{variant:"contained",size:"small",color:"success",onClick:a,disabled:p!=="success",startIcon:D.jsx(zf,{}),children:"Save"})]})]})},bX=({open:i,onClose:t,config:s,onChange:r,onTest:a,onSave:u,testResponse:d,responseMessage:p,loaderPercentage:m,usedMeterNos:y=[],saving:b=!1})=>{const S=[...new Set(Rm.map(z=>z.device_make))].map(z=>({value:z,label:z})),M=Rm.filter(z=>z.device_make===s.meter_make).map(z=>({value:z.device_model,label:z.device_model})),A=Rm.find(z=>z.device_make===s.meter_make&&z.device_model===s.meter_model)||{},R=A.baud_rate?.map(z=>({value:z,label:z.toString()}))||[{value:9600,label:"9600"}],E=A.parity?.map(z=>({value:z.toLowerCase(),label:z}))||[{value:"even",label:"Even"}],B=Array.from({length:24},(z,W)=>W+2).filter(z=>!y.includes(z)||z===s.meter_no).map(z=>({value:z,label:`id${z}`}));return D.jsxs(Ji,{open:i,onClose:t,maxWidth:"md",fullWidth:!0,TransitionComponent:Fi,PaperProps:{sx:{borderRadius:2,boxShadow:5}},children:[D.jsx(Ks,{sx:{textAlign:"center",fontWeight:"medium",pb:1},children:"Add New Meter Configuration"}),D.jsxs(ws,{sx:{pt:"10px !important"},children:[D.jsxs(Yn,{container:!0,spacing:2,sx:{mt:.5},children:[D.jsxs(Yn,{item:!0,xs:12,md:6,children:[D.jsx(Oe,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:"medium",color:"text.secondary"},children:"Device Information"}),D.jsx(Rs,{label:"Make",value:s.meter_make,onChange:r,name:"meter_make",select:!0,options:S,required:!0}),D.jsx(Rs,{label:"Model",value:s.meter_model,onChange:r,name:"meter_model",select:!0,options:M,disabled:!s.meter_make,required:!0}),D.jsx(Rs,{label:"Name",value:A.device_name||"",disabled:!0}),D.jsx(Rs,{label:"Device type",value:A.device_type||"",disabled:!0}),D.jsx(Rs,{label:"Meter no",value:s.meter_no===""||s.meter_no===void 0||s.meter_no===null?"":Number(s.meter_no),onChange:r,name:"meter_no",select:!0,options:B,required:!0}),D.jsx(Rs,{label:"Label",value:s.label,onChange:r,name:"label",disabled:!s.meter_model,required:!0})]}),D.jsxs(Yn,{item:!0,xs:12,md:6,children:[D.jsx(Oe,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:"medium",color:"text.secondary"},children:"Connection Settings"}),D.jsx(Rs,{label:"BaudRate",value:s.con.baudRate,onChange:r,name:"baudRate",select:!0,options:R}),D.jsx(Rs,{label:"DataBits",value:s.con.dataBits,onChange:r,name:"dataBits",select:!0,options:[{value:8,label:"8"},{value:16,label:"16"}]}),D.jsx(Rs,{label:"StopBits",value:s.con.stopBits,onChange:r,name:"stopBits",select:!0,options:[{value:1,label:"1"},{value:2,label:"2"}]}),D.jsx(Rs,{label:"Parity",value:s.con.parity,onChange:r,name:"parity",select:!0,options:E})]})]}),p&&D.jsxs(Bt,{sx:{mt:2,p:1.5,borderRadius:1,backgroundColor:p==="success"?"success.light":p==="testing"?"info.light":"error.light",display:"flex",alignItems:"center"},children:[p==="success"?D.jsx(zf,{sx:{color:"success.dark",mr:1}}):p==="testing"?D.jsx(l0,{sx:{color:"info.dark",mr:1}}):D.jsx(eN,{sx:{color:"error.dark",mr:1}}),D.jsx(Oe,{variant:"body2",sx:{color:p==="success"?"success.dark":p==="testing"?"info.dark":"error.dark",fontWeight:"medium"},children:p==="success"?`Test Successful! Response time: ${m}`:p==="testing"?"Testing meter connection...":"Meter connection failed. Check connectivity and settings."})]})]}),D.jsxs(qs,{sx:{p:"16px 24px",justifyContent:"flex-end",gap:1.5},children:[D.jsx(Sn,{variant:"outlined",color:"secondary",onClick:t,size:"small",children:"Close"}),D.jsx(Sn,{variant:"contained",color:"primary",onClick:a,disabled:!s.label||!s.meter_model||!s.meter_make,size:"small",startIcon:D.jsx(l0,{}),children:"Test"}),D.jsx(Sn,{variant:"contained",color:"success",onClick:u,disabled:p!=="success"||b,size:"small",startIcon:b?D.jsx(mr,{size:20,color:"inherit"}):D.jsx(zf,{}),children:b?"Saving...":"Save"})]})]})},wX=({open:i,onClose:t,onConfirm:s})=>D.jsxs(Ji,{open:i,onClose:t,children:[D.jsx(Ks,{textAlign:"center",children:"Confirm Meter Deletion"}),D.jsx(ws,{children:D.jsxs("div",{children:[D.jsx("span",{children:"Deleting this meter will delete all its data, including any setups in SCADA page and Bill Generation Page."}),D.jsx("br",{}),D.jsx("span",{style:{fontWeight:600},children:"Confirm to Delete this meter?"})]})}),D.jsxs(qs,{children:[D.jsx(Sn,{onClick:t,sx:{mr:1},color:"primary",variant:"outlined",size:"small",children:"No"}),D.jsx(Sn,{onClick:s,sx:{mr:1},color:"error",variant:"contained",size:"small",children:"Yes"})]})]}),SX=({meter:i,isSelected:t,isLive:s,onClick:r,index:a})=>D.jsx(Fi,{in:!0,timeout:150*(a+1),children:D.jsx(Nf,{label:`${i.label} (ID: ${i.meter_no})`,onClick:r,sx:{cursor:"pointer",fontWeight:600,background:s?"green":t?u=>u.palette.primary.main:void 0,color:s?"white":t?u=>u.palette.primary.contrastText:void 0,"&:hover":{background:s?"darkgreen":u=>u.palette.primary.light,color:u=>u.palette.primary.contrastText},transition:"background-color 0.3s, color 0.3s"}})}),Ma=nu(i=>({nodeId:"",userid:"",adminPassword:"",viewerPassword:"",isLoading:!1,error:null,fetchAdminPassword:async()=>{i({isLoading:!0,error:null});try{const t=await Jn.request(Gc);console.log("cddfd",t),t?.allProfiles?.nodes[0]?.adminPassword?i({adminPassword:t.allProfiles.nodes[0].adminPassword,viewerPassword:t.allProfiles.nodes[0].viewerPassword,nodeId:t.allProfiles.nodes[0].nodeId,userid:t.allProfiles.nodes[0].userid,isLoading:!1}):(i({error:"Could not retrieve admin password",isLoading:!1}),it.error("Could not retrieve admin password for confirmation."))}catch(t){console.error("Error fetching admin password:",t),i({error:t.message,isLoading:!1}),it.error("Failed to fetch admin password.")}},clearAdminPassword:()=>{i({adminPassword:"",viewerPassword:"",nodeId:"",userid:"",error:null})}})),Vd=async(i,t)=>{const s=fetch(`${Hn.appBaseUrl}/v2/api/docker/control`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({containerName:i,action:t})}).then(async r=>{const a=await r.json();if(!r.ok)throw new Error(a.error||`Failed to ${t} ${i}`);return a});return it.promise(s,{pending:`Processing ${t}...`,success:r=>`Data Capture ${r.message}ed successfully`,error:r=>`${r.message}`})},CX={list:[{builtIn:1,datasource:{type:"datasource",uid:"grafana"},enable:!0,hide:!0,iconColor:"rgba(0, 211, 255, 1)",name:"Annotations & Alerts",target:{limit:100,matchAny:!1,tags:[],type:"dashboard"},type:"dashboard"}]},kX="",PX=!0,MX=0,TX=0,AX=13,DX=[{asDropdown:!1,icon:"external link",includeVars:!1,keepTime:!1,tags:["VIEW"],targetBlank:!1,title:"HOME",tooltip:"",type:"dashboards",url:""}],EX=!0,NX=JSON.parse('[{"datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"description":"","gridPos":{"h":5,"w":6,"x":0,"y":0},"id":48,"options":{"code":{"language":"plaintext","showLineNumbers":false,"showMiniMap":false},"content":"<img src=\\"https://skylightsenergy.s3.ap-south-1.amazonaws.com/switchologyTranspWhiteLttr.png\\" alt=\\"skylights\\" style=\\"width:210px;height:70px\\"><br>\\r\\nENERGY MANAGEMENT SOLUTIONS, <BR>\\r\\nMETER NAME: xxx yyy zzz<BR>\\r\\nMETER ID: xxx , SAMPLING INTERVAL: xxx <BR>\\r\\nCLIENT : xxx yyy zzz</b>","mode":"html"},"pluginVersion":"10.4.2","type":"text"},{"datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"description":"Status of device, by checking Hz reading from device.","fieldConfig":{"defaults":{"color":{"mode":"fixed"},"mappings":[{"options":{"1":{"color":"green","index":0,"text":"DEVICE ON"}},"type":"value"},{"options":{"match":"null+nan","result":{"color":"red","index":1,"text":"DEVICE OFF"}},"type":"special"}],"noValue":"DEVICE OFF/ NO VALUE","thresholds":{"mode":"absolute","steps":[{"color":"green","value":null}]}},"overrides":[]},"gridPos":{"h":5,"w":3,"x":6,"y":0},"id":53,"options":{"colorMode":"background_solid","graphMode":"area","justifyMode":"auto","orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showPercentChange":false,"textMode":"auto","wideLayout":true},"pluginVersion":"10.4.2","targets":[{"datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"groupBy":[{"params":["10s"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"sky0824d0b767_id3","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["Frequency"],"type":"field"},{"params":[],"type":"last"}]],"tags":[]}],"title":"DEVICE STATUS","transformations":[{"id":"calculateField","options":{"binary":{"left":"sky0824d0b767_id3.last","operator":"/","right":"sky0824d0b767_id3.last"},"mode":"binary","reduce":{"reducer":"sum"},"replaceFields":true}}],"type":"stat"},{"datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"description":"Load VA Live reading.","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"noValue":"METER OFF/ NO VALUE","thresholds":{"mode":"absolute","steps":[{"color":"green","value":null}]},"unit":"voltamp"},"overrides":[]},"gridPos":{"h":5,"w":3,"x":9,"y":0},"id":52,"options":{"colorMode":"background","graphMode":"area","justifyMode":"auto","orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showPercentChange":false,"text":{},"textMode":"value_and_name","wideLayout":true},"pluginVersion":"10.4.2","targets":[{"$$hashKey":"object:45","aggregation":"Last","alias":"LOAD VA","datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"decimals":2,"displayAliasType":"Warning / Critical","displayType":"Regular","displayValueWithAlias":"Never","groupBy":[],"measurement":"sky0824d0b767_id3","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["VA_Total"],"type":"field"}]],"tags":[],"units":"none","valueHandler":"Number Threshold"}],"title":"SKYMTR LOAD KVA","type":"stat"},{"datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"description":"Energy reading from device in KWH.","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"decimals":3,"fieldMinMax":false,"mappings":[],"noValue":"NO VALUE","thresholds":{"mode":"absolute","steps":[{"color":"green","value":null}]},"unit":"watth"},"overrides":[]},"gridPos":{"h":5,"w":3,"x":12,"y":0},"id":30,"options":{"colorMode":"background","graphMode":"area","justifyMode":"auto","orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showPercentChange":false,"text":{},"textMode":"auto","wideLayout":true},"pluginVersion":"10.4.2","targets":[{"$$hashKey":"object:45","aggregation":"Last","alias":"ENERGY KWH","datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"decimals":2,"displayAliasType":"Warning / Critical","displayType":"Regular","displayValueWithAlias":"Never","groupBy":[],"measurement":"sky0824d0b767_id3","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["Wh_Received"],"type":"field"}]],"tags":[],"units":"none","valueHandler":"Number Threshold"}],"title":"SKYMTR ENERGY KWH","type":"stat"},{"datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"description":"Average KWH Energy reading per hour. Considering the last 30 days.","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"noValue":"NO VALUE","thresholds":{"mode":"absolute","steps":[{"color":"green","value":null}]},"unit":"watth"},"overrides":[]},"gridPos":{"h":5,"w":3,"x":15,"y":0},"id":60,"options":{"colorMode":"background","graphMode":"area","justifyMode":"auto","orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showPercentChange":false,"text":{},"textMode":"auto","wideLayout":true},"pluginVersion":"10.4.2","targets":[{"$$hashKey":"object:45","aggregation":"Last","alias":"ENERGY KWH","datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"decimals":2,"displayAliasType":"Warning / Critical","displayType":"Regular","displayValueWithAlias":"Never","groupBy":[{"params":["720h"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"sky0824d0b767_id3","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["Wh_Received"],"type":"field"},{"params":[],"type":"mean"},{"params":[],"type":"difference"}]],"tags":[],"units":"none","valueHandler":"Number Threshold"}],"title":"SKYMTR AVE KWH PERHOUR","type":"stat"},{"datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"description":"Peak Load VA Reading of the past 30 days.","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"max":100,"min":0,"noValue":"NO VALUE","thresholds":{"mode":"absolute","steps":[{"color":"green","value":null}]},"unit":"voltamp"},"overrides":[]},"gridPos":{"h":5,"w":3,"x":18,"y":0},"id":45,"options":{"colorMode":"background","graphMode":"area","justifyMode":"auto","orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showPercentChange":false,"textMode":"auto","wideLayout":true},"pluginVersion":"10.4.2","targets":[{"$$hashKey":"object:45","aggregation":"Last","alias":"MAX LOAD","datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"decimals":2,"displayAliasType":"Warning / Critical","displayType":"Regular","displayValueWithAlias":"Never","groupBy":[{"params":["720h"],"type":"time"},{"params":["previous"],"type":"fill"}],"measurement":"sky0824d0b767_id3","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["VA_Total"],"type":"field"},{"params":[],"type":"max"}]],"tags":[],"units":"none","valueHandler":"Number Threshold"}],"title":"SKYMTR PEAK LOAD VA","type":"stat"},{"datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"description":"Percentage of Load compared to last 24 Hours Load, calculated with Current readings.","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"max":1,"min":0,"noValue":"OFF","thresholds":{"mode":"percentage","steps":[{"color":"green","value":null},{"color":"blue","value":0},{"color":"green","value":20},{"color":"yellow","value":40},{"color":"orange","value":60},{"color":"red","value":80}]},"unit":"percentunit"},"overrides":[]},"gridPos":{"h":5,"w":3,"x":21,"y":0},"id":47,"options":{"minVizHeight":75,"minVizWidth":75,"orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showThresholdLabels":false,"showThresholdMarkers":true,"sizing":"auto","text":{}},"pluginVersion":"10.4.2","targets":[{"$$hashKey":"object:45","aggregation":"Last","alias":"LASTCURRENT","datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"decimals":2,"displayAliasType":"Warning / Critical","displayType":"Regular","displayValueWithAlias":"Never","groupBy":[{"params":["720h"],"type":"time"},{"params":["none"],"type":"fill"}],"hide":false,"measurement":"sky0824d0b767_id3","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["Avg_Current"],"type":"field"},{"params":[],"type":"last"}]],"tags":[],"units":"none","valueHandler":"Number Threshold"},{"$$hashKey":"object:45","aggregation":"Last","alias":"MAXCURRENT","datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"decimals":2,"displayAliasType":"Warning / Critical","displayType":"Regular","displayValueWithAlias":"Never","groupBy":[{"params":["720h"],"type":"time"},{"params":["none"],"type":"fill"}],"hide":false,"measurement":"sky0824d0b767_id3","orderByTime":"ASC","policy":"default","refId":"B","resultFormat":"time_series","select":[[{"params":["Avg_Current"],"type":"field"},{"params":[],"type":"max"}]],"tags":[],"units":"none","valueHandler":"Number Threshold"}],"title":"SKYMTR CURRENT LOAD %","transformations":[{"id":"calculateField","options":{"alias":"CURRENT %","binary":{"left":"LASTCURRENT","operator":"/","right":"MAXCURRENT"},"mode":"binary","reduce":{"include":["LASTCURRENT"],"reducer":"sum"},"replaceFields":true}}],"type":"gauge"},{"datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"description":"Percentage Share of Voltage across each phase. Live reading.","fieldConfig":{"defaults":{"color":{"fixedColor":"text","mode":"shades"},"custom":{"hideFrom":{"legend":false,"tooltip":false,"viz":false}},"mappings":[],"noValue":"OFF","unit":"volt"},"overrides":[]},"gridPos":{"h":5,"w":3,"x":0,"y":5},"id":22,"options":{"displayLabels":["value","percent"],"legend":{"displayMode":"table","placement":"right","showLegend":false,"values":["percent","value"]},"pieType":"pie","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"tooltip":{"mode":"multi","sort":"none"}},"pluginVersion":"8.0.6","targets":[{"$$hashKey":"object:45","aggregation":"Last","alias":"RY VOLTAGE","datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"decimals":2,"displayAliasType":"Warning / Critical","displayType":"Regular","displayValueWithAlias":"Never","groupBy":[{"params":["20s"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"sky0824d0b767_id3","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["VRY_Phase"],"type":"field"},{"params":[],"type":"last"}]],"tags":[],"units":"none","valueHandler":"Number Threshold"},{"$$hashKey":"object:45","aggregation":"Last","alias":"YB VOLTAGE","datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"decimals":2,"displayAliasType":"Warning / Critical","displayType":"Regular","displayValueWithAlias":"Never","groupBy":[{"params":["20s"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":false,"measurement":"sky0824d0b767_id3","orderByTime":"ASC","policy":"default","refId":"B","resultFormat":"time_series","select":[[{"params":["Vyb_Phase"],"type":"field"},{"params":[],"type":"last"}]],"tags":[],"units":"none","valueHandler":"Number Threshold"},{"$$hashKey":"object:45","aggregation":"Last","alias":"BR VOLTAGE","datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"decimals":2,"displayAliasType":"Warning / Critical","displayType":"Regular","displayValueWithAlias":"Never","groupBy":[{"params":["20s"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":false,"measurement":"sky0824d0b767_id3","orderByTime":"ASC","policy":"default","refId":"C","resultFormat":"time_series","select":[[{"params":["Vbr_Phase"],"type":"field"},{"params":[],"type":"last"}]],"tags":[],"units":"none","valueHandler":"Number Threshold"}],"title":"SKYMTR VOLT P-P%","type":"piechart"},{"datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"description":"Average Ph-Ph Voltage Live reading.","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"max":456.5,"min":373.5,"noValue":"OFF","thresholds":{"mode":"percentage","steps":[{"color":"green","value":null}]},"unit":"volt"},"overrides":[{"matcher":{"id":"byName","options":"METER1: PH-PH VOLTAGE"},"properties":[{"id":"thresholds","value":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":373},{"color":"green","value":394},{"color":"red","value":435.75}]}}]}]},"gridPos":{"h":5,"w":3,"x":3,"y":5},"id":54,"options":{"minVizHeight":75,"minVizWidth":75,"orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showThresholdLabels":false,"showThresholdMarkers":true,"sizing":"auto","text":{}},"pluginVersion":"10.4.2","targets":[{"$$hashKey":"object:45","aggregation":"Last","alias":"SKYMTR PH-PH VOLTAGE","datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"decimals":2,"displayAliasType":"Warning / Critical","displayType":"Regular","displayValueWithAlias":"Never","groupBy":[{"params":["10s"],"type":"time"},{"params":["previous"],"type":"fill"}],"measurement":"sky0824d0b767_id3","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["VLL_Average"],"type":"field"},{"params":[],"type":"last"}]],"tags":[],"units":"none","valueHandler":"Number Threshold"}],"title":"SKYMTR P-P VOLT","type":"gauge"},{"datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"description":"Average Ph-N Voltage Live reading.","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"decimals":0,"mappings":[],"max":255,"min":205,"noValue":"OFF","thresholds":{"mode":"percentage","steps":[{"color":"green","value":null}]},"unit":"volt"},"overrides":[{"matcher":{"id":"byName","options":"V PH-N"},"properties":[{"id":"thresholds","value":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":0},{"color":"green","value":218.5},{"color":"red","value":241.5}]}}]}]},"gridPos":{"h":5,"w":3,"x":6,"y":5},"id":21,"options":{"minVizHeight":75,"minVizWidth":75,"orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showThresholdLabels":false,"showThresholdMarkers":true,"sizing":"auto","text":{}},"pluginVersion":"10.4.2","targets":[{"$$hashKey":"object:45","aggregation":"Last","alias":"V PH-N","datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"decimals":2,"displayAliasType":"Warning / Critical","displayType":"Regular","displayValueWithAlias":"Never","groupBy":[{"params":["10s"],"type":"time"},{"params":["none"],"type":"fill"}],"measurement":"sky0824d0b767_id3","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["VLN_Average"],"type":"field"},{"params":[],"type":"last"}]],"tags":[],"units":"none","valueHandler":"Number Threshold"}],"title":"SKYMTR VOLT P-N","type":"gauge"},{"datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"description":"Frequency Live reading.","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"max":52,"min":48,"noValue":"OFF","thresholds":{"mode":"percentage","steps":[{"color":"green","value":null}]},"unit":"rothz"},"overrides":[{"matcher":{"id":"byName","options":"FREQUENCY"},"properties":[{"id":"thresholds","value":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":48},{"color":"green","value":49},{"color":"red","value":51}]}}]}]},"gridPos":{"h":5,"w":3,"x":9,"y":5},"id":20,"options":{"colorMode":"value","graphMode":"none","justifyMode":"auto","orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showPercentChange":false,"textMode":"auto","wideLayout":true},"pluginVersion":"10.4.2","targets":[{"$$hashKey":"object:45","aggregation":"Last","alias":"FREQUENCY","datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"decimals":2,"displayAliasType":"Warning / Critical","displayType":"Regular","displayValueWithAlias":"Never","groupBy":[{"params":["10s"],"type":"time"},{"params":["previous"],"type":"fill"}],"measurement":"sky0824d0b767_id3","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["Frequency"],"type":"field"},{"params":[],"type":"last"}]],"tags":[],"units":"none","valueHandler":"Number Threshold"}],"title":"SKYMTR FREQUENCY","type":"stat"},{"datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"description":"Power Factor live reading.","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"max":1.5,"min":-1.5,"noValue":"OFF","thresholds":{"mode":"percentage","steps":[{"color":"green","value":null}]},"unit":"none"},"overrides":[{"matcher":{"id":"byName","options":"SKYMTR PF"},"properties":[{"id":"thresholds","value":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"green","value":-0.91},{"color":"red","value":-0.9},{"color":"red","value":0.9},{"color":"green","value":0.91}]}}]}]},"gridPos":{"h":5,"w":3,"x":12,"y":5},"id":19,"options":{"minVizHeight":75,"minVizWidth":75,"orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showThresholdLabels":false,"showThresholdMarkers":true,"sizing":"auto","text":{}},"pluginVersion":"10.4.2","targets":[{"$$hashKey":"object:45","aggregation":"Last","alias":"SKYMTR PF","datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"decimals":2,"displayAliasType":"Warning / Critical","displayType":"Regular","displayValueWithAlias":"Never","groupBy":[{"params":["10s"],"type":"time"},{"params":["previous"],"type":"fill"}],"measurement":"sky0824d0b767_id3","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["PF_Ave_Inst"],"type":"field"},{"params":[],"type":"last"}]],"tags":[],"units":"none","valueHandler":"Number Threshold"}],"title":"SKYMTR PF","type":"gauge"},{"datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"description":"Power Factor reading chart.","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":25,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":5,"w":3,"x":15,"y":5},"id":59,"options":{"legend":{"calcs":[],"displayMode":"hidden","placement":"right","showLegend":false},"tooltip":{"mode":"single","sort":"none"}},"pluginVersion":"10.4.2","targets":[{"$$hashKey":"object:45","aggregation":"Last","alias":"SKYMTR PF","datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"decimals":2,"displayAliasType":"Warning / Critical","displayType":"Regular","displayValueWithAlias":"Never","groupBy":[{"params":["20s"],"type":"time"},{"params":["previous"],"type":"fill"}],"measurement":"sky0824d0b767_id3","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["PF_Ave_Inst"],"type":"field"},{"params":[],"type":"last"}]],"tags":[],"units":"none","valueHandler":"Number Threshold"}],"title":"SKYMTR PF","type":"timeseries"},{"datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"description":"Any Alerts for this meter will be displayed here.","gridPos":{"h":5,"w":6,"x":18,"y":5},"id":61,"options":{"alertInstanceLabelFilter":"","alertName":"","dashboardAlerts":true,"groupBy":[],"groupMode":"default","maxItems":5,"sortOrder":3,"stateFilter":{"error":true,"firing":true,"noData":false,"normal":false,"pending":true},"viewMode":"list"},"pluginVersion":"8.0.6","targets":[{"$$hashKey":"object:45","aggregation":"Last","alias":"RY VOLTAGE","datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"decimals":2,"displayAliasType":"Warning / Critical","displayType":"Regular","displayValueWithAlias":"Never","groupBy":[{"params":["20s"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"sky0824d0b767_id3","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["VRY_Phase"],"type":"field"},{"params":[],"type":"last"}]],"tags":[],"units":"none","valueHandler":"Number Threshold"},{"$$hashKey":"object:45","aggregation":"Last","alias":"YB VOLTAGE","datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"decimals":2,"displayAliasType":"Warning / Critical","displayType":"Regular","displayValueWithAlias":"Never","groupBy":[{"params":["20s"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":false,"measurement":"sky0824d0b767_id3","orderByTime":"ASC","policy":"default","refId":"B","resultFormat":"time_series","select":[[{"params":["VYB_Phase"],"type":"field"},{"params":[],"type":"last"}]],"tags":[],"units":"none","valueHandler":"Number Threshold"},{"$$hashKey":"object:45","aggregation":"Last","alias":"BR VOLTAGE","datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"decimals":2,"displayAliasType":"Warning / Critical","displayType":"Regular","displayValueWithAlias":"Never","groupBy":[{"params":["20s"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":false,"measurement":"sky0824d0b767_id3","orderByTime":"ASC","policy":"default","refId":"C","resultFormat":"time_series","select":[[{"params":["VBR_Phase"],"type":"field"},{"params":[],"type":"last"}]],"tags":[],"units":"none","valueHandler":"Number Threshold"}],"title":"SKYMTR Alerts List","type":"alertlist"},{"datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"description":"Reading of Voltage per phase-phase, average of time interval set.","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unit":"volt"},"overrides":[{"matcher":{"id":"byName","options":"VOLTAGE RY"},"properties":[{"id":"color","value":{"fixedColor":"dark-red","mode":"fixed"}}]},{"matcher":{"id":"byName","options":"VOLTAGE YB"},"properties":[{"id":"color","value":{"fixedColor":"dark-yellow","mode":"fixed"}}]},{"matcher":{"id":"byName","options":"VOLTAGE BR"},"properties":[{"id":"color","value":{"fixedColor":"dark-blue","mode":"fixed"}}]}]},"gridPos":{"h":4,"w":7,"x":0,"y":10},"id":18,"options":{"colorMode":"value","graphMode":"area","justifyMode":"auto","orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showPercentChange":false,"textMode":"auto","wideLayout":true},"pluginVersion":"10.4.2","targets":[{"alias":"SKYMTR VOLTAGE RY","datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"groupBy":[{"params":["20s"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"sky0824d0b767_id3","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["VRY_Phase"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]},{"alias":"SKYMTR VOLTAGE YB","datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"groupBy":[{"params":["20s"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":false,"measurement":"sky0824d0b767_id3","orderByTime":"ASC","policy":"default","refId":"B","resultFormat":"time_series","select":[[{"params":["VYB_Phase"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]},{"alias":"SKYMTR VOLTAGE BR","datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"groupBy":[{"params":["20s"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":false,"measurement":"sky0824d0b767_id3","orderByTime":"ASC","policy":"default","refId":"C","resultFormat":"time_series","select":[[{"params":["VBR_Phase"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]}],"title":"SKYMTR VOLTAGE PER PHASE","type":"stat"},{"datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"description":"Reading of Watts per phase average of time interval set.","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"noValue":"NO VALUE","thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unit":"voltamp"},"overrides":[{"matcher":{"id":"byName","options":"LOAD VA R"},"properties":[{"id":"color","value":{"fixedColor":"dark-red","mode":"fixed"}}]},{"matcher":{"id":"byName","options":"LOAD VA Y"},"properties":[{"id":"color","value":{"fixedColor":"dark-yellow","mode":"fixed"}}]},{"matcher":{"id":"byName","options":"LOAD VA B"},"properties":[{"id":"color","value":{"fixedColor":"dark-blue","mode":"fixed"}}]}]},"gridPos":{"h":4,"w":8,"x":7,"y":10},"id":49,"options":{"colorMode":"background","graphMode":"area","justifyMode":"auto","orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showPercentChange":false,"textMode":"auto","wideLayout":true},"pluginVersion":"10.4.2","targets":[{"alias":"LOAD VA R","datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"groupBy":[{"params":["20s"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"sky0824d0b767_id3","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["VA_R_Phase"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]},{"alias":"LOAD VA Y","datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"groupBy":[{"params":["20s"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":false,"measurement":"sky0824d0b767_id3","orderByTime":"ASC","policy":"default","refId":"B","resultFormat":"time_series","select":[[{"params":["VA_Y_Phase"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]},{"alias":"LOAD VA B","datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"groupBy":[{"params":["20s"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":false,"measurement":"sky0824d0b767_id3","orderByTime":"ASC","policy":"default","refId":"C","resultFormat":"time_series","select":[[{"params":["VA_B_Phase"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]}],"title":"SKYMTR LOAD PER PH","type":"stat"},{"datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"description":"Reading of Current per phase average of time interval set.","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unit":"amp"},"overrides":[{"matcher":{"id":"byName","options":"CURRENT RPH"},"properties":[{"id":"color","value":{"fixedColor":"dark-red","mode":"fixed"}}]},{"matcher":{"id":"byName","options":"CURRENT YPH"},"properties":[{"id":"color","value":{"fixedColor":"dark-yellow","mode":"fixed"}}]},{"matcher":{"id":"byName","options":"CURRENT BPH"},"properties":[{"id":"color","value":{"fixedColor":"dark-blue","mode":"fixed"}}]}]},"gridPos":{"h":4,"w":9,"x":15,"y":10},"id":50,"options":{"colorMode":"background","graphMode":"area","justifyMode":"auto","orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showPercentChange":false,"textMode":"auto","wideLayout":true},"pluginVersion":"10.4.2","targets":[{"alias":"CURRENT RPH","datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"groupBy":[{"params":["20s"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"sky0824d0b767_id3","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["Current_R_Phase"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]},{"alias":"CURRENT YPH","datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"groupBy":[{"params":["20s"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":false,"measurement":"sky0824d0b767_id3","orderByTime":"ASC","policy":"default","refId":"B","resultFormat":"time_series","select":[[{"params":["Current_Y_Phase"],"type":"field"},{"params":[],"type":"last"}]],"tags":[]},{"alias":"CURRENT BPH","datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"groupBy":[{"params":["20s"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":false,"measurement":"sky0824d0b767_id3","orderByTime":"ASC","policy":"default","refId":"C","resultFormat":"time_series","select":[[{"params":["Current_B_Phase"],"type":"field"},{"params":[],"type":"last"}]],"tags":[]}],"title":"SKYMTR CURRENT PER PHASE","type":"stat"},{"datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":13,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":4,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unit":"amp"},"overrides":[{"matcher":{"id":"byName","options":"SKYMTR CURRENT RPH"},"properties":[{"id":"color","value":{"fixedColor":"dark-red","mode":"fixed"}}]},{"matcher":{"id":"byName","options":"SKYMTR CURRENT YPH"},"properties":[{"id":"color","value":{"fixedColor":"dark-yellow","mode":"fixed"}}]},{"matcher":{"id":"byName","options":"SKYMTR CURRENT BPH"},"properties":[{"id":"color","value":{"fixedColor":"dark-blue","mode":"fixed"}}]},{"__systemRef":"hideSeriesFrom","matcher":{"id":"byNames","options":{"mode":"exclude","names":["SKYMTR CURRENT RPH"],"prefix":"All except:","readOnly":true}},"properties":[{"id":"custom.hideFrom","value":{"legend":false,"tooltip":false,"viz":true}}]}]},"gridPos":{"h":10,"w":6,"x":0,"y":14},"id":17,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"alias":"SKYMTR CURRENT RPH","datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"groupBy":[{"params":["20s"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"sky0824d0b767_id3","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["Current_R_Phase"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]},{"alias":"SKYMTR CURRENT YPH","datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"groupBy":[{"params":["20s"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":false,"measurement":"sky0824d0b767_id3","orderByTime":"ASC","policy":"default","refId":"B","resultFormat":"time_series","select":[[{"params":["Current_Y_Phase"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]},{"alias":"SKYMTR CURRENT AVERAGE","datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"groupBy":[{"params":["20s"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":false,"measurement":"sky0824d0b767_id3","orderByTime":"ASC","policy":"default","refId":"C","resultFormat":"time_series","select":[[{"params":["Current_Total"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]},{"alias":"SKYMTR CURRENT BPH","datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"groupBy":[{"params":["20s"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":false,"measurement":"sky0824d0b767_id3","orderByTime":"ASC","policy":"default","refId":"D","resultFormat":"time_series","select":[[{"params":["Current_B_Phase"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]}],"title":"SKYMTR CURRENT A","type":"timeseries"},{"datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"description":"Current Harmonics across each phase.","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":13,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":4,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unit":"percent"},"overrides":[{"matcher":{"id":"byName","options":"SKYMTR A Harmonics RPH"},"properties":[{"id":"color","value":{"fixedColor":"dark-red","mode":"fixed"}}]},{"matcher":{"id":"byName","options":"SKYMTR A Harmonics YPH"},"properties":[{"id":"color","value":{"fixedColor":"dark-yellow","mode":"fixed"}}]},{"matcher":{"id":"byName","options":"SKYMTR A Harmonics BPH"},"properties":[{"id":"color","value":{"fixedColor":"dark-blue","mode":"fixed"}}]}]},"gridPos":{"h":10,"w":6,"x":6,"y":14},"id":58,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"alias":"SKYMTR A Harmonics RPH","datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"groupBy":[{"params":["20s"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"sky0824d0b767_id3","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["Current_R_Harmonics"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]},{"alias":"SKYMTR A Harmonics YPH","datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"groupBy":[{"params":["20s"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":false,"measurement":"sky0824d0b767_id3","orderByTime":"ASC","policy":"default","refId":"B","resultFormat":"time_series","select":[[{"params":["Current_Y_Harmonics"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]},{"alias":"SKYMTR A Harmonics BPH","datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"groupBy":[{"params":["20s"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":false,"measurement":"sky0824d0b767_id3","orderByTime":"ASC","policy":"default","refId":"C","resultFormat":"time_series","select":[[{"params":["Current_B_Harmonics"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]}],"title":"SKYMTR Current Harmonics","type":"timeseries"},{"datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":13,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":4,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unit":"voltamp"},"overrides":[{"matcher":{"id":"byName","options":"SKYMTR LOAD RPH"},"properties":[{"id":"color","value":{"fixedColor":"dark-red","mode":"fixed"}}]},{"matcher":{"id":"byName","options":"SKYMTR LOAD YPH"},"properties":[{"id":"color","value":{"fixedColor":"dark-yellow","mode":"fixed"}}]},{"matcher":{"id":"byName","options":"SKYMTR LOAD BPH"},"properties":[{"id":"color","value":{"fixedColor":"dark-blue","mode":"fixed"}}]}]},"gridPos":{"h":10,"w":6,"x":12,"y":14},"id":57,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"alias":"SKYMTR LOAD RPH","datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"groupBy":[{"params":["20s"],"type":"time"},{"params":["null"],"type":"fill"}],"measurement":"sky0824d0b767_id3","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["VA_R_Phase"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]},{"alias":"SKYMTR LOAD YPH","datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"groupBy":[{"params":["20s"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":false,"measurement":"sky0824d0b767_id3","orderByTime":"ASC","policy":"default","refId":"B","resultFormat":"time_series","select":[[{"params":["VA_Y_Phase"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]},{"alias":"SKYMTR LOAD BPH","datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"groupBy":[{"params":["20s"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":false,"measurement":"sky0824d0b767_id3","orderByTime":"ASC","policy":"default","refId":"C","resultFormat":"time_series","select":[[{"params":["VA_B_Phase"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]},{"alias":"SKYMTR LOAD TOTAL","datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"groupBy":[{"params":["20s"],"type":"time"},{"params":["null"],"type":"fill"}],"hide":false,"measurement":"sky0824d0b767_id3","orderByTime":"ASC","policy":"default","refId":"D","resultFormat":"time_series","select":[[{"params":["VA_Total"],"type":"field"},{"params":[],"type":"mean"}]],"tags":[]}],"title":"SKYMTR LOAD VA","type":"timeseries"},{"datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":20,"gradientMode":"hue","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"always","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"noValue":"NO VALUE","thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unit":"watt"},"overrides":[]},"gridPos":{"h":10,"w":6,"x":18,"y":14},"id":51,"options":{"legend":{"calcs":["min","max","mean","sum"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"alias":"SKYMTR ENERGY WATTS","datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"groupBy":[],"measurement":"sky0824d0b767_id3","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["Wh_Received"],"type":"field"},{"params":[],"type":"difference"}]],"tags":[]}],"title":"SKYMTR ENERGY WATTS","type":"timeseries"},{"datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"gridPos":{"h":2,"w":24,"x":0,"y":24},"id":34,"options":{"code":{"language":"plaintext","showLineNumbers":false,"showMiniMap":false},"content":"<i>The data displayed is based solely on meter readings. \\nAll data is confidential under the agreement between Client and M/s. Skylights Energy, Bangalore. \\nSkylights Energy is not responsible or liable for its accuracy or usage. \\n<br>Sharing requires prior approval from the Client.\\n</i>\\n<hr>  ","mode":"markdown"},"pluginVersion":"10.4.2","targets":[{"datasource":{"type":"influxdb","uid":"b93ed14d-fa70-4639-a3c4-8faeec58eafa"},"measurement":"sky0824d0b767_id3","refId":"A"}],"type":"text"}]'),RX="5s",LX=39,OX=["VIEW"],IX={list:[]},FX={from:"now-30m",to:"now"},jX={},_X="browser",zX="sky0824d0b767_id3_sample",BX="m92nii3s7m",VX=10,HX="",WX={annotations:CX,description:kX,editable:PX,fiscalYearStartMonth:MX,graphTooltip:TX,id:AX,links:DX,liveNow:EX,panels:NX,refresh:RX,schemaVersion:LX,tags:OX,templating:IX,time:FX,timepicker:jX,timezone:_X,title:zX,uid:BX,version:VX,weekStart:HX},$X=()=>{const i=Date.now().toString(36),t=Math.random().toString(36).substring(2,6);return(i+t).substring(0,10)},YX=(i,t,s)=>{if(!i)return{};const r=`${i.device}_id${i.meter_no}`,a=JSON.parse(JSON.stringify(WX));return a.uid=$X(),a.title=r,Array.isArray(a.tags)&&(a.tags=["VIEW"]),Array.isArray(a.panels)&&(a.panels=a.panels.map(u=>{if(u.options?.content?.includes("switchologyTranspWhiteLttr.png")&&u.options?.mode==="html"){const d=r.split("_")[1]||"";return{...u,options:{...u.options,content:`<img src="https://skylightsenergy.s3.ap-south-1.amazonaws.com/switchologyTranspWhiteLttr.png" alt="skylights" style="width:210px;height:70px"><br>\r
ENERGY MANAGEMENT SOLUTIONS, <BR>\r
METER NAME: ${r}<BR>\r
METER ID: ${d}, SAMPLING INTERVAL: ${t} <BR>\r
CLIENT : ${Hn.orgName}</b>`,mode:"html"}}}return u.title==="DEVICE STATUS"&&u.transformations?{...u,title:u.title?u.title.replace(/SKYMTR/g,i?.label):u.title,description:u.description?u.description.replace(/SKYMTR/g,i?.label):u.description,transformations:u.transformations.map(d=>({...d,options:{...d.options,binary:{...d.options.binary,left:`${r}.last`,right:`${r}.last`}}})),targets:u.targets?.map(d=>({...d,measurement:r,alias:d.alias?d.alias.replace(/SKYMTR/g,i?.label):d.alias}))}:{...u,title:u.title?u.title.replace(/SKYMTR/g,i?.label):u.title,description:u.description?u.description.replace(/SKYMTR/g,i?.label):u.description,targets:u.targets?.map(d=>({...d,measurement:r,alias:d.alias?d.alias.replace(/SKYMTR/g,i?.label):d.alias}))}})),a},UX=()=>{const[i,t]=X.useState(!0),[s,r]=X.useState([]),[a,u]=X.useState(null),[d,p]=X.useState(!1),[m,y]=X.useState(!1),[b,S]=X.useState(""),[M,A]=X.useState(0),[R,E]=X.useState({}),[_,T]=X.useState(!1),[B,z]=X.useState(!1),[W,L]=X.useState(!1),[U,I]=X.useState(null),[q,ee]=X.useState(!1),[te,ce]=X.useState(10),[re,ae]=X.useState(""),[ue,ie]=X.useState(!1),[he,pe]=X.useState({}),[de,xe]=X.useState(!1),[Se,be]=X.useState(null),[Ne,_e]=X.useState(!1),[Me,qe]=X.useState(""),[ze,$e]=X.useState(null),[Ue,Pe]=X.useState(null),Re={meter_type:"",meter_name:"",meter_no:2,meter_model:"",meter_make:"",label:"",device:Hn.gatewayName,con:{baudRate:9600,dataBits:8,stopBits:1,parity:"even",lock:!1}},[De,je]=X.useState(Re),[Ee,Qe]=X.useState(null),[ut,Ht]=X.useState(!1),un=ft=>{qe(ft||"");try{const mt=JSON.parse(ft||"{}");E(mt),T(!0),$e(null)}catch(mt){$e(mt.message)}};X.useEffect(()=>{if(!Se||!window.monaco)return;const ft=Se.addCommand(window.monaco.KeyMod.CtrlCmd|window.monaco.KeyCode.KeyS,()=>{it.success("Saved (Ctrl+S)")});return()=>{ft&&ft.dispose&&ft.dispose()}},[Se]),X.useEffect(()=>{ie(!0);const ft=async()=>{try{await Ma.getState().fetchAdminPassword();const mt=Ma.getState().adminPassword;console.log(mt),mt&&ae(mt||"")}catch(mt){console.error("Error fetching profile data:",mt),it.error("Failed to fetch profile data.")}};Ct(),ft(),t(!0)},[]);const Ct=async()=>{try{const mt=(await Jn.request(dw))?.allMeterConfigrations?.nodes||[];console.log("meters=>",mt,tm);const Rt=mt.filter(Te=>Te.con&&tm.some(Nn=>Nn.device_make===Te.meterMake&&Nn.device_model===Te.meterModel&&Array.isArray(Nn.baud_rate)&&Nn.baud_rate.map(Number).includes(Number(JSON.parse(Te.con).baudRate)))).map(Te=>({...Te,meter_no:Te.meterNo,meter_name:Te.meterName,meter_model:Te.meterModel,meter_make:Te.meterMake,meter_type:Te.meterType,con:typeof Te.con=="string"?JSON.parse(Te.con):Te.con}));if(console.log("validMeters=>",Rt),r(Rt),Rt.length>0){const Te=Rt.map(Dn=>Dn.interval),Nn=Array.from(new Set(Te));q||(Nn.length===1?ce(Nn[0]):ce(10))}else q||ce(null);const an=new Set(Rt.map(Te=>Te.meter_no));let gt=2;for(;an.has(gt);)gt++;Qe(Te=>Te&&Rt.some(Dn=>Dn.meter_no===Te.meter_no)?Te:null)}catch(ft){console.error("Meter config fetch error:",ft)}finally{t(!1)}},ht=async()=>{const ft=Math.max(1,te);if(isNaN(ft)||ft<=0){it.error("Please enter a valid positive number for the interval.");return}try{await Promise.all(s.map(async mt=>{try{if(!mt.id){console.error(" Missing ID for meter",mt);return}await Jn.request(IY,{input:{id:mt.id,meterConfigrationPatch:{interval:ft}}})}catch(Rt){console.error(`Failed to update meter ${mt.meter_no}`,Rt)}})),r(mt=>mt.map(Rt=>({...Rt,interval:ft}))),ce(ft),ee(!1),it.success(`Global interval updated to ${ft} seconds for all meters.`),await Vd("server_container","restart"),await Ct()}catch(mt){console.error("Failed to update global interval:",mt),it.error("Failed to update global interval.")}},Ze=(ft,mt)=>{const Rt=d?De:Ee,an=d?je:Qe;Rt&&(ft in Rt.con?an(gt=>({...gt,con:{...gt.con,[ft]:mt}})):an(gt=>({...gt,[ft]:ft==="meter_no"?Number(mt):mt}))),y(!1),S("")},yt=async()=>{const ft=d?De:Ee;if(!ft||!ft.label||!ft.meter_make||!ft.meter_model){it.error("Please fill all required fields for the meter.");return}const mt=tm.find(an=>an.device_make===ft.meter_make&&an.device_model===ft.meter_model),Rt={...ft,meter_name:mt?.device_name||ft.meter_name,meter_type:mt?.device_type||ft.meter_type,interval:Number(te)};S("testing"),A(0);try{const an=await fetch(`${Hn.appBaseUrl}/v2/api/gettestmeterstatus`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Rt)}),gt=await an.json();!an.ok||gt.result===null||Array.isArray(gt.result)&&gt.result.length===0||gt.result==="No Meter Found. Please check settings and try again."?(S("failed"),it.error(gt.message||"Test failed. Meter responded null or with an error.")):(A(gt.timeTaken),S("success"),it.success(gt.message||"Test successful.")),y(!0)}catch(an){console.error("Test meter API call failed:",an),it.error("Test meter API call failed."),S("failed"),y(!0)}},Ut=async()=>{console.log("save"),xe(!0);const ft=d;console.log(ft);const mt=ft?De:Ee;if(!mt||!mt.label||!mt.meter_make||!mt.meter_model){it.error("Please fill all required fields for the meter."),xe(!1);return}const Rt=tm.find(gt=>gt.device_make===mt.meter_make&&gt.device_model===mt.meter_model),an={con:JSON.stringify(mt.con),device:mt.device||Hn.gatewayName,label:mt.label,meterNo:mt.meter_no,meterName:Rt?.device_name||mt.meter_name,meterModel:mt.meter_model,meterType:Rt?.device_type||mt.meter_type,meterMake:mt.meter_make,interval:Number(te==0?10:te)};console.log(an);try{ft?await Jn.request(RY,{input:{meterConfigration:an}}):await Jn.request(LY,{input:{meterConfigrationPatch:an,nodeId:mt.meter_no}}),setTimeout(async()=>await Vd("server_container","restart"),900),it.success(`Meter ${an?.label} (ID: ${an?.meterNo}) ${ft?"added":"updated"}`),p(!1),Qe(null),u(null),y(!1),S(""),await Ct()}catch(gt){console.error("Save meter failed:",gt),it.error("Save meter failed: "+(gt.response?.errors?.[0]?.message||gt.message))}finally{xe(!1)}},nn=()=>{if(!d){const ft=new Set(s.map(Rt=>Rt.meter_no));let mt=2;for(;ft.has(mt);)mt++;je({...Re,meter_no:mt})}p(!0),Qe(null),u(null),y(!1),S("")},Ve=(ft,mt)=>{Qe({...ft}),u(mt),p(!1),y(!1),S("")},at=()=>{u(null),Qe(null),y(!1),S("")},xt=async()=>{if(!Tt)return;const ft=`${Tt.device}_id${Tt.meter_no}`;try{const mt=`${Hn.appBaseUrl}/v2/api/check-json?meter_id=${encodeURIComponent(ft)}`;console.log("Checking meter JSON at:",mt,Tt);const Rt=await fetch(mt),an=Rt.headers.get("content-type");if(!an||!an.includes("application/json"))throw new Error("Invalid response from server");const gt=await Rt.json();if(console.log("Response data:",gt),gt.exists&&gt.json_data)E(gt.json_data),qe(JSON.stringify(gt.json_data,null,2));else{const Te=YX(Tt);E(Te),Pe(Te),qe(JSON.stringify(Te,null,2))}_e(!0)}catch(mt){console.error("Failed to check meter JSON file:",mt),it.error("Failed to check meter, server error")}},_t=()=>{Ee&&a!==null?(I("delete"),L(!0)):it.error("No meter selected for deletion.")},Mt=async()=>{if(!Ee)return;const ft=Ee.id,mt=Ee.label,Rt=`${Hn.gatewayName}_id${Ee.meter_no}`;console.log("meterIdForRelatedData=>",Rt),console.log("meterNoToDelete=>",typeof ft);try{const an=await Jn.request(OY,{input:{id:ft}});console.log("data",an.deleteMeterConfigrationById),an.deleteMeterConfigrationById.meterConfigration?(await fetch(`${Hn.appBaseUrl}/v2/api/db/measurements/${Rt}`,{method:"DELETE",headers:{"Content-Type":"application/json"}}),it.success(`Meter ${mt} (ID: ${ft}) deleted`),t(!0),setTimeout(async()=>await Vd("server_container","restart"),900),t(!1)):it.error("Meter deletion failed!"),u(null),Qe(null),L(!1),I(null),await Ct()}catch(an){console.error("Delete meter failed:",an),it.error("Delete meter failed: "+(an.response?.errors?.[0]?.message||an.message))}},rt=async ft=>{try{ft===re?U==="add"?(xe(!0),await Vd("server_container","stop"),setTimeout(()=>{nn(),z(!1),xe(!1)},1e3)):U==="delete"?(xe(!0),await Mt(),xe(!1)):U==="dashboard"&&(xe(!0),await xt(),z(!1),xe(!1)):it.error("Incorrect password"),U!=="delete"&&U!=="dashboard"&&(z(!1),L(!1))}catch(mt){throw xe(!1),mt}},Tt=Ee||(a!==null&&s[a]?s[a]:null);return console.log("SetupPage rendered",Tt),D.jsx(Zr,{in:ue,timeout:700,children:D.jsxs(Bt,{sx:{p:{xs:1,sm:2}},children:[D.jsx(K1,{sx:{color:"#fff",zIndex:ft=>ft.zIndex.drawer+9999},open:de,children:D.jsx(mr,{color:"inherit"})}),D.jsx(ts,{elevation:3,sx:{p:1,mb:1,borderRadius:2},children:D.jsxs(Bt,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:0,flexWrap:"wrap",gap:1},children:[q?D.jsxs(Bt,{sx:{display:"flex",alignItems:"center",gap:1,flexGrow:1},children:[D.jsx(Oe,{variant:"h6",children:"Global Time Interval:"}),D.jsx(Gn,{type:"number",value:te,onChange:ft=>ce(ft.target.value===""?"":Number(ft.target.value)),size:"small",inputProps:{min:1},sx:{width:"100px"},error:isNaN(te)||te<=0,helperText:isNaN(te)||te<=0?"Positive number required":""}),D.jsx(Oe,{variant:"body1",children:"sec"}),D.jsx(Nf,{label:"Save",color:"primary",size:"medium",onClick:ht,disabled:isNaN(te)||te<=0}),D.jsx(Nf,{label:"Cancel",color:"default",size:"medium",onClick:()=>{ee(!1),s.length>0&&s[0].interval!=null?ce(s[0].interval):ce(10)}})]}):D.jsxs(Oe,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1,flexGrow:1},children:["Global Time Interval: ",te," sec",D.jsx(Nf,{label:"Edit Interval",color:"primary",disabled:s.length===0,onClick:()=>ee(!0),size:"medium"})]}),D.jsx(Sn,{variant:"contained",size:"small",onClick:()=>{I("add"),z(!0)},children:"Add New Device"})]})}),D.jsxs(ts,{elevation:3,sx:{p:1,borderRadius:2,mb:1},children:[D.jsx(Oe,{variant:"h6",children:"Configured Meters"}),D.jsx(Bt,{sx:{display:"flex",flexWrap:"wrap",border:"1px solid",borderColor:"divider",p:1,borderRadius:1,minHeight:"50px"},children:s.length>0?s.map((ft,mt)=>D.jsx(SX,{meter:ft,isSelected:mt===a,isLive:he[`${ft.device}_id${ft.meter_no}`],onClick:()=>Ve(ft,mt),index:mt},ft.meter_no)):D.jsx(Oe,{sx:{p:1,color:"text.secondary"},children:"No meters configured yet."})})]}),D.jsx(Zr,{in:a!==null&&Tt!==null,timeout:300,children:D.jsx(Bt,{children:a!==null&&Tt&&D.jsx(vX,{meter:Tt,onChange:Ze,onTest:yt,jsonDialogOpen:Ne,onEditDashboard:xt,onRequestPassword:()=>{I("dashboard"),z(!0)},onSave:Ut,onDelete:()=>Ht(!0),onClose:at,testResponse:m,responseMessage:b,loaderPercentage:M,globalInterval:te})})}),D.jsx(nX,{open:Ne,onClose:()=>{_e(!1),Pe(null)},defaultJsonConfig:Ue,jsonError:ze,jsonString:Me,getMeterName:`${Tt?.device}_id${Tt?.meter_no}`,onEditorChange:un,onEditorMount:(ft,mt)=>{be(ft),window.monaco=mt},onSave:async()=>{try{const ft=`${Tt.device}_id${Tt.meter_no}`;console.log("meterrerrrrrrrr",ft),await tX(Ue,Tt.meterNo,R,ft),T(!1),it.success("JSON configuration saved successfully!"),_e(!1)}catch(ft){console.error("Failed to save JSON configuration:",ft),it.error("Failed to save JSON configuration")}},saveDisabled:!!ze}),D.jsx(bX,{open:d,onClose:async()=>{await Vd("server_container","restart"),p(!1)},config:De,onChange:Ze,onTest:yt,onSave:Ut,testResponse:m,responseMessage:b,loaderPercentage:M,usedMeterNos:s.map(ft=>ft.meter_no),saving:de}),D.jsx(QE,{open:B||W,onClose:()=>{B?z(!1):L(!1),I(null)},onConfirm:rt,dialogType:U,actionDescription:U==="add"?"add a new meter":U==="delete"&&Ee?`delete meter "${Ee.label}" (ID: ${Ee.meter_no})`:"perform this action"}),D.jsx(wX,{open:ut,onClose:()=>Ht(!1),onConfirm:()=>{Ht(!1),_t()}})]})})},Nw=()=>{const i=Fh(),t=ca(),s=()=>w3(t.search),r=()=>{const S=s();return S&&b3(S)},a=(S,M=null)=>{const A=M||s(),R=bM(A),_={"/dashboard":R.dashboard,"/user/profile":R.profile,"/analytics/ems":R.analyticsEms,"/analytics/kpi":R.analyticsKpi,"/admin/setup":R.adminSetup,"/admin/meter-config":R.adminMeterConfig,"/scada/diagram":R.scadaDiagram,"/gateway/auth":R.gatewayAuth,"/gateway/subscription":R.gatewaySubscription,"/auth/login":R.authLogin}[S]||S;i(_)};return{navigateToSecure:a,navigateToDashboard:(S=null)=>{a("/dashboard",S)},navigateToProfile:(S=null)=>{a("/user/profile",S)},navigateToAnalytics:(S="ems",M=null)=>{a(S==="kpi"?"/analytics/kpi":"/analytics/ems",M)},navigateToAdmin:(S="setup",M=null)=>{a(S==="meter-config"?"/admin/meter-config":"/admin/setup",M)},navigateToScada:(S=null)=>{a("/scada/diagram",S)},navigateToGateway:(S="auth",M=null)=>{a(S==="subscription"?"/gateway/subscription":"/gateway/auth",M)},isTokenValid:r,getCurrentToken:s,createSecureUrls:bM}},XX=({validKey:i,onSuccessRedirect:t="/"})=>{const[s,r]=X.useState(""),[a,u]=X.useState(null);return{apiKey:s,error:a,handleInputChange:m=>{r(m.target.value),u(null)},handleSubmit:async()=>{if(console.log("AuthKeyPage - handleSubmit called"),console.log("AuthKeyPage - apiKey:",s),console.log("AuthKeyPage - validKey:",i),console.log("AuthKeyPage - onSuccessRedirect:",t),s===i){console.log("AuthKeyPage - Key matches, authentication successful");try{console.log("Authentication successful - gateway lock should be updated to true"),window.location.reload()}catch(m){console.warn("Error updating gateway lock:",m),window.location.href=t}}else console.log("AuthKeyPage - Key does not match"),u("Invalid authentication key")}}},Np=()=>{const i=async()=>{try{const y=await Jn.request(QY);return console.log("data",y),y?.allGatewaystatuses?.nodes?.[0]||null}catch(y){return console.error("Error fetching gateway:",y),{__networkError:!0}}},t=()=>Q0()!==null,s=async()=>{try{const y=localStorage.getItem("userid");return y?!!(await Jn.request(Gc))?.allProfiles?.nodes?.find(M=>M.userid===y):!1}catch(y){return console.error("Error checking profile:",y),!1}},r=async()=>{try{return((await Jn.request(Gc))?.allProfiles?.nodes||[]).length>0}catch(y){return console.error("Error checking if any profile exists:",y),!1}},a=async()=>{try{const y=`${window.location.protocol}//${window.location.hostname}/d/main/page/dashboards/logout`;(await fetch(y,{method:"GET",credentials:"include"})).ok&&console.log("Logged out from Dashboard successfully")}catch(y){console.warn("Error during Dashboard logout:",y)}};return{logout:async()=>{try{await a(),fw(),localStorage.clear(),sessionStorage.clear(),it.success("Logged out successfully."),window.location.href="/auth/login"}catch(y){console.error("Logout error:",y),it.error("Logout failed.")}},logoutDashboard:a,checkGatewayAuth:async()=>{const y=await i();return console.log("gateway1111",y),!(!y||y.gatewayLock||!y.subscriptionIsActive)},checkGatewayStatus:async()=>{const y=await i();return console.log("gateway2222",y),y&&y.__networkError?{networkError:!0,needsAuthentication:!1,needsSubscription:!1}:y?{networkError:!1,needsAuthentication:y.gatewayLock,needsSubscription:!y.subscriptionIsActive}:{needsAuthentication:!1,needsSubscription:!1}},updateGatewayData:async y=>{try{const b=await i();if(!b)return null;const S={id:b.id,gatewaystatusPatch:{gatewayLock:y,lastUpdated:new Date().toISOString(),subscriptionStart:"2024-01-01",subscriptionEnd:"2050-12-31",subscriptionIsActive:!0}},M=await Jn.request(e3,{input:S});return it.success("Gateway updated successfully!",M),M.updateGatewaystatusById.gatewaystatus}catch(b){return console.error("Error updating gateway:",b),it.error("Failed to update gateway"),null}},isLoggedIn:t,hasProfile:s,hasAnyProfile:r,getGatewayData:i}},GX=({title:i="Gateway Authentication Required",redirectTo:t="/dashboard",validKey:s="skygw123"})=>{const{navigateToDashboard:r}=Nw(),{apiKey:a,error:u,handleInputChange:d}=XX({validKey:s,onSuccessRedirect:t}),{updateGatewayData:p}=Np(),[m,y]=X.useState(!1);X.useEffect(()=>{y(!0)},[]);const b=async()=>{try{a===s?(console.log("AuthKeyPage - Key matches, authentication successful"),console.log("Authentication successful - gateway lock should be updated to true"),await p(!1),r()):(it.error("Invalid authentication key"),console.log("AuthKeyPage - Key does not match"))}catch(S){console.warn("Error updating gateway lock:",S),r()}};return D.jsx(Fi,{in:m,timeout:500,children:D.jsxs(Bt,{sx:{display:"flex",flexDirection:"column",height:"100vh",justifyContent:"center",alignItems:"center",gap:2,p:2},children:[D.jsx(Oe,{variant:"h5",textAlign:"center",children:i}),D.jsx(Oe,{variant:"body2",textAlign:"center",color:"text.secondary",children:"Please enter the authentication key to continue"}),D.jsx(Gn,{size:"small",label:"Authentication Key",value:a,onChange:d,sx:{maxWidth:"400px",width:"100%"},InputProps:{endAdornment:D.jsx(Sn,{variant:"contained",size:"small",onClick:b,children:"Enter"})}}),u&&D.jsx(Oe,{color:"error",children:u})]})})},qX=()=>{const[i,t]=X.useState(!1);return X.useEffect(()=>{t(!0)},[]),D.jsx(Fi,{in:i,timeout:500,children:D.jsx(Bt,{sx:{display:"flex",flexDirection:"column",height:"100vh",justifyContent:"center",alignItems:"center",gap:3,p:2},children:D.jsxs(ts,{elevation:3,sx:{p:4,maxWidth:"500px",width:"100%",textAlign:"center"},children:[D.jsx(Oe,{variant:"h4",gutterBottom:!0,children:"Subscription Required"}),D.jsx(Oe,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"Your gateway subscription is inactive. Please contact SKYLIGHTS ENERGY to renew your subscription."}),D.jsxs(Bt,{sx:{mt:3,p:2,border:"1px solid #e0e0e0",borderRadius:1,backgroundColor:"#f5f5f5"},children:[D.jsx(Oe,{variant:"h6",gutterBottom:!0,children:"Contact SKYLIGHTS ENERGY"}),D.jsxs(Oe,{variant:"body1",sx:{mb:1},children:["Phone: ",D.jsx(MP,{href:"tel:09100010019",children:"091000 10019"})]}),D.jsxs(Oe,{variant:"body1",children:["Email: ",D.jsx(MP,{href:"mailto:switchology@skylightsenergy.in",children:"switchology@skylightsenergy.in"})]})]})]})})})};var Hd={},iT;function KX(){if(iT)return Hd;iT=1;var i=Ei();Object.defineProperty(Hd,"__esModule",{value:!0}),Hd.default=void 0;var t=i(Bi()),s=Li();return Hd.default=(0,t.default)((0,s.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),Hd}var ZX=KX();const JX=Qn(ZX);var Wd={},sT;function QX(){if(sT)return Wd;sT=1;var i=Ei();Object.defineProperty(Wd,"__esModule",{value:!0}),Wd.default=void 0;var t=i(Bi()),s=Li();return Wd.default=(0,t.default)((0,s.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle"),Wd}var eG=QX();const t1=Qn(eG);var $d={},rT;function tG(){if(rT)return $d;rT=1;var i=Ei();Object.defineProperty($d,"__esModule",{value:!0}),$d.default=void 0;var t=i(Bi()),s=Li();return $d.default=(0,t.default)((0,s.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout"),$d}var nG=tG();const iG=Qn(nG),sG=st(i=>D.jsx(WH,{focusVisibleClassName:".Mui-focusVisible",disableRipple:!0,...i}))(({theme:i})=>({width:32,height:18,padding:0,"& .MuiSwitch-switchBase":{padding:0,margin:1.5,transitionDuration:"300ms","&.Mui-checked":{transform:"translateX(14px)",color:"#fff","& + .MuiSwitch-track":{backgroundColor:(i.palette.mode==="dark","#65C466"),opacity:1,border:0}}},"& .MuiSwitch-thumb":{boxSizing:"border-box",width:14,height:14},"& .MuiSwitch-track":{borderRadius:18/2,backgroundColor:i.palette.mode==="light"?"#E9E9EA":"#39393D",opacity:1,transition:i.transitions.create(["background-color"],{duration:500})}})),Xv=600,oT=()=>{const[i,t]=X.useState(Xv),[s,r]=X.useState(!0),{logout:a}=Np(),u=X.useCallback(()=>{const y=sessionStorage.getItem("secureTokenData");if(y)try{const b=JSON.parse(y);b.createdAt=Date.now(),sessionStorage.setItem("secureTokenData",JSON.stringify(b)),t(Xv)}catch(b){console.error("Failed to reset session",b)}},[]),d=()=>{const y=sessionStorage.getItem("secureTokenData");if(!y)return 0;try{const S=JSON.parse(y).createdAt,M=Date.now(),A=Math.floor((M-S)/1e3);return Math.max(0,Xv-A)}catch{return 0}};X.useEffect(()=>{if(!s)return;const y=["mousemove","keydown","click","scroll"];return y.forEach(b=>window.addEventListener(b,u)),()=>{y.forEach(b=>window.removeEventListener(b,u))}},[s,u]),X.useEffect(()=>{if(!s)return;const y=()=>{const S=d();t(S),S<=0&&a()},b=setInterval(y,1e3);return y(),()=>clearInterval(b)},[s,a]);const p=y=>{if(y<=0)return"Expired";const b=Math.floor(y/60),S=y%60;return`${b}:${S.toString().padStart(2,"0")}`},m=()=>i<=30?"#1E88E5":i<=60?"#26A69A":"#43A047";return D.jsxs(Bt,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[D.jsx(_o,{title:s?"Auto Logout Enabled":"Auto Logout Disabled",placement:"top",children:D.jsx(sG,{checked:s,onChange:()=>r(!s)})}),!s&&D.jsx(Oe,{variant:"caption",sx:{color:"text"},children:"Disabled"}),s&&D.jsx(_o,{title:`Expires in ${p(i)}`,arrow:!0,children:D.jsx(Oe,{variant:"caption",sx:{color:m()},children:p(i)})})]})},rG=({open:i,onClose:t})=>{const{role:s}=Kl(),[r,a]=X.useState({name:"",buildingName:"",address:"",email:"",organization:"",newpassword:"",conformpassword:""}),[u,d]=X.useState(!1),[p,m]=X.useState(!1),[y,b]=X.useState(!1),[S,M]=X.useState(!1),[A,R]=X.useState(null);X.useEffect(()=>{i&&E()},[i]);const E=async()=>{d(!0),R(null);try{const z=await Jn.request(Gc),W=localStorage.getItem("userid"),L=z?.allProfiles?.nodes?.find(U=>U.userid===W);L?a({name:L.name||"",buildingName:L.buildingName||"",address:L.address||"",email:L.email||"",organization:L.orgname||"",newpassword:"",conformpassword:""}):R("Profile not found")}catch(z){console.error("Error fetching profile data:",z),R("Failed to fetch profile data")}finally{d(!1)}},_=z=>{const{name:W,value:L}=z.target;a(U=>({...U,[W]:L}))},T=async z=>{z.preventDefault(),m(!0),R(null);try{const W=await Jn.request(Gc),L=localStorage.getItem("userid"),U=W?.allProfiles?.nodes?.find(q=>q.userid===L);if(!U)throw new Error("Profile not found");const I={input:{nodeId:U.nodeId,profilePatch:{userid:U.userid,name:r.name,buildingName:r.buildingName,address:r.address,email:r.email,orgname:r.organization,...y&&r.newpassword&&{adminPassword:r.newpassword},...S&&r.conformpassword&&{viewerPassword:r.conformpassword}}}};await Jn.request(GD,I),it.success("Profile updated successfully"),t()}catch(W){console.error("Error updating profile:",W),R("Failed to update profile"),it.error("Failed to update profile")}finally{m(!1)}},B=()=>{a({name:"",buildingName:"",address:"",email:"",organization:"",newpassword:"",conformpassword:""}),b(!1),M(!1),R(null),t()};return D.jsxs(Ji,{open:i,onClose:B,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{borderRadius:2}},children:[D.jsx(Ks,{children:D.jsx(Oe,{variant:"h6",fontWeight:"bold",children:"Update Profile"})}),D.jsx(ws,{children:u?D.jsx(Bt,{sx:{display:"flex",justifyContent:"center",py:4},children:D.jsx(mr,{})}):A?D.jsx(q5,{severity:"error",sx:{mb:2},children:A}):D.jsx(Bt,{component:"form",onSubmit:T,sx:{pt:1},children:D.jsxs(Yn,{container:!0,spacing:2,children:[D.jsx(Yn,{item:!0,xs:12,sm:6,children:D.jsx(Gn,{fullWidth:!0,size:"small",label:"Name",name:"name",value:r.name,onChange:_,required:!0,disabled:s!=="ADMIN"})}),D.jsx(Yn,{item:!0,xs:12,sm:6,children:D.jsx(Gn,{fullWidth:!0,size:"small",label:"Building Name",name:"buildingName",value:r.buildingName,onChange:_,required:!0,disabled:s!=="ADMIN"})}),D.jsx(Yn,{item:!0,xs:12,sm:6,children:D.jsx(Gn,{fullWidth:!0,size:"small",label:"Address",name:"address",value:r.address,onChange:_,required:!0,disabled:s!=="ADMIN"})}),D.jsx(Yn,{item:!0,xs:12,sm:6,children:D.jsx(Gn,{fullWidth:!0,size:"small",label:"Email",name:"email",type:"email",value:r.email,onChange:_,required:!0,disabled:s!=="ADMIN"})}),D.jsx(Yn,{item:!0,xs:12,sm:6,children:D.jsx(Gn,{fullWidth:!0,size:"small",label:"Organization",name:"organization",value:r.organization,onChange:_,required:!0,disabled:s!=="ADMIN"})}),s==="ADMIN"&&D.jsx(D.Fragment,{children:D.jsxs(Yn,{item:!0,xs:12,children:[D.jsx(Oe,{variant:"subtitle2",sx:{fontWeight:700,mb:1},children:"Password Management"}),D.jsx(Bt,{sx:{p:1.5,border:"1px solid #e0e0e0",borderRadius:1,backgroundColor:"#f8f9fa"},children:D.jsxs(Yn,{container:!0,spacing:1,children:[D.jsxs(Yn,{item:!0,xs:12,children:[D.jsxs(Bt,{sx:{display:"flex",alignItems:"center",mb:1},children:[D.jsx("input",{type:"checkbox",checked:y,onChange:z=>b(z.target.checked),style:{marginRight:8}}),D.jsx(Oe,{variant:"subtitle2",sx:{fontWeight:500},children:"Reset Admin Password"})]}),y&&D.jsx(Gn,{fullWidth:!0,size:"small",label:"New Admin Password",name:"newpassword",type:"password",value:r.newpassword,onChange:_,error:!!r.newpassword&&r.newpassword.length<4,helperText:r.newpassword&&r.newpassword.length<4?"Minimum 4 characters":"",sx:{ml:3}})]}),D.jsxs(Yn,{item:!0,xs:12,children:[D.jsxs(Bt,{sx:{display:"flex",alignItems:"center",mb:1},children:[D.jsx("input",{type:"checkbox",checked:S,onChange:z=>M(z.target.checked),style:{marginRight:8}}),D.jsx(Oe,{variant:"subtitle2",sx:{fontWeight:500},children:"Reset Viewer Password"})]}),S&&D.jsx(Gn,{fullWidth:!0,size:"small",label:"New Viewer Password",name:"conformpassword",type:"password",value:r.conformpassword,onChange:_,error:!!r.conformpassword&&r.conformpassword.length<4,helperText:r.conformpassword&&r.conformpassword.length<4?"Minimum 4 characters":"",sx:{ml:3}})]})]})})]})})]})})}),D.jsxs(qs,{sx:{p:2,gap:1},children:[D.jsx(Sn,{onClick:B,disabled:p,variant:"outlined",children:"Cancel"}),D.jsx(Sn,{onClick:T,variant:"contained",disabled:p||u,sx:{minWidth:100},children:p?D.jsx(mr,{size:20}):"Update Profile"})]})]})},aT=_n.memo(({anchorEl:i,onClose:t,onLogout:s,onProfileClick:r})=>D.jsxs(tw,{anchorEl:i,open:!!i,onClose:t,slotProps:{paper:{elevation:3,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.15))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},borderRadius:"8px"}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[D.jsxs(io,{onClick:r,sx:{gap:1,px:2,py:1},children:[D.jsx(t1,{fontSize:"small"}),D.jsx(Oe,{variant:"body2",children:"Profile"})]}),D.jsxs(io,{onClick:s,sx:{gap:1,px:2,py:1,color:"error.main"},children:[D.jsx(iG,{fontSize:"small"}),D.jsx(Oe,{variant:"body2",children:"Logout"})]})]})),oG=({open:i,setOpen:t,drawerWidth:s})=>{const[r,a]=_n.useState(null),[u,d]=_n.useState(null),[p,m]=_n.useState(!1),{isLoggedIn:y,logout:b}=Np();Nw();const S=async()=>{await b()},M=()=>{a(null),d(null),m(!0)};return D.jsxs(_2,{position:"fixed",sx:{zIndex:A=>A.zIndex.drawer+1,width:{sm:i?`calc(100% - ${s}px)`:"100%"},ml:{sm:i?`${s}px`:0},transition:A=>A.transitions.create(["margin","width"],{easing:A.transitions.easing.sharp,duration:A.transitions.duration.leavingScreen})},children:[D.jsxs(rw,{sx:{minHeight:{xs:56,sm:64}},children:[y&&D.jsx(_o,{title:i?"Close Menu":"Open Menu",arrow:!0,children:D.jsx(Hi,{edge:"start",color:"inherit","aria-label":"toggle drawer",onClick:()=>t(!i),sx:{mr:2},children:D.jsx(JX,{})})}),D.jsx(Oe,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1,fontWeight:600,display:{xs:"none",sm:"block"}},children:"Switchology"}),y&&D.jsxs(D.Fragment,{children:[D.jsxs(Bt,{sx:{display:{xs:"none",md:"flex"},alignItems:"center",gap:2},children:[D.jsx(oT,{}),D.jsx(_o,{title:"Profile Menu",arrow:!0,children:D.jsx(Hi,{size:"large",color:"inherit",onClick:A=>a(A.currentTarget),children:D.jsx(t1,{})})})]}),D.jsxs(Bt,{sx:{display:{xs:"flex",md:"none"},alignItems:"center",gap:1},children:[D.jsx(oT,{}),D.jsx(_o,{title:"Profile Menu",arrow:!0,children:D.jsx(Hi,{size:"large",color:"inherit",onClick:A=>d(A.currentTarget),children:D.jsx(t1,{})})})]})]})]}),y&&D.jsxs(D.Fragment,{children:[D.jsx(aT,{anchorEl:r,onClose:()=>a(null),onLogout:S,onProfileClick:M}),D.jsx(aT,{anchorEl:u,onClose:()=>d(null),onLogout:S,onProfileClick:M})]}),D.jsx(rG,{open:p,onClose:()=>m(!1)})]})};var Yd={},lT;function aG(){if(lT)return Yd;lT=1;var i=Ei();Object.defineProperty(Yd,"__esModule",{value:!0}),Yd.default=void 0;var t=i(Bi()),s=Li();return Yd.default=(0,t.default)((0,s.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft"),Yd}var lG=aG();const cG=Qn(lG);var Ud={},cT;function uG(){if(cT)return Ud;cT=1;var i=Ei();Object.defineProperty(Ud,"__esModule",{value:!0}),Ud.default=void 0;var t=i(Bi()),s=Li();return Ud.default=(0,t.default)((0,s.jsx)("path",{d:"m12 5.69 5 4.5V18h-2v-6H9v6H7v-7.81zM12 3 2 12h3v8h6v-6h2v6h6v-8h3z"}),"HomeOutlined"),Ud}var hG=uG();const dG=Qn(hG);var Xd={},uT;function fG(){if(uT)return Xd;uT=1;var i=Ei();Object.defineProperty(Xd,"__esModule",{value:!0}),Xd.default=void 0;var t=i(Bi()),s=Li();return Xd.default=(0,t.default)((0,s.jsx)("path",{d:"M9 15c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4m-6 4c.22-.72 3.31-2 6-2 2.7 0 5.8 1.29 6 2zM4.74 9H5c0 2.21 1.79 4 4 4s4-1.79 4-4h.26c.27 0 .49-.22.49-.49v-.02c0-.27-.22-.49-.49-.49H13c0-1.48-.81-2.75-2-3.45v.95c0 .28-.22.5-.5.5s-.5-.22-.5-.5V4.14C9.68 4.06 9.35 4 9 4s-.68.06-1 .14V5.5c0 .28-.22.5-.5.5S7 5.78 7 5.5v-.95C5.81 5.25 5 6.52 5 8h-.26c-.27 0-.49.22-.49.49v.03c0 .26.22.48.49.48M11 9c0 1.1-.9 2-2 2s-2-.9-2-2zm10.98-2.77.93-.83-.75-1.3-1.19.39c-.14-.11-.3-.2-.47-.27L20.25 3h-1.5l-.25 1.22c-.17.07-.33.16-.48.27l-1.18-.39-.75 1.3.93.83c-.02.17-.02.35 0 .52l-.93.85.75 1.3 1.2-.38c.13.1.28.18.43.25l.28 1.23h1.5l.27-1.22c.16-.07.3-.15.44-.25l1.19.38.75-1.3-.93-.85c.03-.19.02-.36.01-.53M19.5 7.75c-.69 0-1.25-.56-1.25-1.25s.56-1.25 1.25-1.25 1.25.56 1.25 1.25-.56 1.25-1.25 1.25m-.1 3.04-.85.28c-.1-.08-.21-.14-.33-.19l-.18-.88h-1.07l-.18.87c-.12.05-.24.12-.34.19l-.84-.28-.54.93.66.59c-.01.13-.01.25 0 .37l-.66.61.54.93.86-.27c.1.07.2.13.31.18l.18.88h1.07l.19-.87c.11-.05.22-.11.32-.18l.85.27.54-.93-.66-.61c.01-.13.01-.25 0-.37l.66-.59zm-1.9 2.6c-.49 0-.89-.4-.89-.89s.4-.89.89-.89.89.4.89.89-.4.89-.89.89"}),"EngineeringOutlined"),Xd}var pG=fG();const gG=Qn(pG);var Gd={},hT;function mG(){if(hT)return Gd;hT=1;var i=Ei();Object.defineProperty(Gd,"__esModule",{value:!0}),Gd.default=void 0;var t=i(Bi()),s=Li();return Gd.default=(0,t.default)([(0,s.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V5h14z"},"0"),(0,s.jsx)("path",{d:"M7 12h2v5H7zm8-5h2v10h-2zm-4 7h2v3h-2zm0-4h2v2h-2z"},"1")],"AnalyticsOutlined"),Gd}var yG=mG();const xG=Qn(yG);var qd={},dT;function vG(){if(dT)return qd;dT=1;var i=Ei();Object.defineProperty(qd,"__esModule",{value:!0}),qd.default=void 0;var t=i(Bi()),s=Li();return qd.default=(0,t.default)((0,s.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-7h2zm4 0h-2V7h2zm4 0h-2v-4h2z"}),"Assessment"),qd}var bG=vG();const wG=Qn(bG);var Kd={},fT;function SG(){if(fT)return Kd;fT=1;var i=Ei();Object.defineProperty(Kd,"__esModule",{value:!0}),Kd.default=void 0;var t=i(Bi()),s=Li();return Kd.default=(0,t.default)([(0,s.jsx)("path",{d:"m20.38 8.57-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44z"},"0"),(0,s.jsx)("path",{d:"M10.59 15.41a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83"},"1")],"SpeedOutlined"),Kd}var CG=SG();const kG=Qn(CG);var Zd={},pT;function PG(){if(pT)return Zd;pT=1;var i=Ei();Object.defineProperty(Zd,"__esModule",{value:!0}),Zd.default=void 0;var t=i(Bi()),s=Li();return Zd.default=(0,t.default)([(0,s.jsx)("path",{d:"M21 11c0-4.97-4.03-9-9-9s-9 4.03-9 9c0 3.92 2.51 7.24 6 8.48V22h2v-2.06c.33.04.66.06 1 .06s.67-.02 1-.06V22h2v-2.52c3.49-1.24 6-4.56 6-8.48m-9 7c-3.86 0-7-3.14-7-7s3.14-7 7-7 7 3.14 7 7-3.14 7-7 7"},"0"),(0,s.jsx)("path",{d:"M8 7h8v2H8zm4.75 3-3 3L11 14.25 9.75 15.5l1.5 1.5 3-3L13 12.75l1.25-1.25z"},"1")],"ElectricMeterOutlined"),Zd}var MG=PG();const TG=Qn(MG),AG=st("div")(({theme:i})=>({display:"flex",alignItems:"center",padding:i.spacing(0,1),...i.mixins.toolbar,justifyContent:"flex-end",borderBottom:`1px solid ${$r(i.palette.divider,.12)}`})),DG=[{name:"Home",route:"/dashboard",Icon:dG,roles:["ADMIN","VIEWER"]},{name:"Setup",route:"/admin/setup",Icon:gG,roles:["ADMIN"]},{name:"Energy Monitoring",route:"/analytics/ems",Icon:xG,roles:["ADMIN","VIEWER"]},{name:"KPI",route:"/analytics/kpi",Icon:wG,roles:["ADMIN","VIEWER"]},{name:"Meter Billing",route:"/admin/meter-config",Icon:kG,roles:["ADMIN"]},{name:"Scada",route:"/scada/diagram",Icon:TG,roles:["ADMIN","VIEWER"]}],EG=X.memo(({open:i,setOpen:t,isXs:s})=>{Fh();const r=ca(),a=vs(),{themeMode:u}=Ew(),{role:d}=Kl(),{navigateToSecure:p}=Nw();_n.useEffect(()=>{console.log("DrawerList: Role changed to:",d)},[d]);const m=y=>{p(y),s&&i&&t(!1)};return D.jsxs(D.Fragment,{children:[D.jsx(AG,{children:D.jsx(_o,{title:"Close Menu",arrow:!0,children:D.jsx(Hi,{onClick:()=>t(!1),children:D.jsx(cG,{sx:{color:a.palette.text.secondary}})})})}),D.jsxs(ew,{sx:{pt:1,px:1.5},children:[" ",DG.map((y,b)=>{const S=y.roles.includes(d);console.log("Menu item:",y.name,"Role:",d,"Roles allowed:",y.roles,"Is allowed:",S);const M=r.pathname===y.route;return D.jsx(Fi,{in:i,style:{transformOrigin:"0 0 0"},timeout:i?300+b*50:0,children:D.jsxs(oD,{disablePadding:!0,sx:{mb:.75},children:[" ",D.jsxs(uV,{onClick:()=>S&&m(y.route),selected:M,disabled:!S,sx:{borderRadius:"8px",minHeight:44,py:1.25,px:2,transition:"background-color 0.2s ease-in-out, color 0.2s ease-in-out, box-shadow 0.2s ease-in-out, border-left-color 0.2s ease-in-out",borderLeft:M?`3px solid ${a.palette.accent?.main||a.palette.primary.main}`:"3px solid transparent","&:hover":{backgroundColor:$r(a.palette.action.hover,.08),color:a.palette.text.primary,borderLeftColor:$r(a.palette.primary.light,.5)},"&.Mui-selected":{backgroundColor:$r(a.palette.primary.main,.15),color:a.palette.primary.main,borderLeftColor:a.palette.accent?.main||a.palette.primary.main,"&:hover":{backgroundColor:$r(a.palette.primary.main,.25)},"& .MuiListItemIcon-root":{color:a.palette.accent?.main||a.palette.primary.main},"& .MuiListItemText-primary":{fontWeight:"600",color:a.palette.accent?.main||a.palette.primary.main}},"&.Mui-disabled":{opacity:.4,cursor:"not-allowed"}},children:[D.jsx(PV,{sx:{minWidth:36,color:M?a.palette.accent?.main||a.palette.primary.main:S?a.palette.text.secondary:"inherit",mr:1},children:D.jsx(y.Icon,{sx:{fontSize:22}})}),D.jsx(EV,{primary:D.jsx(Oe,{variant:"body2",sx:{fontWeight:M?600:400,color:M?a.palette.accent?.main||a.palette.primary.main:"inherit"},children:y.name})})]})]})},y.name)})]})]})}),NG=nu(i=>({open:!0,setOpen:t=>i({open:t})})),Ku=200,Zu=({component:i})=>{const{open:t,setOpen:s}=NG(),r=vs();return D.jsxs(Bt,{sx:{display:"flex",height:"100vh",width:"100%"},children:[D.jsx(_2,{position:"fixed",sx:{zIndex:r.zIndex.drawer+1,transition:r.transitions.create(["width","margin"],{easing:r.transitions.easing.sharp,duration:r.transitions.duration.leavingScreen}),...t&&{marginLeft:`${Ku}px`,width:`calc(100% - ${Ku}px)`,transition:r.transitions.create(["width","margin"],{easing:r.transitions.easing.sharp,duration:r.transitions.duration.enteringScreen})},backgroundColor:r.palette.primary.main,boxShadow:r.shadows[4]},children:D.jsx(oG,{open:t,setOpen:s,drawerWidth:Ku})}),D.jsx(G8,{variant:"persistent",anchor:"left",open:t,sx:{width:Ku,flexShrink:0,"& .MuiDrawer-paper":{width:Ku,boxSizing:"border-box",backgroundColor:r.palette.mode==="dark"?$r(r.palette.background.paper,.85):$r(r.palette.background.default,.9),backdropFilter:"blur(10px)",borderRight:"none",boxShadow:r.shadows[5]}},children:D.jsx(EG,{open:t,setOpen:s,isXs:!1})}),D.jsxs(Bt,{component:"main",sx:{flexGrow:1,height:"100vh",overflow:"auto",transition:r.transitions.create("margin",{easing:r.transitions.easing.sharp,duration:r.transitions.duration.leavingScreen}),marginLeft:t?0:`-${Ku}px`,...t&&{transition:r.transitions.create("margin",{easing:r.transitions.easing.easeOut,duration:r.transitions.duration.enteringScreen})}},children:[D.jsx(rw,{}),D.jsx(i,{})]})]})},RG=({onRetry:i,showReload:t=!0})=>D.jsxs("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 50%, #e5e7eb 100%)",padding:"24px"},children:[D.jsx("style",{children:`
          @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-6px); }
            100% { transform: translateY(0px); }
          }
          @keyframes pulseSoft {
            0% { opacity: 0.6; }
            50% { opacity: 1; }
            100% { opacity: 0.6; }
          }
          .card {
            width: 100%;
            max-width: 560px;
            background: rgba(255,255,255,0.8);
            border: 1px solid rgba(0,0,0,0.06);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border-radius: 16px;
            padding: 28px;
            color: #1e293b;
            backdrop-filter: blur(8px);
          }
          .iconwrap {
            width: 88px;
            height: 88px;
            border-radius: 50%;
            background: linear-gradient(135deg, #AD3B10 0%, #F97316 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid rgba(173,59,16,0.3);
            box-shadow: 0 10px 25px rgba(173,59,16,0.25);
            margin: 0 auto 16px;
            animation: float 3s ease-in-out infinite;
          }
            .title {
            font-size: 32px;
            font-weight: 700;
            text-align: center;
            position: relative;
            color: #AD3B10;
            overflow: hidden;
            }

          .title::after {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(120deg, transparent, rgba(255,255,255,0.6), transparent);
            animation: shine 2.5s infinite;
            }

            @keyframes shine {
            100% { left: 100%; }
            }

          .subtitle {
            font-size: 14px;
            color: #475569;
            text-align: center;
            margin-bottom: 20px;
            line-height: 1.5;
          }
          .actions {
            display: flex;
            gap: 12px;
            justify-content: center;
          }
          .btn {
            appearance: none;
            border: 0;
            cursor: pointer;
            border-radius: 10px;
            padding: 10px 16px;
            font-weight: 600;
            transition: transform 0.15s ease, box-shadow 0.15s ease, opacity 0.2s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
          }
          .primary {
            color: white;
            background: linear-gradient(135deg, #AD3B10 0%, #F97316 100%);
            box-shadow: 0 8px 18px rgba(173,59,16,0.35);
          }
          .primary:hover { transform: translateY(-1px); box-shadow: 0 10px 22px rgba(173,59,16,0.45); }
          .primary:active { transform: translateY(0px) scale(0.99); }
          .secondary {
            color: #1e293b;
            background: rgba(229,231,235,0.4);
            border: 1px solid rgba(0,0,0,0.1);
          }
          .secondary:hover { transform: translateY(-1px); }
          .muted {
            font-size: 12px;
            color: #64748b;
            text-align: center;
            margin-top: 14px;
            animation: pulseSoft 2.4s ease-in-out infinite;
          }
        `}),D.jsxs("div",{className:"card",children:[D.jsx("div",{className:"iconwrap",children:D.jsxs("svg",{width:"36",height:"36",viewBox:"0 0 24 24",fill:"none",children:[D.jsx("path",{d:"M3 3l18 18",stroke:"#fff",strokeWidth:"1.6",strokeLinecap:"round"}),D.jsx("path",{d:"M9 21h6a7 7 0 000-14 5 5 0 00-9.8 2",stroke:"#fff",strokeWidth:"1.6",strokeLinecap:"round"}),D.jsx("path",{d:"M7 17a3 3 0 004 0",stroke:"#fff",strokeWidth:"1.6",strokeLinecap:"round"})]})}),D.jsx("div",{className:"title",children:"Server Not Reachable"}),D.jsx("div",{className:"subtitle",children:"Please check your internet connection or try again in a moment."}),D.jsxs("div",{className:"actions",children:[D.jsxs("button",{className:"btn primary",onClick:i,children:[D.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:[D.jsx("path",{d:"M21 12a9 9 0 10-3.52 7.09",stroke:"white",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),D.jsx("path",{d:"M21 12v6h-6",stroke:"white",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Retry"]}),t&&D.jsx("button",{className:"btn secondary",onClick:()=>window.location.reload(),children:"Reload"})]}),D.jsx("div",{className:"muted",children:"Error code: 404  Connectivity issue"})]})]}),Sa=({children:i,allowedRoles:t})=>{const{role:s}=Kl(),{hasProfile:r}=Dw(),{isLoggedIn:a,checkGatewayStatus:u}=Np(),d=ca(),[p,m]=X.useState(!1),[y,b]=X.useState(0),[S,M]=X.useState({networkError:!1,needsAuthentication:!1,needsSubscription:!1}),A=a();if(X.useEffect(()=>{(async()=>{console.log("ProtectedRoute - checking gateway status, loggedIn:",A,"hasProfile:",r);const E=await u();M(E),m(!0)})()},[A,r,y]),!p)return D.jsx("div",{children:"Loading..."});if(S?.networkError)return D.jsx(RG,{onRetry:()=>b(R=>R+1),showReload:!0});if(S?.needsAuthentication)return d.pathname==="/gateway/auth"?(console.log("ProtectedRoute - Gateway locked, allowing /gateway/auth"),i):(console.log("ProtectedRoute - Gateway locked, redirecting to /gateway/auth"),D.jsx(_l,{to:"/gateway/auth",replace:!0}));if(S?.needsSubscription)return d.pathname==="/gateway/subscription"?(console.log("ProtectedRoute - Subscription inactive, allowing /gateway/subscription"),i):(console.log("ProtectedRoute - Subscription inactive, redirecting to /gateway/subscription"),D.jsx(_l,{to:"/gateway/subscription",replace:!0}));if(!r)return d.pathname==="/user/profile"?(console.log("ProtectedRoute - No profile exists, allowing /user/profile"),i):(console.log("ProtectedRoute - No profile exists, redirecting to /user/profile"),D.jsx(_l,{to:"/user/profile",replace:!0}));if(r&&!A)return d.pathname==="/auth/login"?(console.log("ProtectedRoute - Profile exists but not logged in, allowing /auth/login"),i):(console.log("ProtectedRoute - Profile exists but not logged in, redirecting to /auth/login"),D.jsx(_l,{to:"/auth/login",replace:!0}));if(r&&A){if(console.log("ProtectedRoute - Profile exists and logged in, checking route access"),["/auth/login","/gateway/auth","/gateway/subscription","/user/profile"].includes(d.pathname))return console.log("ProtectedRoute - Logged in user trying to access entry route, redirecting to dashboard"),D.jsx(_l,{to:"/dashboard",replace:!0})}else if(!A)return D.jsx(_l,{to:"/auth/login",state:{from:d.pathname},replace:!0});return t&&(!s||!t.includes(s))?D.jsx(_l,{to:"/dashboard",replace:!0}):i},tN=X.createContext({dragDropManager:void 0});function dn(i,t,s){return(t=y2(t))in i?Object.defineProperty(i,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[t]=s,i}function Eo(i){return"Minified Redux error #"+i+"; visit https://redux.js.org/Errors?code="+i+" for the full message or use the non-minified dev environment for full errors. "}var gT=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),mT=function(){return Math.random().toString(36).substring(7).split("").join(".")},yT={INIT:"@@redux/INIT"+mT(),REPLACE:"@@redux/REPLACE"+mT()};function LG(i){if(typeof i!="object"||i===null)return!1;for(var t=i;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(i)===t}function nN(i,t,s){var r;if(typeof t=="function"&&typeof s=="function"||typeof s=="function"&&typeof arguments[3]=="function")throw new Error(Eo(0));if(typeof t=="function"&&typeof s>"u"&&(s=t,t=void 0),typeof s<"u"){if(typeof s!="function")throw new Error(Eo(1));return s(nN)(i,t)}if(typeof i!="function")throw new Error(Eo(2));var a=i,u=t,d=[],p=d,m=!1;function y(){p===d&&(p=d.slice())}function b(){if(m)throw new Error(Eo(3));return u}function S(E){if(typeof E!="function")throw new Error(Eo(4));if(m)throw new Error(Eo(5));var _=!0;return y(),p.push(E),function(){if(_){if(m)throw new Error(Eo(6));_=!1,y();var B=p.indexOf(E);p.splice(B,1),d=null}}}function M(E){if(!LG(E))throw new Error(Eo(7));if(typeof E.type>"u")throw new Error(Eo(8));if(m)throw new Error(Eo(9));try{m=!0,u=a(u,E)}finally{m=!1}for(var _=d=p,T=0;T<_.length;T++){var B=_[T];B()}return E}function A(E){if(typeof E!="function")throw new Error(Eo(10));a=E,M({type:yT.REPLACE})}function R(){var E,_=S;return E={subscribe:function(B){if(typeof B!="object"||B===null)throw new Error(Eo(11));function z(){B.next&&B.next(b())}z();var W=_(z);return{unsubscribe:W}}},E[gT]=function(){return this},E}return M({type:yT.INIT}),r={dispatch:M,subscribe:S,getState:b,replaceReducer:A},r[gT]=R,r}function Xn(i,t,...s){if(OG()&&t===void 0)throw new Error("invariant requires an error message argument");if(!i){let r;if(t===void 0)r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let a=0;r=new Error(t.replace(/%s/g,function(){return s[a++]})),r.name="Invariant Violation"}throw r.framesToPop=1,r}}function OG(){return typeof process<"u"&&!0}function IG(i,t,s){return t.split(".").reduce((r,a)=>r&&r[a]?r[a]:s||null,i)}function FG(i,t){return i.filter(s=>s!==t)}function iN(i){return typeof i=="object"}function jG(i,t){const s=new Map,r=u=>{s.set(u,s.has(u)?s.get(u)+1:1)};i.forEach(r),t.forEach(r);const a=[];return s.forEach((u,d)=>{u===1&&a.push(d)}),a}function _G(i,t){return i.filter(s=>t.indexOf(s)>-1)}const Rw="dnd-core/INIT_COORDS",iy="dnd-core/BEGIN_DRAG",Lw="dnd-core/PUBLISH_DRAG_SOURCE",sy="dnd-core/HOVER",ry="dnd-core/DROP",oy="dnd-core/END_DRAG";function xT(i,t){return{type:Rw,payload:{sourceClientOffset:t||null,clientOffset:i||null}}}const zG={type:Rw,payload:{clientOffset:null,sourceClientOffset:null}};function BG(i){return function(s=[],r={publishSource:!0}){const{publishSource:a=!0,clientOffset:u,getSourceClientOffset:d}=r,p=i.getMonitor(),m=i.getRegistry();i.dispatch(xT(u)),VG(s,p,m);const y=$G(s,p);if(y==null){i.dispatch(zG);return}let b=null;if(u){if(!d)throw new Error("getSourceClientOffset must be defined");HG(d),b=d(y)}i.dispatch(xT(u,b));const M=m.getSource(y).beginDrag(p,y);if(M==null)return;WG(M),m.pinSource(y);const A=m.getSourceType(y);return{type:iy,payload:{itemType:A,item:M,sourceId:y,clientOffset:u||null,sourceClientOffset:b||null,isSourcePublic:!!a}}}}function VG(i,t,s){Xn(!t.isDragging(),"Cannot call beginDrag while dragging."),i.forEach(function(r){Xn(s.getSource(r),"Expected sourceIds to be registered.")})}function HG(i){Xn(typeof i=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function WG(i){Xn(iN(i),"Item must be an object.")}function $G(i,t){let s=null;for(let r=i.length-1;r>=0;r--)if(t.canDragSource(i[r])){s=i[r];break}return s}function YG(i,t,s){return t in i?Object.defineProperty(i,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[t]=s,i}function UG(i){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{},r=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(s).filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable}))),r.forEach(function(a){YG(i,a,s[a])})}return i}function XG(i){return function(s={}){const r=i.getMonitor(),a=i.getRegistry();GG(r),ZG(r).forEach((d,p)=>{const m=qG(d,p,a,r),y={type:ry,payload:{dropResult:UG({},s,m)}};i.dispatch(y)})}}function GG(i){Xn(i.isDragging(),"Cannot call drop while not dragging."),Xn(!i.didDrop(),"Cannot call drop twice during one drag operation.")}function qG(i,t,s,r){const a=s.getTarget(i);let u=a?a.drop(r,i):void 0;return KG(u),typeof u>"u"&&(u=t===0?{}:r.getDropResult()),u}function KG(i){Xn(typeof i>"u"||iN(i),"Drop result must either be an object or undefined.")}function ZG(i){const t=i.getTargetIds().filter(i.canDropOnTarget,i);return t.reverse(),t}function JG(i){return function(){const s=i.getMonitor(),r=i.getRegistry();QG(s);const a=s.getSourceId();return a!=null&&(r.getSource(a,!0).endDrag(s,a),r.unpinSource()),{type:oy}}}function QG(i){Xn(i.isDragging(),"Cannot call endDrag while not dragging.")}function n1(i,t){return t===null?i===null:Array.isArray(i)?i.some(s=>s===t):i===t}function eq(i){return function(s,{clientOffset:r}={}){tq(s);const a=s.slice(0),u=i.getMonitor(),d=i.getRegistry(),p=u.getItemType();return iq(a,d,p),nq(a,u,d),sq(a,u,d),{type:sy,payload:{targetIds:a,clientOffset:r||null}}}}function tq(i){Xn(Array.isArray(i),"Expected targetIds to be an array.")}function nq(i,t,s){Xn(t.isDragging(),"Cannot call hover while not dragging."),Xn(!t.didDrop(),"Cannot call hover after drop.");for(let r=0;r<i.length;r++){const a=i[r];Xn(i.lastIndexOf(a)===r,"Expected targetIds to be unique in the passed array.");const u=s.getTarget(a);Xn(u,"Expected targetIds to be registered.")}}function iq(i,t,s){for(let r=i.length-1;r>=0;r--){const a=i[r],u=t.getTargetType(a);n1(u,s)||i.splice(r,1)}}function sq(i,t,s){i.forEach(function(r){s.getTarget(r).hover(t,r)})}function rq(i){return function(){if(i.getMonitor().isDragging())return{type:Lw}}}function oq(i){return{beginDrag:BG(i),publishDragSource:rq(i),hover:eq(i),drop:XG(i),endDrag:JG(i)}}class aq{receiveBackend(t){this.backend=t}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const t=this,{dispatch:s}=this.store;function r(u){return(...d)=>{const p=u.apply(t,d);typeof p<"u"&&s(p)}}const a=oq(this);return Object.keys(a).reduce((u,d)=>{const p=a[d];return u[d]=r(p),u},{})}dispatch(t){this.store.dispatch(t)}constructor(t,s){this.isSetUp=!1,this.handleRefCountChange=()=>{const r=this.store.getState().refCount>0;this.backend&&(r&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!r&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=t,this.monitor=s,t.subscribe(this.handleRefCountChange)}}function lq(i,t){return{x:i.x+t.x,y:i.y+t.y}}function sN(i,t){return{x:i.x-t.x,y:i.y-t.y}}function cq(i){const{clientOffset:t,initialClientOffset:s,initialSourceClientOffset:r}=i;return!t||!s||!r?null:sN(lq(t,r),s)}function uq(i){const{clientOffset:t,initialClientOffset:s}=i;return!t||!s?null:sN(t,s)}const Bf=[],Ow=[];Bf.__IS_NONE__=!0;Ow.__IS_ALL__=!0;function hq(i,t){return i===Bf?!1:i===Ow||typeof t>"u"?!0:_G(t,i).length>0}class dq{subscribeToStateChange(t,s={}){const{handlerIds:r}=s;Xn(typeof t=="function","listener must be a function."),Xn(typeof r>"u"||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let a=this.store.getState().stateId;const u=()=>{const d=this.store.getState(),p=d.stateId;try{p===a||p===a+1&&!hq(d.dirtyHandlerIds,r)||t()}finally{a=p}};return this.store.subscribe(u)}subscribeToOffsetChange(t){Xn(typeof t=="function","listener must be a function.");let s=this.store.getState().dragOffset;const r=()=>{const a=this.store.getState().dragOffset;a!==s&&(s=a,t())};return this.store.subscribe(r)}canDragSource(t){if(!t)return!1;const s=this.registry.getSource(t);return Xn(s,`Expected to find a valid source. sourceId=${t}`),this.isDragging()?!1:s.canDrag(this,t)}canDropOnTarget(t){if(!t)return!1;const s=this.registry.getTarget(t);if(Xn(s,`Expected to find a valid target. targetId=${t}`),!this.isDragging()||this.didDrop())return!1;const r=this.registry.getTargetType(t),a=this.getItemType();return n1(r,a)&&s.canDrop(this,t)}isDragging(){return!!this.getItemType()}isDraggingSource(t){if(!t)return!1;const s=this.registry.getSource(t,!0);if(Xn(s,`Expected to find a valid source. sourceId=${t}`),!this.isDragging()||!this.isSourcePublic())return!1;const r=this.registry.getSourceType(t),a=this.getItemType();return r!==a?!1:s.isDragging(this,t)}isOverTarget(t,s={shallow:!1}){if(!t)return!1;const{shallow:r}=s;if(!this.isDragging())return!1;const a=this.registry.getTargetType(t),u=this.getItemType();if(u&&!n1(a,u))return!1;const d=this.getTargetIds();if(!d.length)return!1;const p=d.indexOf(t);return r?p===d.length-1:p>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return cq(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return uq(this.store.getState().dragOffset)}constructor(t,s){this.store=t,this.registry=s}}const vT=typeof globalThis<"u"?globalThis:self,rN=vT.MutationObserver||vT.WebKitMutationObserver;function oN(i){return function(){const s=setTimeout(a,0),r=setInterval(a,50);function a(){clearTimeout(s),clearInterval(r),i()}}}function fq(i){let t=1;const s=new rN(i),r=document.createTextNode("");return s.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}const pq=typeof rN=="function"?fq:oN;class gq{enqueueTask(t){const{queue:s,requestFlush:r}=this;s.length||(r(),this.flushing=!0),s[s.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:t}=this;for(;this.index<t.length;){const s=this.index;if(this.index++,t[s].call(),this.index>this.capacity){for(let r=0,a=t.length-this.index;r<a;r++)t[r]=t[r+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=pq(this.flush),this.requestErrorThrow=oN(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class mq{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,s){this.onError=t,this.release=s,this.task=null}}class yq{create(t){const s=this.freeTasks,r=s.length?s.pop():new mq(this.onError,a=>s[s.length]=a);return r.task=t,r}constructor(t){this.onError=t,this.freeTasks=[]}}const aN=new gq,xq=new yq(aN.registerPendingError);function vq(i){aN.enqueueTask(xq.create(i))}const Iw="dnd-core/ADD_SOURCE",Fw="dnd-core/ADD_TARGET",jw="dnd-core/REMOVE_SOURCE",ay="dnd-core/REMOVE_TARGET";function bq(i){return{type:Iw,payload:{sourceId:i}}}function wq(i){return{type:Fw,payload:{targetId:i}}}function Sq(i){return{type:jw,payload:{sourceId:i}}}function Cq(i){return{type:ay,payload:{targetId:i}}}function kq(i){Xn(typeof i.canDrag=="function","Expected canDrag to be a function."),Xn(typeof i.beginDrag=="function","Expected beginDrag to be a function."),Xn(typeof i.endDrag=="function","Expected endDrag to be a function.")}function Pq(i){Xn(typeof i.canDrop=="function","Expected canDrop to be a function."),Xn(typeof i.hover=="function","Expected hover to be a function."),Xn(typeof i.drop=="function","Expected beginDrag to be a function.")}function i1(i,t){if(t&&Array.isArray(i)){i.forEach(s=>i1(s,!1));return}Xn(typeof i=="string"||typeof i=="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var jo;(function(i){i.SOURCE="SOURCE",i.TARGET="TARGET"})(jo||(jo={}));let Mq=0;function Tq(){return Mq++}function Aq(i){const t=Tq().toString();switch(i){case jo.SOURCE:return`S${t}`;case jo.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${i}`)}}function bT(i){switch(i[0]){case"S":return jo.SOURCE;case"T":return jo.TARGET;default:throw new Error(`Cannot parse handler ID: ${i}`)}}function wT(i,t){const s=i.entries();let r=!1;do{const{done:a,value:[,u]}=s.next();if(u===t)return!0;r=!!a}while(!r);return!1}class Dq{addSource(t,s){i1(t),kq(s);const r=this.addHandler(jo.SOURCE,t,s);return this.store.dispatch(bq(r)),r}addTarget(t,s){i1(t,!0),Pq(s);const r=this.addHandler(jo.TARGET,t,s);return this.store.dispatch(wq(r)),r}containsHandler(t){return wT(this.dragSources,t)||wT(this.dropTargets,t)}getSource(t,s=!1){return Xn(this.isSourceId(t),"Expected a valid source ID."),s&&t===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(t)}getTarget(t){return Xn(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}getSourceType(t){return Xn(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}getTargetType(t){return Xn(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}isSourceId(t){return bT(t)===jo.SOURCE}isTargetId(t){return bT(t)===jo.TARGET}removeSource(t){Xn(this.getSource(t),"Expected an existing source."),this.store.dispatch(Sq(t)),vq(()=>{this.dragSources.delete(t),this.types.delete(t)})}removeTarget(t){Xn(this.getTarget(t),"Expected an existing target."),this.store.dispatch(Cq(t)),this.dropTargets.delete(t),this.types.delete(t)}pinSource(t){const s=this.getSource(t);Xn(s,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=s}unpinSource(){Xn(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(t,s,r){const a=Aq(t);return this.types.set(a,s),t===jo.SOURCE?this.dragSources.set(a,r):t===jo.TARGET&&this.dropTargets.set(a,r),a}constructor(t){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}}const Eq=(i,t)=>i===t;function Nq(i,t){return!i&&!t?!0:!i||!t?!1:i.x===t.x&&i.y===t.y}function Rq(i,t,s=Eq){if(i.length!==t.length)return!1;for(let r=0;r<i.length;++r)if(!s(i[r],t[r]))return!1;return!0}function Lq(i=Bf,t){switch(t.type){case sy:break;case Iw:case Fw:case ay:case jw:return Bf;case iy:case Lw:case oy:case ry:default:return Ow}const{targetIds:s=[],prevTargetIds:r=[]}=t.payload,a=jG(s,r);if(!(a.length>0||!Rq(s,r)))return Bf;const d=r[r.length-1],p=s[s.length-1];return d!==p&&(d&&a.push(d),p&&a.push(p)),a}function Oq(i,t,s){return t in i?Object.defineProperty(i,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[t]=s,i}function Iq(i){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{},r=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(s).filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable}))),r.forEach(function(a){Oq(i,a,s[a])})}return i}const ST={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Fq(i=ST,t){const{payload:s}=t;switch(t.type){case Rw:case iy:return{initialSourceClientOffset:s.sourceClientOffset,initialClientOffset:s.clientOffset,clientOffset:s.clientOffset};case sy:return Nq(i.clientOffset,s.clientOffset)?i:Iq({},i,{clientOffset:s.clientOffset});case oy:case ry:return ST;default:return i}}function jq(i,t,s){return t in i?Object.defineProperty(i,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[t]=s,i}function Ju(i){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{},r=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(s).filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable}))),r.forEach(function(a){jq(i,a,s[a])})}return i}const _q={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function zq(i=_q,t){const{payload:s}=t;switch(t.type){case iy:return Ju({},i,{itemType:s.itemType,item:s.item,sourceId:s.sourceId,isSourcePublic:s.isSourcePublic,dropResult:null,didDrop:!1});case Lw:return Ju({},i,{isSourcePublic:!0});case sy:return Ju({},i,{targetIds:s.targetIds});case ay:return i.targetIds.indexOf(s.targetId)===-1?i:Ju({},i,{targetIds:FG(i.targetIds,s.targetId)});case ry:return Ju({},i,{dropResult:s.dropResult,didDrop:!0,targetIds:[]});case oy:return Ju({},i,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return i}}function Bq(i=0,t){switch(t.type){case Iw:case Fw:return i+1;case jw:case ay:return i-1;default:return i}}function Vq(i=0){return i+1}function Hq(i,t,s){return t in i?Object.defineProperty(i,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[t]=s,i}function Wq(i){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{},r=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(s).filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable}))),r.forEach(function(a){Hq(i,a,s[a])})}return i}function $q(i={},t){return{dirtyHandlerIds:Lq(i.dirtyHandlerIds,{type:t.type,payload:Wq({},t.payload,{prevTargetIds:IG(i,"dragOperation.targetIds",[])})}),dragOffset:Fq(i.dragOffset,t),refCount:Bq(i.refCount,t),dragOperation:zq(i.dragOperation,t),stateId:Vq(i.stateId)}}function Yq(i,t=void 0,s={},r=!1){const a=Uq(r),u=new dq(a,new Dq(a)),d=new aq(a,u),p=i(d,t,s);return d.receiveBackend(p),d}function Uq(i){const t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return nN($q,i&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}function Xq(i,t){if(i==null)return{};var s=Gq(i,t),r,a;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(a=0;a<u.length;a++)r=u[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(s[r]=i[r])}return s}function Gq(i,t){if(i==null)return{};var s={},r=Object.keys(i),a,u;for(u=0;u<r.length;u++)a=r[u],!(t.indexOf(a)>=0)&&(s[a]=i[a]);return s}let CT=0;const Lm=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var qq=X.memo(function(t){var{children:s}=t,r=Xq(t,["children"]);const[a,u]=Kq(r);return X.useEffect(()=>{if(u){const d=lN();return++CT,()=>{--CT===0&&(d[Lm]=null)}}},[]),D.jsx(tN.Provider,{value:a,children:s})});function Kq(i){if("manager"in i)return[{dragDropManager:i.manager},!1];const t=Zq(i.backend,i.context,i.options,i.debugMode),s=!i.context;return[t,s]}function Zq(i,t=lN(),s,r){const a=t;return a[Lm]||(a[Lm]={dragDropManager:Yq(i,t,s,r)}),a[Lm]}function lN(){return typeof globalThis<"u"?globalThis:window}var Gv,kT;function Jq(){return kT||(kT=1,Gv=function i(t,s){if(t===s)return!0;if(t&&s&&typeof t=="object"&&typeof s=="object"){if(t.constructor!==s.constructor)return!1;var r,a,u;if(Array.isArray(t)){if(r=t.length,r!=s.length)return!1;for(a=r;a--!==0;)if(!i(t[a],s[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===s.source&&t.flags===s.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===s.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===s.toString();if(u=Object.keys(t),r=u.length,r!==Object.keys(s).length)return!1;for(a=r;a--!==0;)if(!Object.prototype.hasOwnProperty.call(s,u[a]))return!1;for(a=r;a--!==0;){var d=u[a];if(!i(t[d],s[d]))return!1}return!0}return t!==t&&s!==s}),Gv}var Qq=Jq();const eK=Qn(Qq),Zc=typeof window<"u"?X.useLayoutEffect:X.useEffect;function tK(i,t,s){const[r,a]=X.useState(()=>t(i)),u=X.useCallback(()=>{const d=t(i);eK(r,d)||(a(d),s&&s())},[r,i,s]);return Zc(u),[r,u]}function nK(i,t,s){const[r,a]=tK(i,t,s);return Zc(function(){const d=i.getHandlerId();if(d!=null)return i.subscribeToStateChange(a,{handlerIds:[d]})},[i,a]),r}function cN(i,t,s){return nK(t,i||(()=>({})),()=>s.reconnect())}function uN(i,t){const s=[];return typeof i!="function"&&s.push(i),X.useMemo(()=>typeof i=="function"?i():i,s)}function iK(i){return X.useMemo(()=>i.hooks.dragSource(),[i])}function sK(i){return X.useMemo(()=>i.hooks.dragPreview(),[i])}let qv=!1,Kv=!1;class rK{receiveHandlerId(t){this.sourceId=t}getHandlerId(){return this.sourceId}canDrag(){Xn(!qv,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return qv=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{qv=!1}}isDragging(){if(!this.sourceId)return!1;Xn(!Kv,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Kv=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Kv=!1}}subscribeToStateChange(t,s){return this.internalMonitor.subscribeToStateChange(t,s)}isDraggingSource(t){return this.internalMonitor.isDraggingSource(t)}isOverTarget(t,s){return this.internalMonitor.isOverTarget(t,s)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(t){return this.internalMonitor.subscribeToOffsetChange(t)}canDragSource(t){return this.internalMonitor.canDragSource(t)}canDropOnTarget(t){return this.internalMonitor.canDropOnTarget(t)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.sourceId=null,this.internalMonitor=t.getMonitor()}}let Zv=!1;class oK{receiveHandlerId(t){this.targetId=t}getHandlerId(){return this.targetId}subscribeToStateChange(t,s){return this.internalMonitor.subscribeToStateChange(t,s)}canDrop(){if(!this.targetId)return!1;Xn(!Zv,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Zv=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Zv=!1}}isOver(t){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,t):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.targetId=null,this.internalMonitor=t.getMonitor()}}function aK(i,t,s){const r=s.getRegistry(),a=r.addTarget(i,t);return[a,()=>r.removeTarget(a)]}function lK(i,t,s){const r=s.getRegistry(),a=r.addSource(i,t);return[a,()=>r.removeSource(a)]}function s1(i,t,s,r){let a;if(a!==void 0)return!!a;if(i===t)return!0;if(typeof i!="object"||!i||typeof t!="object"||!t)return!1;const u=Object.keys(i),d=Object.keys(t);if(u.length!==d.length)return!1;const p=Object.prototype.hasOwnProperty.bind(t);for(let m=0;m<u.length;m++){const y=u[m];if(!p(y))return!1;const b=i[y],S=t[y];if(a=void 0,a===!1||a===void 0&&b!==S)return!1}return!0}function r1(i){return i!==null&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function cK(i){if(typeof i.type=="string")return;const t=i.type.displayName||i.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}function uK(i){return(t=null,s=null)=>{if(!X.isValidElement(t)){const u=t;return i(u,s),u}const r=t;return cK(r),hK(r,s?u=>i(u,s):i)}}function hN(i){const t={};return Object.keys(i).forEach(s=>{const r=i[s];if(s.endsWith("Ref"))t[s]=i[s];else{const a=uK(r);t[s]=()=>a}}),t}function PT(i,t){typeof i=="function"?i(t):i.current=t}function hK(i,t){const s=i.ref;return Xn(typeof s!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),s?X.cloneElement(i,{ref:r=>{PT(s,r),PT(t,r)}}):X.cloneElement(i,{ref:t})}class dK{receiveHandlerId(t){this.handlerId!==t&&(this.handlerId=t,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(t){this.dragSourceOptionsInternal=t}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(t){this.dragPreviewOptionsInternal=t}reconnect(){const t=this.reconnectDragSource();this.reconnectDragPreview(t)}reconnectDragSource(){const t=this.dragSource,s=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return s&&this.disconnectDragSource(),this.handlerId?t?(s&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)),s):(this.lastConnectedDragSource=t,s):s}reconnectDragPreview(t=!1){const s=this.dragPreview,r=t||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),!!this.handlerId){if(!s){this.lastConnectedDragPreview=s;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=s,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,s,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!s1(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!s1(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(t){this.hooks=hN({dragSource:(s,r)=>{this.clearDragSource(),this.dragSourceOptions=r||null,r1(s)?this.dragSourceRef=s:this.dragSourceNode=s,this.reconnectDragSource()},dragPreview:(s,r)=>{this.clearDragPreview(),this.dragPreviewOptions=r||null,r1(s)?this.dragPreviewRef=s:this.dragPreviewNode=s,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}}class fK{get connectTarget(){return this.dropTarget}reconnect(){const t=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();t&&this.disconnectDropTarget();const s=this.dropTarget;if(this.handlerId){if(!s){this.lastConnectedDropTarget=s;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=s,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,s,this.dropTargetOptions))}}receiveHandlerId(t){t!==this.handlerId&&(this.handlerId=t,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(t){this.dropTargetOptionsInternal=t}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!s1(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(t){this.hooks=hN({dropTarget:(s,r)=>{this.clearDropTarget(),this.dropTargetOptions=r,r1(s)?this.dropTargetRef=s:this.dropTargetNode=s,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}}function Yh(){const{dragDropManager:i}=X.useContext(tN);return Xn(i!=null,"Expected drag drop context"),i}function pK(i,t){const s=Yh(),r=X.useMemo(()=>new dK(s.getBackend()),[s]);return Zc(()=>(r.dragSourceOptions=i||null,r.reconnect(),()=>r.disconnectDragSource()),[r,i]),Zc(()=>(r.dragPreviewOptions=t||null,r.reconnect(),()=>r.disconnectDragPreview()),[r,t]),r}function gK(){const i=Yh();return X.useMemo(()=>new rK(i),[i])}class mK{beginDrag(){const t=this.spec,s=this.monitor;let r=null;return typeof t.item=="object"?r=t.item:typeof t.item=="function"?r=t.item(s):r={},r??null}canDrag(){const t=this.spec,s=this.monitor;return typeof t.canDrag=="boolean"?t.canDrag:typeof t.canDrag=="function"?t.canDrag(s):!0}isDragging(t,s){const r=this.spec,a=this.monitor,{isDragging:u}=r;return u?u(a):s===t.getSourceId()}endDrag(){const t=this.spec,s=this.monitor,r=this.connector,{end:a}=t;a&&a(s.getItem(),s),r.reconnect()}constructor(t,s,r){this.spec=t,this.monitor=s,this.connector=r}}function yK(i,t,s){const r=X.useMemo(()=>new mK(i,t,s),[t,s]);return X.useEffect(()=>{r.spec=i},[i]),r}function xK(i){return X.useMemo(()=>{const t=i.type;return Xn(t!=null,"spec.type must be defined"),t},[i])}function vK(i,t,s){const r=Yh(),a=yK(i,t,s),u=xK(i);Zc(function(){if(u!=null){const[p,m]=lK(u,a,r);return t.receiveHandlerId(p),s.receiveHandlerId(p),m}},[r,t,s,a,u])}function bK(i,t){const s=uN(i);Xn(!s.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=gK(),a=pK(s.options,s.previewOptions);return vK(s,r,a),[cN(s.collect,r,a),iK(a),sK(a)]}function wK(i){return X.useMemo(()=>i.hooks.dropTarget(),[i])}function SK(i){const t=Yh(),s=X.useMemo(()=>new fK(t.getBackend()),[t]);return Zc(()=>(s.dropTargetOptions=i||null,s.reconnect(),()=>s.disconnectDropTarget()),[i]),s}function CK(){const i=Yh();return X.useMemo(()=>new oK(i),[i])}function kK(i){const{accept:t}=i;return X.useMemo(()=>(Xn(i.accept!=null,"accept must be defined"),Array.isArray(t)?t:[t]),[t])}class PK{canDrop(){const t=this.spec,s=this.monitor;return t.canDrop?t.canDrop(s.getItem(),s):!0}hover(){const t=this.spec,s=this.monitor;t.hover&&t.hover(s.getItem(),s)}drop(){const t=this.spec,s=this.monitor;if(t.drop)return t.drop(s.getItem(),s)}constructor(t,s){this.spec=t,this.monitor=s}}function MK(i,t){const s=X.useMemo(()=>new PK(i,t),[t]);return X.useEffect(()=>{s.spec=i},[i]),s}function TK(i,t,s){const r=Yh(),a=MK(i,t),u=kK(i);Zc(function(){const[p,m]=aK(u,a,r);return t.receiveHandlerId(p),s.receiveHandlerId(p),m},[r,t,a,s,u.map(d=>d.toString()).join("|")])}function AK(i,t){const s=uN(i),r=CK(),a=SK(s.options);return TK(s,r,a),[cN(s.collect,r,a),wK(a)]}function dN(i){let t=null;return()=>(t==null&&(t=i()),t)}function DK(i,t){return i.filter(s=>s!==t)}function EK(i,t){const s=new Set,r=u=>s.add(u);i.forEach(r),t.forEach(r);const a=[];return s.forEach(u=>a.push(u)),a}class NK{enter(t){const s=this.entered.length,r=a=>this.isNodeInDocument(a)&&(!a.contains||a.contains(t));return this.entered=EK(this.entered.filter(r),[t]),s===0&&this.entered.length>0}leave(t){const s=this.entered.length;return this.entered=DK(this.entered.filter(this.isNodeInDocument),t),s>0&&this.entered.length===0}reset(){this.entered=[]}constructor(t){this.entered=[],this.isNodeInDocument=t}}class RK{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(t=>{Object.defineProperty(this.item,t,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${t}" until the drop event.`),null}})})}loadDataTransfer(t){if(t){const s={};Object.keys(this.config.exposeProperties).forEach(r=>{const a=this.config.exposeProperties[r];a!=null&&(s[r]={value:a(t,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,s)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(t,s){return s===t.getSourceId()}endDrag(){}constructor(t){this.config=t,this.item={},this.initializeExposedProperties()}}const fN="__NATIVE_FILE__",pN="__NATIVE_URL__",gN="__NATIVE_TEXT__",mN="__NATIVE_HTML__",MT=Object.freeze(Object.defineProperty({__proto__:null,FILE:fN,HTML:mN,TEXT:gN,URL:pN},Symbol.toStringTag,{value:"Module"}));function Jv(i,t,s){const r=t.reduce((a,u)=>a||i.getData(u),"");return r??s}const o1={[fN]:{exposeProperties:{files:i=>Array.prototype.slice.call(i.files),items:i=>i.items,dataTransfer:i=>i},matchesTypes:["Files"]},[mN]:{exposeProperties:{html:(i,t)=>Jv(i,t,""),dataTransfer:i=>i},matchesTypes:["Html","text/html"]},[pN]:{exposeProperties:{urls:(i,t)=>Jv(i,t,"").split(`
`),dataTransfer:i=>i},matchesTypes:["Url","text/uri-list"]},[gN]:{exposeProperties:{text:(i,t)=>Jv(i,t,""),dataTransfer:i=>i},matchesTypes:["Text","text/plain"]}};function LK(i,t){const s=o1[i];if(!s)throw new Error(`native type ${i} has no configuration`);const r=new RK(s);return r.loadDataTransfer(t),r}function Qv(i){if(!i)return null;const t=Array.prototype.slice.call(i.types||[]);return Object.keys(o1).filter(s=>{const r=o1[s];return r?.matchesTypes?r.matchesTypes.some(a=>t.indexOf(a)>-1):!1})[0]||null}const OK=dN(()=>/firefox/i.test(navigator.userAgent)),yN=dN(()=>!!window.safari);class TT{interpolate(t){const{xs:s,ys:r,c1s:a,c2s:u,c3s:d}=this;let p=s.length-1;if(t===s[p])return r[p];let m=0,y=d.length-1,b;for(;m<=y;){b=Math.floor(.5*(m+y));const A=s[b];if(A<t)m=b+1;else if(A>t)y=b-1;else return r[b]}p=Math.max(0,y);const S=t-s[p],M=S*S;return r[p]+a[p]*S+u[p]*M+d[p]*S*M}constructor(t,s){const{length:r}=t,a=[];for(let A=0;A<r;A++)a.push(A);a.sort((A,R)=>t[A]<t[R]?-1:1);const u=[],d=[];let p,m;for(let A=0;A<r-1;A++)p=t[A+1]-t[A],m=s[A+1]-s[A],u.push(p),d.push(m/p);const y=[d[0]];for(let A=0;A<u.length-1;A++){const R=d[A],E=d[A+1];if(R*E<=0)y.push(0);else{p=u[A];const _=u[A+1],T=p+_;y.push(3*T/((T+_)/R+(T+p)/E))}}y.push(d[d.length-1]);const b=[],S=[];let M;for(let A=0;A<y.length-1;A++){M=d[A];const R=y[A],E=1/u[A],_=R+y[A+1]-M-M;b.push((M-R-_)*E),S.push(_*E*E)}this.xs=t,this.ys=s,this.c1s=y,this.c2s=b,this.c3s=S}}const IK=1;function xN(i){const t=i.nodeType===IK?i:i.parentElement;if(!t)return null;const{top:s,left:r}=t.getBoundingClientRect();return{x:r,y:s}}function nm(i){return{x:i.clientX,y:i.clientY}}function FK(i){var t;return i.nodeName==="IMG"&&(OK()||!(!((t=document.documentElement)===null||t===void 0)&&t.contains(i)))}function jK(i,t,s,r){let a=i?t.width:s,u=i?t.height:r;return yN()&&i&&(u/=window.devicePixelRatio,a/=window.devicePixelRatio),{dragPreviewWidth:a,dragPreviewHeight:u}}function _K(i,t,s,r,a){const u=FK(t),p=xN(u?i:t),m={x:s.x-p.x,y:s.y-p.y},{offsetWidth:y,offsetHeight:b}=i,{anchorX:S,anchorY:M}=r,{dragPreviewWidth:A,dragPreviewHeight:R}=jK(u,t,y,b),E=()=>{let U=new TT([0,.5,1],[m.y,m.y/b*R,m.y+R-b]).interpolate(M);return yN()&&u&&(U+=(window.devicePixelRatio-1)*R),U},_=()=>new TT([0,.5,1],[m.x,m.x/y*A,m.x+A-y]).interpolate(S),{offsetX:T,offsetY:B}=a,z=T===0||T,W=B===0||B;return{x:z?T:_(),y:W?B:E()}}class zK{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var t;return!((t=this.globalContext)===null||t===void 0)&&t.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var t;return((t=this.optionsArgs)===null||t===void 0?void 0:t.rootElement)||this.window}constructor(t,s){this.ownerDocument=null,this.globalContext=t,this.optionsArgs=s}}function BK(i,t,s){return t in i?Object.defineProperty(i,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[t]=s,i}function AT(i){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{},r=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(s).filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable}))),r.forEach(function(a){BK(i,a,s[a])})}return i}class VK{profile(){var t,s;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((t=this.dragStartSourceIds)===null||t===void 0?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((s=this.dragOverTargetIds)===null||s===void 0?void 0:s.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const t=this.rootElement;if(t!==void 0){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}teardown(){const t=this.rootElement;if(t!==void 0&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var s;(s=this.window)===null||s===void 0||s.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(t,s,r){return this.sourcePreviewNodeOptions.set(t,r),this.sourcePreviewNodes.set(t,s),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDragSource(t,s,r){this.sourceNodes.set(t,s),this.sourceNodeOptions.set(t,r);const a=d=>this.handleDragStart(d,t),u=d=>this.handleSelectStart(d);return s.setAttribute("draggable","true"),s.addEventListener("dragstart",a),s.addEventListener("selectstart",u),()=>{this.sourceNodes.delete(t),this.sourceNodeOptions.delete(t),s.removeEventListener("dragstart",a),s.removeEventListener("selectstart",u),s.setAttribute("draggable","false")}}connectDropTarget(t,s){const r=d=>this.handleDragEnter(d,t),a=d=>this.handleDragOver(d,t),u=d=>this.handleDrop(d,t);return s.addEventListener("dragenter",r),s.addEventListener("dragover",a),s.addEventListener("drop",u),()=>{s.removeEventListener("dragenter",r),s.removeEventListener("dragover",a),s.removeEventListener("drop",u)}}addEventListeners(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const t=this.monitor.getSourceId(),s=this.sourceNodeOptions.get(t);return AT({dropEffect:this.altKeyPressed?"copy":"move"},s||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const t=this.monitor.getSourceId(),s=this.sourcePreviewNodeOptions.get(t);return AT({anchorX:.5,anchorY:.5,captureDraggingState:!1},s||{})}isDraggingNativeItem(){const t=this.monitor.getItemType();return Object.keys(MT).some(s=>MT[s]===t)}beginDragNativeItem(t,s){this.clearCurrentDragSourceNode(),this.currentNativeSource=LK(t,s),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(t){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;const s=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var r;return(r=this.rootElement)===null||r===void 0?void 0:r.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},s)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var t;(t=this.window)===null||t===void 0||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(t,s){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(s))}handleDragEnter(t,s){this.dragEnterTargetIds.unshift(s)}handleDragOver(t,s){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(s)}handleDrop(t,s){this.dropTargetIds.unshift(s)}constructor(t,s,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=a=>{const u=this.sourceNodes.get(a);return u&&xN(u)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=a=>!!(a&&this.document&&this.document.body&&this.document.body.contains(a)),this.endDragIfSourceWasRemovedFromDOM=()=>{const a=this.currentDragSourceNode;a==null||this.isNodeInDocument(a)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=a=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(a||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=a=>{if(a.defaultPrevented)return;const{dragStartSourceIds:u}=this;this.dragStartSourceIds=null;const d=nm(a);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(u||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:d});const{dataTransfer:p}=a,m=Qv(p);if(this.monitor.isDragging()){if(p&&typeof p.setDragImage=="function"){const b=this.monitor.getSourceId(),S=this.sourceNodes.get(b),M=this.sourcePreviewNodes.get(b)||S;if(M){const{anchorX:A,anchorY:R,offsetX:E,offsetY:_}=this.getCurrentSourcePreviewNodeOptions(),z=_K(S,M,d,{anchorX:A,anchorY:R},{offsetX:E,offsetY:_});p.setDragImage(M,z.x,z.y)}}try{p?.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(a.target);const{captureDraggingState:y}=this.getCurrentSourcePreviewNodeOptions();y?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(m)this.beginDragNativeItem(m);else{if(p&&!p.types&&(a.target&&!a.target.hasAttribute||!a.target.hasAttribute("draggable")))return;a.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=a=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var u;(u=this.currentNativeSource)===null||u===void 0||u.loadDataTransfer(a.dataTransfer)}if(!this.enterLeaveCounter.enter(a.target)||this.monitor.isDragging())return;const{dataTransfer:p}=a,m=Qv(p);m&&this.beginDragNativeItem(m,p)},this.handleTopDragEnter=a=>{const{dragEnterTargetIds:u}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=a.altKey,u.length>0&&this.actions.hover(u,{clientOffset:nm(a)}),u.some(p=>this.monitor.canDropOnTarget(p))&&(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=a=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var u;(u=this.currentNativeSource)===null||u===void 0||u.loadDataTransfer(a.dataTransfer)}},this.handleTopDragOver=a=>{const{dragOverTargetIds:u}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none");return}this.altKeyPressed=a.altKey,this.lastClientOffset=nm(a),this.scheduleHover(u),(u||[]).some(p=>this.monitor.canDropOnTarget(p))?(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?a.preventDefault():(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=a=>{this.isDraggingNativeItem()&&a.preventDefault(),this.enterLeaveCounter.leave(a.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=a=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var u;a.preventDefault(),(u=this.currentNativeSource)===null||u===void 0||u.loadDataTransfer(a.dataTransfer)}else Qv(a.dataTransfer)&&a.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=a=>{const{dropTargetIds:u}=this;this.dropTargetIds=[],this.actions.hover(u,{clientOffset:nm(a)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=a=>{const u=a.target;typeof u.dragDrop=="function"&&(u.tagName==="INPUT"||u.tagName==="SELECT"||u.tagName==="TEXTAREA"||u.isContentEditable||(a.preventDefault(),u.dragDrop()))},this.options=new zK(s,r),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new NK(this.isNodeInDocument)}}const HK=function(t,s,r){return new VK(t,s,r)},WK=({isOpen:i,setIsSaveDiagramDialogOpen:t,onConfirm:s,diagramNameInput:r,setDiagramNameInput:a,diagramDescriptionInput:u,setDiagramDescriptionInput:d})=>D.jsxs(Ji,{open:i,onClose:()=>t(!1),fullWidth:!0,maxWidth:"xs",children:[D.jsx(Ks,{sx:{textAlign:"center",fontWeight:"medium"},children:"Save SCADA Diagram"}),D.jsxs(ws,{children:[D.jsx(Gn,{autoFocus:!0,margin:"dense",label:"Diagram Name",type:"text",fullWidth:!0,variant:"outlined",size:"small",disabled:!0,value:r,sx:{mb:2},onChange:p=>a(p.target.value)}),D.jsx(Gn,{margin:"dense",label:"Description (Optional)",type:"text",fullWidth:!0,multiline:!0,rows:3,variant:"outlined",size:"small",value:u,onChange:p=>d(p.target.value)})]}),D.jsxs(qs,{sx:{p:"16px 24px"},children:[D.jsx(Sn,{onClick:()=>t(!1),variant:"outlined",size:"small",children:"Cancel"}),D.jsx(Sn,{onClick:s,variant:"contained",color:"primary",size:"small",children:"Save"})]})]}),$K=({isOpen:i,onClose:t,onConfirm:s})=>D.jsxs(Ji,{open:i,onClose:t,"aria-labelledby":"confirm-edit-mode-dialog-title",TransitionComponent:Fi,PaperProps:{sx:{borderRadius:2,boxShadow:5}},children:[D.jsx(Ks,{id:"confirm-edit-mode-dialog-title",sx:{textAlign:"center",fontWeight:"medium"},children:"Enter Edit Mode?"}),D.jsx(ws,{children:D.jsx(qm,{sx:{textAlign:"center"},children:"Entering edit mode will allow you to make changes to the diagram. Ensure you save your work."})}),D.jsxs(qs,{sx:{justifyContent:"center",p:2,gap:2},children:[D.jsx(Sn,{onClick:t,variant:"outlined",color:"secondary",size:"small",children:"Cancel"}),D.jsx(Sn,{onClick:r=>{r.stopPropagation(),s()},variant:"contained",color:"primary",size:"small",autoFocus:!0,children:"Confirm"})]})]}),YK=({isOpen:i,setIsDeleteConfirmOpen:t,onConfirm:s,hasModelId:r})=>D.jsxs(Ji,{open:i,onClose:()=>t(!1),fullWidth:!0,maxWidth:"xs",children:[D.jsx(Ks,{sx:{textAlign:"center",fontWeight:"medium"},children:"Clear Diagram"}),D.jsxs(ws,{children:[D.jsx(Oe,{children:"Are you sure you want to clear the current diagram?"}),D.jsxs(Oe,{variant:"caption",color:"textSecondary",children:["This will ",r?"remove the saved diagram from the database and ":"","reset your canvas."]})]}),D.jsxs(qs,{sx:{p:"16px 24px"},children:[D.jsx(Sn,{onClick:()=>t(!1),variant:"outlined",children:"Cancel"}),D.jsx(Sn,{onClick:s,variant:"contained",color:"error",children:r?"Delete and Clear":"Clear Canvas"})]})]}),vN=nu(i=>({addLogEntry:async t=>{t.source,t.item_name,t.action,t.details,t.item_type,t.item_id;try{(await Jn.request(XY,{input:{activityLog:{source:t.source,itemName:t.item_name||null,action:t.action,details:t.details||null,itemType:t.item_type||null,itemId:t.item_id||null}}}))?.createActivityLog?.activityLog?.id||it.error("Failed to insert activity log: No ID returned.")}catch(s){it.error("Error inserting activity log."),console.error("Error inserting activity log via GraphQL:",s)}}})),UK=()=>{const[i,t]=X.useState([]),[s,r]=X.useState(!0),[a,u]=X.useState([]),[d,p]=X.useState([]),[m,y]=X.useState({id:null,name:"",description:""}),[b,S]=X.useState(""),[M,A]=X.useState(!0);X.useEffect(()=>{(async()=>{r(!0);try{const{allMeterConfigrations:B}=await Jn.request(dw),z=B?.nodes||[],W=z.filter(L=>L.meterNo!=null&&L.label);console.log("allMeterConfigrations",z,W),t(W)}catch(B){console.error("ScadaPage: Error fetching meter configurations:",B),it.error("Failed to fetch meter configurations.")}finally{r(!1)}})()},[]);const R=X.useCallback(async()=>{console.log("fetchInitialDiagram: Starting fetch..."),A(!0);try{const T=await Jn.request(qD);console.log("fetchInitialDiagram: Raw response:",T);let B=null;if(T.scadaDiagrams&&T.scadaDiagrams.length>0?B=T.scadaDiagrams[0]:T.allScadaDiagrams?.nodes&&T.allScadaDiagrams.nodes.length>0?B=T.allScadaDiagrams.nodes.find(z=>z.name===Mm)||T.allScadaDiagrams.nodes[0]:T.scadaDiagram&&(B=T.scadaDiagram),console.log("fetchInitialDiagram: Found diagram data:",B),B&&B.diagramModelJson)try{const z=JSON.parse(B.diagramModelJson);console.log("fetchInitialDiagram: Parsed model:",z);const W=z.nodeDataArray||[],L=z.linkDataArray||[],U={id:B.id,name:B.name||Mm,description:z.modelData?.description||B.description||""},I=z.modelData?.description||B.description||"";console.log("fetchInitialDiagram: Setting new data:",{nodeCount:W.length,linkCount:L.length,modelData:U}),u(W),p(L),y(U),S(I)}catch(z){console.error("ScadaPage: Error parsing diagram model JSON:",z),it.error("Failed to parse diagram data."),E()}else console.log("fetchInitialDiagram: No diagram data found, setting empty state"),E()}catch(T){console.error("ScadaPage: Error fetching initial diagram:",T),console.error("Error details:",T.response?.errors||T),it.error("Failed to fetch diagram data: "+(T.response?.errors?.[0]?.message||T.message)),E()}finally{A(!1),console.log("fetchInitialDiagram: Fetch completed")}},[]),E=X.useCallback(()=>{u([]),p([]),y({id:null,name:Mm,description:""}),S("")},[]);X.useEffect(()=>{R()},[R]);const _=X.useMemo(()=>({id:m.id,name:m.name,description:m.description}),[m.id,m.name,m.description]);return X.useEffect(()=>{console.log("useScadaDataFetching: State updated:",{nodeCount:a.length,linkCount:d.length,modelData:m,loading:M})},[a,d,m,M]),{configuredMeters:i,loadingMeters:s,initialNodeDataArray:a,initialLinkDataArray:d,initialModelData:_,initialDiagramDescription:b,loadingInitialDiagram:M,fetchInitialDiagram:R}},XK=(i,t,s,r,a)=>{const[u,d]=X.useState(i||[]),[p,m]=X.useState(t||[]),[y,b]=X.useState(s||{id:null,name:"",description:""}),[S,M]=X.useState(!1),[A,R]=X.useState(!1),[E,_]=X.useState(!1),[T,B]=X.useState(s?.name),[z,W]=X.useState(s?.description||""),[L,U]=X.useState(!1),{addLogEntry:I}=vN();X.useEffect(()=>{d(i||[]),m(t||[]),b(s||{}),B(s?.name),W(s?.description||""),M(!1)},[i,t,s]);const q=X.useCallback(ie=>{const he=ie.diagram;if(he&&he.model&&ie.isTransactionFinished&&A){const pe=he.model.nodeDataArray.slice(),de=he.model.linkDataArray.slice();d(pe),m(de),he.model.modelData&&he.model.modelData.description!==y.description&&b(xe=>({...xe,description:he.model.modelData.description})),M(!0)}},[A,y.description]),ee=X.useCallback(ie=>{A&&M(!0)},[A]),te=X.useCallback(ie=>{ie&&ie.length>0&&(d(he=>he.filter(pe=>!ie.includes(pe.key))),m(he=>he.filter(pe=>!ie.includes(pe.from)&&!ie.includes(pe.to))),A&&M(!0))},[A]),ce=X.useCallback(()=>{if(!A){it.info("Switch to Edit Mode to save the diagram.");return}if(!S){it.info("No changes to save.");return}B(y.name),W(y.description||""),_(!0)},[A,S,y.description,y.name]),re=X.useCallback(async(ie,he)=>{if(!ie||!ie.model){it.error("Diagram model not available for saving."),_(!1);return}try{const pe=ie.model.toJson(),de=JSON.parse(pe);console.log("Original model JSON:",pe),console.log("Parsed SCADA model:",de);let xe;const Se={id:y.id,name:T,description:z,automationRules:he||[]};de.modelData=Se,de.linkKeyProperty="key";const _e=((await Jn.request(qD)).allScadaDiagrams?.nodes||[]).find(qe=>qe.name===T);if(_e)try{console.log("Updating existing diagram with nodeId:",_e.nodeId||_e.id);const qe=_e.nodeId||_e.id;if(xe=await Jn.request(qY,{input:{nodeId:qe,scadaDiagramPatch:{name:T,description:z,diagramModelJson:JSON.stringify(de)}}}),console.log("Update operation result:",xe),!xe||!xe.updateScadaDiagram){console.error("Update operation returned null or empty result"),console.error("This might indicate:"),console.error("1. Wrong nodeId format - expected Global ID, got:",qe),console.error("2. Record doesn't exist with this nodeId"),console.error("3. Permission issues"),console.error("4. Required fields missing"),console.log("Existing diagram object:",_e),it.error("Update operation failed - check console for details"),_(!1);return}}catch(qe){console.error("Update operation failed:",qe),console.error("Error details:",qe.response?.errors||qe),console.error("Full error object:",JSON.stringify(qe,null,2)),qe.message.includes("duplicate")||qe.message.includes("unique")?it.error("A diagram with this name already exists. Please use a different name."):it.error("Failed to update SCADA diagram: "+(qe.response?.errors?.[0]?.message||qe.message)),_(!1);return}else try{xe=await Jn.request(GY,{input:{scadaDiagram:{name:T,description:z,diagramModelJson:JSON.stringify(de)}}}),console.log("Insert operation result:",xe)}catch(qe){console.error("Insert operation failed:",qe),it.error("Failed to create SCADA diagram: "+(qe.response?.errors?.[0]?.message||qe.message)),_(!1);return}console.log("result",xe,_e,"nodeDataArray:",ie.model.nodeDataArray,"linkDataArray:",ie.model.linkDataArray),console.log("parsedScadaModel being saved:",de),console.log("diagramModelJson being saved:",JSON.stringify(de));let Me;if(xe?.updateScadaDiagram?.scadaDiagram?.id?Me=xe.updateScadaDiagram.scadaDiagram.id:xe?.createScadaDiagram?.scadaDiagram?.id&&(Me=xe.createScadaDiagram.scadaDiagram.id),!Me){it.error("Failed to save SCADA diagram model.");return}if(b(qe=>({...qe,id:Me,name:T,description:z})),M(!1),_(!1),R(!1),it.success(`SCADA diagram ${_e?"updated":"created"} successfully!`),r)try{console.log("Refetching diagram data after successful save..."),await r(),console.log("Diagram data refetched successfully"),ie&&(ie.isModified=!1,setTimeout(()=>{try{ie.zoomToFit(),console.log("Diagram centered with zoomToFit")}catch(qe){console.error("Error centering diagram:",qe)}},100))}catch(qe){console.error("Error refetching diagram data:",qe),it.warning("Diagram saved but failed to refresh display. Please reload the page.")}else console.warn("fetchInitialDiagramDataCallback not available for refetch"),ie&&(ie.isModified=!1,setTimeout(()=>{try{ie.zoomToFit(),console.log("Diagram centered with zoomToFit (fallback)")}catch(qe){console.error("Error centering diagram:",qe)}},100))}catch(pe){console.error("SCADA save/sync error:",pe),it.error("Failed to save diagram or sync devices. "+(pe.response?.errors?.[0]?.message||pe.message))}},[y.id,T,z,I,M,b,_,a,d,r]),ae=X.useCallback(()=>{if(!A){it.info("Switch to Edit Mode to clear the diagram.");return}if(!y.id&&u.length===0&&p.length===0&&!S){it.info("Diagram is already empty.");return}U(!0)},[A,y.id,u.length,p.length,S]),ue=X.useCallback(async(ie,he)=>{try{y.id&&(await Jn.request(KY,{input:{id:y.id}}),it.success("SCADA diagram deleted from database.")),d([]),m([]),b({id:null,name:Mm,description:""}),W(""),ie&&(ie.isModified=!1),M(!1),r&&await r(),it.success("Local diagram canvas cleared.")}catch(pe){console.error("Scada: Error deleting diagram or unassigning relays:",pe),it.error("Failed to clear diagram. "+(pe.response?.errors?.[0]?.message||pe.message))}finally{U(!1)}},[y.id,I,r,M,d,m,b,B,W,U]);return{nodeDataArray:u,setNodeDataArray:d,linkDataArray:p,setLinkDataArray:m,modelData:y,setModelData:b,isDiagramDirty:S,setIsDiagramDirty:M,isEditMode:A,setIsEditMode:R,isSaveDiagramDialogOpen:E,setIsSaveDiagramDialogOpen:_,diagramNameInput:T,setDiagramNameInput:B,diagramDescriptionInput:z,setDiagramDescriptionInput:W,isDeleteConfirmOpen:L,setIsDeleteConfirmOpen:U,handleModelChange:q,handleNodeDropped:ee,handleNodesDeleted:te,handleOpenSaveDialog:ce,handleConfirmSaveDiagram:re,handleDeleteDiagramRequest:ae,handleConfirmDeleteDiagram:ue}},GK=({diagramRef:i,isEditMode:t,setIsEditMode:s,isDiagramDirty:r,setIsDiagramDirty:a,setIsConfirmEditModeDialogOpen:u,handleConfirmSaveDiagram:d,handleConfirmDeleteDiagram:p,fetchInitialDiagram:m})=>{const y=X.useCallback(()=>{t?(s(!1),r&&(it.dismiss("editModeDisable"),it.info("Switched to View Mode. Save your changes if needed.",{toastId:"editModeDisable"}))):u(!0)},[t,r]),b=X.useCallback(()=>{s(!0),u(!1),it.dismiss("editModeEnabled"),it.info("Edit Mode enabled.",{toastId:"editModeEnabled"})},[s,u]),S=X.useCallback(()=>{u(!1)},[]),M=X.useCallback(()=>{const _=i.current?.getDiagram();_&&_.undoManager.canUndo()&&(_.undoManager.undo(),a(_.isModified))},[i,a]),A=X.useCallback(()=>{const _=i.current?.getDiagram();_&&_.undoManager.canRedo()&&(_.undoManager.redo(),a(_.isModified))},[i,a]),R=X.useCallback(async()=>{const _=i.current?.getDiagram();_?await d(_):it.error("Diagram instance not available for saving.")},[i,d]),E=X.useCallback(async()=>{const _=i.current?.getDiagram();await p(_),m&&await m()},[i,p,m]);return{toggleEditMode:y,handleConfirmEnterEditMode:b,handleCancelEnterEditMode:S,handleUndo:M,handleRedo:A,onConfirmSaveHandler:R,onConfirmDeleteHandler:E}};var a1=function(i,t){return a1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(s[a]=r[a])},a1(i,t)};function _w(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a1(i,t);function s(){this.constructor=i}i.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)}(function(){const i=typeof globalThis=="object"&&globalThis||typeof globalThis=="object"&&globalThis.global===globalThis&&globalThis||typeof self=="object"&&self.self===self&&self||{};i.requestAnimationFrame===void 0&&(i.setImmediate===void 0?i.requestAnimationFrame=G=>i.setTimeout(G,0):i.requestAnimationFrame=i.setImmediate);class t{static tr=i.navigator!==void 0&&i.navigator.platform!==void 0&&i.navigator.platform.match(/(iPhone|iPod|iPad|Mac)/i)!==null;static Rk(e,n,o){let l=-1;return function(){const c=this,h=arguments;l!==-1&&t.Tg(l),l=t.ir(()=>{l=-1,o||e.apply(c,h)},n),o&&!l&&e.apply(c,h)}}static ir(e,n){return i.setTimeout(e,n)}static Tg(e){i.clearTimeout(e)}static hs(e){return i.document.createElement(e)}static o(e){throw new Error(e)}static L(e,n){let o="The object is frozen, so its properties cannot be set: "+e.toString();n!==void 0&&(o+="  to value: "+n),t.o(o)}static dE(e,n,o,l){}static s(e,n,o,l){}static gE(e,n,o){}static ec(e,n,o){(e===null||typeof e!="object")&&t.fC(n)}static k(e,n,o){}static mE(e,n,o){}static Zi(e,n,o,l){}static W(e,n,o,l){let c=t.fC(o);l!==void 0&&(c+="."+l),t.o(c+" is not in the range "+n+": "+e)}static Re(e){}static er(e,n){}static ni(e){i.console&&i.console.log(e)}static G(e){return e!==null&&typeof e=="object"}static it(e){return typeof e=="function"}static vk=[];static et(){const e=t.vk.pop();return e===void 0?[]:e}static J(e){e.length=0,t.vk.push(e)}static pE=Object.freeze([]);static fC(e){return e===null?"*":typeof e=="string"?e:t.it(e)?e.name:""}static Dn(e){return t.it(e)?e.className?e.className:e.name:t.G(e)&&e.constructor?t.Dn(e.constructor):typeof e}static Uh(e,n){return n==null||n===""?null:t.G(e)&&n in e||e[n]?e[n]:null}static toString(e){let n=e;return t.G(e)&&(e.text?n=e.text:e.name?n=e.name:e.key!==void 0?n=e.key:e.id!==void 0?n=e.id:e.constructor===Object&&(e.Text?n=e.Text:e.Name?n=e.Name:e.Key!==void 0?n=e.Key:e.Id!==void 0?n=e.Id:e.ID!==void 0&&(n=e.ID))),n===void 0?"undefined":n===null?"null":n.toString()}static dw(e,n){if(e.hasOwnProperty(n))return!0;let o=Object.getPrototypeOf(e);for(;o&&o!==Function;){if(o.hasOwnProperty(n))return!0;const l=o.yE;if(l&&l[n])return!0;o=Object.getPrototypeOf(o)}return!1}static WD(e){const n=[];let o=0;for(o=0;o<256;o++)n[o]=o;let l=0,c=0;for(o=0;o<256;o++)l=(l+n[o]+119)%256,c=n[o],n[o]=n[l],n[l]=c;o=0,l=0;let h="";for(let f=0;f<e.length;f++)o=(o+1)%256,l=(l+n[o])%256,c=n[o],n[o]=n[l],n[l]=c,h+=String.fromCharCode(e.charCodeAt(f)^n[(n[o]+n[l])%256]);return h}static JD(e){const n="0123456789abcdef",o=[];for(let f=0;f<256;f++)o[n.charAt(f>>4)+n.charAt(f&15)]=String.fromCharCode(f);e.length%2&&(e="0"+e);const l=[];let c=0;for(let f=0;f<e.length;f+=2)l[c++]=o[e.substring(f,f+2)];const h=l.join("");return h===""?"0":h}static Ts(e){return t.WD(t.JD(e))}static color1="@COLOR1";static color2="@COLOR2";static gw="32ab5ff3b26f42dc0ed90f21412913b5"}t.vfo="29e646fdb162";class s{Ok;constructor(){this.Ok=[]}toString(){return this.Ok.join("")}add(e){e!==""&&this.Ok.push(e)}}class r{}class a{g;constructor(){this.g=[]}[Symbol.iterator](){return this.g.values()}key;value;get iterator(){return this}reset(){}next(){return!1}hasNext(){return!1}first(){return null}any(){return!1}all(){return!0}each(){return this}map(e){return this}filter(){return this}get count(){return 0}ul(){}toString(){return"EmptyIterator"}static instance=new a}class u{constructor(e){this.key=-1,this.value=e}[Symbol.iterator](){return[this.value].values()}key;value;get iterator(){return this}reset(){this.key=-1}next(){return this.key===-1?(this.key=0,!0):!1}hasNext(){return this.next()}first(){return this.key=0,this.value}any(e){return this.key=-1,e(this.value)}all(e){return this.key=-1,e(this.value)}each(e){return this.key=-1,e(this.value),this}map(e){return new u(e(this.value))}filter(e){return e(this.value)?new u(this.value):a.instance}get count(){return 1}ul(){this.value=null}toString(){return"SingletonIterator("+this.value+")"}}class d{qt;Ds;Gt;At;constructor(e){this.qt=e,this.Ds=null,e.sr=null,this.Gt=e.nt,this.At=-1}[Symbol.iterator](){return this.Ds===null?this.qt.r.values():this.qt.r.filter(this.Ds).values()}key;value;get iterator(){return this}get predicate(){return this.Ds}set predicate(e){this.Ds=e}reset(){const e=this.qt;e.sr=null,this.Gt=e.nt,this.At=-1}next(){const e=this.qt;if(e.nt!==this.Gt&&this.key<0)return!1;const n=e.r,o=n.length;let l=++this.At;const c=this.Ds;if(c!==null)for(;l<o;){const h=n[l];if(c(h))return this.At=l,this.key=l,this.value=h,!0;l++}else{if(l<o)return this.key=l,this.value=n[l],!0;this.ul()}return!1}hasNext(){return this.next()}first(){const e=this.qt;this.Gt=e.nt,this.At=0;const n=e.r,o=n.length,l=this.Ds;if(l!==null){let c=0;for(;c<o;){const h=n[c];if(l(h))return this.At=c,this.key=c,this.value=h,h;c++}return null}else if(o>0){const c=n[0];return this.key=0,this.value=c,c}else return null}any(e){const n=this.qt;n.sr=null;const o=n.nt;this.At=-1;const l=n.r,c=l.length,h=this.Ds;for(let f=0;f<c;f++){const g=l[f];if(!(h!==null&&!h(g))){if(e(g))return!0;n.nt!==o&&t.Re(n)}}return!1}all(e){const n=this.qt;n.sr=null;const o=n.nt;this.At=-1;const l=n.r,c=l.length,h=this.Ds;for(let f=0;f<c;f++){const g=l[f];if(!(h!==null&&!h(g))){if(!e(g))return!1;n.nt!==o&&t.Re(n)}}return!0}each(e){const n=this.qt;n.sr=null;const o=n.nt;this.At=-1;const l=n.r,c=l.length,h=this.Ds;for(let f=0;f<c;f++){const g=l[f];h!==null&&!h(g)||(e(g),n.nt!==o&&t.Re(n))}return this}map(e){const n=this.qt;n.sr=null;const o=n.nt;this.At=-1;const l=[],c=n.r,h=c.length,f=this.Ds;for(let v=0;v<h;v++){const w=c[v];f!==null&&!f(w)||(l.push(e(w)),n.nt!==o&&t.Re(n))}const g=new m;return g.r=l,g.ve(),g.iterator}filter(e){const n=this.qt;n.sr=null;const o=n.nt;this.At=-1;const l=[],c=n.r,h=c.length,f=this.Ds;for(let v=0;v<h;v++){const w=c[v];f!==null&&!f(w)||(e(w)&&l.push(w),n.nt!==o&&t.Re(n))}const g=new m;return g.r=l,g.ve(),g.iterator}get count(){const e=this.Ds;if(e!==null){let n=0;const o=this.qt.r,l=o.length;for(let c=0;c<l;c++)e(o[c])&&n++;return n}else return this.qt.r.length}ul(){this.key=-1,this.value=null,this.Gt=-1,this.Ds=null,this.qt.sr=this}toString(){return"ListIterator@"+this.At+"/"+this.qt.count}}class p{qt;Gt;At;constructor(e){this.qt=e,e.nr=null,this.Gt=e.nt,this.At=e.r.length}[Symbol.iterator](){return this.qt.r.reverse().values()}key;value;get iterator(){return this}reset(){const e=this.qt;e.nr=null,this.Gt=e.nt,this.At=e.r.length}next(){const e=this.qt;if(e.nt!==this.Gt&&this.key<0)return!1;const n=--this.At;return n>=0?(this.key=n,this.value=e.r[n],!0):(this.ul(),!1)}hasNext(){return this.next()}first(){const e=this.qt;this.Gt=e.nt;const n=e.r,o=n.length-1;if(this.At=o,o>=0){const l=n[o];return this.key=o,this.value=l,l}else return null}any(e){const n=this.qt;n.nr=null;const o=n.nt,l=n.r,c=l.length;this.At=c;for(let h=c-1;h>=0;h--){const f=l[h];if(e(f))return!0;n.nt!==o&&t.Re(n)}return!1}all(e){const n=this.qt;n.nr=null;const o=n.nt,l=n.r,c=l.length;this.At=c;for(let h=c-1;h>=0;h--){const f=l[h];if(!e(f))return!1;n.nt!==o&&t.Re(n)}return!0}each(e){const n=this.qt;n.nr=null;const o=n.nt,l=n.r,c=l.length;this.At=c;for(let h=c-1;h>=0;h--){const f=l[h];e(f),n.nt!==o&&t.Re(n)}return this}map(e){const n=this.qt;n.nr=null;const o=n.nt,l=[],c=n.r,h=c.length;this.At=h;for(let g=h-1;g>=0;g--){const v=c[g];l.push(e(v)),n.nt!==o&&t.Re(n)}const f=new m;return f.r=l,f.ve(),f.iterator}filter(e){const n=this.qt;n.nr=null;const o=n.nt,l=[],c=n.r,h=c.length;this.At=h;for(let g=h-1;g>=0;g--){const v=c[g];e(v)&&l.push(v),n.nt!==o&&t.Re(n)}const f=new m;return f.r=l,f.ve(),f.iterator}get count(){return this.qt.r.length}ul(){this.key=-1,this.value=null,this.Gt=-1,this.qt.nr=this}toString(){return"ListIteratorBackwards("+this.At+"/"+this.qt.count+")"}}class m{h;r;nt;sr;nr;constructor(e){b.Ki(this),this.h=!1,this.r=[],this.nt=0,this.sr=null,this.nr=null,e!==void 0&&this.addAll(e)}[Symbol.iterator](){return this.r.values()}ve(){let e=this.nt;e++,e>999999999&&(e=0),this.nt=e}u(){return this.h=!0,this}Nt(){return this.h=!1,this}toString(){return"List()#"+b.as(this)}add(e){return this.h&&t.L(this,e),this.r.push(e),this.ve(),this}push(e){this.add(e)}addAll(e){if(e===null)return this;this.h&&t.L(this);const n=this.r;if(Array.isArray(e)){const o=e.length;for(let l=0;l<o;l++){const c=e[l];n.push(c)}}else{const o=e.iterator;for(;o.next();){const l=o.value;n.push(l)}}return this.ve(),this}clear(){this.h&&t.L(this),this.r.length=0,this.ve()}contains(e){return this.has(e)}has(e){return e===null?!1:this.r.indexOf(e)!==-1}indexOf(e){return e===null?-1:this.r.indexOf(e)}elt(e){const n=this.r;return(e<0||e>=n.length)&&t.W(e,"0 <= i < length",m,"elt:i"),n[e]}get(e){return this.elt(e)}setElt(e,n){const o=this.r;(e<0||e>=o.length)&&t.W(e,"0 <= i < length",m,"setElt:i"),this.h&&t.L(this,e),o[e]=n}set(e,n){this.setElt(e,n)}first(){const e=this.r;return e.length===0?null:e[0]}last(){const e=this.r,n=e.length;return n>0?e[n-1]:null}pop(){this.h&&t.L(this);const e=this.r;return e.length>0?e.pop():null}any(e){const n=this.r,o=this.nt,l=n.length;for(let c=0;c<l;c++){if(e(n[c]))return!0;this.nt!==o&&t.Re(this)}return!1}all(e){const n=this.r,o=this.nt,l=n.length;for(let c=0;c<l;c++){if(!e(n[c]))return!1;this.nt!==o&&t.Re(this)}return!0}each(e){const n=this.r,o=this.nt,l=n.length;for(let c=0;c<l;c++)e(n[c]),this.nt!==o&&t.Re(this);return this}map(e){const n=new m,o=[],l=this.r,c=this.nt,h=l.length;for(let f=0;f<h;f++)o.push(e(l[f])),this.nt!==c&&t.Re(this);return n.r=o,n.ve(),n}filter(e){const n=new m,o=[],l=this.r,c=this.nt,h=l.length;for(let f=0;f<h;f++){const g=l[f];e(g)&&o.push(g),this.nt!==c&&t.Re(this)}return n.r=o,n.ve(),n}insertAt(e,n){e<0&&t.W(e,">= 0",m,"insertAt:i"),this.h&&t.L(this,e);const o=this.r;e>=o.length?o.push(n):o.splice(e,0,n),this.ve()}remove(e){return this.delete(e)}delete(e){if(e===null)return!1;this.h&&t.L(this,e);const n=this.r,o=n.indexOf(e);return o===-1?!1:(o===n.length-1?n.pop():n.splice(o,1),this.ve(),!0)}removeAt(e){const n=this.r;(e<0||e>=n.length)&&t.W(e,"0 <= i < length",m,"removeAt:i"),this.h&&t.L(this,e),e===n.length-1?n.pop():n.splice(e,1),this.ve()}removeRange(e,n){const o=this.r,l=o.length;if(e<0)e=0;else if(e>=l)return this;if(n<0)return this;if(n>=l&&(n=l-1),e>n)return this;this.h&&t.L(this);let c=e,h=n+1;for(;h<l;)o[c++]=o[h++];return o.length=l-(n-e+1),this.ve(),this}copy(){const e=new m,n=this.r;return n.length>0&&(e.r=Array.prototype.slice.call(n)),e}toArray(){const e=this.r,n=this.count,o=new Array(n);for(let l=0;l<n;l++)o[l]=e[l];return o}get uC(){return this.r}toSet(){const e=new b,n=this.r,o=this.count;for(let l=0;l<o;l++)e.add(n[l]);return e}sort(e){return this.h&&t.L(this),this.r.sort(e),this.ve(),this}sortRange(e,n,o){const l=this.r,c=l.length;n===void 0&&(n=0),o===void 0&&(o=c),this.h&&t.L(this);const h=o-n;if(h<=1)return this;if((n<0||n>=c-1)&&t.W(n,"0 <= from < length",m,"sortRange:from"),h===2){const f=l[n],g=l[n+1];return e(f,g)>0&&(l[n]=g,l[n+1]=f,this.ve()),this}if(n===0)if(o>=c)l.sort(e);else{const f=l.slice(0,o);f.sort(e);for(let g=0;g<o;g++)l[g]=f[g]}else if(o>=c){const f=l.slice(n);f.sort(e);for(let g=n;g<c;g++)l[g]=f[g-n]}else{const f=l.slice(n,o);f.sort(e);for(let g=n;g<o;g++)l[g]=f[g-n]}return this.ve(),this}reverse(){return this.h&&t.L(this),this.r.reverse(),this.ve(),this}get count(){return this.r.length}get size(){return this.r.length}get length(){return this.r.length}get iterator(){if(this.r.length<=0)return a.instance;const e=this.sr;return e!==null?(e.reset(),e):new d(this)}get iteratorBackwards(){if(this.r.length<=0)return a.instance;const e=this.nr;return e!==null?(e.reset(),e):new p(this)}}class y{wo;ii;constructor(e){this.wo=e,this.ii=e.g.values()}[Symbol.iterator](){return this.wo.g.values()}key;value;get iterator(){return this}reset(){const e=this.wo;this.ii=e.g.values()}next(){const e=this.ii.next();return this.value=e.value,this.key=e.value,!e.done}hasNext(){return this.next()}first(){return this.wo.g.size===0?null:(this.ii=this.wo.g.values(),this.ii.next().value)}any(e){return this.wo.any(e)}all(e){return this.wo.all(e)}each(e){return this.wo.each(e),this}map(e){const n=new m;return this.wo.g.forEach(o=>n.add(e(o))),n.iterator}filter(e){const n=new m;return this.wo.g.forEach(o=>{e(o)&&n.add(o)}),n.iterator}get count(){return this.wo.count}ul(){this.key=null,this.value=null,this.ii=null}toString(){return"SetIterator"}}class b{h;g;constructor(e){this.h=!1,this.g=new Set,e!==void 0&&this.addAll(e)}[Symbol.iterator](){return this.g.values()}values(){return this.g.values()}u(){return this.h=!0,this}Nt(){return this.h=!1,this}toString(){return"Set()#"+b.as(this)}add(e){return e===null?this:(this.g.add(e),this)}addAll(e){if(e===null)return this;if(Array.isArray(e)){const n=e.length;for(let o=0;o<n;o++){const l=e[o];l!==null&&this.g.add(l)}}else{const n=e.iterator;for(;n.next();){const o=n.value;o!==null&&this.g.add(o)}}return this}has(e){return this.g.has(e)}contains(e){return this.has(e)}containsAll(e){if(e===null)return!0;const n=e.iterator;for(;n.next();)if(!this.has(n.value))return!1;return!0}containsAny(e){if(e===null)return!0;const n=e.iterator;for(;n.next();)if(this.has(n.value))return!0;return!1}first(){return this.g.size===0?null:this.g.values().next().value}any(e){for(const n of this.g)if(e(n))return!0;return!1}all(e){for(const n of this.g)if(!e(n))return!1;return!0}each(e){for(const n of this.g)e(n);return this}map(e){const n=new b;for(const o of this.g)n.add(e(o));return n}filter(e){const n=new b;for(const o of this.g)e(o)&&n.add(o);return n}delete(e){return this.h&&t.L(this),this.g.delete(e)}remove(e){return this.delete(e)}removeAll(e){if(e===null)return this;if(this.h&&t.L(this),Array.isArray(e)){const n=e.length;for(let o=0;o<n;o++)this.delete(e[o])}else{const n=e.iterator;for(;n.next();)this.delete(n.value)}return this}retainAll(e){if(e===null)return this;if(this.count===0)return this;this.h&&t.L(this);const n=new b;n.addAll(e);const o=[],l=this.iterator;for(;l.next();){const c=l.value;n.has(c)||o.push(c)}return this.removeAll(o),this}clear(){this.h&&t.L(this),this.g.clear()}copy(){const e=new b;return this.g.forEach(n=>e.add(n)),e}toArray(){return Array.from(this.g)}toList(){const e=new m;return this.g.forEach(n=>e.add(n)),e}get count(){return this.g.size}get size(){return this.g.size}get iterator(){return this.g.size<=0?a.instance:new y(this)}entries(){return this.g.entries()}keys(){return this.g.keys()}forEach(e,n){return this.g.forEach(e,n)}static mw=1;static Ki(e){e.__gohashid=b.mw++}static as(e){return e.__gohashid}}class S{q;ii;constructor(e){this.q=e,this.ii=e.g.keys()}[Symbol.iterator](){return this.q.g.keys()}key;value;get iterator(){return this}reset(){const e=this.q;this.ii=e.g.keys()}next(){const e=this.ii.next();return this.value=e.value,this.key=e.value,!e.done}hasNext(){return this.next()}first(){return this.q.g.size===0?null:(this.ii=this.q.g.keys(),this.ii.next().value)}any(e){for(const n of this.q.g)if(e(n[0]))return!0;return!1}all(e){for(const n of this.q.g)if(!e(n[0]))return!1;return!0}each(e){for(const n of this.q.g)e(n[0]);return this}map(e){const n=this.q,o=new m;for(const l of n.g)o.add(e(l[0]));return o.iterator}filter(e){const n=this.q,o=new m;for(const l of n.g){const c=l[0];e(c)&&o.add(c)}return o.iterator}get count(){return this.q.size}ul(){this.key=null,this.value=null,this.ii=null}toString(){return"MapKeySetIterator"}}class M extends b{q;constructor(e){super(),b.Ki(this),this.h=!0,this.q=e}[Symbol.iterator](){return this.g.keys()}values(){return this.g.keys()}u(){return this}Nt(){return this}toString(){return"MapKeySet("+this.q.toString()+")"}add(e){t.o("This Set is read-only: "+this.toString())}has(e){return this.q.has(e)}contains(e){return this.has(e)}delete(e){t.o("This Set is read-only: "+this.toString())}remove(e){return this.delete(e)}clear(){t.o("This Set is read-only: "+this.toString())}first(){return this.q.g.size===0?null:this.q.g.keys().next().value}any(e){for(const n of this.q.g)if(e(n[0]))return!0;return!1}all(e){for(const n of this.q.g)if(!e(n[0]))return!1;return!0}each(e){for(const n of this.q.g)e(n[0]);return this}map(e){const n=new b;for(const o of this.q.g)n.add(e(o[0]));return n}filter(e){const n=new b;for(const o of this.q.g){const l=o[0];e(l)&&n.add(l)}return n}copy(){return new M(this.q)}toSet(){const e=new b,n=this.q.g;for(const o of n)e.add(o[0]);return e}toArray(){const e=this.q.g,n=new Array(e.size);let o=0;for(const l of e)n[o]=l[0],o++;return n}toList(){const e=new m,n=this.q.g;for(const o of n)e.add(o[0]);return e}get count(){return this.q.size}get size(){return this.q.size}get iterator(){return this.q.size<=0?a.instance:new S(this.q)}}class A{q;ii;constructor(e){this.q=e,this.ii=e.g.values()}[Symbol.iterator](){return this.q.g.values()}key;value;get iterator(){return this}reset(){const e=this.q;this.ii=e.g.values()}next(){const e=this.ii.next();return this.value=e.value,this.key=e.value,!e.done}hasNext(){return this.next()}first(){return this.q.g.size===0?null:(this.ii=this.q.g.values(),this.ii.next().value)}any(e){for(const n of this.q.g)if(e(n[1]))return!0;return!1}all(e){for(const n of this.q.g)if(!e(n[1]))return!1;return!0}each(e){for(const n of this.q.g)e(n[1]);return this}map(e){const n=this.q,o=new m;for(const l of n.g)o.add(e(l[1]));return o.iterator}filter(e){const n=this.q,o=new m;for(const l of n.g){const c=l[1];e(c)&&o.add(c)}return o.iterator}get count(){return this.q.size}ul(){this.key=null,this.value=null,this.ii=null}toString(){return"MapValueSetIterator"}}class R{constructor(e,n){this.key=e,this.value=n}toString(){return"{"+this.key+":"+this.value+"}"}key;value}class E{q;ii;constructor(e){this.q=e,this.ii=e.g.entries()}[Symbol.iterator](){return this.q.g.entries()}key;value;get iterator(){return this}reset(){const e=this.q;this.ii=e.g.entries()}next(){const e=this.ii.next();return e.done?(this.key=null,this.value=null,!1):(this.key=e.value[0],this.value=e.value[1],!0)}hasNext(){return this.next()}first(){if(this.q.g.size===0)return null;this.ii=this.q.g.entries();const e=this.ii.next().value;return this.key=e[0],this.value=e[1],new R(e[0],e[1])}any(e){return this.q.any(e)}all(e){return this.q.all(e)}each(e){return this.q.each(e),this}map(e){const n=new m;let o=null;return this.q.g.forEach((l,c)=>{o===null?o=new R(c,l):(o.key=c,o.value=l),n.add(e(o))}),n.iterator}filter(e){const n=new m;let o=null;return this.q.g.forEach((l,c)=>{o===null?o=new R(c,l):(o.key=c,o.value=l),e(o)&&(n.add(o),o=null)}),n.iterator}get count(){return this.q.size}ul(){this.key=null,this.value=null,this.ii=null}toString(){return"MapIterator"}}class _{h;g;constructor(e){b.Ki(this),this.h=!1,this.g=new Map,e!==void 0&&this.addAll(e)}[Symbol.iterator](){return this.g.entries()}entries(){return this.g.entries()}u(){return this.h=!0,this}Nt(){return this.h=!1,this}toString(){return"Map()#"+b.as(this)}set(e,n){return this.h&&t.L(this,e),this.g.set(e,n),this}add(e,n){return this.set(e,n)}addAll(e){if(e===null)return this;if(this.h&&t.L(this),Array.isArray(e)){const n=e.length;for(let o=0;o<n;o++){const l=e[o];this.set(l.key,l.value)}}else if(e instanceof _){const n=e.iterator;for(;n.next();)this.set(n.key,n.value)}else{const n=e.iterator;for(;n.next();){const o=n.value;this.set(o.key,o.value)}}return this}first(){if(this.g.size===0)return null;const e=this.g.entries().next().value;return new R(e[0],e[1])}any(e){let n=null;for(const[o,l]of this.g)if(n===null?n=new R(o,l):(n.key=o,n.value=l),e(n))return!0;return!1}all(e){let n=null;for(const[o,l]of this.g)if(n===null?n=new R(o,l):(n.key=o,n.value=l),!e(n))return!1;return!0}each(e){let n=null;for(const[o,l]of this.g)n===null?n=new R(o,l):(n.key=o,n.value=l),e(n);return this}map(e){const n=new _;let o=null;for(const[l,c]of this.g)o===null?o=new R(l,c):(o.key=l,o.value=c),n.set(l,e(o));return n}filter(e){const n=new _;let o=null;for(const[l,c]of this.g)o===null?o=new R(l,c):(o.key=l,o.value=c),e(o)&&n.set(l,c);return n}has(e){return this.g.has(e)}contains(e){return this.has(e)}get(e){const n=this.g.get(e);return n===void 0?null:n}getValue(e){return this.get(e)}delete(e){return e===null?!1:(this.h&&t.L(this,e),this.g.delete(e))}remove(e){return this.delete(e)}clear(){this.h&&t.L(this),this.g.clear()}copy(){const e=new _;return e.g=new Map(this.g),e}toArray(){const e=this.g,n=new Array(e.size);let o=0;for(const l of e)n[o]=new R(l[0],l[1]),o++;return n}toKeySet(){return new M(this)}get count(){return this.g.size}get size(){return this.g.size}get iterator(){return this.g.size<=0?a.instance:new E(this)}get iteratorKeys(){return this.count<=0?a.instance:new S(this)}keys(){return this.g.keys()}get iteratorValues(){return this.count<=0?a.instance:new A(this)}values(){return this.g.values()}forEach(e,n){return this.g.forEach(e,n)}}class T{px;py;h;constructor(e,n){e===void 0?(this.px=0,this.py=0):typeof e=="number"&&typeof n=="number"?(this.px=e,this.py=n):t.o("Invalid arguments to Point constructor: "+e+", "+n),this.h=!1}a(e){return this.px=e.px,this.py=e.py,this}i(e,n){return this.px=e,this.py=n,this}setTo(e,n){return this.px=e,this.py=n,this}set(e){return this.px=e.px,this.py=e.py,this}copy(){const e=new T;return e.px=this.px,e.py=this.py,e}$(){return this.h=!0,Object.freeze(this),this}P(){return this.h||Object.isFrozen(this)?this:this.copy().u()}u(){return this.h||(this.h=!0),this}Nt(){return this.h&&(Object.isFrozen(this)&&t.o("cannot thaw constant: "+this),this.h=!1),this}pw(e){}static parse(e){if(typeof e=="string"){const n=e.split(" ");let o=0,l=0;for(;n[o]==="";)o++;let c=n[o++];c&&(l=parseFloat(c));let h=0;for(;n[o]==="";)o++;return c=n[o++],c&&(h=parseFloat(c)),new T(l,h)}else return new T}static stringify(e){return e.x.toString()+" "+e.y.toString()}static stringifyFixed(e){return n=>n.x.toFixed(e)+" "+n.y.toFixed(e)}toString(){return"Point("+this.x+","+this.y+")"}equals(e){return e instanceof T?this.px===e.x&&this.py===e.y:!1}equalTo(e,n){return this.px===e&&this.py===n}equalsApprox(e){return I.f(this.px,e.x)&&I.f(this.py,e.y)}add(e){return this.px+=e.x,this.py+=e.y,this}subtract(e){return this.px-=e.x,this.py-=e.y,this}offset(e,n){return this.px+=e,this.py+=n,this}rotate(e){if(e===0)return this;const n=this.px,o=this.py;if(n===0&&o===0)return this;let l=0,c=0;if(e>=360?e-=360:e<0&&(e+=360),e===90)l=0,c=1;else if(e===180)l=-1,c=0;else if(e===270)l=0,c=-1;else{const h=e*Math.PI/180;l=Math.cos(h),c=Math.sin(h)}return this.px=l*n-c*o,this.py=c*n+l*o,this}scale(e,n){return this.px*=e,this.py*=n,this}distanceSquaredPoint(e){const n=e.x-this.px,o=e.y-this.py;return n*n+o*o}distanceSquared(e,n){const o=e-this.px,l=n-this.py;return o*o+l*l}normalize(){const e=this.px,n=this.py,o=Math.sqrt(e*e+n*n);return o>0&&(this.px=e/o,this.py=n/o),this}directionPoint(e){return this.dC(e.x-this.px,e.y-this.py)}direction(e,n){return this.dC(e-this.px,n-this.py)}dC(e,n){if(e===0)return n>0?90:n<0?270:0;if(n===0)return e>0?0:180;{if(isNaN(e)||isNaN(n))return 0;let o=Math.atan(Math.abs(n/e))*180/Math.PI;return e<0?n<0?o+=180:o=180-o:n<0&&(o=360-o),o}}static compareWithLineSegment(e,n,o,l,c,h){return I.eu(e,n,o,l,c,h)}compareWithLineSegmentPoint(e,n){return I.eu(e.x,e.y,n.x,n.y,this.x,this.y)}static intersectingLineSegments(e,n,o,l,c,h,f,g){return I.su(e,n,o,l,c,h,f,g)}projectOntoLineSegment(e,n,o,l){return I.dl(e,n,o,l,this.px,this.py,this),this}projectOntoLineSegmentPoint(e,n){return I.dl(e.x,e.y,n.x,n.y,this.px,this.py,this),this}snapToGrid(e,n,o,l){return I.Dg(this.px,this.py,e,n,o,l,this),this}snapToGridPoint(e,n){return I.Dg(this.px,this.py,e.x,e.y,n.width,n.height,this),this}setRectSpot(e,n){return this.px=e.x+n.x*e.width+n.offsetX,this.py=e.y+n.y*e.height+n.offsetY,this}setSpot(e,n,o,l,c){return this.px=e+c.x*o+c.offsetX,this.py=n+c.y*l+c.offsetY,this}T(e){return e.gt(this),this}Oe(e){return e.$e(this),this}static distanceLineSegmentSquared(e,n,o,l,c,h){let f=c-o,g=h-l;const v=f*f+g*g,w=o-e,k=l-n,P=-w*f-k*g;if(P<=0||P>=v)return f=c-e,g=h-n,Math.min(w*w+k*k,f*f+g*g);{const N=f*k-g*w;return N*N/v}}static distanceSquared(e,n,o,l){const c=o-e,h=l-n;return c*c+h*h}static direction(e,n,o,l){const c=o-e,h=l-n;if(c===0)return h>0?90:h<0?270:0;if(h===0)return c>0?0:180;{if(isNaN(c)||isNaN(h))return 0;let f=Math.atan(Math.abs(h/c))*180/Math.PI;return c<0?h<0?f+=180:f=180-f:h<0&&(f=360-f),f}}get x(){return this.px}set x(e){this.px=e}get y(){return this.py}set y(e){this.py=e}isReal(){return isFinite(this.x)&&isFinite(this.y)}static xo=new T(0,0).$();static gC=new T(-1/0,-1/0).$();static mC=new T(1/0,1/0).$();static pC=new T(6,6).$();static Ik=new T(NaN,NaN).$();static Ek=[];static l(){const e=T.Ek.pop();return e===void 0?new T:e}static V(e,n){const o=T.Ek.pop();return o===void 0?new T(e,n):(o.x=e,o.y=n,o)}static e(e){T.Ek.push(e)}}class B{sw;sh;h;constructor(e,n){e===void 0?(this.sw=0,this.sh=0):typeof e=="number"&&(e>=0||isNaN(e))&&typeof n=="number"&&(n>=0||isNaN(n))?(this.sw=e,this.sh=n):t.o("Invalid arguments to Size constructor: "+e+", "+n),this.h=!1}a(e){return this.sw=e.sw,this.sh=e.sh,this}i(e,n){return this.sw=e,this.sh=n,this}setTo(e,n){return this.sw=e,this.sh=n,this}set(e){return this.sw=e.sw,this.sh=e.sh,this}copy(){const e=new B;return e.sw=this.sw,e.sh=this.sh,e}$(){return this.h=!0,Object.freeze(this),this}P(){return this.h||Object.isFrozen(this)?this:this.copy().u()}u(){return this.h||(this.h=!0),this}Nt(){return this.h&&(Object.isFrozen(this)&&t.o("cannot thaw constant: "+this),this.h=!1),this}pw(e){}static parse(e){if(typeof e=="string"){const n=e.split(" ");let o=0,l=0;for(;n[o]==="";)o++;let c=n[o++];c&&(l=parseFloat(c));let h=0;for(;n[o]==="";)o++;return c=n[o++],c&&(h=parseFloat(c)),new B(l,h)}else return new B}static stringify(e){return e.width.toString()+" "+e.height.toString()}static stringifyFixed(e){return n=>n.width.toFixed(e)+" "+n.height.toFixed(e)}toString(){return"Size("+this.width+","+this.height+")"}equals(e){return e instanceof B?this.sw===e.width&&this.sh===e.height:!1}equalTo(e,n){return this.sw===e&&this.sh===n}equalsApprox(e){return I.f(this.sw,e.width)&&I.f(this.sh,e.height)}inflate(e,n){const o=this.width+e;this.sw=o>=0?o:0;const l=this.height+n;return this.sh=l>=0?l:0,this}get width(){return this.sw}set width(e){e<0&&t.W(e,">= 0",B,"width"),this.sw=e}get height(){return this.sh}set height(e){e<0&&t.W(e,">= 0",B,"height"),this.sh=e}isReal(){return isFinite(this.width)&&isFinite(this.height)}static sc=new B(0,0).$();static Uk=new B(1,1).$();static yC=new B(6,6).$();static nu=new B(8,8).$();static wC=new B(10,10).$();static Bk=new B(1/0,1/0).$();static yw=new B(NaN,NaN).$();static xC=[];static l(){const e=B.xC.pop();return e===void 0?new B:e}static e(e){B.xC.push(e)}}class z{rx;ry;rw;rh;h;constructor(e,n,o,l){if(e===void 0)this.rx=0,this.ry=0,this.rw=0,this.rh=0;else if(typeof e=="number"&&typeof n=="number"&&typeof o=="number"&&(o>=0||isNaN(o))&&typeof l=="number"&&(l>=0||isNaN(l)))this.rx=e,this.ry=n,this.rw=o,this.rh=l;else if(e instanceof T){const c=e.x,h=e.y;if(n instanceof T){const f=n.x,g=n.y;this.rx=Math.min(c,f),this.ry=Math.min(h,g),this.rw=Math.abs(c-f),this.rh=Math.abs(h-g)}else n instanceof B?(this.rx=c,this.ry=h,this.rw=n.width,this.rh=n.height):t.o("Incorrect second argument supplied to Rect constructor "+n)}else t.o("Invalid arguments to Rect constructor: "+e+", "+n+", "+o+", "+l);this.h=!1}a(e){return this.rx=e.rx,this.ry=e.ry,this.rw=e.rw,this.rh=e.rh,this}i(e,n,o,l){return this.rx=e,this.ry=n,this.rw=o,this.rh=l,this}Fn(e,n){return this.rw=e,this.rh=n,this}setTo(e,n,o,l){return this.rx=e,this.ry=n,this.rw=o,this.rh=l,this}set(e){return this.rx=e.rx,this.ry=e.ry,this.rw=e.rw,this.rh=e.rh,this}setPoint(e){return this.rx=e.x,this.ry=e.y,this}setSize(e){return this.rw=e.width,this.rh=e.height,this}copy(){const e=new z;return e.rx=this.rx,e.ry=this.ry,e.rw=this.rw,e.rh=this.rh,e}$(){return this.h=!0,Object.freeze(this),this}P(){return this.h||Object.isFrozen(this)?this:this.copy().u()}u(){return this.h||(this.h=!0),this}Nt(){return this.h&&(Object.isFrozen(this)&&t.o("cannot thaw constant: "+this),this.h=!1),this}pw(e){}static parse(e){if(typeof e=="string"){const n=e.split(" ");let o=0,l=0;for(;n[o]==="";)o++;let c=n[o++];c&&(l=parseFloat(c));let h=0;for(;n[o]==="";)o++;c=n[o++],c&&(h=parseFloat(c));let f=0;for(;n[o]==="";)o++;c=n[o++],c&&(f=parseFloat(c));let g=0;for(;n[o]==="";)o++;return c=n[o++],c&&(g=parseFloat(c)),new z(l,h,f,g)}else return new z}static stringify(e){return e.x.toString()+" "+e.y.toString()+" "+e.width.toString()+" "+e.height.toString()}static stringifyFixed(e){return n=>n.x.toFixed(e)+" "+n.y.toFixed(e)+" "+n.width.toFixed(e)+" "+n.height.toFixed(e)}toString(){return"Rect("+this.x+","+this.y+","+this.width+","+this.height+")"}equals(e){return e instanceof z?this.rx===e.x&&this.ry===e.y&&this.rw===e.width&&this.rh===e.height:!1}equalTo(e,n,o,l){return this.rx===e&&this.ry===n&&this.rw===o&&this.rh===l}equalsApprox(e){return I.f(this.rx,e.x)&&I.f(this.ry,e.y)&&I.f(this.rw,e.width)&&I.f(this.rh,e.height)}equalsApproxTo(e,n,o,l){return I.f(this.rx,e)&&I.f(this.ry,n)&&I.f(this.rw,o)&&I.f(this.rh,l)}equalsApproxClose(e){return I.z(this.rx,e.x)&&I.z(this.ry,e.y)&&I.z(this.rw,e.width)&&I.z(this.rh,e.height)}containsPoint(e){return this.rx<=e.x&&this.rx+this.rw>=e.x&&this.ry<=e.y&&this.ry+this.rh>=e.y}containsRect(e){return this.rx<=e.x&&e.x+e.width<=this.rx+this.rw&&this.ry<=e.y&&e.y+e.height<=this.ry+this.rh}contains(e,n,o,l){return o===void 0&&(o=0),l===void 0&&(l=0),this.rx<=e&&e+o<=this.rx+this.rw&&this.ry<=n&&n+l<=this.ry+this.rh}offset(e,n){return this.rx+=e,this.ry+=n,this}inflate(e,n){return this.ww(n,e,n,e)}addMargin(e){return this.ww(e.top,e.right,e.bottom,e.left)}subtractMargin(e){return this.ww(-e.top,-e.right,-e.bottom,-e.left)}grow(e,n,o,l){return this.ww(e,n,o,l)}ww(e,n,o,l){const c=this.rw;n+l<=-c?(this.rx+=c/2,this.rw=0):(this.rx-=l,this.rw+=n+l);const h=this.rh;return e+o<=-h?(this.ry+=h/2,this.rh=0):(this.ry-=e,this.rh+=e+o),this}intersectRect(e){return this.bC(e.x,e.y,e.width,e.height)}intersect(e,n,o,l){return this.bC(e,n,o,l)}bC(e,n,o,l){const c=Math.max(this.rx,e),h=Math.max(this.ry,n),f=Math.min(this.rx+this.rw,e+o),g=Math.min(this.ry+this.rh,n+l);return this.rx=c,this.ry=h,this.rw=Math.max(0,f-c),this.rh=Math.max(0,g-h),this}intersectsRect(e){return this.intersects(e.x,e.y,e.width,e.height)}intersects(e,n,o,l){let c=this.rw;const h=this.rx;if(c!==1/0&&o!==1/0&&(c+=h,o+=e,isNaN(o)||isNaN(c)||h>o||e>c))return!1;let f=this.rh;const g=this.ry;return!(f!==1/0&&l!==1/0&&(f+=g,l+=n,isNaN(l)||isNaN(f)||g>l||n>f))}intersectsRectPlus(e,n){let o=this.rw,l=e.width+n+n;const c=this.rx,h=e.x-n;if(o+=c,l+=h,c>l||h>o)return!1;let f=this.rh,g=e.height+n+n;const v=this.ry,w=e.y-n;return f+=v,g+=w,!(v>g||w>f)}unionPoint(e){return this.unionNoCheck(e.x,e.y,0,0)}unionRect(e){return this.unionNoCheck(e.rx,e.ry,e.rw,e.rh)}union(e,n,o,l){return o===void 0&&(o=0),l===void 0&&(l=0),this.unionNoCheck(e,n,o,l)}unionNoCheck(e,n,o,l){const c=Math.min(this.rx,e),h=Math.min(this.ry,n),f=Math.max(this.rx+this.rw,e+o),g=Math.max(this.ry+this.rh,n+l);return this.rx=c,this.ry=h,this.rw=f-c,this.rh=g-h,this}setSpot(e,n,o){return this.rx=e-o.offsetX-o.x*this.rw,this.ry=n-o.offsetY-o.y*this.rh,this}static contains(e,n,o,l,c,h,f,g){return f===void 0&&(f=0),g===void 0&&(g=0),e<=c&&c+f<=e+o&&n<=h&&h+g<=n+l}static intersects(e,n,o,l,c,h,f,g){let v=o,w=f;const k=e,P=c;if(v+=k,w+=P,k>w||P>v)return!1;let N=l,F=g;const H=n,V=h;return N+=H,F+=V,!(H>F||V>N)}static intersectsLineSegment(e,n,o,l,c,h,f,g){return I.kC(e,n,o,l,c,h,f,g)}get x(){return this.rx}set x(e){this.rx=e}get y(){return this.ry}set y(e){this.ry=e}get width(){return this.rw}set width(e){e<0&&t.W(e,">= 0",z,"width"),this.rw=e}get height(){return this.rh}set height(e){e<0&&t.W(e,">= 0",z,"height"),this.rh=e}get left(){return this.rx}set left(e){this.rx=e}get top(){return this.ry}set top(e){this.ry=e}get right(){return this.rx+this.rw}set right(e){this.rx+=e-(this.rx+this.rw)}get bottom(){return this.ry+this.rh}set bottom(e){this.ry+=e-(this.ry+this.rh)}get position(){return new T(this.rx,this.ry)}set position(e){this.rx=e.x,this.ry=e.y}get size(){return new B(this.rw,this.rh)}set size(e){this.rw=e.width,this.rh=e.height}get center(){return new T(this.rx+this.rw/2,this.ry+this.rh/2)}set center(e){this.rx=e.x-this.rw/2,this.ry=e.y-this.rh/2}get centerX(){return this.rx+this.rw/2}set centerX(e){this.rx=e-this.rw/2}get centerY(){return this.ry+this.rh/2}set centerY(e){this.ry=e-this.rh/2}isReal(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)}isEmpty(){return this.width===0&&this.height===0}static Fg=new z(0,0,0,0).$();static $D=new z(NaN,NaN,NaN,NaN).$();static Vk=[];static l(){const e=z.Vk.pop();return e===void 0?new z:e}static V(e,n,o,l){const c=z.Vk.pop();return c===void 0?new z(e,n,o,l):c.i(e,n,o,l)}static e(e){z.Vk.push(e)}}class W{mt;mr;mb;ml;h;constructor(e,n,o,l){e===void 0?(this.mt=0,this.mr=0,this.mb=0,this.ml=0):n===void 0?(n=e,o=e,l=e,this.mt=e,this.mr=n,this.mb=o,this.ml=l):o===void 0?(o=e,l=n,this.mt=e,this.mr=n,this.mb=o,this.ml=l):l!==void 0?(this.mt=e,this.mr=n,this.mb=o,this.ml=l):t.o("Invalid arguments to Margin constructor: "+e+", "+n+", "+o+", "+l),this.h=!1}a(e){return this.mt=e.mt,this.mr=e.mr,this.mb=e.mb,this.ml=e.ml,this}setTo(e,n,o,l){return this.mt=e,this.mr=n,this.mb=o,this.ml=l,this}set(e){return this.mt=e.mt,this.mr=e.mr,this.mb=e.mb,this.ml=e.ml,this}copy(){const e=new W;return e.mt=this.mt,e.mr=this.mr,e.mb=this.mb,e.ml=this.ml,e}$(){return this.h=!0,Object.freeze(this),this}P(){return this.h||Object.isFrozen(this)?this:this.copy().u()}u(){return this.h||(this.h=!0),this}Nt(){return this.h&&(Object.isFrozen(this)&&t.o("cannot thaw constant: "+this),this.h=!1),this}pw(e){}static parse(e){if(typeof e=="string"){const n=e.split(" ");let o=0,l=NaN;for(;n[o]==="";)o++;let c=n[o++];if(c&&(l=parseFloat(c)),isNaN(l))return new W;let h=NaN;for(;n[o]==="";)o++;if(c=n[o++],c&&(h=parseFloat(c)),isNaN(h))return new W(l);let f=NaN;for(;n[o]==="";)o++;if(c=n[o++],c&&(f=parseFloat(c)),isNaN(f))return new W(l,h);let g=NaN;for(;n[o]==="";)o++;return c=n[o++],c&&(g=parseFloat(c)),isNaN(g)?new W(l,h):new W(l,h,f,g)}else return new W}static stringify(e){return e.top.toString()+" "+e.right.toString()+" "+e.bottom.toString()+" "+e.left.toString()}static stringifyFixed(e){return n=>n.top.toFixed(e)+" "+n.right.toFixed(e)+" "+n.bottom.toFixed(e)+" "+n.left.toFixed(e)}toString(){return"Margin("+this.top+","+this.right+","+this.bottom+","+this.left+")"}equals(e){return e instanceof W?this.mt===e.top&&this.mr===e.right&&this.mb===e.bottom&&this.ml===e.left:!1}equalTo(e,n,o,l){return this.mt===e&&this.mr===n&&this.mb===o&&this.ml===l}equalsApprox(e){return I.f(this.mt,e.top)&&I.f(this.mr,e.right)&&I.f(this.mb,e.bottom)&&I.f(this.ml,e.left)}get top(){return this.mt}set top(e){this.mt=e}get right(){return this.mr}set right(e){this.mr=e}get bottom(){return this.mb}set bottom(e){this.mb=e}get left(){return this.ml}set left(e){this.ml=e}isReal(){return isFinite(this.top)&&isFinite(this.right)&&isFinite(this.bottom)&&isFinite(this.left)}static Rg=new W(0,0,0,0).$();static PC=new W(2,2,2,2).$();static SC=[];static l(){const e=W.SC.pop();return e===void 0?new W:e}static e(e){W.SC.push(e)}}class L{sx;sy;ox;oy;h;constructor(e,n,o,l){e===void 0?(this.sx=0,this.sy=0,this.ox=0,this.oy=0):(n===void 0&&(n=0),o===void 0&&(o=0),l===void 0&&(l=0),this.sx=e,this.sy=n,this.ox=o,this.oy=l),this.h=!1}a(e){return this.sx=e.sx,this.sy=e.sy,this.ox=e.ox,this.oy=e.oy,this}setTo(e,n,o,l){return this.sx=e,this.sy=n,this.ox=o,this.oy=l,this}set(e){return this.sx=e.sx,this.sy=e.sy,this.ox=e.ox,this.oy=e.oy,this}copy(){const e=new L;return e.sx=this.sx,e.sy=this.sy,e.ox=this.ox,e.oy=this.oy,e}$(){return this.h=!0,Object.freeze(this),this}P(){return this.h||Object.isFrozen(this)?this:this.copy().u()}u(){return this.h||(this.h=!0),this}Nt(){return this.h&&(Object.isFrozen(this)&&t.o("cannot thaw constant: "+this),this.h=!1),this}pw(e){}Ie(e){return this.sx=NaN,this.sy=NaN,this.ox=e,this}wE(e,n){(isNaN(e)||e>1||e<0)&&t.W(e,"0 <= "+n+" <= 1",L,n)}xE(e,n){(isNaN(e)||e===1/0||e===-1/0)&&t.W(e,"real number, not NaN or Infinity",L,n)}static parse(e){if(typeof e=="string"){if(e=e.trim(),e==="None")return L.None;if(e==="TopLeft")return L.TopLeft;if(e==="Top"||e==="TopCenter"||e==="MiddleTop")return L.TopCenter;if(e==="TopRight")return L.TopRight;if(e==="Left"||e==="LeftCenter"||e==="MiddleLeft")return L.LeftCenter;if(e==="Center")return L.Center;if(e==="Right"||e==="RightCenter"||e==="MiddleRight")return L.RightCenter;if(e==="BottomLeft")return L.BottomLeft;if(e==="Bottom"||e==="BottomCenter"||e==="MiddleBottom")return L.BottomCenter;if(e==="BottomRight")return L.BottomRight;if(e==="TopSide")return L.TopSide;if(e==="LeftSide")return L.LeftSide;if(e==="RightSide")return L.RightSide;if(e==="BottomSide")return L.BottomSide;if(e==="TopBottomSides")return L.TopBottomSides;if(e==="LeftRightSides")return L.LeftRightSides;if(e==="TopLeftSides")return L.TopLeftSides;if(e==="TopRightSides")return L.TopRightSides;if(e==="BottomLeftSides")return L.BottomLeftSides;if(e==="BottomRightSides")return L.BottomRightSides;if(e==="NotTopSide")return L.NotTopSide;if(e==="NotLeftSide")return L.NotLeftSide;if(e==="NotRightSide")return L.NotRightSide;if(e==="NotBottomSide")return L.NotBottomSide;if(e==="AllSides")return L.AllSides;if(e==="Default")return L.Default;const n=e.split(" ");let o=0,l=0;for(;n[o]==="";)o++;let c=n[o++];c!==void 0&&c.length>0&&(l=parseFloat(c));let h=0;for(;n[o]==="";)o++;c=n[o++],c!==void 0&&c.length>0&&(h=parseFloat(c));let f=0;for(;n[o]==="";)o++;c=n[o++],c!==void 0&&c.length>0&&(f=parseFloat(c));let g=0;for(;n[o]==="";)o++;return c=n[o++],c!==void 0&&c.length>0&&(g=parseFloat(c)),new L(l,h,f,g)}else return new L}static stringify(e){return e.isSpot()?e.x.toString()+" "+e.y.toString()+" "+e.offsetX.toString()+" "+e.offsetY.toString():e.toString()}static stringifyFixed(e){return n=>n.x.toFixed(e)+" "+n.y.toFixed(e)+" "+n.offsetX.toFixed(e)+" "+n.offsetY.toFixed(e)}toString(){return this.isSpot()?this.ox===0&&this.oy===0?"Spot("+this.x+","+this.y+")":"Spot("+this.x+","+this.y+","+this.offsetX+","+this.offsetY+")":this.equals(L.None)?"None":this.equals(L.TopLeft)?"TopLeft":this.equals(L.TopCenter)?"Top":this.equals(L.TopRight)?"TopRight":this.equals(L.LeftCenter)?"Left":this.equals(L.Center)?"Center":this.equals(L.RightCenter)?"Right":this.equals(L.BottomLeft)?"BottomLeft":this.equals(L.BottomCenter)?"Bottom":this.equals(L.BottomRight)?"BottomRight":this.equals(L.TopSide)?"TopSide":this.equals(L.LeftSide)?"LeftSide":this.equals(L.RightSide)?"RightSide":this.equals(L.BottomSide)?"BottomSide":this.equals(L.TopBottomSides)?"TopBottomSides":this.equals(L.LeftRightSides)?"LeftRightSides":this.equals(L.TopLeftSides)?"TopLeftSides":this.equals(L.TopRightSides)?"TopRightSides":this.equals(L.BottomLeftSides)?"BottomLeftSides":this.equals(L.BottomRightSides)?"BottomRightSides":this.equals(L.NotTopSide)?"NotTopSide":this.equals(L.NotLeftSide)?"NotLeftSide":this.equals(L.NotRightSide)?"NotRightSide":this.equals(L.NotBottomSide)?"NotBottomSide":this.equals(L.AllSides)?"AllSides":this.equals(L.Default)?"Default":"None"}equals(e){return e instanceof L?(this.sx===e.x||isNaN(this.sx)&&isNaN(e.x))&&(this.sy===e.y||isNaN(this.sy)&&isNaN(e.y))&&this.ox===e.offsetX&&this.oy===e.offsetY:!1}opposite(){return new L(.5-(this.sx-.5),.5-(this.sy-.5),-this.ox,-this.oy)}includesSide(e){if(!this.isSide())return!1;if(!e.isSide())if(e.equals(L.Left))e=L.LeftSide;else if(e.equals(L.Right))e=L.RightSide;else if(e.equals(L.Top))e=L.TopSide;else if(e.equals(L.Bottom))e=L.BottomSide;else return!1;const n=this.oy,o=e.offsetY;return(n&o)===o}get x(){return this.sx}set x(e){this.sx=e}get y(){return this.sy}set y(e){this.sy=e}get offsetX(){return this.ox}set offsetX(e){this.ox=e}get offsetY(){return this.oy}set offsetY(e){this.oy=e}isSpot(){return!isNaN(this.x)&&!isNaN(this.y)}isNoSpot(){return isNaN(this.x)||isNaN(this.y)}isSide(){return isNaN(this.x)&&isNaN(this.y)&&this.offsetX===1&&this.offsetY!==0}isNone(){return isNaN(this.x)&&isNaN(this.y)&&this.offsetX===0&&this.offsetY===0}isDefault(){return isNaN(this.x)&&isNaN(this.y)&&this.offsetX===-1&&this.offsetY===0}static None=new L(0,0,0,0).Ie(0).$();static Default=new L(0,0,-1,0).Ie(-1).$();static TopLeft=new L(0,0,0,0).$();static TopCenter=new L(.5,0,0,0).$();static TopRight=new L(1,0,0,0).$();static LeftCenter=new L(0,.5,0,0).$();static Center=new L(.5,.5,0,0).$();static RightCenter=new L(1,.5,0,0).$();static BottomLeft=new L(0,1,0,0).$();static BottomCenter=new L(.5,1,0,0).$();static BottomRight=new L(1,1,0,0).$();static MiddleTop=L.TopCenter;static MiddleLeft=L.LeftCenter;static MiddleRight=L.RightCenter;static MiddleBottom=L.BottomCenter;static Top=L.TopCenter;static Left=L.LeftCenter;static Right=L.RightCenter;static Bottom=L.BottomCenter;static TopSide=new L(0,0,1,1).Ie(1).$();static LeftSide=new L(0,0,1,2).Ie(1).$();static RightSide=new L(0,0,1,4).Ie(1).$();static BottomSide=new L(0,0,1,8).Ie(1).$();static TopBottomSides=new L(0,0,1,9).Ie(1).$();static LeftRightSides=new L(0,0,1,6).Ie(1).$();static TopLeftSides=new L(0,0,1,3).Ie(1).$();static TopRightSides=new L(0,0,1,5).Ie(1).$();static BottomLeftSides=new L(0,0,1,10).Ie(1).$();static BottomRightSides=new L(0,0,1,12).Ie(1).$();static NotTopSide=new L(0,0,1,14).Ie(1).$();static NotLeftSide=new L(0,0,1,13).Ie(1).$();static NotRightSide=new L(0,0,1,11).Ie(1).$();static NotBottomSide=new L(0,0,1,7).Ie(1).$();static AllSides=new L(0,0,1,15).Ie(1).$();static zk=new L(.156,.156).$();static Xk=new L(.844,.844).$();static MC=[];static l(){const e=L.MC.pop();return e===void 0?new L:e}static e(e){L.MC.push(e)}}class U{m11;m12;m21;m22;dx;dy;constructor(){this.m11=1,this.m12=0,this.m21=0,this.m22=1,this.dx=0,this.dy=0}set(e){return this.m11=e.m11,this.m12=e.m12,this.m21=e.m21,this.m22=e.m22,this.dx=e.dx,this.dy=e.dy,this}setTo(e,n,o,l,c,h){return this.m11=e,this.m12=n,this.m21=o,this.m22=l,this.dx=c,this.dy=h,this}copy(){const e=new U;return e.m11=this.m11,e.m12=this.m12,e.m21=this.m21,e.m22=this.m22,e.dx=this.dx,e.dy=this.dy,e}toString(){return"Transform("+this.m11+","+this.m12+","+this.m21+","+this.m22+","+this.dx+","+this.dy+")"}equals(e){return this.m11===e.m11&&this.m12===e.m12&&this.m21===e.m21&&this.m22===e.m22&&this.dx===e.dx&&this.dy===e.dy}Yk(){return this.dx===0&&this.dy===0&&this.m11===1&&this.m12===0&&this.m21===0&&this.m22===1}Ri(){return this.m11=1,this.m12=0,this.m21=0,this.m22=1,this.dx=0,this.dy=0,this}nc(e){const n=this.m11*e.m11+this.m21*e.m12,o=this.m12*e.m11+this.m22*e.m12,l=this.m11*e.m21+this.m21*e.m22,c=this.m12*e.m21+this.m22*e.m22;return this.dx=this.m11*e.dx+this.m21*e.dy+this.dx,this.dy=this.m12*e.dx+this.m22*e.dy+this.dy,this.m11=n,this.m12=o,this.m21=l,this.m22=c,this}NC(e){const n=1/(e.m11*e.m22-e.m12*e.m21),o=e.m22*n,l=-e.m12*n,c=-e.m21*n,h=e.m11*n,f=n*(e.m21*e.dy-e.m22*e.dx),g=n*(e.m12*e.dx-e.m11*e.dy),v=this.m11*o+this.m21*l,w=this.m12*o+this.m22*l,k=this.m11*c+this.m21*h,P=this.m12*c+this.m22*h;return this.dx=this.m11*f+this.m21*g+this.dx,this.dy=this.m12*f+this.m22*g+this.dy,this.m11=v,this.m12=w,this.m21=k,this.m22=P,this}xw(){const e=1/(this.m11*this.m22-this.m12*this.m21),n=this.m22*e,o=-this.m12*e,l=-this.m21*e,c=this.m11*e,h=e*(this.m21*this.dy-this.m22*this.dx),f=e*(this.m12*this.dx-this.m11*this.dy);return this.m11=n,this.m12=o,this.m21=l,this.m22=c,this.dx=h,this.dy=f,this}cs(e,n,o){if(e>=360?e-=360:e<0&&(e+=360),e===0)return this;this.Fs(n,o);let l=0,c=0;if(e===90)l=0,c=1;else if(e===180)l=-1,c=0;else if(e===270)l=0,c=-1;else{const w=e*Math.PI/180;l=Math.cos(w),c=Math.sin(w)}const h=this.m11*l+this.m21*c,f=this.m12*l+this.m22*c,g=this.m11*-c+this.m21*l,v=this.m12*-c+this.m22*l;return this.m11=h,this.m12=f,this.m21=g,this.m22=v,this.Fs(-n,-o),this}Fs(e,n){return this.dx+=this.m11*e+this.m21*n,this.dy+=this.m12*e+this.m22*n,this}tt(e,n){return n===void 0&&(n=e),this.m11*=e,this.m12*=e,this.m21*=n,this.m22*=n,this}ZD(){if(this.m11===1&&this.m12===0)return 0;let e=Math.atan2(this.m12,this.m11)*180/Math.PI;return e<0&&(e+=360),e}gt(e){const n=e.x,o=e.y;return e.i(n*this.m11+o*this.m21+this.dx,n*this.m12+o*this.m22+this.dy)}$e(e){const n=1/(this.m11*this.m22-this.m12*this.m21),o=this.m22*n,l=-this.m12*n,c=-this.m21*n,h=this.m11*n,f=e.x-this.dx,g=e.y-this.dy;return e.i(f*o+g*c,f*l+g*h)}bw(e){const n=1/(this.m11*this.m22-this.m12*this.m21),o=this.m22*n,l=-this.m12*n,c=-this.m21*n,h=this.m11*n,f=n*(this.m21*this.dy-this.m22*this.dx),g=n*(this.m12*this.dx-this.m11*this.dy),v=e.x*1.25,w=e.y*1.2;return e.i(v*o+w*c+f,v*l+w*h+g)}vg(e){const n=e.x,o=e.y,l=n+e.width,c=o+e.height,h=this.m11,f=this.m12,g=this.m21,v=this.m22,w=this.dx,k=this.dy,P=n*h+o*g+w,N=n*f+o*v+k,F=l*h+o*g+w,H=l*f+o*v+k,V=n*h+c*g+w,$=n*f+c*v+k,K=l*h+c*g+w,J=l*f+c*v+k;let Q=P,ne=P,le=N,fe=N;return Q=Math.min(Q,F),ne=Math.max(ne,F),le=Math.min(le,H),fe=Math.max(fe,H),Q=Math.min(Q,V),ne=Math.max(ne,V),le=Math.min(le,$),fe=Math.max(fe,$),Q=Math.min(Q,K),ne=Math.max(ne,K),le=Math.min(le,J),fe=Math.max(fe,J),e.i(Q,le,ne-Q,fe-le),e}static CC=[];static l(){const e=U.CC.pop();return e===void 0?new U:e}static e(e){U.CC.push(e)}static Gk="54a702f3e53909c447824c6706603faf4c"}const I={QD:"7da71ca0ad381e90",Rn:4*((Math.sqrt(2)-1)/3),LC:null,kw:G=>{if(G<=0)return 0;let e=I.LC;if(e===null){e=[];for(let n=0;n<=2e3;n++)e[n]=Math.sqrt(n);I.LC=e}if(G<1){const n=1/G;return n<=2e3?1/e[n|0]:Math.sqrt(G)}else return G<=2e3?e[G|0]:Math.sqrt(G)},f:(G,e)=>{const n=G-e;return n<.5&&n>-.5},z:(G,e)=>{const n=G-e;return n<5e-8&&n>-5e-8},vi:(G,e,n,o,l,c,h)=>{l<=0&&(l=1e-6);let f=0,g=0,v=0,w=0;if(G<n?(g=G,f=n):(g=n,f=G),e<o?(w=e,v=o):(w=o,v=e),G===n)return w<=h&&h<=v&&G-l<=c&&c<=G+l;if(e===o)return g<=c&&c<=f&&e-l<=h&&h<=e+l;const k=f+l,P=g-l;if(P<=c&&c<=k){const N=v+l,F=w-l;if(F<=h&&h<=N)if(k-P>N-F)if(G-n>l||n-G>l){const H=(o-e)/(n-G)*(c-G)+e;if(H-l<=h&&h<=H+l)return!0}else return!0;else if(e-o>l||o-e>l){const H=(n-G)/(o-e)*(h-e)+G;if(H-l<=c&&c<=H+l)return!0}else return!0}return!1},Pw:(G,e,n,o,l,c,h,f,g,v,w,k)=>{if(!I.vi(G,e,h,f,k,n,o)||!I.vi(G,e,h,f,k,l,c)){const P=(G+n)/2,N=(e+o)/2,F=(n+l)/2,H=(o+c)/2,V=(l+h)/2,$=(c+f)/2,K=(P+F)/2,J=(N+H)/2,Q=(F+V)/2,ne=(H+$)/2,le=(K+Q)/2,fe=(J+ne)/2;return I.Pw(G,e,P,N,K,J,le,fe,g,v,w,k)||I.Pw(le,fe,Q,ne,V,$,h,f,g,v,w,k)}else return I.vi(G,e,h,f,k,v,w)},AC:(G,e,n,o,l,c,h,f,g)=>{const v=(G+n)/2,w=(e+o)/2,k=(n+l)/2,P=(o+c)/2,N=(l+h)/2,F=(c+f)/2,H=(v+k)/2,V=(w+P)/2,$=(k+N)/2,K=(P+F)/2;return g.i((H+$)/2,(V+K)/2),g},_D:(G,e,n,o,l,c,h,f)=>{const g=(G+n)/2,v=(e+o)/2,w=(n+l)/2,k=(o+c)/2,P=(l+h)/2,N=(c+f)/2,F=(g+w)/2,H=(v+k)/2,V=(w+P)/2,$=(k+N)/2;return T.direction(F,H,V,$)},ou:(G,e,n,o,l,c,h,f,g,v)=>{if(!I.vi(G,e,h,f,g,n,o)||!I.vi(G,e,h,f,g,l,c)){const w=(G+n)/2,k=(e+o)/2,P=(n+l)/2,N=(o+c)/2,F=(l+h)/2,H=(c+f)/2,V=(w+P)/2,$=(k+N)/2,K=(P+F)/2,J=(N+H)/2,Q=(V+K)/2,ne=($+J)/2;I.ou(G,e,w,k,V,$,Q,ne,g,v),I.ou(Q,ne,K,J,F,H,h,f,g,v)}else v.unionNoCheck(G,e,0,0),v.unionNoCheck(h,f,0,0);return v},vn:(G,e,n,o,l,c,h,f,g,v)=>{if(!I.vi(G,e,h,f,g,n,o)||!I.vi(G,e,h,f,g,l,c)){const w=(G+n)/2,k=(e+o)/2,P=(n+l)/2,N=(o+c)/2,F=(l+h)/2,H=(c+f)/2,V=(w+P)/2,$=(k+N)/2,K=(P+F)/2,J=(N+H)/2,Q=(V+K)/2,ne=($+J)/2;I.vn(G,e,w,k,V,$,Q,ne,g,v),I.vn(Q,ne,K,J,F,H,h,f,g,v)}else v.length===0&&(v.push(G),v.push(e)),v.push(h),v.push(f);return v},Kk:(G,e,n,o,l,c,h,f,g,v)=>{if(I.vi(G,e,l,c,v,n,o))return I.vi(G,e,l,c,v,f,g);{const w=(G+n)/2,k=(e+o)/2,P=(n+l)/2,N=(o+c)/2,F=(w+P)/2,H=(k+N)/2;return I.Kk(G,e,w,k,F,H,h,f,g,v)||I.Kk(F,H,P,N,l,c,h,f,g,v)}},bE:(G,e,n,o,l,c,h)=>{const f=(G+n)/2,g=(e+o)/2,v=(n+l)/2,w=(o+c)/2;return h.i((f+v)/2,(g+w)/2),h},jk:(G,e,n,o,l,c,h,f)=>{if(I.vi(G,e,l,c,h,n,o))f.unionNoCheck(G,e,0,0),f.unionNoCheck(l,c,0,0);else{const g=(G+n)/2,v=(e+o)/2,w=(n+l)/2,k=(o+c)/2,P=(g+w)/2,N=(v+k)/2;I.jk(G,e,g,v,P,N,h,f),I.jk(P,N,w,k,l,c,h,f)}return f},Og:(G,e,n,o,l,c,h,f)=>{if(I.vi(G,e,l,c,h,n,o))f.length===0&&(f.push(G),f.push(e)),f.push(l),f.push(c);else{const g=(G+n)/2,v=(e+o)/2,w=(n+l)/2,k=(o+c)/2,P=(g+w)/2,N=(v+k)/2;I.Og(G,e,g,v,P,N,h,f),I.Og(P,N,w,k,l,c,h,f)}return f},Ig:(G,e,n,o,l,c,h,f,g,v,w,k,P,N)=>{if(!I.vi(G,e,h,f,P,n,o)||!I.vi(G,e,h,f,P,l,c)){const F=(G+n)/2,H=(e+o)/2,V=(n+l)/2,$=(o+c)/2,K=(l+h)/2,J=(c+f)/2,Q=(F+V)/2,ne=(H+$)/2,le=(V+K)/2,fe=($+J)/2,we=(Q+le)/2,ye=(ne+fe)/2;let ge=1/0,me=!1,ke=0,Ce=0;if(I.Ig(G,e,F,H,Q,ne,we,ye,g,v,w,k,P,N)){const Ie=(N.x-g)**2+(N.y-v)**2;Ie<ge&&(ge=Ie,me=!0,ke=N.x,Ce=N.y)}if(I.Ig(we,ye,le,fe,K,J,h,f,g,v,w,k,P,N)){const Ie=(N.x-g)**2+(N.y-v)**2;Ie<ge&&(ge=Ie,me=!0,ke=N.x,Ce=N.y)}return me&&(N.x=ke,N.y=Ce),me}else{if(!I.su(G,e,h,f,g,v,w,k))return!1;const F=(G-h)*(v-k)-(e-f)*(g-w);if(F===0)return!1;const H=((G*f-e*h)*(g-w)-(G-h)*(g*k-v*w))/F,V=((G*f-e*h)*(v-k)-(e-f)*(g*k-v*w))/F;return N.i(H,V),!0}},Eg:(G,e,n,o,l,c,h,f,g,v,w,k,P)=>{let N=0;if(!I.vi(G,e,h,f,P,n,o)||!I.vi(G,e,h,f,P,l,c)){const F=(G+n)/2,H=(e+o)/2,V=(n+l)/2,$=(o+c)/2,K=(l+h)/2,J=(c+f)/2,Q=(F+V)/2,ne=(H+$)/2,le=(V+K)/2,fe=($+J)/2,we=(Q+le)/2,ye=(ne+fe)/2;N+=I.Eg(G,e,F,H,Q,ne,we,ye,g,v,w,k,P),N+=I.Eg(we,ye,le,fe,K,J,h,f,g,v,w,k,P)}else{const F=(G-h)*(v-k)-(e-f)*(g-w);if(F===0)return N;const H=((G*f-e*h)*(g-w)-(G-h)*(g*k-v*w))/F,V=((G*f-e*h)*(v-k)-(e-f)*(g*k-v*w))/F;if(H>=w)return N;let $=0,K=0;if((g>w?g-w:w-g)<(v>k?v-k:k-v)){if(e<f?($=e,K=f):($=f,K=e),V<$||V>K)return N}else if(G<h?($=G,K=h):($=h,K=G),H<$||H>K)return N;F>0?N++:F<0&&N--}return N},dl:(G,e,n,o,l,c,h)=>{if(I.z(G,n)){let f=0,g=0;e<o?(f=e,g=o):(f=o,g=e);const v=c;return v<f?(h.i(G,f),!1):v>g?(h.i(G,g),!1):(h.i(G,v),!0)}else if(I.z(e,o)){let f=0,g=0;G<n?(f=G,g=n):(f=n,g=G);const v=l;return v<f?(h.i(f,e),!1):v>g?(h.i(g,e),!1):(h.i(v,e),!0)}else{const f=(n-G)**2+(o-e)**2,g=((G-l)*(G-n)+(e-c)*(e-o))/f;if(g<-5e-6)return h.i(G,e),!1;if(g>1.000005)return h.i(n,o),!1;{const v=G+g*(n-G),w=e+g*(o-e);return h.i(v,w),!0}}},On:(G,e,n,o,l,c,h,f,g)=>{if(I.f(G,n)&&I.f(e,o))return g.i(G,e),!1;if(I.z(l,h)){if(I.z(G,n))return I.dl(G,e,n,o,l,c,g),!1;{const v=(o-e)/(n-G)*(l-G)+e;return I.dl(G,e,n,o,l,v,g)}}else{const v=(f-c)/(h-l);if(I.z(G,n)){const w=v*(G-l)+c;let k=0,P=0;return e<o?(k=e,P=o):(k=o,P=e),w<k?(g.i(G,k),!1):w>P?(g.i(G,P),!1):(g.i(G,w),!0)}else{const w=(o-e)/(n-G);if(I.z(v,w))return I.dl(G,e,n,o,l,c,g),!1;{const k=(w*G-v*l+c-e)/(w-v);if(I.z(w,0)){let P=0,N=0;return G<n?(P=G,N=n):(P=n,N=G),k<P?(g.i(P,e),!1):k>N?(g.i(N,e),!1):(g.i(k,e),!0)}else{const P=w*(k-G)+e;return I.dl(G,e,n,o,k,P,g)}}}}},kE:(G,e,n,o,l)=>I.On(n.x,n.y,o.x,o.y,G.x,G.y,e.x,e.y,l),PE:(G,e,n,o,l,c,h,f,g,v)=>{let w=1/0;function k(le,fe){const we=(le-G)**2+(fe-e)**2;we<w&&(w=we,g.i(le,fe))}k(g.x,g.y);let P=0,N=0,F=0,H=0;l<h?(P=l,N=h):(P=h,N=l),c<f?(F=l,H=h):(F=h,H=l);const V=N-P,$=H-F,K=V/2+v,J=$/2+v,Q=(l+h)/2,ne=(c+f)/2;if(K===0||J===0)return g;if(I.f(G,n)){const le=1-(n-Q)**2/(K*K);if(le<0)return g;const fe=Math.sqrt(le),we=J*fe+ne,ye=-J*fe+ne;k(n,we),k(n,ye)}else{const le=(o-e)/(n-G),fe=1/(K*K)+le*le/(J*J),we=2*le*(e-le*G)/(J*J)-2*le*ne/(J*J)-2*Q/(K*K),ye=2*le*G*ne/(J*J)-2*e*ne/(J*J)+ne*ne/(J*J)+Q*Q/(K*K)-1+(e-le*G)*(e-le*G)/(J*J),ge=we*we-4*fe*ye;if(ge<0)return g;const me=Math.sqrt(ge),ke=(-we+me)/(2*fe);k(ke,le*ke-le*G+e);const Ce=(-we-me)/(2*fe);k(Ce,le*Ce-le*G+e)}return g},gl:(G,e,n,o,l,c,h,f,g)=>{let v=1e21,w=G,k=e;if(I.On(G,e,G,o,l,c,h,f,g)){const P=(g.x-l)**2+(g.y-c)**2;P<v&&(v=P,w=g.x,k=g.y)}if(I.On(n,e,n,o,l,c,h,f,g)){const P=(g.x-l)**2+(g.y-c)**2;P<v&&(v=P,w=g.x,k=g.y)}if(I.On(G,e,n,e,l,c,h,f,g)){const P=(g.x-l)**2+(g.y-c)**2;P<v&&(v=P,w=g.x,k=g.y)}if(I.On(G,o,n,o,l,c,h,f,g)){const P=(g.x-l)**2+(g.y-c)**2;P<v&&(v=P,w=g.x,k=g.y)}return g.i(w,k),v<1e21},Sw:(G,e,n)=>I.kC(G.x,G.y,G.width,G.height,e.x,e.y,n.x,n.y),kC:(G,e,n,o,l,c,h,f)=>{const g=G,v=G+n,w=e,k=e+o;if(l===h){let P=0,N=0;return c<f?(P=c,N=f):(P=f,N=c),g<=l&&l<=v&&P<=k&&N>=w}if(c===f){let P=0,N=0;return l<h?(P=l,N=h):(P=h,N=l),w<=c&&c<=k&&P<=v&&N>=g}return!!(z.contains(G,e,n,o,l,c)||z.contains(G,e,n,o,h,f)||I.su(g,w,v,w,l,c,h,f)||I.su(v,w,v,k,l,c,h,f)||I.su(v,k,g,k,l,c,h,f)||I.su(g,k,g,w,l,c,h,f))},su:(G,e,n,o,l,c,h,f)=>G===n&&e===o&&l===h&&c===f?G===l&&e===c:I.eu(G,e,n,o,l,c)*I.eu(G,e,n,o,h,f)<=0&&I.eu(l,c,h,f,G,e)*I.eu(l,c,h,f,n,o)<=0,eu:(G,e,n,o,l,c)=>{const h=n-G,f=o-e;let g=l-G,v=c-e,w=g*f-v*h;return w===0&&(w=g*h+v*f,w>0&&(g-=h,v-=f,w=g*h+v*f,w<0&&(w=0))),w},Ug:G=>(G<0&&(G+=360),G>=360&&(G-=360),G),TC:(G,e,n,o,l,c)=>{const h=Math.PI;c||(o=o*(h/180),l=l*(h/180));const f=o>l?-1:1,g=1e-5,v=h*2,w=[],k=h/2;let P=o,N=Math.min(v,Math.abs(l-o));if(N<g){const F=P+f*Math.min(N,k),H=G+n*Math.cos(P),V=e+n*Math.sin(P),$=G+n*Math.cos(F),K=e+n*Math.sin(F),J=(H+$)/2,Q=(V+K)/2;return w.push([H,V,J,Q,J,Q,$,K]),w}for(;N>g;){const F=P+f*Math.min(N,k);w.push(I.tF(n,P,F,G,e)),N-=Math.abs(F-P),P=F}return w},tF:(G,e,n,o,l)=>{const c=(n-e)/2,h=G*Math.cos(c),f=G*Math.sin(c),g=h,v=-f,w=g*g+v*v,k=w+g*h+v*f,P=4/3*(Math.sqrt(2*w*k)-k)/(g*f-v*h),N=g-P*v,F=v+P*g,H=N,V=-F,$=c+e,K=Math.cos($),J=Math.sin($);return[o+G*Math.cos(e),l+G*Math.sin(e),o+N*K-F*J,l+N*J+F*K,o+H*K-V*J,l+H*J+V*K,o+G*Math.cos(n),l+G*Math.sin(n)]},Dg:(G,e,n,o,l,c,h)=>{const f=l,g=c,v=Math.floor((G-n)/f)*f+n,w=Math.floor((e-o)/g)*g+o;let k=v;v+f-G<f/2&&(k=v+f);let P=w;return w+g-e<g/2&&(P=w+g),h.i(k,P),h},DC:(G,e)=>{let n=Math.max(G,e),o=Math.min(G,e),l=1,c=1;do l=n%o,c=o,n=o,o=l;while(l>0);return c},iF:(G,e,n,o)=>{const l=n<0,c=o<0;let h=0,f=0,g=0;G<e?(f=1,g=0):(f=0,g=1);let v=0,w=0,k=0,P=0;return h=f,v=h===0?G:e,k=h===0?n:o,(h===0?l:c)&&(k=-k),h=g,w=h===0?G:e,P=h===0?n:o,(h===0?l:c)&&(P=-P),I.eF(v,w,k,P,0,0)},eF:(G,e,n,o,l,c)=>{let h=0;if(o>0)if(n>0){const f=G*G,g=e*e,v=G*n,w=e*o;let k=-g+w,P=-g+Math.sqrt(v*v+w*w),N=k;const F=9999999999;for(let $=0;$<F&&(N=.5*(k+P),!(N===k||N===P));++$){const K=v/(N+f),J=w/(N+g),Q=K*K+J*J-1;if(Q>0)k=N;else if(Q<0)P=N;else break}l=f*n/(N+f),c=g*o/(N+g);const H=l-n,V=c-o;h=Math.sqrt(H*H+V*V)}else l=0,c=e,h=Math.abs(o-e);else{const f=G*G-e*e,g=G*n;if(g<f){const v=g/f,w=v*v;l=G*v,c=e*Math.sqrt(Math.abs(1-w));const k=l-n;h=Math.sqrt(k*k+c*c)}else l=G,c=0,h=Math.abs(n-G)}return h},In:new r,Bg:new r,or:new r,rr:0,Vg:100};I.za=I.QD;var q=(G=>(G[G.Line=1]="Line",G[G.Rectangle=2]="Rectangle",G[G.Ellipse=3]="Ellipse",G[G.Path=4]="Path",G))(q||{}),ee=(G=>(G[G.None=0]="None",G[G.Default=1]="Default",G[G.Fill=2]="Fill",G[G.Uniform=6]="Uniform",G))(ee||{});class te{n;zg;Xg;oc;ru;lu;En;Un;Bn;H;we;xe;Qi;_i;Rs;rc;lc;constructor(e){b.Ki(this),this.n=2,e===void 0&&(e=4),this.H=e,this.we=0,this.xe=0,this.Qi=0,this._i=0,e===4?this.Rs=new m:this.Rs=te.Mw,this.zg=this.Rs.nt,this.Xg=new z().u(),this.oc=null,this.ru=null,this.lu=NaN,this.En=L.TopLeft,this.Un=L.BottomRight,this.rc=NaN,this.lc=NaN,this.Bn=2}copy(){const e=new te;if(e.n=this.n&-2,e.H=this.H,e.we=this.we,e.xe=this.xe,e.Qi=this.Qi,e._i=this._i,this.H===4){const n=this.Rs.r,o=e.Rs;for(let l=0;l<n.length;l++){const c=n[l];o.add(c.copy())}e.Rs=o}else e.Rs=this.Rs;return e.zg=this.zg,e.Xg.a(this.Xg),e.oc=this.oc,e.ru=this.ru,e.lu=this.lu,e.En=this.En.P(),e.Un=this.Un.P(),e.rc=this.rc,e.lc=this.lc,e.Bn=this.Bn,e}static Line=1;static Rectangle=2;static Ellipse=3;static Path=4;static Mw=new m().u();get h(){return(this.n&1)!==0}set h(e){e?this.n|=1:this.n&=-2}get wt(){return(this.n&2)!==0}set wt(e){e?this.n|=2:this.n&=-3}u(){if(this.h=!0,this.type!==4)return this;const e=this.figures;e.u();for(const n of e)n.u();return this}equalsApprox(e){if(!(e instanceof te))return!1;if(this.type!==e.type)return this.type===1&&e.type===4?this.FC(e):e.type===1&&this.type===4?e.FC(this):!1;if(this.type===4){const n=this.figures.r,o=e.figures.r,l=n.length;if(l!==o.length)return!1;for(let c=0;c<l;c++){const h=n[c],f=o[c];if(!h.equalsApprox(f))return!1}return!0}else return I.f(this.startX,e.startX)&&I.f(this.startY,e.startY)&&I.f(this.endX,e.endX)&&I.f(this.endY,e.endY)}FC(e){if(this.type!==1||e.type!==4)return!1;if(e.figures.count===1){const n=e.figures.elt(0);if(n.segments.count===1&&I.f(this.startX,n.startX)&&I.f(this.startY,n.startY)){const o=n.segments.elt(0);if(o.type===2&&I.f(this.endX,o.endX)&&I.f(this.endY,o.endY))return!0}}return!1}static stringify(e){return e.toString()}static stringifyFixed(e){return n=>n.toString(e)}oi(e){e in q?this.type=e:t.er(this,e)}toString(e){e===void 0&&(e=-1);const n=l=>l===0?"0":l.toFixed(e);let o;switch(this.type){case 1:return e<0?"M"+this.startX.toString()+" "+this.startY.toString()+"L"+this.endX.toString()+" "+this.endY.toString():"M"+n(this.startX)+" "+n(this.startY)+"L"+n(this.endX)+" "+n(this.endY);case 2:return o=new z(this.startX,this.startY,0,0),o.union(this.endX,this.endY,0,0),e<0?"M"+o.x.toString()+" "+o.y.toString()+"H"+o.right.toString()+"V"+o.bottom.toString()+"H"+o.left.toString()+"z":"M"+n(o.x)+" "+n(o.y)+"H"+n(o.right)+"V"+n(o.bottom)+"H"+n(o.left)+"z";case 3:if(o=new z(this.startX,this.startY,0,0),o.union(this.endX,this.endY,0,0),e<0){const f=o.left.toString()+" "+(o.y+o.height/2).toString(),g=o.right.toString()+" "+(o.y+o.height/2).toString();return"M"+f+"A"+(o.width/2).toString()+" "+(o.height/2).toString()+" 0 0 1 "+g+"A"+(o.width/2).toString()+" "+(o.height/2).toString()+" 0 0 1 "+f}else{const f=n(o.left)+" "+n(o.y+o.height/2),g=n(o.right)+" "+n(o.y+o.height/2);return"M"+f+"A"+n(o.width/2)+" "+n(o.height/2)+" 0 0 1 "+g+"A"+n(o.width/2)+" "+n(o.height/2)+" 0 0 1 "+f}case 4:let l="";const c=this.figures.r,h=c.length;for(let f=0;f<h;f++){const g=c[f];f>0&&(l+=" x "),g.isFilled&&(l+="F "),l+=g.toString(e)}return l;default:return q[this.type]}}static fillPath(e){const n=e.split(/[Xx]/),o=n.length;let l="";for(let c=0;c<o;c++){const h=n[c];if(h.match(/[Ff]/)!==null){c===0?l+=h:l+="X"+(h[0]===" "?"":" ")+h;continue}l+=(c===0?"":"X ")+"F"+(h[0]===" "?"":" ")+h}return l}static Yg="UuBbMmZzLlHhVvCcSsQqTtAaFfXx";static parse(e,n){n===void 0&&(n=!1);const o=new RegExp("(["+te.Yg+"])(["+te.Yg+"])","gm"),l=new RegExp("(["+te.Yg+"])([^s])","gm"),c=new RegExp("([^s])(["+te.Yg+"])","gm");e=e.replace(/,/gm," "),e=e.replace(o,"$1 $2"),e=e.replace(o,"$1 $2"),e=e.replace(l,"$1 $2"),e=e.replace(c,"$1 $2"),e=e.replace(/([0-9])([+\-])/gm,"$1 $2"),e=e.replace(/[\s\r\t\n]+/gm," "),e=e.replace(/^\s+|\s+$/g,"");const h=e.split(" ");for(let ke=0;ke<h.length;ke++){const Ce=h[ke];if(Ce.match(/(\.[0-9]*)(\.)/gm)!==null){const Ie=t.et();let Be="",Xe=!1;for(let He=0;He<Ce.length;He++){const Ke=Ce[He];Ke==="."&&!Xe?(Xe=!0,Be+=Ke):Ke==="."?(Ie.push(Be),Be="."):Be+=Ke}Ie.push(Be),h.splice(ke,1);for(let He=0;He<Ie.length;He++)h.splice(ke+He,0,Ie[He]);ke+=Ie.length-1,t.J(Ie)}}let f=-1,g="",v="";const w=new T(0,0),k=new T(0,0),P=new T(0,0);let N=!0;function F(){return f>=Q-1||h[f+1].match(ge)!==null?!0:(N=!1,!1)}function H(){return f++,h[f]}function V(ke){let Ce=parseFloat(H()),Ie=parseFloat(H());g===g.toLowerCase()&&(Ce=P.x+Ce,Ie=P.y+Ie),ke.i(Ce,Ie)}function $(){return V(P),P}function K(){return V(k),k}function J(){const ke=v.toLowerCase();return ke==="c"||ke==="s"||ke==="q"||ke==="t"?new T(2*P.x-k.x,2*P.y-k.y):new T(P.x,P.y)}const Q=h.length,ne=vo.RC(null);let le=!1,fe=!1,we=!1,ye=!0;const ge=new RegExp("["+te.Yg+"]");for(;!(f>=Q-1);){if(v=g,g=H(),g==="")continue;N=!0;let ke=!1;switch(g.toUpperCase()){case"X":ye=!0,le=!1,fe=!1;break;case"M":const Ce=$();for(ne.bi===null||ye===!0?(ne.hu(Ce.x,Ce.y,le,!1,!fe,we),ye=!1):ne.sF(Ce.x,Ce.y),w.a(P);!F();){const Ie=$();ne.lr(Ie.x,Ie.y)}break;case"L":for(;!F();){const Ie=$();ne.lr(Ie.x,Ie.y)}N&&(ke=!0);break;case"H":for(;!F();)P.i((g===g.toLowerCase()?P.x:0)+parseFloat(H()),P.y),ne.lr(P.x,P.y);break;case"V":for(;!F();)P.i(P.x,(g===g.toLowerCase()?P.y:0)+parseFloat(H())),ne.lr(P.x,P.y);N&&(ke=!0);break;case"C":for(;!F();){const Ie=new T;V(Ie);const Be=K(),Xe=$();ne.hr(Ie.x,Ie.y,Be.x,Be.y,Xe.x,Xe.y)}N&&(ke=!0);break;case"S":for(;!F();){const Ie=J(),Be=K(),Xe=$();ne.hr(Ie.x,Ie.y,Be.x,Be.y,Xe.x,Xe.y)}N&&(ke=!0);break;case"Q":for(;!F();){const Ie=K(),Be=$();ne.Nw(Ie.x,Ie.y,Be.x,Be.y)}N&&(ke=!0);break;case"T":for(;!F();){const Ie=J();k.a(Ie);const Be=$();ne.Nw(Ie.x,Ie.y,Be.x,Be.y),k.a(Be)}N&&(ke=!0);break;case"B":for(;!F();){const Ie=parseFloat(H()),Be=parseFloat(H());let Xe=parseFloat(H()),He=parseFloat(H());const Ke=parseFloat(H());let Et=Ke,It=!1;F()||(Et=parseFloat(H()),F()||(It=parseFloat(H())!==0)),g===g.toLowerCase()&&(Xe+=P.x,He+=P.y),ne.nF(Ie,Be,Xe,He,Ke,Et,It)}N&&(ke=!0);break;case"A":for(;!F();){const Ie=Math.abs(parseFloat(H())),Be=Math.abs(parseFloat(H())),Xe=parseFloat(H());let He=!1,Ke=!1,Et=0,It=0;const bt=H();bt.length===1?(He=!!parseFloat(bt),Ke=!!parseFloat(H()),Et=parseFloat(H()),It=parseFloat(H())):bt.length===2?(He=!!parseFloat(bt[0]),Ke=!!parseFloat(bt[1]),Et=parseFloat(H()),It=parseFloat(H())):(He=!!parseFloat(bt[0]),Ke=!!parseFloat(bt[1]),Et=parseFloat(bt.slice(2)),It=parseFloat(H())),g===g.toLowerCase()&&(Et=P.x+Et,It=P.y+It),P.i(Et,It),ne.oF(Ie,Be,Xe,He,Ke,Et,It)}N&&(ke=!0);break;case"Z":ne.rF(),P.a(w);break;case"F":{let Ie="",Be=1;for(;h[f+Be];){if(h[f+Be]==="0"){we=!0,Be++;continue}if(h[f+Be].match(/[Uu]/)!==null){Be++;continue}if(h[f+Be].match(ge)===null){Be++;continue}Ie=h[f+Be];break}Ie.match(/[Mm]/)?le=!0:ne.lF();break}case"U":{let Ie="",Be=1;for(;h[f+Be];){if(h[f+Be].match(/[Ff]/)!==null){Be++;continue}if(h[f+Be].match(ge)===null){Be++;continue}Ie=h[f+Be];break}Ie.match(/[Mm]/)?fe=!0:ne.hF(!1);break}default:if(g==="0"||g==="1")break;t.ni("Unknown geometry command: "+g);break}if(ke){t.ni(`Bad geometry command: ${g}, next token: ${H()},
string: ${e}`);break}}const me=ne.Gg;if(vo.vC(ne),n){const ke=me.figures.iterator;for(;ke.next();){const Ce=ke.value;Ce.isFilled=!0}}return me}static OC(e,n){const o=e.length,l=T.l();for(let c=0;c<o;c++){const h=e[c];l.x=h[0],l.y=h[1],n.gt(l),h[0]=l.x,h[1]=l.y,l.x=h[2],l.y=h[3],n.gt(l),h[2]=l.x,h[3]=l.y,l.x=h[4],l.y=h[5],n.gt(l),h[4]=l.x,h[5]=l.y,l.x=h[6],l.y=h[7],n.gt(l),h[6]=l.x,h[7]=l.y}T.e(l)}Hk(){if(this.wt)return!0;if(this.type===4){const e=this.figures;if(this.zg!==e.nt)return!0;const n=this.figures.r,o=n.length;for(let l=0;l<o;l++)if(n[l].Hk())return!0}return!1}Cw(){if(this.wt=!1,this.oc=null,this.ru=null,this.lu=NaN,this.type===4){const n=this.figures;this.zg=n.nt;const o=this.figures.r,l=o.length;for(let c=0;c<l;c++)o[c].aF()}const e=this.Xg;e.Nt(),isNaN(this.rc)||isNaN(this.lc)?e.i(0,0,0,0):e.i(0,0,this.rc,this.lc),this.IC(e,!1),e.unionNoCheck(0,0,0,0),e.u()}computeBoundsWithoutOrigin(){const e=new z;return this.IC(e,!0),e}IC(e,n){switch(this.type){case 1:case 2:case 3:n?e.i(this.we,this.xe,0,0):e.unionNoCheck(this.we,this.xe,0,0),e.unionNoCheck(this.Qi,this._i,0,0);break;case 4:const o=this.figures,l=o.r,c=o.length;for(let h=0;h<c;h++){const f=l[h];n&&h===0?e.i(f.startX,f.startY,0,0):e.unionNoCheck(f.startX,f.startY,0,0);const g=f.segments.r,v=g.length;let w=f.startX,k=f.startY;for(let P=0;P<v;P++){const N=g[P];switch(N.type){case 2:case 1:w=N.endX,k=N.endY,e.unionNoCheck(w,k,0,0);break;case 3:I.ou(w,k,N.point1X,N.point1Y,N.point2X,N.point2Y,N.endX,N.endY,.5,e),w=N.endX,k=N.endY;break;case 4:I.jk(w,k,N.point1X,N.point1Y,N.endX,N.endY,.5,e),w=N.endX,k=N.endY;break;case 5:case 6:const F=N.type===5?N.bo(f):N.Bh(f,w,k),H=F.length;if(H===0){w=N.type===5?N.centerX:N.endX,k=N.type===5?N.centerY:N.endY,e.unionNoCheck(w,k,0,0);break}let V=null;for(let $=0;$<H;$++)V=F[$],I.ou(V[0],V[1],V[2],V[3],V[4],V[5],V[6],V[7],.5,e);V!==null&&(w=V[6],k=V[7]);break;default:t.o("Unknown Segment type: "+N.type)}}}break;default:t.o("Unknown Geometry type: "+this.type)}}cF(e,n){const o=this.bounds;let l=e/o.width,c=n/o.height;return isFinite(l)||(l=1),isFinite(c)||(c=1),l===1&&c===1?this:this.copy().scale(l,c)}normalize(){this.h&&t.L(this);const e=this.computeBoundsWithoutOrigin();return this.offset(-e.x,-e.y),new T(-e.x,-e.y)}offset(e,n){return this.h&&t.L(this),this.T(1,0,0,1,e,n),this}scale(e,n){return this.h&&t.L(this),this.T(e,0,0,n,0,0),this}rotate(e,n,o){this.h&&t.L(this),n===void 0&&(n=0),o===void 0&&(o=0);const l=U.l();return l.Ri(),l.cs(e,n,o),this.T(l.m11,l.m12,l.m21,l.m22,l.dx,l.dy),U.e(l),this}T(e,n,o,l,c,h){let f=0,g=0;switch(this.type){case 1:case 2:case 3:f=this.we,g=this.xe,this.we=f*e+g*o+c,this.xe=f*n+g*l+h,f=this.Qi,g=this._i,this.Qi=f*e+g*o+c,this._i=f*n+g*l+h;break;case 4:const v=this.figures.r,w=v.length;for(let k=0;k<w;k++){const P=v[k];f=P.startX,g=P.startY,P.startX=f*e+g*o+c,P.startY=f*n+g*l+h;const N=P.segments.r,F=N.length;for(let H=0;H<F;H++){const V=N[H];switch(V.type){case 2:case 1:f=V.endX,g=V.endY,V.endX=f*e+g*o+c,V.endY=f*n+g*l+h;break;case 3:f=V.point1X,g=V.point1Y,V.point1X=f*e+g*o+c,V.point1Y=f*n+g*l+h,f=V.point2X,g=V.point2Y,V.point2X=f*e+g*o+c,V.point2Y=f*n+g*l+h,f=V.endX,g=V.endY,V.endX=f*e+g*o+c,V.endY=f*n+g*l+h;break;case 4:f=V.point1X,g=V.point1Y,V.point1X=f*e+g*o+c,V.point1Y=f*n+g*l+h,f=V.endX,g=V.endY,V.endX=f*e+g*o+c,V.endY=f*n+g*l+h;break;case 5:if(f=V.centerX,g=V.centerY,V.centerX=f*e+g*o+c,V.centerY=f*n+g*l+h,n!==0){let $=Math.atan2(n,e)*180/Math.PI;$<0&&($+=360),V.startAngle+=$}e<0&&(V.startAngle=180-V.startAngle,V.sweepAngle=-V.sweepAngle),l<0&&(V.startAngle=-V.startAngle,V.sweepAngle=-V.sweepAngle),V.radiusX*=Math.sqrt(e*e+o*o),V.radiusY!==void 0&&(V.radiusY*=Math.sqrt(n*n+l*l));break;case 6:if(f=V.endX,g=V.endY,V.endX=f*e+g*o+c,V.endY=f*n+g*l+h,V.radiusX===0||V.radiusY===0)break;if(n!==0){let $=Math.atan2(n,e)*180/Math.PI;$<0&&($+=360),V.xAxisRotation+=$}e<0&&(V.xAxisRotation=180-V.xAxisRotation,V.isClockwiseArc=!V.isClockwiseArc),l<0&&(V.xAxisRotation=-V.xAxisRotation,V.isClockwiseArc=!V.isClockwiseArc),V.radiusX*=Math.sqrt(e*e+o*o),V.radiusY*=Math.sqrt(n*n+l*l);break;default:t.o("Unknown Segment type: "+V.type)}}}break}return this.wt=!0,this}containsPoint(e,n){n===void 0&&(n=0);const o=this.we,l=this.xe,c=this.Qi,h=this._i;switch(this.type){case 1:return I.vi(o,l,c,h,n,e.x,e.y);case 2:{const f=Math.min(o,c)-n,g=Math.min(l,h)-n,v=Math.abs(c-o)+n*2,w=Math.abs(h-l)+n*2,k=z.V(f,g,v,w),P=k.containsPoint(e);return z.e(k),P}case 3:{let f=Math.min(o,c)-n,g=Math.min(l,h)-n;const v=Math.abs(c-o)+n*2,w=Math.abs(h-l)+n*2,k=v/2,P=w/2;return k<=0||P<=0?!1:(f=e.x-(f+k),g=e.y-(g+P),f*f/(k*k)+g*g/(P*P)<=1)}case 4:return this.qk(e,n,!0,!1);default:return!1}}qk(e,n,o,l){const c=e.x,h=e.y,f=this.bounds.x-20,g=h;let v=0,w=0,k=0,P=0,N=0,F=0;const H=this.figures.r,V=H.length;for(let $=0;$<V;$++){const K=H[$],J=!K.isEvenOdd;if(K.isFilled){if(o&&K.Wk(c,h,n))return!0}else{if(K.Wk(c,h,l?n:n+2))return!0;continue}const Q=K.segments;w=K.startX,k=K.startY;let ne=w,le=k;const fe=Q.r;for(let we=0;we<=Q.length;we++){let ye,ge;switch(we!==Q.length?(ye=fe[we],ge=ye.type,N=ye.endX,F=ye.endY):(ge=2,N=ne,F=le),ge){case 1:{const me=this.Lw(c,h,f,g,w,k,ne,le);if(isNaN(me))return!0;v+=me,ne=N,le=F;break}case 2:{const me=this.Lw(c,h,f,g,w,k,N,F);if(isNaN(me))return!0;v+=me;break}case 3:P=I.Eg(w,k,ye.point1X,ye.point1Y,ye.point2X,ye.point2Y,N,F,f,g,c,h,.5),v+=P;break;case 4:{const me=(w+2*ye.point1X)/3,ke=(k+2*ye.point1Y)/3,Ce=(ye.point1X*2+N)/3,Ie=(ye.point1Y*2+F)/3;P=I.Eg(w,k,me,ke,Ce,Ie,N,F,f,g,c,h,.5),v+=P;break}case 5:case 6:{const me=ye.type===5?ye.bo(K):ye.Bh(K,w,k),ke=me.length;if(ke===0){const Ie=this.Lw(c,h,f,g,w,k,ye.type===5?ye.centerX:ye.endX,ye.type===5?ye.centerY:ye.endY);if(isNaN(Ie))return!0;v+=Ie;break}let Ce=null;for(let Ie=0;Ie<ke;Ie++){if(Ce=me[Ie],Ie===0){const Be=this.Lw(c,h,f,g,w,k,Ce[0],Ce[1]);if(isNaN(Be))return!0;v+=Be}P=I.Eg(Ce[0],Ce[1],Ce[2],Ce[3],Ce[4],Ce[5],Ce[6],Ce[7],f,g,c,h,.5),v+=P}Ce!==null&&(N=Ce[6],F=Ce[7]);break}default:t.o("Unknown Segment type: "+ye.type)}w=N,k=F}if(J){if(v!==0)return!0}else if(v%2!==0)return!0;v=0}return!1}Lw(e,n,o,l,c,h,f,g){if(I.vi(c,h,f,g,.05,e,n))return NaN;const v=(e-o)*(h-g);if(v===0)return 0;const w=((e*l-n*o)*(c-f)-(e-o)*(c*g-h*f))/v,k=(e*l-n*o)*(h-g)/v;if(w>=e)return 0;if((c>f?c-f:f-c)<(h>g?h-g:g-h)){if(h<g){if(k<h||k>g)return 0}else if(k<g||k>h)return 0}else if(c<f){if(w<c||w>f)return 0}else if(w<f||w>c)return 0;return v>0?1:-1}EC(e,n,o){const l=this.figures.r,c=l.length;for(let h=0;h<c;h++)if(l[h].Wk(e,n,o))return!0;return!1}getPointAlongPath(e,n){if(e<0?e=0:e>1&&(e=1),n===void 0&&(n=new T),this.type===1)return n.i(this.startX+e*(this.endX-this.startX),this.startY+e*(this.endY-this.startY)),n;const o=this.flattenedSegments,l=this.flattenedLengths,c=this.flattenedTotalLength,h=o.length,f=c*e;let g=0;for(let v=0;v<h;v++){const w=l[v],k=w.length;for(let P=0;P<k;P++){const N=w[P];if(g+N>=f){const F=f-g,H=N===0?0:F/N,V=o[v],$=V[P*2],K=V[P*2+1],J=V[P*2+2],Q=V[P*2+3];return n.i($+(J-$)*H,K+(Q-K)*H),n}g+=N}}return n}getAngleAlongPath(e){if(e<0?e=0:e>1&&(e=1),this.type===1)return Math.atan2(this.endY-this.startY,this.endX-this.startX)*180/Math.PI;const n=this.flattenedSegments,o=this.flattenedLengths,l=this.flattenedTotalLength,c=n.length,h=l*e;let f=0;for(let g=0;g<c;g++){const v=o[g],w=v.length;for(let k=0;k<w;k++){const P=v[k];if(f+P>=h){const N=n[g],F=N[k*2],H=N[k*2+1],V=N[k*2+2],$=N[k*2+3];return Math.abs(V-F)<1&&Math.abs($-H)<1?0:Math.abs(V-F)<1?$-H>=0?90:270:Math.abs($-H)<1?V-F>=0?0:180:Math.atan2($-H,V-F)*180/Math.PI}f+=P}}return NaN}getPointAndAngleAlongPath(e,n){if(e<0?e=0:e>1&&(e=1),n===void 0&&(n=[]),n.length=3,this.type===1)return n[0]=this.startX+e*(this.endX-this.startX),n[1]=this.startY+e*(this.endY-this.startY),n[2]=Math.atan2(this.endY-this.startY,this.endX-this.startX)*180/Math.PI,n;const o=this.flattenedSegments,l=this.flattenedLengths,c=this.flattenedTotalLength,h=o.length,f=c*e;let g=0;for(let v=0;v<h;v++){const w=l[v],k=w.length;for(let P=0;P<k;P++){const N=w[P];if(g+N>=f){const F=f-g,H=N===0?0:F/N,V=o[v],$=V[P*2],K=V[P*2+1],J=V[P*2+2],Q=V[P*2+3];n[0]=$+(J-$)*H,n[1]=K+(Q-K)*H;let ne;return Math.abs(J-$)<1&&Math.abs(Q-K)<1?ne=0:Math.abs(J-$)<1?ne=Q-K>=0?90:270:Math.abs(Q-K)<1?ne=J-$>=0?0:180:ne=Math.atan2(Q-K,J-$)*180/Math.PI,n[2]=ne,n}g+=N}}return n}getFractionForPoint(e){if(this.type===1){const n=this.startX,o=this.startY,l=this.endX,c=this.endY;if(n===l&&o===c)return 0;{const h=e.x,f=e.y;let g=0,v=0;if(n===l)return o<c?(g=o,v=c):(g=c,v=o),f<=g?g===o?0:1:f>=v?v===o?0:1:Math.abs(f-o)/(v-g);if(o===c)return n<l?(g=n,v=l):(g=l,v=n),h<=g?g===n?0:1:h>=v?v===n?0:1:Math.abs(h-n)/(v-g);{const w=(l-n)**2+(c-o)**2,k=T.l();I.dl(n,o,l,c,h,f,k);const P=k.x,N=k.y;return T.e(k),Math.sqrt(((P-n)**2+(N-o)**2)/w)}}}else if(this.type===2){const n=this.startX,o=this.startY,l=this.endX,c=this.endY;if(n===l&&o===c)return 0;{const h=l-n,f=c-o,g=h*2+f*2;let v=e.x,w=e.y;v=Math.min(Math.max(v,n),l),w=Math.min(Math.max(w,o),c);const k=Math.abs(v-n),P=Math.abs(v-l),N=Math.abs(w-o),F=Math.abs(w-c),H=Math.min(k,P,N,F);if(H===N)return v/g;if(H===P)return(h+w)/g;if(H===F)return(h*2+f-v)/g;if(H===k)return(h*2+f*2-w)/g}}else{const n=this.flattenedSegments,o=this.flattenedLengths,l=this.flattenedTotalLength,c=T.l();let h=1/0,f=0,g=0;const v=n.length;let w=0,k=0;for(let N=0;N<v;N++){const F=n[N],H=o[N],V=F.length;for(let $=0;$<V;$+=2){const K=F[$],J=F[$+1];if($===0){w=K,k=J;continue}I.dl(w,k,K,J,e.x,e.y,c);const Q=(c.x-e.x)**2+(c.y-e.y)**2;Q<h&&(h=Q,f=g,f+=Math.sqrt((c.x-w)**2+(c.y-k)**2)),g+=H[($-2)/2],w=K,k=J}}T.e(c);const P=f/l;return P<0?0:P>1?1:P}return 0}get flattenedSegments(){return this.UC(),this.oc}UC(){if(this.oc===null){const e=this.oc=[],n=this.ru=[];this.fF(e,n)}}get flattenedLengths(){return this.UC(),this.ru}get flattenedTotalLength(){let e=this.lu;if(isNaN(e)){if(this.type===1){const n=Math.abs(this.endX-this.startX),o=Math.abs(this.endY-this.startY);e=Math.sqrt(n*n+o*o)}else if(this.type===2){const n=Math.abs(this.endX-this.startX),o=Math.abs(this.endY-this.startY);e=n*2+o*2}else{const n=this.flattenedLengths,o=n.length;e=0;for(let l=0;l<o;l++){const c=n[l],h=c.length;for(let f=0;f<h;f++)e+=c[f]}}this.lu=e}return e}Jk(e){const n=[];let o=0,l=0;const c=e.length;for(let h=0;h<c;h+=2){const f=e[h],g=e[h+1];if(h===0){o=f,l=g;continue}const v=Math.sqrt(T.distanceSquared(o,l,f,g));n.push(v),o=f,l=g}return n}fF(e,n){let o=[];const l=[];if(this.type===1)o.push(this.startX),o.push(this.startY),o.push(this.endX),o.push(this.endY),e.push(o),l.push(Math.sqrt((this.startX-this.endX)**2+(this.startY-this.endY)**2)),n.push(l);else if(this.type===2)o.push(this.startX),o.push(this.startY),o.push(this.endX),o.push(this.startY),o.push(this.endX),o.push(this.endY),o.push(this.startX),o.push(this.endY),o.push(this.startX),o.push(this.startY),e.push(o),l.push(Math.abs(this.startX-this.endX)),l.push(Math.abs(this.startY-this.endY)),l.push(Math.abs(this.startX-this.endX)),l.push(Math.abs(this.startY-this.endY)),n.push(l);else if(this.type===3){const c=new ce;c.startX=this.endX,c.startY=(this.startY+this.endY)/2;const h=new ae(5);h.startAngle=0,h.sweepAngle=360,h.centerX=(this.startX+this.endX)/2,h.centerY=(this.startY+this.endY)/2,h.radiusX=Math.abs(this.startX-this.endX)/2,h.radiusY=Math.abs(this.startY-this.endY)/2,c.add(h);const f=h.bo(c),g=f.length;if(g===0)o.push(h.centerX),o.push(h.centerY);else{let v=c.startX,w=c.startY;for(let k=0;k<g;k++){const P=f[k];I.vn(v,w,P[2],P[3],P[4],P[5],P[6],P[7],.5,o),v=P[6],w=P[7]}}e.push(o),n.push(this.Jk(o))}else{const c=this.figures.iterator;for(;c.next();){const h=c.value;o=[],o.push(h.startX),o.push(h.startY);let f=h.startX,g=h.startY,v=f,w=g;const k=h.segments.r,P=k.length;for(let N=0;N<P;N++){const F=k[N];switch(F.type){case 1:o.length>=4&&(e.push(o),n.push(this.Jk(o))),o=[],o.push(F.endX),o.push(F.endY),f=F.endX,g=F.endY,v=f,w=g;break;case 2:o.push(F.endX),o.push(F.endY),f=F.endX,g=F.endY;break;case 3:I.vn(f,g,F.point1X,F.point1Y,F.point2X,F.point2Y,F.endX,F.endY,.5,o),f=F.endX,g=F.endY;break;case 4:I.Og(f,g,F.point1X,F.point1Y,F.endX,F.endY,.5,o),f=F.endX,g=F.endY;break;case 5:{const H=F.bo(h),V=H.length;if(V===0){o.push(F.centerX),o.push(F.centerY),f=F.centerX,g=F.centerY;break}for(let $=0;$<V;$++){const K=H[$];I.vn(f,g,K[2],K[3],K[4],K[5],K[6],K[7],.5,o),f=K[6],g=K[7]}break}case 6:{const H=F.Bh(h,f,g),V=H.length,$=F.endX,K=F.endY;if(V===0){o.push($),o.push(K),f=$,g=K;break}for(let J=0;J<V;J++){const Q=H[J];I.vn(f,g,Q[2],Q[3],Q[4],Q[5],Q[6],Q[7],.5,o),f=Q[6],g=Q[7]}break}default:t.o("Segment not of valid type: "+F.type)}F.isClosed&&(o.push(v),o.push(w))}o.length>=4&&(e.push(o),n.push(this.Jk(o)))}}}get type(){return this.H}set type(e){this.H!==e&&(this.h&&t.L(this,e),this.H=e,e===4?this.Rs=new m:(te.Mw===null&&(te.Mw=new m().u()),this.Rs=te.Mw),this.wt=!0)}get startX(){return this.we}set startX(e){this.we!==e&&(this.h&&t.L(this,e),this.we=e,this.wt=!0)}get startY(){return this.xe}set startY(e){this.xe!==e&&(this.h&&t.L(this,e),this.xe=e,this.wt=!0)}get endX(){return this.Qi}set endX(e){this.Qi!==e&&(this.h&&t.L(this,e),this.Qi=e,this.wt=!0)}get endY(){return this._i}set endY(e){this._i!==e&&(this.h&&t.L(this,e),this._i=e,this.wt=!0)}get figures(){return this.Rs}set figures(e){this.Rs!==e&&(this.h&&t.L(this,e),this.Rs=e,this.wt=!0)}add(e){return this.Rs.add(e),this}setSpots(e,n,o,l,c,h,f,g){return this.h&&t.L(this),this.En=new L(e,n,c,h).u(),this.Un=new L(o,l,f,g).u(),this}get spot1(){return this.En}set spot1(e){this.h&&t.L(this,e),this.En=e.P()}get spot2(){return this.Un}set spot2(e){this.h&&t.L(this,e),this.Un=e.P()}get defaultStretch(){return this.Bn}set defaultStretch(e){this.Bn=e}get bounds(){return this.Hk()&&this.Cw(),this.Xg}}te.stringify=te.stringify,te.stringifyFixed=te.stringifyFixed,te.fillPath=te.fillPath,te.parse=te.parse;class ce{n;we;xe;hc;Kg;Ee;constructor(e,n,o,l,c){o===void 0&&(o=!0),l===void 0&&(l=!0),c===void 0&&(c=!1),this.n=2|(o?4:0)|(l?8:0)|(c?16:0),e!==void 0?this.we=e:this.we=0,n!==void 0?this.xe=n:this.xe=0,this.hc=new m,this.Kg=this.hc.nt,this.Ee=null}copy(){const e=new ce;e.n=this.n&-2,e.we=this.we,e.xe=this.xe;const n=this.hc.r,o=n.length,l=e.hc;for(let c=0;c<o;c++){const h=n[c].copy();l.add(h)}return e.Kg=this.Kg,e.Ee=this.Ee,e}equalsApprox(e){if(!(e instanceof ce)||!I.f(this.startX,e.startX)||!I.f(this.startY,e.startY))return!1;const n=this.segments.r,o=e.segments.r,l=n.length;if(l!==o.length)return!1;for(let c=0;c<l;c++){const h=n[c],f=o[c];if(!h.equalsApprox(f))return!1}return!0}toString(e){e===void 0&&(e=-1);let n="";if(e<0)n="M"+this.startX.toString()+" "+this.startY.toString();else{const c=h=>h===0?"0":h.toFixed(e);n="M"+c(this.startX)+" "+c(this.startY)}const o=this.segments.r,l=o.length;for(let c=0;c<l;c++){const h=o[c];n+=" "+h.toString(e)}return n}get h(){return(this.n&1)!==0}set h(e){e?this.n|=1:this.n&=-2}get wt(){return(this.n&2)!==0}set wt(e){e?this.n|=2:this.n&=-3}u(){this.h=!0;const e=this.segments;e.u();const n=e.r,o=e.length;for(let l=0;l<o;l++)n[l].u();return this}Hk(){if(this.wt)return!0;const e=this.segments;if(this.Kg!==e.nt)return!0;for(const n of e)if(n.wt)return!0;return!1}aF(){this.wt=!1,this.Ee=null;const e=this.segments;this.Kg=e.nt;for(const n of e)n.wt=!1,n.vs=null}get isFilled(){return(this.n&4)!==0}set isFilled(e){this.h&&t.L(this,e),e?this.n|=4:this.n&=-5}get isShadowed(){return(this.n&8)!==0}set isShadowed(e){this.h&&t.L(this,e),e?this.n|=8:this.n&=-9}get isEvenOdd(){return(this.n&16)!==0}set isEvenOdd(e){this.h&&t.L(this,e),e?this.n|=16:this.n&=-17}get startX(){return this.we}set startX(e){this.h&&t.L(this,e),this.we=e,this.Ee=null,this.wt=!0}get startY(){return this.xe}set startY(e){this.h&&t.L(this,e),this.xe=e,this.Ee=null,this.wt=!0}get segments(){return this.hc}set segments(e){this.h&&t.L(this,e),this.hc=e,this.Ee=null,this.wt=!0}add(e){return this.hc.add(e),this.Ee=null,this}Wk(e,n,o){const l=this;let c=l.startX,h=l.startY,f=c,g=h;const v=l.segments.r,w=v.length;for(let k=0;k<w;k++){const P=v[k];switch(P.type){case 1:f=P.endX,g=P.endY,c=P.endX,h=P.endY;break;case 2:if(I.vi(c,h,P.endX,P.endY,o,e,n))return!0;c=P.endX,h=P.endY;break;case 3:if(I.Pw(c,h,P.point1X,P.point1Y,P.point2X,P.point2Y,P.endX,P.endY,.5,e,n,o))return!0;c=P.endX,h=P.endY;break;case 4:if(I.Kk(c,h,P.point1X,P.point1Y,P.endX,P.endY,.5,e,n,o))return!0;c=P.endX,h=P.endY;break;case 5:case 6:const N=P.type===5?P.bo(l):P.Bh(l,c,h),F=N.length,H=P.type===5?P.centerX:P.endX,V=P.type===5?P.centerY:P.endY;if(F===0){if(I.vi(c,h,H,V,o,e,n))return!0;c=H,h=V;break}let $=null;for(let K=0;K<F;K++)if($=N[K],K===0&&I.vi(c,h,$[0],$[1],o,e,n)||I.Pw($[0],$[1],$[2],$[3],$[4],$[5],$[6],$[7],.5,e,n,o))return!0;$!==null&&(c=$[6],h=$[7]);break;default:t.o("Unknown Segment type: "+P.type)}if(P.isClosed&&(c!==f||h!==g)&&I.vi(c,h,f,g,o,e,n))return!0}return!1}}var re=(G=>(G[G.Move=1]="Move",G[G.Line=2]="Line",G[G.Bezier=3]="Bezier",G[G.QuadraticBezier=4]="QuadraticBezier",G[G.Arc=5]="Arc",G[G.SvgArc=6]="SvgArc",G))(re||{});class ae{H;n;Qi;_i;tn;pl;yl;ar;vs;constructor(e,n,o,l,c,h,f,g){if(b.Ki(this),e===void 0&&(e=2),this.H=e,this.n=2,n!==void 0?this.Qi=n:this.Qi=0,o!==void 0?this._i=o:this._i=0,l===void 0&&(l=0),c===void 0&&(c=0),h===void 0&&(h=0),f===void 0&&(f=0),e===6){let v=h;v=v%360,v<0&&(v+=360),this.tn=v,this.pl=0,this.yl=Math.max(l,0),this.ar=Math.max(c,0),typeof f=="boolean"?f&&(this.isLargeArc=!0):typeof f=="number"&&f&&(this.isLargeArc=!0),g&&(this.isClockwiseArc=!0)}else this.tn=l,this.pl=c,e===5&&(h=Math.max(h,0)),this.yl=h,typeof f=="number"?(e===5&&(f=Math.max(f,0)),this.ar=f):this.ar=0;this.vs=null}copy(){const e=new ae;return e.H=this.H,e.n=this.n&-2,e.Qi=this.Qi,e._i=this._i,e.tn=this.tn,e.pl=this.pl,e.yl=this.yl,e.ar=this.ar,e}equalsApprox(e){if(!(e instanceof ae)||this.type!==e.type||this.isClosed!==e.isClosed)return!1;switch(this.type){case 1:case 2:return I.f(this.endX,e.endX)&&I.f(this.endY,e.endY);case 3:return I.f(this.endX,e.endX)&&I.f(this.endY,e.endY)&&I.f(this.point1X,e.point1X)&&I.f(this.point1Y,e.point1Y)&&I.f(this.point2X,e.point2X)&&I.f(this.point2Y,e.point2Y);case 4:return I.f(this.endX,e.endX)&&I.f(this.endY,e.endY)&&I.f(this.point1X,e.point1X)&&I.f(this.point1Y,e.point1Y);case 5:return I.f(this.startAngle,e.startAngle)&&I.f(this.sweepAngle,e.sweepAngle)&&I.f(this.centerX,e.centerX)&&I.f(this.centerY,e.centerY)&&I.f(this.radiusX,e.radiusX)&&I.f(this.radiusY,e.radiusY);case 6:return this.isClockwiseArc===e.isClockwiseArc&&this.isLargeArc===e.isLargeArc&&I.f(this.xAxisRotation,e.xAxisRotation)&&I.f(this.endX,e.endX)&&I.f(this.endY,e.endY)&&I.f(this.radiusX,e.radiusX)&&I.f(this.radiusY,e.radiusY);default:return!1}}oi(e){e in re?this.type=e:t.er(this,e)}toString(e){e===void 0&&(e=-1);const n=l=>l===0?"0":l.toFixed(e);let o="";switch(this.type){case 1:e<0?o="M"+this.endX.toString()+" "+this.endY.toString():o="M"+n(this.endX)+" "+n(this.endY);break;case 2:e<0?o="L"+this.endX.toString()+" "+this.endY.toString():o="L"+n(this.endX)+" "+n(this.endY);break;case 3:e<0?o="C"+this.point1X.toString()+" "+this.point1Y.toString()+" "+this.point2X.toString()+" "+this.point2Y.toString()+" "+this.endX.toString()+" "+this.endY.toString():o="C"+n(this.point1X)+" "+n(this.point1Y)+" "+n(this.point2X)+" "+n(this.point2Y)+" "+n(this.endX)+" "+n(this.endY);break;case 4:e<0?o="Q"+this.point1X.toString()+" "+this.point1Y.toString()+" "+this.endX.toString()+" "+this.endY.toString():o="Q"+n(this.point1X)+" "+n(this.point1Y)+" "+n(this.endX)+" "+n(this.endY);break;case 5:e<0?o="B"+this.startAngle.toString()+" "+this.sweepAngle.toString()+" "+this.centerX.toString()+" "+this.centerY.toString()+" "+this.radiusX.toString()+" "+this.radiusY.toString():o="B"+n(this.startAngle)+" "+n(this.sweepAngle)+" "+n(this.centerX)+" "+n(this.centerY)+" "+n(this.radiusX)+" "+n(this.radiusY);break;case 6:e<0?o="A"+this.radiusX.toString()+" "+this.radiusY.toString()+" "+this.xAxisRotation.toString()+" "+(this.isLargeArc?1:0)+" "+(this.isClockwiseArc?1:0)+" "+this.endX.toString()+" "+this.endY.toString():o="A"+n(this.radiusX)+" "+n(this.radiusY)+" "+n(this.xAxisRotation)+" "+(this.isLargeArc?1:0)+" "+(this.isClockwiseArc?1:0)+" "+n(this.endX)+" "+n(this.endY);break;default:o=re[this.type]}return o+(this.isClosed?"z":"")}static Move=1;static Line=2;static Bezier=3;static QuadraticBezier=4;static Arc=5;static SvgArc=6;get h(){return(this.n&1)!==0}set h(e){e?this.n|=1:this.n&=-2}get wt(){return(this.n&2)!==0}set wt(e){e?this.n|=2:this.n&=-3}u(){return this.h=!0,this}close(){return this.isClosed=!0,this}bo(e){if(this.vs!==null&&e.wt===!1)return this.vs;const n=this.radiusX;let o=this.radiusY;if(o===void 0&&(o=n),n===0||o===0)return this.vs=[],this.vs;const l=this.tn,c=this.pl,h=I.TC(0,0,n<o?n:o,this.startAngle,this.startAngle+this.sweepAngle,!1);if(n!==o){const g=U.l();g.Ri(),n<o?g.tt(1,o/n):g.tt(n/o,1),te.OC(h,g),U.e(g)}const f=h.length;for(let g=0;g<f;g++){const v=h[g];v[0]+=l,v[1]+=c,v[2]+=l,v[3]+=c,v[4]+=l,v[5]+=c,v[6]+=l,v[7]+=c}return this.vs=h,this.vs}Bh(e,n,o){if(this.vs!==null&&e.wt===!1)return this.vs;if(this.radiusX===0||this.radiusY===0)return this.vs=[],this.vs;const l=n,c=o;let h=this.yl,f=this.ar;h===0&&(h=1e-4),f===0&&(f=1e-4);const g=this.tn*(Math.PI/180),v=this.isLargeArc,w=this.isClockwiseArc,k=this.Qi,P=this._i,N=Math.cos(g),F=Math.sin(g),H=N*(l-k)/2+F*(c-P)/2,V=-F*(l-k)/2+N*(c-P)/2,$=H*H/(h*h)+V*V/(f*f);$>1&&(h*=Math.sqrt($),f*=Math.sqrt($));let K=(v===w?-1:1)*Math.sqrt((h*h*f*f-h*h*V*V-f*f*H*H)/(h*h*V*V+f*f*H*H));isNaN(K)&&(K=0);let J=K*h*V/f,Q=K*-f*H/h;isNaN(J)&&(J=0),isNaN(Q)&&(Q=0);const ne=(l+k)/2+N*J-F*Q,le=(c+P)/2+F*J+N*Q,fe=(At,wt)=>Math.sqrt(At*At+wt*wt),we=(At,wt,Vt,qt)=>(At*Vt+wt*qt)/(fe(At,wt)*fe(Vt,qt)),ye=(At,wt,Vt,qt)=>(At*qt<wt*Vt?-1:1)*Math.acos(we(At,wt,Vt,qt)),ge=ye(1,0,(H-J)/h,(V-Q)/f),me=(H-J)/h,ke=(V-Q)/f,Ce=(-H-J)/h,Ie=(-V-Q)/f;let Be=ye(me,ke,Ce,Ie);const Xe=we(me,ke,Ce,Ie);Xe<=-1?Be=Math.PI:Xe>=1&&(Be=0),!w&&Be>0&&(Be=Be-2*Math.PI),w&&Be<0&&(Be=Be+2*Math.PI);const He=h>f?h:f,Ke=h>f?1:h/f,Et=h>f?f/h:1,It=I.TC(0,0,He,ge,ge+Be,!0),bt=U.l();return bt.Ri(),bt.Fs(ne,le),bt.cs(this.tn,0,0),bt.tt(Ke,Et),te.OC(It,bt),U.e(bt),this.vs=It,this.vs}get isClosed(){return(this.n&8)!==0}set isClosed(e){this.isClosed!==e&&(e?this.n|=8:this.n&=-9,this.wt=!0)}get type(){return this.H}set type(e){this.h&&t.L(this,e),this.H=e,this.wt=!0}get endX(){return this.Qi}set endX(e){this.h&&t.L(this,e),this.Qi=e,this.wt=!0}get endY(){return this._i}set endY(e){this.h&&t.L(this,e),this._i=e,this.wt=!0}get point1X(){return this.tn}set point1X(e){this.h&&t.L(this,e),this.tn=e,this.wt=!0}get point1Y(){return this.pl}set point1Y(e){this.h&&t.L(this,e),this.pl=e,this.wt=!0}get point2X(){return this.yl}set point2X(e){this.h&&t.L(this,e),this.yl=e,this.wt=!0}get point2Y(){return this.ar}set point2Y(e){this.h&&t.L(this,e),this.ar=e,this.wt=!0}get centerX(){return this.tn}set centerX(e){this.h&&t.L(this,e),this.tn=e,this.wt=!0}get centerY(){return this.pl}set centerY(e){this.h&&t.L(this,e),this.pl=e,this.wt=!0}get radiusX(){return this.yl}set radiusX(e){e<0&&t.W(e,">= zero",ae,"radiusX"),this.h&&t.L(this,e),this.yl=e,this.wt=!0}get radiusY(){return this.ar}set radiusY(e){e<0&&t.W(e,">= zero",ae,"radiusY"),this.h&&t.L(this,e),this.ar=e,this.wt=!0}get startAngle(){return this.Qi}set startAngle(e){this.h&&t.L(this,e),e=e%360,e<0&&(e+=360),this.Qi=e,this.wt=!0}get sweepAngle(){return this._i}set sweepAngle(e){this.h&&t.L(this,e),e>360&&(e=360),e<-360&&(e=-360),this._i=e,this.wt=!0}get isClockwiseArc(){return(this.n&4)!==0}set isClockwiseArc(e){this.h&&t.L(this,e),e?this.n|=4:this.n&=-5,this.wt=!0}get isLargeArc(){return(this.n&16)!==0}set isLargeArc(e){this.h&&t.L(this,e),e?this.n|=16:this.n&=-17,this.wt=!0}get xAxisRotation(){return this.tn}set xAxisRotation(e){this.h&&t.L(this,e),e=e%360,e<0&&(e+=360),this.tn=e,this.wt=!0}}class ue{N;Aw;Tw;jg;Hg;qg;Wg;Jg;$g;Zg;Qg;_g;tm;im;ko;em;sm;nm;be;constructor(){this.N=null,this.Aw=new T(0,0).u(),this.Tw=new T(0,0).u(),this.jg=0,this.Hg=0,this.qg=1,this.Wg="",this.Jg="",this.$g=!1,this.Zg=!1,this.Qg=0,this._g=0,this.tm=!1,this.im=!1,this.ko=!1,this.em=null,this.sm=0,this.nm=null,this.be=null}copy(){const e=new ue;return this.clone(e)}clone(e){return e.N=this.N,e.Aw.a(this.viewPoint),e.Tw.a(this.documentPoint),e.jg=this.jg,e.Hg=this.Hg,e.qg=this.qg,e.Wg=this.Wg,e.Jg=this.Jg,e.$g=this.$g,e.Zg=this.Zg,e.Qg=this.Qg,e._g=this._g,e.tm=this.tm,e.im=this.im,e.ko=this.ko,e.em=this.em,e.sm=this.sm,e.nm=this.nm,e.be=this.be,e}toString(){let e="^";return this.modifiers!==0&&(e+="M:"+this.modifiers),this.button!==0&&(e+="B:"+this.button),this.key!==""&&(e+="K:"+this.key),this.clickCount!==0&&(e+="C:"+this.clickCount),this.delta!==0&&(e+="D:"+this.delta),this.handled&&(e+="h"),this.bubbles&&(e+="b"),this.documentPoint!==null&&(e+="@"+this.documentPoint.toString()),e}get diagram(){return this.N}set diagram(e){this.N=e}get viewPoint(){return this.Aw}set viewPoint(e){this.Aw.a(e)}get documentPoint(){return this.Tw}set documentPoint(e){this.Tw.a(e)}getMultiTouchViewPoint(e,n){const o=this.diagram;return o===null||o.BC(this.event,e,n),n}getMultiTouchDocumentPoint(e,n){const o=this.diagram;return o===null||(o.BC(this.event,e,n),n.a(o.transformViewToDoc(n))),n}get modifiers(){return this.jg}set modifiers(e){this.jg=e}get button(){return this.Hg}set button(e){if(this.Hg=e,this.event===null)switch(e){case 0:this.buttons=1;return;case 1:this.buttons=4;return;case 2:this.buttons=2;return}}get buttons(){return this.qg}set buttons(e){this.qg=e}get key(){return this.Wg}set key(e){this.Wg=e}get code(){return this.Jg}set code(e){this.Jg=e}get down(){return this.$g}set down(e){this.$g=e}get up(){return this.Zg}set up(e){this.Zg=e}get clickCount(){return this.Qg}set clickCount(e){this.Qg=e}get delta(){return this._g}set delta(e){this._g=e}get isMultiTouch(){return this.tm}set isMultiTouch(e){this.tm=e}get handled(){return this.im}set handled(e){this.im=e}get bubbles(){return this.ko}set bubbles(e){this.ko=e}get event(){return this.em}set event(e){this.em=e}get isTouchEvent(){const e=this.event;return e===null?!1:e.pointerType==="touch"||e.pointerType==="pen"}get timestamp(){return this.sm}set timestamp(e){this.sm=e}get targetDiagram(){return this.nm}set targetDiagram(e){this.nm=e}get targetObject(){return this.be}set targetObject(e){this.be=e}get control(){return(this.modifiers&1)!==0}set control(e){this.modifiers=e?this.modifiers|1:this.modifiers&-2}get shift(){return(this.modifiers&4)!==0}set shift(e){this.modifiers=e?this.modifiers|4:this.modifiers&-5}get alt(){return(this.modifiers&2)!==0}set alt(e){this.modifiers=e?this.modifiers|2:this.modifiers&-3}get meta(){return(this.modifiers&8)!==0}set meta(e){this.modifiers=e?this.modifiers|8:this.modifiers&-9}get left(){const e=this.event;return e!==null&&(e.type==="mousedown"||e.type==="mouseup"||e.type==="pointerdown"||e.type==="pointerup")?this.button===0:(this.buttons&1)!==0}set left(e){e?this.buttons|=1:this.buttons&=-2}get right(){const e=this.event;return e!==null&&(e.type==="mousedown"||e.type==="mouseup"||e.type==="pointerdown"||e.type==="pointerup")?this.button===2:(this.buttons&2)!==0}set right(e){e?this.buttons|=2:this.buttons&=-3}get middle(){const e=this.event;return e!==null&&(e.type==="mousedown"||e.type==="mouseup"||e.type==="pointerdown"||e.type==="pointerup")?this.button===1:(this.buttons&4)!==0}set middle(e){e?this.buttons|=4:this.buttons&=-5}get commandKey(){const e=this.code,n=this.key;return"cxvyzagCXVYZAG".includes(n)?n.toLowerCase():e==="KeyC"?"c":e==="KeyX"?"x":e==="KeyV"?"v":e==="KeyY"?"y":e==="KeyZ"?"z":e==="KeyA"?"a":e==="KeyG"?"g":e!==""?e:n}}class ie{N;Pt;om;rm;constructor(){this.N=null,this.Pt="",this.om=null,this.rm=null}copy(){const e=new ie;return e.N=this.N,e.Pt=this.Pt,e.om=this.om,e.rm=this.rm,e}toString(){let e="*"+this.name;return this.subject!==null&&(e+=":"+this.subject.toString()),this.parameter!==null&&(e+="("+this.parameter.toString()+")"),e}get diagram(){return this.N}set diagram(e){this.N=e}get name(){return this.Pt}set name(e){this.Pt=e}get subject(){return this.om}set subject(e){this.om=e}get parameter(){return this.rm}set parameter(e){this.rm=e}}var he=(G=>(G[G.Transaction=1]="Transaction",G[G.Property=2]="Property",G[G.Insert=3]="Insert",G[G.Remove=4]="Remove",G))(he||{});class pe{au;lm;en;ki;N;cu;ac;cc;fc;uc;constructor(){this.au=2,this.lm="",this.en="",this.ki=null,this.N=null,this.cu=null,this.ac=null,this.cc=null,this.fc=null,this.uc=null}static Transaction=1;static Property=2;static Insert=3;static Remove=4;clear(){this.ki=null,this.N=null,this.cu=null,this.ac=null,this.cc=null,this.fc=null,this.uc=null}copy(){const e=new pe;e.au=this.au,e.lm=this.lm,e.en=this.en,e.ki=this.ki,e.N=this.N,e.cu=this.cu;let n=this.ac;return t.G(n)&&t.it(n.copyFrozen)?e.ac=n.copyFrozen():e.ac=n,n=this.cc,t.G(n)&&t.it(n.copyFrozen)?e.cc=n.copyFrozen():e.cc=n,n=this.fc,t.G(n)&&t.it(n.copyFrozen)?e.fc=n.copyFrozen():e.fc=n,n=this.uc,t.G(n)&&t.it(n.copyFrozen)?e.uc=n.copyFrozen():e.uc=n,e}oi(e){e in he?this.change=e:t.er(this,e)}toString(){let e="";return this.change===1?e+="* ":this.change===2?e+=this.model!==null?"!m":"!d":e+=(this.model!==null?"!m":"!d")+this.change,this.propertyName&&typeof this.propertyName=="string"&&(e+=" "+this.propertyName),this.modelChange&&this.modelChange!==this.propertyName&&(e+=" "+this.modelChange),e+=": ",this.change===1?this.oldValue!==null&&(e+=" "+this.oldValue):(this.object!==null&&(e+=t.toString(this.object)),this.oldValue!==null&&(e+="  old: "+t.toString(this.oldValue)),this.oldParam!==null&&(e+=" "+this.oldParam),this.newValue!==null&&(e+="  new: "+t.toString(this.newValue)),this.newParam!==null&&(e+=" "+this.newParam)),e}getValue(e){return e?this.oldValue:this.newValue}getParam(e){return e?this.oldParam:this.newParam}canUndo(){return this.model!==null||this.diagram!==null}undo(){this.canUndo()&&(this.model!==null?this.model.changeState(this,!0):this.diagram!==null&&this.diagram.VC(this,!0))}canRedo(){return this.model!==null||this.diagram!==null}redo(){this.canRedo()&&(this.model!==null?this.model.changeState(this,!1):this.diagram!==null&&this.diagram.VC(this,!1))}get model(){return this.ki}set model(e){this.ki=e}get diagram(){return this.N}set diagram(e){this.N=e}get change(){return this.au}set change(e){this.au=e}get modelChange(){return this.lm}set modelChange(e){this.lm=e}get propertyName(){return this.en}set propertyName(e){this.en=e}get isTransactionFinished(){return this.au===1&&(this.en==="CommittedTransaction"||this.en==="FinishedUndo"||this.en==="FinishedRedo")}get object(){return this.cu}set object(e){this.cu=e}get oldValue(){return this.ac}set oldValue(e){this.ac=e}get oldParam(){return this.cc}set oldParam(e){this.cc=e}get newValue(){return this.fc}set newValue(e){this.fc=e}get newParam(){return this.uc}set newParam(e){this.uc=e}}class de{zC;Pt;$k;constructor(){this.zC=new m().u(),this.Pt="",this.$k=!1}toString(e){let n="Transaction: "+this.name+" "+this.changes.count.toString()+(this.isComplete?"":", incomplete");if(e!==void 0&&e>0){const o=this.changes.count;for(let l=0;l<o;l++){const c=this.changes.elt(l);c!==null&&(n+=`
  `+c.toString())}}return n}clear(){const e=this.changes;e.Nt();for(let n=e.count-1;n>=0;n--){const o=e.elt(n);o!==null&&o.clear()}e.clear(),e.u()}canUndo(){return this.isComplete}undo(){if(this.canUndo())for(let e=this.changes.count-1;e>=0;e--){const n=this.changes.elt(e);n!==null&&n.undo()}}canRedo(){return this.isComplete}redo(){if(!this.canRedo())return;const e=this.changes.count;for(let n=0;n<e;n++){const o=this.changes.elt(n);o!==null&&o.redo()}}uF(e){const n=this.changes;for(let o=n.count-1;o>=e;o--){const l=n.elt(o);l!==null&&l.undo(),n.Nt(),n.removeAt(o)}n.u()}optimize(){if(!this.isComplete)return;const e=this.changes;e.Nt();const n=new _;for(let l=0;l<e.count;l++){const c=e.elt(l);if(c===null||c.change!==2||!c.object)continue;let h=n.get(c.object);h||(h=new _,n.set(c.object,h));const f=h.get(c.propertyName);f===null?h.set(c.propertyName,-1):(f>0&&e.setElt(f,null),h.set(c.propertyName,l))}let o=0;for(let l=0;l<e.count;l++){const c=e.elt(l);c!==null&&(l>o&&e.setElt(o,c),o++)}for(;e.length>o;)e.pop();e.u()}get changes(){return this.zC}get name(){return this.Pt}set name(e){this.Pt=e}get isComplete(){return this.$k}set isComplete(e){this.$k=e}}class xe{Dw;Oi;XC;Os;Zk;hm;Vn;Qk;_k;sn;dc;Fw;Is;Rw;vw;am;Ow;constructor(e){this.Dw=new b,this.Oi=!1,this.XC=new m().u(),this.Os=-1,this.Zk=999,this.Is=!1,this.hm=null,this.Vn=0,this.Qk=!1,this._k=23,this.sn=new m().u(),this.dc=new m,this.Fw=!0,this.Rw=!1,this.vw=!1,this.am=!1,this.Ow=!1,e&&Object.assign(this,e)}toString(e){let n="UndoManager "+this.historyIndex+"<"+this.history.count+"<="+this.maxHistoryLength;n+="[";let o=this.nestedTransactionNames.count;for(let l=0;l<o;l++)l>0&&(n+=" "),n+=this.nestedTransactionNames.elt(l);if(n+="]",e!==void 0&&e>0){o=this.history.count;for(let l=0;l<o;l++)n+=`
 `+this.history.elt(l).toString(e-1)}return n}clear(){const e=this.history;e.Nt();for(let n=e.count-1;n>=0;n--){const o=e.elt(n);o!==null&&o.clear()}e.clear(),this.Os=-1,e.u(),this.Is=!1,this.hm=null,this.Vn=0,this.sn.Nt(),this.sn.clear(),this.sn.u(),this.dc.clear(),this.Rw=!1,this.vw=!1,this.am=!1,this.Ow=!1}copyProperties(e){this.isEnabled=e.isEnabled,this.maxHistoryLength=e.maxHistoryLength,this.cm=e.cm}addModel(e){this.Dw.add(e)}removeModel(e){this.Dw.delete(e)}startTransaction(e){if(e===void 0&&(e=""),e===null&&(e=""),this.isUndoingRedoing)return!1;this.Fw===!0&&(this.Fw=!1,this.Vn++,this.wl||this.xl("StartingFirstTransaction",e,this.currentTransaction),this.Vn>0&&this.Vn--),this.isEnabled&&(this.sn.Nt(),this.sn.add(e),this.sn.u(),this.currentTransaction===null?this.dc.add(0):this.dc.add(this.currentTransaction.changes.count)),this.Vn++;const n=this.transactionLevel===1;return n&&(this.wl||this.xl("StartedTransaction",e,this.currentTransaction)),n}commitTransaction(e){return e===void 0&&(e=""),this.YC(!0,e)}rollbackTransaction(){return this.YC(!1,"")}YC(e,n){if(this.isUndoingRedoing)return!1;this.cm&&this.transactionLevel<1&&t.ni("Ending transaction without having started a transaction: "+n);const o=this.transactionLevel===1;let l=this.currentTransaction;o&&e&&(this.wl||this.xl("CommittingTransaction",n,l));let c=0;if(this.transactionLevel>0&&(this.Vn--,this.isEnabled)){const h=this.sn.count;h>0&&(n===""&&(n=this.sn.elt(0)),this.sn.Nt(),this.sn.removeAt(h-1),this.sn.u());const f=this.dc.count;f>0&&(c=this.dc.elt(f-1),this.dc.removeAt(f-1))}if(o){if(e){if(this.am=!1,l===null&&n!==""&&(l=this.currentTransaction),this.isEnabled&&l!==null){const h=l;h.isComplete||(h.isComplete=!0,h.name=n),this.discardHistoryAfterIndex();const f=this.history;f.Nt();const g=this.maxHistoryLength;if(g>=0){if(g===0)f.clear();else if(f.count>=g){const v=f.elt(0);v!==null&&v.clear(),f.removeAt(0),this.Os--}}g!==0&&(f.count===0||f.get(f.count-1)!==h)&&(f.add(h),this.Os++),f.u(),l=h}this.wl||this.xl("CommittedTransaction",n,l)}else{this.Is=!0;try{this.isEnabled&&l!==null&&(l.isComplete=!0,l.undo())}finally{this.wl||this.xl("RolledBackTransaction",n,l),this.Is=!1}l!==null&&l.clear()}return this.hm=null,this.Iw&&this.clear(),this.Iw=!1,this.Ew=!1,!0}else return this.isEnabled&&!e&&l!==null&&l.uF(c),!1}discardHistoryAfterIndex(){if(this.isUndoingRedoing||!this.canRedo())return;const e=this.history;e.Nt();for(let n=e.count-1;n>this.historyIndex;n--){const o=e.elt(n);o!==null&&o.clear(),e.removeAt(n),this.am=!0}e.u()}SE(e){this.Vn+=e,this.Vn<0&&(this.Vn=0)}canUndo(){if(!this.isEnabled||this.transactionLevel>0)return!1;const e=this.transactionToUndo;return!!(e!==null&&e.canUndo())}undo(){if(!this.canUndo())return;const e=this.transactionToUndo;try{this.Is=!0,this.xl("StartingUndo","Undo",e),this.Os--,e.undo()}catch(n){t.ni("undo error: "+n.toString())}finally{this.xl("FinishedUndo","Undo",e),this.Is=!1}}canRedo(){if(!this.isEnabled||this.transactionLevel>0)return!1;const e=this.transactionToRedo;return!!(e!==null&&e.canRedo())}redo(){if(!this.canRedo())return;const e=this.transactionToRedo;try{this.Is=!0,this.xl("StartingRedo","Redo",e),this.Os++,e.redo()}catch(n){t.ni("redo error: "+n.toString())}finally{this.xl("FinishedRedo","Redo",e),this.Is=!1}}xl(e,n,o){o===void 0&&(o=null);const l=new pe;l.change=1,l.propertyName=e,l.object=o,l.oldValue=n;const c=this.models;for(;c.next();){const h=c.value;l.model=h,h.dF(l)}}handleChanged(e){if(this.isEnabled&&!this.isUndoingRedoing&&!this.skipsEvent(e)){let n=this.currentTransaction;n===null&&(n=new de,this.hm=n);const o=e.copy(),l=n.changes;if(l.Nt(),l.add(o),l.u(),this.cm&&this._k>0&&this.transactionLevel<=0&&!this.Fw){const c=e.diagram;if(c!==null&&c.Vh===!1)return;t.ni("Change not within a transaction: "+o.toString()),this._k--}}}skipsEvent(e){if(e===null||e.change===1)return!0;const n=e.object;if(n===null)return!1;if(n.layer!==void 0){const o=n.layer;if(o!==null&&o.isTemporary)return!0}else if(n.isTemporary)return!0;return!1}get models(){return this.Dw.iterator}get isEnabled(){return this.Oi}set isEnabled(e){this.Oi=e}get transactionToUndo(){return this.historyIndex>=0&&this.historyIndex<=this.history.count-1?this.history.elt(this.historyIndex):null}get transactionToRedo(){return this.historyIndex<this.history.count-1?this.history.elt(this.historyIndex+1):null}get isUndoingRedoing(){return this.Is}get history(){return this.XC}get maxHistoryLength(){return this.Zk}set maxHistoryLength(e){this.Zk=e}get historyIndex(){return this.Os}get currentTransaction(){return this.hm}get transactionLevel(){return this.Vn}get isInTransaction(){return this.Vn>0}get cm(){return this.Qk}set cm(e){this.Qk=e}get nestedTransactionNames(){return this.sn}get Iw(){return this.Rw}set Iw(e){this.Rw=e}get Ew(){return this.vw}set Ew(e){this.vw=e}get wl(){return this.Ow}set wl(e){this.Ow=e}get isJustDiscarded(){return this.am}}class Se{N;Pt;Oi;tP;iP;fm;GC;constructor(){b.Ki(this),this.N=Te.um(),this.Pt="",this.Oi=!0,this.tP=!1,this.iP=null,this.GC=new ue,this.fm=-1}get diagram(){return this.N}set diagram(e){e instanceof Te&&(this.N=e)}toString(){return this.name!==""?this.name+" Tool":t.Dn(this.constructor)}updateAdornments(e){}canStart(){return this.isEnabled}doStart(){}doActivate(){this.isActive=!0}doDeactivate(){this.isActive=!1}doStop(){}doCancel(){this.transactionResult=null,this.stopTool()}stopTool(){const e=this.diagram;e.currentTool===this&&(e.currentTool=null,e.currentCursor="")}doMouseDown(){!this.isActive&&this.canStart()&&this.doActivate()}doMouseMove(){}doMouseUp(){this.stopTool()}doMouseWheel(){}canStartMultiTouch(){return!0}standardPinchZoomStart(){const e=this.diagram,n=e.lastInput,o=n.getMultiTouchViewPoint(0,T.V(NaN,NaN)),l=n.getMultiTouchViewPoint(1,T.V(NaN,NaN));if(!o.isReal()||!l.isReal()){T.e(o),T.e(l);return}if(this.doCancel(),e.getInputOption("hasGestureZoom")){e.eP=e.scale;const c=l.x-o.x,h=l.y-o.y,f=Math.sqrt(c*c+h*h);e.sP=f,n.bubbles=!1}T.e(o),T.e(l)}standardPinchZoomMove(){const e=this.diagram,n=e.lastInput,o=n.getMultiTouchViewPoint(0,T.V(NaN,NaN)),l=n.getMultiTouchViewPoint(1,T.V(NaN,NaN));if(!o.isReal()||!l.isReal()){T.e(o),T.e(l);return}if(this.doCancel(),e.getInputOption("hasGestureZoom")){const c=l.x-o.x,h=l.y-o.y,f=Math.sqrt(c*c+h*h)/e.sP,g=new T((Math.min(l.x,o.x)+Math.max(l.x,o.x))/2,(Math.min(l.y,o.y)+Math.max(l.y,o.y))/2),v=e.eP*f,w=e.commandHandler;if(v!==e.scale&&w.canResetZoom(v)){const k=e.zoomPoint;e.zoomPoint=g,w.resetZoom(v),e.zoomPoint=k}n.bubbles=!1}T.e(o),T.e(l)}doKeyDown(){this.diagram.lastInput.code==="Escape"&&this.doCancel()}doKeyUp(){}startTransaction(e){return e===void 0&&(e=this.name),this.transactionResult=null,this.diagram.startTransaction(e)}stopTransaction(){const e=this.diagram;return this.transactionResult===null?e.rollbackTransaction():e.commitTransaction(this.transactionResult)}standardMouseSelect(){const e=this.diagram;if(!e.allowSelect)return;const n=e.lastInput,o=e.findPartAt(n.documentPoint,!1);if(o!==null){if(t.tr?n.meta:n.control){e.D("ChangingSelection",e.selection);let l=o;for(;l!==null&&!l.canSelect();)l=l.containingGroup;l!==null&&(l.isSelected=!l.isSelected),e.D("ChangedSelection",e.selection)}else if(n.shift){if(!o.isSelected){e.D("ChangingSelection",e.selection);let l=o;for(;l!==null&&!l.canSelect();)l=l.containingGroup;l!==null&&(l.isSelected=!0),e.D("ChangedSelection",e.selection)}}else if(!o.isSelected){let l=o;for(;l!==null&&!l.canSelect();)l=l.containingGroup;l!==null&&e.select(l)}}else n.left&&!(t.tr?n.meta:n.control)&&!n.shift&&e.clearSelection()}standardMouseClick(e,n){e===void 0&&(e=null),n===void 0&&(n=h=>!h.layer?.isTemporary);const o=this.diagram,l=o.lastInput,c=o.findObjectAt(l.documentPoint,e,n);return l.targetObject=c,this.gF(c,l,o),l.handled}gF(e,n,o){if(n.handled=!1,e!==null&&!e.isEnabledObject())return;let l=0;n.left?n.clickCount===1?l=1:n.clickCount===2?l=2:l=1:n.right&&n.clickCount===1&&(l=3);let c="ObjectSingleClicked";if(e!==null){switch(l){case 1:c="ObjectSingleClicked";break;case 2:c="ObjectDoubleClicked";break;case 3:c="ObjectContextClicked";break}l!==0&&o.D(c,e)}else{switch(l){case 1:c="BackgroundSingleClicked";break;case 2:c="BackgroundDoubleClicked";break;case 3:c="BackgroundContextClicked";break}l!==0&&o.D(c)}if(e!==null)for(;e!==null;){let h=null;switch(l){case 1:h=e.click;break;case 2:h=e.doubleClick?e.doubleClick:e.click;break;case 3:h=e.contextClick;break}if(h!==null&&(h(n,e),n.handled))break;e=e.panel}else{let h=null;switch(l){case 1:h=o.click;break;case 2:h=o.doubleClick?o.doubleClick:o.click;break;case 3:h=o.contextClick;break}h!==null&&h(n)}}standardMouseOver(){const e=this.diagram,n=e.lastInput;if(e.animationManager.pi===!0)return;const o=e.skipsUndoManager;e.skipsUndoManager=!0;let l=e.viewportBounds.containsPoint(n.documentPoint)?e.findObjectAt(n.documentPoint,null,null):null;n.event&&(n.event.type==="pointercancel"||n.event.type==="pointerout")&&(l=null),n.targetObject=l;let c=!1;if(l!==e.gc){let h=e.gc;const f=h;for(e.gc=l,this.doCurrentObjectChanged(h,l),n.handled=!1;h!==null;){const g=h.mouseLeave;if(g!==null&&(l===h||l!==null&&l.isContainedBy(h)||(g(n,h,l),c=!0,n.handled)))break;h=h.panel}for(h=f,n.handled=!1;l!==null;){const g=l.mouseEnter;if(g!==null&&(h===l||h!==null&&h.isContainedBy(l)||(g(n,l,h),c=!0,n.handled)))break;l=l.panel}l=e.gc}if(l!==null){let h=l,f="";for(;h!==null&&(f=h.cursor,f==="");)h=h.panel;for(e.currentCursor=f,n.handled=!1,h=l;h!==null;){const g=h.mouseOver;if(g!==null&&(g(n,h),c=!0,n.handled))break;h=h.panel}}else{this.doUpdateCursor(null);const h=e.mouseOver;h!==null&&(h(n),c=!0)}c&&e.requestUpdate(),e.skipsUndoManager=o}doUpdateCursor(e){const n=this.diagram;n&&(n.currentCursor="")}doCurrentObjectChanged(e,n){}standardMouseWheel(){const e=this.diagram,n=e.lastInput;let o=n.delta;if(o===0||!e.documentBounds.isReal())return;const l=e.commandHandler,c=e.toolManager.mouseWheelBehavior;if(l!==null&&(c===2&&!n.shift||c===1&&n.control)){if(o>0?l.canIncreaseZoom():l.canDecreaseZoom()){const h=e.zoomPoint;e.zoomPoint=n.viewPoint,o>0?l.increaseZoom():l.decreaseZoom(),e.zoomPoint=h}n.bubbles=!1}else if(c===2&&n.shift||c===1&&!n.control){const h=e.position.copy(),f=n.event,g=f.deltaMode;let v=f.deltaX,w=f.deltaY,k="pixel";if((v!==0||w!==0)&&!n.shift){switch(g){case 0:k="pixel";break;case 1:k="line";break;case 2:k="page";break}if(v!==0&&e.allowHorizontalScroll){const P=e.scrollHorizontalLineChange;v=v*(P/16),e.scroll(k,v>0?"right":"left",Math.abs(v))}if(w!==0&&e.allowVerticalScroll){const P=e.scrollVerticalLineChange;w=w*(P/16),e.scroll(k,w>0?"down":"up",Math.abs(w))}}else!n.shift&&e.allowVerticalScroll?(o=o*3*e.scrollVerticalLineChange,e.scroll(k,o>0?"up":"down",Math.abs(o))):n.shift&&e.allowHorizontalScroll&&(o=o*3*e.scrollHorizontalLineChange,e.scroll(k,o>0?"left":"right",Math.abs(o)));this.doWheelChange(e,h,n)}}doWheelChange(e,n,o){(!e.position.equals(n)||o.event.wheelDeltaX!==0)&&(o.bubbles=!1)}standardWaitAfter(e,n){n===void 0&&(n=this.diagram.lastInput),this.cancelWaitAfter();const o=this,l=n.clone(this.GC);this.fm=t.ir(()=>o.doWaitAfter(l),e)}cancelWaitAfter(){this.fm!==-1&&t.Tg(this.fm),this.fm=-1}doWaitAfter(e){}findToolHandleAt(e,n){const o=this.diagram.findObjectAt(e,l=>{for(;l!==null&&!(l.panel instanceof gn);)l=l.panel;return l});return o===null?null:o.part.category===n?o:null}isBeyondDragSize(e,n){const o=this.diagram;e===void 0&&(e=o.firstInput.viewPoint),n===void 0&&(n=o.lastInput.viewPoint);const l=o.toolManager.dragSize;let c=l.width,h=l.height;return o.firstInput.isTouchEvent&&(c+=6,h+=6),Math.abs(n.x-e.x)>c||Math.abs(n.y-e.y)>h}get name(){return this.Pt}set name(e){this.Pt=e}get isEnabled(){return this.Oi}set isEnabled(e){this.Oi=e}get isActive(){return this.tP}set isActive(e){this.tP=e}get transactionResult(){return this.iP}set transactionResult(e){this.iP=e}}var be=(G=>(G[G.Scroll=1]="Scroll",G[G.Zoom=2]="Zoom",G[G.None=3]="None",G))(be||{}),Ne=(G=>(G[G.Zoom=1]="Zoom",G[G.Cancel=2]="Cancel",G[G.None=3]="None",G))(Ne||{});class _e extends Se{KC;jC;HC;nP;oP;rP;lP;hP;aP;cP;dm;zh;constructor(e){super(),this.name="ToolManager",this.KC=new m,this.jC=new m,this.HC=new m,this.nP=850,this.oP=850,this.rP=new B(2,2).$(),this.lP=5e3,this.hP=1,this.aP=1,this.cP=null,this.dm=null,this.zh=-1,e&&Object.assign(this,e)}static WheelScroll=1;static WheelZoom=2;static WheelNone=3;static GestureZoom=1;static GestureCancel=2;static GestureNone=3;get mouseWheelBehavior(){return this.hP}set mouseWheelBehavior(e){this.hP=e}get gestureBehavior(){return this.aP}set gestureBehavior(e){this.aP=e}initializeStandardTools(){}updateAdornments(e){const n=this.currentToolTip;if(n instanceof gn&&this.dm===e){const o=n.adornedObject;(e!==null?o!==null&&o.part===e:o===null)?this.showToolTip(n,o):this.hideToolTip()}}doMouseDown(){const e=this.diagram,n=e.lastInput;if(n.isTouchEvent&&this.gestureBehavior===2&&(n.bubbles=!1),n.isMultiTouch){if(this.cancelWaitAfter(),this.gestureBehavior===3){n.bubbles=!0;return}if(this.gestureBehavior===2)return;if(e.currentTool.canStartMultiTouch()){e.currentTool.standardPinchZoomStart();return}}e.undoManager;const o=this.mouseDownTools.length;for(let l=0;l<o;l++){const c=this.mouseDownTools.elt(l);if(c.diagram=this.diagram,c.canStart()){e.doFocus(),e.currentTool=c,e.currentTool===c&&(c.isActive||c.doActivate(),c.doMouseDown());return}}e.lastInput.button===1&&(this.mouseWheelBehavior===1?this.mouseWheelBehavior=2:this.mouseWheelBehavior===2&&(this.mouseWheelBehavior=1)),this.doActivate(),this.standardWaitAfter(this.holdDelay,n)}doMouseMove(){const e=this.diagram,n=e.lastInput;if(n.isMultiTouch){if(this.gestureBehavior===3){n.bubbles=!0;return}if(this.gestureBehavior===2)return;if(e.currentTool.canStartMultiTouch()){e.currentTool.standardPinchZoomMove();return}}if(this.isActive){const l=this.mouseMoveTools.length;for(let c=0;c<l;c++){const h=this.mouseMoveTools.elt(c);if(h.diagram=this.diagram,h.canStart()){e.doFocus(),e.currentTool=h,e.currentTool===h&&(h.isActive||h.doActivate(),h.doMouseMove());return}}}this.standardMouseActivity(e);const o=n.event;o!==null&&(o.type==="pointermove"||!o.cancelable)&&(n.bubbles=!0)}standardMouseActivity(e){this.standardMouseOver(),this.isBeyondDragSize()&&this.standardWaitAfter(this.isActive?this.holdDelay:this.hoverDelay,e.lastInput)}doCurrentObjectChanged(e,n){const o=this.currentToolTip;o!==null&&(n!==null&&o instanceof gn&&(n===o||n.isContainedBy(o))||this.hideToolTip())}doWaitAfter(e){const n=this.diagram;if(n.mF()&&(this.doMouseHover(),this.isActive||this.doToolTip(),e.isTouchEvent&&!n.lastInput.handled)){const o=e.copy();o.button=2,n.lastInput=o,n.Uw=!0,n.doMouseUp();return}}doMouseHover(){const e=this.diagram,n=e.lastInput;n.targetObject===null&&(n.targetObject=e.findObjectAt(n.documentPoint,null,null));let o=n.targetObject;if(o!==null)for(n.handled=!1;o!==null;){const l=this.isActive?o.mouseHold:o.mouseHover;if(l!==null&&(l(n,o),n.handled))break;o=o.panel}else{const l=this.isActive?e.mouseHold:e.mouseHover;l!==null&&l(n)}}doToolTip(){const e=this.diagram,n=e.lastInput;n.targetObject===null&&(n.targetObject=e.findObjectAt(n.documentPoint,null,null));let o=n.targetObject;if(o!==null){const l=this.currentToolTip;if(l instanceof gn&&(o===l||o.isContainedBy(l)))return;for(;o!==null;){const c=o.toolTip;if(c!==null){this.showToolTip(c,o);return}o=o.panel}this.hideToolTip()}else{const l=e.toolTip;l!==null?this.showToolTip(l,null):this.hideToolTip()}}showToolTip(e,n){const o=this.diagram;if(e!==this.currentToolTip&&this.hideToolTip(),e instanceof gn){e.layerName="Tool",e.selectable=!1,e.scale=1/o.scale,e.category="ToolTip",e.hasPlaceholder()&&(e.placeholder.scale=o.scale);const c=e.diagram;c!==null&&c!==o&&c.remove(e),o.add(e),n!==null?e.adornedObject=n:e.data=o.model,e.ensureBounds(),this.positionToolTip(e,n)}else e instanceof Ct&&e!==this.currentToolTip&&e.show!==null&&e.show(n,o,this);this.currentToolTip=e,this.zh!==-1&&(t.Tg(this.zh),this.zh=-1);const l=this.toolTipDuration;if(l>0&&l!==1/0){const c=this;this.zh=t.ir(()=>c.hideToolTip(),l)}}positionToolTip(e,n){if(e.hasPlaceholder())return;const o=e,l=this.diagram,c=l.lastInput.documentPoint.copy(),h=o.measuredBounds,f=l.viewportBounds;l.lastInput.isTouchEvent&&(c.x-=h.width),c.x+h.width>f.right&&(c.x-=h.width+5/l.scale),c.x<f.x&&(c.x=f.x),c.y+20/l.scale+h.height>f.bottom?c.y-=h.height+5/l.scale:c.y+=20/l.scale,c.y<f.y&&(c.y=f.y),o.position=c}hideToolTip(){this.zh!==-1&&(t.Tg(this.zh),this.zh=-1);const e=this.diagram,n=this.currentToolTip;n!==null&&(n instanceof gn?(e.remove(n),this.dm!==null&&this.dm.removeAdornment(n.category),n.data=null,n.adornedObject=null):n instanceof Ct&&n.hide!==null&&n.hide(e,this),this.currentToolTip=null)}get currentToolTip(){return this.cP}set currentToolTip(e){this.cP=e,this.dm=e!==null&&e instanceof gn?e.adornedPart:null}doMouseUp(){this.cancelWaitAfter();const e=this.diagram;if(this.isActive){const n=this.mouseUpTools.length;for(let o=0;o<n;o++){const l=this.mouseUpTools.elt(o);if(l.diagram=this.diagram,l.canStart()){e.doFocus(),e.currentTool=l,e.currentTool===l&&(l.isActive||l.doActivate(),l.doMouseUp());return}}}e.doFocus(),this.doDeactivate()}doMouseWheel(){this.standardMouseWheel()}doKeyDown(){const e=this.diagram;e.commandHandler!==null&&e.commandHandler.doKeyDown()}doKeyUp(){const e=this.diagram;e.commandHandler!==null&&e.commandHandler.doKeyUp()}findTool(e){let n=this.mouseDownTools.length;for(let o=0;o<n;o++){const l=this.mouseDownTools.elt(o);if(l.name===e)return l}n=this.mouseMoveTools.length;for(let o=0;o<n;o++){const l=this.mouseMoveTools.elt(o);if(l.name===e)return l}n=this.mouseUpTools.length;for(let o=0;o<n;o++){const l=this.mouseUpTools.elt(o);if(l.name===e)return l}return null}replaceTool(e,n){n!==null&&(n.diagram=this.diagram);let o=this.mouseDownTools.length;for(let l=0;l<o;l++){const c=this.mouseDownTools.elt(l);if(c.name===e)return n!==null?this.mouseDownTools.setElt(l,n):this.mouseDownTools.removeAt(l),c}o=this.mouseMoveTools.length;for(let l=0;l<o;l++){const c=this.mouseMoveTools.elt(l);if(c.name===e)return n!==null?this.mouseMoveTools.setElt(l,n):this.mouseMoveTools.removeAt(l),c}o=this.mouseUpTools.length;for(let l=0;l<o;l++){const c=this.mouseUpTools.elt(l);if(c.name===e)return n!==null?this.mouseUpTools.setElt(l,n):this.mouseUpTools.removeAt(l),c}return null}replaceStandardTool(e,n,o){this.Jt(e,n,o)}Jt(e,n,o){n!==null&&(n.name=e,n.diagram=this.diagram),this.findTool(e)?this.replaceTool(e,n):n!==null&&o.add(n)}get mouseDownTools(){return this.KC}get mouseMoveTools(){return this.jC}get mouseUpTools(){return this.HC}get hoverDelay(){return this.nP}set hoverDelay(e){this.nP=e}get holdDelay(){return this.oP}set holdDelay(e){this.oP=e}get dragSize(){return this.rP}set dragSize(e){this.rP=e.P()}get toolTipDuration(){return this.lP}set toolTipDuration(e){this.lP=e}get actionTool(){return this.findTool("Action")}set actionTool(e){this.Jt("Action",e,this.mouseDownTools)}get relinkingTool(){return this.findTool("Relinking")}set relinkingTool(e){this.Jt("Relinking",e,this.mouseDownTools)}get linkReshapingTool(){return this.findTool("LinkReshaping")}set linkReshapingTool(e){this.Jt("LinkReshaping",e,this.mouseDownTools)}get resizingTool(){return this.findTool("Resizing")}set resizingTool(e){this.Jt("Resizing",e,this.mouseDownTools)}get rotatingTool(){return this.findTool("Rotating")}set rotatingTool(e){this.Jt("Rotating",e,this.mouseDownTools)}get linkingTool(){return this.findTool("Linking")}set linkingTool(e){this.Jt("Linking",e,this.mouseMoveTools)}get draggingTool(){return this.findTool("Dragging")}set draggingTool(e){this.Jt("Dragging",e,this.mouseMoveTools)}get dragSelectingTool(){return this.findTool("DragSelecting")}set dragSelectingTool(e){this.Jt("DragSelecting",e,this.mouseMoveTools)}get panningTool(){return this.findTool("Panning")}set panningTool(e){this.Jt("Panning",e,this.mouseMoveTools)}get contextMenuTool(){return this.findTool("ContextMenu")}set contextMenuTool(e){this.Jt("ContextMenu",e,this.mouseUpTools)}get textEditingTool(){return this.findTool("TextEditing")}set textEditingTool(e){this.Jt("TextEditing",e,this.mouseUpTools)}get clickCreatingTool(){return this.findTool("ClickCreating")}set clickCreatingTool(e){this.Jt("ClickCreating",e,this.mouseUpTools)}get clickSelectingTool(){return this.findTool("ClickSelecting")}set clickSelectingTool(e){this.Jt("ClickSelecting",e,this.mouseUpTools)}}class Me extends Se{fP;uP;nn;dP;gP;mP;pP;mc;gm;yP;Xh;cr;qC;wP;fu;uu;xP;bP;kP;PP;constructor(e){super(),this.name="Dragging",this.fP=!0,this.PP=!0,this.uP=!0,this.nn=null,this.dP=null,this.gP=null,this.mP=null,this.pP=!1,this.fu=!1,this.mc=new T(NaN,NaN),this.gm=new T,this.yP=!0,this.Xh=100,this.cr=[],this.qC=new b().u(),this.wP=new Si,this.uu=null,this.xP="copy",this.bP="",this.kP="no-drop",e&&Object.assign(this,e)}get isCopyEnabled(){return this.fP}set isCopyEnabled(e){this.fP=e}get copiesEffectiveCollection(){return this.uP}set copiesEffectiveCollection(e){this.uP=e}get dragOptions(){return this.wP}set dragOptions(e){this.wP=e}get isGridSnapEnabled(){return this.dragOptions.isGridSnapEnabled}set isGridSnapEnabled(e){this.dragOptions.isGridSnapEnabled=e}get isComplexRoutingRealtime(){return this.yP}set isComplexRoutingRealtime(e){this.yP=e;const n=this.diagram.findRouter("AvoidsLinks");n!==null&&(n.isRealtime=e)}get isGridSnapRealtime(){return this.dragOptions.isGridSnapRealtime}set isGridSnapRealtime(e){this.dragOptions.isGridSnapRealtime=e}get gridSnapCellSize(){return this.dragOptions.gridSnapCellSize}set gridSnapCellSize(e){this.dragOptions.gridSnapCellSize.equals(e)||(e=e.P(),this.dragOptions.gridSnapCellSize=e)}get gridSnapCellSpot(){return this.dragOptions.gridSnapCellSpot}set gridSnapCellSpot(e){this.dragOptions.gridSnapCellSpot.equals(e)||(e=e.P(),this.dragOptions.gridSnapCellSpot=e)}get gridSnapOrigin(){return this.dragOptions.gridSnapOrigin}set gridSnapOrigin(e){this.dragOptions.gridSnapOrigin.equals(e)||(e=e.P(),this.dragOptions.gridSnapOrigin=e)}get dragsLink(){return this.dragOptions.dragsLink}set dragsLink(e){this.dragOptions.dragsLink=e}get dragsTree(){return this.dragOptions.dragsTree}set dragsTree(e){this.dragOptions.dragsTree=e}get copyCursor(){return this.xP}set copyCursor(e){this.xP=e}get moveCursor(){return this.bP}set moveCursor(e){this.bP=e}get nodropCursor(){return this.kP}set nodropCursor(e){this.kP=e}get currentPart(){return this.dP}set currentPart(e){this.dP=e}get copiedParts(){return this.mP}set copiedParts(e){this.mP=e}get draggedParts(){return this.gP}set draggedParts(e){this.gP=e}get draggingParts(){return this.copiedParts!==null?this.copiedParts.toKeySet():this.draggedParts!==null?this.draggedParts.toKeySet():this.qC}get draggedLink(){return this.diagram.draggedLink}set draggedLink(e){this.diagram.draggedLink=e}get isDragOutStarted(){return this.pP}set isDragOutStarted(e){this.pP=e}get startPoint(){return this.gm}set startPoint(e){this.gm.equals(e)||this.gm.a(e)}get delay(){return this.Xh}set delay(e){this.Xh=e}canStart(){if(!this.isEnabled)return!1;const e=this.diagram;if(e===null||e.isReadOnly&&!e.allowDragOut||!e.allowMove&&!e.allowCopy&&!e.allowDragOut||!e.allowSelect)return!1;const n=e.lastInput;return!n.left||e.currentTool!==this&&(!this.isBeyondDragSize()||n.isTouchEvent&&n.timestamp-e.firstInput.timestamp<this.Xh)?!1:this.findDraggablePart()!==null}findDraggablePart(){const e=this.diagram;let n=e.findPartAt(e.firstInput.documentPoint,!1);if(n===null)return null;for(;n!==null&&!n.canSelect();)n=n.containingGroup;return n!==null&&(n.canMove()||n.canCopy())?n:null}standardMouseSelect(){const e=this.diagram;if(!e.allowSelect)return;let n=e.findPartAt(e.firstInput.documentPoint,!1);if(n!==null){for(;n!==null&&!n.canSelect();)n=n.containingGroup;if(this.currentPart=n,this.currentPart!==null&&!this.currentPart.isSelected){e.D("ChangingSelection",e.selection);const o=e.lastInput;!(t.tr?o.meta:o.control)&&!o.shift&&e.clearSelection(!0),this.currentPart.isSelected=!0,e.D("ChangedSelection",e.selection)}}}doActivate(){const e=this.diagram;this.uu=null,this.currentPart===null&&this.standardMouseSelect();const n=this.currentPart;if(n===null||!n.canMove()&&!n.canCopy())return;e.cacheGroupExternalLinks(!0),Me.dt=null,this.isActive=!0,this.mc.set(e.position),this.SP(e.selection),this.cr.length=0,e.animationManager.stopAnimation();const o=this.computeEffectiveCollection(e.selection,this.dragOptions);this.draggedParts=o,this.PP=!!this.diagram.layout.isRealtime,this.diagram.layout.isRealtime=!1,e.du=!0,e.getRenderingHint("temporaryPixelRatio")===!0&&e.avgSpf>30&&e.Bw(),e.WC(this.draggedParts),e.gu=!0,this.startTransaction("Drag"),this.startPoint=e.firstInput.documentPoint,e.isMouseCaptured=!0,e.allowDragOut&&this.pF()}SP(e){if(!this.dragsLink)return;const n=this.diagram,o=n.model.mm(),l=e.first();o&&e.count===1&&l instanceof vt&&this.mayDragLink(l)?(this.draggedLink=l,this.draggedLink.canRelinkFrom()&&this.draggedLink.canRelinkTo()&&this.draggedLink.clearAdornments(),this.nn=n.toolManager.findTool("Relinking"),this.nn===null&&(this.nn=new Ue,this.nn.diagram=n),this.nn.originalLink=this.draggedLink):(this.draggedLink=null,this.nn=null)}mayDragLink(e){const n=this.diagram;return n!==null&&n.allowRelink}computeEffectiveCollection(e,n){return this.diagram.commandHandler.computeEffectiveCollection(e,n)}Es(e){return e===void 0?new Dn(T.xo):this.isGridSnapEnabled?new Dn(new T(Math.round(e.x*1e3)/1e3,Math.round(e.y*1e3)/1e3)):new Dn(e.copy())}doDeactivate(){this.isActive=!1;const e=this.diagram;this.diagram.layout.isRealtime=this.PP,e.gu=!1,e.bl=!0,e.cacheGroupExternalLinks(!1),e.stopAutoScroll(),this.MP(),e.NP(this.draggedParts),this.uu=null,this.currentPart=null,this.draggedParts=null,this.isDragOutStarted=!1,this.fu=!1,Me.yF(),this.JC(),this.mc.i(NaN,NaN),Me.Yh!==null&&(Me.Yh.currentCursor=""),Me.Yh=null,Me.dt=null,this.kl(),e.isMouseCaptured=!1,e.currentCursor="",e.du=!1,this.stopTransaction(),e.CP(!0)}stopTransaction(){const e=this.diagram,n=super.stopTransaction();return n&&e.undoManager.transactionToUndo!==null&&e.undoManager.transactionToUndo.optimize(),n}MP(){const e=this.diagram,n=e.skipsUndoManager;e.skipsUndoManager=!0;const o=e.lastInput;this.$C(o,null),e.skipsUndoManager=n,this.cr.length=0}ZC(){this.kl(),this.LP();const e=this.diagram;this.mc.isReal()&&(e.position=this.mc),e.stopAutoScroll()}doCancel(){this.kl(),this.LP();const e=this.diagram;this.mc.isReal()&&(e.position=this.mc),this.stopTool()}doKeyDown(){const e=this.diagram;if(!this.isActive)return;const n=e.lastInput,o=e.previousInput;n.code==="Escape"?this.doCancel():(n.code!==o.code||n.modifiers!==o.modifiers)&&this.doMouseMove()}doKeyUp(){this.isActive&&this.doMouseMove()}wF(e,n){let o=1/0,l=1/0,c=-1/0,h=-1/0;const f=e.iterator;for(;f.next();){const g=f.value;if(!g.isVisible())continue;const v=g.location,w=v.x,k=v.y;isNaN(w)||isNaN(k)||(w<o&&(o=w),k<l&&(l=k),w>c&&(c=w),k>h&&(h=k))}return o===1/0?n.i(0,0,0,0):n.i(o,l,c-o,h-l),n}AP(e){if(this.copiedParts!==null)return;const n=this.diagram;if(e&&(n.isReadOnly||n.isModelReadOnly)||this.draggedParts===null)return;const o=n.undoManager;o.isEnabled&&o.isInTransaction?o.currentTransaction!==null&&o.currentTransaction.changes.count>0&&(n.undoManager.rollbackTransaction(),n.startTransaction("Drag")):this.LP(),n.skipsUndoManager=!e,n.partManager.addsToTemporaryLayer=!e,this.startPoint=n.firstInput.documentPoint;const l=this.copiesEffectiveCollection?this.draggedParts.toKeySet():n.selection,c=n.copyParts(l,n,!0),h=new _,f=this.draggedParts.iterator;for(;f.next();){const v=f.key;if(v.ke()&&v.canCopy()){const w=c.get(v);if(w===null)continue;w.location=v.location,w.ensureBounds(),h.set(w,this.Es(w.location))}}const g=c.iterator;for(;g.next();){const v=g.value;v instanceof vt&&v.canCopy()&&h.set(v,this.Es())}if(this.copiedParts=h,this.SP(h.toKeySet()),this.draggedLink!==null){const v=this.draggedLink,w=v.routeBounds;v.fr(this.startPoint.x-(w.x+w.width/2),this.startPoint.y-(w.y+w.height/2))}this.doUpdateCursor(null)}kl(){const e=this.diagram;if(this.copiedParts!==null){if(e.removeParts(this.copiedParts.toKeySet(),!1),this.copiedParts=null,this.draggedParts!==null){const n=this.draggedParts.iterator;for(;n.next();)if(n.key instanceof vt){const o=n.value;o.point=new T(0,0)}}this.doUpdateCursor(null)}e.skipsUndoManager=!1,e.partManager.addsToTemporaryLayer=!1,this.startPoint=e.firstInput.documentPoint}JC(){this.draggedLink!==null&&(this.dragsLink&&this.nn!==null&&(this.nn.stopDraggingMouseMove(),this.nn.originalLink=null),this.draggedLink=null,this.nn=null)}pc(e,n){if(e===null)return;const o=this.diagram,l=this.startPoint,c=T.l();c.a(o.lastInput.documentPoint),this.moveParts(e,c.subtract(l),n),T.e(c),o.getRenderingHint("temporaryPixelRatio")===!0&&o.Pl===null&&o.avgSpf>30&&(o.Bw(),o.mu())}moveParts(e,n,o){o===void 0&&(o=!1);const l=this.diagram;l!==null&&l.TP(e,n,this.dragOptions,o)}LP(){if(this.draggedParts===null)return;const e=this.diagram;let n=this.draggedParts.iterator;for(;n.next();){const o=n.key;o.ke()&&(o.location=n.value.point)}for(n=this.draggedParts.iterator;n.next();){const o=n.key;if(o instanceof vt&&o.suspendsRouting){const l=n.value.point;this.draggedParts.set(o,this.Es()),o.fr(-l.x,-l.y)}}e.maybeUpdate()}xF(e){if(e===null)return!0;const n=e.part;return!!(n===null||n instanceof gn||n.layer?.isTemporary||this.draggedParts&&this.draggedParts.has(n)||this.copiedParts&&this.copiedParts.has(n))}DP(e){const n=this.diagram;this.dragsLink&&(this.draggedLink!==null&&(this.draggedLink.fromNode=null,this.draggedLink.toNode=null),this.QC(!1));const o=this.findDragOverObject(e),l=n.lastInput;l.targetObject=o,this.doUpdateCursor(o);const c=n.skipsUndoManager;let h=!1;try{if(n.skipsUndoManager=!0,h=this.$C(l,o),!this.isActive&&Me.dt===null)return;const f=o!==null?o.part:null;if(f===null||n.handlesDragDropForTopLevelParts&&f.isTopLevel&&!(f instanceof Xt)){const g=n.mouseDragOver;g!==null&&(g(l),h=!0)}if(!this.isActive&&Me.dt===null||(this.doDragOver(e,o),!this.isActive&&Me.dt===null))return}finally{n.skipsUndoManager=c,h&&n.maybeUpdate()}this.uu=o,!n.isReadOnly&&(n.allowMove||n.allowCopy)&&(n.allowHorizontalScroll||n.allowVerticalScroll)&&n.doAutoScroll(l.viewPoint)}findDragOverObject(e){return this.diagram.FP(e,null,n=>!this.xF(n))}doUpdateCursor(e){const n=this.diagram;(e===null||this.uu!==e)&&(!this.diagram.currentTool.isActive||this.mayCopy()?n.currentCursor=this.copyCursor:this.mayMove()?n.currentCursor=this.moveCursor:this.mayDragOut()&&(n.currentCursor=this.nodropCursor))}$C(e,n){let o=!1,l=this.cr.length;const c=l>0?this.cr[0]:null;if(n===c)return!1;e.handled=!1;for(let f=0;f<l;f++){const g=this.cr[f],v=g.mouseDragLeave;if(v!==null&&(v(e,g,n),o=!0,e.handled))break}if(this.cr.length=0,!this.isActive&&Me.dt===null||n===null)return o;e.handled=!1;let h=n;for(;h!==null;)this.cr.push(h),h=this._C(h);l=this.cr.length;for(let f=0;f<l;f++){const g=this.cr[f],v=g.mouseDragEnter;if(v!==null&&(v(e,g,c),o=!0,e.handled))break}return o}ME(e,n){return e===null?!1:!!(e===n||e.isContainedBy(n)||n instanceof Xt&&!(e instanceof Xt)&&n.handlesDragDropForMembers&&e.part?.isMemberOf(n))}_C(e){const n=e.panel;if(n!==null)return n;if(e instanceof Pn&&!(e instanceof Xt)){const o=e.containingGroup;if(o!==null&&o.handlesDragDropForMembers)return o}return null}tL(e,n){const o=this.diagram,l=this.nn;if(l===null)return null;const c=l.portGravity,h=o.findObjectsNear(e,c,w=>l.findValidLinkablePort(w,n)),f=T.l();let g=1/0,v=null;for(const w=h.iterator;w.next();){const k=w.value;if(k.part===null)continue;const P=k.getDocumentPoint(L.Center,f),N=e.distanceSquaredPoint(P);N<g&&(v=k,g=N)}return T.e(f),v}QC(e){const n=this.draggedLink;if(n!==null){if(n.pointsCount<2)return;const o=this.diagram;if(o.isReadOnly)return;const l=this.nn;if(l===null)return;let c=null,h=null;n.fromNode===null&&(c=this.tL(n.getPoint(0),!1),c!==null&&(h=c.part));let f=null,g=null;n.toNode===null&&(f=this.tL(n.getPoint(n.pointsCount-1),!0),f!==null&&(g=f.part)),l.isValidLink(h,c,g,f)?e?(n.defaultFromPoint=n.getPoint(0),n.defaultToPoint=n.getPoint(n.pointsCount-1),n.suspendsRouting=!1,n.fromNode=h,c!==null&&(n.fromPortId=c.portId),n.toNode=g,f!==null&&(n.toPortId=f.portId),n.fromPort!==o.RP&&o.D("LinkRelinked",n,o.RP),n.toPort!==o.vP&&o.D("LinkRelinked",n,o.vP)):l.doDraggingMouseMove(h,c,g,f):l.doDraggingMouseMove(null,null,null,null)}}doDragOver(e,n){}iL(e){const n=this.diagram;this.dragsLink&&this.QC(!0),this.MP();const o=this.findDragOverObject(e),l=n.lastInput;if(l.targetObject=o,o!==null){l.handled=!1;let g=o;for(;g!==null;){const v=g.mouseDrop;if(v!==null&&(v(l,g),l.handled))break;this.bF(l,g),g=this._C(g)}}else{const g=n.mouseDrop;g!==null&&g(l)}if(!this.isActive&&Me.dt===null)return;const c=this.copiedParts||this.draggedParts;if(c!==null){const g=c.iterator;for(;g.next();){const v=g.key;v instanceof Lt&&v.linksConnected.each(w=>w.suspendsRouting=!1)}}if(this.doDropOnto(e,o),!this.isActive&&Me.dt===null)return;const h=z.l(),f=n.selection.iterator;for(;f.next();){const g=f.value;g instanceof Lt&&this.kF(n,g,h)}z.e(h)}bF(e,n){const o=this.diagram,l=n.part;if(o.handlesDragDropForTopLevelParts&&l!==null&&l.isTopLevel&&!(l instanceof Xt)){const c=o.mouseDrop;c!==null&&c(e)}}kF(e,n,o){if(!n.canAvoid())return;let l=!1;o=n.getAvoidableRect(o),e.viewportBounds.containsRect(o)&&(l=!0);const c=this.copiedParts||this.draggedParts;if(c===null)return;const h=e.OP(o,g=>g.part,g=>g instanceof vt,!0,g=>g instanceof vt,l);if(h.count===0)return;const f=h.iterator;for(;f.next();){const g=f.value;c.has(g)&&c.has(n)||!g.isMemberOf(n)&&g.isAvoiding&&g.invalidateRoute()}}doDropOnto(e,n){}doMouseMove(){if(!this.isActive)return;const e=this.diagram,n=e.lastInput;this.simulatedMouseMove(n.event,n.documentPoint,n.targetDiagram)||this.currentPart!==null&&this.draggedParts!==null&&(this.mayCopy()?(this.AP(!1),this.pc(this.copiedParts,!1)):this.mayMove()?(this.kl(),this.pc(this.draggedParts,!0)):this.mayDragOut()?(this.AP(!1),this.pc(this.copiedParts,!1)):this.kl(),this.DP(e.lastInput.documentPoint))}doMouseUp(){if(!this.isActive)return;const e=this.diagram,n=e.lastInput;if(this.simulatedMouseUp(n.event,n.documentPoint,n.targetDiagram))return;let o=!1;const l=this.mayCopy();if(l&&this.copiedParts!==null?(this.kl(),this.AP(!0),this.pc(this.copiedParts,!1),this.copiedParts!==null&&(e.D("ChangingSelection",e.selection),e.clearSelection(!0),this.copiedParts.iteratorKeys.each(c=>{c.isSelected=!0}))):(o=!0,this.kl(),this.mayMove()&&(this.pc(this.draggedParts,!0),this.DP(e.lastInput.documentPoint))),this.fu=!0,this.iL(e.lastInput.documentPoint),this.isActive){const c=l&&this.copiedParts,h=c?this.copiedParts?.toKeySet():this.draggedParts?this.draggedParts.toKeySet():null;this.copiedParts=null,o&&this.PF(),e.invalidateDocumentBounds(),e.NP(this.draggedParts),this.transactionResult=c?"Copy":"Move",e.D(c?"SelectionCopied":"SelectionMoved",h)}this.stopTool(),l&&e.D("ChangedSelection",e.selection)}simulatedMouseMove(e,n,o){if(Me.dt===null)return!1;const l=Me.dt.diagram;o instanceof Te||(o=null);const c=Me.Yh;if(o!==c){if(c!==null&&c!==l){c.stopAutoScroll(),Me.dt.isDragOutStarted=!1;const f=c.toolManager.findTool("Dragging");f!==null&&f.doSimulatedDragLeave()}if(Me.Yh=o,o!==null&&o!==l){Me.dt.ZC();const f=o.toolManager.findTool("Dragging");f!==null&&(f.eL(),f.doSimulatedDragEnter())}this.doUpdateCursor(null)}if(o===null||o===l||!o.allowDrop||o.isReadOnly||!o.allowInsert)return!1;const h=o.toolManager.findTool("Dragging");if(h!==null){let f=n;e!==null&&(e.targetTouches!==void 0&&(e.targetTouches.length>0?e=e.targetTouches[0]:e.changedTouches.length>0&&(e=e.changedTouches[0])),f=o.getMouse(e)),o.lastInput.documentPoint=f,o.lastInput.viewPoint=o.transformDocToView(f),o.lastInput.down=!1,o.lastInput.up=!1,h.doSimulatedDragOver()}return!0}simulatedMouseUp(e,n,o){if(Me.dt===null)return!1;const l=Me.Yh,c=Me.dt.diagram;if(o===null)return Me.dt.doCancel(),!0;if(o!==l){if(l!==null){const f=l.toolManager.findTool("Dragging");if(l!==null&&l!==c&&f!==null)return l.stopAutoScroll(),Me.dt.isDragOutStarted=!1,f.doSimulatedDragLeave(),!1}Me.Yh=o;const h=o.toolManager.findTool("Dragging");h!==null&&(Me.dt.ZC(),h.eL(),h.doSimulatedDragEnter())}if(o!==this.diagram){let h=n;e!==null?(e.targetTouches!==void 0&&(e.targetTouches.length>0?e=e.targetTouches[0]:e.changedTouches.length>0&&(e=e.changedTouches[0])),h=o.getMouse(e)):h===null&&(h=new T),o.lastInput.documentPoint=h,o.lastInput.viewPoint=o.transformDocToView(h),o.lastInput.down=!1,o.lastInput.up=!0;const f=o.toolManager.findTool("Dragging");f!==null&&f.doSimulatedDrop();const g=Me.dt;if(g!==null){const v=g.mayCopy();g.transactionResult=v?"Copy":"Move",g.stopTool()}return!0}return!1}PF(){if(this.draggedParts===null)return;const e=this.draggedParts.iterator;for(;e.next();){const n=e.key;if(n instanceof Lt){const o=n.containingGroup;o!==null&&o.hasPlaceholder()&&!this.draggedParts.has(o)&&o.placeholder.c()}}}mayCopy(){if(!this.isCopyEnabled)return!1;const e=this.diagram;if(e.isReadOnly||e.isModelReadOnly||!e.allowInsert||!e.allowCopy||!(t.tr?e.lastInput.alt:e.lastInput.control))return!1;const n=e.selection.iterator;for(;n.next();)if(n.value.canCopy())return!0;return!!(this.draggedLink!==null&&this.dragsLink&&this.draggedLink.canCopy())}mayDragOut(){if(!this.isCopyEnabled)return!1;const e=this.diagram;if(!e.allowDragOut||!e.allowCopy||e.allowMove)return!1;const n=e.selection.iterator;for(;n.next();)if(n.value.canCopy())return!0;return!!(this.draggedLink!==null&&this.dragsLink&&this.draggedLink.canCopy())}mayMove(){const e=this.diagram;if(e.isReadOnly||!e.allowMove)return!1;const n=e.selection.iterator;for(;n.next();)if(n.value.canMove())return!0;return!!(this.draggedLink!==null&&this.dragsLink&&this.draggedLink.canMove())}eL(){Me.Vw.has(this)||Me.Vw.add(this)}static yF(){if(Me.Vw.count>0){const e=Me.Vw,n=e.length;for(let o=0;o<n;o++){const l=e.elt(o);l.JC(),l.kl(),l.MP(),l.diagram.stopAutoScroll()}e.clear()}}computeBorder(e,n,o){return!this.fu&&this.draggedParts!==null&&!this.draggedParts.has(e)?o.a(n):null}getDraggingSource(){return Me.dt}mayDragIn(){const e=this.diagram;if(!e.allowDrop||e.isReadOnly||e.isModelReadOnly||!e.allowInsert)return!1;const n=Me.dt;return!(n===null||n.diagram.model.dataFormat!==e.model.dataFormat)}doSimulatedDragEnter(){if(!this.mayDragIn())return;const e=this.diagram;e.animationManager.stopAnimation(),e.ur(),e.animationManager.stopAnimation();const n=Me.dt;n!==null&&(this.diagram.du=!0,e.lastInput.event===null&&(e.lastInput.event=n.diagram.lastInput.event)),this.doUpdateCursor(null)}doSimulatedDragLeave(){const e=Me.dt;e!==null&&e.doSimulatedDragOut(),this.diagram.du=!1,this.doCancel()}doSimulatedDragOver(){const e=this.diagram;e.animationManager.pu=!0;const n=Me.dt;if(n!==null&&n.draggedParts!==null){if(!this.mayDragIn())return;this.sL(n.draggedParts.toKeySet(),!1,e.firstInput),this.pc(this.copiedParts,!1),this.DP(e.lastInput.documentPoint)}e.animationManager.pu=!1}doSimulatedDrop(){const e=this.diagram,n=Me.dt;if(n!==null){const o=n.diagram;if(n.fu=!0,this.kl(),n.draggedParts===null||!this.mayDragIn())return;e.animationManager.pu=!0,e.D("ChangingSelection",e.selection),this.startTransaction("Drop"),this.sL(n.draggedParts.toKeySet(),!0,e.lastInput),this.pc(this.copiedParts,!1);const l=new b;this.copiedParts!==null&&(e.clearSelection(!0),this.copiedParts.iteratorKeys.each(c=>{c.isSelected=!0,l.add(c)})),this.iL(e.lastInput.documentPoint),e.invalidateDocumentBounds(),this.copiedParts!==null&&(this.transactionResult="ExternalCopy"),this.copiedParts=null,e.doFocus(),e.du=!1,e.D("ExternalObjectsDropped",l,o),this.stopTransaction(),e.D("ChangedSelection",e.selection)}e.animationManager.pu=!1}sL(e,n,o){if(this.copiedParts!==null)return;const l=this.diagram;if(l.isReadOnly||l.isModelReadOnly)return;l.skipsUndoManager=!n,l.partManager.addsToTemporaryLayer=!n,this.startPoint=o.documentPoint;const c=l.copyParts(e,l,!0),h=z.l();this.wF(e,h);const f=h.x+h.width/2,g=h.y+h.height/2;z.e(h);const v=this.gm,w=new _,k=T.l(),P=e.iterator;for(;P.next();){const F=P.value;if(F instanceof vt&&F.canCopy()){const H=c.get(F);if(H===null)continue;H.points=F.points,H.fr(v.x-f,v.y-g),H.suspendsRouting=!0,w.set(H,this.Es())}}const N=e.iterator;for(;N.next();){const F=N.value;if(F.ke()&&F.canCopy()){const H=c.get(F);if(H===null)continue;const V=F.location;k.i(v.x-(f-V.x),v.y-(g-V.y)),H.location=k,H.ensureBounds(),w.set(H,this.Es(k))}}if(T.e(k),this.copiedParts=w,this.SP(w.toKeySet()),this.draggedLink!==null){const F=this.draggedLink,H=F.routeBounds;F.fr(this.startPoint.x-(H.x+H.width/2),this.startPoint.y-(H.y+H.height/2))}this.doUpdateCursor(null)}pF(){this.isDragOutStarted=!0,this.fu=!1,Me.dt=this,Me.Yh=this.diagram,this.doSimulatedDragOut()}doSimulatedDragOut(){const e=this.diagram;!this.mayCopy()&&!this.mayMove()?e.currentCursor=this.nodropCursor:e.currentCursor="",this.uu=null}computeMove(e,n,o,l){const c=this.diagram;return c!==null?c.computeMove(e,n,this.dragOptions,l):new T}static Vw=new m;static dt=null;static Yh=null}_e.prototype.doCancel=function(){Me.dt!==null&&Me.dt.doCancel(),Se.prototype.doCancel.call(this)};class qe extends Se{IP;EP;Sl;UP;BP;Gh;VP;Kh;zP;XP;YP;GP;KP;jP;nL;HP;Ml;qP;constructor(){super(),this.IP=100,this.EP=!1,this.Sl="pointer",this.UP=new vt({layerName:"Tool"}).add(new zt({isPanelMain:!0,stroke:"blue"}).theme("stroke","tempLink"),new zt({toArrow:"Standard",fill:"blue",stroke:"blue"}).theme("fill","tempLink").theme("stroke","tempLink")).Et(),this.Gh=new zt("Rectangle",{portId:"",fill:null,stroke:"magenta",strokeWidth:2,desiredSize:B.Uk}).theme("stroke","tempPort"),this.BP=new Lt({selectable:!1,layerName:"Tool"}).add(this.Gh).Et(),this.Kh=new zt("Rectangle",{portId:"",fill:null,stroke:"magenta",strokeWidth:2,desiredSize:B.Uk}).theme("stroke","tempPort"),this.VP=new Lt({selectable:!1,layerName:"Tool"}).add(this.Kh).Et(),this.zP=null,this.XP=null,this.YP=null,this.GP=null,this.KP=null,this.jP=!0,this.nL=new _,this.HP=null,this.Ml=null,this.qP=null}doStop(){this.diagram.stopAutoScroll(),this.originalLink=null,this.originalFromNode=null,this.originalFromPort=null,this.originalToNode=null,this.originalToPort=null,this.validPortsCache.clear(),this.targetPort=null}get portGravity(){return this.IP}set portGravity(e){e>=0&&(this.IP=e)}get isUnconnectedLinkValid(){return this.EP}set isUnconnectedLinkValid(e){this.EP=e}get linkingCursor(){return this.Sl}set linkingCursor(e){this.Sl=e}get temporaryLink(){return this.UP}set temporaryLink(e){e.Et(),this.UP=e}get temporaryFromNode(){return this.BP}set temporaryFromNode(e){e.Et(),this.BP=e,e&&(this.Gh=e.port)}get temporaryFromPort(){return this.Gh}set temporaryFromPort(e){if(this.Gh!==null){const n=this.Gh.panel;if(n!==null){const o=n.C.indexOf(this.Gh);n.removeAt(o),n.insertAt(o,e)}}this.Gh=e}get temporaryToNode(){return this.VP}set temporaryToNode(e){e.Et(),this.VP=e,e&&(this.Kh=e.port)}get temporaryToPort(){return this.Kh}set temporaryToPort(e){if(this.Kh!==null){const n=this.Kh.panel;if(n!==null){const o=n.C.indexOf(this.Kh);n.removeAt(o),n.insertAt(o,e)}}this.Kh=e}get originalLink(){return this.zP}set originalLink(e){this.zP=e}get originalFromNode(){return this.XP}set originalFromNode(e){this.XP=e}get originalFromPort(){return this.YP}set originalFromPort(e){this.YP=e}get originalToNode(){return this.GP}set originalToNode(e){this.GP=e}get originalToPort(){return this.KP}set originalToPort(e){this.KP=e}get isForwards(){return this.jP}set isForwards(e){this.jP=e}get validPortsCache(){return this.nL}get targetPort(){return this.HP}set targetPort(e){this.HP=e}copyPortProperties(e,n,o,l,c){if(e===null||n===null||o===null||l===null)return;const h=n.getDocumentScale(),f=B.l();f.width=n.naturalBounds.width*h,f.height=n.naturalBounds.height*h,l.desiredSize=f,B.e(f),c?(l.toSpot=n.toSpot,l.toEndSegmentLength=n.toEndSegmentLength):(l.fromSpot=n.fromSpot,l.fromEndSegmentLength=n.fromEndSegmentLength),o.locationSpot=L.Center;const g=T.l();o.location=n.getDocumentPoint(L.Center,g),T.e(g),l.angle=n.getDocumentAngle(),this.portTargeted!==null&&this.portTargeted(e,n,o,l,c)}setNoTargetPortProperties(e,n,o){n!==null&&(n.desiredSize=B.Uk,n.fromSpot=L.None,n.toSpot=L.None),e!==null&&(e.location=this.diagram.lastInput.documentPoint),this.portTargeted!==null&&this.portTargeted(null,null,e,n,o)}doMouseDown(){this.isActive&&this.doMouseMove()}doMouseMove(){if(this.isActive){const e=this.diagram;if(this.targetPort=this.findTargetPort(this.isForwards),this.targetPort!==null&&this.targetPort.part instanceof Lt){const n=this.targetPort.part;this.isForwards?this.copyPortProperties(n,this.targetPort,this.temporaryToNode,this.temporaryToPort,!0):this.copyPortProperties(n,this.targetPort,this.temporaryFromNode,this.temporaryFromPort,!1)}else this.isForwards?this.setNoTargetPortProperties(this.temporaryToNode,this.temporaryToPort,!0):this.setNoTargetPortProperties(this.temporaryFromNode,this.temporaryFromPort,!1);(e.allowHorizontalScroll||e.allowVerticalScroll)&&e.doAutoScroll(e.lastInput.viewPoint)}}findValidLinkablePort(e,n){if(e===null)return null;const o=e.part;if(!(o instanceof Lt))return null;for(;e!==null;){const l=n?e.toLinkable:e.fromLinkable;if(l===!0&&(e.portId!==null||e instanceof Lt)&&(n?this.isValidTo(o,e):this.isValidFrom(o,e)))return e;if(l===!1)return null;e=e.panel}return null}findTargetPort(e){const n=this.diagram,o=n.lastInput.documentPoint;let l=this.portGravity;const c=n.findObjectsNear(o,l,v=>this.findValidLinkablePort(v,e),null,!0);let h=1/0,f=null;const g=c.iterator;for(;g.next();){const v=g.value,w=v.part;if(!(w instanceof Lt))continue;const k=v.getDocumentPoint(L.Center,T.l()),P=o.x-k.x,N=o.y-k.y;T.e(k);const F=P*P+N*N;if(F<h){const H=this.validPortsCache.get(v);H!==null?H&&(f=v,h=F):e&&this.isValidLink(this.originalFromNode,this.originalFromPort,w,v)||!e&&this.isValidLink(w,v,this.originalToNode,this.originalToPort)?(this.validPortsCache.set(v,!0),f=v,h=F):this.validPortsCache.set(v,!1)}}if(f!==null){const v=f.part;if(v instanceof Lt&&(v.layer===null||v.layer.allowLink))return f}return null}isValidFrom(e,n){if(e===null||n===null)return this.isUnconnectedLinkValid;if(this.diagram.currentTool===this&&(e.layer!==null&&!e.layer.allowLink||n.fromLinkable!==!0))return!1;const o=n.fromMaxLinks;if(o<1/0){if(this.originalLink!==null&&e===this.originalFromNode&&n===this.originalFromPort)return!0;let l=n.portId;if(l===null&&(l=""),e.findLinksOutOf(l).count>=o)return!1}return!0}isValidTo(e,n){if(e===null||n===null)return this.isUnconnectedLinkValid;if(this.diagram.currentTool===this&&(e.layer!==null&&!e.layer.allowLink||n.toLinkable!==!0))return!1;const o=n.toMaxLinks;if(o<1/0){if(this.originalLink!==null&&e===this.originalToNode&&n===this.originalToPort)return!0;let l=n.portId;if(l===null&&(l=""),e.findLinksInto(l).count>=o)return!1}return!0}isInSameNode(e,n){if(e===null||n===null)return!1;if(e===n)return!0;const o=e.part,l=n.part;return o!==null&&o===l}isLinked(e,n){if(e===null||n===null)return!1;const o=e.part;if(!(o instanceof Lt))return!1;let l=e.portId;l===null&&(l="");const c=n.part;if(!(c instanceof Lt))return!1;let h=n.portId;h===null&&(h="");const f=c.findLinksInto(h);for(;f.next();){const g=f.value;if(g.fromNode===o&&g.fromPortId===l)return!0}return!1}isValidLink(e,n,o,l){if(!this.isValidFrom(e,n)||!this.isValidTo(o,l)||n!==null&&l!==null&&(!(n.fromLinkableSelfNode&&l.toLinkableSelfNode)&&this.isInSameNode(n,l)||!(n.fromLinkableDuplicates&&l.toLinkableDuplicates)&&this.isLinked(n,l))||this.originalLink!==null&&(e!==null&&this.isLabelDependentOnLink(e,this.originalLink)||o!==null&&this.isLabelDependentOnLink(o,this.originalLink))||e!==null&&o!==null&&(e.data===null&&o.data!==null||e.data!==null&&o.data===null)||!this.isValidCycle(e,o,this.originalLink))return!1;let c;return e!==null&&n!==null&&(c=e.linkValidation,c!==null&&!c(e,n,o,l,this.originalLink))||o!==null&&l!==null&&(c=o.linkValidation,c!==null&&!c(e,n,o,l,this.originalLink))?!1:(c=this.linkValidation,c!==null?c(e,n,o,l,this.originalLink):!0)}isLabelDependentOnLink(e,n){if(e===null)return!1;const o=e.labeledLink;if(o===null)return!1;if(o===n)return!0;const l=new b;return l.add(e),this.WP(o,n,l)}WP(e,n,o){if(e===n)return!0;const l=e.fromNode;if(l!==null&&l.labeledLink&&(o.add(l),this.WP(l.labeledLink,n,o)))return!0;const c=e.toNode;return!!(c!==null&&c.labeledLink&&(o.add(c),this.WP(c.labeledLink,n,o)))}isValidCycle(e,n,o){if(o===void 0&&(o=null),e===null||n===null)return this.isUnconnectedLinkValid;const l=this.diagram;let c=1;if(l&&(l.model.pm()?c=l.isTreePathToChildren?5:6:c=l.validCycle),c===1)return!0;if(c===5){const h=o||this.temporaryLink;if(h!==null&&!h.isTreeLink)return!0;const f=n.linksConnected;for(;f.next();){const g=f.value;if(g!==o&&g.isTreeLink&&g.toNode===n)return!1}return!this.yu(e,n,o,!0)}else if(c===6){const h=o||this.temporaryLink;if(h!==null&&!h.isTreeLink)return!0;const f=e.linksConnected;for(;f.next();){const g=f.value;if(g!==o&&g.isTreeLink&&g.fromNode===e)return!1}return!this.yu(e,n,o,!0)}else{if(c===2)return!this.SF(e,n,o);if(c===3)return!this.yu(e,n,o,!1);if(c===4)return!this.MF(e,n,o)}return!0}yu(e,n,o,l){if(e===n)return!0;if(e===null||n===null)return!1;const c=e.linksConnected;for(;c.next();){const h=c.value;if(h===o||l&&!h.isTreeLink||h.toNode!==e)continue;const f=h.fromNode;if(!(f===e||f===null)&&this.yu(f,n,o,l))return!0}return!1}SF(e,n,o){if(e===n)return!0;const l=new b;return l.add(n),this.oL(l,e,n,o)}oL(e,n,o,l){if(n===o)return!0;if(n===null||o===null||e.has(n))return!1;e.add(n);const c=n.linksConnected;for(;c.next();){const h=c.value;if(h===l||h.toNode!==n)continue;const f=h.fromNode;if(!(f===n||f===null)&&this.oL(e,f,o,l))return!0}return!1}MF(e,n,o){if(e===n)return!0;const l=new b;return l.add(n),this.rL(l,e,n,o)}rL(e,n,o,l){if(n===o)return!0;if(n===null||o===null||e.has(n))return!1;e.add(n);const c=n.linksConnected;for(;c.next();){const h=c.value;if(h===l)continue;const f=h.fromNode,g=h.toNode,v=f===n?g:f;if(!(v===n||v===null)&&this.rL(e,v,o,l))return!0}return!1}get linkValidation(){return this.Ml}set linkValidation(e){this.Ml=e}get portTargeted(){return this.qP}set portTargeted(e){this.qP=e}}var ze=(G=>(G[G.Either=1]="Either",G[G.ForwardsOnly=2]="ForwardsOnly",G[G.BackwardsOnly=3]="BackwardsOnly",G))(ze||{});class $e extends qe{JP;$P;b;ZP;constructor(e){super(),this.name="Linking",this.JP={},this.$P=null,this.b=1,this.ZP=null,e&&Object.assign(this,e)}static Either=1;static ForwardsOnly=2;static BackwardsOnly=3;get archetypeLinkData(){return this.JP}set archetypeLinkData(e){e!==null&&t.ec(e,$e,"archetypeLinkData"),this.JP=e}get archetypeLabelNodeData(){return this.$P}set archetypeLabelNodeData(e){e!==null&&t.ec(e,$e,"archetypeLabelNodeData"),this.$P=e}get direction(){return this.b}set direction(e){this.b=e}get startObject(){return this.ZP}set startObject(e){this.ZP=e}canStart(){if(!this.isEnabled)return!1;const e=this.diagram;return e.isReadOnly||e.isModelReadOnly||!e.allowLink||!e.model.zw()||!e.lastInput.left||e.currentTool!==this&&!this.isBeyondDragSize()?!1:this.findLinkablePort()!==null}findLinkablePort(){const e=this.diagram;let n=this.startObject;if(n===null&&(n=e.findObjectAt(e.firstInput.documentPoint,null,null)),n===null)return null;const o=n.part;if(!(o instanceof Lt))return null;const l=this.direction;if(l===1||l===2){const c=this.findValidLinkablePort(n,!1);if(c!==null)return this.isForwards=!0,c;if(this.startObject===o){const h=o.port;if(this.findValidLinkablePort(h,!1))return this.isForwards=!0,h}}if(l===1||l===3){const c=this.findValidLinkablePort(n,!0);if(c!==null)return this.isForwards=!1,c;if(this.startObject===o){const h=o.port;if(this.findValidLinkablePort(h,!0))return this.isForwards=!1,h}}return null}doActivate(){const e=this.diagram,n=this.findLinkablePort();if(n===null){this.stopTool();return}if(this.startTransaction(this.name),e.isMouseCaptured=!0,e.currentCursor=this.linkingCursor,this.isForwards){this.temporaryToNode!==null&&(this.temporaryToNode.location=e.lastInput.documentPoint),this.originalFromPort=n;const o=this.originalFromPort.part;o instanceof Lt&&(this.originalFromNode=o),this.copyPortProperties(this.originalFromNode,this.originalFromPort,this.temporaryFromNode,this.temporaryFromPort,!1)}else{this.temporaryFromNode!==null&&(this.temporaryFromNode.location=e.lastInput.documentPoint),this.originalToPort=n;const o=this.originalToPort.part;o instanceof Lt&&(this.originalToNode=o),this.copyPortProperties(this.originalToNode,this.originalToPort,this.temporaryToNode,this.temporaryToPort,!0)}e.add(this.temporaryFromNode),this.temporaryFromNode&&this.temporaryFromNode.ensureBounds(),e.add(this.temporaryToNode),this.temporaryToNode&&this.temporaryToNode.ensureBounds(),this.temporaryLink!==null&&(this.temporaryFromNode!==null&&(this.temporaryLink.fromNode=this.temporaryFromNode),this.temporaryToNode!==null&&(this.temporaryLink.toNode=this.temporaryToNode),this.temporaryLink.isTreeLink=this.isNewTreeLink(),this.temporaryLink.invalidateRoute(),e.add(this.temporaryLink)),this.isActive=!0}doDeactivate(){this.isActive=!1;const e=this.diagram;e.remove(this.temporaryLink),e.remove(this.temporaryFromNode),e.remove(this.temporaryToNode),e.isMouseCaptured=!1,e.currentCursor="",this.stopTransaction()}doStop(){super.doStop(),this.startObject=null}doMouseUp(){if(this.isActive){const e=this.diagram;this.transactionResult=null;let n=null,o=null,l=null,c=null,h=null;try{this.targetPort=this.findTargetPort(this.isForwards);const f=this.targetPort;if(f!==null){const g=f.part;g instanceof Lt&&(this.isForwards?(this.originalFromNode!==null&&(n=this.originalFromNode,o=this.originalFromPort),l=g,c=f):(n=g,o=f,this.originalToNode!==null&&(l=this.originalToNode,c=this.originalToPort)))}else this.isForwards?this.originalFromNode!==null&&this.isUnconnectedLinkValid&&(n=this.originalFromNode,o=this.originalFromPort):this.originalToNode!==null&&this.isUnconnectedLinkValid&&(l=this.originalToNode,c=this.originalToPort);n!==null||l!==null?(h=this.insertLink(n,o,l,c),h!==null?(f===null&&(this.isForwards?h.defaultToPoint=e.lastInput.documentPoint:h.defaultFromPoint=e.lastInput.documentPoint),e.allowSelect&&(e.D("ChangingSelection",e.selection),e.clearSelection(!0),h.isSelected=!0),this.transactionResult=this.name,e.D("LinkDrawn",h)):this.doNoLink(n,o,l,c)):this.isForwards?this.doNoLink(this.originalFromNode,this.originalFromPort,null,null):this.doNoLink(null,null,this.originalToNode,this.originalToPort)}finally{this.stopTool(),h&&e.allowSelect&&e.D("ChangedSelection",e.selection)}}}isNewTreeLink(){const e=this.archetypeLinkData;if(e===null)return!0;if(e instanceof vt)return e.isTreeLink;const n=this.diagram;if(n===null)return!0;const o=n.partManager.getLinkCategoryForData(e),l=n.partManager.findLinkTemplateForCategory(o);return l!==null?l.isTreeLink:!0}insertLink(e,n,o,l){return this.diagram.partManager.insertLink(e,n,o,l)}doNoLink(e,n,o,l){}}class Ue extends qe{lL=null;hL=null;QP=null;_P=null;fs;tS;constructor(e){super(),this.name="Relinking",this.fromHandleArchetype=new zt("Diamond",{desiredSize:B.nu,fill:"lightblue",stroke:"dodgerblue",cursor:this.linkingCursor,segmentIndex:0}).theme("fill","adornmentFill").theme("stroke","adornmentStroke"),this.toHandleArchetype=new zt("Diamond",{desiredSize:B.nu,fill:"lightblue",stroke:"dodgerblue",cursor:this.linkingCursor,segmentIndex:-1}).theme("fill","adornmentFill").theme("stroke","adornmentStroke"),this.fs=null,this.tS=new z,e&&Object.assign(this,e)}updateAdornments(e){if(e===null||!(e instanceof vt))return;let n="RelinkFrom",o=null;if(e.isSelected&&!this.diagram.isReadOnly){const l=e.selectionObject;l!==null&&e.canRelinkFrom()&&e.actualBounds.isReal()&&e.isVisible()&&l.actualBounds.isReal()&&l.isVisibleObject()&&(o=e.findAdornment(n),o===null&&(o=this.makeAdornment(l,!1),e.addAdornment(n,o)))}if(o===null&&e.removeAdornment(n),n="RelinkTo",o=null,e.isSelected&&!this.diagram.isReadOnly){const l=e.selectionObject;l!==null&&e.canRelinkTo()&&e.actualBounds.isReal()&&e.isVisible()&&l.actualBounds.isReal()&&l.isVisibleObject()&&(o=e.findAdornment(n),o===null?(o=this.makeAdornment(l,!0),e.addAdornment(n,o)):o.c())}o===null&&e.removeAdornment(n)}makeAdornment(e,n){let o=n?this._P:this.QP;return o&&(o=o.copy(),o.adornedObject=e),o}get fromHandleArchetype(){return this.lL}set fromHandleArchetype(e){this.lL=e,e!==null?this.QP=new gn(Je.Link).add(e).Et():this.QP=null}get toHandleArchetype(){return this.hL}set toHandleArchetype(e){this.hL=e,e!==null?this._P=new gn(Je.Link).add(e).Et():this._P=null}get handle(){return this.fs}set handle(e){e!==null&&(e.part instanceof gn||t.o("new handle is not in an Adornment: "+e)),this.fs=e}canStart(){if(!this.isEnabled)return!1;const e=this.diagram;if(e.isReadOnly||e.isModelReadOnly||!e.allowRelink||!e.model.zw()||!e.lastInput.left)return!1;let n=this.findToolHandleAt(e.firstInput.documentPoint,"RelinkFrom");return n===null&&(n=this.findToolHandleAt(e.firstInput.documentPoint,"RelinkTo")),n!==null}doActivate(){const e=this.diagram;if(this.originalLink===null){let o=this.handle;if(o===null&&(o=this.findToolHandleAt(e.firstInput.documentPoint,"RelinkFrom"),o===null&&(o=this.findToolHandleAt(e.firstInput.documentPoint,"RelinkTo"))),o===null)return;const l=o.part;if(!(l instanceof gn)||!(l.adornedPart instanceof vt))return;this.handle=o,this.isForwards=l===null||l.category==="RelinkTo",this.originalLink=l.adornedPart}const n=this.originalLink;n!==null&&(this.startTransaction(this.name),e.isMouseCaptured=!0,e.currentCursor=this.linkingCursor,this.originalFromPort=n.fromPort,this.originalFromNode=n.fromNode,this.originalToPort=n.toPort,this.originalToNode=n.toNode,this.tS.set(n.actualBounds),n.pointsCount>0&&(n.fromNode===null&&(this.temporaryFromPort!==null&&(this.temporaryFromPort.desiredSize=B.sc),this.temporaryFromNode!==null&&(this.temporaryFromNode.location=n.getPoint(0))),n.toNode===null&&(this.temporaryToPort!==null&&(this.temporaryToPort.desiredSize=B.sc),this.temporaryToNode!==null&&(this.temporaryToNode.location=n.getPoint(n.pointsCount-1)))),this.copyPortProperties(this.originalFromNode,this.originalFromPort,this.temporaryFromNode,this.temporaryFromPort,!1),this.copyPortProperties(this.originalToNode,this.originalToPort,this.temporaryToNode,this.temporaryToPort,!0),e.add(this.temporaryFromNode),e.add(this.temporaryToNode),this.temporaryLink!==null&&(this.temporaryFromNode!==null&&(this.temporaryLink.fromNode=this.temporaryFromNode),this.temporaryToNode!==null&&(this.temporaryLink.toNode=this.temporaryToNode),this.copyLinkProperties(n,this.temporaryLink),this.temporaryLink.invalidateRoute(),e.add(this.temporaryLink)),this.isActive=!0)}copyLinkProperties(e,n){if(e===null||n===null)return;n.adjusting=e.adjusting,n.corner=e.corner;let o=e.curve;(o===11||o===10)&&(o=0),n.curve=o,n.curviness=e.curviness,n.isTreeLink=e.isTreeLink,n.points=e.points,n.routing=e.routing,n.smoothness=e.smoothness,n.fromSpot=e.fromSpot,n.fromEndSegmentLength=e.fromEndSegmentLength,n.fromShortLength=e.fromShortLength,n.toSpot=e.toSpot,n.toEndSegmentLength=e.toEndSegmentLength,n.toShortLength=e.toShortLength}doDeactivate(){this.isActive=!1;const e=this.diagram;e.remove(this.temporaryLink),e.remove(this.temporaryFromNode),e.remove(this.temporaryToNode),e.isMouseCaptured=!1,e.currentCursor="",this.stopTransaction()}doStop(){super.doStop(),this.handle=null}doMouseUp(){if(this.isActive){const e=this.diagram;this.transactionResult=null;let n=this.originalFromNode,o=this.originalFromPort,l=this.originalToNode,c=this.originalToPort,h=this.originalLink;try{if(this.targetPort=this.findTargetPort(this.isForwards),this.targetPort!==null){const f=this.targetPort.part;f instanceof Lt&&(this.isForwards?(l=f,c=this.targetPort):(n=f,o=this.targetPort))}else this.isUnconnectedLinkValid?this.isForwards?(l=null,c=null):(n=null,o=null):h=null;h!==null?(this.reconnectLink(h,this.isForwards?l:n,this.isForwards?c:o,this.isForwards),this.targetPort===null&&(this.isForwards?h.defaultToPoint=e.lastInput.documentPoint:h.defaultFromPoint=e.lastInput.documentPoint,h.invalidateRoute()),this.transactionResult=this.name,e.D("LinkRelinked",h,this.isForwards?this.originalToPort:this.originalFromPort)):this.originalLink!==null&&this.doNoRelink(this.originalLink,this.isForwards),this.originalLink!==null&&this.originalLink.invalidateOtherJumpOvers(this.tS)}finally{this.stopTool()}}}reconnectLink(e,n,o,l){const c=o!==null&&o.portId!==null?o.portId:"";return l?(e.toNode=n,e.toPortId=c):(e.fromNode=n,e.fromPortId=c),!0}doNoRelink(e,n){}doDraggingMouseMove(e,n,o,l){e!==null?(this.copyPortProperties(e,n,this.temporaryFromNode,this.temporaryFromPort,!1),this.diagram.add(this.temporaryFromNode)):this.diagram.remove(this.temporaryFromNode),o!==null?(this.copyPortProperties(o,l,this.temporaryToNode,this.temporaryToPort,!0),this.diagram.add(this.temporaryToNode)):this.diagram.remove(this.temporaryToNode)}stopDraggingMouseMove(){this.diagram.remove(this.temporaryFromNode),this.diagram.remove(this.temporaryToNode)}}var Pe=(G=>(G[G.None=0]="None",G[G.Horizontal=1]="Horizontal",G[G.Vertical=2]="Vertical",G[G.All=3]="All",G))(Pe||{});class Re extends Se{dr;iS;eS;fs;Xw;sS;ym;constructor(e){super(),this.name="LinkReshaping",this.dr=new zt("Rectangle",{desiredSize:B.yC,fill:"lightblue",stroke:"dodgerblue"}).theme("fill","adornmentFill").theme("stroke","adornmentStroke"),this.iS=new zt("Diamond",{desiredSize:B.nu,fill:"lightblue",stroke:"dodgerblue",cursor:"move"}).theme("fill","adornmentFill").theme("stroke","adornmentStroke"),this.eS=3,this.fs=null,this.Xw=null,this.sS=new T,this.ym=new m,e&&Object.assign(this,e)}static None=0;static Horizontal=1;static Vertical=2;static All=3;getReshapingBehavior(e){return e?e.gr:0}setReshapingBehavior(e,n){e.gr=n}updateAdornments(e){if(e===null||!(e instanceof vt))return;let n=null;if(e.isSelected&&!this.diagram.isReadOnly){const o=e.path;o!==null&&e.canReshape()&&e.actualBounds.isReal()&&e.isVisible()&&o.actualBounds.isReal()&&o.isVisibleObject()&&(n=e.findAdornment(this.name),(n===null||n.nS!==e.pointsCount||n.oS!==e.resegmentable)&&(n=this.makeAdornment(o),n!==null&&(n.nS=e.pointsCount,n.oS=e.resegmentable,e.addAdornment(this.name,n))))}n===null&&e.removeAdornment(this.name)}makeAdornment(e){const n=e.part,o=n.points,l=n.pointsCount,c=n.isOrthogonal;let h=null;if(o!==null&&l>1){h=new gn,h.type=Je.Link;const f=n.firstPickIndex,g=n.lastPickIndex,v=c?1:0;if(n.resegmentable&&n.computeCurve()!==9)for(let w=f+v;w<g-v;w++){const k=this.makeResegmentHandle(e,w);k!==null&&(k.segmentIndex=w,k.segmentFraction=.5,k.fromMaxLinks=999,h.add(k))}for(let w=f+1;w<g;w++){const k=this.makeHandle(e,w);if(k!==null){if(k.segmentIndex=w,w!==f)if(w===f+1&&c){const P=n.getPoint(f);let N=n.getPoint(f+1);I.f(P.x,N.x)&&I.f(P.y,N.y)?(N=n.getPoint(f-1),I.f(P.x,N.x)?(this.setReshapingBehavior(k,2),k.cursor="n-resize"):I.f(P.y,N.y)&&(this.setReshapingBehavior(k,1),k.cursor="w-resize")):I.f(P.x,N.x)?(this.setReshapingBehavior(k,2),k.cursor="n-resize"):I.f(P.y,N.y)&&(this.setReshapingBehavior(k,1),k.cursor="w-resize")}else if(w===g-1&&c){let P=n.getPoint(g-1);const N=n.getPoint(g);I.f(P.x,N.x)&&I.f(P.y,N.y)?(P=n.getPoint(g+1),I.f(P.x,N.x)?(this.setReshapingBehavior(k,2),k.cursor="n-resize"):I.f(P.y,N.y)&&(this.setReshapingBehavior(k,1),k.cursor="w-resize")):I.f(P.x,N.x)?(this.setReshapingBehavior(k,2),k.cursor="n-resize"):I.f(P.y,N.y)&&(this.setReshapingBehavior(k,1),k.cursor="w-resize")}else w===g||(this.setReshapingBehavior(k,3),k.cursor="move");h.add(k)}}h.adornedObject=e}return h}makeHandle(e,n){const o=this.handleArchetype;return o===null?null:o.copy().rS()}get handleArchetype(){return this.dr}set handleArchetype(e){this.dr=e}makeResegmentHandle(e,n){const o=this.midHandleArchetype;return o===null?null:o.copy().rS()}get midHandleArchetype(){return this.iS}set midHandleArchetype(e){this.iS=e}get handle(){return this.fs}set handle(e){e!==null&&(e.part instanceof gn||t.o("new handle is not in an Adornment: "+e)),this.fs=e}get adornedLink(){return this.Xw}canStart(){if(!this.isEnabled)return!1;const e=this.diagram;return e.isReadOnly||!e.allowReshape||!e.lastInput.left?!1:this.findToolHandleAt(e.firstInput.documentPoint,this.name)!==null}doActivate(){const e=this.diagram;if(this.handle===null&&(this.handle=this.findToolHandleAt(e.firstInput.documentPoint,this.name)),this.handle===null)return;const n=this.handle.part.adornedPart;if(n instanceof vt){if(this.Xw=n,e.isMouseCaptured=!0,this.startTransaction(this.name),n.resegmentable&&this.handle.fromMaxLinks===999){const o=n.points.copy(),l=this.getResegmentingPoint();if(o.insertAt(this.handle.segmentIndex+1,l),n.isOrthogonal&&o.insertAt(this.handle.segmentIndex+1,l),n.points=o,n.invalidateAdornments(),n.updateAdornments(),this.handle=this.findToolHandleAt(e.firstInput.documentPoint,this.name),this.handle===null){this.doDeactivate();return}}this.sS=n.getPoint(this.handle.segmentIndex),this.ym=n.points.copy(),this.isActive=!0}}doDeactivate(){this.stopTransaction(),this.handle=null,this.Xw=null;const e=this.diagram;e.isMouseCaptured=!1,this.isActive=!1}stopTransaction(){const e=this.diagram,n=super.stopTransaction();return n&&e.undoManager.transactionToUndo!==null&&e.undoManager.transactionToUndo.optimize(),n}doCancel(){const e=this.adornedLink;e!==null&&(e.points=this.ym),this.stopTool()}getResegmentingPoint(){return this.handle===null?this.diagram.lastInput.documentPoint:this.handle.getDocumentPoint(L.Center)}doMouseMove(){const e=this.diagram;if(this.isActive){const n=this.computeReshape(e.lastInput.documentPoint);this.reshape(n)}}doMouseUp(){const e=this.diagram;if(this.isActive){const n=this.computeReshape(e.lastInput.documentPoint);this.reshape(n);const o=this.adornedLink;if(o!==null&&o.resegmentable&&this.handle!==null){const l=this.handle.segmentIndex,c=o.getPoint(l-1),h=o.getPoint(l),f=o.getPoint(l+1);if(o.isOrthogonal){if(l>o.firstPickIndex+1&&l<o.lastPickIndex-1){let g=o.getPoint(l-2);if(this.isWithinResegmentingDistance(c,h)&&(this.isInLineOrtho(g,c,h,f,!0)||this.isInLineOrtho(g,c,h,f,!1))){const v=o.points.copy();this.isInLineOrtho(g,c,h,f,!0)?(v.setElt(l-2,new T(g.x,(f.y+g.y)/2)),v.setElt(l+1,new T(f.x,(f.y+g.y)/2))):(v.setElt(l-2,new T((f.x+g.x)/2,g.y)),v.setElt(l+1,new T((f.x+g.x)/2,f.y))),v.removeAt(l),v.removeAt(l-1),o.points=v,o.invalidateAdornments()}else if(g=o.getPoint(l+2),this.isWithinResegmentingDistance(h,f)&&(this.isInLineOrtho(c,h,f,g,!0)||this.isInLineOrtho(c,h,f,g,!1))){const v=o.points.copy();this.isInLineOrtho(c,h,f,g,!0)?(v.setElt(l-1,new T(c.x,(c.y+g.y)/2)),v.setElt(l+2,new T(g.x,(c.y+g.y)/2))):(v.setElt(l-1,new T((c.x+g.x)/2,c.y)),v.setElt(l+2,new T((c.x+g.x)/2,g.y))),v.removeAt(l+1),v.removeAt(l),o.points=v,o.invalidateAdornments()}}}else{const g=T.l();if(I.dl(c.x,c.y,f.x,f.y,h.x,h.y,g)&&g.distanceSquaredPoint(h)<this.resegmentingDistance*this.resegmentingDistance){const v=o.points.copy();v.removeAt(l),o.points=v,o.invalidateAdornments()}T.e(g)}}e.invalidateDocumentBounds(),this.transactionResult=this.name,e.D("LinkReshaped",this.adornedLink,this.ym)}this.stopTool()}isWithinResegmentingDistance(e,n){return Math.abs(e.x-n.x)<this.resegmentingDistance&&Math.abs(e.y-n.y)<this.resegmentingDistance}isInLineOrtho(e,n,o,l,c){return c?Math.abs(e.y-n.y)<this.resegmentingDistance&&Math.abs(n.y-o.y)<this.resegmentingDistance&&Math.abs(o.y-l.y)<this.resegmentingDistance:Math.abs(e.x-n.x)<this.resegmentingDistance&&Math.abs(n.x-o.x)<this.resegmentingDistance&&Math.abs(o.x-l.x)<this.resegmentingDistance}get resegmentingDistance(){return this.eS}set resegmentingDistance(e){this.eS=e}reshape(e){const n=this.adornedLink;if(n===null)return;const o=this.handle;if(o===null)return;n.startRoute();let l=o.segmentIndex;const c=this.getReshapingBehavior(o);if(n.isOrthogonal)if(l===n.firstPickIndex+1){const h=n.firstPickIndex+1;c===2?(n.setPointAt(h,n.getPoint(h-1).x,e.y),n.setPointAt(h+1,n.getPoint(h+2).x,e.y)):c===1&&(n.setPointAt(h,e.x,n.getPoint(h-1).y),n.setPointAt(h+1,e.x,n.getPoint(h+2).y))}else if(l===n.lastPickIndex-1){const h=n.lastPickIndex-1;c===2?(n.setPointAt(h-1,n.getPoint(h-2).x,e.y),n.setPointAt(h,n.getPoint(h+1).x,e.y)):c===1&&(n.setPointAt(h-1,e.x,n.getPoint(h-2).y),n.setPointAt(h,e.x,n.getPoint(h+1).y))}else{let h=l;const f=n.getPoint(h),g=n.getPoint(h-1),v=n.getPoint(h+1);I.f(g.x,f.x)&&I.f(f.y,v.y)?(I.f(g.x,n.getPoint(h-2).x)&&!I.f(g.y,n.getPoint(h-2).y)?(n.insertPointAt(h,e.x,g.y),l++,h++):n.setPointAt(h-1,e.x,g.y),I.f(v.y,n.getPoint(h+2).y)&&!I.f(v.x,n.getPoint(h+2).x)?n.insertPointAt(h+1,v.x,e.y):n.setPointAt(h+1,v.x,e.y)):I.f(g.y,f.y)&&I.f(f.x,v.x)?(I.f(g.y,n.getPoint(h-2).y)&&!I.f(g.x,n.getPoint(h-2).x)?(n.insertPointAt(h,g.x,e.y),l++,h++):n.setPointAt(h-1,g.x,e.y),I.f(v.x,n.getPoint(h+2).x)&&!I.f(v.y,n.getPoint(h+2).y)?n.insertPointAt(h+1,e.x,v.y):n.setPointAt(h+1,e.x,v.y)):I.f(g.x,f.x)&&I.f(f.x,v.x)?(I.f(g.x,n.getPoint(h-2).x)&&!I.f(g.y,n.getPoint(h-2).y)?(n.insertPointAt(h,e.x,g.y),l++,h++):n.setPointAt(h-1,e.x,g.y),I.f(v.x,n.getPoint(h+2).x)&&!I.f(v.y,n.getPoint(h+2).y)?n.insertPointAt(h+1,e.x,v.y):n.setPointAt(h+1,e.x,v.y)):I.f(g.y,f.y)&&I.f(f.y,v.y)&&(I.f(g.y,n.getPoint(h-2).y)&&!I.f(g.x,n.getPoint(h-2).x)?(n.insertPointAt(h,g.x,e.y),l++,h++):n.setPointAt(h-1,g.x,e.y),I.f(v.y,n.getPoint(h+2).y)&&!I.f(v.x,n.getPoint(h+2).x)?n.insertPointAt(h+1,v.x,e.y):n.setPointAt(h+1,v.x,e.y)),n.setPointAt(l,e.x,e.y)}else{n.setPointAt(l,e.x,e.y);let h=n.fromNode,f=n.fromPort;if(h!==null){const w=h.findVisibleNode();w!==null&&w!==h&&(h=w,f=h.port)}if(l===1&&f!==null&&n.computeSpot(!0,f).isNoSpot()){const w=f.getDocumentPoint(L.Center,T.l()),k=n.getLinkPointFromPoint(h,f,w,e,!0,T.l());n.setPointAt(0,k.x,k.y),T.e(w),T.e(k)}let g=n.toNode,v=n.toPort;if(g!==null){const w=g.findVisibleNode();w!==null&&w!==g&&(g=w,v=g.port)}if(l===n.pointsCount-2&&v!==null&&n.computeSpot(!1,v).isNoSpot()){const w=v.getDocumentPoint(L.Center,T.l()),k=n.getLinkPointFromPoint(g,v,w,e,!1,T.l());n.setPointAt(n.pointsCount-1,k.x,k.y),T.e(w),T.e(k)}}n.commitRoute()}computeReshape(e){const n=this.adornedLink;if(n===null)return e;const o=this.handle;if(o===null)return e;const l=o.segmentIndex;switch(this.getReshapingBehavior(o)){case 3:return e;case 2:{const c=n.getPoint(l);return new T(c.x,e.y)}case 1:{const c=n.getPoint(l);return new T(e.x,c.y)}default:case 0:return n.getPoint(l)}}get originalPoint(){return this.sS}get originalPoints(){return this.ym}}class De extends Se{pr;yr;Po;yc;lS;us;dr;fs;wm;hS;wc;Yw;Gw;Kw;constructor(e){super(),this.name="Resizing",this.pr=new B(1,1).u(),this.yr=new B(9999,9999).u(),this.Po=new B(NaN,NaN).u(),this.yc=!1,this.lS=!0,this.us=null,this.dr=new zt("Rectangle",{alignmentFocus:L.Center,desiredSize:B.yC,fill:"lightblue",stroke:"dodgerblue",strokeWidth:1,cursor:"pointer"}).theme("fill","adornmentFill").theme("stroke","adornmentStroke"),this.fs=null,this.wm=new T,this.hS=new B,this.wc=new T,this.Yw=new B(0,0),this.Gw=new B(1/0,1/0),this.Kw=new B(1,1),e&&Object.assign(this,e)}updateAdornments(e){if(!(e===null||e instanceof vt)){if(e.isSelected&&!this.diagram.isReadOnly){const n=e.resizeObject;let o=e.findAdornment(this.name);if(n!==null&&e.canResize()&&e.actualBounds.isReal()&&e.isVisible()&&n.actualBounds.isReal()&&n.isVisibleObject()&&((o===null||o.adornedObject!==n)&&(o=this.makeAdornment(n)),o!==null)){const l=n.getDocumentAngle();e.Nl()&&this.updateResizeHandles(o,l),e.addAdornment(this.name,o);return}}e.removeAdornment(this.name)}}makeAdornment(e){let n=null;const o=e.part?.resizeAdornmentTemplate;if(o){if(n=o.copy(),n===null)return null}else{n=new gn,n.type=Je.Spot,n.locationSpot=L.Center;const l=new us;l.isPanelMain=!0,n.add(l);let c=this.makeHandle(e,L.TopLeft);c!==null&&n.add(c),c=this.makeHandle(e,L.TopRight),c!==null&&n.add(c),c=this.makeHandle(e,L.BottomRight),c!==null&&n.add(c),c=this.makeHandle(e,L.BottomLeft),c!==null&&n.add(c),c=this.makeHandle(e,L.MiddleTop),c!==null&&n.add(c),c=this.makeHandle(e,L.MiddleRight),c!==null&&n.add(c),c=this.makeHandle(e,L.MiddleBottom),c!==null&&n.add(c),c=this.makeHandle(e,L.MiddleLeft),c!==null&&n.add(c)}return n.adornedObject=e,n}makeHandle(e,n){const o=this.handleArchetype;if(o===null)return null;const l=o.copy().rS();return l.alignment=n,l}updateResizeHandles(e,n){if(e!==null){if(!e.alignment.isDefault()&&(e.cursor==="pointer"||e.cursor.indexOf("resize")>0))this.NF(e,n);else if(e instanceof Je){const o=e.elements;for(;o.next();){const l=o.value;this.updateResizeHandles(l,n)}}}}NF(e,n){let o=e.alignment;o.isNoSpot()&&(o=L.Center);let l=n;if(o.x<=0)o.y<=0?l+=225:o.y>=1?l+=135:l+=180;else if(o.x>=1)o.y<=0?l+=315:o.y>=1&&(l+=45);else if(o.y<=0)l+=270;else if(o.y>=1)l+=90;else return;l<0?l+=360:l>=360&&(l-=360),l<22.5?e.cursor="e-resize":l<67.5?e.cursor="se-resize":l<112.5?e.cursor="s-resize":l<157.5?e.cursor="sw-resize":l<202.5?e.cursor="w-resize":l<247.5?e.cursor="nw-resize":l<292.5?e.cursor="n-resize":l<337.5?e.cursor="ne-resize":e.cursor="e-resize"}get handleArchetype(){return this.dr}set handleArchetype(e){this.dr=e}get handle(){return this.fs}set handle(e){e!==null&&(e.part instanceof gn||t.o("new handle is not in an Adornment: "+e)),this.fs=e}get adornedObject(){return this.us}set adornedObject(e){e!==null&&e.part instanceof gn&&t.o("new handle must not be in an Adornment: "+e),this.us=e}canStart(){if(!this.isEnabled)return!1;const e=this.diagram;return e.isReadOnly||!e.allowResize||!e.lastInput.left?!1:this.findToolHandleAt(e.firstInput.documentPoint,this.name)!==null}doActivate(){const e=this.diagram;this.handle===null&&(this.handle=this.findToolHandleAt(e.firstInput.documentPoint,this.name)),this.handle!==null&&(this.adornedObject=this.handle.part.adornedObject,this.adornedObject!==null&&this.adornedObject.part!==null&&(e.isMouseCaptured=!0,e.animationManager.stopAnimation(),e.gu=!0,this.startTransaction(this.name),this.wm.set(this.adornedObject.getDocumentPoint(this.handle.alignment.opposite())),this.wc.set(this.adornedObject.part.location),this.hS.set(this.adornedObject.desiredSize),this.Kw=this.computeCellSize(),this.Yw=this.computeMinSize(),this.Gw=this.computeMaxSize(),this.isActive=!0))}doDeactivate(){const e=this.diagram;e.gu=!1,e.bl=!0,this.stopTransaction(),this.handle=null,this.us=null,e.isMouseCaptured=!1,this.isActive=!1}stopTransaction(){const e=this.diagram,n=super.stopTransaction();return n&&e.undoManager.transactionToUndo!==null&&e.undoManager.transactionToUndo.optimize(),n}doCancel(){this.adornedObject!==null&&this.adornedObject.part!==null&&(this.adornedObject.desiredSize=this.originalDesiredSize,this.adornedObject.part.location=this.originalLocation),this.stopTool()}doMouseMove(){const e=this.diagram;if(!this.isActive||this.adornedObject===null||this.handle===null)return;const n=this.Yw,o=this.Gw,l=this.Kw,c=e.lastInput.documentPoint,h=this.adornedObject.getLocalPoint(c,T.l()),f=this.computeReshape(),g=this.computeResize(h,this.handle.alignment,n,o,l,f);this.resize(g),e.maybeUpdate(),T.e(h)}doMouseUp(){const e=this.diagram;if(this.isActive&&this.adornedObject!==null&&this.handle!==null){const n=this.Yw,o=this.Gw,l=this.Kw,c=this.adornedObject.getLocalPoint(e.lastInput.documentPoint,T.l()),h=this.computeReshape(),f=this.computeResize(c,this.handle.alignment,n,o,l,h);this.resize(f),T.e(c),e.invalidateDocumentBounds(),this.transactionResult=this.name,e.D("PartResized",this.adornedObject,this.originalDesiredSize)}this.stopTool()}resize(e){const n=this.diagram,o=this.adornedObject;if(o===null)return;o.desiredSize=e.size;const l=o.part;if(l===null||this.handle===null)return;l.ensureBounds();const c=o.getDocumentPoint(this.handle.alignment.opposite());if(l instanceof Xt){const h=new m;h.add(l);let f;!this.dragsMembers&&!l.hasPlaceholder()&&(f=new Si,f.dragsMembers=!1),n.moveParts(h,this.oppositePoint.copy().subtract(c),!0,f)}else l.location=l.location.copy().subtract(c).add(this.oppositePoint);n.maybeUpdate()}computeResize(e,n,o,l,c,h){if(this.adornedObject===null)return z.Fg;n.isNoSpot()&&(n=L.Center);const f=this.adornedObject.naturalBounds,g=f.x,v=f.y,w=f.x+f.width,k=f.y+f.height;let P=1;if(!h){let H=f.width,V=f.height;H<=0&&(H=1),V<=0&&(V=1),P=V/H}const N=T.l();I.Dg(e.x,e.y,g,v,c.width,c.height,N);const F=f.copy();return n.x<=0?n.y<=0?(F.x=Math.max(N.x,w-l.width),F.x=Math.min(F.x,w-o.width),F.width=Math.max(w-F.x,o.width),F.y=Math.max(N.y,k-l.height),F.y=Math.min(F.y,k-o.height),F.height=Math.max(k-F.y,o.height),h||(F.height/F.width>=1?(F.height=Math.max(Math.min(P*F.width,l.height),o.height),F.width=F.height/P):(F.width=Math.max(Math.min(F.height/P,l.width),o.width),F.height=P*F.width),F.x=w-F.width,F.y=k-F.height)):n.y>=1?(F.x=Math.max(N.x,w-l.width),F.x=Math.min(F.x,w-o.width),F.width=Math.max(w-F.x,o.width),F.height=Math.max(Math.min(N.y-v,l.height),o.height),h||(F.height/F.width>=1?(F.height=Math.max(Math.min(P*F.width,l.height),o.height),F.width=F.height/P):(F.width=Math.max(Math.min(F.height/P,l.width),o.width),F.height=P*F.width),F.x=w-F.width)):(F.x=Math.max(N.x,w-l.width),F.x=Math.min(F.x,w-o.width),F.width=w-F.x,h||(F.height=Math.max(Math.min(P*F.width,l.height),o.height),F.width=F.height/P,F.y=v+.5*(k-v-F.height))):n.x>=1?n.y<=0?(F.width=Math.max(Math.min(N.x-g,l.width),o.width),F.y=Math.max(N.y,k-l.height),F.y=Math.min(F.y,k-o.height),F.height=Math.max(k-F.y,o.height),h||(F.height/F.width>=1?(F.height=Math.max(Math.min(P*F.width,l.height),o.height),F.width=F.height/P):(F.width=Math.max(Math.min(F.height/P,l.width),o.width),F.height=P*F.width),F.y=k-F.height)):n.y>=1?(F.width=Math.max(Math.min(N.x-g,l.width),o.width),F.height=Math.max(Math.min(N.y-v,l.height),o.height),h||(F.height/F.width>=1?(F.height=Math.max(Math.min(P*F.width,l.height),o.height),F.width=F.height/P):(F.width=Math.max(Math.min(F.height/P,l.width),o.width),F.height=P*F.width))):(F.width=Math.max(Math.min(N.x-g,l.width),o.width),h||(F.height=Math.max(Math.min(P*F.width,l.height),o.height),F.width=F.height/P,F.y=v+.5*(k-v-F.height))):n.y<=0?(F.y=Math.max(N.y,k-l.height),F.y=Math.min(F.y,k-o.height),F.height=k-F.y,h||(F.width=Math.max(Math.min(F.height/P,l.width),o.width),F.height=P*F.width,F.x=g+.5*(w-g-F.width))):n.y>=1&&(F.height=Math.max(Math.min(N.y-v,l.height),o.height),h||(F.width=Math.max(Math.min(F.height/P,l.width),o.width),F.height=P*F.width,F.x=g+.5*(w-g-F.width))),T.e(N),F}computeReshape(){let e=0;return this.adornedObject instanceof zt&&(e=this.adornedObject.aS()),!(e===6||this.diagram.lastInput.shift)}computeMinSize(){if(this.adornedObject===null)return B.sc;const e=this.adornedObject.minSize.copy(),n=this.minSize;return!isNaN(n.width)&&n.width>e.width&&(e.width=n.width),!isNaN(n.height)&&n.height>e.height&&(e.height=n.height),e}computeMaxSize(){if(this.adornedObject===null)return B.Bk;const e=this.adornedObject.maxSize.copy(),n=this.maxSize;return!isNaN(n.width)&&n.width<e.width&&(e.width=n.width),!isNaN(n.height)&&n.height<e.height&&(e.height=n.height),e}computeCellSize(){const e=new B(NaN,NaN),n=this.adornedObject?.part;if(n){const c=n.resizeCellSize;!isNaN(c.width)&&c.width>0&&(e.width=c.width),!isNaN(c.height)&&c.height>0&&(e.height=c.height)}let o=this.cellSize;isNaN(e.width)&&!isNaN(o.width)&&o.width>0&&(e.width=o.width),isNaN(e.height)&&!isNaN(o.height)&&o.height>0&&(e.height=o.height);const l=this.diagram;if((isNaN(e.width)||isNaN(e.height))&&l){const c=l.grid;c!==null&&c.visible&&this.isGridSnapEnabled&&(o=c.gridCellSize,isNaN(e.width)&&!isNaN(o.width)&&o.width>0&&(e.width=o.width),isNaN(e.height)&&!isNaN(o.height)&&o.height>0&&(e.height=o.height))}return(isNaN(e.width)||e.width===0||e.width===1/0)&&(e.width=1),(isNaN(e.height)||e.height===0||e.height===1/0)&&(e.height=1),e}get minSize(){return this.pr}set minSize(e){if(!this.pr.equals(e)){let n=e.width;isNaN(n)&&(n=0);let o=e.height;isNaN(o)&&(o=0),this.pr.i(n,o)}}get maxSize(){return this.yr}set maxSize(e){if(!this.yr.equals(e)){let n=e.width;isNaN(n)&&(n=1/0);let o=e.height;isNaN(o)&&(o=1/0),this.yr.i(n,o)}}get cellSize(){return this.Po}set cellSize(e){this.Po.equals(e)||this.Po.a(e)}get isGridSnapEnabled(){return this.yc}set isGridSnapEnabled(e){this.yc=e}get dragsMembers(){return this.lS}set dragsMembers(e){this.lS=e}get oppositePoint(){return this.wm}set oppositePoint(e){this.wm.equals(e)||this.wm.a(e)}get originalDesiredSize(){return this.hS}get originalLocation(){return this.wc}}class je extends Se{cS;fS;us=null;dr=null;jw=null;fs=null;uS;xm;wc;dS;gS;constructor(e){super(),this.name="Rotating",this.cS=45,this.fS=2,this.wc=new T,this.us=null,this.handleArchetype=new zt("Ellipse",{desiredSize:B.nu,fill:"lightblue",stroke:"dodgerblue",strokeWidth:1,cursor:"pointer"}).theme("fill","adornmentFill").theme("stroke","adornmentStroke"),this.fs=null,this.uS=0,this.xm=new T(NaN,NaN),this.dS=0,this.gS=50,e&&Object.assign(this,e)}updateAdornments(e){if(e!==null){if(e.Cl()){const n=e.rotateObject;if(n===e||n===e.path||n.isPanelMain)return}if(e.isSelected&&!this.diagram.isReadOnly){const n=e.rotateObject;if(n!==null&&e.canRotate()&&e.actualBounds.isReal()&&e.isVisible()&&n.actualBounds.isReal()&&n.isVisibleObject()){let o=e.findAdornment(this.name);if((o===null||o.adornedObject!==n)&&(o=this.makeAdornment(n)),o!==null){o.angle=n.getDocumentAngle(),o.hasPlaceholder()||(o.location=this.computeAdornmentLocation(n)),e.addAdornment(this.name,o);return}}}e.removeAdornment(this.name)}}makeAdornment(e){let n=null;const o=e.part?.rotateAdornmentTemplate;return o?n=o.copy():this.jw!==null&&(n=this.jw.copy()),n===null?null:(n.adornedObject=e,n)}get handleArchetype(){return this.dr}set handleArchetype(e){this.dr=e,e!==null?this.jw=new gn(Je.Position,{locationSpot:L.Center}).add(e).Et():this.jw=null}get handle(){return this.fs}set handle(e){e!==null&&(e.part instanceof gn||t.o("new handle is not in an Adornment: "+e)),this.fs=e}get adornedObject(){return this.us}set adornedObject(e){e!==null&&e.part instanceof gn&&t.o("new handle must not be in an Adornment: "+e),this.us=e}canStart(){if(!this.isEnabled)return!1;const e=this.diagram;return e.isReadOnly||!e.allowRotate||!e.lastInput.left?!1:this.findToolHandleAt(e.firstInput.documentPoint,this.name)!==null}doActivate(){const e=this.diagram;if(this.adornedObject===null){if(this.handle===null&&(this.handle=this.findToolHandleAt(e.firstInput.documentPoint,this.name)),this.handle===null)return;this.adornedObject=this.handle.part.adornedObject}this.adornedObject===null||this.adornedObject.part===null||(e.isMouseCaptured=!0,e.delaysLayout=!0,this.startTransaction(this.name),this.uS=this.adornedObject.angle,this.xm=this.computeRotationPoint(this.adornedObject),this.wc=this.adornedObject.part.location.copy(),this.isActive=!0)}computeRotationPoint(e){const n=e.part;if(n!==null){const o=n.locationObject;if(n.rotationSpot.isSpot())return e.getDocumentPoint(n.rotationSpot);if(e===n||e===o)return o.getDocumentPoint(n.locationSpot)}return e.getDocumentPoint(L.Center)}computeAdornmentLocation(e){let n=this.rotationPoint;n.isReal()||(n=this.computeRotationPoint(e));const o=e.getLocalPoint(n);let l=this.handleAngle;l<0?l+=360:l>=360&&(l-=360),l=Math.round(Math.round(l/45)*45);const c=this.handleDistance;return l===0?o.x=e.naturalBounds.width+c:l===45?(o.x=e.naturalBounds.width+c,o.y=e.naturalBounds.height+c):l===90?o.y=e.naturalBounds.height+c:l===135?(o.x=-c,o.y=e.naturalBounds.height+c):l===180?o.x=-c:l===225?(o.x=-c,o.y=-c):l===270?o.y=-c:l===315&&(o.x=e.naturalBounds.width+c,o.y=-c),e.getDocumentPoint(o)}doDeactivate(){const e=this.diagram;this.stopTransaction(),this.handle=null,this.us=null,this.xm=new T(NaN,NaN),e.isMouseCaptured=!1,this.isActive=!1}stopTransaction(){const e=this.diagram,n=super.stopTransaction();return n&&e.undoManager.transactionToUndo!==null&&e.undoManager.transactionToUndo.optimize(),n}doCancel(){const e=this.diagram;e.delaysLayout=!1,this.rotate(this.originalAngle),this.stopTool()}doMouseMove(){const e=this.diagram;if(this.isActive){const n=this.computeRotate(e.lastInput.documentPoint);this.rotate(n)}}doMouseUp(){const e=this.diagram;if(this.isActive){e.delaysLayout=!1;const n=this.computeRotate(e.lastInput.documentPoint);this.rotate(n),e.invalidateDocumentBounds(),this.transactionResult=this.name,e.D("PartRotated",this.adornedObject,this.originalAngle)}this.stopTool()}rotate(e){const n=this.adornedObject;if(n===null||n.part===null)return;n.angle=e;const o=n.part;o.ensureBounds();const l=o.locationObject,c=o.rotateObject;if(l===c||l.isContainedBy(c)){const h=this.wc.copy();o.location=h.subtract(this.rotationPoint).rotate(e-this.originalAngle).add(this.rotationPoint)}this.diagram.maybeUpdate()}computeRotate(e){let n=this.rotationPoint.directionPoint(e)-this.handleAngle;const o=this.adornedObject?.panel;o&&(n-=o.getDocumentAngle()),n>=360?n-=360:n<0&&(n+=360);const l=Math.min(Math.abs(this.snapAngleMultiple),180),c=Math.min(Math.abs(this.snapAngleEpsilon),l/2);return!this.diagram.lastInput.shift&&l>0&&c>0&&(n%l<c?n=Math.floor(n/l)*l:n%l>l-c&&(n=(Math.floor(n/l)+1)*l)),n>=360?n-=360:n<0&&(n+=360),n}get snapAngleMultiple(){return this.cS}set snapAngleMultiple(e){this.cS=e}get snapAngleEpsilon(){return this.fS}set snapAngleEpsilon(e){this.fS=e}get originalAngle(){return this.uS}get rotationPoint(){return this.xm}set rotationPoint(e){this.xm=e.copy()}get handleAngle(){return this.dS}set handleAngle(e){this.dS=e}get handleDistance(){return this.gS}set handleDistance(e){this.gS=e}}class Ee extends Se{constructor(e){super(),this.name="ClickSelecting",e&&Object.assign(this,e)}canStart(){return!(!this.isEnabled||this.isBeyondDragSize())}doMouseUp(){this.isActive&&(this.standardMouseSelect(),this.standardMouseClick()||this.diagram.lastInput.isTouchEvent&&this.diagram.toolManager.doToolTip()),this.stopTool()}}class Qe extends Se{xc;constructor(e){super(),this.name="Action",this.xc=null,e&&Object.assign(this,e)}canStart(){if(!this.isEnabled)return!1;const e=this.diagram,n=e.lastInput,o=e.findObjectAt(n.documentPoint,l=>{for(;l.panel!==null;){if(l.isActionable)return l;l=l.panel}return l});return o!==null&&o.isActionable?(this.xc=o,e.gc=e.findObjectAt(n.documentPoint,null,null),!0):!1}doMouseDown(){if(!this.isActive)this.canStart()&&this.doActivate();else{const e=this.diagram.lastInput,n=this.xc;if(n===null)return;e.targetObject=n,n.actionDown!==null&&n.actionDown(e,n)}}doMouseMove(){if(this.isActive){const e=this.diagram.lastInput,n=this.xc;if(n===null)return;e.targetObject=n,n.actionMove!==null&&n.actionMove(e,n)}}doMouseUp(){if(this.isActive){const e=this.diagram.lastInput,n=this.xc;if(n===null)return;e.targetObject=n,n.actionUp!==null&&n.actionUp(e,n),this.standardMouseClick(o=>{for(;o.panel!==null;){if(o.isActionable&&o===n)return o;o=o.panel}return o},o=>o===n)}this.stopTool()}doCancel(){const e=this.diagram.lastInput,n=this.xc;n!==null&&(e.targetObject=n,n.actionCancel!==null&&n.actionCancel(e,n),this.stopTool())}doStop(){this.xc=null}}class ut extends Se{Ll;mS;yc;pS;constructor(e){super(),this.name="ClickCreating",this.Ll=null,this.mS=!0,this.yc=!1,this.pS=new T(0,0),e&&Object.assign(this,e)}canStart(){if(!this.isEnabled||this.archetypeNodeData===null)return!1;const e=this.diagram;if(e.isReadOnly||e.isModelReadOnly||!e.allowInsert||!e.lastInput.left||this.isBeyondDragSize())return!1;if(this.isDoubleClick){if(e.lastInput.clickCount===1&&(this.pS=e.lastInput.viewPoint.copy()),e.lastInput.clickCount!==2||this.isBeyondDragSize(this.pS))return!1}else if(e.lastInput.clickCount!==1)return!1;return!(e.currentTool!==this&&e.findPartAt(e.lastInput.documentPoint,!0)!==null)}doMouseUp(){const e=this.diagram;this.isActive&&this.insertPart(e.lastInput.documentPoint),this.stopTool()}insertPart(e){const n=this.diagram,o=this.archetypeNodeData;if(o===null)return null;let l=null;try{if(n.D("ChangingSelection",n.selection),this.startTransaction(this.name),o instanceof Pn)o.ke()&&(o.Et(),l=o.copy(),l!==null&&n.add(l));else if(o!==null){const c=n.model.copyNodeData(o);t.G(c)&&(n.model.addNodeData(c),l=n.findPartForData(c))}if(l!==null){const c=T.V(e.x,e.y);this.isGridSnapEnabled&&this.diagram.yS(l,e,c),l.location=c,n.allowSelect&&(n.clearSelection(!0),l.isSelected=!0),T.e(c)}n.invalidateDocumentBounds(),this.transactionResult=this.name,n.D("PartCreated",l)}finally{this.stopTransaction(),n.D("ChangedSelection",n.selection)}return l}get archetypeNodeData(){return this.Ll}set archetypeNodeData(e){e!==null&&t.ec(e,ut,"archetypeNodeData"),this.Ll=e}get isDoubleClick(){return this.mS}set isDoubleClick(e){this.mS=e}get isGridSnapEnabled(){return this.yc}set isGridSnapEnabled(e){this.yc=e}}class Ht extends Se{Xh;wS;Al;constructor(e){super(),this.name="DragSelecting",this.Xh=175,this.wS=!1,this.Al=new Pn({layerName:"Tool",selectable:!1}).add(new zt("Rectangle",{name:"SHAPE",fill:null,stroke:"magenta"}).theme("stroke","dragSelect")).Et(),e&&Object.assign(this,e)}canStart(){if(!this.isEnabled)return!1;const e=this.diagram;if(!e.allowSelect)return!1;const n=e.lastInput;return!(!n.left||e.currentTool!==this&&(!this.isBeyondDragSize()||n.timestamp-e.firstInput.timestamp<this.delay||e.findPartAt(n.documentPoint,!0)!==null))}doActivate(){const e=this.diagram;this.isActive=!0,e.isMouseCaptured=!0,e.skipsUndoManager=!0,this.box&&e.add(this.box),this.doMouseMove()}doDeactivate(){const e=this.diagram;e.stopAutoScroll(),this.box&&e.remove(this.box),e.skipsUndoManager=!1,e.isMouseCaptured=!1,this.isActive=!1}doMouseMove(){const e=this.diagram;if(this.isActive&&this.box!==null){const n=this.computeBoxBounds();let o=this.box.findObject("SHAPE");o===null&&(o=this.box.findMainElement());const l=B.l().i(n.width,n.height);o!==null&&(o.desiredSize=l),this.box.bc(n.x,n.y,!1),B.e(l),(e.allowHorizontalScroll||e.allowVerticalScroll)&&e.doAutoScroll(e.lastInput.viewPoint)}}doMouseUp(){if(this.isActive){const e=this.diagram;this.box&&e.remove(this.box);try{e.currentCursor="wait",e.D("ChangingSelection",e.selection),this.selectInRect(this.computeBoxBounds()),e.D("ChangedSelection",e.selection)}finally{e.currentCursor=""}}this.stopTool()}computeBoxBounds(){const e=this.diagram;return new z(e.firstInput.documentPoint,e.lastInput.documentPoint)}selectInRect(e){const n=this.diagram,o=n.lastInput,l=n.findPartsIn(e,this.isPartialInclusion);if(t.tr?o.meta:o.control)if(o.shift){const c=l.iterator;for(;c.next();){const h=c.value;h.isSelected&&(h.isSelected=!1)}}else{const c=l.iterator;for(;c.next();){const h=c.value;h.isSelected=!h.isSelected}}else if(o.shift){const c=l.iterator;for(;c.next();){const h=c.value;h.isSelected||(h.isSelected=!0)}}else{const c=new m,h=n.selection.iterator;for(;h.next();){const v=h.value;l.has(v)||c.add(v)}const f=c.iterator;for(;f.next();){const v=f.value;v.isSelected=!1}const g=l.iterator;for(;g.next();){const v=g.value;v.isSelected||(v.isSelected=!0)}}}get delay(){return this.Xh}set delay(e){this.Xh=e}get isPartialInclusion(){return this.wS}set isPartialInclusion(e){this.wS=e}get box(){return this.Al}set box(e){e!==null&&e.Et(),this.Al=e}}class un extends Se{Hw;aL;ko;xS;constructor(e){super(),this.name="Panning",this.Hw=new T,this.aL=new T,this.ko=!1;const n=this;this.xS=()=>{const o=n.diagram;o!==null&&o.Pi(i.document,"scroll",n.xS,!1),n.stopTool()},e&&Object.assign(this,e)}canStart(){if(!this.isEnabled)return!1;const e=this.diagram;return!(!e.allowHorizontalScroll&&!e.allowVerticalScroll||!e.lastInput.left||e.currentTool!==this&&!this.isBeyondDragSize())}doActivate(){const e=this.diagram;this.ko?(e.lastInput.bubbles=!0,e.Ut(i.document,"scroll",this.xS,!1)):(e.currentCursor="move",e.isMouseCaptured=!0,this.Hw.a(e.position)),this.isActive=!0}doDeactivate(){const e=this.diagram;e.currentCursor="",e.isMouseCaptured=!1,this.isActive=!1}doCancel(){const e=this.diagram;e.position=this.Hw,e.isMouseCaptured=!1,this.stopTool()}doMouseMove(){this.cL()}doMouseUp(){this.cL(),this.stopTool()}cL(){const e=this.diagram;if(this.isActive&&e){if(this.ko){e.lastInput.bubbles=!0;return}const n=e.position,o=e.firstInput.documentPoint,l=e.lastInput.documentPoint;let c=n.x+o.x-l.x,h=n.y+o.y-l.y;e.allowHorizontalScroll||(c=n.x),e.allowVerticalScroll||(h=n.y),e.position=this.aL.i(c,h)}}get bubbles(){return this.ko}set bubbles(e){this.ko=e}get originalPosition(){return this.Hw}}class Ct{qw;Ww;bS;kS;constructor(e){this.qw=null,this.Ww=null,this.bS=null,this.kS=null,e&&Object.assign(this,e)}get mainElement(){return this.bS}set mainElement(e){this.bS=e}get show(){return this.qw}set show(e){this.qw!==e&&(this.qw=e)}get hide(){return this.Ww}set hide(e){this.Ww!==e&&(this.Ww=e)}get valueFunction(){return this.kS}set valueFunction(e){this.kS=e}}class ht{ri;Jw;kc;constructor(e,n,o){this.ri=e,this.Jw=n,this.kc=o}}class Ze extends Se{PS;$w;SS;MS;Zw;Qw;bm;constructor(e){super(),this.name="ContextMenu",this.PS=null,this.$w=null,this.SS=null,this.MS=new T,this.Zw=null,this.bm=!1;const n=this;this.Qw=()=>n.stopTool(),e&&Object.assign(this,e)}CF(){const e=new Ct;e.show=(f,g,v)=>v.showDefaultContextMenu(),e.hide=(f,g)=>g.hideDefaultContextMenu(),Ze.wu=e;const n=this;this.Qw=()=>n.stopTool();const o=t.hs("div"),l=t.hs("div");o.style.cssText="top: 0px;z-index:10002;position: fixed;display: none;text-align: center;left: 25%;width: 50%;background-color: #F5F5F5;padding: 16px;border: 16px solid #444;border-radius: 10px;margin-top: 10px",l.style.cssText="z-index:10001;position: fixed;display: none;top: 0;left: 0;width: 100%;height: 100%;background-color: black;opacity: 0.8;";const c=t.hs("style");i.document.getElementsByTagName("head")[0].appendChild(c),c.sheet.insertRule(".goCXul { list-style: none; }",0),c.sheet.insertRule(".goCXli {font:700 1.5em Helvetica, Arial, sans-serif;position: relative;min-width: 60px; }",0),c.sheet.insertRule(".goCXa {color: #444;display: inline-block;padding: 4px;text-decoration: none;margin: 2px;border: 1px solid gray;border-radius: 10px; }",0);const h=this.diagram;h!==null&&(h.Ut(o,"contextmenu",Ze.jh,!1),h.Ut(o,"selectstart",Ze.jh,!1),h.Ut(l,"contextmenu",Ze.jh,!1)),o.className="goCXforeground",l.className="goCXbackground",i.document.body&&(i.document.body.appendChild(o),i.document.body.appendChild(l)),Ze.km=o,Ze.Pm=l,Ze.NS=!0}static wu=null;static NS=!1;static Pm;static km;static jh(e){return e.preventDefault(),!1}canStart(){if(!this.isEnabled)return!1;const e=this.diagram;return this.isBeyondDragSize()||!e.lastInput.right||e.lastInput.clickCount>1?!1:!!(e.lastInput.isTouchEvent&&this.defaultTouchContextMenu!==null||this.findObjectWithContextMenu()!==null)}doStart(){const e=this.diagram;this.MS.set(e.firstInput.documentPoint)}doStop(){this.hideContextMenu(),this.currentObject=null,this.bm=!1}findObjectWithContextMenu(e){e===void 0&&(e=null);const n=this.diagram,o=n.lastInput;let l=null;if(e instanceof Te||(e instanceof Wt?l=e:l=n.findObjectAt(o.documentPoint,null,c=>!c.layer?.isTemporary)),l!==null){let c=l;for(;c!==null;){if(c.contextMenu!==null)return c;c=c.panel}if(n.lastInput.isTouchEvent&&this.defaultTouchContextMenu)return l.part}else if(n.contextMenu!==null)return n;return null}doActivate(){}doMouseDown(){if(super.doMouseDown(),this.isActive&&this.currentContextMenu instanceof gn){const e=this.diagram.toolManager.findTool("Action");e!==null&&e.canStart()&&(e.doActivate(),e.doMouseDown(),e.doDeactivate())}this.diagram.toolManager.mouseDownTools.has(this)&&this.doContextClick()}doMouseUp(){if(this.isActive&&this.currentContextMenu instanceof gn){const e=this.diagram.toolManager.findTool("Action");e!==null&&e.canStart()&&(e.doActivate(),e.doCancel(),e.doDeactivate())}this.doContextClick()}doContextClick(){const e=this.diagram;if(!this.isActive)this.canStart()&&(this.openMenu(!0),this.isActive||this.stopTool());else{const n=this.currentContextMenu;if(n===null)return;let o=null;n instanceof Ct||(o=e.findObjectAt(e.lastInput.documentPoint,null,null),o!==null&&o.isContainedBy(n)&&this.standardMouseClick(null,null)),this.maybeStopTool(o)}}maybeStopTool(e){this.stopTool(),this.canStart()&&(this.diagram.currentTool=this,this.doMouseUp())}openMenu(e,n){if(n===void 0&&(n=null),this.bm)return;this.bm=!0,e&&this.standardMouseSelect();const o=this.standardMouseClick();if(this.bm=!1,!o){this.isActive=!0;const l=Ze.wu;if(n===null&&(n=this.findObjectWithContextMenu()),n!==null){const c=n.contextMenu;c!==null?(this.currentObject=n instanceof Wt?n:null,this.showContextMenu(c,this.currentObject)):l!==null&&this.showContextMenu(l,this.currentObject)}else l!==null&&this.showContextMenu(l,null);this.currentContextMenu instanceof gn&&!this.currentContextMenu.visible&&this.stopTool()}}doMouseMove(){const e=this.diagram.toolManager.findTool("Action");e!==null&&e.doMouseMove(),this.isActive&&this.diagram.toolManager.doMouseMove()}showContextMenu(e,n){const o=this.diagram;if(e!==this.currentContextMenu&&this.hideContextMenu(),e instanceof gn){const l=e;l.layerName="Tool",l.selectable=!1,l.scale=1/o.scale,l.category=this.name,l.hasPlaceholder()&&(l.placeholder.scale=o.scale);const c=l.diagram;c!==null&&c!==o&&c.remove(l),o.add(l),n!==null?l.adornedObject=n:l.data=o.model,l.ensureBounds(),this.positionContextMenu(l,n)}else e instanceof Ct&&e.show!==null&&e.show(n,o,this);this.currentContextMenu=e}positionContextMenu(e,n){if(e.hasPlaceholder())return;const o=e,l=this.diagram,c=l.lastInput.documentPoint.copy(),h=o.measuredBounds,f=l.viewportBounds;l.lastInput.isTouchEvent&&(c.x-=h.width),c.x+h.width>f.right&&(c.x-=h.width+5/l.scale),c.x<f.x&&(c.x=f.x),c.y+h.height>f.bottom&&(c.y-=h.height+5/l.scale),c.y<f.y&&(c.y=f.y),o.position=c}hideContextMenu(){const e=this.diagram,n=this.currentContextMenu;n!==null&&(n instanceof gn?(e.remove(n),this.$w!==null&&this.$w.removeAdornment(n.category),n.data=null,n.adornedObject=null):n instanceof Ct&&(n.hide!==null?n.hide(e,this):n.mainElement!==null&&(n.mainElement.style.display="none")),this.currentContextMenu=null,this.standardMouseOver())}LF(){const e=this,n=new m;return n.add(new ht("Copy",o=>o.commandHandler.copySelection(),o=>o.commandHandler.canCopySelection())),n.add(new ht("Cut",o=>o.commandHandler.cutSelection(),o=>o.commandHandler.canCutSelection())),n.add(new ht("Delete",o=>o.commandHandler.deleteSelection(),o=>o.commandHandler.canDeleteSelection())),n.add(new ht("Paste",o=>o.commandHandler.pasteSelection(e.mouseDownPoint),o=>o.commandHandler.canPasteSelection(e.mouseDownPoint))),n.add(new ht("Select All",o=>o.commandHandler.selectAll(),o=>o.commandHandler.canSelectAll())),n.add(new ht("Undo",o=>o.commandHandler.undo(),o=>o.commandHandler.canUndo())),n.add(new ht("Redo",o=>o.commandHandler.redo(),o=>o.commandHandler.canRedo())),n.add(new ht("Scroll To Part",o=>o.commandHandler.scrollToPart(),o=>o.commandHandler.canScrollToPart())),n.add(new ht("Zoom To Fit",o=>o.commandHandler.zoomToFit(),o=>o.commandHandler.canZoomToFit())),n.add(new ht("Reset Zoom",o=>o.commandHandler.resetZoom(),o=>o.commandHandler.canResetZoom())),n.add(new ht("Group Selection",o=>o.commandHandler.groupSelection(),o=>o.commandHandler.canGroupSelection())),n.add(new ht("Ungroup Selection",o=>o.commandHandler.ungroupSelection(),o=>o.commandHandler.canUngroupSelection())),n.add(new ht("Edit Text",o=>o.commandHandler.editTextBlock(),o=>o.commandHandler.canEditTextBlock())),n}showDefaultContextMenu(){const e=this.diagram;this.Zw===null&&(this.Zw=this.LF()),Ze.km.innerHTML="",Ze.Pm.addEventListener("pointerdown",this.Qw,!1);const n=this,o=t.hs("ul");o.className="goCXul",Ze.km.appendChild(o),o.innerHTML="";const l=this.Zw.iterator;for(;l.next();){const c=l.value,h=c.Jw,f=c.kc;if(!t.it(h)||t.it(f)&&!f(e))continue;const g=t.hs("li");g.className="goCXli";const v=t.hs("a");v.className="goCXa",v.href="#",v.Jw=h,v.addEventListener("pointerdown",function(w){return this.Jw(e),n.stopTool(),w.preventDefault(),!1},!1),v.textContent=c.ri,g.appendChild(v),o.appendChild(g)}Ze.km.style.display="block",Ze.Pm.style.display="block"}hideDefaultContextMenu(){if(this.currentContextMenu===null||this.currentContextMenu!==Ze.wu)return;Ze.km.style.display="none",Ze.Pm.style.display="none";const e=this.diagram;e!==null&&e.Pi(Ze.Pm,"pointerdown",this.Qw,!1),this.currentContextMenu=null}get currentContextMenu(){return this.PS}set currentContextMenu(e){this.PS=e,this.$w=e instanceof gn?e.adornedPart:null}get defaultTouchContextMenu(){return Ze.NS===!1&&Ze.wu===null&&Te.isUsingDOM()&&this.CF(),Ze.wu}set defaultTouchContextMenu(e){e===null&&(Ze.NS=!0),Ze.wu=e}get currentObject(){return this.SS}set currentObject(e){this.SS=e}get mouseDownPoint(){return this.MS}}var yt=(G=>(G[G.LostFocus=1]="LostFocus",G[G.MouseDown=2]="MouseDown",G[G.Tab=3]="Tab",G[G.Enter=4]="Enter",G))(yt||{}),Ut=(G=>(G[G.SingleClick=1]="SingleClick",G[G.SingleClickSelected=2]="SingleClickSelected",G[G.DoubleClick=3]="DoubleClick",G))(Ut||{}),nn=(G=>(G[G.None=1]="None",G[G.Active=2]="Active",G[G.Editing=3]="Editing",G[G.Validating=4]="Validating",G[G.Invalid=5]="Invalid",G[G.Validated=6]="Validated",G))(nn||{});class Ve extends Se{Pe;CS;LS;Tl;Gt;AS;TS;DS;_w;FS;constructor(e){super(),this.name="TextEditing",this.Pe=new rn,this.CS=null,this.LS=2,this.Tl=null,this.Gt=1,this.AS=1,this.TS=!0,this.DS=null,this._w=new Ct,this.AF(this._w),e&&Object.assign(this,e)}static LostFocus=1;static MouseDown=2;static Tab=3;static Enter=4;static SingleClick=1;static SingleClickSelected=2;static DoubleClick=3;static StateNone=1;static StateActive=2;static StateEditing=3;static StateValidating=4;static StateInvalid=5;static StateValidated=6;AF(e){if(!Te.isUsingDOM())return;const n=t.hs("textarea");this.FS=n;const o=this;n.addEventListener("input",function(l){if(o.textBlock===null)return;const c=o.measureTemporaryTextBlock(this.value),h=this.textScale;this.style.width=20+Math.max(o.textBlock.measuredBounds.width,c.measuredBounds.width)*h+"px",this.rows=Math.max(o.textBlock.lineCount,c.lineCount)},!1),n.addEventListener("keydown",function(l){if(l.isComposing||o.textBlock===null)return;const c=l.key;if(c==="Enter"){o.textBlock.isMultiline===!1&&l.preventDefault(),o.acceptText(4);return}else if(c==="Tab"){o.acceptText(3),l.preventDefault();return}else c==="Escape"&&(o.doCancel(),o.diagram!==null&&o.diagram.doFocus())},!1),n.addEventListener("focus",function(l){o.TF(l)},!1),n.addEventListener("blur",function(l){o.DF(l)},!1),e.valueFunction=()=>n.value,e.mainElement=n,e.show=(l,c,h)=>{if(!(l instanceof rn)||!c||!c.div||!(h instanceof Ve))return;if(h.state===5){n.style.border="3px solid red",n.focus();return}const f=l.getDocumentPoint(L.Center),g=c.position,v=c.scale;let w=l.getDocumentScale()*v;w<h.minimumEditorScale&&(w=h.minimumEditorScale);const k=l.naturalBounds.width*w+6,P=l.naturalBounds.height*w+2,N=(f.x-g.x)*v,F=(f.y-g.y)*v,H=l.verticalAlignment,V=(l.lineHeight+l.spacingAbove+l.spacingBelow)*l.lineCount*w,$=.5*P-.5*V,K=H.y*P-H.y*V+H.offsetY-$-V/2;n.value=l.text,c.div.style.font=l.font;const J=1;n.style.position="absolute",n.style.zIndex="100",n.style.font="inherit",n.style.fontSize=w*100+"%",n.style.lineHeight="normal",n.style.width=k+"px",n.style.left=(N-k/2|0)-J+"px",n.style.top=(F+K|0)-J+"px",n.style.textAlign=l.textAlign,n.style.margin="0",n.style.padding=J+"px",n.style.border="0",n.style.outline="none",n.style.whiteSpace="pre-wrap",n.style.overflow="hidden",n.rows=l.lineCount,n.textScale=w,n.className="goTXarea",c.div.appendChild(n),n.focus(),h.selectsTextOnActivate&&(n.select(),n.setSelectionRange(0,9999))},e.hide=(l,c)=>{l.div&&l.div.removeChild(n)}}get textBlock(){return this.CS}set textBlock(e){this.CS=e}get currentTextEditor(){return this.DS}set currentTextEditor(e){this.DS=e}get defaultTextEditor(){return this._w}set defaultTextEditor(e){this._w=e}get starting(){return this.LS}set starting(e){this.LS=e}canStart(){if(!this.isEnabled)return!1;const e=this.diagram;if(e===null||e.isReadOnly||Ve.Pc&&Ve.Pc!==this&&(Ve.Pc.acceptText(2),Ve.Pc&&Ve.Pc!==this)||!e.lastInput.left||this.isBeyondDragSize())return!1;const n=e.lastInput.documentPoint,o=e.findObjectAt(n);if(o===null||!(o instanceof rn)||!o.editable||o.part===null||!o.part.canEdit())return!1;const l=o.part;return!(l===null||this.starting===2&&!l.isSelected||this.starting===3&&e.lastInput.clickCount<2)}doStart(){Ve.Pc=this,this.textBlock!==null&&this.doActivate()}doActivate(){if(this.isActive)return;const e=this.diagram;if(e===null)return;let n=this.textBlock;if(n===null&&(n=e.findObjectAt(e.lastInput.documentPoint)),n===null||!(n instanceof rn)||(this.textBlock=n,n.part===null))return;e.animationManager.stopAnimation(),this.isActive=!0,this.Gt=2;let o=this.defaultTextEditor;n.textEditor!==null&&(o=n.textEditor),this.Pe=this.textBlock.copy();const l=new z(this.textBlock.getDocumentPoint(L.TopLeft),this.textBlock.getDocumentPoint(L.BottomRight));e.scrollToRect(l),o!==null&&o.show!==null&&o.show(n,e,this),this.currentTextEditor=o}doCancel(){this.stopTool()}doMouseUp(){this.canStart()&&this.doActivate()}doMouseDown(){this.isActive&&this.acceptText(2)}acceptText(e){switch(e){case 2:this.Gt===6?this.currentTextEditor instanceof HTMLElement&&this.currentTextEditor.focus():(this.Gt===2||this.Gt===5||this.Gt===3)&&(this.Gt=4,this.fL());break;case 1:case 4:case 3:if(e===4&&this.textBlock!==null&&this.textBlock.isMultiline===!0)return;(this.Gt===2||this.Gt===5||this.Gt===3)&&(this.Gt=4,this.fL());break}}fL(){const e=this.textBlock,n=this.diagram,o=this.currentTextEditor;if(e!==null&&o!==null){const l=e.text;let c="";if(o.valueFunction!==null&&(c=o.valueFunction()),!this.isValidText(e,l,c)){this.Gt=5,this.doError(l,c);return}this.startTransaction(this.name),this.Gt=6,this.transactionResult=this.name,e.text=c,this.doSuccess(l,c),n!==null&&n.D("TextEdited",e,l),this.stopTransaction(),this.stopTool(),n!==null&&n.doFocus()}}doError(e,n){const o=this.textBlock;if(o===null)return;o.errorFunction!==null&&o.errorFunction(this,e,n);const l=this.currentTextEditor;l!==null&&l.show!==null&&l.show(o,this.diagram,this)}doSuccess(e,n){const o=this.textBlock;o!==null&&o.textEdited!==null&&o.textEdited(o,e,n)}doDeactivate(){const e=this.diagram;if(e!==null){if(this.Gt=1,this.currentTextEditor!==null){const n=this.currentTextEditor;n!==null&&n.hide!==null&&n.hide(e,this)}this.textBlock=null,this.isActive=!1}}doStop(){Ve.Pc=null}TF(e){if(this.currentTextEditor===null||this.state===1)return;const n=this.FS;this.Gt===2&&(this.Gt=3),t.it(n.select)&&this.selectsTextOnActivate&&(n.select(),n.setSelectionRange(0,9999))}DF(e){if(this.currentTextEditor===null||this.state===1)return;const n=this.FS;t.it(n.focus)&&n.focus(),t.it(n.select)&&this.selectsTextOnActivate&&(n.select(),n.setSelectionRange(0,9999))}isValidText(e,n,o){const l=this.textValidation;if(l!==null&&!l(e,n,o))return!1;const c=e.textValidation;return!(c!==null&&!c(e,n,o))}get textValidation(){return this.Tl}set textValidation(e){this.Tl=e}get minimumEditorScale(){return this.AS}set minimumEditorScale(e){this.AS=e}get selectsTextOnActivate(){return this.TS}set selectsTextOnActivate(e){this.TS=e}get state(){return this.Gt}set state(e){this.Gt!==e&&(this.Gt=e)}measureTemporaryTextBlock(e){const n=this.Pe;return n.text=e,this.textBlock!==null&&n.ht(this.textBlock.Dl,1/0),n}static Pc=null}var at=(G=>(G[G.Default=1]="Default",G[G.AnimateLocations=2]="AnimateLocations",G[G.None=3]="None",G))(at||{});class xt{N;Si;Oi;wr;zn;So;RS;vS;Sm;pi;Sc;on;Mm;Hh;tx;Nm;ix;Mc;pu;Cm;constructor(e){this.N=Te.um(),this.Si=!1,this.Sm=!1,this.pi=!1,this.Sc=!1,this.ix=!0,this.Mc=1,this.pu=!1,this.Oi=!0,this.wr=!0,this.So=600,this.RS=!1,this.vS=!1,this.zn=new b,this.on=new _t,this.Mm=new _t,this.on.ds=this,this.Hh=new b,this.tx=new b,this.Nm=new b,this.Cm=new b,e&&Object.assign(this,e)}Mo(e){this.N=e}NE(){return this.N}canStart(e){return!0}Fl(e){return!this.Oi||!this.canStart(e)?!1:(this.zn.add(e),this.defaultAnimation.isAnimating&&this.stopAnimation(),this.N.Mi(),this.pi=!0,!0)}getBundleAnimation(){return this.Mm}OS(){if(!this.Oi||(this.Mm.ce.count>0&&this.Mm.start(),!this.pi))return;const e=this.on,n=this.N,o=this.zn.has("Model");if(o&&(this.Sc=!0,this.Mc===1?(e.isViewportUnconstrained=!0,e.ce.clear(),e.add(n,"position",n.position.copy().offset(0,-200),n.position),e.add(n,"opacity",0,1)):this.Mc===3&&e.ce.clear(),this.Mc===2&&n.ex.equals(n.at)?this.ix=!0:this.ix=!1,n.D("InitialAnimationStarting",this)),o&&!this.wr||e.ce.count===0){this.zn.clear(),this.pi=!1,e.ce.clear(),e.nx(n),this.Sc=!1,n.S();return}this.zn.clear(),n.xr=!1;const l=e.ce.get(n);n.autoScale!==1&&l!==null&&(delete l.ei.scale,delete l.gs.scale);const c=this;i.requestAnimationFrame(()=>{c.pi===!1||e.Si||(n.getRenderingHint("temporaryPixelRatio")&&n.Bw(),n.IS(),c.pi=!1,e.start(),e.Si&&(c.xu(),n.invalidateDocumentBounds(),e.uL(0),n.ur(!0),c.bu(),n.D("AnimationStarting",c)))})}ES(){return this.zn.has("Trigger")&&this.zn.count===1}dL(e,n,o,l){this.isTicking||this.ES()||e instanceof vt&&(e.fromNode!==null||e.toNode!==null)||this.on.add(e,"position",n,o,l)}lx(e){return this.on.lx(e)}US(e){return this.on.US(e)}FF(e){const n=this.Hh,o=this;function l(){if(o.Nm.count>0&&(n.addAll(o.Nm),o.Nm.clear(),o.Si=!0),o.Si===!1||n.count===0)return;o.tx.addAll(n);const c=o.tx.iterator;for(;c.next();){const h=c.value;h.Si!==!1&&(h.RF()?h.gL(!1):h.Nc=!0)}if(o.tx.clear(),o.Si===!1){i.requestAnimationFrame(l);return}o.xu(),o.N.ur(),o.bu(),i.requestAnimationFrame(l)}this.Si?this.vF(e):(this.Si=!0,n.add(e),i.requestAnimationFrame(()=>l()))}vF(e){this.Nm.add(e)}OF(){const e=this.Hh.iterator;for(;e.next();)e.value.Nc=!1}xu(){if(this.Sm)return;const e=this.N;this.RS=e.skipsUndoManager,this.vS=e.fe,e.skipsUndoManager=!0,e.fe=!0,this.Sm=!0}bu(){const e=this.N;e.skipsUndoManager=this.RS,e.fe=this.vS,this.Sm=!1}stopAnimation(e){const n=this.on;if(this.pi===!0&&(this.pi=!1,this.Sc=!1,this.zn.clear(),n.IF()&&this.N.requestUpdate()),!this.Si){n.ce.clear(),n.nx(this.N);return}if(n.ku(!0),n.nx(null),e===!0){const o=this.Hh.toArray();for(let l=0;l<o.length;l++)o[l].ku(!0)}}ku(e){this.Hh.delete(e),this.Hh.count===0&&(this.Si=!1,this.N.requestUpdate()),e===this.defaultAnimation&&this.N.D("AnimationFinished",this)}Cc(e,n){this.pi&&(!this.zn.has("Expand Tree")&&!this.zn.has("Expand SubGraph")||(this.on.Cc(e,n),this.mL(e)))}Lc(e,n){this.pi&&(!this.zn.has("Collapse Tree")&&!this.zn.has("Collapse SubGraph")||(this.on.Lc(e,n),this.on.BS(n,"position",n.position,n.position),this.mL(e)))}pL(e,n){!this.pi||e.equals(n)||this.ES()||(this.N.Vh||(e=n.copy()),this.on.BS(this.N,"position",e,n))}yL(e,n){this.pi&&(this.ES()||this.on.add(this.N,"scale",e,n))}VS(e,n){e.Se&&(e.br=n,this.Cm.add(e))}mL(e){const n=e.findLinksConnected();for(;n.next();){const o=n.value;o.Se&&(o.br=o.points.copy(),this.Cm.add(o))}}get isEnabled(){return this.Oi}set isEnabled(e){this.Oi=e,e&&this.Hh.each(n=>{!n.isAnimating&&n.runCount===1/0&&n.start()})}get duration(){return this.So}set duration(e){e<1&&t.W(e,">= 1",xt,"duration"),this.So=e}get isAnimating(){return this.Si}get isTicking(){return this.Sm}get isInitial(){return this.wr}set isInitial(e){this.wr=e}get defaultAnimation(){return this.on}get activeAnimations(){return this.Hh}get initialAnimationStyle(){return this.Mc}set initialAnimationStyle(e){this.Mc=e}static hx=new _;static defineAnimationEffect(e,n){xt.hx.set(e,n)}static zS(e,n,o,l,c){e===null&&(e=[0,0,0,0]),n===null&&(n=[0,0,0,0]);let h=e[0],f=e[1];const g=e[2],v=e[3];let w=n[0],k=n[1];const P=n[2],N=n[3];g===0||g===100?(h=w,f=k):(P===0||P===100)&&(w=h,k=f),Math.abs(w-h)>180&&(w>h?h+=360:w+=360);const F=c(o,h,w-h,l)%360,H=c(o,f,k-f,l),V=c(o,g,P-g,l),$=c(o,v,N-v,l);return"hsla("+F+", "+H+"%, "+V+"%, "+$+")"}static Default=1;static AnimateLocations=2;static None=3}{const G=xt.hx,e=(n,o,l,c,h,f)=>{n.position=new T(c(h,o.x,l.x-o.x,f),c(h,o.y,l.y-o.y,f))};G.set("position:diagram",e),G.set("position",e),G.set("position:part",(n,o,l,c,h,f)=>{h<f?n.bc(c(h,o.x,l.x-o.x,f),c(h,o.y,l.y-o.y,f),!1):n.position=new T(c(h,o.x,l.x-o.x,f),c(h,o.y,l.y-o.y,f))}),G.set("location",(n,o,l,c,h,f)=>{h<f?n.bc(c(h,o.x,l.x-o.x,f),c(h,o.y,l.y-o.y,f),!0):n.location=new T(c(h,o.x,l.x-o.x,f),c(h,o.y,l.y-o.y,f))}),G.set("position:placeholder",(n,o,l,c,h,f)=>{h<f?n.bc(c(h,o.x,l.x-o.x,f),c(h,o.y,l.y-o.y,f),!1):n.position=new T(c(h,o.x,l.x-o.x,f),c(h,o.y,l.y-o.y,f))}),G.set("position:nodeCollapse",(n,o,l,c,h,f)=>{const g=n.actualBounds,v=l.actualBounds,w=v.x+v.width/2-g.width/2,k=v.y+v.height/2-g.height/2;h<f?n.bc(c(h,o.x,w-o.x,f),c(h,o.y,k-o.y,f),!1):n.position=new T(c(h,o.x,w-o.x,f),c(h,o.y,k-o.y,f))}),G.set("desiredSize",(n,o,l,c,h,f)=>{n.desiredSize=new B(c(h,o.width,l.width-o.width,f),c(h,o.height,l.height-o.height,f))}),G.set("width",(n,o,l,c,h,f)=>{n.width=c(h,o,l-o,f)}),G.set("height",(n,o,l,c,h,f)=>{n.height=c(h,o,l-o,f)}),G.set("fill",(n,o,l,c,h,f)=>{n.fill=xt.zS(o,l,h,f,c)}),G.set("stroke",(n,o,l,c,h,f)=>{n.stroke=xt.zS(o,l,h,f,c)}),G.set("strokeWidth",(n,o,l,c,h,f)=>{n.strokeWidth=c(h,o,l-o,f)}),G.set("strokeDashOffset",(n,o,l,c,h,f)=>{n.strokeDashOffset=c(h,o,l-o,f)}),G.set("background",(n,o,l,c,h,f)=>{n.background=xt.zS(o,l,h,f,c)}),G.set("opacity",(n,o,l,c,h,f)=>{n.opacity=c(h,o,l-o,f)}),G.set("scale",(n,o,l,c,h,f)=>{n.scale=c(h,o,l-o,f)}),G.set("angle",(n,o,l,c,h,f)=>{n.angle=c(h,o,l-o,f)})}class _t{ax;Lm;Si;Pu;So;ms;wL;Ac;ce;cx;ei;Xn;Su;Tc;fx;ux;Nc;XS;gx;ds;N;YS;GS;KS;constructor(e){this.N=null,this.ds=null,this.XS=null,this.gx=null,this.YS=!1,this.Si=!1,this.Nc=!1,this.ei=0,this.Xn=0,this.ax=_t.EaseInOutQuad,this.Lm=_t.EaseInOutQuad,this.Su=!1,this.Tc=!1,this.fx=1,this.ux=0,this.So=NaN,this.ms=NaN,this.GS=0,this.Pu=null,this.wL=T.xo,this.ce=new _,this.cx=new _,this.Ac=new b,this.KS=1,e&&Object.assign(this,e)}suspend(){this.Nc=!0}advanceTo(e,n){n&&(this.Nc=!1),this.Su&&e>=this.ms&&(this.Tc=!0,e=e-this.ms),this.GS=e,this.gL(!0),this.ds.xu(),this.N.ur(),this.ds.bu(),this.N.redraw()}nx(e){if(this.cx.clear(),this.Tc=!1,this.ux=0,this.ms=NaN,this.Ac.count>0&&this.Ac.clear(),e!==null){const n=e.links;for(;n.next();)n.value.br=null}}IF(){return this.ce.count>0}start(){if(this.ce.count===0)return this;if(this.Si)return this;let e=this.N;const n=this.ce.iterator;for(;n.next();){const l=n.key;e===null&&(l instanceof Te?e=l:l instanceof Wt&&(e=l.diagram))}if(e!==null)this.N=e,this.ds=e.animationManager;else return this;const o=this.ds;return o.isEnabled===!1?this:(this.ms=isNaN(this.So)?o.duration:this.So,this.Lm=this.ax,o.Sc&&o.Mc===1&&this===o.defaultAnimation&&(this.Lm=_t.EaseOutExpo,this.ms=isNaN(this.So)?o.duration===600?900:o.duration:this.So),this.KS=e.scrollMode,this.isViewportUnconstrained&&(e.qh=2),o.xu(),this.Ac.each(l=>{l.data=null,e.add(l)}),o.bu(),this.Si=!0,this.ei=+new Date,this.Xn=this.ei+this.ms,o.FF(this),this)}addTemporaryPart(e,n){return e.ke()?(this.Ac.add(e),this.N=n,this):this}add(e,n,o,l,c){if(this.N===null&&(e instanceof Te?this.N=e:e instanceof Wt&&e.diagram!==null&&(this.N=e.diagram)),e instanceof Pn){if(!e.isAnimated)return this;n==="position"&&(n="position:part")}return this.BS(e,n,o,l,c),this}BS(e,n,o,l,c){const h=this.ce;let f,g,v;if(e instanceof Te&&n==="position"&&(n="position:diagram"),(n==="fill"||n==="stroke"||n==="background")&&(Ae.No(o),Ae.jS(),o=[Ae.Ii.n0,Ae.Ii.n1,Ae.Ii.n2,Ae.Ii.n3],Ae.No(l),Ae.jS(),l=[Ae.Ii.n0,Ae.Ii.n1,Ae.Ii.n2,Ae.Ii.n3]),h.has(e))f=h.get(e),g=f.ei,v=f.gs,g[n]===void 0&&(g[n]=this.Mu(o)),v[n]=this.Mu(l);else{if(n==="position"&&o.equalsApprox(l))return;g={},v={},g[n]=this.Mu(o),v[n]=this.Mu(l),f=new Mt(g,v,c),h.set(e,f)}const w=g[n];w instanceof T&&!w.isReal()&&w.a(this.wL),c&&n.indexOf("position:")===0&&e instanceof Pn?f.mx.location=this.Mu(e.location):c&&(f.mx[n]=this.Mu(o))}Mu(e){return e instanceof T||e instanceof B?e.copy():e}EF(e){const n=this.ce;if(n.has(e)){const o=n.get(e);o.yx=!0}}lx(e){if(!this.Si)return!1;const n=this.ce.get(e);return n!==null&&n.yx}US(e){if(!this.Si)return!1;const n=this.ce.get(e);return n!==null&&!!(n.ei.position||n.ei["position:part"]||n.ei.location)}RF(){if(this.Ac.count>0)return!0;const e=this.ce.iterator;for(;e.next();){const n=e.key;if(n instanceof Wt&&n.diagram!==null||n instanceof Te)return!0}return!1}gL(e){if(this.Nc&&!e)return;const n=this.ds;if(this.Si===!1)return;const o=+new Date;let l=o>this.Xn?this.ms:o-this.ei;e&&(l=this.GS,l<this.ms?(this.ei=+new Date-l,this.Xn=this.ei+this.ms):l=this.ms),n.xu(),this.uL(l),this.N.ur(!0),n.bu(),o>this.Xn&&(this.Su&&!this.Tc?(this.ei=+new Date,this.Xn=this.ei+this.ms,this.Tc=!0):this.ku(!1))}uL(e){const n=this.ms,o=this.ce.iterator,l=this.Tc;for(;o.next();){const c=o.key;if(c instanceof Wt&&c.diagram===null)continue;const h=o.value,f=l?h.gs:h.ei,g=l?h.ei:h.gs,v=xt.hx;for(const w in g)w==="position"&&(g["position:placeholder"]||g["position:nodeCollapse"])||v.get(w)!==null&&v.get(w)(c,f[w],g[w],this.Lm,e,n,this)}}stop(){return this.Si?(this.ku(!0),this):this}ku(e){if(this.gx!==null&&this.gx.UF(this.XS),!this.Si)return;const n=this.N,o=this.ds;o.Sc=!1,this.Si=!1,this.Nc=!1,o.xu();const l=this.ce,c=this.Ac.iterator;for(;c.next();)n.remove(c.value);const h=this.Su,f=l.iterator,g=xt.hx;for(;f.next();){const w=f.key,k=f.value,P=h?k.gs:k.ei,N=h?k.ei:k.gs,F=k.mx;for(const H in N)if(g.get(H)!==null){let V=H;k.wx&&(V==="position:nodeCollapse"||V==="position:placeholder")&&(V="position"),g.get(V)(w,P[H],F[H]!==void 0?F[H]:k.wx?P[H]:N[H],this.Lm,this.ms,this.ms,this)}k.wx&&F.location!==void 0&&w instanceof Pn&&(w.location=F.location),k.yx&&w instanceof Pn&&w.Ei(!1)}this.ux++;const v=!e&&this.fx>this.ux;if(!v&&(this===o.Mm||this===o.defaultAnimation)&&this.ce.clear(),n.xx.clear(),n.CP(!1),n.invalidateDocumentBounds(),n.S(),n.ur(!0),o.defaultAnimation===this){const w=o.Cm.iterator;for(;w.next();)w.value.BF();o.Cm.clear()}if(n.ur(!0),this.isViewportUnconstrained&&(n.scrollMode=this.KS),o.bu(),v){this.Tc=!1,this.start();return}this.nx(null),n.xL(),o.ku(this),this.Pu&&this.Pu(this),n.requestUpdate()}Cc(e,n){const o=n.actualBounds;let l=null;if(n instanceof Xt&&(l=n.placeholder),l!==null&&l.visible){const c=l.getDocumentPoint(L.TopLeft),h=l.padding;c.x+=h.left,c.y+=h.top,this.add(e,"position",c,e.position,!1)}else this.add(e,"position",new T(o.x+o.width/2,o.y+o.height/2),e.position,!1);this.add(e,"scale",.01,e.scale,!1),e instanceof Xt&&this.VF(e,n)}VF(e,n){const o=e.memberParts;for(;o.next();){const l=o.value;l instanceof Lt&&this.Cc(l,n)}}Lc(e,n){if(!e.isVisible())return;let o=null;if(n instanceof Xt&&(o=n.placeholder),o!==null&&o.visible){const l=o.getDocumentPoint(L.TopLeft),c=o.padding;l.x+=c.left,l.y+=c.top,this.add(e,"position:placeholder",e.position,l,!0)}else this.add(e,"position:nodeCollapse",e.position,n,!0);this.add(e,"scale",e.scale,.01,!0),this.EF(e),e instanceof Xt&&this.zF(e,n)}zF(e,n){const o=e.memberParts;for(;o.next();){const l=o.value;l instanceof Lt&&this.Lc(l,n)}}get duration(){return this.So}set duration(e){t.s(e,"number",_t,"duration"),e<1&&t.W(e,">= 1",_t,"duration"),this.So=e}get reversible(){return this.Su}set reversible(e){this.Su=e}get runCount(){return this.fx}set runCount(e){e>0?this.fx=e:t.o("Animation.runCount value must be a positive integer.")}get finished(){return this.Pu}set finished(e){this.Pu!==e&&(e!==null&&t.k(e,_t,"finished"),this.Pu=e)}get easing(){return this.ax}set easing(e){this.ax=e}get isViewportUnconstrained(){return this.YS}set isViewportUnconstrained(e){this.YS=e}get isAnimating(){return this.Si}getTemporaryState(e){let n=this.cx.get(e);return n===null&&(n={},this.cx.set(e,n)),n}static EaseLinear=(e,n,o,l)=>o*e/l+n;static EaseInOutQuad=(e,n,o,l)=>(e/=l/2,e<1?o/2*e*e+n:-o/2*(--e*(e-2)-1)+n);static EaseInQuad=(e,n,o,l)=>o*(e/=l)*e+n;static EaseOutQuad=(e,n,o,l)=>-o*(e/=l)*(e-2)+n;static EaseInExpo=(e,n,o,l)=>e===0?n:o*Math.pow(2,10*(e/l-1))+n;static EaseOutExpo=(e,n,o,l)=>e===l?n+o:o*(-Math.pow(2,-10*e/l)+1)+n}class Mt{ei;gs;mx;wx;yx;constructor(e,n,o){this.ei=e,this.gs=n,this.mx={},this.wx=o,this.yx=!1}}var rt=(G=>(G[G.Default=1]="Default",G[G.Immediate=2]="Immediate",G[G.Bundled=3]="Bundled",G))(rt||{});class Tt{be;en;Nu;Dc;constructor(e,n,o){this.be=null,this.en=e,this.Nu=o||1,this.Dc=null,n!==void 0&&(this.Dc=n,o===void 0&&(this.Nu=2))}copy(){const e=new Tt(this.en);e.Nu=this.Nu;const n=this.Dc;if(n!==null){const o={};n.duration!==void 0&&(o.duration=n.duration),n.finished!==void 0&&(o.finished=n.finished),n.easing!==void 0&&(o.easing=n.easing),e.Dc=o}return e}get propertyName(){return this.en}set propertyName(e){this.en=e}get animationSettings(){return this.Dc}set animationSettings(e){this.Dc=e}XF(e){const n=this.Dc;n!==null&&(n.duration&&(e.duration=n.duration),n.finished&&(e.finished=n.finished),n.easing&&(e.easing=n.easing))}get startCondition(){return this.Nu}set startCondition(e){this.Nu=e}static Default=1;static Immediate=2;static Bundled=3}class ft{N;Pt;$t;kr;Rl;vl;Ol;Il;El;Ul;Bl;Vl;zl;Xl;Yl;Gl;kc;Kl;bx;Am;Cu;Ct;constructor(e){b.Ki(this),this.N=null,this.Ct=new m,this.Pt="",this.$t=1,this.kr=!1,this.Rl=!0,this.vl=!0,this.Ol=!0,this.Il=!0,this.El=!0,this.Ul=!0,this.Bl=!0,this.Vl=!0,this.zl=!0,this.Xl=!0,this.Yl=!0,this.Gl=!0,this.kc=!0,this.Kl=!0,this.bx=!0,this.Am=!1,this.Cu=[],e&&Object.assign(this,e)}YF(){const e=this.Ct;for(let n=0;n<e.length;n++)e.r[n].HS(null);e.clear(),this.Cu.length=0}Mo(e){this.N=e}toString(e){e===void 0&&(e=0);const n='Layer "'+this.name+'"';if(e<=0)return n;let o=0,l=0,c=0,h=0,f=0;const g=this.Ct.iterator;for(;g.next();){const w=g.value;w instanceof Xt?c++:w instanceof Lt?l++:w instanceof vt?h++:w instanceof gn?f++:o++}let v="";if(o>0&&(v+=o+" Parts "),l>0&&(v+=l+" Nodes "),c>0&&(v+=c+" Groups "),h>0&&(v+=h+" Links "),f>0&&(v+=f+" Adornments "),e>1){const w=this.Ct.iterator;for(;w.next();){const k=w.value;v+=`
    `+k.toString();const P=k.data;P!==null&&b.as(P)&&(v+=" #"+b.as(P)),k instanceof Lt?v+=" "+t.toString(P):k instanceof vt&&(v+=" "+t.toString(k.fromNode)+" "+t.toString(k.toNode))}}return n+" "+this.Ct.count+": "+v}findObjectAt(e,n,o){if(n===void 0&&(n=null),o===void 0&&(o=null),this.Kl===!1)return null;let l=!1;this.diagram!==null&&this.diagram.viewportBounds.containsPoint(e)&&(l=!0);const c=T.l(),h=this.Ct.r,f=h.length;for(let g=f;g--;){const v=h[g];if(l===!0&&v.Nl()===!1||!v.isVisible())continue;c.a(e),c.Oe(v.Us);let w=v.bL(c,n,o);if(w!==null&&(n!==null&&(w=n(w)),w!==null&&(o===null||o(w))))return T.e(c),w}return T.e(c),null}findObjectsAt(e,n,o,l){if(n===void 0&&(n=null),o===void 0&&(o=null),!(l instanceof m)&&!(l instanceof b)&&(l=new b),this.Kl===!1)return l;let c=!1;this.diagram!==null&&this.diagram.viewportBounds.containsPoint(e)&&(c=!0);const h=T.l(),f=this.Ct.r,g=f.length;for(let v=g;v--;){const w=f[v];if(c===!0&&w.Nl()===!1||!w.isVisible())continue;h.a(e),h.Oe(w.Us);let k=w;w.kL(h,n,o,l)&&(n!==null&&(k=n(k)),k!==null&&(o===null||o(k))&&l.add(k))}return T.e(h),l}findObjectsIn(e,n,o,l,c){if(n===void 0&&(n=null),o===void 0&&(o=null),l===void 0&&(l=!1),!(c instanceof m)&&!(c instanceof b)&&(c=new b),this.Kl===!1)return c;let h=!1;this.diagram!==null&&this.diagram.viewportBounds.containsRect(e)&&(h=!0);const f=this.Ct.r,g=f.length;for(let v=g;v--;){const w=f[v];if(h===!0&&w.Nl()===!1||!w.isVisible())continue;let k=w;w.Tm(e,n,o,l,c)&&(n!==null&&(k=n(k)),k!==null&&(o===null||o(k))&&c.add(k))}return c}OP(e,n,o,l,c,h,f){if(this.Kl===!1)return c;const g=this.Ct.r,v=g.length;for(let w=v;w--;){const k=g[w];if(f===!0&&k.Nl()===!1||!h(k)||!k.isVisible())continue;let P=k;k.Tm(e,n,o,l,c)&&(n!==null&&(P=n(P)),P!==null&&(o===null||o(P))&&c.add(P))}return c}findObjectsNear(e,n,o,l,c,h){if(o===void 0&&(o=null),l===void 0&&(l=null),c===void 0&&(c=!0),c!==!1&&c!==!0&&((c instanceof m||c instanceof b)&&(h=c),c=!0),!(h instanceof m)&&!(h instanceof b)&&(h=new b),this.Kl===!1)return h;let f=!1;this.diagram!==null&&this.diagram.viewportBounds.containsPoint(e)&&(f=!0);const g=T.l(),v=T.l(),w=this.Ct.r,k=w.length;for(let P=k;P--;){const N=w[P];if(f===!0&&N.Nl()===!1||!N.isVisible())continue;g.a(e),g.Oe(N.Us),v.i(e.x+n,e.y),v.Oe(N.Us);let F=N;N.PL(g,v,o,l,c,h)&&(o!==null&&(F=o(F)),F!==null&&(l===null||l(F))&&h.add(F))}return T.e(g),T.e(v),h}qS(){return this.Ct.r}ps(e,n){if(!this.visible)return;const o=this.Ct.r,l=o.length;if(l===0)return;const c=t.et(),h=t.et();for(let f=0;f<l;f++){const g=o[f];if(g.WS=f,g instanceof vt){if(g.Se===!1)continue}else if(g instanceof gn&&g.adornedPart!==null)continue;const v=g.actualBounds;g.isVisible()&&v.intersectsRectPlus(n,10)?(g.ps(!0),c.push(g)):(g.ps(!1),g.adornments!==null&&g.adornments.count>0&&h.push(g))}for(let f=0;f<c.length;f++){const g=c[f];g.JS();const v=g.adornments;for(;v.next();){const w=v.value;w.ht(1/0,1/0),w.Bt(),w.ps(!0)}}for(let f=0;f<h.length;f++)h[f].JS();t.J(c),t.J(h)}Lu(e){let n=1;return this.$t!==1&&(n=e.globalAlpha,e.globalAlpha=n*this.$t),n}SL(e,n){for(let o=0;o<n;o++)e[o].Au()}Ui(e,n,o){if(!this.visible||this.$t===0||(o===void 0&&(o=!0),!o&&this.isTemporary))return;const l=this.Ct.r,c=l.length;if(c===0)return;e.kr&&this.SL(l,c);const h=this.Lu(e),f=this.Cu;f.length=0;const g=n.scale,v=z.l();for(let w=0;w<c;w++){const k=l[w];this.Dm(e,k,n,f,g,v,!0)}z.e(v),e.kr&&this.SL(l,c),e.globalAlpha=h}CE(e,n,o){if(!this.visible||this.$t===0)return;const l=this.Ct.r,c=l.length;if(c===0)return;const h=this.Lu(e),f=this.Cu;f.length=0;const g=n.scale,v=z.l();for(let w=0;w<c;w++){const k=l[w];o.has(k)||this.Dm(e,k,n,f,g,v,!0)}z.e(v),e.globalAlpha=h}GF(e,n,o,l){if(!this.visible||this.$t===0||!l&&this.isTemporary)return;const c=this.Ct.r,h=c.length;if(h===0)return;const f=this.Lu(e),g=this.Cu;g.length=0;const v=n.scale,w=z.l();for(let k=0;k<h;k++){const P=c[k];o.has(P)&&this.Dm(e,P,n,g,v,w,!1)}z.e(w),e.globalAlpha=f}KF(e,n,o,l,c){if(!this.visible||this.opacity===0)return;const h=this.diagram.grid.part;if(!l&&this.isTemporary){if(c&&h.layer===this){const f=this.Lu(e);h.Ui(e,o),e.globalAlpha=f}}else{const f=this.Lu(e),g=o.scale,v=z.l(),w=this.Ct.r,k=w.length;for(let P=0;P<k;P++){const N=w[P];!c&&N===h||this.Dm(e,N,o,null,g,v,!1)}z.e(v),e.globalAlpha=f}}LE(e,n,o){if(!this.visible||this.$t===0)return;const l=this.Lu(e),c=this.Cu;c.length=0;const h=n.scale,f=z.l(),g=this.Ct.r,v=g.length,w=o.length;for(let k=0;k<v;k++){const P=g[k],N=P.Wh(P.actualBounds);this.jF(N,o,w,h)&&this.Dm(e,P,n,c,h,f,!0)}z.e(f),e.globalAlpha=l}Dm(e,n,o,l,c,h,f){if(f&&!n.Nl()){e.removePartFromView(n);return}if(l!==null&&n instanceof vt&&(n.isOrthogonal&&l.push(n),n.Se===!1)){e.removePartFromView(n);return}let g=!1,v=n.containingGroup;for(;v!==null;)g?v.si!==null&&h.intersectRect(v.si):v.si!==null&&(g=!0,h.a(v.si)),v=v.containingGroup;const w=n.actualBounds;let k=!1;if(g&&n.isVisible()){if(!h.intersectsRect(w)){e.removePartFromView(n);return}k=!h.containsRect(w)}k&&(e.save(),e instanceof Ni?e.partClipRect=h.copy():(e.beginPath(),e.rect(h.x,h.y,h.width,h.height),e.clip())),w.width*c>o.Fm||w.height*c>o.Fm?n.Ui(e,o):this.HF(e,n,o),k&&(e.restore(),e.clearContextCache(!0))}HF(e,n,o){if(e instanceof Ni){n.Ui(e,o);return}const l=n.actualBounds,c=n.naturalBounds;if(l.width===0||l.height===0||isNaN(l.x)||isNaN(l.y)||!n.isVisible())return;const h=n.T;if(n.background===null){n.rn(e,"rgba(0,0,0,0.3)",!0,!1,c,l),e.fillRect(l.x,l.y,l.width,l.height);return}if(e.transform(h.m11,h.m12,h.m21,h.m22,h.dx,h.dy),n.rn(e,n.background,!0,!1,c,l),e.fillRect(0,0,c.width/2,c.height/2),!h.Yk()){const f=1/(h.m11*h.m22-h.m12*h.m21);e.transform(h.m22*f,-h.m12*f,-h.m21*f,h.m11*f,f*(h.m21*h.dy-h.m22*h.dx),f*(h.m12*h.dx-h.m11*h.dy))}}jF(e,n,o,l){const c=2/l,h=4/l;for(let f=0;f<o;f++){const g=n[f];if(!(g.width===0||g.height===0)&&e.intersects(g.x-c,g.y-c,g.width+h,g.height+h))return!0}return!1}t(e,n,o,l,c){const h=this.diagram;h!==null&&h.raiseChangedEvent(2,e,this,n,o,l,c)}Jh(e,n,o){const l=this.Ct;if(n.HS(this),e>=l.count)e=l.count;else if(l.elt(e)===n)return-1;l.insertAt(e,n),n.Rm(o);const c=this.diagram;return c!==null&&(o?c.S():c.Jh(n)),this.kx(e,n),e}te(e,n,o){if(!o&&n.layer!==this&&n.layer!==null)return n.layer.te(e,n,o);const l=this.Ct;if(e<0||e>=l.length){if(e=l.indexOf(n),e<0)return-1}else if(l.elt(e)!==n&&(e=l.indexOf(n),e<0))return-1;n.vm(o),l.removeAt(e);const c=this.diagram;return c!==null&&(o?c.S():c.te(n)),n.HS(null),e}kx(e,n){e=this.qF(e,n),n instanceof Xt&&this.WF(e,n),n.svg!==null&&n.svg.remove()}qF(e,n){const o=n.zOrder;if(isNaN(o))return e;const l=this.Ct,c=l.count;if(c<=1)return e;if(e<0&&(e=l.indexOf(n)),e<0)return-1;let h=e-1,f=NaN;for(;h>=0&&(f=l.elt(h).zOrder,!!isNaN(f));)h--;let g=e+1,v=NaN;for(;g<c&&(v=l.elt(g).zOrder,!!isNaN(v));)g++;if(!isNaN(f)&&f>o)for(;;){if(h===-1||f<=o)return h++,h===e?e:(l.removeAt(e),l.insertAt(h,n),h);for(f=NaN;--h>=0&&(f=l.elt(h).zOrder,!!isNaN(f)););}else if(!isNaN(v)&&v<o)for(;;){if(g===c||v>=o)return g--,g===e?e:(l.removeAt(e),l.insertAt(g,n),g);for(v=NaN;++g<c&&(v=l.elt(g).zOrder,!!isNaN(v)););}return e}WF(e,n){if(n===null||!isNaN(n.zOrder))return;this.JF(e,n);const o=n.containingGroup;o!==null&&this.kx(-1,o)}JF(e,n){if(n.memberParts.count===0)return;let o=-1;const l=this.Ct.r,c=l.length;for(let h=0;h<c;h++){const f=l[h];if(f===n&&(e=h,o>=0)||o<0&&f.containingGroup===n&&(o=h,e>=0))break}if(!(o<0)&&o<e){const h=this.Ct;h.removeAt(e),h.insertAt(o,n)}}get parts(){return this.Ct.iterator}get partsBackwards(){return this.Ct.iteratorBackwards}get diagram(){return this.N}get name(){return this.Pt}set name(e){const n=this.Pt;if(n!==e){const o=this.diagram;if(o!==null){n===""&&t.o("Cannot rename default Layer to: "+e);const c=o.layers;for(;c.next();)c.value.name===e&&t.o("Layer.name is already present in this diagram: "+e)}this.Pt=e,this.t("name",n,e);const l=this.Ct.iterator;for(;l.next();){const c=l.value;c.layerName=this.Pt}}}get opacity(){return this.$t}set opacity(e){const n=this.$t;if(n!==e){(e<0||e>1)&&t.W(e,"0 <= value <= 1",ft,"opacity"),this.$t=e;const o=this.diagram;o!==null&&o.S(),this.t("opacity",n,e)}}get isViewportAligned(){return this.Am}set isViewportAligned(e){const n=this.Am;n!==e&&(this.Am=e,this.diagram&&(this.ML(),this.diagram.S()),this.t("isViewportAligned",n,e),e&&(this.isInDocumentBounds=!1))}ML(){if(!this.Am)return;const e=this.diagram,n=this.Ct.r,o=n.length,l=e.xt,c=e.bt;for(let h=0;h<o;h++){const f=n[h],g=f.naturalBounds.width,v=f.naturalBounds.height;let w=f.alignment;(w.isDefault()||!w.isSpot())&&(w=L.BottomRight);let k=f.alignmentFocus;k.isDefault()&&(k=new L(w.x,w.y));const P=w.x*l+w.offsetX-(k.x*g+k.offsetX),N=w.y*c+w.offsetY-(k.y*v+k.offsetY),F=T.V(P,N);e.$F(F),f.bc(F.x,F.y,!0),T.e(F),f.tt=1/e.scale}}get isTemporary(){return this.kr}set isTemporary(e){const n=this.kr;n!==e&&(this.kr=e,this.t("isTemporary",n,e))}get visible(){return this.kc}set visible(e){const n=this.kc;if(n!==e){this.kc=e;const o=this.Ct.iterator;for(;o.next();)o.value.Ei(e);const l=this.diagram;l!==null&&l.S(),this.t("visible",n,e)}}get pickable(){return this.Kl}set pickable(e){const n=this.Kl;n!==e&&(this.Kl=e,this.t("pickable",n,e))}get isInDocumentBounds(){return this.bx}set isInDocumentBounds(e){const n=this.bx;n!==e&&(this.bx=e,this.diagram!==null&&this.diagram.invalidateDocumentBounds(),this.t("isInDocumentBounds",n,e))}get allowCopy(){return this.Rl}set allowCopy(e){const n=this.Rl;n!==e&&(this.Rl=e,this.t("allowCopy",n,e))}get allowDelete(){return this.vl}set allowDelete(e){const n=this.vl;n!==e&&(this.vl=e,this.t("allowDelete",n,e))}get allowTextEdit(){return this.Ol}set allowTextEdit(e){const n=this.Ol;n!==e&&(this.Ol=e,this.t("allowTextEdit",n,e))}get allowGroup(){return this.Il}set allowGroup(e){const n=this.Il;n!==e&&(this.Il=e,this.t("allowGroup",n,e))}get allowUngroup(){return this.El}set allowUngroup(e){const n=this.El;n!==e&&(this.El=e,this.t("allowUngroup",n,e))}get allowLink(){return this.Ul}set allowLink(e){const n=this.Ul;n!==e&&(this.Ul=e,this.t("allowLink",n,e))}get allowRelink(){return this.Bl}set allowRelink(e){const n=this.Bl;n!==e&&(this.Bl=e,this.t("allowRelink",n,e))}get allowMove(){return this.Vl}set allowMove(e){const n=this.Vl;n!==e&&(this.Vl=e,this.t("allowMove",n,e))}get allowReshape(){return this.zl}set allowReshape(e){const n=this.zl;n!==e&&(this.zl=e,this.t("allowReshape",n,e))}get allowResize(){return this.Xl}set allowResize(e){const n=this.Xl;n!==e&&(this.Xl=e,this.t("allowResize",n,e))}get allowRotate(){return this.Yl}set allowRotate(e){const n=this.Yl;n!==e&&(this.Yl=e,this.t("allowRotate",n,e))}get allowSelect(){return this.Gl}set allowSelect(e){const n=this.Gl;n!==e&&(this.Gl=e,this.t("allowSelect",n,e))}}var mt=(G=>(G[G.None=1]="None",G[G.Uniform=2]="Uniform",G[G.UniformToFill=3]="UniformToFill",G))(mt||{}),Rt=(G=>(G[G.All=1]="All",G[G.NotDirected=2]="NotDirected",G[G.NotDirectedFast=3]="NotDirectedFast",G[G.NotUndirected=4]="NotUndirected",G[G.DestinationTree=5]="DestinationTree",G[G.SourceTree=6]="SourceTree",G))(Rt||{}),an=(G=>(G[G.Document=1]="Document",G[G.Infinite=2]="Infinite",G))(an||{}),gt=(G=>(G[G.TreeParent=1]="TreeParent",G[G.AllParents=2]="AllParents",G[G.AnyParents=3]="AnyParents",G))(gt||{});class Te{ds;Wt;$S;Px;Pr;Tu;Sx;Mx;Nx;Cx;Lx;Ax;$h;qh;Tx;Dx;Fx;jl;Fc;Sr;Om;Rx;vx;Du;Yn;Mr;Zh;Co;Im;Rc;Em;vc;Fu;Nr;Gn;ZS;QS;Ox;Ix;_S;Ex;tM;iM;eM;Ux;Um;Cr;Lr;Ar;Tr;Dr;Fr;Bx;Rr;Vx;vr;Or;Ir;Er;zx;sM;Lo;nM;Xx;Yx;oM;ki;rM;lM;hM;Os;Ao;Oi;Gx;Rl;vl;Kx;jx;Ol;Il;El;Hx;Ul;Bl;Vl;zl;Xl;Yl;Gl;qx;Wx;aM;Ru;vu;Jx;$x;Zx;Qx;Bm;_x;tb;ib;Zt;cM;eb;fM;Ou;ln;Kn;ie;jn;NL;Hl;uM;dM;Vm;sb;Iu;zm;nb;Ur;ql;Qh;gM;mM;Xm;ob;rb;Ze;Eu;Ym;Uu;Wl;Oc;Gm;Br;_h;pM;Km;Ht;T;Ue;xr;Bi;ys;yM;Jl;Vr;bl;zr;ta;Ic;wM;Bu;ia;Vu;Xt;$l;at;tt;zu;xt;bt;ft;Ec;Uw;lb;ea;Uc;hb;ab;cb;ZF;QF;Vi;Pl;Fm;jm;xM;bM;CL;Hm;_F;tR;iR;fb;eR;sR;nR;sa;LL;Zl;na;oa;ra;la;mu;jh;Qt;St;Bc;eP;sP;gc;$t;static ub=null;static AL=new _;static kM;static PM=null;gu;db;gb;pb;yb;wb;qm;SM;Wm;Jm;$m;ex;MM;NM;Vc;constructor(e,n){if(Te.gw||(Te.Gk(),Te.gw=!0),b.Ki(this),Te.TL(this),this.Ht=!0,this.St=null,this.xt=0,this.bt=0,this.ft=null,Te.isUsingDOM()){const l=this,c=()=>{l.Pi(i.document,"DOMContentLoaded",c,!1),l.setRTL()};i.document.body!==null?this.setRTL():l.Ut(i.document,"DOMContentLoaded",c,!1)}this.Ec=null,Te.CM("Model",Ws);const o=this;return this.rM=l=>o.partManager.doModelDataChanged(l),this.lM=l=>o.partManager.doModelChanged(l),this.hb=null,this.ab=null,this.DL(),this.model=Jt.LM(),this.themeManager=new pa,this.Lo=!0,this.FL(),this.layout=new As,this.Lo=!1,this._F=null,this.tR=null,this.iR=null,this.fb=null,this.eR=null,this.sR=null,this.nR=null,this.sa=null,this.LL=null,this.Zl=null,this.na=null,this.oa=null,this.ra=null,this.la=null,this.mu=()=>{},this.jh=null,this.Uu=!1,this.Bc=new Nn(this),e!==void 0&&(typeof e=="string"||i.Element&&e instanceof Element?this.AM(e):n=e),n&&this.setProperties(n),this.Ht=!1,this.requestUpdate(),this}mF(){return this.ft!==null}get renderer(){return this.Oc}set renderer(e){if(this instanceof qi)return;e===""&&(e="default");const n=e.toLowerCase(),o=this.Oc;if(n===o)return;this.Oc=n;let l=null;n==="default"||n==="canvas"?(l=this.Wl.get("svg"),l!==null&&l.Tt.remove(),this.ft&&(this.Qt=this.ft.li),this.Qt.clearContextCache(!0)):n==="svg"?(this.Wl.has("svg")?l=this.Wl.get("svg"):(l=new xr(this,i.document),this.addRenderer("svg",l)),this.div!==null&&this.div.appendChild(l.Tt),this.Qt=l.li,this.ft&&(this.ft.li.setTransform(this.Vi,0,0,this.Vi,0,0),this.ft.li.clearRect(0,0,this.xt,this.bt))):n==="debug"&&(this.Wl.has("SVG")||(l=new xr(this,i.document),this.addRenderer("SVG",l),l.Tt.style.backgroundColor="whitesmoke",this.div!==null&&this.div.after(l.Tt))),this.Ht||this.redraw()}DL(){this.Vc=new m,this.setupRouters(),this.ds=new xt,this.ds.Mo(this),this.Wt=17,this.$S=!1,this.zu=!1,this.Px="default",this.Xt=new m,this.Wl=new _,this.Oc="default",this.resetRenderingHints(),this.oR(),this.$t=1,this.at=new T(NaN,NaN).u(),this.ex=new T(NaN,NaN),this.tt=1,this.Km=1,this.Sx=new T(NaN,NaN).u(),this.Mx=NaN,this.Nx=1e-4,this.Cx=100,this.T=new U,this.Lx=new T(NaN,NaN).u(),this.Ax=new z(NaN,NaN,NaN,NaN).u(),this.$h=new W(0,0,0,0).u(),this.qh=1,this.Tx=!1,this.Dx=null,this.Fx=null,this.jl=1,this.Fc=L.Default,this.Sr=1,this.Om=L.Default,this.Rx=L.None,this.vx=L.None,this.Ue=!0,this.Du=!1,this.Yn=new Set,this.Mr=new b,this.Zh=new b,this.Co=!1,this.$l=new _,this.Bu=!0,this.Im=250,this.Rc=-1,this.Em=new W(16,16,16,16).u(),this.xr=!1,this.vc=!1,this.Fu=!0,this.Gm=new ue,this.Gm.diagram=this,this.Br=new ue,this.Br.diagram=this,this._h=new ue,this._h.diagram=this,this.Nr=null,this.Gn=null,this.Uw=!1,this.rR(),this.zr=new b,this.Ox=!0,this.Ix=1,this._S=!1,this.Ex=1,this.Ux="auto",this.Um="auto",this.Cr=null,this.Lr=null,this.Ar=null,this.Tr=null,this.Dr=null,this.Fr=null,this.Bx=null,this.Rr=null,this.Vx=!1,this.vr=null,this.Or=null,this.Ir=null,this.Er=null,this.zx=!1,this.lb={},this.ea=[null,null],this.Lo=!1,this.nM=!1,this.Xx=!1,this.Yx=!1,this.oM=!0,this.ys=!1,this.ia=!1,this.hM=!0,this.Os=-2,this.Jl=new _,this.Vu=new m,this.Ao=!1,this.Oi=!0,this.Gx=!0,this.Rl=!0,this.vl=!0,this.Kx=!1,this.jx=!0,this.Ol=!0,this.Il=!0,this.El=!0,this.Hx=!0,this.Ul=!0,this.Bl=!0,this.Vl=!0,this.zl=!0,this.Xl=!0,this.Yl=!0,this.Gl=!0,this.qx=!0,this.Wx=!0,this.aM=!1,this.Uc=!1,this.Ru=!0,this.vu=!0,this.Jx=!0,this.$x=!0,this.Zx=16,this.Qx=16,this.Bm=!1,this._x=!1,this.tb=0,this.ib=0,this.Zt=new W(5).u(),this.cM=new b().u(),this.eb=999999999,this.fM=new b().u(),this.ta=!0,this.Ou=!0,this.Ic=!0,this.ln=!1,this.Kn=!1,this.Vr=!0,this.bl=!1,this.jn=!1,this.NL=new b,this.wM=new b,this.Hl=null,this.uM=new B(8,8),this.dM=999,this.Vm=!1,this.eP=1,this.sP=0,this.Bi={scale:1,position:new T,bounds:new z,canvasSize:new B,newCanvasSize:new B,isScroll:!1},this.Bi.canvasSize=this.Bi.canvasSize,this.Bi.newCanvasSize=this.Bi.newCanvasSize,this.Bi.isScroll=!1,this.sb=new z(NaN,NaN,NaN,NaN).u(),this.Iu=new B(NaN,NaN).u(),this.zm=new z(NaN,NaN,NaN,NaN).u(),this.nb=!1,this.lR(),this.Ze=null,this.Eu=!1,this.gc=null,this.partManager=new Ws,this.toolManager=new _e,this.toolManager.initializeStandardTools(),this.defaultTool=this.toolManager,this.currentTool=this.defaultTool,this.gb=null,this.pb=new Si,this.yb=null,this.wb=null,this.db=!1,this.gu=!1,this.commandHandler=new Bn,this.Jm=null,this.$m=T.Ik,this.MM=!1,this.Vi=1,this.Pl=null,this.Fm=1,this.qm=0,this.SM=[0,0,0,0,0],this.Wm=0,this.jm=1,this.xM=0,this.bM=new T,this.CL=500,this.Ym=new T,this.Hm=!1}static RL=i.document!==void 0;static isUsingDOM(){return Te.RL}static useDOM(e){Te.RL=e?i.document!==void 0:!1}static Qe=new WeakMap;clear(){this.animationManager.stopAnimation(),this.model.clear(),Te.vL(),this.OL(!1),this.Vu.clear(),this.IL(),this.Hl=null,this.invalidateDocumentBounds(),this.ensureBounds(),this.S()}OL(e){this.animationManager.stopAnimation(!0),this.cM=new b().u(),this.fM=new b().u();const n=this.skipsUndoManager,o=this.ki!==null&&this.ki!==void 0;o&&(this.skipsUndoManager=!0);let l=null;this.Ze!==null&&(l=this.Ze.part,l!==null&&this.remove(l));const c=[],h=this.Xt.length;if(e){for(let f=0;f<h;f++){const g=this.Xt.r[f].parts;for(;g.next();){const v=g.value;v!==l&&v.data===null&&c.push(v)}}for(let f=0;f<c.length;f++){const g=c[f];this.remove(g)}}for(let f=0;f<h;f++)this.Xt.r[f].YF();return this.partManager.clear(),this.Yn.clear(),this.Mr.clear(),this.Zh.clear(),this.$l.clear(),this.zr.clear(),this.gc=null,this.Vu.clear(),this.IL(),t.vk=[],l!==null&&(this.add(l),this.partManager.parts.delete(l)),o&&(this.skipsUndoManager=n),c}static Zm=null;static xb="";static vL(){Te.Zm=null,Te.xb=""}static AE(){return null}reset(){this.clear(),this.Ht=!0,this.DL(),this.themeManager=new pa,this.Ql(),this.Lo=!0,this.FL(),this.layout=new As,this.Lo=!1,this.model=Jt.LM(),this.model.undoManager=new xe,this.Uu=!1,this.Ht=!1,this.S()}lR(){this.Ur=new _,this.gM=new Lt().add(new rn({stroke:"black",font:"10pt sans-serif"}).bind("text","",t.toString).theme("stroke","text").theme("font","normal")),this.Ur.set("",this.gM),this.Ur.set("Comment",new Lt().add(new rn({stroke:"brown",font:"10pt sans-serif"}).bind("text","",t.toString).theme("stroke","comment").theme("font","normal"))),this.Ur.set("LinkLabel",new Lt({selectable:!1,avoidable:!1}).add(new zt("Ellipse",{fill:"black",stroke:null,desiredSize:new B(3,3).$()}).theme("fill","link"))),this.Qh=new _,this.yM=new Xt(Je.Vertical,{selectionObjectName:"GROUPPANEL"}).add(new rn({stroke:"black",font:"bold 12pt sans-serif"}).bind("text","",t.toString).theme("stroke","text").theme("font","bold"),new Je(Je.Auto,{name:"GROUPPPANEL"}).add(new zt({fill:"rgba(128,128,128,0.2)",stroke:"black",strokeWidth:1}).theme("fill","group").theme("stroke","outline").theme("strokeWidth","group"),new us({padding:5}).theme("padding","group"))),this.Qh.set("",this.yM),this.ql=new _,this.mM=new vt().add(new zt({isPanelMain:!0,stroke:"black"}).theme("stroke","link"),new zt({toArrow:"Standard",fill:"black",stroke:null,strokeWidth:0}).theme("toArrow").theme("fill","link")),this.ql.set("",this.mM),this.ql.set("Comment",new vt().add(new zt({isPanelMain:!0,stroke:"brown"}).theme("stroke","comment"))),this.Xm=new gn(Je.Auto).add(new zt({fill:null,stroke:"dodgerblue",strokeWidth:3}).theme("stroke","selection").theme("strokeWidth","selection"),new us({margin:1.5}).theme("margin","selection","numbers",null,e=>e?new W(e/2):1.5)),this.ob=this.Xm,this.rb=new gn(Je.Link).add(new zt({isPanelMain:!0,fill:null,stroke:"dodgerblue",strokeWidth:3}).theme("stroke","selection").theme("strokeWidth","selection"))}setRTL(e){let n=e===void 0?this.div:e;n===null&&(n=i.document.body);const o=t.hs("div");o.dir="rtl",o.style.cssText="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll;",o.textContent="A",n.appendChild(o);let l="reverse";o.scrollLeft>0?l="default":(o.scrollLeft=1,o.scrollLeft===0&&(l="negative")),n.removeChild(o),this.Px=l}setScrollWidth(e){let n=e===void 0?this.div:e;n===null&&(n=i.document.body);let o=0;if(Te.isUsingDOM()){let l=Te.PM,c=Te.kM;l===null&&(Te.PM=t.hs("p"),l=Te.PM,l.style.width="100%",l.style.height="200px",l.style.boxSizing="content-box",Te.kM=t.hs("div"),c=Te.kM,c.style.position="absolute",c.style.visibility="hidden",c.style.width="200px",c.style.height="150px",c.style.boxSizing="content-box",c.appendChild(l)),c.style.overflow="hidden",n.appendChild(c);const h=l.offsetWidth;c.style.overflow="scroll";let f=l.offsetWidth;h===f&&(f=c.clientWidth),n.removeChild(c),o=h-f,o===0&&!t.tr&&(o=11)}this.Wt=o,this.$S=!0}oi(e){e in mt?this.autoScale=e:t.er(this,e)}toString(e){e===void 0&&(e=0);let n="";this.div&&this.div.id&&(n=this.div.id);let o='Diagram "'+n+'"';if(e<=0)return o;const l=this.Xt.iterator;for(;l.next();){const c=l.value;o+=`
  `+c.toString(e-1)}return o}static TL(e){Te.ub=e}static um(){return Te.ub}static fromDiv(e){let n=e;if(typeof e=="string"&&(n=i.document.getElementById(e)),n instanceof HTMLDivElement){const o=Te.Qe.get(n);if(o)return o}return null}get div(){return this.St}set div(e){if(this.St!==e){const n=this.St;if(n!==null){if(Te.Qe.delete(n),n.goDiagram=void 0,n.go=void 0,n.innerHTML="",this.ft!==null){const l=this.ft.Tt;this.Pi(l,"pointermove",this.na,!1),this.Pi(l,"pointerdown",this.Zl,!1),this.Pi(l,"pointerup",this.oa,!1),this.Pi(l,"pointerout",this.ra,!1),this.Pi(l,"pointercancel",this.la,!1),this.ft.dispose()}this.Ec&&(this.Ec.disconnect(),this.Ec=null);const o=this.toolManager;o!==null&&(o.mouseDownTools.each(l=>l.cancelWaitAfter()),o.mouseMoveTools.each(l=>l.cancelWaitAfter()),o.mouseUpTools.each(l=>l.cancelWaitAfter())),o.cancelWaitAfter(),this.currentTool.doCancel(),this.ft=null,this.Pi(i,"resize",this.fb,!1),this.Pi(i,"wheel",this.sa,!0),Te.um()===this&&Te.TL(null)}else this.Zl===null&&(this.jn=!1);if(this.St=null,e!==null){const o=Te.Qe.get(e);o&&(o.div=null),this.AM(e),this.mu(),this.themeManager&&this.themeManager.hR()}else this.themeManager&&this.themeManager.aR()}}setupRouters(){this.Vc.push(new ky)}AM(e){const n=this;if(!Te.isUsingDOM())return;e==null&&t.o("Diagram setup requires an argument DIV."),n.St!==null&&t.o("Diagram has already completed setup."),typeof e=="string"?n.St=i.document.getElementById(e):e instanceof HTMLDivElement?n.St=e:t.o("No DIV or DIV id supplied: "+e),n.St===null&&t.o("Invalid DIV id; could not get element with id: "+e);const o=Te.Qe.get(n.St);if(o&&o!==this&&t.o("Invalid div id; div already has a Diagram associated with it."),!n.Ec&&i.ResizeObserver){const k=i.ResizeObserver,P=t.Rk(()=>n.requestUpdate(),250,!1);n.Ec=new k(()=>P()),n.Ec.observe(n.St)}i.getComputedStyle(n.St,null).position==="static"&&(n.St.style.position="relative");let l=5;const c="rgba(2"+l+"5, 255, 255, 0)";l--,n.St.style["-webkit-tap-highlight-color"]=c,n.St.innerHTML="",Te.Qe.set(n.St,n),n.St.goDiagram=n,n.St.go=i.go;const h=new Ts(n);h.style!==void 0&&(h.style.position="absolute",h.style.top="0px",h.style.left="0px",i.getComputedStyle(n.St,null).getPropertyValue("direction")==="rtl"&&(n.zu=!0),h.style.zIndex="2",h.style.userSelect="none",h.style.MozUserSelect="none",h.style.touchAction="none",h.style.letterSpacing="normal !important",h.style.wordSpacing="normal !important",h.style.lang="unknown"),n.ft=h,n.Qt=h.li;const f=n.Qt;n.Vi=n.computePixelRatio(),n.viewSize.isReal()||(n.xt=n.St.clientWidth||1,n.bt=n.St.clientHeight||1),n.EL(n.xt,n.bt);const g=n;n.St.insertBefore(h.Tt,n.St.firstChild);const v=new Ts(null);if(v.width=1,v.height=1,n.ZF=v,n.QF=v.li,Te.isUsingDOM()){const k=t.hs("div"),P=t.hs("div");k.style.position="absolute",k.style.overflow="auto",k.style.width=n.xt+"px",k.style.height=n.bt+"px",k.style.zIndex="1",P.style.position="absolute",P.style.width="1px",P.style.height="1px",n.St.appendChild(k),k.appendChild(P),k.onscroll=Te.cR,k.addEventListener("pointerdown",Te.fR),k.N=n,k.uR=!0,k.dR=!0,n.hb=k,n.ab=P}n.mu=t.Rk(()=>{n.Pl=null,n.S()},300,!1),n.fb=t.Rk(()=>{n.IS()},250,!1),n.jh=k=>(k.preventDefault(),!1),n.sa=k=>{if(!g.isEnabled)return;const P=g.zc(k,!0);P.bubbles=!0;let N=0,F=0;P.delta=0,k.deltaX!==void 0?(k.deltaX!==0&&(N=k.deltaX>0?1:-1),k.deltaY!==0&&(F=k.deltaY>0?1:-1),P.delta=Math.abs(k.deltaX)>Math.abs(k.deltaY)?-N:-F):k.wheelDeltaX!==void 0?(k.wheelDeltaX!==0&&(N=k.wheelDeltaX>0?-1:1),k.wheelDeltaY!==0&&(F=k.wheelDeltaY>0?-1:1),P.delta=Math.abs(k.wheelDeltaX)>Math.abs(k.wheelDeltaY)?-N:-F):k.wheelDelta!==void 0&&k.wheelDelta!==0&&(P.delta=k.wheelDelta>0?1:-1),g.doMouseWheel(),g.ha(P,k)},n.LL=k=>{if(!g.isEnabled)return;n.Uc=!1,g.zc(k,!0);const P=g.currentTool;P.cancelWaitAfter(),P.standardMouseOver()},n.Zl=k=>{if(!g.isEnabled)return;n.Uc=!0;const P=g.lb;P[k.pointerId]===void 0&&(P[k.pointerId]=k);const N=g.ea;let F=!1;if(N[0]!==null&&(N[0].pointerId===k.pointerId||N[0].pointerType!==k.pointerType))N[0]=k;else if(N[1]!==null&&N[1].pointerId===k.pointerId)N[1]=k,F=!0;else if(N[0]===null)N[0]=k;else if(N[1]===null)N[1]=k,F=!0;else{k.preventDefault();return}const H=k.pointerType==="touch"||k.pointerType==="pen";H&&(g.Uw=!1,g.Hm=!0);const V=g.gR(k,k,F),$=g.bM,K=H?25:10;if(k.timeStamp-g.xM<g.CL&&!(Math.abs($.x-k.screenX)>K||Math.abs($.y-k.screenY)>K)?g.jm++:g.jm=1,V.clickCount=g.jm,g.xM=k.timeStamp,g.bM.setTo(k.screenX,k.screenY),g.doMouseDown(),k.button===1){k.preventDefault();return}g.ha(V,k)},n.na=k=>{if(!g.isEnabled)return;n.Uc=!0;const P=g.ea;if(P[0]!==null&&(P[0].pointerId===k.pointerId||P[0].pointerType!==k.pointerType))P[0]=k;else if(P[1]!==null&&P[1].pointerId===k.pointerId){P[1]=k;return}else if(P[0]===null)P[0]=k;else return;if(P[0].pointerId!==k.pointerId)return;const N=g.mR(k,k,P[1]!==null);g.doMouseMove(),g.ha(N,k)},n.oa=k=>{if(!g.isEnabled)return;n.Uc=!0;const P=k.pointerType==="touch"||k.pointerType==="pen",N=g.lb;if(P&&g.Uw){delete N[k.pointerId],k.preventDefault();return}const F=g.ea;if(F[0]!==null&&(F[0].pointerId===k.pointerId||F[0].pointerType!==k.pointerType))F[0]=null;else if(F[1]!==null&&F[1].pointerId===k.pointerId){F[1]=null;return}else return;const H=g.TM(k,!1,!0,!1,!0,!1);let V=i.document.elementFromPoint(k.clientX,k.clientY)||null;V!==null&&V.shadowRoot!==void 0&&V.shadowRoot!==null&&(V=V.shadowRoot.elementFromPoint(k.clientX,k.clientY)),V!==null&&V.N instanceof Te&&V.N!==g&&V.N.Qm(k,H),V===null&&(V=k.target),g.Qm(k,H),H.clickCount=g.jm,H.targetDiagram=g.bb(k,V),H.targetObject=null,g.doMouseUp(),g.ha(H,k),P&&(g.Hm=!1)},n.ra=k=>{if(!g.isEnabled)return;n.Uc=!1;const P=g.lb;P[k.pointerId]&&delete P[k.pointerId];const N=g.ea;if(N[0]!==null&&N[0].pointerId===k.pointerId&&(N[0]=null),N[1]!==null&&N[1].pointerId===k.pointerId&&(N[1]=null),k.pointerType==="touch"||k.pointerType==="pen")return;const F=g.currentTool;F.cancelWaitAfter(),F.standardMouseOver()},n.la=k=>{const P=g.ea;P[0]!==null&&P[0].pointerId===k.pointerId?(P[0]=null,g.Hm=!1):P[1]!==null&&P[1].pointerId===k.pointerId&&(P[1]=null)};const w=f;if(n.cb=w.E[t.Ts("7eba17a4ca3b1a8346")][t.Ts("78a118b7")](w.E,Te.Xu,l,l),f.clearContextCache(!0),n.pR(),this.Oc==="svg"){const k=this.Wl.get("svg");this.St&&this.St.appendChild(k.Tt),this.Qt=k.li}}addEventListener(e,n,o,l){e.addEventListener(n,o,{capture:l,passive:!1})}Ut(e,n,o,l){e.addEventListener(n,o,{capture:l,passive:!1})}removeEventListener(e,n,o,l){e.removeEventListener(n,o,{capture:l})}Pi(e,n,o,l){e.removeEventListener(n,o,{capture:l})}pR(){const e=this;let n=this.ft.Tt;n instanceof HTMLCanvasElement||(n=e.div),this.Ut(n,"pointerdown",e.Zl,!1),this.Ut(n,"pointermove",e.na,!1),this.Ut(n,"pointerup",e.oa,!1),this.Ut(n,"pointerout",e.ra,!1),this.Ut(n,"pointercancel",e.la,!1),this.Ut(n,"pointerenter",e.yR,!1),this.Ut(n,"pointerleave",e.wR,!1),this.Ut(n,"wheel",e.sa,!1),this.Ut(n,"keydown",e.xR,!1),this.Ut(n,"keyup",e.bR,!1),this.Ut(n,"blur",e.kR,!1),this.Ut(n,"focus",e.PR,!1),this.Ut(n,"selectstart",o=>(o.preventDefault(),!1),!1),this.Ut(n,"contextmenu",o=>(o.preventDefault(),!1),!1),this.Ut(i,"resize",e.fb,!1)}Bw(){this.qm>30&&(this.Pl=1)}CP(e){this.Pl!==null&&(this.Pl=null,e&&this.mu(),this.qm=0,this.SM=[0,0,0,0,0],this.Wm=0)}computePixelRatio(){return this.Pl!==null?this.Pl:i.devicePixelRatio||1}get avgSpf(){return this.qm}doMouseDown(){this.currentTool.doMouseDown()}doMouseMove(){this.currentTool.doMouseMove()}doMouseUp(){this.currentTool.doMouseUp()}doMouseWheel(){this.currentTool.doMouseWheel()}doKeyDown(){this.currentTool.doKeyDown()}doKeyUp(){this.currentTool.doKeyUp()}doFocus(){this.focus()}focus(){if(this.ft)if(this.scrollsPageOnFocus)this.ft.focus();else{const e=i.scrollX,n=i.scrollY;this.ft.focus(),i.scrollTo(e,n)}}PR(e){const n=Te.Qe.get(this);n&&n.D("GainedFocus")}kR(e){const n=Te.Qe.get(this);n&&n.D("LostFocus")}IS(){if(this.ft===null)return;const e=this.St;if(e===null||e.clientWidth===0||e.clientHeight===0)return;this.$S||this.setScrollWidth();const n=this.Kn?this.Wt:0,o=this.ln?this.Wt:0,l=this.Vi;if(this.Vi=this.computePixelRatio(),this.Vi!==l&&(this.Du=!0,this.requestUpdate()),e.clientWidth!==this.xt+n||e.clientHeight!==this.bt+o){this.aa(),this.Ue=!0;const c=this.layout;c!==null&&c.isViewportSized&&this.autoScale===1&&(this.vc=!0,c.invalidateLayout()),this.ys||this.requestUpdate()}}FL(){let e=0,n=new ft;n.name="Grid",n.allowSelect=!1,n.pickable=!1,n.isTemporary=!0,n.isInDocumentBounds=!1,this.Xr(n,e++),n=new ft,n.name="ViewportBackground",n.isViewportAligned=!0,n.isTemporary=!0,n.isInDocumentBounds=!1,this.Xr(n,e++),n=new ft,n.name="Background",this.Xr(n,e++),n=new ft,n.name="",this.Xr(n,e++),n=new ft,n.name="Foreground",this.Xr(n,e++),n=new ft,n.name="ViewportForeground",n.isViewportAligned=!0,n.isTemporary=!0,n.isInDocumentBounds=!1,this.Xr(n,e++),n=new ft,n.name="Adornment",n.isTemporary=!0,n.isInDocumentBounds=!1,this.Xr(n,e++),n=new ft,n.name="Tool",n.isTemporary=!0,n.isInDocumentBounds=!0,this.Xr(n,e++)}UL(){const e=new Je(Je.Grid,{name:"GRID"}).add(new zt("LineH",{stroke:"lightgray",strokeWidth:.5,interval:1}).theme("stroke","gridMinor"),new zt("LineV",{stroke:"lightgray",strokeWidth:.5,interval:1}).theme("stroke","gridMinor"),new zt("LineH",{stroke:"gray",strokeWidth:.5,interval:5}).theme("stroke","gridMajor"),new zt("LineV",{stroke:"gray",strokeWidth:.5,interval:5}).theme("stroke","gridMajor"),new zt("LineH",{stroke:"gray",strokeWidth:1,interval:10}).theme("stroke","gridMajor"),new zt("LineV",{stroke:"gray",strokeWidth:1,interval:10}).theme("stroke","gridMajor")),n=new Pn({layerName:"Grid",zOrder:0,isInDocumentBounds:!1,isAnimated:!1,pickable:!1,locationObjectName:"GRID"}).add(e);return this.add(n),this.partManager.parts.delete(n),e.visible=!1,e}static cR(){const e=Te.Qe.get(this.parentElement||this);if(e){if(e._x){e._x=!1;return}if(!e.isEnabled){e.BL();return}e.diagramScroll(this)}}static fR(e){if(!this.N.isEnabled){this.N.updateScroll();return}this.N.tb=e.target.scrollTop,this.N.ib=e.target.scrollLeft}diagramScroll(e){if(this.ft===null)return;const n=this.hb,o=this.ab;this.Bm=!0;let l=this.documentBounds,c=this.viewportBounds;const h=this.$h;let f=l.x-h.left,g=l.y-h.top;const v=l.width+h.left+h.right,w=l.height+h.top+h.bottom;let k=l.right+h.right,P=l.bottom+h.bottom,N=c.x,F=c.y;const H=c.width,V=c.height;let $=c.right,K=c.bottom;const J=this.scale;let Q,ne=e.scrollLeft;if(this.zu)switch(this.Px){case"negative":ne=ne+e.scrollWidth-e.clientWidth;break;case"reverse":ne=e.scrollWidth-ne-e.clientWidth;break}const le=ne;if(H<v||V<w){Q=T.V(this.position.x,this.position.y),this.allowHorizontalScroll&&this.ib!==le&&(Q.x=le/J+f,this.ib=le),this.allowVerticalScroll&&this.tb!==e.scrollTop&&(Q.y=e.scrollTop/J+g,this.tb=e.scrollTop),this.position=Q,T.e(Q),this.Bm=!1,this.Ou=!1;return}if(Q=T.l(),e.uR&&this.allowHorizontalScroll&&(f<N&&(this.position=Q.i(le+f,this.position.y)),k>$)){const fe=n.scrollWidth-this.xt;this.position=Q.i(-fe+le-this.xt/J+k,this.position.y)}if(e.dR&&this.allowVerticalScroll&&(g<F&&(this.position=Q.i(this.position.x,e.scrollTop+g)),P>K)){const fe=n.scrollHeight-this.bt;this.position=Q.i(this.position.x,-fe+e.scrollTop-this.bt/J+P)}T.e(Q),this._l(),this.Bm=!1,this.Ou=!1,l=this.documentBounds,c=this.viewportBounds,k=l.right,$=c.right,P=l.bottom,K=c.bottom,f=l.x,N=c.x,g=l.y,F=c.y,H>=v&&f>=N&&k<=$&&(o.style.width="1px"),V>=w&&g>=F&&P<=K&&(o.style.height="1px")}computeBounds(e){return e===void 0&&(e=new z),this.Mi(),this.VL(e)}VL(e){if(this.fixedBounds.isReal())return e.a(this.fixedBounds),e.addMargin(this.Zt),e;let n=!0;const o=this.Xt.r,l=o.length;for(let c=0;c<l;c++){const h=o[c];if(!h.visible||!h.isInDocumentBounds)continue;const f=h.Ct.r,g=f.length;for(let v=0;v<g;v++){const w=f[v];if(!w.isInDocumentBounds||!w.isVisible())continue;const k=w.actualBounds;k.isReal()&&(n?(n=!1,e.a(k)):e.unionRect(k))}}return n&&e.i(0,0,0,0),e.addMargin(this.Zt),e}computePartsBounds(e,n){n===void 0&&(n=!1);let o=null;if(Array.isArray(e))for(let l=0;l<e.length;l++){const c=e[l];!n&&c instanceof vt||(c.ensureBounds(),o===null?o=c.actualBounds.copy():o.unionRect(c.actualBounds))}else{const l=e.iterator;for(;l.next();){const c=l.value;!n&&c instanceof vt||(c.ensureBounds(),o===null?o=c.actualBounds.copy():o.unionRect(c.actualBounds))}}return o===null?new z(NaN,NaN,0,0):o}Bs(e){if(!e&&!this.jn||this.Ht||this.ft===null||!this.documentBounds.isReal())return;if(this.Ht=!0,e){const P=this.initialPosition;if(P.isReal()){this.Ht=!1,this.position=P;return}let N=this.initialDocumentSpot,F=this.initialViewportSpot;N.isNoSpot()&&(N=L.TopLeft),F.isNoSpot()&&(F=L.TopLeft);const H=T.l();H.setRectSpot(this.documentBounds,N);const V=this.viewportBounds,$=z.V(0,0,V.width,V.height),K=T.l();K.setRectSpot($,F),K.i(H.x-K.x,H.y-K.y),this.Ht=!1,this.position=K,z.e($),T.e(K)}let n=this.jl;e&&this.Sr!==1&&(n=this.Sr);const o=n!==1?this.Yu(n):this.scale,l=this.at.x,c=this.at.y,h=this.xt/o,f=this.bt/o;let g=this.Fc;const v=this.Om;if(e&&!g.isSpot()&&(v.isSpot()||v.isDefault())){const P=this.initialDocumentSpot.isSpot()&&this.initialViewportSpot.isSpot();g=v.isDefault()&&!P?L.Center:v}this.DM(this.documentBounds,h,f,g,e);const w=this.scale;this.scale=o,this.Ht=!1;const k=this.viewportBounds;k.equalsApproxTo(l,c,h,f)||this.onViewportBoundsChanged(new z(l,c,h,f),k,w,!1)}Yu(e){const n=this.Km;if(this.ft===null)return n;if(e===1)return this.scale;this.ensureBounds();const o=this.documentBounds;if(!o.isReal())return n;const l=o.width,c=o.height,h=this.xt+(this.Kn?this.Wt:0),f=this.bt+(this.ln?this.Wt:0);let g=h/l,v=f/c;const w=this.$h,k=w.left+w.right!==0,P=w.top+w.bottom!==0;(k||P)&&(v===g?(v=(f-this.Wt)/c,g=(h-this.Wt)/l):v>g?v=(f-this.Wt)/c:g=(h-this.Wt)/l);let N=0;return e===2?N=Math.min(v,g):e===3&&(v>g?N=(f-this.Wt)/c:N=(h-this.Wt)/l),N>n&&(N=n),N<this.minScale&&(N=this.minScale),N>this.maxScale&&(N=this.maxScale),N}zoomToFit(){const e=this.qh;this.qh=1,this.scale=this.Yu(2),this.alignDocument(L.Center,L.Center),e!==1&&(this.Bs(!1),this.DM(this.documentBounds,this.xt/this.tt,this.bt/this.tt,this.Fc,!1)),this.qh=e}zoomToRect(e,n){n===void 0&&(n=2);const o=e.width,l=e.height;if(o===0||l===0||isNaN(o)&&isNaN(l))return;let c=1;if(n===2||n===3)if(isNaN(o))c=this.viewportBounds.height*this.scale/l;else if(isNaN(l))c=this.viewportBounds.width*this.scale/o;else{const h=this.xt,f=this.bt;n===3?f/l>h/o?c=(f-(this.ln?this.Wt:0))/l:c=(h-(this.Kn?this.Wt:0))/o:c=Math.min(f/l,h/o)}this.scale=c,this.position=new T(e.x,e.y)}get SR(){return this.Ht}set SR(e){this.Ht=e}alignDocument(e,n){this.ensureBounds();const o=this.documentBounds,l=this.viewportBounds;this.position=new T(o.x+(e.x*o.width+e.offsetX)-(n.x*l.width-n.offsetX),o.y+(e.y*o.height+e.offsetY)-(n.y*l.height-n.offsetY))}focusObject(e){if(e instanceof Wt){this.Jm=e;const n=T.l();this.$m=this.transformDocToView(e.getDocumentPoint(L.TopLeft,n)),T.e(n)}else this.Jm=null,this.$m=T.Ik}DM(e,n,o,l,c){const h=T.V(this.at.x,this.at.y);let f=h.x,g=h.y;if(this.Jm!==null){let v=T.l();v=this.Jm.getDocumentPoint(L.TopLeft,v),f=v.x-this.$m.x/this.scale,g=v.y-this.$m.y/this.scale,l=L.None,T.e(v)}if(c||this.scrollMode===1){l.isSpot()&&(n>e.width&&(f=e.x+(l.x*e.width+l.offsetX)-(l.x*n-l.offsetX)),o>e.height&&(g=e.y+(l.y*e.height+l.offsetY)-(l.y*o-l.offsetY)));const v=this.$h,w=n-e.width;if(n<e.width+v.left+v.right){let P=f+n/2;P=Math.min(P,e.right+Math.max(w,v.right)-n/2),P=Math.max(P,e.left-Math.max(w,v.left)+n/2),f=P-n/2}else f>e.left?f=e.left:f<e.right-n&&(f=e.right-n);const k=o-e.height;if(o<e.height+v.top+v.bottom){let P=g+o/2;P=Math.min(P,e.bottom+Math.max(k,v.bottom)-o/2),P=Math.max(P,e.top-Math.max(k,v.top)+o/2),g=P-o/2}else g>e.top?g=e.top:g<e.bottom-o&&(g=e.bottom-o)}if(h.x=isFinite(f)?f:-this.Zt.left,h.y=isFinite(g)?g:-this.Zt.top,this.positionComputation!==null){const v=this.positionComputation(this,h);h.x=v.x,h.y=v.y}this.ds.pL(this.at,h),this.at.i(h.x,h.y),this.kb(),this.Ql(),this.MR(),T.e(h)}findPartAt(e,n){if(n===void 0&&(n=!0),n){const o=this.FP(e,l=>l.part,l=>l.canSelect());if(o instanceof Pn)return o}else{const o=this.FP(e,l=>l.part);if(o instanceof Pn)return o}return null}findObjectAt(e,n,o){n===void 0&&(n=null),o===void 0&&(o=null),this.Mi();const l=this.Xt.iteratorBackwards;for(;l.next();){const c=l.value;if(!c.visible)continue;const h=c.findObjectAt(e,n,o);if(h!==null)return h}return null}FP(e,n,o){n===void 0&&(n=null),o===void 0&&(o=null),this.Mi();const l=this.Xt.iteratorBackwards;for(;l.next();){const c=l.value;if(!c.visible||c.isTemporary)continue;const h=c.findObjectAt(e,n,o);if(h!==null)return h}return null}findPartsAt(e,n,o){return n===void 0&&(n=!0),this.NR(e,l=>l.part,n?l=>l instanceof Pn&&l.canSelect():null,o)}NR(e,n,o,l){n===void 0&&(n=null),o===void 0&&(o=null),!(l instanceof m)&&!(l instanceof b)&&(l=new b),this.Mi();const c=this.Xt.iteratorBackwards;for(;c.next();){const h=c.value;!h.visible||h.isTemporary||h.findObjectsAt(e,n,o,l)}return l}findObjectsAt(e,n,o,l){n===void 0&&(n=null),o===void 0&&(o=null),!(l instanceof m)&&!(l instanceof b)&&(l=new b),this.Mi();const c=this.Xt.iteratorBackwards;for(;c.next();){const h=c.value;h.visible&&h.findObjectsAt(e,n,o,l)}return l}findPartsIn(e,n,o,l){return n===void 0&&(n=!1),o===void 0&&(o=!0),this.CR(e,null,c=>c instanceof Pn&&(!o||c.canSelect()),n,l)}findObjectsIn(e,n,o,l,c){n===void 0&&(n=null),o===void 0&&(o=null),l===void 0&&(l=!1),!(c instanceof m)&&!(c instanceof b)&&(c=new b),this.Mi();const h=this.Xt.iteratorBackwards;for(;h.next();){const f=h.value;f.visible&&f.findObjectsIn(e,n,o,l,c)}return c}OP(e,n,o,l,c,h){const f=new b;this.Mi();const g=this.Xt.iteratorBackwards;for(;g.next();){const v=g.value;v.visible&&v.OP(e,n,o,l,f,c,h)}return f}CR(e,n,o,l,c){n===void 0&&(n=null),o===void 0&&(o=null),l===void 0&&(l=!1),!(c instanceof m)&&!(c instanceof b)&&(c=new b),this.Mi();const h=this.Xt.iteratorBackwards;for(;h.next();){const f=h.value;!f.visible||f.isTemporary||f.findObjectsIn(e,n,o,l,c)}return c}findPartsNear(e,n,o,l,c){return o===void 0&&(o=!0),l===void 0&&(l=!0),this.LR(e,n,null,h=>h instanceof Pn&&(!l||h.canSelect()),o,c)}findObjectsNear(e,n,o,l,c,h){o===void 0&&(o=null),l===void 0&&(l=null),c===void 0&&(c=!0),c!==!1&&c!==!0&&((c instanceof m||c instanceof b)&&(h=c),c=!0),!(h instanceof m)&&!(h instanceof b)&&(h=new b),this.Mi();const f=this.Xt.iteratorBackwards;for(;f.next();){const g=f.value;g.visible&&g.findObjectsNear(e,n,o,l,c,h)}return h}LR(e,n,o,l,c,h){o===void 0&&(o=null),l===void 0&&(l=null),c===void 0&&(c=!0),c!==!1&&c!==!0&&((c instanceof m||c instanceof b)&&(h=c),c=!0),!(h instanceof m)&&!(h instanceof b)&&(h=new b),this.Mi();const f=this.Xt.iteratorBackwards;for(;f.next();){const g=f.value;!g.visible||g.isTemporary||g.findObjectsNear(e,n,o,l,c,h)}return h}acceptEvent(e){return this.zc(e,e instanceof MouseEvent)}zc(e,n){const o=this.Br;this.Br=this._h,this._h=o,o.diagram=this,o.event=e,n?this.Qm(e,o):(o.viewPoint=this.Br.viewPoint,o.documentPoint=this.Br.documentPoint);let l=0;const c=e;return c.ctrlKey&&(l+=1),c.altKey&&(l+=2),c.shiftKey&&(l+=4),c.metaKey&&(l+=8),o.modifiers=l,o.button=c.button,c.buttons!==void 0&&(o.buttons=c.buttons),t.tr&&c.button===0&&c.ctrlKey&&(o.button=2),o.down=!1,o.up=!1,o.clickCount=1,o.delta=0,o.handled=!1,o.bubbles=!1,o.timestamp=e.timeStamp,o.isMultiTouch=!1,o.targetDiagram=this.bb(e,e.target),o.targetObject=null,o}bb(e,n){if(n===null)return null;const o=Te.Qe.get(n);if(o)return o;let l=e.path;if(!l&&t.it(e.composedPath)&&(l=e.composedPath()),l&&l[0]){const c=Te.Qe.get(l[0]);if(c)return c}return null}gR(e,n,o){const l=this.TM(e,!0,!1,!1,!0,o);return this.Qm(n,l),l.targetDiagram=this.bb(e,e.target),l.targetObject=null,o||l.clone(this.Gm),l}mR(e,n,o){const l=this.TM(e,!1,!1,!1,!1,o);let c=i.document.elementFromPoint(n.clientX,n.clientY)||null;c!==null&&c.shadowRoot!==void 0&&c.shadowRoot!==null&&(c=c.shadowRoot.elementFromPoint(n.clientX,n.clientY));let h=this,f=e;if(c){const g=this.bb(e,c);g&&(f=n,h=g)}return l.targetDiagram=h,this.Qm(f,l),l.targetObject=null,l}TM(e,n,o,l,c,h){const f=this.Br;this.Br=this._h,this._h=f,f.diagram=this,f.clickCount=1,f.delta=0;let g=0;return e.ctrlKey&&(g+=1),e.altKey&&(g+=2),e.shiftKey&&(g+=4),e.metaKey&&(g+=8),f.modifiers=g,f.event=e,f.timestamp=e.timeStamp,f.button=o?this.firstInput.button:e.button,f.buttons=e.buttons,t.tr&&e.button===0&&e.ctrlKey&&(f.button=2),f.down=n,f.up=o,f.handled=l,f.bubbles=c,f.isMultiTouch=h,f}ha(e,n){return e.bubbles?!0:(n.stopPropagation!==void 0&&n.stopPropagation(),n.cancelable!==!1&&n.preventDefault(),n.cancelBubble=!0,!1)}xR(e){const n=Te.Qe.get(this);if(!n||!n.isEnabled)return!1;const o=n.zc(e,!1);return o.key=e.key,o.code=e.code,o.down=!0,n.doKeyDown(),n.ha(o,e)}bR(e){const n=Te.Qe.get(this);if(!n||!n.isEnabled)return!1;const o=n.zc(e,!1);return o.key=e.key,o.code=e.code,o.up=!0,n.doKeyUp(),n.ha(o,e)}yR(e){const n=Te.Qe.get(this);if(!n||!n.isEnabled)return!1;const o=n.zc(e,!0);return n.mouseEnter!==null&&n.mouseEnter(o),n.currentTool.standardMouseOver(),n.ha(o,e)}wR(e){const n=Te.Qe.get(this);if(!n||!n.isEnabled)return!1;const o=n.zc(e,!0);return n.mouseLeave!==null&&n.mouseLeave(o),n.ha(o,e)}getMouse(e){const n=this.ft;if(n===null)return new T(0,0);const o=n.getBoundingClientRect(),l=(e.clientX-o.left)*(this.xt/o.width),c=(e.clientY-o.top)*(this.bt/o.height);return new T(l,c).Oe(this.T)}Qm(e,n){const o=this.ft;let l=0,c=0;if(o!==null){const f=o.getBoundingClientRect();l=(e.clientX-f.left)*(this.xt/f.width),c=(e.clientY-f.top)*(this.bt/f.height)}n.viewPoint.i(l,c);const h=T.V(l,c);this.T.$e(h),n.documentPoint.a(h),T.e(h)}BC(e,n,o){let l;if(this.ea[0]!==null)l=this.ea[n];else return;const c=this.ft;if(c!==null){const h=c.getBoundingClientRect();o.i((l.clientX-h.left)*(this.xt/h.width),(l.clientY-h.top)*(this.bt/h.height))}}invalidateDocumentBounds(){this.ta||(this.ta=!0,this.requestUpdate(!1))}AR(){this.ys||this.Mi(),this.ensureBounds()}redraw(){this.Ht||this.ys||(this.S(),this.maybeUpdate())}isUpdateRequested(){return this.xr}delayInitialization(e){e===void 0&&(e=null);const n=this.animationManager,o=n.isEnabled;n.stopAnimation(),n.isEnabled=!1,this.ur(),this.jn=!1,this.ex=new T(NaN,NaN),n.isEnabled=o,this.ys=!0;const l=this;e!==null&&t.ir(()=>{l.ys=!1,n.Fl("Model"),e(l)},1)}requestUpdate(e){if(e===void 0&&(e=!1),this.xr===!0||this.Ht||e===!1&&this.ys)return;this.xr=!0;const n=this;i.requestAnimationFrame(()=>{n.xr&&n.maybeUpdate()})}maybeUpdate(){this.Fu&&!this.xr||(this.Fu&&(this.Fu=!1),this.ur())}FM(e,n){!this.Ou||this.Ht||this.animationManager.defaultAnimation.isAnimating||this.BL()||(e&&this.Mi(),n&&this.Bs(!1))}ur(e){if(this.ys||(this.xr=!1,this.St===null&&!this.Iu.isReal()))return;this.ys=!0;const n=this.animationManager,o=this.Vu;if(!n.isAnimating&&o.length!==0){const k=o.r,P=k.length;for(let N=0;N<P;N++){const F=k[N];F.ue(!1),F.c()}o.clear()}const l=this.wM;l.count>0&&(l.each(k=>k.RM()),l.clear());let c=!1,h=!1;n.defaultAnimation.isAnimating&&(h=!0,c=this.skipsUndoManager,this.skipsUndoManager=!0),n.pi||this.IS(),e||this.FM(!1,!0);const f=!this.undoManager.isUndoingRedoing&&(this.bl||this.Vc.count!==0&&this.Mr.size!==0),g=!this.jn||this.Vr;this.Mi(!0);let v=!1;(g||f)&&(this.jn?this.vM(!this.vc,f):(this.startTransaction("Initial Layout"),n.isEnabled===!1&&n.stopAnimation(),this.vM(!1,f)),v=g),this.vc=!1,this.bl=!1,this.Mi(),this.Ze!==null&&(this.Ze.visible&&!this.Eu&&(this.th(),this.Eu=!0),!this.Ze.visible&&this.Eu&&(this.Eu=!1)),this.Xx||this.AR(),e||this.FM(!0,!1);let w=!1;if(v){const k=z.l();k.a(this.viewportBounds),this.jn||(this.jn=!0,w=!0,this.skipsUndoManager||(this.undoManager.Iw=!0),this.undoManager.Ew=!0,this.TR()),this.DR(),this.Mi(!1),e||this.FM(!0,!0),z.e(k)}else if(n.Sc&&n.ix){if(this.Sr!==1)this.scale=this.Yu(this.Sr);else if(this.jl!==1)this.scale=this.Yu(this.jl);else{const k=this.initialScale;isFinite(k)&&k>0&&(this.scale=k)}this.Bs(!0)}v&&w&&this.commitTransaction("Initial Layout"),e||this.Ui(this.Qt),h&&(this.skipsUndoManager=c),this.ys=!1}get Vh(){return this.jn}TR(){if(this.Sr!==1)this.scale=this.Yu(this.Sr);else if(this.jl!==1)this.scale=this.Yu(this.jl);else{const n=this.initialScale;isFinite(n)&&n>0&&(this.scale=n)}this.Bs(!0);const e=this.Xt.r;this.ps(e,e.length,this,this.viewportBounds),this.D("InitialLayoutCompleted"),this.ex.a(this.at),this.th()}DR(){this.D("LayoutCompleted")}_m(e){this.Yn.add(e)}addInvalidRoute(e){this.Co?this.Zh.add(e):this.Mr.add(e)}Mi(e){if(this.Yn.size!==0&&!(!this.ys&&this.animationManager.isTicking)){if(this.ys||(this.bl=!0),e){this.zL(this.Yn);return}for(let n=0;n<23&&this.Yn.size!==0;n++){const o=new Set(this.Yn);this.Yn.clear(),this.RM(o,this.Yn)}this.nodes.each(n=>{n instanceof Xt&&n.XL(!1)})}}zL(e,n){for(const o of e)!o.ke()||o instanceof Xt||(o.Yr()?(o.ht(1/0,1/0),o.Bt()):n&&n.add(o));for(const o of e)if(o instanceof Xt){if(!o.isVisible())continue;this.Pb(o)}}RM(e,n){this.zL(e,n);for(const o of e){if(!(o instanceof vt))continue;const l=o;l.isVisible()&&(l.Yr()?(l.ht(1/0,1/0),l.Bt()):n.add(l))}for(const o of e)o instanceof gn&&o.isVisible()&&(o.Yr()?(o.ht(1/0,1/0),o.Bt()):n.add(o))}t0(e){const n=e instanceof Te,o=n?e.links:e.memberParts,l=this.Yn;if(n)this.Mi(!0);else{for(;o.next();){const c=o.value;l.has(c)&&(!c.ke()||c instanceof Xt||c.Yr()&&(c.ht(1/0,1/0),c.Bt()))}for(o.reset();o.next();){const c=o.value;if(l.has(c)&&c instanceof Xt){if(!c.isVisible())continue;this.Pb(c)}}o.reset()}for(;o.next();){const c=o.value;c instanceof vt&&l.has(c)&&c.isVisible()&&c.Yr()&&(c.ht(1/0,1/0),c.Bt())}}Pb(e){const n=t.et(),o=t.et(),l=e.memberParts;for(;l.next();){const h=l.value;h.isVisible()&&(h instanceof Xt?(h.To()||h._e()||h.ih())&&this.Pb(h):h instanceof vt?h.fromNode===e||h.toNode===e?o.push(h):n.push(h):(h.ht(1/0,1/0),h.Bt()))}let c=n.length;for(let h=0;h<c;h++){const f=n[h];f.ht(1/0,1/0),f.Bt()}t.J(n),e.ht(1/0,1/0),e.Bt(),c=o.length;for(let h=0;h<c;h++){const f=o[h];f.ht(1/0,1/0),f.Bt()}t.J(o)}ps(e,n,o,l){if(!(!this.Ic&&!this.animationManager.isAnimating)){for(let c=0;c<n;c++)e[c].ps(o,l);this.Mi()}}Ui(e){this.St!==null&&(this.ft===null&&t.o("No canvas specified"),this.Oc==="svg"?this.FR(e):this.RR(e))}RR(e){const n=this.animationManager;if(n.pi||n.isAnimating&&!n.isTicking)return;const o=new Date;if(this.i0(),this.St&&this.St.style.opacity==="0")return;const l=e!==this.Qt,c=this.Xt.r,h=c.length,f=this;if(this.ps(c,h,f,f.viewportBounds),l)e.clearContextCache(!0),this._l();else if(!this.Ue&&!n.isAnimating)return;const g=this.T,v=this.Vi;e.setTransform(v,0,0,v,0,0),e.clearRect(0,0,this.xt,this.bt),this.$t!==1&&(e.globalAlpha=this.$t),this.OM(e);for(let F=0;F<h;F++)e.setTransform(v,0,0,v,0,0),e.transform(g.m11,g.m12,g.m21,g.m22,g.dx,g.dy),e.commitTransform(),c[F].Ui(e,f);let w=!1;this.Bc?this.Bc.Xu(this)&&(w=this.cb()):w=!0,w&&(U.prototype.$e=U.prototype.bw),l?(this.Qt.clearContextCache(!0),this._l()):(this.Ic=!1,this.Ue=!1);const k=+new Date-+o,P=!1,N=this.SM;if(this.Pl===null){N[this.Wm]=k,this.Wm=(this.Wm+1)%N.length;let F=0;for(let H=0;H<N.length;H++)F+=N[H];this.qm=F/N.length}this.$t!==1&&(e.globalAlpha=1)}FR(e){if(this.St===null)return;const n=this.animationManager;if(n.pi||n.isAnimating&&!n.isTicking)return;this.i0();const o=this.xt,l=this.bt;e.surface.resize(o,l,o,l);const c=this.Xt.r,h=c.length,f=this;if(this.ps(c,h,f,f.viewportBounds),!this.Ue&&!n.isAnimating)return;const g=this.T;e.lastDrawnPart=null,e.setDiagramPosScale(g.m11,g.m12,g.m21,g.m22,g.dx,g.dy),this.$t!==1&&(e.globalAlpha=this.$t),this.OM(e);const v=this.Vi;this.ft.li.setTransform(v,0,0,v,0,0),this.ft.li.clearRect(0,0,this.xt,this.bt);for(let k=0;k<h;k++)c[k].Ui(e,f);let w=!1;this.Bc?this.Bc.Xu(this)&&(w=this.cb()):w=!0,w&&(U.prototype.$e=U.prototype.bw),this.Ic=!1,this.Ue=!1}Sb(e,n,o,l,c,h,f,g,v){if(this.St===null)return;this.ft===null&&t.o("No canvas specified"),h===void 0&&(h=null),f===void 0&&(f=null),g===void 0&&(g=!1),v===void 0&&(v=!1),this.i0(),this.Qt.clearContextCache(!0),this._l(),this.ia=!0;const w=this.tt;this.tt=l;const k=this,P=this.Xt.r,N=P.length;try{const F=new z(c.x,c.y,o.width/l,o.height/l),H=F.copy();H.addMargin(n),this.th(H),this.Mi(),this.ps(P,N,k,F),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,o.width,o.height),f!==null&&f!==""&&(e.fillStyle=f,e.fillBackground(0,0,o.width,o.height));const V=this.Vi;e.scale(V,V);const $=U.l();$.Ri(),$.Fs(n.left,n.top),$.tt(l),(c.x!==0||c.y!==0)&&$.Fs(-c.x,-c.y),e.setTransform($.m11,$.m12,$.m21,$.m22,$.dx,$.dy),e.commitTransform(),e instanceof Ni&&e.setDiagramPosScale($.m11,$.m12,$.m21,$.m22,$.dx,$.dy),U.e($),this.OM(e),e.globalAlpha=this.$t;const K=this.findLayer("Grid");if(h){const J=new b,Q=h.iterator;for(Q.reset();Q.next();){const ne=Q.value;ne instanceof Pn&&(!v&&ne.layer===K||(ne.Au(),J.add(ne)))}for(let ne=0;ne<N;ne++)P[ne].GF(e,k,J,g);J.each(ne=>ne.Au())}else for(let J=0;J<N;J++){const Q=P[J];Q===K?v&&Q.Ui(e,k,!0):Q.Ui(e,k,g)}this.ia=!1,this.Bc&&this.Bc.Xu(this)&&this.cb()}finally{this.tt=w,this.Qt.clearContextCache(!0),this._l(),this.ps(P,N,k,k.viewportBounds),this.th(),this.Qt instanceof Ni&&(this.Qt.diagramGroup.replaceChildren(),this.redraw())}}getRenderingHint(e){return this.Pr[e]}setRenderingHint(e,n){e==="minDrawingLength"&&(this.Fm=n),this.Pr[e]=n,this.redraw()}resetRenderingHints(){this.Pr=new r,this.Pr.drawShadows=!0,this.Pr.textGreeking=!0,this.Pr.viewportOptimizations=!t.tr,this.Pr.temporaryPixelRatio=!0,this.Pr.pictureRatioOptimization=!0,this.Pr.minDrawingLength=1,this.Fm=1}OM(e){const n=this.Pr;if(n===null)return;if(n.imageSmoothingEnabled!==void 0){const l=!!n.imageSmoothingEnabled;e.setImageSmoothingEnabled(l)}const o=n.defaultFont;o!=null&&(e.font=o)}getInputOption(e){return this.Tu[e]}setInputOption(e,n){this.Tu[e]=n}oR(){this.Tu=new r,this.Tu.extraTouchArea=10,this.Tu.extraTouchThreshold=10,this.Tu.hasGestureZoom=!0}set(e){return Object.assign(this,e),this}attach(e){return this.setProperties(e)}setProperties(e){return Te.e0(this,e),this}static e0(e,n){const o=e instanceof Je,l=e instanceof Te;for(const c in n){c===""&&t.o("Setting properties requires non-empty property names");let h=e,f=c;if(o||l){const v=c.indexOf(".");if(v>0){const w=c.substring(0,v);o?h=e.findObject(w):(h=e[w],h==null&&(h=e.toolManager[w])),t.G(h)?f=c.substring(v+1):t.o("Unable to find object named: "+w+" in "+e.toString()+" when trying to set property: "+c)}}if(f[0]!=="_"&&!t.dw(h,f))if(l&&f==="ModelChanged"){e.addModelChangedListener(n[f]);continue}else if(l&&f==="Changed"){e.addChangedListener(n[f]);continue}else if(l&&t.dw(e.toolManager,f))h=e.toolManager;else if(l&&e.YL(f)){e.addDiagramListener(f,n[f]);continue}else if(e instanceof Jt&&f==="Changed"){e.addChangedListener(n[f]);continue}else t.o('Trying to set undefined property "'+f+'" on object: '+h.toString());const g=n[c];h[f]=g,f[0]==="_"&&h instanceof Wt&&h.addCopyProperty(f)}}xL(){if(this.$l.count!==0&&!(this.undoManager.transactionLevel>1)){for(;this.$l.count>0;){const e=this.$l;this.$l=new _;const n=e.iterator;for(;n.next();){const o=n.key;o.invalidateOtherJumpOvers(n.value),o.ee()}}this.S()}}S(e){if(e===void 0)this.Ue=!0,this.requestUpdate();else{const n=this.viewportBounds;e.isReal()&&n.intersectsRect(e)&&(this.Ue=!0,this.requestUpdate())}this.D("InvalidateDraw")}invalidateViewport(e,n){if(this.Ue!==!0){if(this.Ue=!0,this.Oc==="svg"){this.maybeUpdate();return}this.getRenderingHint("temporaryPixelRatio")===!0?(this.Bw(),this.maybeUpdate(),this.CP(!0)):this.maybeUpdate()}}aa(){this.Ou=!0}_l(){this.Ic=!0}i0(){this.Du!==!1&&(this.Du=!1,this.EL(this.xt,this.bt))}EL(e,n){this.Ql();const o=this.Vi,l=e*o,c=n*o;this.ft.resize(l,c,e,n)&&(this.Ue=!0,this.Qt.clearContextCache(!0))}BL(){const e=this.ft;if(e===null||this.Iu.isReal())return!0;const n=this.xt,o=this.bt,l=this.St;let c=!1,h=this.Kn?this.Wt:0,f=this.ln?this.Wt:0,g=l.clientWidth||n+h,v=l.clientHeight||o+f;const w=this.viewportBounds,k=w.x,P=w.y,N=w.width,F=w.height;if((g!==n+h||v!==o+f)&&(this.Kn=!1,this.ln=!1,h=0,f=0,this.xt=g,this.bt=v,this.Du=!0,c=!0,this.Ql()),!this.jn||!this.viewportBounds.isReal())return!0;const H=this.hb,V=this.ab;if(this.Ou=!1,!c&&!this.Kn&&!this.ln&&!this.Ru&&!this.vu)return!0;const $=this.documentBounds;let K=0,J=0,Q=0,ne=0;const le=w.width,fe=w.height,we=this.$h;this.contentAlignment.isSpot()?($.width>le&&(K=we.left,J=we.right),$.height>fe&&(Q=we.top,ne=we.bottom)):(K=we.left,J=we.right,Q=we.top,ne=we.bottom);const ye=$.width+K+J,ge=$.height+Q+ne,me=this.scale,ke=me;let Ce=ye>g/me,Ie=ge>v/me;if(!c&&!this.Kn&&!this.ln&&!Ce&&!Ie)return!0;const Be=$.x-K,Xe=w.x,He=$.right+J;let Ke=w.right+h;const Et=$.y-Q,It=w.y,bt=$.bottom+ne;let At=w.bottom+f,wt="1px",Vt="1px";if(this.scrollMode===1&&(Ce||Ie)){if(Ce&&this.hasHorizontalScrollbar&&this.allowHorizontalScroll){let kt=1;Be+1<Xe&&(kt=Math.max((Xe-Be)*me+this.xt,kt)),He>Ke+1&&(kt=Math.max((He-Ke)*me+this.xt,kt)),le+h+1<ye&&(kt=Math.max((ye-le)*me+this.xt,kt)),wt=kt.toString()+"px"}if(Ie&&this.hasVerticalScrollbar&&this.allowVerticalScroll){let kt=1;Et+1<It&&(kt=Math.max((It-Et)*me+this.bt,kt)),bt>At+1&&(kt=Math.max((bt-At)*me+this.bt,kt)),fe+f+1<ge&&(kt=Math.max((ge-fe)*me+this.bt,kt)),Vt=kt.toString()+"px"}}let qt=wt!=="1px",on=Vt!=="1px";if(!(qt&&on)&&(qt||on)){if(Ce=!(ye<le+h),Ie=!(ge<fe+f),on&&(Ke-=this.Wt),qt&&(At-=this.Wt),Ce&&this.hasHorizontalScrollbar&&this.allowHorizontalScroll){let yn=1;Be+1<Xe&&(yn=Math.max((Xe-Be)*me+this.xt,yn)),He>Ke+1&&(yn=Math.max((He-Ke)*me+this.xt,yn)),le+1<ye&&(yn=Math.max((ye-le)*me+this.xt,yn)),wt=yn.toString()+"px"}qt=wt!=="1px";let kt=this.bt;if(qt!==this.ln&&(kt=qt?this.bt-this.Wt:this.bt+this.Wt),Ie&&this.hasVerticalScrollbar&&this.allowVerticalScroll){let yn=1;Et+1<It&&(yn=Math.max((It-Et)*me+kt,yn)),bt>At+1&&(yn=Math.max((bt-At)*me+kt,yn)),fe+1<ge&&(yn=Math.max((ge-fe)*me+kt,yn)),Vt=yn.toString()+"px"}on=Vt!=="1px"}if(this.Bm&&!(qt!==this.ln||on!==this.Kn))return(n!==this.xt||o!==this.bt)&&this.maybeUpdate(),!1;if(qt!==this.ln&&(wt==="1px"?this.bt=this.bt+this.Wt:this.bt=Math.max(this.bt-this.Wt,1),c=!0),this.ln=qt,V.style.width=wt,on!==this.Kn&&(Vt==="1px"?this.xt=this.xt+this.Wt:this.xt=Math.max(this.xt-this.Wt,1),c=!0,this.zu)){const kt=T.l();on?(e.style.left=this.Wt+"px",this.position=kt.i(this.at.x+this.Wt/this.scale,this.at.y)):(e.style.left="0px",this.position=kt.i(this.at.x-this.Wt/this.scale,this.at.y)),T.e(kt)}c&&this.Ql(),this.Kn=on,V.style.height=Vt,this._x=!0,c&&(this.Du=!0);let An=H.scrollLeft;if(this.hasHorizontalScrollbar&&this.allowHorizontalScroll&&(le+1<ye?An=(this.position.x-Be)*me:Be+1<Xe?An=H.scrollWidth-H.clientWidth:He>Ke+1&&(An=this.position.x*me)),this.zu)switch(this.Px){case"negative":An=-(H.scrollWidth-An-H.clientWidth);break;case"reverse":An=H.scrollWidth-An-H.clientWidth;break}if(H.scrollLeft=An,this.hasVerticalScrollbar&&this.allowVerticalScroll&&(fe+1<ge?H.scrollTop=(this.position.y-Et)*me:Et+1<It?H.scrollTop=H.scrollHeight-H.clientHeight:bt>At+1&&(H.scrollTop=this.position.y*me)),g=this.xt,v=this.bt,H.style.width=g+(this.Kn?this.Wt:0)+"px",H.style.height=v+(this.ln?this.Wt:0)+"px",n!==g||o!==v||this.animationManager.pi){const kt=z.V(k,P,N,F);return this.onViewportBoundsChanged(kt,this.viewportBounds,ke,c),z.e(kt),!1}return!0}add(e){const n=e.diagram;if(n===this)return;n!==null&&t.o("Cannot add part "+e.toString()+" to "+this.toString()+". It is already a part of "+n.toString());let o=this.findLayer(e.layerName);if(o===null&&(o=this.findLayer("")),o===null&&t.o('Cannot add a Part when unable find a Layer named "'+e.layerName+'" and there is no default Layer'),e.layer===o)return;const l=o.Jh(99999999,e,e.diagram===this);l>=0&&this.raiseChangedEvent(3,"parts",o,null,e,null,l),o.isTemporary||this.invalidateDocumentBounds(),e.invalidateLayout(1);const c=e.layerChanged;c!==null&&c(e,null,o)}Jh(e){this.partManager.Jh(e);const n=this;e.Gr(o=>n.GL(o)),e.data||e.Do(),e.hasPlaceholder()&&e.c(),e.data!==null&&e.Gr(o=>n.partManager.IM(o,null)),(e._e()===!0||e.ih()===!0)&&this._m(e),e.KL(!0,this),e.jL()?(e.actualBounds.isReal()&&this.S(e.Wh(e.actualBounds)),this.invalidateDocumentBounds()):e.isVisible()&&e.actualBounds.isReal()&&this.S(e.Wh(e.actualBounds)),this.requestUpdate()}te(e){e.clearAdornments(),this.partManager.te(e);const n=this;e.data!==null&&e.Gr(o=>n.partManager.EM(o,n)),this.Yn.delete(e),e instanceof vt&&this.Mr.delete(e),e.jL()?(e.actualBounds.isReal()&&this.S(e.Wh(e.actualBounds)),this.invalidateDocumentBounds()):e.isVisible()&&e.actualBounds.isReal()&&this.S(e.Wh(e.actualBounds)),this.requestUpdate()}remove(e){this.UM(e,!0)}UM(e,n){const o=e.layer;if(o===null||o.diagram!==this)return;e.isSelected=!1,e.isHighlighted=!1,e.invalidateLayout(2),n&&e.Xc();const l=o.te(-1,e,!1);l>=0&&this.raiseChangedEvent(4,"parts",o,e,null,l,null);const c=e.layerChanged;c!==null&&c(e,o,null)}removeParts(e,n){if(n===void 0&&(n=!1),Array.isArray(e)){const o=e.length;for(let l=0;l<o;l++){const c=e[l];n&&!c.canDelete()||this.remove(c)}}else{const o=new b;o.addAll(e);const l=o.iterator;for(;l.next();){const c=l.value;n&&!c.canDelete()||this.remove(c)}}}copyParts(e,n,o){o===void 0&&(o=!1);let l=null;const c=n||this,h=c.model;let f=!1,g=!1;try{h.pm()&&(f=h.copiesParentKeyOfNodeData,h.copiesParentKeyOfNodeData=c.commandHandler.copiesParentKey),(h.mm()||h.Mb())&&(g=h.copiesGroupKeyOfNodeData,h.copiesGroupKeyOfNodeData=c.commandHandler.copiesGroupKey),l=this.partManager.copyParts(e,n,o)}finally{h.pm()&&(h.copiesParentKeyOfNodeData=f),(h.mm()||h.Mb())&&(h.copiesGroupKeyOfNodeData=g)}return l}moveParts(e,n,o,l){if(o===void 0&&(o=!1),l===void 0&&(l=this.s0()),this.toolManager===null)return;const c=new _;if(e!==null)if(Array.isArray(e))for(let h=0;h<e.length;h++)this.Kr(c,e[h],o,l);else{const h=e.iterator;for(;h.next();)this.Kr(c,h.value,o,l)}else{let h=this.parts;for(;h.next();){const f=h.value;this.Kr(c,f,o,l)}for(h=this.nodes;h.next();){const f=h.value;this.Kr(c,f,o,l)}for(h=this.links;h.next();){const f=h.value;this.Kr(c,f,o,l)}}this.TP(c,n,l,o)}Kr(e,n,o,l,c){if(!e.has(n)&&(c===void 0&&(c=!1),!(o&&!c&&!n.canMove()&&!n.canCopy())))if(l===void 0&&(l=this.s0()),n instanceof Lt){if(e.set(n,this.Es(l,n,n.location)),n instanceof Xt&&(n.hasPlaceholder()||l.dragsMembers)){const f=n.memberParts;for(;f.next();){const g=f.value;this.Kr(e,g,o,l,l.groupsAlwaysMove)}}const h=n.linksConnected;for(;h.next();){const f=h.value;if(e.has(f))continue;const g=f.fromNode,v=f.toNode;g!==null&&e.has(g)&&v!==null&&e.has(v)&&this.Kr(e,f,o,l)}if(l.dragsTree){const f=n.findTreeChildrenNodes();for(;f.next();){const g=f.value;this.Kr(e,g,o,l)}}}else if(n instanceof vt){e.set(n,this.Es(l,n));const h=n.labelNodes;for(;h.next();){const f=h.value;this.Kr(e,f,o,l)}}else n instanceof gn||e.set(n,this.Es(l,n,n.location))}TP(e,n,o,l){if(e===null||e.count===0)return;const c=T.l(),h=T.l();h.a(n),isNaN(h.x)&&(h.x=0),isNaN(h.y)&&(h.y=0);const f=this.db;f||this.WC(e);const g=t.et(),v=t.et(),w=e.iterator;let k=T.l();for(;w.next();){const V=w.key,$=w.value;if(V.ke()){const K=this.HL(V,e);if(K!==null)g.push(new hi(V,$,K));else if(!l||V.canMove()){const J=$.point;c.a(J),this.computeMove(V,c.add(h),o,k),V.location=k,$.shifted===void 0&&($.shifted=new T),$.shifted.a(k.subtract(J))}}else w.key instanceof vt&&v.push(new R(w.key,w.value))}T.e(k);const P=g.length;for(let V=0;V<P;V++){const $=g[V],K=$.qL.point;c.a(K),$.Nb.shifted===void 0&&($.Nb.shifted=new T),$.Me.location=c.add($.Nb.shifted)}const N=T.l(),F=T.l(),H=v.length;for(let V=0;V<H;V++){const $=v[V],K=$.key;if(K instanceof vt){if(K.suspendsRouting){K.br=null;const J=K.fromNode,Q=K.toNode;if(this.draggedLink!==null&&o.dragsLink){const ne=$.value.point;if(K.dragComputation===null){e.set(K,this.Es(o,K,h));const le=h.x-ne.x,fe=h.y-ne.y;K.fr(le,fe)}else{const le=T.V(0,0),fe=K.getPoint(0);fe&&fe.isReal()&&le.a(fe),k=T.l().a(le).add(h);let we=k;o.isGridSnapEnabled&&(o.isGridSnapRealtime||this.lastInput.up)&&(we=T.l(),this.yS(K,k,we,o)),k.a(K.dragComputation(K,k,we)).subtract(le),e.set(K,this.Es(o,K,k));const ye=k.x-ne.x,ge=k.y-ne.y;K.fr(ye,ge),T.e(le),T.e(k),we!==k&&T.e(we)}}else{if(J!==null){N.a(J.location);const ne=e.get(J);ne!==null&&N.subtract(ne.point)}if(Q!==null){F.a(Q.location);const ne=e.get(Q);ne!==null&&F.subtract(ne.point)}if(J!==null&&Q!==null)if(N.equalsApprox(F)){const ne=$.value.point,le=c;le.a(N),le.subtract(ne),e.set(K,this.Es(o,K,N)),K.fr(le.x,le.y)}else K.suspendsRouting=!1,K.invalidateRoute();else{const ne=$.value.point;let le;J!==null?le=N:Q!==null?le=F:le=h,e.set(K,this.Es(o,K,le));const fe=le.x-ne.x,we=le.y-ne.y;K.fr(fe,we)}}}else if(K.fromNode===null||K.toNode===null){const J=$.value.point;e.set(K,this.Es(o,K,h));const Q=h.x-J.x,ne=h.y-J.y;K.fr(Q,ne)}}}T.e(c),T.e(h),T.e(N),T.e(F),t.J(g),t.J(v),f||(this.Mi(),this.NP(e))}computeMove(e,n,o,l){if(l===void 0&&(l=new T),l.a(n),e===null)return l;let c=n;const h=o.isGridSnapEnabled;h&&(o.isGridSnapRealtime||this.lastInput.up)&&(c=T.l(),this.yS(e,n,c,o));const f=e.dragComputation!==null?e.dragComputation(e,n,c):c,g=e.minLocation;let v=g.x;isNaN(v)&&(v=h?Math.round(e.location.x*1e3)/1e3:e.location.x);let w=g.y;isNaN(w)&&(w=h?Math.round(e.location.y*1e3)/1e3:e.location.y);const k=e.maxLocation;let P=k.x;isNaN(P)&&(P=h?Math.round(e.location.x*1e3)/1e3:e.location.x);let N=k.y;return isNaN(N)&&(N=h?Math.round(e.location.y*1e3)/1e3:e.location.y),l.i(Math.max(v,Math.min(f.x,P)),Math.max(w,Math.min(f.y,N))),c!==n&&T.e(c),l}s0(){const e=this.toolManager.findTool("Dragging");return e instanceof Me?e.dragOptions:this.pb}yS(e,n,o,l){if(l===void 0&&(l=this.s0()),o.a(n),e===null)return o;const c=this.grid,h=l.gridSnapCellSize;let f=h.width,g=h.height;const v=l.gridSnapOrigin;let w=v.x,k=v.y;const P=l.gridSnapCellSpot;if(c!==null){const F=c.gridCellSize;isNaN(f)&&(f=F.width),isNaN(g)&&(g=F.height);const H=c.gridOrigin;isNaN(w)&&(w=H.x),isNaN(k)&&(k=H.y)}const N=T.V(0,0);return N.setSpot(0,0,f,g,P),I.Dg(n.x,n.y,w+N.x,k+N.y,f,g,o),T.e(N),o}WC(e){if(e===null)return;this.db=!0;const n=e.iterator;for(;n.next();){const o=n.key;o instanceof vt&&(o.suspendsRouting=!0)}}NP(e){if(e===null)return;const n=e.iterator;for(;n.next();){const o=n.key;o instanceof vt&&(o.suspendsRouting=!1,o.WL()&&o.invalidateRoute())}this.db=!1}get draggedLink(){return this.gb}set draggedLink(e){this.gb!==e&&(this.gb=e,e!==null&&(this.yb=e.fromPort,this.wb=e.toPort))}get RP(){return this.yb}set RP(e){this.yb=e}get vP(){return this.wb}set vP(e){this.wb=e}HL(e,n){const o=e.containingGroup;if(o!==null){let l=this.HL(o,n);if(l!==null||(l=n.get(o),l!==null))return l}return null}Es(e,n,o){if(o===void 0)return new Dn(T.xo);let l=e.isGridSnapEnabled;return!e.groupsSnapMembers&&n.containingGroup!==null&&(l=!1),l?new Dn(new T(Math.round(o.x*1e3)/1e3,Math.round(o.y*1e3)/1e3)):new Dn(o.copy())}BM(e,n){if(e.diagram!==null&&e.diagram!==this&&t.o("Cannot share a Layer with another Diagram: "+e+" of "+e.diagram),n===null?e.diagram!==null&&t.o("Cannot add an existing Layer to this Diagram again: "+e):(n.diagram!==this&&t.o("Existing Layer must be in this Diagram: "+n+" not in "+n.diagram),e===n&&t.o("Cannot move a Layer before or after itself: "+e)),e.diagram===this)return;const o=e.name,l=this.Xt,c=l.count;for(let h=0;h<c;h++)l.elt(h).name===o&&t.o("Cannot add Layer with the name '"+o+"'; a Layer with the same name is already present in this Diagram.")}addLayer(e){this.BM(e,null),e.Mo(this);const n=this.Xt;let o=n.count-1;if(!e.isTemporary)for(;o>=0&&n.elt(o).isTemporary;)o--;return n.insertAt(o+1,e),this.ki!==null&&this.raiseChangedEvent(3,"layers",this,null,e,null,o+1),this.S(),this.invalidateDocumentBounds(),this}addLayerBefore(e,n){this.BM(e,n),e.Mo(this);const o=this.Xt,l=o.indexOf(e);l>=0&&(o.delete(e),this.ki!==null&&this.raiseChangedEvent(4,"layers",this,e,null,l,null));const c=o.count;let h;for(h=0;h<c;h++)if(o.elt(h)===n){o.insertAt(h,e);break}return this.ki!==null&&this.raiseChangedEvent(3,"layers",this,null,e,null,h),this.S(),l<0&&this.invalidateDocumentBounds(),this}addLayerAfter(e,n){this.BM(e,n),e.Mo(this);const o=this.Xt,l=o.indexOf(e);l>=0&&(o.delete(e),this.ki!==null&&this.raiseChangedEvent(4,"layers",this,e,null,l,null));const c=o.count;let h;for(h=0;h<c;h++)if(o.elt(h)===n){o.insertAt(h+1,e);break}return this.ki!==null&&this.raiseChangedEvent(3,"layers",this,null,e,null,h+1),this.S(),l<0&&this.invalidateDocumentBounds(),this}Xr(e,n){e.Mo(this),this.Xt.insertAt(n,e)}JL(e){this.Xt.removeAt(e)}removeLayer(e){if(e.diagram!==this&&t.o("Cannot remove a Layer from another Diagram: "+e+" of "+e.diagram),e.name==="")return;const n=this.Xt,o=n.indexOf(e);if(n.delete(e)){const l=e.Ct.copy().iterator;for(;l.next();){const c=l.value,h=c.layerName;h!==e.name?c.layerName=h:c.layerName=""}this.ki!==null&&this.raiseChangedEvent(4,"layers",this,e,null,o,null),this.S(),this.invalidateDocumentBounds()}}findLayer(e){const n=this.layers;for(;n.next();){const o=n.value;if(o.name===e)return o}return null}findRouter(e){for(const n of this.Vc)if(n.name===e)return n;return null}addModelChangedListener(e){return t.k(e,Te,"addModelChangedListener:listener"),this.Gn===null&&(this.Gn=new m),this.Gn.add(e),this.model.addChangedListener(e),this}removeModelChangedListener(e){t.k(e,Te,"removeModelChangedListener:listener"),this.Gn!==null&&(this.Gn.delete(e),this.Gn.count===0&&(this.Gn=null)),this.model.removeChangedListener(e)}addChangedListener(e){return t.k(e,Te,"addChangedListener:listener"),this.Nr===null&&(this.Nr=new m),this.Nr.add(e),this}removeChangedListener(e){t.k(e,Te,"removeChangedListener:listener"),this.Nr!==null&&(this.Nr.delete(e),this.Nr.count===0&&(this.Nr=null))}VM(e){if(!this.skipsUndoManager&&!this.model.skipsUndoManager&&this.model.undoManager.handleChanged(e),e.change!==1&&(this.isModified=!0),this.Nr!==null){const n=this.Nr,o=n.length;for(let l=0;l<o;l++)n.elt(l)(e)}}raiseChangedEvent(e,n,o,l,c,h,f){h===void 0&&(h=null),f===void 0&&(f=null);const g=new pe;g.diagram=this,g.change=e,g.propertyName=n,g.object=o,g.oldValue=l,g.oldParam=h,g.newValue=c,g.newParam=f,this.VM(g)}raiseChanged(e,n,o,l,c){this.raiseChangedEvent(2,e,this,n,o,l,c)}t(e,n,o,l,c){this.raiseChangedEvent(2,e,this,n,o,l,c)}get animationManager(){return this.ds}get undoManager(){return this.ki.undoManager}get skipsUndoManager(){return this.Lo}set skipsUndoManager(e){t.s(e,"boolean",Te,"skipsUndoManager"),this.Lo=e,this.ki.skipsUndoManager=e}get delaysLayout(){return this.Yx}set delaysLayout(e){this.Yx=e}VC(e,n){if(e===null||e.diagram!==this)return;const o=this.fe;try{this.fe=!0;const l=e.change;if(l===2){const c=e.object,h=e.propertyName,f=e.getValue(n);if(e.diagram.model.Z(c,h,f),c instanceof Wt){const g=c.part;g!==null&&g.invalidateAdornments()}this.isModified=!0}else if(l===3){const c=e.object,h=e.newParam,f=e.newValue;if(c instanceof Je)if(typeof h=="number"&&f instanceof Wt){n?c.te(h):c.insertAt(h,f);const g=c.part;g!==null&&g.invalidateAdornments()}else typeof h=="number"&&f instanceof ei&&(f.isRow?c.$L(h,n?void 0:f):c.ZL(h,n?void 0:f));else if(c instanceof ft){const g=e.oldParam===!0;typeof h=="number"&&f instanceof Pn&&(n?(g||(f.isSelected=!1,f.isHighlighted=!1,f.invalidateAdornments()),c.te(g?h:-1,f,g)):c.Jh(h,f,g))}else c instanceof Te?typeof h=="number"&&f instanceof ft&&(n?this.JL(h):this.Xr(f,h)):t.o("unknown ChangeType.Insert object: "+e.toString());this.isModified=!0}else if(l===4){const c=e.object,h=e.oldParam,f=e.oldValue;if(c instanceof Je)typeof h=="number"&&f instanceof Wt?n?c.insertAt(h,f):c.te(h):typeof h=="number"&&f instanceof ei&&(f.isRow?c.$L(h,n?f:void 0):c.ZL(h,n?f:void 0));else if(c instanceof ft){const g=e.newParam===!0;typeof h=="number"&&f instanceof Pn&&(n?c.Ct.indexOf(f)<0&&c.Jh(h,f,g):(g||(f.isSelected=!1,f.isHighlighted=!1,f.invalidateAdornments()),c.te(g?h:-1,f,g)))}else c instanceof Te?typeof h=="number"&&f instanceof ft&&(n?this.Xr(f,h):this.JL(h)):t.o("unknown ChangeType.Remove object: "+e.toString());this.isModified=!0}else l===1||t.o("unknown ChangedEvent: "+e.toString())}finally{this.fe=o}}startTransaction(e){return this.undoManager.startTransaction(e)}commitTransaction(e){return this.undoManager.commitTransaction(e)}rollbackTransaction(){return this.undoManager.rollbackTransaction()}commit(e,n){let o=n;o===void 0&&(o="");const l=this.skipsUndoManager;o===null&&(this.skipsUndoManager=!0,o=""),this.undoManager.startTransaction(o);let c=!1;try{e(this),c=!0}finally{c?this.undoManager.commitTransaction(o):this.undoManager.rollbackTransaction(),this.skipsUndoManager=l}}updateAllTargetBindings(e){this.partManager.updateAllTargetBindings(e)}updateAllThemeBindings(){if(this.partManager.updateAllThemeBindings(),this.Ze!==null){const e=this.Ze.part;e!==null&&e.Do()}}setDivBackground(e){this.div&&(this.div.style.backgroundColor=e)}updateAllRelationshipsFromData(){this.partManager.updateAllRelationshipsFromData()}kb(){const e=this.T,n=this.tt,o=this.at;e.Ri(),n!==1&&e.tt(n),(o.x!==0||o.y!==0)&&e.Fs(-o.x,-o.y)}QL(e,n){const o=this.animationManager;if(this.Ht||this.ys){this.tt=n,this.Ql(),this.S(),this.aa(),o.yL(e,this.tt),this.kb();return}if(this.ft===null){this.tt=n,this.kb();return}this.Ht=!0;const l=this.viewportBounds.copy(),c=this.xt,h=this.bt;let f=this.zoomPoint.x,g=this.zoomPoint.y;const v=this.contentAlignment;isNaN(f)&&(v.isSide()?v.includesSide(L.LeftSide)?f=0:v.includesSide(L.RightSide)&&(f=c-1):v.isSpot()?f=v.x*(c-1):f=c/2),isNaN(g)&&(v.isSide()?v.includesSide(L.TopSide)?g=0:v.includesSide(L.BottomSide)&&(g=h-1):v.isSpot()?g=v.y*(h-1):g=h/2),this.scaleComputation!==null&&!this.animationManager.defaultAnimation.isAnimating&&(n=this.scaleComputation(this,n)),n<this.minScale&&(n=this.minScale),n>this.maxScale&&(n=this.maxScale);const w=T.V(this.at.x+f/e-f/n,this.at.y+g/e-g/n);this.position=w,T.e(w),this.tt=n,this.Ql(),this.Ht=!1,this.onViewportBoundsChanged(l,this.viewportBounds,e,!1),this.Bs(!1),o.yL(e,this.tt),this.S()}MR(){const e=this.Xt.r;for(let n=0;n<e.length;n++)e[n].ML()}onViewportBoundsChanged(e,n,o,l){if(e.equals(n))return;l===void 0&&(l=!1),l||this.aa(),this._l();const c=this.layout;c!==null&&c.isViewportSized&&this.autoScale===1&&(e.width!==n.width||e.height!==n.height)&&c.invalidateLayout();const h=this.currentTool;this.Uc===!0&&h instanceof _e&&!this.animationManager.isTicking&&(this.lastInput.documentPoint=this.transformViewToDoc(this.lastInput.viewPoint),h.standardMouseActivity(this)),this.Ht||this.invalidateViewport(e,n),this.th(),this.Bi.scale=o,this.Bi.position.x=e.x,this.Bi.position.y=e.y,this.Bi.bounds.a(e),this.Bi.canvasSize.width=Math.round(e.width*o),this.Bi.canvasSize.height=Math.round(e.height*o),this.Bi.newCanvasSize.width=this.xt,this.Bi.newCanvasSize.height=this.bt,this.Bi.isScroll=l,this.D("ViewportBoundsChanged",this.Bi,e),this.isVirtualized&&this.links.each(f=>{f.isAvoiding&&f.actualBounds.intersectsRect(n)&&f.invalidateRoute()})}th(e){const n=this.Ze;if(n===null||!n.visible||n.part===null||n.layer===null)return;const o=e!==void 0?e:this.sb;if(!o.isReal())return;const l=o.width,c=o.height;if(n.scale=1,n.angle=0,n.layer.isViewportAligned)n.width=l*this.scale,n.height=c*this.scale,n.part.alignment=L.TopLeft;else{n.yi===null&&(n.yi=new ll);const h=n.yi.Yc;if(!h.isReal())return;n.width=l+h.width*2,n.height=c+h.height*2;const f=T.l();I.Dg(o.x,o.y,0,0,h.width,h.height,f),f.offset(-h.width,-h.height),n.part.location=f,T.e(f)}}clearSelection(e){e===void 0&&(e=!1);const n=this.selection;if(n.count===0)return;e||this.D("ChangingSelection",n);const o=n.toArray(),l=o.length;for(let c=0;c<l;c++){const h=o[c];h.isSelected=!1}n.Nt(),n.clear(),n.u(),e||this.D("ChangedSelection",n)}select(e){e!==null&&e.diagram===this&&(!e.isSelected||this.selection.count>1)&&(this.D("ChangingSelection",this.selection),this.clearSelection(!0),e.isSelected=!0,this.D("ChangedSelection",this.selection))}selectCollection(e){if(this.D("ChangingSelection",this.selection),this.clearSelection(!0),Array.isArray(e)){const n=e.length;for(let o=0;o<n;o++){const l=e[o];l instanceof Pn||t.o("Diagram.selectCollection given something that is not a Part: "+l),l.isSelected=!0}}else{const n=e.iterator;for(;n.next();){const o=n.value;o instanceof Pn||t.o("Diagram.selectCollection given something that is not a Part: "+o),o.isSelected=!0}}this.D("ChangedSelection",this.selection)}clearHighlighteds(){const e=this.highlighteds;if(e.count>0){const n=e.toArray(),o=n.length;for(let l=0;l<o;l++){const c=n[l];c.isHighlighted=!1}e.Nt(),e.clear(),e.u()}}highlight(e){e!==null&&e.diagram===this&&(!e.isHighlighted||this.highlighteds.count>1)&&(this.clearHighlighteds(),e.isHighlighted=!0)}highlightCollection(e){const n=new b().addAll(e),o=this.highlighteds.copy().removeAll(n).iterator;for(;o.next();){const c=o.value;c.isHighlighted=!1}const l=n.iterator;for(;l.next();){const c=l.value;c instanceof Pn||t.o("Diagram.highlightCollection given something that is not a Part: "+c),c.isHighlighted=!0}}scroll(e,n,o){o===void 0&&(o=1);const l=n==="up"||n==="down";let c=0;const h=T.l();if(e==="pixel")c=o;else if(e==="line")c=o*(l?this.scrollVerticalLineChange:this.scrollHorizontalLineChange);else if(e==="page"){let g=l?this.viewportBounds.height:this.viewportBounds.width;if(g*=this.scale,g!==0){const v=Math.max(g-(l?this.scrollVerticalLineChange:this.scrollHorizontalLineChange),0);c=o*v}}else if(e==="document"){const g=this.documentBounds,v=this.viewportBounds;n==="up"?this.position=h.i(v.x,g.y):n==="left"?this.position=h.i(g.x,v.y):n==="down"?this.position=h.i(v.x,g.bottom-v.height):n==="right"&&(this.position=h.i(g.right-v.width,v.y)),T.e(h);return}else t.o("scrolling unit must be 'pixel', 'line', 'page', or 'document', not: "+e);c/=this.scale;const f=this.position;n==="up"?this.position=h.i(f.x,f.y-c):n==="down"?this.position=h.i(f.x,f.y+c):n==="left"?this.position=h.i(f.x-c,f.y):n==="right"?this.position=h.i(f.x+c,f.y):t.o("scrolling direction must be 'up', 'down', 'left', or 'right', not: "+n),T.e(h)}scrollToRect(e){const n=this.viewportBounds;if(n.containsRect(e))return;const o=e.center;o.x-=n.width/2,o.y-=n.height/2,this.position=o}centerRect(e){const n=this.viewportBounds,o=e.center;o.x-=n.width/2,o.y-=n.height/2,this.position=o}transformDocToView(e){return e.copy().T(this.T)}transformViewToDoc(e){return e.copy().Oe(this.T)}$F(e){return e.Oe(this.T)}static None=1;static Uniform=2;static UniformToFill=3;static CycleAll=1;static CycleNotDirected=2;static CycleNotDirectedFast=3;static CycleNotUndirected=4;static CycleDestinationTree=5;static CycleSourceTree=6;static DocumentScroll=1;static InfiniteScroll=2;static TreeParentCollapsed=1;static AllParentsCollapsed=2;static AnyParentsCollapsed=3;get opacity(){return this.$t}set opacity(e){const n=this.$t;n!==e&&(t.s(e,"number",Te,"opacity"),(e<0||e>1)&&t.W(e,"0 <= value <= 1",Te,"opacity"),this.$t=e,this.t("opacity",n,e),this.S())}get validCycle(){return this.Ex}set validCycle(e){const n=this.Ex;n!==e&&(this.Ex=e,this.t("validCycle",n,e))}get layers(){return this.Xt.iterator}get isModelReadOnly(){const e=this.ki;return e===null?!1:e.isReadOnly}set isModelReadOnly(e){const n=this.ki;n!==null&&(n.isReadOnly=e)}get isReadOnly(){return this.Ao}set isReadOnly(e){const n=this.Ao;n!==e&&(t.s(e,"boolean",Te,"isReadOnly"),this.Ao=e,this.t("isReadOnly",n,e))}get isEnabled(){return this.Oi}set isEnabled(e){const n=this.Oi;n!==e&&(t.s(e,"boolean",Te,"isEnabled"),this.Oi=e,this.t("isEnabled",n,e))}get allowClipboard(){return this.Gx}set allowClipboard(e){const n=this.Gx;n!==e&&(t.s(e,"boolean",Te,"allowClipboard"),this.Gx=e,this.t("allowClipboard",n,e))}get allowCopy(){return this.Rl}set allowCopy(e){const n=this.Rl;n!==e&&(t.s(e,"boolean",Te,"allowCopy"),this.Rl=e,this.t("allowCopy",n,e))}get allowDelete(){return this.vl}set allowDelete(e){const n=this.vl;n!==e&&(t.s(e,"boolean",Te,"allowDelete"),this.vl=e,this.t("allowDelete",n,e))}get allowDragOut(){return this.Kx}set allowDragOut(e){const n=this.Kx;n!==e&&(t.s(e,"boolean",Te,"allowDragOut"),this.Kx=e,this.t("allowDragOut",n,e))}get allowDrop(){return this.jx}set allowDrop(e){const n=this.jx;n!==e&&(t.s(e,"boolean",Te,"allowDrop"),this.jx=e,this.t("allowDrop",n,e))}get allowTextEdit(){return this.Ol}set allowTextEdit(e){const n=this.Ol;n!==e&&(t.s(e,"boolean",Te,"allowTextEdit"),this.Ol=e,this.t("allowTextEdit",n,e))}get allowGroup(){return this.Il}set allowGroup(e){const n=this.Il;n!==e&&(t.s(e,"boolean",Te,"allowGroup"),this.Il=e,this.t("allowGroup",n,e))}get allowUngroup(){return this.El}set allowUngroup(e){const n=this.El;n!==e&&(t.s(e,"boolean",Te,"allowUngroup"),this.El=e,this.t("allowUngroup",n,e))}get allowInsert(){return this.Hx}set allowInsert(e){const n=this.Hx;n!==e&&(t.s(e,"boolean",Te,"allowInsert"),this.Hx=e,this.t("allowInsert",n,e))}get allowLink(){return this.Ul}set allowLink(e){const n=this.Ul;n!==e&&(t.s(e,"boolean",Te,"allowLink"),this.Ul=e,this.t("allowLink",n,e))}get allowRelink(){return this.Bl}set allowRelink(e){const n=this.Bl;n!==e&&(t.s(e,"boolean",Te,"allowRelink"),this.Bl=e,this.t("allowRelink",n,e))}get allowMove(){return this.Vl}set allowMove(e){const n=this.Vl;n!==e&&(t.s(e,"boolean",Te,"allowMove"),this.Vl=e,this.t("allowMove",n,e))}get allowReshape(){return this.zl}set allowReshape(e){const n=this.zl;n!==e&&(t.s(e,"boolean",Te,"allowReshape"),this.zl=e,this.t("allowReshape",n,e))}get allowResize(){return this.Xl}set allowResize(e){const n=this.Xl;n!==e&&(t.s(e,"boolean",Te,"allowResize"),this.Xl=e,this.t("allowResize",n,e))}get allowRotate(){return this.Yl}set allowRotate(e){const n=this.Yl;n!==e&&(t.s(e,"boolean",Te,"allowRotate"),this.Yl=e,this.t("allowRotate",n,e))}get allowSelect(){return this.Gl}set allowSelect(e){const n=this.Gl;n!==e&&(t.s(e,"boolean",Te,"allowSelect"),this.Gl=e,this.t("allowSelect",n,e))}get allowUndo(){return this.qx}set allowUndo(e){const n=this.qx;n!==e&&(t.s(e,"boolean",Te,"allowUndo"),this.qx=e,this.t("allowUndo",n,e))}get allowZoom(){return this.Wx}set allowZoom(e){const n=this.Wx;n!==e&&(t.s(e,"boolean",Te,"allowZoom"),this.Wx=e,this.t("allowZoom",n,e))}get hasVerticalScrollbar(){return this.vu}set hasVerticalScrollbar(e){const n=this.vu;n!==e&&(t.s(e,"boolean",Te,"hasVerticalScrollbar"),this.vu=e,this.aa(),this.S(),this.t("hasVerticalScrollbar",n,e),this.Bs(!1))}get hasHorizontalScrollbar(){return this.Ru}set hasHorizontalScrollbar(e){const n=this.Ru;n!==e&&(t.s(e,"boolean",Te,"hasHorizontalScrollbar"),this.Ru=e,this.aa(),this.S(),this.t("hasHorizontalScrollbar",n,e),this.Bs(!1))}get allowHorizontalScroll(){return this.Jx}set allowHorizontalScroll(e){const n=this.Jx;n!==e&&(t.s(e,"boolean",Te,"allowHorizontalScroll"),this.Jx=e,this.t("allowHorizontalScroll",n,e),this.Bs(!1))}get allowVerticalScroll(){return this.$x}set allowVerticalScroll(e){const n=this.$x;n!==e&&(t.s(e,"boolean",Te,"allowVerticalScroll"),this.$x=e,this.t("allowVerticalScroll",n,e),this.Bs(!1))}get scrollHorizontalLineChange(){return this.Zx}set scrollHorizontalLineChange(e){const n=this.Zx;n!==e&&(t.s(e,"number",Te,"scrollHorizontalLineChange"),e<0&&t.W(e,">= 0",Te,"scrollHorizontalLineChange"),this.Zx=e,this.t("scrollHorizontalLineChange",n,e))}get scrollVerticalLineChange(){return this.Qx}set scrollVerticalLineChange(e){const n=this.Qx;n!==e&&(t.s(e,"number",Te,"scrollVerticalLineChange"),e<0&&t.W(e,">= 0",Te,"scrollVerticalLineChange"),this.Qx=e,this.t("scrollVerticalLineChange",n,e))}get lastInput(){return this._h}set lastInput(e){this._h=e}get previousInput(){return this.Br}set previousInput(e){this.Br=e}get firstInput(){return this.Gm}set firstInput(e){this.Gm=e}get currentCursor(){return this.Ux}set currentCursor(e){if(e===""&&(e=this.Um),this.Ux!==e){t.s(e,"string",Te,"currentCursor");const n=this.ft,o=this.St;if(n===null||o===null)return;this.Ux=e;const l=n.style.cursor;n.style.cursor=e,o.style.cursor=e,n.style.cursor===l&&(n.style.cursor="-webkit-"+e,o.style.cursor="-webkit-"+e,n.style.cursor===l&&(n.style.cursor="-moz-"+e,o.style.cursor="-moz-"+e,n.style.cursor===l&&(n.style.cursor=e,o.style.cursor=e)))}}get defaultCursor(){return this.Um}set defaultCursor(e){e===""&&(e="auto");const n=this.Um;n!==e&&(t.s(e,"string",Te,"defaultCursor"),this.Um=e,this.t("defaultCursor",n,e))}get click(){return this.Cr}set click(e){const n=this.Cr;n!==e&&(e!==null&&t.k(e,Te,"click"),this.Cr=e,this.t("click",n,e))}get doubleClick(){return this.Lr}set doubleClick(e){const n=this.Lr;n!==e&&(e!==null&&t.k(e,Te,"doubleClick"),this.Lr=e,this.t("doubleClick",n,e))}get contextClick(){return this.Ar}set contextClick(e){const n=this.Ar;n!==e&&(e!==null&&t.k(e,Te,"contextClick"),this.Ar=e,this.t("contextClick",n,e))}get mouseOver(){return this.Tr}set mouseOver(e){const n=this.Tr;n!==e&&(e!==null&&t.k(e,Te,"mouseOver"),this.Tr=e,this.t("mouseOver",n,e))}get mouseHover(){return this.Dr}set mouseHover(e){const n=this.Dr;n!==e&&(e!==null&&t.k(e,Te,"mouseHover"),this.Dr=e,this.t("mouseHover",n,e))}get mouseHold(){return this.Fr}set mouseHold(e){const n=this.Fr;n!==e&&(e!==null&&t.k(e,Te,"mouseHold"),this.Fr=e,this.t("mouseHold",n,e))}get mouseDragOver(){return this.Bx}set mouseDragOver(e){const n=this.Bx;n!==e&&(e!==null&&t.k(e,Te,"mouseDragOver"),this.Bx=e,this.t("mouseDragOver",n,e))}get mouseDrop(){return this.Rr}set mouseDrop(e){const n=this.Rr;n!==e&&(this.Rr=e,this.t("mouseDrop",n,e))}get handlesDragDropForTopLevelParts(){return this.Vx}set handlesDragDropForTopLevelParts(e){const n=this.Vx;n!==e&&(t.s(e,"boolean",Te,"handlesDragDropForTopLevelParts"),this.Vx=e,this.t("handlesDragDropForTopLevelParts",n,e))}get mouseEnter(){return this.vr}set mouseEnter(e){const n=this.vr;n!==e&&(e!==null&&t.k(e,Te,"mouseEnter"),this.vr=e,this.t("mouseEnter",n,e))}get mouseLeave(){return this.Or}set mouseLeave(e){const n=this.Or;n!==e&&(e!==null&&t.k(e,Te,"mouseLeave"),this.Or=e,this.t("mouseLeave",n,e))}get toolTip(){return this.Ir}set toolTip(e){const n=this.Ir;n!==e&&(this.Ir=e,this.t("toolTip",n,e))}get contextMenu(){return this.Er}set contextMenu(e){const n=this.Er;n!==e&&(this.Er=e,this.t("contextMenu",n,e))}get commandHandler(){return this.sM}set commandHandler(e){const n=this.sM;n!==e&&(n&&n.doStop(),this.sM=e,e.Mo(this),e.doStart())}get toolManager(){return this.tM}set toolManager(e){this.tM!==e&&(this.tM=e,e.diagram=this)}get defaultTool(){return this.iM}set defaultTool(e){const n=this.iM;n!==e&&(this.iM=e,e.diagram=this,this.currentTool===n&&(this.currentTool=e))}get currentTool(){return this.eM}set currentTool(e){const n=this.eM;n&&(n.isActive&&n.doDeactivate(),n.cancelWaitAfter(),n.doStop()),e===null&&(e=this.defaultTool),e!==null&&(this.eM=e,e.diagram=this,e.doStart())}get selection(){return this.cM}get maxSelectionCount(){return this.eb}set maxSelectionCount(e){const n=this.eb;if(n!==e)if(t.s(e,"number",Te,"maxSelectionCount"),e>=0&&!isNaN(e)){if(this.eb=e,this.t("maxSelectionCount",n,e),!this.undoManager.isUndoingRedoing){const o=this.selection.count-e;if(o>0){this.D("ChangingSelection",this.selection);const l=this.selection.toArray();for(let c=0;c<o;c++)l[c].isSelected=!1;this.D("ChangedSelection",this.selection)}}}else t.W(e,">= 0",Te,"maxSelectionCount")}get nodeSelectionAdornmentTemplate(){return this.Xm}set nodeSelectionAdornmentTemplate(e){const n=this.Xm;n!==e&&(this.Xm=e.Et(),this.t("nodeSelectionAdornmentTemplate",n,e))}get groupSelectionAdornmentTemplate(){return this.ob}set groupSelectionAdornmentTemplate(e){const n=this.ob;n!==e&&(this.ob=e.Et(),this.t("groupSelectionAdornmentTemplate",n,e))}get linkSelectionAdornmentTemplate(){return this.rb}set linkSelectionAdornmentTemplate(e){const n=this.rb;n!==e&&(this.rb=e.Et(),this.t("linkSelectionAdornmentTemplate",n,e))}get highlighteds(){return this.fM}get isModified(){const e=this.undoManager;return e.isEnabled?e.currentTransaction!==null?!0:this.Uu&&this.Os!==e.historyIndex:this.Uu}set isModified(e){if(this.Uu!==e){t.s(e,"boolean",Te,"isModified"),this.Uu=e;const n=this.undoManager;!e&&n.isEnabled&&(this.Os=n.historyIndex),e||this._L()}}_L(){const e=this.isModified;this.hM!==e&&(this.hM=e,this.D("Modified"))}get model(){return this.ki}set model(e){const n=this.ki;if(n!==e){this.currentTool.doCancel(),n&&n.undoManager!==e.undoManager&&n.undoManager.isInTransaction&&t.o("Do not replace a Diagram.model while a transaction is in progress."),this.animationManager.stopAnimation(!0);const o=this.OL(!0);this.jn=!1,this.Fu=!0,this.Os=-2,this.xr=!1;const l=this.Ht;this.Ht=!0,this.animationManager.Fl("Model"),n&&(this.Gn!==null&&this.Gn.each(c=>n.removeChangedListener(c)),n.removeChangedListener(this.lM)),this.ki=e,this.partManager=this.vR(this.ki.type),this.initializePartManager(this.partManager);for(let c=0;c<o.length;c++)this.add(o[c]);e.addChangedListener(this.rM),this.partManager.zM(),e.removeChangedListener(this.rM),e.addChangedListener(this.lM),this.Gn!==null&&this.Gn.each(c=>e.addChangedListener(c)),this.Ht=l,this.invalidateDocumentBounds(),this.Ht||this.S(),n&&e.undoManager.copyProperties(n.undoManager)}}get themeManager(){return this.NM}set themeManager(e){const n=this.NM;n!==e&&(n&&n.removeDiagram(this),this.NM=e,e!==null&&e.addDiagram(this))}initializePartManager(e){}static CM(e,n){Te.AL.set(e,n)}static get licenseKey(){return Te.XM.last()}static set licenseKey(e){Te.XM.add(e.replace(/\s/g,""))}static get version(){return Te.OR}static XM=new m;static OR="3.0.24";vR(e){const n=Te.AL.get(e);return n!==null?new n:new Ws}get X(){return this.oM}set X(e){this.oM=e}get xx(){return this.NL}IR(e){if(e.model!==this.model)return;const n=e.change,o=e.propertyName;if(n===1&&o[0]==="S"){if(o==="StartingFirstTransaction"){const l=this,c=this.toolManager;c.mouseDownTools.each(h=>h.diagram=l),c.mouseMoveTools.each(h=>h.diagram=l),c.mouseUpTools.each(h=>h.diagram=l),this.routers.each(h=>h.diagram=l),!this.ys&&!this.jn&&(this.vc=!0,this.Fu&&(this.xr=!0))}else if(o==="StartingUndo"||o==="StartingRedo"){const l=this.animationManager;this.skipsUndoManager||(l.defaultAnimation.isAnimating&&l.stopAnimation(),l.getBundleAnimation().isAnimating&&l.getBundleAnimation().stop()),this.D("ChangingSelection",this.selection)}else if(o==="StartedTransaction"){const l=this.animationManager;l.defaultAnimation.isAnimating&&!this.skipsUndoManager&&l.stopAnimation()}return}if(this.X){this.X=!1;try{if(e.modelChange===""&&n===1){(o==="FinishedUndo"||o==="FinishedRedo")&&(this.D("ChangedSelection",this.selection),this.Mi());const l=this.animationManager;o==="RolledBackTransaction"&&l.stopAnimation(),this.xL(),this.vc=!0,this.maybeUpdate(),(this.undoManager.transactionLevel===0||this.undoManager.transactionLevel===1)&&l.OS(),o==="CommittedTransaction"&&this.undoManager.isJustDiscarded&&(this.Os=Math.min(this.Os,this.undoManager.historyIndex-1)),(o==="CommittedTransaction"||o==="RolledBackTransaction")&&this.undoManager.Ew&&t.ir(()=>{this.isModified=!1},1);const c=e.isTransactionFinished;if(c&&(this._L(),this.xx.clear(),this.animationManager.OF()),!this.zx&&c&&this.lastInput.targetDiagram){this.zx=!0;const h=this;t.ir(()=>{h.currentTool.standardMouseOver(),h.zx=!1},10)}}}finally{this.X=!0}}}get fe(){return this.nM}set fe(e){this.nM=e}get du(){return this.Xx}set du(e){this.Xx=e}GL(e){const n=e.C.r;for(const o of n)o instanceof li&&this.YM(o)}YM(e){const n=e.element;if(n===null||!(n instanceof HTMLImageElement)||(n.ts instanceof b&&n.ts.add(this),e.ER(),!n.o0))return;const o=n.getAttribute("src")||"",l=this.Jl.get(o);if(l===null){li.tA(e,n);const c=[];c.push(e),this.Jl.set(o,c)}else{for(let c=0;c<l.length;c++)if(l[c]===e)return;l.push(e)}}UR(e){const n=e.C.r,o=n.length;for(let l=0;l<o;l++)this.GM(n[l])}GM(e){if(!(e instanceof li))return;const n=e.element;if(n===null||!(n instanceof HTMLImageElement)||!n.o0)return;const o=n.getAttribute("src")||"",l=this.Jl.get(o);if(l!==null){for(let c=0;c<l.length;c++)if(l[c]===e){l.splice(c,1),l.length===0&&(this.Jl.delete(o),li.BR(n),n.ts instanceof b&&n.ts.delete(this),li.clearCache(o));return}}}IL(){li.clearCache(),this.Jl.clear()}rebuildParts(){this.partManager.rebuildParts()}Lc(e,n){this.ds.Lc(e,n)}Cc(e,n){this.ds.Cc(e,n)}findPartForKey(e){return this.partManager.findPartForKey(e)}findNodeForKey(e){return this.partManager.findNodeForKey(e)}findLinkForKey(e){return this.partManager.findLinkForKey(e)}findPartForData(e){return this.partManager.findPartForData(e)}findNodeForData(e){return this.partManager.findNodeForData(e)}findLinkForData(e){return this.partManager.findLinkForData(e)}findNodesByExample(...e){return this.partManager.findNodesByExample(...e)}findLinksByExample(...e){return this.partManager.findLinksByExample(...e)}get nodeTemplate(){return this.Ur.get("")}set nodeTemplate(e){const n=this.Ur.get("");n!==e&&(this.Ur.set("",e),this.t("nodeTemplate",n,e),this.undoManager.isUndoingRedoing||this.rebuildParts())}get nodeTemplateMap(){return this.Ur}set nodeTemplateMap(e){const n=this.Ur;n!==e&&(this.Ur=e,this.t("nodeTemplateMap",n,e),this.undoManager.isUndoingRedoing||this.rebuildParts())}get groupTemplate(){return this.Qh.get("")}set groupTemplate(e){const n=this.Qh.get("");n!==e&&(this.Qh.set("",e),this.t("groupTemplate",n,e),this.undoManager.isUndoingRedoing||this.rebuildParts())}get groupTemplateMap(){return this.Qh}set groupTemplateMap(e){const n=this.Qh;n!==e&&(this.Qh=e,this.t("groupTemplateMap",n,e),this.undoManager.isUndoingRedoing||this.rebuildParts())}get linkTemplate(){return this.ql.get("")}set linkTemplate(e){const n=this.ql.get("");n!==e&&(this.ql.set("",e),this.t("linkTemplate",n,e),this.undoManager.isUndoingRedoing||this.rebuildParts())}get linkTemplateMap(){return this.ql}set linkTemplateMap(e){const n=this.ql;n!==e&&(this.ql=e,this.t("linkTemplateMap",n,e),this.undoManager.isUndoingRedoing||this.rebuildParts())}get isMouseCaptured(){return this.aM}set isMouseCaptured(e){const n=this.ft;if(n===null)return;const o=n.Tt;o instanceof SVGElement||(e?(this.lastInput.bubbles=!1,this.Pi(o,"pointermove",this.na,!1),this.Pi(o,"pointerdown",this.Zl,!1),this.Pi(o,"pointerup",this.oa,!1),this.Pi(o,"pointerout",this.ra,!1),this.Pi(o,"pointercancel",this.la,!1),this.Ut(i,"pointermove",this.na,!0),this.Ut(i,"pointerdown",this.Zl,!0),this.Ut(i,"pointerup",this.oa,!0),this.Ut(i,"pointerout",this.ra,!0),this.Ut(i,"pointercancel",this.la,!0),this.Pi(o,"wheel",this.sa,!1),this.Ut(i,"wheel",this.sa,!0),this.Ut(i,"selectstart",this.jh,!1)):(this.Pi(i,"pointermove",this.na,!0),this.Pi(i,"pointerdown",this.Zl,!0),this.Pi(i,"pointerup",this.oa,!0),this.Pi(i,"pointerout",this.ra,!0),this.Pi(i,"pointercancel",this.la,!0),this.Ut(o,"pointermove",this.na,!1),this.Ut(o,"pointerdown",this.Zl,!1),this.Ut(o,"pointerup",this.oa,!1),this.Ut(o,"pointerout",this.ra,!1),this.Ut(o,"pointercancel",this.la,!1),this.Pi(i,"wheel",this.sa,!0),this.Pi(i,"selectstart",this.jh,!1),this.Ut(o,"wheel",this.sa,!1)),this.aM=e)}get position(){return this.at}set position(e){if(this.at.equals(e))return;const n=T.l().a(this.at),o=this.viewportBounds.copy();if(this.at.a(e),this.animationManager.pL(n,this.at),!this.Ht&&!(this.ft===null&&!this.Iu.isReal())){this.Ht=!0;const l=this.scale,c=this.xt/l,h=this.bt/l;this.DM(this.zm,c,h,this.Fc,!1),this.Ht=!1}else this.Ql(),this.kb();if(!this.Ht){const l=this.viewportBounds;this.onViewportBoundsChanged(o,l,this.tt,!1)}T.e(n)}get initialPosition(){return this.Sx}set initialPosition(e){this.Sx.equals(e)||(this.Sx=e.P())}get initialScale(){return this.Mx}set initialScale(e){this.Mx!==e&&(t.s(e,"number",Te,"initialScale"),this.Mx=e)}get grid(){return this.Ze===null&&(this.Ze=this.UL()),this.Ze}set grid(e){let n=this.Ze;if(n!==e){n===null&&(this.Ze=this.UL(),n=this.Ze),e.type!==Je.Grid&&t.o("Diagram.grid must be a Panel of type Panel.Grid");const o=n.panel;o!==null&&o.remove(n),this.Ze=e,e.name="GRID",o!==null&&o.add(e),this.Eu=!1,this.S(),this.t("grid",n,e)}}get viewportBounds(){return this.sb}Ql(){const e=this.sb,n=this.at,o=this.tt;e.i(n.x,n.y,Math.max(this.xt,0)/o,Math.max(this.bt,0)/o),this._l()}get viewSize(){return this.Iu}set viewSize(e){const n=this.viewSize;if(!n.equals(e)){e=e.P(),this.Iu=e;let o=0,l=0;e.isReal()?(o=e.width,l=e.height):this.St!==null&&(o=this.St.clientWidth||1,l=this.St.clientHeight||1),this.xt=o,this.bt=l,this.Ql(),this.invalidateDocumentBounds(),this.t("viewSize",n,e),this.S()}}get fixedBounds(){return this.Ax}set fixedBounds(e){const n=this.Ax;n.equals(e)||((e.width===-1/0||e.height===1/0||e.height===-1/0)&&t.o("fixedBounds width/height must not be Infinity"),e=e.P(),this.Ax=e,this.invalidateDocumentBounds(),this.t("fixedBounds",n,e))}get scrollMargin(){return this.$h}set scrollMargin(e){typeof e=="number"&&(e=new W(e));const n=this.$h;n.equals(e)||(e=e.P(),this.$h=e,this.t("scrollMargin",n,e),this.mu())}get scrollMode(){return this.qh}set scrollMode(e){const n=this.qh;n!==e&&(this.qh=e,e===1&&this.Bs(!1),this.t("scrollMode",n,e),this.aa(),this.S())}get scrollsPageOnFocus(){return this.Tx}set scrollsPageOnFocus(e){const n=this.Tx;n!==e&&(t.s(e,"boolean",Te,"scrollsPageOnFocus"),this.Tx=e,this.t("scrollsPageOnFocus",n,e))}get positionComputation(){return this.Dx}set positionComputation(e){const n=this.Dx;n!==e&&(e!==null&&t.k(e,Te,"positionComputation"),this.Dx=e,this.Bs(!1),this.t("positionComputation",n,e))}get scaleComputation(){return this.Fx}set scaleComputation(e){const n=this.Fx;n!==e&&(e!==null&&t.k(e,Te,"scaleComputation"),this.Fx=e,this.QL(this.scale,this.scale),this.t("scaleComputation",n,e))}get documentBounds(){return this.zm}iA(e){this.ta=!1;let n=this.zm;n.equals(e)||(n=n.copy(),this.zm.a(e),this.Bs(!1),this.D("DocumentBoundsChanged",void 0,n),this.aa(),this.S())}ensureBounds(){if(this.ta){const e=z.l();this.iA(this.computeBounds(e)),z.e(e)}}get isVirtualized(){return this.nb}set isVirtualized(e){const n=this.nb;n!==e&&(t.s(e,"boolean",Te,"isVirtualized"),this.nb=e,this.t("isVirtualized",n,e))}get scale(){return this.tt}set scale(e){const n=this.tt;n!==e&&this.QL(n,e)}get defaultScale(){return this.Km}set defaultScale(e){this.Km=e}get autoScale(){return this.jl}set autoScale(e){const n=this.jl;n!==e&&(this.jl=e,this.t("autoScale",n,e),e!==1&&this.Bs(!1))}get initialAutoScale(){return this.Sr}set initialAutoScale(e){const n=this.Sr;n!==e&&(this.Sr=e,this.t("initialAutoScale",n,e))}get initialViewportSpot(){return this.vx}set initialViewportSpot(e){const n=this.vx;n!==e&&(e.isSpot()||t.o("initialViewportSpot must be a specific Spot: "+e),this.vx=e,this.t("initialViewportSpot",n,e))}get initialDocumentSpot(){return this.Rx}set initialDocumentSpot(e){const n=this.Rx;n!==e&&(e.isSpot()||t.o("initialViewportSpot must be a specific Spot: "+e),this.Rx=e,this.t("initialDocumentSpot",n,e))}get minScale(){return this.Nx}set minScale(e){const n=this.Nx;n!==e&&(e>0?(this.Nx=e,this.t("minScale",n,e),e>this.scale&&(this.scale=e)):t.W(e,"> 0",Te,"minScale"))}get maxScale(){return this.Cx}set maxScale(e){const n=this.Cx;n!==e&&(e>0?(this.Cx=e,this.t("maxScale",n,e),e<this.scale&&(this.scale=e)):t.W(e,"> 0",Te,"maxScale"))}get zoomPoint(){return this.Lx}set zoomPoint(e){this.Lx.equals(e)||(e=e.P(),this.Lx=e)}get contentAlignment(){return this.Fc}set contentAlignment(e){const n=this.Fc;n.equals(e)||(e=e.P(),this.Fc=e,this.t("contentAlignment",n,e),this.Bs(!1))}get initialContentAlignment(){return this.Om}set initialContentAlignment(e){const n=this.Om;n.equals(e)||(e=e.P(),this.Om=e,this.t("initialContentAlignment",n,e))}get padding(){return this.Zt}set padding(e){typeof e=="number"&&(e=new W(e));const n=this.Zt;n.equals(e)||(e=e.P(),this.Zt=e,this.invalidateDocumentBounds(),this.t("padding",n,e))}get partManager(){return this.pM}set partManager(e){const n=this.pM;n!==e&&(e.diagram!==null&&t.o("Cannot share PartManagers between Diagrams: "+e.toString()),n&&n.Mo(null),this.pM=e,e.Mo(this))}get nodes(){return this.partManager.nodes.iterator}get links(){return this.partManager.links.iterator}get parts(){return this.partManager.parts.iterator}findTopLevelNodesAndLinks(){const e=new b,n=this.nodes;for(;n.next();){const l=n.value;l.isTopLevel&&e.add(l)}const o=this.links;for(;o.next();){const l=o.value;l.isTopLevel&&e.add(l)}return e.iterator}findTopLevelGroups(){return this.zr.iterator}get routers(){return this.Vc}doLinkRouting(e){this.Co=!0;const n=this.Vc.r;for(let o=0;o<n.length;o++)n[o].canRoute(e)&&n[o].routeLinks(this.Mr,e);this.Co=!1}get layout(){return this.ie}set layout(e){const n=this.ie;n!==e&&(this.ie=e,e.diagram=this,e.group=null,this.Vr=!0,this.t("layout",n,e),this.requestUpdate())}layoutDiagram(e){this.Mi(),e&&this.Cb(!0),this.ys?this.vM(!1,this.bl||this.Vc.count!==0&&this.Yn.size!==0):(this.vc=!0,this.ur())}Cb(e){const n=this.zr.iterator;for(;n.next();)this.eA(n.value,e);this.layout&&(e?this.layout.isValidLayout=!1:this.layout.invalidateLayout())}eA(e,n){if(e===null)return;const o=e.ca.iterator;for(;o.next();){const l=o.value;this.eA(l,n)}e.layout!==null&&(n?e.layout.isValidLayout=!1:e.layout.invalidateLayout())}vM(e,n){if(this.Yx)return;const o=this.X;this.X=!0;const l="Layout",c=this.undoManager.transactionLevel,h=this.layout,f=this.animationManager;try{c===0&&(this.undoManager.wl=!0,this.startTransaction(l)),c<=1&&!f.defaultAnimation.isAnimating&&!f.pi&&(e||f.Fl(l)),this.Vr=!1;let g=this.zr.iterator;for(;g.next();)this.sA(g.value,e,c,n);let v=!1;if(h.isValidLayout||(!e||h.isRealtime||h.isRealtime===null||c===0?(h.doLayout(this),this.t0(this),v=!0,h.isValidLayout=!0):this.Vr=!0),v||this.t0(this),this.doLinkRouting(this),this.Mr.clear(),this.Zh.size!==0){for(let w=0;w<23&&this.Zh.size!==0;w++){for(g=this.zr.iterator;g.next();)this.nA(g.value);const k=this.Mr;this.Mr=this.Zh,this.Zh=k,this.t0(this),this.doLinkRouting(this)}this.Mr.clear(),this.Zh.clear()}}finally{const g=this.undoManager.wl;c===0&&(this.commitTransaction(l),this.undoManager.wl=!1),g&&(c===0||c===1)&&f.OS(),this.Vr&&(this.Vr=!h.isValidLayout),this.X=o}}sA(e,n,o,l){const c=e.ca.iterator;for(;c.next();)this.sA(c.value,n,o,l);const h=e.layout;h!==null&&!h.isValidLayout?!n||h.isRealtime||o===0?(e.fa=!e.location.isReal(),h.doLayout(e),e.invalidateLayout(32),this.Pb(e),this.t0(e),this.doLinkRouting(e),h.isValidLayout=!0):(this.doLinkRouting(e),this.Vr=!0):l&&this.doLinkRouting(e)}nA(e){const n=e.ca.iterator;for(;n.next();)this.nA(n.value);this.t0(e),this.doLinkRouting(e)}get isTreePathToChildren(){return this.Ox}set isTreePathToChildren(e){const n=this.Ox;if(n!==e&&(t.s(e,"boolean",Te,"isTreePathToChildren"),this.Ox=e,this.t("isTreePathToChildren",n,e),!this.undoManager.isUndoingRedoing)){const o=this.nodes;for(;o.next();)o.value.r0()}}findTreeRoots(){const e=new m,n=this.nodes;for(;n.next();){const o=n.value;o.isTopLevel&&o.findTreeParentLink()===null&&e.add(o)}return e.iterator}get treeCollapsePolicy(){return this.Ix}set treeCollapsePolicy(e){const n=this.Ix;n!==e&&(e!==1&&e!==2&&e!==3&&t.o("Unknown Diagram.treeCollapsePolicy: "+e),this.Ix=e,this.t("treeCollapsePolicy",n,e))}get isCollapsingExpanding(){return this._S}set isCollapsingExpanding(e){this._S=e}rR(){const e=new _,n=new _;function o(l){const c=l.toLowerCase(),h=new m;e.set(l,h),e.set(c,h),n.set(l,l),n.set(c,l)}o("InitialAnimationStarting"),o("AnimationStarting"),o("AnimationFinished"),o("BackgroundSingleClicked"),o("BackgroundDoubleClicked"),o("BackgroundContextClicked"),o("ClipboardChanged"),o("ClipboardPasted"),o("DocumentBoundsChanged"),o("ExternalObjectsDropped"),o("GainedFocus"),o("InitialLayoutCompleted"),o("LayoutCompleted"),o("LinkDrawn"),o("LinkRelinked"),o("LinkReshaped"),o("LostFocus"),o("Modified"),o("ObjectSingleClicked"),o("ObjectDoubleClicked"),o("ObjectContextClicked"),o("PartCreated"),o("PartResized"),o("PartRotated"),o("SelectionMoved"),o("SelectionCopied"),o("SelectionDeleting"),o("SelectionDeleted"),o("SelectionGrouped"),o("SelectionUngrouped"),o("ChangingSelection"),o("ChangedSelection"),o("SubGraphCollapsed"),o("SubGraphExpanded"),o("TextEdited"),o("ThemeChanged"),o("TreeCollapsed"),o("TreeExpanded"),o("ViewportBoundsChanged"),o("InvalidateDraw"),this.ZS=e,this.QS=n}YL(e){const n=this.QS.get(e);return n!==null?n:this.QS.get(e.toLowerCase())}KM(e){let n=this.ZS.get(e);if(n!==null)return n;const o=e.toLowerCase();if(n=this.ZS.get(o),n!==null)return n;t.o("Unknown DiagramEvent name: "+e)}addDiagramListener(e,n){t.s(e,"string",Te,"addDiagramListener:name"),t.k(n,Te,"addDiagramListener:listener");const o=this.KM(e);return o!==null&&o.add(n),this}removeDiagramListener(e,n){t.s(e,"string",Te,"removeDiagramListener:name"),t.k(n,Te,"addDiagramListener:listener");const o=this.KM(e);o!==null&&o.delete(n)}raiseDiagramEvent(e,n,o){this.D(e,n,o)}D(e,n,o){const l=this.KM(e),c=new ie;c.diagram=this;const h=this.YL(e);h!==null&&(c.name=h),n!==void 0&&(c.subject=n),o!==void 0&&(c.parameter=o);const f=l.length;if(f===1)l.elt(0)(c);else if(f!==0){const g=l.toArray();for(let v=0;v<f;v++){const w=g[v];w(c)}}}isUnoccupied(e,n){return this.getPositions(!1,null,n||null).isUnoccupied(e.x,e.y,e.width,e.height)}computeOccupiedArea(e){return this.isVirtualized?this.viewportBounds.copy():this.ta?this.VL(e):e.a(this.documentBounds)}getPositions(e,n,o){let l=this.Hl;l===null&&(this.Hl=l=new Kn(this.avoidanceCellSize));let c=n;if(l.Fo||l.ua!==c||l.jM!==o){if(l.HM=Math.max(l.Gc+1,Math.floor(this.avoidanceLimit/this.avoidanceCellSize.width)),l.qM=Math.max(l.Gc+1,Math.floor(this.avoidanceLimit/this.avoidanceCellSize.height)),c!==null&&(c=this.oA(c)),c===null){const h=z.l();this.computeOccupiedArea(h),h.inflate(100,100),l.Lb(h);const f=this.nodes;for(;f.next();){const g=f.value,v=g.layer;v===null||!v.visible||v.isTemporary||this.WM(g,o,h)}z.e(h)}else{if(c.memberParts.count>0){const g=this.computePartsBounds(c.memberParts,!1);g.inflate(20,20),l.Lb(g)}const h=z.l(),f=c.memberParts;for(;f.next();){const g=f.value;g instanceof Lt&&this.WM(g,o,h)}z.e(h)}l.ua=c,l.jM=o,l.Fo=!1}else e&&l.rA();return l}get avoidanceCellSize(){return this.uM}set avoidanceCellSize(e){this.Hl=null,this.uM=new B(Math.max(1,e.width),Math.max(1,e.height))}get avoidanceLimit(){return this.dM}set avoidanceLimit(e){this.dM=Math.max(1,e)}oA(e){return e.canAvoid()?e:e.containingGroup!==null?this.oA(e.containingGroup):null}WM(e,n,o){if(e===n||!e.isVisible())return;const l=e.canAvoid();if(l){const c=e.getAvoidableRect(o);this.Hl.VR(c.x,c.y,c.width,c.height)}if(e instanceof Xt&&(!l||e.avoidableMembers)){const c=e.memberParts;for(;c.next();){const h=c.value;h instanceof Lt&&this.WM(h,n,o)}}}JM(e){this.Hl!==null&&!this.Hl.Fo&&(e===void 0||e.canAvoid())&&(this.Hl.Fo=!0)}get autoScrollInterval(){return this.Im}set autoScrollInterval(e){const n=this.Im;n!==e&&(this.Im=e,this.t("autoScrollInterval",n,e))}get autoScrollRegion(){return this.Em}set autoScrollRegion(e){typeof e=="number"&&(e=new W(e));const n=this.Em;n.equals(e)||(e=e.P(),this.Em=e,this.invalidateDocumentBounds(),this.t("autoScrollRegion",n,e))}doAutoScroll(e){this.Ym.a(e),this.computeAutoScrollPosition(this.Ym).equalsApprox(this.position)?this.stopAutoScroll():this.lA()}lA(){if(this.Rc!==-1)return;const e=this.Im,n=this;this.Rc=t.ir(()=>{if(n.Rc===-1||(n.stopAutoScroll(),n.lastInput.event===null))return;const o=n.computeAutoScrollPosition(n.Ym);if(o.equalsApprox(n.position))return;n.position=o,n.lastInput.documentPoint=n.transformViewToDoc(n.Ym),n.doMouseMove(),n.ta=!0;const l=z.l();n.computeBounds(l),l.unionRect(n.documentBounds),n.iA(l),z.e(l),n.Ue=!0,n.maybeUpdate(),n.lA()},e)}stopAutoScroll(){this.Rc!==-1&&(t.Tg(this.Rc),this.Rc=-1)}computeAutoScrollPosition(e){let n=this.position;const o=this.Em;if(o.top<=0&&o.left<=0&&o.right<=0&&o.bottom<=0)return n;const l=this.viewportBounds,c=this.scale,h=z.V(0,0,l.width*c,l.height*c),f=T.V(0,0);if(e.x>=h.x&&e.x<h.x+o.left&&this.allowHorizontalScroll){let g=Math.max(this.scrollHorizontalLineChange,1);g=g|0,f.x-=g,e.x<h.x+o.left/2&&(f.x-=g),e.x<h.x+o.left/4&&(f.x-=4*g)}else if(e.x<=h.x+h.width&&e.x>h.x+h.width-o.right&&this.allowHorizontalScroll){let g=Math.max(this.scrollHorizontalLineChange,1);g=g|0,f.x+=g,e.x>h.x+h.width-o.right/2&&(f.x+=g),e.x>h.x+h.width-o.right/4&&(f.x+=4*g)}if(e.y>=h.y&&e.y<h.y+o.top&&this.allowVerticalScroll){let g=Math.max(this.scrollVerticalLineChange,1);g=g|0,f.y-=g,e.y<h.y+o.top/2&&(f.y-=g),e.y<h.y+o.top/4&&(f.y-=4*g)}else if(e.y<=h.y+h.height&&e.y>h.y+h.height-o.bottom&&this.allowVerticalScroll){let g=Math.max(this.scrollVerticalLineChange,1);g=g|0,f.y+=g,e.y>h.y+h.height-o.bottom/2&&(f.y+=g),e.y>h.y+h.height-o.bottom/4&&(f.y+=4*g)}return f.equalsApprox(T.xo)||(n=new T(n.x+f.x/c,n.y+f.y/c)),z.e(h),T.e(f),n}makeSvg(e){this.Wl.has("SVG")||this.addRenderer("SVG",new xr(this,i.document));const n=new xr(this,i.document,!0);e===void 0&&(e={});const o=this;function l(c,h){const f=o.hA(c,"SVG",n),g=f!==null?f.svg:null;return t.it(h)?(h(g),null):g}return this.aA(l,e)}makeSVG(e){return this.makeSvg(e)}addRenderer(e,n){this.Wl.set(e,n)}removeRenderer(e){this.Wl.delete(e)}cacheGroupExternalLinks(e){this.MM=e,e||this.nodes.each(n=>{n instanceof Xt&&(n.l0=null)})}aA(e,n){const o=n.callback;let l=!0;const c=this.Jl.iterator;for(;c.next();)if(!c.value[0].hn){l=!1;break}if(!t.it(o)||l)return e(n,o,this);const h=this;function f(){const w=+new Date;for(l=!0,c.reset();c.next();)if(!c.value[0].hn){l=!1;break}if(l||w-v>g){e(n,o,h);return}i.requestAnimationFrame(f)}const g=n.callbackTimeout||300,v=+new Date;return i.requestAnimationFrame(()=>f()),null}makeImage(e){return Te.isUsingDOM()?(e===void 0&&(e={}),e.returnType="Image",this.makeImageData(e)):null}makeImageData(e){return e===void 0&&(e={}),this.aA(this.zR,e)}static img="image";zR(e,n,o){const l=o.hA(e,"canvas",null);if(l===null)return null;const c=l.E.canvas;let h=null;if(c!==null){let f=e.returnType;switch(f===void 0?f="string":f=f.toLowerCase(),f){case Te.img+"data":h=l.getImageData(0,0,c.width,c.height);break;case Te.img:const g=(e.document||document).createElement("img");g.src=c.toDataURL(e.type,e.details),h=g;break;case"blob":{const v=c;return t.it(n)||(h="",t.o('Error: Diagram.makeImageData called with "returnType: toBlob", but no required "callback" function property defined.')),t.it(v.toBlob)?(v.toBlob(n,e.type,e.details),"toBlob"):(n(null),null)}case"string":default:h=c.toDataURL(e.type,e.details)}}return t.it(n)?(n(h),null):h}static XR=!1;hA(e,n,o){if(this.animationManager.stopAnimation(),this.maybeUpdate(),this.ft===null)return null;t.G(e)||t.o("properties argument must be an Object.");let l=!1,c=e.size||null,h=e.scale||null;e.scale!==void 0&&isNaN(e.scale)&&(h="NaN");let f=e.maxSize;e.maxSize===void 0&&(l=!0,n==="SVG"?f=new B(1/0,1/0):f=new B(2e3,2e3));const g=e.position||null;let v=e.parts||null;Array.isArray(v)&&(v=new m(v));let w=e.padding===void 0?1:e.padding;const k=e.background||null;let P=e.omitTemporary;P===void 0&&(P=!0);const N=e.document||document,F=e.elementFinished||null;let H=e.showTemporary;H===void 0&&(H=!P);let V=e.showGrid;V===void 0&&(V=H),c!==null&&isNaN(c.width)&&isNaN(c.height)&&(c=null),typeof w=="number"?w=new W(w):w instanceof W||t.o("MakeImage padding must be a Margin or a number."),w.left=Math.max(w.left,0),w.right=Math.max(w.right,0),w.top=Math.max(w.top,0),w.bottom=Math.max(w.bottom,0),this.Qt.clearContextCache(!0);const $=new Ts(null,N,void 0,!0),K=$.li;if(!(c||h||v||g))return $.width=this.xt+Math.ceil(w.left+w.right),$.height=this.bt+Math.ceil(w.top+w.bottom),n==="SVG"?o===null?null:(o.resize($.width,$.height,$.width,$.height),o.jr=N,o.Gu=F,this.Sb(o.li,w,new B($.width,$.height),this.tt,this.at,v,k,H,V),o.li):(this.Bu=!1,this.Sb(K,w,new B($.width,$.height),this.tt,this.at,v,k,H,V),this.Bu=!0,$.li);const J=this.Km,Q=this.documentBounds.copy();if(Q.subtractMargin(this.Zt),H){const ke=this.Xt.r,Ce=ke.length;for(let Ie=0;Ie<Ce;Ie++){const Be=ke[Ie];if(!Be.visible||!Be.isTemporary)continue;const Xe=Be.Ct.r,He=Xe.length;for(let Ke=0;Ke<He;Ke++){const Et=Xe[Ke];if(!Et.isInDocumentBounds||!Et.isVisible())continue;const It=Et.actualBounds;It.isReal()&&Q.unionRect(It)}}}let ne=new T(Q.x,Q.y);if(v!==null){const ke=new z(0,0,0,0);let Ce=!0;const Ie=v.iterator;for(Ie.reset();Ie.next();){const Be=Ie.value;if(!(Be instanceof Pn))continue;const Xe=Be.layer;if(Xe!==null&&!Xe.visible||Xe!==null&&!H&&Xe.isTemporary||!Be.isVisible())continue;const He=Be.actualBounds;He.isReal()&&(Ce?(Ce=!1,ke.a(He)):ke.unionRect(He))}Q.width=ke.width,Q.height=ke.height,ne.x=ke.x,ne.y=ke.y}g!==null&&g.isReal()&&(ne=g,h||(h=J));let le=0,fe=0;w!==null&&(le=w.left+w.right,fe=w.top+w.bottom);let we=0,ye=0;c!==null&&(we=c.width,ye=c.height,isFinite(we)&&(we=Math.max(0,we-le)),isFinite(ye)&&(ye=Math.max(0,ye-fe)));let ge=0,me=0;if(c!==null&&h!==null?(h==="NaN"&&(h=J),c.isReal()?(ge=we,me=ye):isNaN(ye)?(ge=we,me=Q.height*h):(ge=Q.width*h,me=ye)):c!==null?c.isReal()?(h=Math.min(we/Q.width,ye/Q.height),ge=we,me=ye):isNaN(ye)?(h=we/Q.width,ge=we,me=Q.height*h):(h=ye/Q.height,ge=Q.width*h,me=ye):h!==null?h==="NaN"&&f.isReal()?(h=Math.min((f.width-le)/Q.width,(f.height-fe)/Q.height),h>J?(h=J,ge=Q.width,me=Q.height):(ge=f.width,me=f.height)):(ge=Q.width*h,me=Q.height*h):(h=J,ge=Q.width,me=Q.height),w!==null?(ge+=le,me+=fe):w=new W(0),f!==null){let ke=f.width,Ce=f.height;n!=="SVG"&&l&&Te.XR,isNaN(ke)&&(ke=2e3),isNaN(Ce)&&(Ce=2e3),isFinite(ke)&&(ge=Math.min(ge,ke)),isFinite(Ce)&&(me=Math.min(me,Ce))}return $.width=Math.ceil(ge),$.height=Math.ceil(me),n==="SVG"?o===null?null:(o.resize($.width,$.height,$.width,$.height),o.jr=N,o.Gu=F,this.Sb(o.li,w,new B(Math.ceil(ge),Math.ceil(me)),h,ne,v,k,H,V),o.li):(this.Bu=!1,this.Sb(K,w,new B(Math.ceil(ge),Math.ceil(me)),h,ne,v,k,H,V),this.Bu=!0,$.li)}static Xu=null;static cA="5da73c80a36555d4038e4972187c3cae51fd22";static gw=!1;static Gk=()=>{if(Te.cA[5]===void 0&&(U.prototype.$e=U.prototype.bw),!Te.isUsingDOM())return;const e=t.hs("canvas"),n=e.getContext("2d"),o=t.Ts("7ca11abfd022028846");n[o]=t.Ts("398c3597c01238");const l="7ca11abfd7330390",c=[Te.cA,t.gw+"4ae6247590da4bb21c324ba3a84e385776",U.Gk+"fb236cdfda5de14c134ba1a95a2d4c7cc6f93c1387",I.za],h=10,f=0;for(let g=1;g<5;g++)n[t.Ts(l)](t.Ts(c[g-1]),h,g*15+f);n[o]=t.Ts("39f046ebb36e4b");for(let g=1;g<5;g++)n[t.Ts(l)](t.Ts(c[g-1]),h,g*15+f);(c.length!==4||c[0][0]!=="5"||c[3][0]!=="7")&&(U.prototype.$e=U.prototype.bw),Te.Xu=e}}class Nn{fA;uA;$M;Ne;constructor(e){if(this.fA=null,this.uA="63ad05bbe23a1786468a4c741b6d2",this.$M="@onz",this.uA===this._tk){this.$M=!0,this.Ne=this.$M;return}this.Ne=null}YR(e,n){let o="f";const l=i[t.Ts("76a715b2f73f148a")][t.Ts("72ba13b5")]||"",c=t.Ts;if(this.Ne=!0,!Te.isUsingDOM())return;let h=Te[c("76a115b6ed251eaf4692")];if(!h){const g=l[c("76ad18b4f73e")];for(let w=l[c("73a612b6fb191d")](c("35e7"))+2;w<g;w++)o+=l[w];const v=o[c("73a612b6fb191d")](c("7da71ca0ad381e90"));this.Ne=!(v>=0&&v<o[c("73a612b6fb191d")](c("35")));return}const f=Te.XM.iterator;for(;f.next();){h=f.value;const g=c(h).split(c("39e9"));if(g.length<6)return;const v=c(g[1]).split(".");if(g[4]!=="7da71ca0")return;const w=c(t[c("6cae19")]).split(".");if(!(v[0]>w[0]||v[0]===w[0]&&v[1]>=w[1]))continue;const k="73a612b6fb191d",P=i[c("74a900bae4370f8b51")][c("6fbb13a1c2311e8a57")].toLowerCase(),N=P[c(k)](c("3aad1ab6e022098b4dc4")),F=c(g[2]);if(N>-1){const ge=P[c(k)](F.toLowerCase()+"/");if(this.Ne=!(ge>-1&&ge<N),!this.Ne)return}const H=l[c("76ad18b4f73e")];for(let ge=l[c(k)](c("35e7"))+2;ge<H;ge++)o+=l[ge];let V=o[c(k)](F);if(V<0&&F!==c("7da71ca0ad381e90")&&(V=o[c(k)](c("76a715b2ef3e149757"))),V<0&&(V=o[c(k)](c("76a715b2ef3e149757"))),V<0&&(V=o[c(k)](c("2bfa41fdb3784bca12"))),V<0&&(V=l[c(k)](c("7baa19a6f76c1988428554"))),V<0&&(V=l[c(k)](c("7ea902b2b9221e9c57c45767196566"))),this.Ne=!(V>=0&&V<o[c(k)](c("35"))||o[c(k)](c("35"))===-1),!this.Ne||l[c(k)](c("7fb002b6ed25128b4da25b2e"))&&(this.Ne=!(l[c(k)](F)>-1),!this.Ne))return;const $=i[t.Ts("76a715b2f73f148a")][t.Ts("69ad17a1e03e")],K=$[c(k)](c("7fb002b6ed25128b4da25b2e"));if(K>-1&&(this.Ne=!($[c(k)](F)>K),!this.Ne))return;const J=F;if(J[0]!=="#")continue;const Q=t.hs("div");let ne=g[0].replace(/[A-Za-z]/g,"");for(;ne.length<4;)ne+="9";const le=ne;ne=ne.substring(ne.length-4);let fe="";const we=["gsh","gsf"],ye=["Header","Background","Display","Feedback"];if(fe+=we[parseInt(ne.substring(0,1),10)%2],fe+=ye[parseInt(ne.substring(0,1),10)%4],Q[c("79a417a0f0181a8946")]=fe,i.document[c("78a712aa")]){i.document[c("78a712aa")][c("7bb806b6ed32388c4a875b")](Q);const ge=i.getComputedStyle(Q).getPropertyValue(c("78a704b7e62456904c9b12701b6532a8")),me=i.getComputedStyle(Q).getPropertyValue(c("75b817b0ea2202"));if(i.document[c("78a712aa")][c("68ad1bbcf533388c4a875b")](Q),!ge)continue;const ke=i[c("77a902b0eb1b1e804a8a")],Ce="0."+parseInt(le,10)%100;if(me===Ce||ge.indexOf(parseInt(J[1]+J[2],16))!==-1&&ge.indexOf(parseInt(J[3]+J[4],16))!==-1){this.Ne=!1;return}else if(ke&&ke(c("32ae19a1e0331fc94084537c067a67fa59f1386b89d006")).matches){fe="."+fe;for(let Ie=0;Ie<document.styleSheets.length;Ie++){const Be=document.styleSheets[Ie].rules||document.styleSheets[Ie].cssRules;for(const Xe in Be)if(fe===Be[Xe].selectorText){this.Ne=!1;return}}}}else this.Ne=null,n&&(this.Ne=!1)}}Xu(e){return e.Qt.setTransform(e.Vi,0,0,e.Vi,0,0),e.Qt.commitTransform(),this.Ne===null&&this.YR(e,!0),0<this.Ne&&this!==this.fA}}class Dn{ZM;QM;constructor(e){this.ZM=e===void 0?new T:e,this.QM=new T}get point(){return this.ZM}set point(e){this.ZM=e}get shifted(){return this.QM}set shifted(e){this.QM=e}}class hi{Me;qL;Nb;constructor(e,n,o){this.Me=e,this.qL=n,this.Nb=o}}class Si{isGridSnapEnabled;isGridSnapRealtime;gridSnapCellSize;gridSnapCellSpot;gridSnapOrigin;dragsLink;dragsTree;groupsSnapMembers;groupsAlwaysMove;dragsMembers;constructor(e){this.Ri(),e&&Object.assign(this,e)}Ri(){this.isGridSnapEnabled=!1,this.isGridSnapRealtime=!0,this.gridSnapCellSize=new B(NaN,NaN).u(),this.gridSnapCellSpot=L.TopLeft,this.gridSnapOrigin=new T(NaN,NaN).u(),this.dragsLink=!1,this.dragsTree=!1,this.groupsSnapMembers=!1,this.groupsAlwaysMove=!0,this.dragsMembers=!0}}class Wi extends Te{constructor(e,n){let o;return e===void 0||typeof e=="string"||i.Element&&e instanceof Element?o=e:t.G(e)&&(n=e),super(o),this.dA(),n&&this.setProperties(n),this}dA(){this.allowDragOut=!0,this.allowMove=!1,this.isReadOnly=!0,this.contentAlignment=L.TopCenter,this.layout=new gu}setupRouters(){}reset(){super.reset(),this.dA()}}class qi extends Te{Ab;Tb;Db;Fb;h0;Kc;Al;_M;t2;Rb;i2;constructor(e,n){let o;return e===void 0||typeof e=="string"||i.Element&&e instanceof Element?o=e:t.G(e)&&(n=e),super(o),this.animationManager.isEnabled=!1,this.Ht=!0,this.Ab=null,this.Ru=!1,this.vu=!1,this.Tb=!0,this.Db=!0,this.Fb=0,this.h0=!1,this.Kc=null,this.setRenderingHint("drawShadows",!1),this.Al=new Pn({selectable:!0,selectionAdorned:!1,selectionObjectName:"BOXSHAPE",locationObjectName:"BOXSHAPE",resizeObjectName:"BOXSHAPE",cursor:"move"}).add(new zt({name:"BOXSHAPE",fill:"transparent",stroke:"magenta",strokeWidth:2}).theme("stroke","overviewBox")).Et(),this.allowCopy=!1,this.allowDelete=!1,this.allowDrop=!1,this.allowSelect=!0,this.autoScrollRegion=new W(0,0,0,0),this.at.i(0,0),this.toolManager.Jt("Dragging",new Ps,this.toolManager.mouseMoveTools),this.click=()=>{const l=this.observed;if(l===null)return;const c=l.viewportBounds,h=this.lastInput.documentPoint;l.position=new T(h.x-c.width/2,h.y-c.height/2)},this._M=l=>{this.invalidateDocumentBounds(),this.a0()},this.t2=l=>{this.observed!==null&&(this.invalidateDocumentBounds(),this.S())},this.Rb=l=>{this.updateDelay<1?this.S():this.h0||(this.h0=!0,t.ir(()=>this.redraw(),this.updateDelay))},this.i2=l=>{this.observed!==null&&this.a0()},this.autoScale=2,this.Ht=!1,n&&Object.assign(this,n),this}setupRouters(){}computePixelRatio(){return 1}redraw(){this.h0&&this.updateDelay>=1&&(this.h0=!1,this.GR()),super.redraw()}Ui(){if(this.St===null&&t.o("No div specified"),this.ft===null&&t.o("No canvas specified"),this.ft instanceof xr||(this.box.JS(),!this.Ue))return;const e=this.observed;if(e===null||e.animationManager.defaultAnimation.isAnimating||!e.Vh)return;this.i0();const n=this.ft,o=this.Qt;if(o.clearContextCache(!0),o.setTransform(1,0,0,1,0,0),o.clearRect(0,0,n.width,n.height),this.updateDelay<1)this.gA();else if(this.Kc!==null){o.drawImage(this.Kc.Tt,0,0);const h=this.T;o.scale(this.Vi,this.Vi),o.transform(h.m11,h.m12,h.m21,h.m22,h.dx,h.dy),o.commitTransform()}const l=this.Xt.r,c=l.length;for(let h=0;h<c;h++)l[h].Ui(o,this);this.Ic=!1,this.Ue=!1}GR(){const e=this.ft,n=this.Qt;if(!(e===null||n===null)){if(this.i0(),this.Kc===null){const o=new Ts(null);o.width=e.width,o.height=e.height,this.Kc=o}try{this.ft=this.Kc,this.Qt=this.ft.li,this.Qt.clearContextCache(!0),this.Qt.setTransform(1,0,0,1,0,0),this.Qt.clearRect(0,0,this.ft.width,this.ft.height),this.gA()}finally{this.ft=e,this.Qt=n}}}gA(){const e=this.observed;if(e===null)return;const n=this.drawsTemporaryLayers,o=this.drawsGrid&&n,l=e.grid;if(o&&l!==null&&l.visible&&!(isNaN(l.width)||isNaN(l.height))){const k=z.l().a(this.viewportBounds).unionRect(e.viewportBounds);e.th(k),z.e(k),e.Mi()}const c=this.T,h=this.Qt;h.scale(this.Vi,this.Vi),h.transform(c.m11,c.m12,c.m21,c.m22,c.dx,c.dy),h.commitTransform();const f=this.viewportBounds,g=e.Xt.r,v=g.length,w=this.Xt.r;this.ps(w,w.length,this,this.viewportBounds);for(let k=0;k<v;k++)g[k].KF(h,f,this,n,o)}get observed(){return this.Ab}set observed(e){const n=this.Ab;if(e instanceof qi&&t.o("Overview.observed Diagram may not be an Overview itself: "+e),n!==e){if(n!==null&&this.KR(n),this.Ab=e,e!==null&&this.jR(e),this.invalidateDocumentBounds(),e===null){this.Kc=null;const o=this.ft,l=this.Qt;o&&l&&(l.setTransform(1,0,0,1,0,0),l.clearRect(0,0,o.width,o.height))}else this.Rb(null),this.a0(),this.S();this.t("observed",n,e)}}get box(){return this.Al}set box(e){const n=this.Al;n!==e&&(e.Et(),this.Al=e,this.remove(n),this.add(this.Al),this.a0(),this.t("box",n,e))}get drawsTemporaryLayers(){return this.Tb}set drawsTemporaryLayers(e){this.Tb!==e&&(this.Tb=e,this.redraw())}get drawsGrid(){return this.Db}set drawsGrid(e){this.Db!==e&&(this.Db=e,this.redraw())}get updateDelay(){return this.Fb}set updateDelay(e){e<0&&(e=0),this.Fb!==e&&(this.Fb=e)}jR(e){e!==null&&(e.addDiagramListener("ViewportBoundsChanged",this._M),e.addDiagramListener("DocumentBoundsChanged",this.t2),e.addDiagramListener("InvalidateDraw",this.Rb),e.addDiagramListener("AnimationFinished",this.i2),this.add(this.box))}KR(e){e!==null&&(this.remove(this.box),e.removeDiagramListener("ViewportBoundsChanged",this._M),e.removeDiagramListener("DocumentBoundsChanged",this.t2),e.removeDiagramListener("InvalidateDraw",this.Rb),e.removeDiagramListener("AnimationFinished",this.i2))}a0(){const e=this.box,n=this.observed;if(n===null)return;this.Ue=!0;const o=n.viewportBounds,l=e.selectionObject,c=B.l();c.i(o.width,o.height),l.desiredSize=c,B.e(c);const h=2/this.scale;l instanceof zt&&(l.strokeWidth=h),e.location=new T(o.x-h/2,o.y-h/2),e.isSelected=!0}computeBounds(){const e=this.observed;if(e===null)return z.Fg;const n=e.documentBounds.copy();return n.unionRect(e.viewportBounds),n}invalidateViewport(e,n){this.Ue!==!0&&(this.Ue=!0,this.requestUpdate())}onViewportBoundsChanged(e,n,o,l){this.Ht||(this._l(),this.S(),this.aa(),this.invalidateDocumentBounds(),this.a0(),this.Bi.scale=o,this.Bi.position.x=e.x,this.Bi.position.y=e.y,this.Bi.bounds.a(e),this.Bi.isScroll=l,this.D("ViewportBoundsChanged",this.Bi,e))}}class Ps extends Me{eh;constructor(){super(),this.eh=null}canStart(){if(!this.isEnabled)return!1;const e=this.diagram;if(e===null||!e.allowMove||!e.allowSelect)return!1;const n=e.observed;if(n===null)return!1;const o=e.lastInput;if(!o.left||e.currentTool!==this&&(!this.isBeyondDragSize()||o.isTouchEvent&&o.timestamp-e.firstInput.timestamp<this.delay))return!1;if(this.findDraggablePart()===null){const l=n.viewportBounds;this.eh=new T(l.width/2,l.height/2);const c=e.firstInput.documentPoint;n.position=new T(c.x-this.eh.x,c.y-this.eh.y)}return!0}doActivate(){this.eh=null,super.doActivate()}doUpdateCursor(e){const n=this.diagram,o=n.box;o!==null&&o.cursor&&(n.currentCursor=o.cursor)}moveParts(e,n,o){const l=this.diagram,c=l.observed;if(c===null)return;const h=l.box;if(h===null)return;if(this.eh===null){const g=l.firstInput.documentPoint,v=h.location;this.eh=new T(g.x-v.x,g.y-v.y)}const f=l.lastInput.documentPoint;c.position=new T(f.x-this.eh.x,f.y-this.eh.y)}}class Bn{N;e2;s2;o2;l2;h2;a2;c2;f2;nh;u2;vb;Ob;Ib;Eb;d2;Ro;g2;constructor(e){b.Ki(this),this.N=Te.um(),this.e2=!0,this.s2=!0,this.o2=!0,this.l2=!1,this.h2=!1,this.a2=!1,this.c2=!1,this.f2=null,this.nh=null,this.u2=1.05,this.vb=NaN,this.Ob=null,this.Ib=NaN,this.Eb=z.Fg,this.d2=!1,this.Ro=null,this.g2=200,e&&Object.assign(this,e)}toString(){return"CommandHandler"}get diagram(){return this.N}Mo(e){this.N=e}doStart(){}doStop(){}doKeyDown(){const e=this.diagram,n=e.lastInput,o=t.tr?n.meta:n.control,l=n.shift,c=n.alt,h=n.commandKey;o&&(h==="Insert"||h==="c")?this.canCopySelection()&&this.copySelection():o&&h==="x"||l&&h==="Delete"?this.canCutSelection()&&this.cutSelection():o&&h==="v"||l&&h==="Insert"?this.canPasteSelection()&&this.pasteSelection():o&&h==="y"||o&&l&&h==="z"||c&&l&&h==="Backspace"?this.canRedo()&&this.redo():o&&h==="z"||c&&h==="Backspace"?this.canUndo()&&this.undo():h==="Delete"||h==="Backspace"?this.canDeleteSelection()&&this.deleteSelection():o&&h==="a"?this.canSelectAll()&&this.selectAll():h==="Escape"?this.canStopCommand()&&this.stopCommand():h==="ArrowUp"?e.allowVerticalScroll&&(o?e.scroll("pixel","up"):e.scroll("line","up")):h==="ArrowDown"?e.allowVerticalScroll&&(o?e.scroll("pixel","down"):e.scroll("line","down")):h==="ArrowLeft"?e.allowHorizontalScroll&&(o?e.scroll("pixel","left"):e.scroll("line","left")):h==="ArrowRight"?e.allowHorizontalScroll&&(o?e.scroll("pixel","right"):e.scroll("line","right")):h==="PageUp"?l&&e.allowHorizontalScroll?e.scroll("page","left"):e.allowVerticalScroll&&e.scroll("page","up"):h==="PageDown"?l&&e.allowHorizontalScroll?e.scroll("page","right"):e.allowVerticalScroll&&e.scroll("page","down"):h==="Home"?o&&e.allowVerticalScroll?e.scroll("document","up"):!o&&e.allowHorizontalScroll&&e.scroll("document","left"):h==="End"?o&&e.allowVerticalScroll?e.scroll("document","down"):!o&&e.allowHorizontalScroll&&e.scroll("document","right"):h==="Space"?this.canScrollToPart()&&this.scrollToPart():h==="Minus"||h==="NumpadSubtract"?this.canDecreaseZoom()&&this.decreaseZoom():h==="Equal"||h==="NumpadAdd"?this.canIncreaseZoom()&&this.increaseZoom():o&&h==="Digit0"?this.canResetZoom()&&this.resetZoom():l&&h==="z"?this.canZoomToFit()&&this.zoomToFit():o&&!l&&h==="g"?this.canGroupSelection()&&this.groupSelection():o&&l&&h==="g"?this.canUngroupSelection()&&this.ungroupSelection():h==="F2"?this.canEditTextBlock()&&this.editTextBlock():h==="ContextMenu"||l&&h==="F10"||o&&l&&h==="Backslash"?this.canShowContextMenu()&&this.showContextMenu():n.bubbles=!0}doKeyUp(){const e=this.diagram.lastInput;e.bubbles=!0}stopCommand(){const e=this.diagram,n=e.currentTool;n instanceof _e&&e.allowSelect&&e.clearSelection(),n!==null&&n.doCancel()}canStopCommand(){return!0}selectAll(){const e=this.diagram;e.S();try{e.currentCursor="wait",e.D("ChangingSelection",e.selection);const n=e.parts;for(;n.next();){const c=n.value;c.canSelect()&&!c.layer.isTemporary&&(c.isSelected=!0)}const o=e.nodes;for(;o.next();){const c=o.value;c.canSelect()&&!c.layer.isTemporary&&(c.isSelected=!0)}const l=e.links;for(;l.next();){const c=l.value;c.canSelect()&&!c.layer.isTemporary&&(c.isSelected=!0)}}finally{e.D("ChangedSelection",e.selection),e.currentCursor=""}}canSelectAll(){return this.diagram.allowSelect}deleteSelection(){const e=this.diagram;try{e.currentCursor="wait",e.D("ChangingSelection",e.selection),e.startTransaction("Delete"),e.D("SelectionDeleting",e.selection);const n=new b,o=e.selection.iterator;for(;o.next();){const l=o.value;Pn.oh(n,l,!0,this.deletesTree?1/0:0,this.deletesConnectedLinks?null:!1,c=>c.canDelete())}e.removeParts(n,!0),e.D("SelectionDeleted",n)}finally{e.commitTransaction("Delete"),e.D("ChangedSelection",e.selection),e.currentCursor=""}}canDeleteSelection(){const e=this.diagram;return!(e.isReadOnly||e.isModelReadOnly||!e.allowDelete||e.selection.count===0)}copySelection(){const e=this.diagram;try{const n=new b,o=e.selection.iterator;for(;o.next();){const l=o.value;Pn.oh(n,l,!0,this.copiesTree?1/0:0,this.copiesConnectedLinks,c=>c.canCopy())}this.copyToClipboard(n)}finally{}}canCopySelection(){const e=this.diagram;return!(!e.allowCopy||!e.allowClipboard||e.selection.count===0)}cutSelection(){this.copySelection(),this.deleteSelection()}canCutSelection(){const e=this.diagram;return!(e.isReadOnly||e.isModelReadOnly||!e.allowCopy||!e.allowDelete||!e.allowClipboard||e.selection.count===0)}copyToClipboard(e){const n=this.diagram;let o=null;if(e===null)Te.vL();else{let l=null;try{l=n.copyParts(e,null,!0)}finally{o=new m,l!==null&&o.addAll(l.iteratorValues),Te.Zm=o,Te.xb=n.model.dataFormat}}n.D("ClipboardChanged",o)}pasteFromClipboard(){const e=new b,n=Te.Zm;if(n===null)return e;const o=this.diagram;if(Te.xb!==o.model.dataFormat)return e;let l=null;try{l=o.copyParts(n,o,!1)}finally{if(l!==null){const c=l.iterator;for(;c.next();){const h=c.value,f=c.key;h.location.isReal()||(f.location.isReal()?h.location=f.location:!h.position.isReal()&&f.position.isReal()&&(h.position=f.position)),e.add(h)}}}return e}pasteSelection(e){e===void 0&&(e=null);const n=this.diagram;try{n.currentCursor="wait",n.D("ChangingSelection",n.selection),n.startTransaction("Paste");const o=this.pasteFromClipboard();o.count>0&&n.clearSelection(!0);const l=o.iterator;for(;l.next();){const c=l.value;c.isSelected=!0}if(e!==null){const c=n.computePartsBounds(n.selection);if(c.isReal()){const h=this.computeEffectiveCollection(n.selection,n.pb);n.TP(h,new T(e.x-c.centerX,e.y-c.centerY),n.pb,!1)}}n.D("ClipboardPasted",o)}finally{n.commitTransaction("Paste"),n.D("ChangedSelection",n.selection),n.currentCursor=""}}canPasteSelection(e){const n=this.diagram;return!(n.isReadOnly||n.isModelReadOnly||!n.allowInsert||!n.allowClipboard||Te.Zm===null||Te.Zm.count===0||Te.xb!==n.model.dataFormat)}undo(){this.diagram.undoManager.undo()}canUndo(){const e=this.diagram;return e.isReadOnly||e.isModelReadOnly?!1:e.allowUndo&&e.undoManager.canUndo()}redo(){this.diagram.undoManager.redo()}canRedo(){const e=this.diagram;return e.isReadOnly||e.isModelReadOnly?!1:e.allowUndo&&e.undoManager.canRedo()}decreaseZoom(e){e===void 0&&(e=1/this.zoomFactor);const n=this.diagram;if(n.autoScale!==1)return;const o=n.scale*e;o<n.minScale||o>n.maxScale||(n.scale=o)}canDecreaseZoom(e){e===void 0&&(e=1/this.zoomFactor);const n=this.diagram;if(n.autoScale!==1)return!1;const o=n.scale*e;return o<n.minScale||o>n.maxScale?!1:n.allowZoom}increaseZoom(e){e===void 0&&(e=this.zoomFactor);const n=this.diagram;if(n.autoScale!==1)return;const o=n.scale*e;o<n.minScale||o>n.maxScale||(n.scale=o)}canIncreaseZoom(e){e===void 0&&(e=this.zoomFactor);const n=this.diagram;if(n.autoScale!==1)return!1;const o=n.scale*e;return o<n.minScale||o>n.maxScale?!1:n.allowZoom}resetZoom(e){e===void 0&&(e=this.defaultScale);const n=this.diagram;e<n.minScale||e>n.maxScale||(n.scale=e)}canResetZoom(e){e===void 0&&(e=this.defaultScale);const n=this.diagram;return e<n.minScale||e>n.maxScale?!1:n.allowZoom}zoomToFit(){const e=this.diagram,n=e.animationManager;n.stopAnimation(),e.redraw();const o=e.position,l=e.scale;n.Fl("Zoom To Fit"),this.isZoomToFitRestoreEnabled&&l===this.Ib&&!isNaN(this.vb)&&this.Ob!==null&&e.documentBounds.equals(this.Eb)?(e.scale=this.vb,e.position=this.Ob,this.Ib=NaN,this.Eb=z.Fg):(this.vb=l,this.Ob=o.copy(),e.zoomToFit(),this.Ib=e.scale,this.Eb=e.documentBounds.copy()),n.OS()}canZoomToFit(){return this.diagram.allowZoom}scrollToPart(e){e===void 0&&(e=null);const n=this.diagram;if(n.ensureBounds(),e===null){try{this.Ro!==null&&(this.Ro.next()?e=this.Ro.value:this.Ro=null)}catch{this.Ro=null}e===null&&(n.highlighteds.count>0?this.Ro=n.highlighteds.iterator:n.selection.count>0&&(this.Ro=n.selection.iterator),this.Ro!==null&&this.Ro.next()&&(e=this.Ro.value))}if(e!==null){const o=n.animationManager;o.Fl("Scroll To Part");const l=this.scrollToPartPause;if(l>0){const c=this.jc(e,[e]);if(c.length===1)n.startTransaction(),n.centerRect(e.actualBounds),n.commitTransaction("Scroll To Part");else{const h=()=>{n.startTransaction();let g=c.pop();for(;c.length>0&&g instanceof Lt&&g.isTreeExpanded&&(!(g instanceof Xt)||g.isSubGraphExpanded);)g=c.pop();c.length>0?(g instanceof Pn&&n.scrollToRect(g.actualBounds),g instanceof Lt&&!g.isTreeExpanded&&(g.isTreeExpanded=!0),g instanceof Xt&&!g.isSubGraphExpanded&&(g.isSubGraphExpanded=!0)):(g instanceof Pn&&n.centerRect(g.actualBounds),n.removeDiagramListener("LayoutCompleted",f)),n.commitTransaction("Scroll To Part")},f=()=>{t.ir(h,(o.isEnabled?o.duration:0)+l)};n.addDiagramListener("LayoutCompleted",f),h()}}else{const c=n.position.copy();n.centerRect(e.actualBounds),c.equalsApprox(n.position)&&o.stopAnimation()}}}jc(e,n){if(e.isVisible())return n;if(e instanceof gn){const o=e.adornedPart;o!==null&&this.jc(o,n)}else if(e instanceof vt){const o=e.fromNode;o!==null&&this.jc(o,n);const l=e.toNode;l!==null&&this.jc(l,n)}else{if(e instanceof Lt){const l=e.labeledLink;l!==null&&this.jc(l,n);const c=e.findTreeParentNode();c!==null&&(!c.isTreeExpanded&&!c.wasTreeExpanded&&n.push(c),this.jc(c,n))}const o=e.containingGroup;o!==null&&(!o.isSubGraphExpanded&&!o.wasSubGraphExpanded&&n.push(o),this.jc(o,n))}return n}canScrollToPart(e){if(e===void 0&&(e=null),e!==null&&!(e instanceof Pn))return!1;const n=this.diagram;return n.selection.count===0&&n.highlighteds.count===0?!1:n.allowHorizontalScroll&&n.allowVerticalScroll}collapseTree(e){e===void 0&&(e=null);const n=this.diagram,o="Collapse Tree";try{n.startTransaction(o),n.animationManager.Fl(o);const l=new m;if(e!==null&&e.isTreeExpanded)e.collapseTree(),l.add(e);else if(e===null){const c=n.selection.iterator;for(;c.next();){const h=c.value;h instanceof Lt&&h.isTreeExpanded&&(h.collapseTree(),l.add(h))}}n.D("TreeCollapsed",l)}finally{n.commitTransaction(o)}}canCollapseTree(e){e===void 0&&(e=null);const n=this.diagram;if(n.isReadOnly)return!1;if(e!==null){if(!(e instanceof Lt)||!e.isTreeExpanded)return!1;if(e.findTreeChildrenLinks().count>0)return!0}else{const o=n.selection.iterator;for(;o.next();){const l=o.value;if(l instanceof Lt){if(!l.isTreeExpanded)continue;if(l.findTreeChildrenLinks().count>0)return!0}}}return!1}expandTree(e){e===void 0&&(e=null);const n=this.diagram,o="Expand Tree";try{n.startTransaction(o),n.animationManager.Fl(o);const l=new m;if(e!==null&&!e.isTreeExpanded)e.expandTree(),l.add(e);else if(e===null){const c=n.selection.iterator;for(;c.next();){const h=c.value;h instanceof Lt&&(h.isTreeExpanded||(h.expandTree(),l.add(h)))}}n.D("TreeExpanded",l)}finally{n.commitTransaction(o)}}canExpandTree(e){e===void 0&&(e=null);const n=this.diagram;if(n.isReadOnly)return!1;if(e!==null){if(!(e instanceof Lt)||e.isTreeExpanded)return!1;if(e.findTreeChildrenLinks().count>0)return!0}else{const o=n.selection.iterator;for(;o.next();){const l=o.value;if(l instanceof Lt){if(l.isTreeExpanded)continue;if(l.findTreeChildrenLinks().count>0)return!0}}}return!1}groupSelection(){const e=this.diagram,n=e.model;if(!n.Hc())return;const o=this.archetypeGroupData;if(o===null)return;let l=null;try{e.currentCursor="wait",e.D("ChangingSelection",e.selection),e.startTransaction("Group");const c=new m,h=e.selection.iterator;for(;h.next();){const w=h.value;w.ke()&&w.canGroup()&&c.add(w)}const f=new m,g=c.iterator;for(;g.next();){const w=g.value;let k=!1;const P=c.iterator;for(;P.next();){const N=P.value;if(w.isMemberOf(N)){k=!0;break}}k||f.add(w)}const v=f.first();if(v!==null){let w=v.containingGroup;if(w!==null)for(;w!==null;){let k=!1;const P=f.iterator;for(;P.next();)if(!P.value.isMemberOf(w)){k=!0;break}if(k)w=w.containingGroup;else break}if(o instanceof Xt)o.Et(),l=o.copy(),l!==null&&e.add(l);else if(n.isGroupForData(o)){const k=n.copyNodeData(o);t.G(k)&&(n.addNodeData(k),l=e.findNodeForData(k))}if(l!==null){w!==null&&this.isValidMember(w,l)&&(l.containingGroup=w);const k=f.iterator;for(;k.next();){const P=k.value;this.isValidMember(l,P)&&(P.containingGroup=l)}e.clearSelection(!0),l.isSelected=!0}}e.D("SelectionGrouped",l)}finally{e.commitTransaction("Group"),e.D("ChangedSelection",e.selection),e.currentCursor=""}}canGroupSelection(){const e=this.diagram;if(e.isReadOnly||e.isModelReadOnly||!e.allowInsert||!e.allowGroup||!e.model.Hc()||this.archetypeGroupData===null)return!1;const n=e.selection.iterator;for(;n.next();){const o=n.value;if(o.ke()&&o.canGroup())return!0}return!1}m2(e){const n=t.et();if(Array.isArray(e))e.forEach(c=>{c instanceof vt||c instanceof Pn&&n.push(c)});else{const c=e.iterator;for(;c.next();){const h=c.value;h instanceof vt||h instanceof Pn&&n.push(h)}}const o=new b,l=n.length;for(let c=0;c<l;c++){const h=n[c];let f=!0;for(let g=0;g<l;g++)if(h.isMemberOf(n[g])){f=!1;break}f&&o.add(h)}return t.J(n),o}isValidMember(e,n){if(n===null||e===n||n instanceof vt)return!1;let o;return e!==null&&(e===n||e.isMemberOf(n)||(o=e.memberValidation,o!==null&&!o(e,n))||e.data===null&&n.data!==null||e.data!==null&&n.data===null)?!1:(o=this.memberValidation,o!==null?o(e,n):!0)}ungroupSelection(e){e===void 0&&(e=null);const n=this.diagram,o=n.model;if(o.Hc())try{n.currentCursor="wait",n.D("ChangingSelection",n.selection),n.startTransaction("Ungroup");const l=new m;if(e!==null)l.add(e);else{const h=n.selection.iterator;for(;h.next();){const f=h.value;f instanceof Xt&&f.canUngroup()&&l.add(f)}}const c=new m;if(l.count>0){n.clearSelection(!0);const h=l.iterator;for(;h.next();){const f=h.value;f.expandSubGraph();const g=f.containingGroup,v=g!==null&&g.data!==null?o.getKeyForNodeData(g.data):void 0;c.addAll(f.memberParts);const w=c.iterator;for(;w.next();){const k=w.value;if(k.isSelected=!0,k instanceof vt)continue;const P=k.data;P!==null?o.setGroupForData(P,v):k.containingGroup=g}n.remove(f)}}n.D("SelectionUngrouped",l,c)}finally{n.commitTransaction("Ungroup"),n.D("ChangedSelection",n.selection),n.currentCursor=""}}canUngroupSelection(e){e===void 0&&(e=null);const n=this.diagram;if(n.isReadOnly||n.isModelReadOnly||!n.allowDelete||!n.allowUngroup||!n.model.Hc())return!1;if(e!==null){if(!(e instanceof Xt))return!1;if(e.canUngroup())return!0}else{const o=n.selection.iterator;for(;o.next();){const l=o.value;if(l instanceof Xt&&l.canUngroup())return!0}}return!1}addTopLevelParts(e,n){const o=this.m2(e);let l=!0;const c=o.iterator;for(;c.next();){const h=c.value;h.containingGroup!==null&&(!n||this.isValidMember(null,h)?h.containingGroup=null:l=!1)}return l}collapseSubGraph(e){e===void 0&&(e=null);const n=this.diagram,o="Collapse SubGraph";try{n.startTransaction(o),n.animationManager.Fl(o);const l=new m;if(e!==null&&e.isSubGraphExpanded)e.collapseSubGraph(),l.add(e);else if(e===null){const c=n.selection.iterator;for(;c.next();){const h=c.value;h instanceof Xt&&h.isSubGraphExpanded&&(h.collapseSubGraph(),l.add(h))}}n.D("SubGraphCollapsed",l)}finally{n.commitTransaction(o)}}canCollapseSubGraph(e){e===void 0&&(e=null);const n=this.diagram;if(n.isReadOnly)return!1;if(e!==null)return!(!(e instanceof Xt)||!e.isSubGraphExpanded);{const o=n.selection.iterator;for(;o.next();){const l=o.value;if(l instanceof Xt&&l.isSubGraphExpanded)return!0}}return!1}expandSubGraph(e){e===void 0&&(e=null);const n=this.diagram,o="Expand SubGraph",l=new m;try{if(n.startTransaction(o),n.animationManager.Fl(o),e!==null&&!e.isSubGraphExpanded)e.expandSubGraph(),l.add(e);else if(e===null){const c=n.selection.iterator;for(;c.next();){const h=c.value;h instanceof Xt&&(h.isSubGraphExpanded||(h.expandSubGraph(),l.add(h)))}}n.D("SubGraphExpanded",l)}finally{for(const c of l)this.mA(n,c);e&&this.mA(n,e),n.commitTransaction(o)}}mA(e,n){for(const o of n.memberParts)o instanceof Lt&&e.Cc(o,n)}canExpandSubGraph(e){e===void 0&&(e=null);const n=this.diagram;if(n.isReadOnly)return!1;if(e!==null)return!(!(e instanceof Xt)||e.isSubGraphExpanded);{const o=n.selection.iterator;for(;o.next();){const l=o.value;if(l instanceof Xt&&!l.isSubGraphExpanded)return!0}}return!1}editTextBlock(e){e===void 0&&(e=null);const n=this.diagram,o=n.toolManager.findTool("TextEditing");if(o!==null){if(e===null){let l=null;const c=n.selection.iterator;for(;c.next();){const h=c.value;if(h.canEdit()){l=h;break}}if(l===null)return;e=l.findInVisualTree(h=>h instanceof rn&&h.editable)}e!==null&&(n.currentTool=null,o.textBlock=e,n.currentTool=o)}}canEditTextBlock(e){e===void 0&&(e=null);const n=this.diagram;if(n.isReadOnly||n.isModelReadOnly||!n.allowTextEdit||n.toolManager.findTool("TextEditing")===null)return!1;if(e!==null){if(!(e instanceof rn))return!1;const o=e.part;if(o!==null&&o.canEdit())return!0}else{const o=n.selection.iterator;for(;o.next();){const l=o.value;if(l.canEdit()&&(e=l.findInVisualTree(c=>c instanceof rn&&c.editable),e!==null))return!0}}return!1}showContextMenu(e){const n=this.diagram,o=n.toolManager.findTool("ContextMenu");if(o===null)return;e===void 0&&(e=null),e===null&&(n.selection.count>0?e=n.selection.first():e=n);const l=o.findObjectWithContextMenu(e);if(l!==null){const c=n.lastInput;let h=null;if(l instanceof Wt)h=l.getDocumentPoint(L.Center);else if(!n.viewportBounds.containsPoint(c.documentPoint)){const f=n.viewportBounds;h=new T(f.x+f.width/2,f.y+f.height/2)}if(h!==null){const f=new ue;f.diagram=n,f.viewPoint=n.transformDocToView(h),f.documentPoint=h,f.button=2,f.up=!0,n.lastInput=f}n.currentTool=o,o.openMenu(!1,l)}}canShowContextMenu(e){const n=this.diagram,o=n.toolManager.findTool("ContextMenu");return!(o===null||(e===void 0&&(e=null),e===null&&(n.selection.count>0?e=n.selection.first():e=n),o.findObjectWithContextMenu(e)===null))}get copiesClipboardData(){return this.e2}set copiesClipboardData(e){t.s(e,"boolean",Bn,"copiesClipboardData"),this.e2=e}get copiesConnectedLinks(){return this.s2}set copiesConnectedLinks(e){t.s(e,"boolean",Bn,"copiesConnectedLinks"),this.s2=e}get deletesConnectedLinks(){return this.o2}set deletesConnectedLinks(e){t.s(e,"boolean",Bn,"deletesConnectedLinks"),this.o2=e}get copiesTree(){return this.l2}set copiesTree(e){t.s(e,"boolean",Bn,"copiesTree"),this.l2=e}get deletesTree(){return this.h2}set deletesTree(e){t.s(e,"boolean",Bn,"deletesTree"),this.h2=e}get copiesParentKey(){return this.a2}set copiesParentKey(e){t.s(e,"boolean",Bn,"copiesParentKey"),this.a2=e}get copiesGroupKey(){return this.c2}set copiesGroupKey(e){t.s(e,"boolean",Bn,"copiesGroupKey"),this.c2=e}get archetypeGroupData(){return this.f2}set archetypeGroupData(e){e!==null&&t.ec(e,Bn,"archetypeGroupData"),this.diagram,this.f2=e}get memberValidation(){return this.nh}set memberValidation(e){e!==null&&t.k(e,Bn,"memberValidation"),this.nh=e}get defaultScale(){return this.diagram.defaultScale}set defaultScale(e){this.diagram.defaultScale=e}get zoomFactor(){return this.u2}set zoomFactor(e){e>1||t.o("zoomFactor must be larger than 1.0, not: "+e),this.u2=e}get isZoomToFitRestoreEnabled(){return this.d2}set isZoomToFitRestoreEnabled(e){t.s(e,"boolean",Bn,"isZoomToFitRestoreEnabled"),this.d2=e}get scrollToPartPause(){return this.g2}set scrollToPartPause(e){this.g2=e}computeEffectiveCollection(e,n){const o=this.diagram,l=o.toolManager.findTool("Dragging"),c=o.currentTool===l;n===void 0&&(n=o.s0());const h=new _;if(e===null)return h;let f=e.iterator;for(;f.next();){const g=f.value;o.Kr(h,g,c,n)}if(o.draggedLink!==null&&n.dragsLink)return h;for(f=e.iterator;f.next();){const g=f.value;if(g instanceof vt){const v=g.fromNode;if(v!==null&&!h.has(v))h.delete(g);else{const w=g.toNode;w!==null&&!h.has(w)&&h.delete(g)}}}return h}}var Ms=(G=>(G[G.None=0]="None",G[G.Default=1]="Default",G[G.Vertical=4]="Vertical",G[G.Horizontal=5]="Horizontal",G[G.Fill=2]="Fill",G))(Ms||{}),Ar=(G=>(G[G.None=0]="None",G[G.Along=21]="Along",G[G.Plus90=22]="Plus90",G[G.Minus90=23]="Minus90",G[G.Opposite=24]="Opposite",G[G.Upright=25]="Upright",G[G.Plus90Upright=26]="Plus90Upright",G[G.Minus90Upright=27]="Minus90Upright",G[G.Upright45=28]="Upright45",G))(Ar||{}),ar=(G=>(G[G.None=0]="None",G[G.Vertical=1]="Vertical",G[G.Horizontal=2]="Horizontal",G[G.Both=3]="Both",G))(ar||{});class Wt{n;c0;f0;Hr;p;lh;ct;at;se;$t;u0;Vs;Lt;is;qr;hh;wi;da;tt;Yt;Wr;Ni;zi;Ku;hi;ju;Ot;si;Jr;Ub;ah;Hu;constructor(){b.Ki(this),this.n=30723,this.$t=1,this.u0="",this.Vs=null,this.Lt=null,this.at=new T(NaN,NaN).u(),this.is=B.yw,this.qr=new U,this.hh=new U,this.wi=null,this.da=1,this.tt=1,this.Yt=0,this.Wr=W.Rg,this.se=new z(NaN,NaN,NaN,NaN).u(),this.Ni=new z(NaN,NaN,NaN,NaN).u(),this.zi=new z(0,0,NaN,NaN).u(),this.Ku=null,this.c0=null,this.ct=null,this.hi=L.Default,this.ju=L.Default,this.f0=0,this.Hr=0,this.Ot=null,this.p=null,this.lh=null,this.si=null,this.Ub=null,this.ah=null,this.Jr=null,this.Hu=null}cloneProtected(e){e.n=(this.n|2048|4096)&-32769,e.$t=this.$t,e.u0=this.u0,e.Lt=this.Lt,e.at.a(this.at),e.is=this.is.P(),this.wi!==null?e.wi=this.wi.copy():e.wi=null,e.tt=this.tt,e.Yt=this.Yt,e.Wr=this.Wr.P(),e.se.a(this.se),e.Ni.a(this.Ni),e.zi.a(this.zi),e.c0=this.c0,this.ct!==null&&(e.ct=this.ct.copy()),e.hi=this.hi.P(),e.ju=this.ju.P(),e.f0=this.f0,e.Hr=this.Hr,this.Ot!==null&&(e.Ot=this.Ot.copy()),this.p!==null&&(this.p.fi?e.p=this.p:e.p=this.p.copy()),this.lh!==null&&(e.lh=this.lh.slice()),this.si!==null&&(e.si=this.si.copy())}addCopyProperty(e){let n=this.lh;if(!Array.isArray(n))n=[],this.lh=n;else for(let o=0;o<n.length;o++)if(n[o]===e)return;n.push(e)}vo(e){e.Ku=null,e.Jr=null,e.c()}clone(){const e=new this.constructor;if(this.cloneProtected(e),this.lh!==null)for(let n=0;n<this.lh.length;n++){const o=this.lh[n];e[o]=this[o]}return e}copy(){return this.clone()}rS(){const e=this.Ci;if(e!==null){this.Ci=null;for(const n of e)n.qu()&&(n.isToData?this.themeData(n.targetProperty,n.sourceProperty,n.themeSource,n.converter,n.themeConverter):n.isToObject?this.themeObject(n.targetProperty,n.sourceProperty,n.themeSource,n.converter,n.themeConverter,n.sourceName):n.isToModel?this.themeModel(n.targetProperty,n.sourceProperty,n.themeSource,n.converter,n.themeConverter):this.theme(n.targetProperty,n.sourceProperty,n.themeSource,n.converter,n.themeConverter))}return this}oi(e){e in Ar?this.segmentOrientation=e:e in Ms?this.stretch=e:t.er(this,e)}toString(){return t.Dn(this.constructor)+"#"+b.as(this)}static None=0;static Default=1;static Fill=2;static Vertical;static Horizontal;static Uniform=6;static UniformToFill=7;static FlipVertical=1;static FlipHorizontal=2;static FlipBoth=3;ch(){this.p!==null&&(this.p.fi=!0)}Kt(){return this.p===null?this.p=new Dr:this.p.fi&&(this.p=this.p.copy()),this.p}Be(){if(this.ct===null){const e=new Jr;e.ga=L.None,e.ma=L.None,e.pa=10,e.ya=10,e.wa=0,e.xa=0,this.ct=e}return this.ct}raiseChangedEvent(e,n,o,l,c,h,f){const g=this.part;if(g!==null){g.qc(e,n,o,l,c,h,f),o===this&&e===2&&this.Wc()&&this.ba(g,n);const v=this.diagram;if(this.ws!==null&&v!==null&&v.Vh&&!v.undoManager.isUndoingRedoing&&!v.animationManager.pu){const w=this.ws.get(n);if(w!==null&&v.animationManager.isEnabled&&!v.animationManager.isTicking){this.Hu===null&&(this.Hu=new _);let k=v.undoManager.transactionLevel===0;if(w.startCondition===2?k=!0:w.startCondition===3&&(k=!1),k){const P=new _t;w.XF(P);const N=this.Hu.get(w);N!==null&&N.stop(),this.Hu.set(w,P),P.gx=this,P.XS=w,P.add(this,n,l,c),P.start()}else v.animationManager.getBundleAnimation().add(this,n,l,c)}}if(this instanceof Je&&o===g&&g.p2()&&g.data!==null){const w=this.C.r,k=w.length;for(let P=0;P<k;P++){const N=w[P];N instanceof Je&&N.Gr(F=>{F.data!==null&&F.p2()&&F.updateTargetBindings(n)})}}}}UF(e){this.Hu.delete(e)}Do(){if(this.diagram!==null&&this.findBindingPanel()===null&&this.Ci!==null){const e=this.diagram.model,n=this.Ci.iterator;for(;n.next();){const o=n.value;if(!o.isToTheme)continue;let l=null;const c=o.sourceName;o.isToObject&&(l=this.pA(c));let h=this;const f=o.targetId;f!==-1&&(h=this.d0(f),h===null)||(c==="/"?l=h.part:c==="."?l=h:c===".."&&(l=h.panel),o.updateTarget(h,l,void 0,e))}}}ba(e,n){const o=this.findBindingPanel();if(o!==null){const l=e.diagram,c=this.Ci.iterator;for(;c.next();){const h=c.value;let f=null;if(h.isToObject){if(f=h.yA(o,this),f===null)continue;h.updateSource(this,f,n,null)}else if(h.isToModel)l!==null&&!l.fe&&h.updateSource(this,l.model.modelData,n,o);else if(!h.isToTheme){const g=o.data;if(g===null)continue;l!==null&&!l.fe&&h.updateSource(this,g,n,o)}if(f===this){const g=h.targetId,v=o.d0(g);v!==null&&h.updateTarget(v,f,n,l?.model)}}}}d0(e){return this.Hn===e?this:null}pA(e){let n;return e===""?n=this:e==="/"?n=this:e==="."?n=this:e===".."?n=this:n=this.part.findObject(e),n}get Hn(){return this.p!==null?this.p.Hn:-1}set Hn(e){this.Hn!==e&&(this.p===null&&(this.p=new Dr),this.p.Hn=e)}get Ci(){return this.p!==null?this.p.Ci:null}set Ci(e){this.Ci!==e&&(this.p===null&&(this.p=new Dr),this.p.Ci=e)}get qn(){return this.p!==null?this.p.qn:null}set qn(e){this.qn!==e&&(this.p===null&&(this.p=new Dr),this.p.qn=e)}raiseChanged(e,n,o){this.raiseChangedEvent(2,e,this,n,o)}t(e,n,o){this.raiseChangedEvent(2,e,this,n,o)}Wn(e,n,o,l){const c=this.se;if(c.i(e,n,o,l),this.tt!==1||this.Yt!==0){this.wi===null&&(this.wi=new U);const h=this.wi;h.Ri(),this.g0(h,e,n,o,l),h.vg(c)}}wA(e,n,o){return this.pickable===!1?!1:(o.nc(this.T),n?this.intersectsRect(e,o):this.containedInRect(e,o))}xA(e,n,o){if(this.pickable===!1)return!1;const l=this.naturalBounds,c=e.distanceSquaredPoint(n);return o?T.distanceLineSegmentSquared(e.x,e.y,0,0,0,l.height)<=c||T.distanceLineSegmentSquared(e.x,e.y,0,l.height,l.width,l.height)<=c||T.distanceLineSegmentSquared(e.x,e.y,l.width,l.height,l.width,0)<=c||T.distanceLineSegmentSquared(e.x,e.y,l.width,0,0,0)<=c:e.distanceSquared(0,0)<=c&&e.distanceSquared(0,l.height)<=c&&e.distanceSquared(l.width,0)<=c&&e.distanceSquared(l.width,l.height)<=c}an(){return!0}containsPoint(e){const n=T.l();n.a(e),this.T.gt(n);const o=this.actualBounds;if(!o.isReal())return T.e(n),!1;const l=this.diagram;if(l!==null&&l.Hm){const h=l.getInputOption("extraTouchThreshold"),f=l.getInputOption("extraTouchArea"),g=f/2,v=this.naturalBounds,w=this.getDocumentScale()*l.scale,k=1/w;if(v.width*w<h&&v.height*w<h){const P=z.contains(o.x-g*k,o.y-g*k,o.width+f*k,o.height+f*k,n.x,n.y);return T.e(n),P}}let c=!1;return(this instanceof gn||this instanceof zt?z.contains(o.x-5,o.y-5,o.width+10,o.height+10,n.x,n.y):o.containsPoint(n))&&(this.si&&!this.si.containsPoint(n)?c=!1:this.Lt!==null&&this.zi.containsPoint(e)?c=!0:c=this.fh(e)),T.e(n),c}fh(e){const n=this.naturalBounds;return z.contains(0,0,n.width,n.height,e.x,e.y)}containsRect(e){if(this.angle===0)return this.actualBounds.containsRect(e);const n=this.naturalBounds,o=z.V(0,0,n.width,n.height),l=this.T;let c=!1;const h=T.V(e.x,e.y);return o.containsPoint(l.$e(h))&&(h.i(e.x,e.bottom),o.containsPoint(l.$e(h))&&(h.i(e.right,e.bottom),o.containsPoint(l.$e(h))&&(h.i(e.right,e.y),o.containsPoint(l.$e(h))&&(c=!0)))),T.e(h),z.e(o),c}containedInRect(e,n){if(n===void 0)return e.containsRect(this.actualBounds);const o=this.naturalBounds,l=n;let c=!1;const h=T.V(0,0);return e.containsPoint(l.gt(h))&&(h.i(0,o.height),e.containsPoint(l.gt(h))&&(h.i(o.width,o.height),e.containsPoint(l.gt(h))&&(h.i(o.width,0),e.containsPoint(l.gt(h))&&(c=!0)))),T.e(h),c}intersectsRect(e,n){if(n===void 0&&(n=this.T,this.angle===0))return e.intersectsRect(this.actualBounds);const o=this.naturalBounds,l=n,c=T.V(0,0),h=T.V(0,o.height),f=T.V(o.width,o.height),g=T.V(o.width,0);let v=!1;if(e.containsPoint(l.gt(c))||e.containsPoint(l.gt(h))||e.containsPoint(l.gt(f))||e.containsPoint(l.gt(g)))v=!0;else{const w=z.V(0,0,o.width,o.height),k=T.V(e.x,e.y);w.containsPoint(l.$e(k))?v=!0:(k.i(e.x,e.bottom),w.containsPoint(l.$e(k))?v=!0:(k.i(e.right,e.bottom),w.containsPoint(l.$e(k))?v=!0:(k.i(e.right,e.y),w.containsPoint(l.$e(k))&&(v=!0)))),T.e(k),z.e(w),v||(I.Sw(e,c,h)||I.Sw(e,h,f)||I.Sw(e,f,g)||I.Sw(e,g,c))&&(v=!0)}return T.e(c),T.e(h),T.e(f),T.e(g),v}getDocumentPoint(e,n){if(n===void 0&&(n=new T),e instanceof L){const o=e,l=this.naturalBounds;return n.i(o.x*l.width+o.offsetX,o.y*l.height+o.offsetY),this.Us.gt(n),n}else return n.set(e),this.Us.gt(n),n}getDocumentBounds(e){e===void 0&&(e=new z);const n=this.naturalBounds,o=this.Us,l=T.V(0,0).T(o);return e.i(l.x,l.y,0,0),l.i(n.width,0).T(o),e.unionNoCheck(l.x,l.y,0,0),l.i(n.width,n.height).T(o),e.unionNoCheck(l.x,l.y,0,0),l.i(0,n.height).T(o),e.unionNoCheck(l.x,l.y,0,0),T.e(l),e}getDocumentAngle(){return this.Us.ZD()}getDocumentScale(){if(this.m0()===!1)return this.da;const e=this.tt;return this.panel!==null?e*this.panel.getDocumentScale():e}getLocalPoint(e,n){return n===void 0&&(n=new T),n.a(e),this.Us.$e(n),n}getNearestIntersectionPoint(e,n,o){return this.Jc(e.x,e.y,n.x,n.y,o)}Jc(e,n,o,l,c){const h=this.T,f=1/(h.m11*h.m22-h.m12*h.m21),g=h.m22*f,v=-h.m12*f,w=-h.m21*f,k=h.m11*f,P=f*(h.m21*h.dy-h.m22*h.dx),N=f*(h.m12*h.dx-h.m11*h.dy),F=e*g+n*w+P,H=e*v+n*k+N,V=o*g+l*w+P,$=o*v+l*k+N;c.i(0,0);const K=this.naturalBounds,J=I.gl(0,0,K.width,K.height,F,H,V,$,c);return c.T(h),J}ht(e,n,o,l){if(this.To()===!1)return;const c=this.Wr,h=c.right+c.left,f=c.top+c.bottom;e=Math.max(e-h,0),n=Math.max(n-f,0),o=o||0,l=l||0,o=Math.max(o-h,0),l=Math.max(l-f,0);const g=this.angle;let v=0;const w=this.desiredSize,k=this.p0();g===90||g===270?(e=isFinite(w.height)?w.height+k:e,n=isFinite(w.width)?w.width+k:n):(e=isFinite(w.width)?w.width+k:e,n=isFinite(w.height)?w.height+k:n);let P=o||0,N=l||0;const F=this instanceof Je;switch(this.zs(!0)){case 0:P=0,N=0,F&&(e=1/0,n=1/0);break;case 2:isFinite(e)&&e>o&&(P=e),isFinite(n)&&n>l&&(N=n);break;case 5:isFinite(e)&&e>o&&(P=e),N=0,F&&(n=1/0);break;case 4:isFinite(n)&&n>l&&(N=n),P=0,F&&(e=1/0);break}const H=this.maxSize,V=this.minSize;P>H.width&&V.width<H.width&&(P=H.width),N>H.height&&V.height<H.height&&(N=H.height),o=Math.max(P,V.width),l=Math.max(N,V.height),H.width<o&&(o=Math.min(V.width,o)),H.height<l&&(l=Math.min(V.height,l)),e=Math.min(H.width,e),n=Math.min(H.height,n),e=Math.max(o,e),n=Math.max(l,n),(g===90||g===270)&&(v=e,e=n,n=v,v=o,o=l,l=v),this.se.Nt(),this.Wu(e,n,o,l),this.se.u(),this.se.isReal()||t.o("Non-real measuredBounds has been set. Object "+this+", measuredBounds: "+this.se.toString()),this.ue(!1)}Wu(e,n,o,l){}Xs(){return!1}Bt(e,n,o,l,c){this.$c();const h=z.l();h.a(this.Ni),this.Ni.Nt(),this._e()===!1?this.Ni.i(e,n,o,l):this.uh(e,n,o,l),this.Ni.u(),c===void 0?this.si=null:this.si=c;let f=!1;if(c!==void 0)f=!0;else{let g=this.panel;if(g!==null&&g.$r()&&(g=g.panel),g!==null){const v=g.zi,w=this.measuredBounds,k=n+w.height,P=e+w.width;if(f=!(0<=e+.05&&P<=v.width+.05&&0<=n+.05&&k<=v.height+.05),this instanceof rn){const N=this.naturalBounds;(this.y0>N.height||this.ui>N.width)&&(f=!0)}}}f?this.n|=256:this.n&=-257,this.Ni.isReal()||t.o("Non-real actualBounds has been set. Object "+this+", actualBounds: "+this.Ni.toString()),this.Ju(h,this.Ni),this.Jn(!1),z.e(h)}uh(e,n,o,l){}commonArrange(e,n,o,l){if(this.Ni.i(e,n,o,l),this.desiredSize.isReal())return;const c=this.se,h=this.Wr,f=h.right+h.left,g=h.top+h.bottom,v=c.width+f,w=c.height+g;o+=f,l+=g;let k=this.zs(!0);switch(v===o&&w===l&&(k=0),k){case 0:(v>o||w>l)&&(this.ue(!0),this.ht(v>o?o:v,w>l?l:w,0,0));break;case 2:this.ue(!0),this.ht(o,l,0,0);break;case 5:this.ue(!0),this.ht(o,w,0,0);break;case 4:this.ue(!0),this.ht(v,l,0,0);break}}Ju(e,n){const o=this.part;o!==null&&o.diagram!==null&&((o.selectionObject===this||o.resizeObject===this||o.rotateObject===this)&&o.w2(!0),this.S(),!e.equalsApproxClose(n)&&(o.dh(),this.w0(o)))}w0(e){this.portId!==null&&(e.w2(!0),e instanceof Lt&&e.bA(this))}get shadowVisible(){return this.p!==null?this.p.x0:null}set shadowVisible(e){const n=this.shadowVisible;n!==e&&(this.Kt().x0=e,this.Ve(!0),this.S(),this.t("shadowVisible",n,e))}HR(e,n){const o=this.naturalBounds,l=this.hh,c=l.m11,h=l.m21,f=l.dx,g=l.m12,v=l.m22,w=l.dy;let k=0,P=0,N=k,F=P;k=N*c+F*h+f,P=N*g+F*v+w;let H=k,V=P,$=0,K=0;N=o.width+n,F=0,k=N*c+F*h+f,P=N*g+F*v+w;let J=Math.min(H,k),Q=Math.min(V,P);$=Math.max(H+$,k)-J,K=Math.max(V+K,P)-Q,H=J,V=Q,N=o.width+n,F=o.height+n,k=N*c+F*h+f,P=N*g+F*v+w,J=Math.min(H,k),Q=Math.min(V,P),$=Math.max(H+$,k)-J,K=Math.max(V+K,P)-Q,H=J,V=Q,N=0,F=o.height+n,k=N*c+F*h+f,P=N*g+F*v+w,J=Math.min(H,k),Q=Math.min(V,P),$=Math.max(H+$,k)-J,K=Math.max(V+K,P)-Q,H=J,V=Q;const ne=e.viewportBounds,le=ne.x,fe=ne.y,we=ne.width,ye=ne.height;return H>we+le||le>$+H||V>ye+fe||fe>K+V}Ui(e,n){if(this.qR(e,n)||!this.visible)return;const o=this.opacity;if(o===0)return;let l=1;o!==1&&(l=e.globalAlpha,e.globalAlpha=l*o);let c="";this.filter!==""&&(c=e.filter,e.filter=this.filter);const h=this.T,f=this.panel;this.m0()===!0&&this.Bb();const g=this.part;let v=!1,w=0;if(g&&n.getRenderingHint("drawShadows")&&(v=g.isShadowed,v)){const V=g.shadowOffset;w=Math.max(V.y,V.x)*n.scale*n.Vi}const k=this instanceof Je&&this.$r(),P=this.Ni;if(k&&(this.kA(v,e,!1,f),this.WR(e,n),this.PA(v,e,!1,f),this.SA(v,e,!1)),k||!k&&(P.width===0||P.height===0||isNaN(P.x)||isNaN(P.y))){o!==1&&(e.globalAlpha=l),this.filter!==""&&(e.filter=c);return}const N=this.Xs();if(!n.ia&&N&&this.HR(n,w)){o!==1&&(e.globalAlpha=l),this.filter!==""&&(e.filter=c);return}let F=(this.n&256)!==0;if(e.clipInsteadOfFill&&(F=!1),this instanceof rn&&(e.font=this.font),F){const V=f.an()?f.naturalBounds:f.actualBounds;let $=Math.max(P.x,V.x),K=Math.max(P.y,V.y),J=Math.min(P.right,V.right)-$,Q=Math.min(P.bottom,V.bottom)-K;const ne=this.si;if(ne!==null&&($=ne.x,K=ne.y,J=ne.width,Q=ne.height),$>P.width+P.x||P.x>V.width+V.x){o!==1&&(e.globalAlpha=l),this.filter!==""&&(e.filter=c);return}e.save(),e.beginPath(),e.rect($,K,J,Q),e.clip()}if(N){if(!g.isVisible()){o!==1&&(e.globalAlpha=l),this.filter!==""&&(e.filter=c);return}if(v){const V=g.shadowOffset;e.shadowsSet(V.x*n.scale*this.scale*n.Vi,V.y*n.scale*this.scale*n.Vi,g.shadowBlur),e.shadowsOn(),e.shadowColor=g.shadowColor}}const H=this.naturalBounds;if(e.transform(h.m11,h.m12,h.m21,h.m22,h.dx,h.dy),this.kA(v,e,N,f),this.Lt!==null&&(e.commitTransform(),this.Vb(e,H,P)),this.PA(v,e,N,f),this.gh(e,n),this.SA(v,e,N),F&&(e.restore(),e.clearContextCache(this instanceof Je)),!h.Yk()){const V=1/(h.m11*h.m22-h.m12*h.m21);e.transform(h.m22*V,-h.m12*V,-h.m21*V,h.m11*V,V*(h.m21*h.dy-h.m22*h.dx),V*(h.m12*h.dx-h.m11*h.dy))}o!==1&&(e.globalAlpha=l),this.filter!==""&&(e.filter=c)}kA(e,n,o,l){e&&this.shadowVisible===!0?n.shadowsOn():e&&this.shadowVisible===!1&&n.shadowsOff(),e&&this.zb(l)&&this.shadowVisible===null&&n.shadowsOff()}PA(e,n,o,l){e&&(this.Lt!==null||this.zb(l))?(this.Xb(!0),this.shadowVisible===null&&n.shadowsOff()):this.Xb(!1)}SA(e,n,o){e&&this.b2()===!0&&n.shadowsOn(),o&&e&&n.shadowsOff()}JR(e,n,o){const l=this.part;let c=!1;l&&e.getRenderingHint("drawShadows")&&(c=l.isShadowed),n.clipInsteadOfFill&&(c=!1),this.Xs()&&c&&n.shadowsOn(),c&&this.shadowVisible===!0?n.shadowsOn():c&&this.shadowVisible===!1&&n.shadowsOff();const h=this.panel;if(c&&this.zb(h)&&this.shadowVisible===null&&n.shadowsOff(),n.Zr){const f=e.computePixelRatio(),g=`drop-shadow(${n.shadowOffsetX/f}px ${n.shadowOffsetY/f}px ${n.shadowBlur/f/2}px ${n.shadowColor})`;this.background!==null&&o.Lt.setAttributeNS(null,"filter",g)}return c&&(this.Lt!==null||this.zb(h))?(this.Xb(!0),this.shadowVisible===null&&n.shadowsOff()):this.Xb(!1),c}$R(e,n,o,l){if(o.Zr){const c=n.computePixelRatio(),h=`drop-shadow(${o.shadowOffsetX/c}px ${o.shadowOffsetY/c}px ${o.shadowBlur/c/2}px ${o.shadowColor})`;this.k2(e,h)}l&&this.b2()===!0&&o.shadowsOn(),this.Xs()&&o.shadowsOff()}zb(e){return e===null?!1:(e.$r()&&(e=e.panel),e.b2()||(e.type===Je.Auto||e.type===Je.Spot)&&e.findMainElement()!==this)}k2(e,n){}Vb(e,n,o){const l=this.p0(),c=n.x,h=n.y,f=n.width+l,g=n.height+l;this.rn(e,this.Lt,!0,!1,n,o),this.Lt instanceof Ae&&this.Lt.type===3?(e.beginPath(),e.rect(c-l/2,h-l/2,f,g),e.fillContext(this.Lt,!1,null)):e.fillRect(c-l/2,h-l/2,f,g)}MA(e,n){let o=e.ZR(this);const l=e.ah!==null?e.ah:e.svg;if(o!==-1)if(o===0)if(l.Lt)l.Lt.after(n);else if(e.type===Je.Table){const c=l.getElementsByClassName("gojs-ts"),h=c.length!==0?c[0]:null;h!==null&&h.after(n)}else l.prepend(n);else{for(;o!==0&&!e.elt(o-1).isVisibleObject();)o--;if(o===0)l.prepend(n);else{const c=e.elt(o-1).svg;c!==null?c.after(n):l.appendChild(n)}}}qR(e,n){if(!(e instanceof Ni))return!1;if(!this.visible||this.opacity===0)return this.svg!==null&&this.svg.parentNode!==null&&this.svg.remove(),!0;const o=this.Ni;if(this.Xs()&&(!this.isVisible()||o.width===0||o.height===0||isNaN(o.x)||isNaN(o.y)))return this.svg!==null&&this.svg.parentNode!==null&&this.svg.remove(),!0;const l=this.panel,c=this.$u(e);if(this.Zc(e,n,c))return this.NA(this.svg),this.svg.parentElement!==null?(this.Xs()&&(e.lastDrawnPart=this.svg),!0):(this.Xs()?(e.lastDrawnPart!==null?e.lastDrawnPart.after(this.svg):e.diagramGroup.prepend(this.svg),e.lastDrawnPart=this.svg):l&&this.MA(l,this.svg),!0);if(this.Ve(!1),this.Xs()&&this.isShadowed){const H=this.shadowOffset;e.shadowsSet(H.x*n.scale*this.scale*n.Vi,H.y*n.scale*this.scale*n.Vi,this.shadowBlur),e.shadowsOn(),e.shadowColor=this.shadowColor}this instanceof rn&&(e.font=this.font),e.currentElement=null;const h=this.T,f=this instanceof Je,g=this instanceof Je?this.$r():!1,v=this.svg;if(this.m0()===!0&&this.Bb(),e.setCurrentTransform(1,0,0,1,0,0),e.outerGroup=!1,c)if(e.outerGroup=!0,f&&g)e.newGroup(1,0,0,1,0,0),this.svg=e.lastCreatedElement;else if(f&&this.isClipping){const H=this.findMainElement();let V=0,$=0;H!==null&&(V=H.actualBounds.x,$=H.actualBounds.y),e.newGroup(h.m11,h.m12,h.m21,h.m22,h.dx+V,h.dy+$),this.svg=e.lastCreatedElement,H!==null&&e.createOrUpdateClipGroup(this,H.actualBounds),e.currentElement=e.lastCreatedElement}else f?(e.newGroup(h.m11,h.m12,h.m21,h.m22,h.dx,h.dy),this.svg=e.lastCreatedElement):e.newGroup(1,0,0,1,0,0);const w=this.naturalBounds;f||e.setCurrentTransform(h.m11,h.m12,h.m21,h.m22,h.dx,h.dy),this.background!==null&&(f?(g&&e.setCurrentTransform(h.m11,h.m12,h.m21,h.m22,h.dx,h.dy),this.Vb(e,w,o),g&&e.setCurrentTransform(1,0,0,1,0,0)):(e.setCurrentTransform(h.m11,h.m12,h.m21,h.m22,h.dx,h.dy),this.Vb(e,w,o)),e.currentElement.Lt=e.lastCreatedElement,e.currentElement.prepend(e.lastCreatedElement));const k=this.JR(n,e,e.currentElement);this.gh(e,n),f&&e.endGroup(),e.outerGroup&&e.endGroup();const P=e.surface.Gu,N=f?this.svg:e.currentElement;if(v!==null&&N!==v&&v.parentNode===this.panel.svg){const H=this.svg.getAttribute("filter");return H!==null&&N.setAttribute("filter",H),v.replaceWith(N),this.svg=N,N!==null&&this.b0(e,l,o,N),!0}if(this.svg=N,P!==null&&N===null&&e.dummyGroup(),N===null)return!0;this.b0(e,l,o,N),this.$R(N,n,e,k);const F=this.Xs()?this.opacity*e.globalAlpha:this.opacity;if(F!==1&&N.setAttributeNS(null,"opacity",F.toString()),this.filter!==""&&N.setAttributeNS(null,"filter",this.filter),this.Xs()){if(v!==null&&N!==v&&v.parentNode===e.diagramGroup){const H=v.getAttribute("filter");H!==null&&N.setAttribute("filter",H),v.replaceWith(N)}else e.lastDrawnPart?e.lastDrawnPart.after(N):e.diagramGroup.prepend(N);e.lastDrawnPart=N}else l!==null&&this.MA(l,N);return P!==null&&P(this,N),this.NA(N),!0}NA(e){const n=this,o=e.dataset;n instanceof Wt&&(n.portId!==null&&(o.portId=n.portId),n instanceof Je&&(isNaN(n.itemIndex)||(o.itemIndex=n.itemIndex.toString()),n instanceof Pn&&(o.className=t.Dn(n),n.key!==void 0&&(o.key=n.key.toString()),n.containingGroup!==null&&(o.group=n.containingGroup.key.toString()),n instanceof vt&&(n.fromNode!==null&&n.fromNode.key!==void 0&&(o.fromKey=n.fromNode.key.toString()),n.fromPortId!==""&&(o.fromPortId=n.fromPortId),n.toNode!==null&&n.toNode.key!==void 0&&(o.toKey=n.toNode.key.toString()),n.toPortId!==""&&(o.toPortId=n.toPortId)))))}b0(e,n,o,l){let c=(this.n&256)!==0;if(e.clipInsteadOfFill&&(c=!1),!c){l.removeAttributeNS(null,"clip-path");return}const h=n.an()?n.naturalBounds:n.actualBounds;let f=Math.max(o.x,h.x),g=Math.max(o.y,h.y),v=Math.min(o.right,h.right)-f,w=Math.min(o.bottom,h.bottom)-g;const k=this.si;k!==null&&(f=k.x,g=k.y,v=k.width,w=k.height);const P=new z(f,g,Math.max(v,0),Math.max(w,0));this instanceof Je&&this.T.copy().xw().vg(P),l.setAttributeNS(null,"clip-path",`path('      M ${P.x},${P.y}       L ${P.width+P.x} ${P.y}       L ${P.width+P.x} ${P.height+P.y}       L ${P.x} ${P.height+P.y} z') view-box`)}QR(){if(this.svg===null)return;const e=this.svg.innerHTML.match(/url\(#((CLIP|GRAD).+?)\)/g),n=this.svg.ownerDocument;if(e!==null)for(const o of e){const l=n.getElementById(o.split("#")[1].slice(0,-1));l!==null&&l.remove()}this.svg.remove()}WR(e,n){const o=this.Ni,l=this.zi,c=this.Lt;c!==null&&e.commitTransform(),c!==null&&(this.rn(e,c,!0,!1,l,o),c instanceof Ae&&c.type===3?(e.beginPath(),e.rect(o.x,o.y,o.width,o.height),e.fillContext(c,!1,null)):e.fillRect(o.x,o.y,o.width,o.height)),this.gh(e,n)}gh(e,n){}Qc(){this.Ve(!0)}Zc(e,n,o){const l=this.svg;if(this._R()){if(this.Qc(),this.Ve(!1),l===null)return!1;const k=l.getAttribute("clip-path");if(k!==null&&k.includes("url")){const P=e.svg.getElementById(k.split("#")[1].slice(0,-1));P!==null&&P.remove()}return l.getAttribute("filter")&&l.removeAttribute("filter"),!1}if(l===null)return!1;if(!this.visible)return l.remove(),!1;if(l.nodeName!=="g"&&o||l.nodeName==="g"&&!o)return!1;const c=this.T,h="matrix("+c.m11+", "+c.m12+", "+c.m21+", "+c.m22+", "+c.dx+", "+c.dy+")",f=this instanceof Je,g=f?this.$r():!1;if(!(f&&g))if(this instanceof li){const k=this.Yb;e.setCurrentTransform(c.m11,c.m12,c.m21,c.m22,c.dx,c.dy),k!==null&&e.amendImageTransform(k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7]),o?l.lastElementChild.setAttributeNS(null,"transform",e.getCurrentTransform()):l.setAttributeNS(null,"transform",e.getCurrentTransform())}else if(o&&!f)if(this instanceof zt){const k=l.getElementsByTagName("path");for(let P=0;P<k.length;P++)k[P].setAttributeNS(null,"transform",h)}else if(this instanceof rn){const k=l.getElementsByTagName("text"),P=typeof this.stroke=="string"?this.stroke:null;for(let N=0;N<k.length;N++)k[N].setAttributeNS(null,"transform",h),P&&k[N].setAttributeNS(null,"fill",P)}else(l.lastElementChild||l).setAttributeNS(null,"transform",h);else if(f&&this.isClipping&&this.ah){const k=this.findMainElement(),P=k!==null?k.actualBounds.x:0,N=k!==null?k.actualBounds.y:0;this.ah.setAttributeNS(null,"transform","matrix(1,0,0,1,"+-P+", "+-N+")"),l.setAttributeNS(null,"transform","matrix("+c.m11+", "+c.m12+", "+c.m21+", "+c.m22+", "+(c.dx+P)+", "+(c.dy+N)+")")}else l.setAttributeNS(null,"transform",h);const v=this.Xs()?this.opacity*e.globalAlpha:this.opacity;v===1?l.removeAttribute("opacity"):l.setAttributeNS(null,"opacity",v.toString()),e.setCurrentTransform(1,0,0,1,0,0);const w=this.ah?this.ah:this.Ub;if(this.background!==null||w.Lt!==void 0){const k=w.Lt;if(this.background===null)e.removeOldGradient(this,w.Lt,"fill"),w.Lt.remove(),w.Lt=void 0;else{if((g||o&&!(this instanceof Je))&&e.setCurrentTransform(c.m11,c.m12,c.m21,c.m22,c.dx,c.dy),this.Vb(e,this.naturalBounds,this.actualBounds),w.Lt){e.removeOldGradient(this,w.Lt,"fill");const P=w.Lt.getAttribute("filter");P!==null&&e.lastCreatedElement.setAttribute("filter",P),w.Lt.replaceWith(e.lastCreatedElement)}else w.prepend(e.lastCreatedElement);w.Lt=e.lastCreatedElement}k&&e.removeOldGradient(this,k,"fill")}return this.b0(e,this.panel,this.actualBounds,l),!0}$u(e){if(this.background!==null)return!0;let n=(this.n&256)!==0;return e.clipInsteadOfFill&&(n=!1),!!n}static TE(e,n,o,l,c,h,f){let g=.001;const v=h.length;e.moveTo(n,o);let w=l-n;const k=c-o;w===0&&(w=.001);const P=k/w;let N=Math.sqrt(w*w+k*k),F=0,H=!0;g=h[F%v];let V=f!==0;for(;N>=.1;){if(V){for(g=h[F++%v],g-=f;g<0;)g+=h[F++%v],H=!H;V=!1}else g=h[F++%v];g>N&&(g=N);let $=Math.sqrt(g*g/(1+P*P));w<0&&($=-$),n+=$,o+=P*$,H?e.lineTo(n,o):e.moveTo(n,o),N-=g,H=!H}}rn(e,n,o,l,c,h){let f=1,g=1;if(typeof n=="string"){o?e.fillStyle=n:e.strokeStyle=n;return}else if(n.type===1){o?e.fillStyle=n.color:e.strokeStyle=n.color;return}let v;const w=this.p0();f=c.width,g=c.height,l?(f=h.width,g=h.height):o||(f+=w,g+=w);const k=e instanceof yo;if(k&&n.cn&&(n.type===4||n._c===f&&n.Gb===g))v=n.cn;else{let P=0,N=0,F=0,H=0,V=0,$=0,K=0,J=0;if(l?(K=h.x,J=h.y):o||(K-=w/2,J-=w/2),P=n.start.x*f+n.start.offsetX+K,N=n.start.y*g+n.start.offsetY+J,F=n.end.x*f+n.end.offsetX+K,H=n.end.y*g+n.end.offsetY+J,n.type===2)v=e.createLinearGradient(P,N,F,H);else if(n.type===3)$=isNaN(n.endRadius)?Math.max(f,g)/2:n.endRadius,isNaN(n.startRadius)?(V=0,$=Math.max(f,g)/2):V=n.startRadius,v=e.createRadialGradient(P,N,V,F,H,$);else if(n.type===4)try{v=e.createPattern(n.pattern,"repeat")}catch{v=null}else t.Zi(n.type,"Brush type");if(n.type!==4){const Q=n.colorStops;if(Q!==null){const ne=Q.iterator;for(;ne.next();)v.addColorStop(ne.key,ne.value)}}if(k&&(n.cn=v,v!==null&&(n._c=f,n.Gb=g),v===null&&n.type===4&&n._c!==-1)){n._c=-1;const Q=this.diagram;Q!==null&&n._c===-1&&t.ir(()=>{Q.redraw()},600)}}o?e.fillStyle=v:e.strokeStyle=v}isContainedBy(e){return e instanceof Je?this.tv(this,e):!1}tv(e,n){if(e===n||n===null)return!1;let o=e.panel;for(;o!==null;){if(o===n)return!0;o=o.panel}return!1}isVisibleObject(){if(!this.visible)return!1;const e=this.panel;return e!==null?e.isVisibleObject():!0}isEnabledObject(){let e=this instanceof Je?this:this.panel;for(;e!==null&&e.isEnabled;)e=e.panel;return e===null}get enabledChanged(){return this.p!==null?this.p.k0:null}set enabledChanged(e){const n=this.enabledChanged;n!==e&&(e!==null&&t.k(e,Wt,"enabledChanged"),this.Kt().k0=e,this.t("enabledChanged",n,e))}Bb(){if(this.Kb()===!0){const e=this.qr;if(e.Ri(),!this.Ni.isReal()||!this.se.isReal()){this.Zu(!1);return}if(e.Fs(this.Ni.x-this.se.x,this.Ni.y-this.se.y),this.scale!==1||this.angle!==0){const n=this.naturalBounds;this.g0(e,n.x,n.y,n.width,n.height)}this.Zu(!1),this.ka(!0)}if(this.m0()===!0){const e=this.panel;if(e===null)this.hh.set(this.qr),this.da=this.scale;else if(e.Us!==null){const n=this.hh;n.Ri(),e.an()?n.nc(e.hh):e.panel!==null&&n.nc(e.panel.hh),n.nc(this.qr),this.da=this.scale*e.da}this.ka(!1)}}g0(e,n,o,l,c){if(this.tt!==1&&e.tt(this.tt),this.Yt===0)return;const h=T.l();h.setSpot(n,o,l,c,L.Center),e.cs(this.Yt,h.x,h.y),T.e(h)}c(e){if(this.To())return;e===void 0&&(e=!1),this.ue(!0),this.Jn(!0);const n=this.panel;n!==null&&!e&&n.c()}tf(){this.To()||(this.ue(!0),this.Jn(!0))}ef(e){if(this._e())return;const n=this.panel;!e&&n!==null&&n.c(),this.Jn(!0)}$c(){this.Kb()===!1&&(this.Zu(!0),this.ka(!0))}P2(){this.ka(!0)}S(){const e=this.part;e!==null&&e.S()}zs(e){const n=this.stretch,o=this.panel;if(o===null)return this.Oo(n===1?0:n,e);if(o.type===Je.Table)return this.P0(o.getRowDefinition(this.row),o.getColumnDefinition(this.column),e);if(o.type===Je.Auto&&o.findMainElement()===this)return this.Oo(2,e);if(n===1){if(o.type===Je.Spot&&o.findMainElement()===this)return this.Oo(2,e);const l=o.defaultStretch;return l===1?this.Oo(0,e):this.Oo(l,e)}return this.Oo(n,e)}P0(e,n,o){const l=this.stretch;if(l!==1)return this.Oo(l,o);let c=null,h=null;switch(e.stretch){case 1:case 5:break;case 4:h=!0;break;case 2:h=!0;break}switch(n.stretch){case 1:case 4:break;case 5:c=!0;break;case 2:c=!0;break}const f=this.panel.defaultStretch;return c===null&&(c=f===5||f===2),h===null&&(h=f===4||f===2),c===!0&&h===!0?this.Oo(2,o):c===!0?this.Oo(5,o):h===!0?this.Oo(4,o):this.Oo(0,o)}Oo(e,n){if(n)return e;if(e===0)return 0;const o=this.desiredSize;if(o.isReal())return 0;const l=!isNaN(o.width),c=!isNaN(o.height),h=this.angle;if(l)if(h!==90&&h!==270){if(e===5)return 0;if(e===2)return 4}else{if(e===4)return 0;if(e===2)return 5}if(c)if(h!==90&&h!==270){if(e===4)return 0;if(e===2)return 5}else{if(e===5)return 0;if(e===2)return 4}return e}get segmentOrientation(){return this.Ot!==null?this.Ot.S0:0}set segmentOrientation(e){const n=this.segmentOrientation;n!==e&&(this.Ot===null&&(this.Ot=new Er),this.Ot.S0=e,this.c(),this.t("segmentOrientation",n,e),e===0&&(this.angle=0))}iv(){this.segmentOrientation=21}get segmentIndex(){return this.Ot!==null?this.Ot.M0:-1/0}set segmentIndex(e){e=Math.round(e);const n=this.segmentIndex;n!==e&&(this.Ot===null&&(this.Ot=new Er),this.Ot.M0=e,this.c(),this.t("segmentIndex",n,e))}get segmentFraction(){return this.Ot!==null?this.Ot.N0:0}set segmentFraction(e){e<0?e=0:e>1&&(e=1);const n=this.segmentFraction;n!==e&&(this.Ot===null&&(this.Ot=new Er),this.Ot.N0=e,this.c(),this.t("segmentFraction",n,e))}get segmentOffset(){return this.Ot!==null?this.Ot.C0:T.xo}set segmentOffset(e){const n=this.segmentOffset;n.equals(e)||(e=e.P(),this.Ot===null&&(this.Ot=new Er),this.Ot.C0=e,this.c(),this.t("segmentOffset",n,e))}get stretch(){return this.p!==null?this.p.$n:1}set stretch(e){const n=this.stretch;n!==e&&(this.Kt().$n=e,this.c(),this.t("stretch",n,e))}get name(){return this.p!==null?this.p.Pt:""}set name(e){const n=this.name;n!==e&&(this.Kt().Pt=e,this.part!==null&&this.part.L0(),this.t("name",n,e))}get opacity(){return this.$t}set opacity(e){e<0?e=0:e>1&&(e=1);const n=this.opacity;if(n!==e){this.$t=e,this.t("opacity",n,e);const o=this.diagram,l=this.part;o!==null&&l!==null&&o.S(l.Wh(l.actualBounds))}}get filter(){return this.u0}set filter(e){const n=this.filter;if(n!==e){this.u0=e,this.Ve(!0),this.t("filter",n,e);const o=this.diagram,l=this.part;o!==null&&l!==null&&o.S(l.Wh(l.actualBounds))}}get visible(){return(this.n&1)!==0}set visible(e){const n=(this.n&1)!==0;if(n!==e){this.n=this.n^1,this.Qc(),this.t("visible",n,e);const o=this.panel;o!==null?o.c():this.Xs()&&this.Ei(e),this.S(),this.CA()}}get pickable(){return(this.n&2)!==0}set pickable(e){const n=(this.n&2)!==0;n!==e&&(this.n=this.n^2,this.t("pickable",n,e))}get fromLinkableDuplicates(){return(this.n&4)!==0}set fromLinkableDuplicates(e){const n=(this.n&4)!==0;n!==e&&(this.n=this.n^4,this.t("fromLinkableDuplicates",n,e))}get fromLinkableSelfNode(){return(this.n&8)!==0}set fromLinkableSelfNode(e){const n=(this.n&8)!==0;n!==e&&(this.n=this.n^8,this.t("fromLinkableSelfNode",n,e))}get toLinkableDuplicates(){return(this.n&16)!==0}set toLinkableDuplicates(e){const n=(this.n&16)!==0;n!==e&&(this.n=this.n^16,this.t("toLinkableDuplicates",n,e))}get toLinkableSelfNode(){return(this.n&32)!==0}set toLinkableSelfNode(e){const n=(this.n&32)!==0;n!==e&&(this.n=this.n^32,this.t("toLinkableSelfNode",n,e))}get isPanelMain(){return(this.n&64)!==0}set isPanelMain(e){const n=(this.n&64)!==0;n!==e&&(this.n=this.n^64,this.c(),this.t("isPanelMain",n,e))}get isActionable(){return(this.n&128)!==0}set isActionable(e){const n=(this.n&128)!==0;n!==e&&(this.n=this.n^128,this.t("isActionable",n,e))}get background(){return this.Lt}set background(e){const n=this.background;n!==e&&(e!==null&&Ae.Qu(e,"GraphObject.background"),e instanceof Ae&&e.u(),this.Lt=e,this.S(),this.t("background",n,e))}b2(){return(this.n&512)!==0}Xb(e){e?this.n|=512:this.n&=-513}Wc(){return(this.n&1024)!==0}S2(e){e?this.n|=1024:this.n&=-1025}Kb(){return(this.n&2048)!==0}Zu(e){e?this.n|=2048:this.n&=-2049}m0(){return(this.n&4096)!==0}ka(e){e?this.n|=4096:this.n&=-4097}To(){return(this.n&8192)!==0}ue(e){e?this.n|=8192:this.n&=-8193}_e(){return(this.n&16384)!==0}Jn(e){e?this.n|=16384:this.n&=-16385}_R(){return(this.n&32768)!==0}Ve(e){e?this.n|=32768:this.n&=-32769}get part(){if(this.Xs())return this;if(this.Jr!==null)return this.Jr;let e=this;for(e=e.panel;e;){if(e instanceof Pn)return this.Jr=e,e;e=e.panel}return null}get svg(){return this.Ub}set svg(e){this.Ub=e}Au(){this.svg=null}get panel(){return this.Vs}Pa(e){this.Vs=e,this.svg!==null&&this.svg.remove()}get layer(){const e=this.part;return e!==null?e.layer:null}get diagram(){const e=this.part;return e!==null?e.diagram:null}get position(){return this.at}set position(e){const n=e.x,o=e.y,l=this.position,c=l.x,h=l.y;c!==n&&(!isNaN(c)||!isNaN(n))||h!==o&&(!isNaN(h)||!isNaN(o))?(e=e.copy(),this.M2(e,c,h)&&this.t("position",new T(c,h),e.copy())):this.N2()}N2(){}M2(e,n,o){return this.at=e,this.ef(),!0}bc(e,n,o){this.at.x===e&&this.at.y===n||(this.at.i(e,n),this.$c())}get actualBounds(){return this.Ni}get scale(){return this.tt}set scale(e){const n=this.scale;n!==e&&(e<=0&&t.o("GraphObject.scale for "+this+" must be greater than zero, not: "+e),this.tt=e,this.c(),this.t("scale",n,e))}get angle(){return this.Yt}set angle(e){const n=this.angle;if(n!==e){if(e=e%360,e<0&&(e+=360),n===e)return;this.Yt=e,this.CA(),this.c(),this.t("angle",n,e)}}get desiredSize(){return this.is}set desiredSize(e){const n=e.width,o=e.height,l=this.desiredSize,c=l.width,h=l.height;if((c!==n&&(!isNaN(c)||!isNaN(n))||h!==o&&(!isNaN(h)||!isNaN(o)))&&(e=e.P(),this.is=e,this.c(),this instanceof zt&&this.ee(),this.t("desiredSize",l,e),this.Wc())){const f=this.part;f!==null&&(this.ba(f,"width"),this.ba(f,"height"))}}get width(){return this.is.width}set width(e){const n=this.is.width;if(n!==e&&(!isNaN(n)||!isNaN(e))){const o=this.is,l=new B(e,this.is.height).u();if(this.is=l,this.c(),this instanceof zt&&this.ee(),this.t("desiredSize",o,l),this.Wc()){const c=this.part;c!==null&&this.ba(c,"width")}}}get height(){return this.is.height}set height(e){const n=this.is.height;if(n!==e&&(!isNaN(n)||!isNaN(e))){const o=this.is,l=new B(this.is.width,e).u();if(this.is=l,this.c(),this instanceof zt&&this.ee(),this.t("desiredSize",o,l),this.Wc()){const c=this.part;c!==null&&this.ba(c,"height")}}}get minSize(){return this.p!==null?this.p.pr:B.sc}set minSize(e){const n=this.minSize;n.equals(e)||(e=e.copy(),isNaN(e.width)&&(e.width=0),isNaN(e.height)&&(e.height=0),e.u(),this.Kt().pr=e,this.c(),this.t("minSize",n,e))}get maxSize(){return this.p!==null?this.p.yr:B.Bk}set maxSize(e){const n=this.maxSize;n.equals(e)||(e=e.copy(),isNaN(e.width)&&(e.width=1/0),isNaN(e.height)&&(e.height=1/0),e.u(),this.Kt().yr=e,this.c(),this.t("maxSize",n,e))}get measuredBounds(){return this.se}get naturalBounds(){return this.zi}p0(){return 0}get margin(){return this.Wr}set margin(e){typeof e=="number"&&(e=new W(e));const n=this.Wr;n.equals(e)||(e=e.P(),this.Wr=e,this.c(),this.t("margin",n,e))}get T(){return this.Kb()===!0&&this.Bb(),this.qr}get Us(){return this.m0()===!0&&this.Bb(),this.hh}trigger(e,n,o){let l=null;return typeof e=="string"?l=new Tt(e,n,o):l=e,l.be=this,this.ws===null&&(this.ws=new _),this.ws.set(l.propertyName,l),this}get ws(){return this.p!==null?this.p.ws:null}set ws(e){this.ws!==e&&(this.Kt().ws=e)}get gr(){return this.p!==null?this.p.gr:0}set gr(e){this.gr!==e&&(this.Kt().gr=e)}get alignment(){return this.hi}set alignment(e){const n=this.alignment;n.equals(e)||(e.isNoSpot()&&!e.isDefault()&&t.o("GraphObject.alignment for "+this+" must be a real Spot or Spot.Default, not: "+e),e=e.P(),this.hi=e,this.ef(),this.t("alignment",n,e))}get column(){return this.Hr}set column(e){e=Math.round(e);const n=this.column;n!==e&&(e<0&&t.W(e,">= 0",Wt,"column"),this.Hr=e,this.c(),this.t("column",n,e),this.svg!==null&&this.svg.remove())}get columnSpan(){return this.p!==null?this.p.A0:1}set columnSpan(e){e=Math.round(e);const n=this.columnSpan;n!==e&&(e<1&&t.W(e,">= 1",Wt,"columnSpan"),this.Kt().A0=e,this.c(),this.t("columnSpan",n,e))}get row(){return this.f0}set row(e){e=Math.round(e);const n=this.row;n!==e&&(e<0&&t.W(e,">= 0",Wt,"row"),this.f0=e,this.c(),this.t("row",n,e),this.svg!==null&&this.svg.remove())}get rowSpan(){return this.p!==null?this.p.T0:1}set rowSpan(e){e=Math.round(e);const n=this.rowSpan;n!==e&&(e<1&&t.W(e,">= 1",Wt,"rowSpan"),this.Kt().T0=e,this.c(),this.t("rowSpan",n,e))}get spanAllocation(){return this.p!==null?this.p.D0:null}set spanAllocation(e){const n=this.spanAllocation;n!==e&&(e!==null&&t.k(e,Wt,"spanAllocation"),this.Kt().D0=e,this.c(),this.t("spanAllocation",n,e))}get alignmentFocus(){return this.ju}set alignmentFocus(e){const n=this.alignmentFocus;n.equals(e)||(e=e.P(),this.ju=e,this.c(),this.t("alignmentFocus",n,e))}get portId(){return this.c0}set portId(e){const n=this.portId;if(n!==e){const o=this.part;o!==null&&!(o instanceof Lt)&&t.o("Cannot set portID on a Link: "+e);const l=o;n!==null&&l!==null&&l.C2(this),this.c0=e,e!==null&&l!==null&&(l.fn=!0,l.LA(this)),this.t("portId",n,e)}}Sa(){const e=this.part;if(e instanceof Lt&&(this.portId!==null||this===e.port)){const n=e.diagram;n!==null&&!n.undoManager.isUndoingRedoing&&e.bA(this)}}CA(){const e=this.diagram;e===null||e.undoManager.isUndoingRedoing||(this instanceof Je?this instanceof Lt?this.invalidateConnectedLinks():this.walkVisualTreeFrom(this,n=>{n.Sa()}):this.Sa())}get toSpot(){return this.ct!==null?this.ct.ma:L.None}set toSpot(e){const n=this.toSpot;n.equals(e)||(e=e.P(),this.Be().ma=e,this.t("toSpot",n,e),this.Sa())}get toEndSegmentLength(){return this.ct!==null?this.ct.ya:10}set toEndSegmentLength(e){const n=this.toEndSegmentLength;n!==e&&(e<0&&t.W(e,">= 0",Wt,"toEndSegmentLength"),this.Be().ya=e,this.t("toEndSegmentLength",n,e),this.Sa())}get toShortLength(){return this.ct!==null?this.ct.xa:0}set toShortLength(e){const n=this.toShortLength;n!==e&&(this.Be().xa=e,this.t("toShortLength",n,e),this.Sa())}get toLinkable(){return this.ct!==null?this.ct.F0:null}set toLinkable(e){const n=this.toLinkable;n!==e&&(this.Be().F0=e,this.t("toLinkable",n,e))}get toMaxLinks(){return this.ct!==null?this.ct.R0:1/0}set toMaxLinks(e){const n=this.toMaxLinks;n!==e&&(e<0&&t.W(e,">= 0",Wt,"toMaxLinks"),this.Be().R0=e,this.t("toMaxLinks",n,e))}get fromSpot(){return this.ct!==null?this.ct.ga:L.None}set fromSpot(e){const n=this.fromSpot;n.equals(e)||(e=e.P(),this.Be().ga=e,this.t("fromSpot",n,e),this.Sa())}get fromEndSegmentLength(){return this.ct!==null?this.ct.pa:10}set fromEndSegmentLength(e){const n=this.fromEndSegmentLength;n!==e&&(e<0&&t.W(e,">= 0",Wt,"fromEndSegmentLength"),this.Be().pa=e,this.t("fromEndSegmentLength",n,e),this.Sa())}get fromShortLength(){return this.ct!==null?this.ct.wa:0}set fromShortLength(e){const n=this.fromShortLength;n!==e&&(this.Be().wa=e,this.t("fromShortLength",n,e),this.Sa())}get fromLinkable(){return this.ct!==null?this.ct.v0:null}set fromLinkable(e){const n=this.fromLinkable;n!==e&&(this.Be().v0=e,this.t("fromLinkable",n,e))}get fromMaxLinks(){return this.ct!==null?this.ct.O0:1/0}set fromMaxLinks(e){const n=this.fromMaxLinks;n!==e&&(e<0&&t.W(e,">= 0",Wt,"fromMaxLinks"),this.Be().O0=e,this.t("fromMaxLinks",n,e))}get cursor(){return this.p!==null?this.p.Sl:""}set cursor(e){const n=this.cursor;n!==e&&(t.s(e,"string",Wt,"cursor"),this.Kt().Sl=e,this.t("cursor",n,e))}get click(){return this.p!==null?this.p.Cr:null}set click(e){const n=this.click;n!==e&&(e!==null&&t.k(e,Wt,"click"),this.Kt().Cr=e,this.t("click",n,e))}get doubleClick(){return this.p!==null?this.p.Lr:null}set doubleClick(e){const n=this.doubleClick;n!==e&&(e!==null&&t.k(e,Wt,"doubleClick"),this.Kt().Lr=e,this.t("doubleClick",n,e))}get contextClick(){return this.p!==null?this.p.Ar:null}set contextClick(e){const n=this.contextClick;n!==e&&(e!==null&&t.k(e,Wt,"contextClick"),this.Kt().Ar=e,this.t("contextClick",n,e))}get mouseEnter(){return this.p!==null?this.p.vr:null}set mouseEnter(e){const n=this.mouseEnter;n!==e&&(e!==null&&t.k(e,Wt,"mouseEnter"),this.Kt().vr=e,this.t("mouseEnter",n,e))}get mouseLeave(){return this.p!==null?this.p.Or:null}set mouseLeave(e){const n=this.mouseLeave;n!==e&&(e!==null&&t.k(e,Wt,"mouseLeave"),this.Kt().Or=e,this.t("mouseLeave",n,e))}get mouseOver(){return this.p!==null?this.p.Tr:null}set mouseOver(e){const n=this.mouseOver;n!==e&&(e!==null&&t.k(e,Wt,"mouseOver"),this.Kt().Tr=e,this.t("mouseOver",n,e))}get mouseHover(){return this.p!==null?this.p.Dr:null}set mouseHover(e){const n=this.mouseHover;n!==e&&(e!==null&&t.k(e,Wt,"mouseHover"),this.Kt().Dr=e,this.t("mouseHover",n,e))}get mouseHold(){return this.p!==null?this.p.Fr:null}set mouseHold(e){const n=this.mouseHold;n!==e&&(e!==null&&t.k(e,Wt,"mouseHold"),this.Kt().Fr=e,this.t("mouseHold",n,e))}get mouseDragEnter(){return this.p!==null?this.p.I0:null}set mouseDragEnter(e){const n=this.mouseDragEnter;n!==e&&(e!==null&&t.k(e,Wt,"mouseDragEnter"),this.Kt().I0=e,this.t("mouseDragEnter",n,e))}get mouseDragLeave(){return this.p!==null?this.p.E0:null}set mouseDragLeave(e){const n=this.mouseDragLeave;n!==e&&(e!==null&&t.k(e,Wt,"mouseDragLeave"),this.Kt().E0=e,this.t("mouseDragLeave",n,e))}get mouseDrop(){return this.p!==null?this.p.Rr:null}set mouseDrop(e){const n=this.mouseDrop;n!==e&&(e!==null&&t.k(e,Wt,"mouseDrop"),this.Kt().Rr=e,this.t("mouseDrop",n,e))}get actionDown(){return this.p!==null?this.p.U0:null}set actionDown(e){const n=this.actionDown;n!==e&&(e!==null&&t.k(e,Wt,"actionDown"),this.Kt().U0=e,this.t("actionDown",n,e))}get actionMove(){return this.p!==null?this.p.B0:null}set actionMove(e){const n=this.actionMove;n!==e&&(e!==null&&t.k(e,Wt,"actionMove"),this.Kt().B0=e,this.t("actionMove",n,e))}get actionUp(){return this.p!==null?this.p.V0:null}set actionUp(e){const n=this.actionUp;n!==e&&(e!==null&&t.k(e,Wt,"actionUp"),this.Kt().V0=e,this.t("actionUp",n,e))}get actionCancel(){return this.p!==null?this.p.z0:null}set actionCancel(e){const n=this.actionCancel;n!==e&&(e!==null&&t.k(e,Wt,"actionCancel"),this.Kt().z0=e,this.t("actionCancel",n,e))}get toolTip(){return this.p!==null?this.p.Ir:null}set toolTip(e){const n=this.toolTip;n!==e&&(this.Kt().Ir=e,this.t("toolTip",n,e))}get contextMenu(){return this.p!==null?this.p.Er:null}set contextMenu(e){const n=this.contextMenu;n!==e&&(this.Kt().Er=e,this.t("contextMenu",n,e))}findBindingPanel(){let e=this instanceof Je?this:this.panel;for(;e!==null;){if(e.L2())return e;e=e.panel}return null}bind(e,n,o,l){return this.sf(e,n,o,l),this}bindTwoWay(e,n,o,l){return this.sf(e,n,o,l).makeTwoWay(),this}bindModel(e,n,o,l){return this.sf(e,n,o,l).ofModel(),this}bindObject(e,n,o,l,c){return this.sf(e,n,o,l).ofObject(c),this}theme(e,n,o,l,c){return this.mh(e,n,o,l,c),this}themeData(e,n,o,l,c){return this.mh(e,n,o,l,c).ofData(),this}themeObject(e,n,o,l,c,h){return this.mh(e,n,o,l,c).ofObject(h),this}themeModel(e,n,o,l,c){return this.mh(e,n,o,l,c).ofModel(),this}sf(e,n,o,l){let c=null;return typeof e=="string"?c=new Ds(e,n,o,l):c=e,this.X0(c),c}mh(e,n,o,l,c){let h=null;return typeof e=="string"?h=new gl(e,n,o,l,c):h=e,this.X0(h),h}X0(e){e.be=this;const n=this.findBindingPanel();n!==null&&n.AA()&&t.o("Cannot add a Binding to a template that has already been copied: "+e),this.Ci===null&&(this.Ci=new m),this.Ci.add(e)}set(e){return Object.assign(this,e),this}attach(e){return Wt.A2(this,e),this}apply(e){return e(this),this}setProperties(e){return Te.e0(this,e),this}static make(e,...n){let o=arguments,l=null,c=null;if(t.it(e))c=e;else if(typeof e=="string"){const f=Wt.jb.get(e);t.it(f)?(o=Array.prototype.slice.call(o),l=f(o),t.G(l)||t.o('GraphObject.make invoked object builder "'+e+'", but it did not return an Object')):c=i.go[e]}l===null&&((c==null||!c.constructor)&&t.o("GraphObject.make requires a class function or GoJS class name or name of an object builder, not: "+e),l=new c);let h=1;if(l instanceof Te&&o.length>1){const f=l,g=o[1];(typeof g=="string"||g instanceof HTMLDivElement)&&(f.AM(g),h++)}for(let f=h;f<o.length;f++){const g=o[f];g===void 0?t.o("Undefined value at argument "+f+" for object being constructed by GraphObject.make: "+l):Wt.A2(l,g)}return l}static A2(e,n){if(typeof n=="number")Wt.ev(e,n);else if(typeof n=="string")Wt.sv(e,n);else if(n instanceof Wt)e instanceof Je||t.o("A GraphObject can only be added to a Panel, not to: "+e),e.add(n);else if(n instanceof ei){let o;n.isRow&&t.it(e.getRowDefinition)?o=e.getRowDefinition(n.index):!n.isRow&&t.it(e.getColumnDefinition)&&(o=e.getColumnDefinition(n.index)),o instanceof ei?o.Hb(n):t.o("A RowColumnDefinition can only be added to an object that implements getRowDefinition/getColumnDefinition, not to: "+e)}else if(n instanceof Ln){const o=e;o.type=n}else if(n instanceof Ds)e instanceof Wt||e instanceof ei?e.bind(n):t.o("A Binding can only be applied to a GraphObject or RowColumnDefinition, not to: "+e);else if(n instanceof Tt)e instanceof Wt?e.trigger(n):t.o("An AnimationTrigger can only be applied to a GraphObject, not to: "+e);else if(n instanceof ce)e instanceof te&&e.type===4?e.figures.add(n):t.o("A PathFigure can only be added to a Path Geometry, not to: "+e);else if(n instanceof ae)e instanceof ce?e.segments.add(n):t.o("A PathSegment can only be added to a PathFigure, not to: "+e);else if(n instanceof As)e instanceof Te||e instanceof Xt?e.layout=n:t.o("A Layout can only be assigned to a Diagram or a Group, not to: "+e);else if(Array.isArray(n))for(let o=0;o<n.length;o++){const l=n[o];Wt.A2(e,l)}else t.G(n)?Wt.nv(e,n):t.o('Unknown initializer "'+n+'" for object being constructed by GraphObject.make: '+e)}static sv(e,n){if(e instanceof rn)e.text=n;else if(e instanceof zt)e.figure=n;else if(e instanceof li)e.source=n;else if(e instanceof Je){const o=Ln.es.get(n);o!==null&&(e.type=o)}else if(e instanceof Ae){const o=t.Uh(Fs,n);o!==null?e.type=o:t.o("Unknown Brush type as an argument to GraphObject.make: "+n)}else if(e instanceof te){const o=t.Uh(q,n);o!==null&&(e.type=o)}else if(e instanceof ae){const o=t.Uh(re,n);o!==null&&(e.type=o)}}static ev(e,n){t.it(e.oi)?e.oi(n):t.er(e,n)}static nv(e,n){if(e instanceof Ae){const o=new r;for(const l in n){const c=parseFloat(l);isNaN(c)?o[l]=n[l]:e.addColorStop(c,n[l])}Te.e0(e,o)}else if(e instanceof ei){if(n.row!==void 0){const l=n.row;(l==null||l===1/0||isNaN(l)||l<0)&&t.o("Must specify non-negative integer row for RowColumnDefinition "+n+", not: "+l),e.isRow=!0,e.index=l}else if(n.column!==void 0){const l=n.column;(l==null||l===1/0||isNaN(l)||l<0)&&t.o("Must specify non-negative integer column for RowColumnDefinition "+n+", not: "+l),e.isRow=!1,e.index=l}const o=new r;for(const l in n)l==="row"||l==="column"||(o[l]=n[l]);Te.e0(e,o)}else Te.e0(e,n)}static build(e,n,...o){const l=Wt.jb.get(e);if(t.it(l)){const c=l([e].concat(o));if(c instanceof Wt)return n&&c.setProperties(n),c}t.o('GraphObject.build invoked object builder "'+e+'", but it did not return an Object')}static defineBuilder(e,n){t.s(e,"string",Wt,"defineBuilder:name"),t.k(n,Wt,"defineBuilder:func"),e.toLowerCase(),Wt.jb.set(e,n)}static isBuilderDefined(e){return Wt.jb.has(e)}static takeBuilderArgument(e,n,o){o===void 0&&(o=null);const l=e[1];return(t.it(o)?o(l):typeof l=="string")?(e.splice(1,1),l):(n===void 0&&t.o("no "+(t.it(o)?"satisfactory":"string")+" argument for GraphObject builder "+e[0]),n)}static jb=new _}Wt.Vertical=4,Wt.Horizontal=5,Wt.defineBuilder("Button",G=>{const e="#f5f5f5",n="#737373",o="#d4d4d4",l="#737373",c="#a3a3a3",h=2.76142374915397,f=2.761423749153969,g=new Je(Je.Auto,{isActionable:!0,enabledChanged:(v,w)=>{if(v instanceof Je){const k=v.findObject("ButtonBorder");if(k!==null)if(v._buttonFillNormal===void 0&&(v._buttonFillNormal=k.fill),w){let P=null;v.layer!==null&&v.diagram!==null&&v.isVisibleObject()&&(P=v.layer.findObjectAt(v.diagram.lastInput.documentPoint)),P===v||P!==null&&P.isContainedBy(v)?k.fill=v._buttonFillOver:k.fill=v._buttonFillNormal}else k.fill=v._buttonFillDisabled}},cursor:"pointer"}).attach({_buttonFillNormal:void 0,_buttonStrokeNormal:void 0,_buttonFillOver:o,_buttonStrokeOver:l,_buttonFillDisabled:c}).add(new zt("RoundedRectangle",{name:"ButtonBorder",spot1:new L(0,0,h,f),spot2:new L(1,1,-h,-f),parameter1:2,fill:e,stroke:n}));return g.mouseEnter=(v,w,k)=>{if(!w.isEnabledObject()||!(w instanceof Je))return;const P=w.findObject("ButtonBorder");P instanceof zt&&(w._buttonFillNormal===void 0&&(w._buttonFillNormal=P.fill),P.fill=w._buttonFillOver,w._buttonStrokeNormal===void 0&&(w._buttonStrokeNormal=P.stroke),P.stroke=w._buttonStrokeOver)},g.mouseLeave=(v,w,k)=>{if(!w.isEnabledObject()||!(w instanceof Je))return;const P=w.findObject("ButtonBorder");P instanceof zt&&(w._buttonFillNormal!==void 0&&(P.fill=w._buttonFillNormal),w._buttonStrokeNormal!==void 0&&(P.stroke=w._buttonStrokeNormal))},g}),Wt.defineBuilder("TreeExpanderButton",G=>{const e=Wt.build("Button");return e.attach({_treeExpandedFigure:"MinusLine",_treeCollapsedFigure:"PlusLine",visible:!1}),e.add(new zt("MinusLine",{name:"ButtonIcon",stroke:"#0a0a0a",strokeWidth:2,desiredSize:B.nu}).bindObject("figure","isTreeExpanded",(n,o)=>{const l=o.panel;return n?l._treeExpandedFigure:l._treeCollapsedFigure})),e.bindObject("visible","isTreeLeaf",n=>!n),e.click=(n,o)=>{let l=o.part;if(l instanceof gn&&(l=l.adornedPart),!(l instanceof Lt))return;const c=l.diagram;if(c===null)return;const h=c.commandHandler;if(l.isTreeExpanded){if(!h.canCollapseTree(l))return}else if(!h.canExpandTree(l))return;n.handled=!0,l.isTreeExpanded?h.collapseTree(l):h.expandTree(l)},e}),Wt.defineBuilder("SubGraphExpanderButton",G=>{const e=Wt.build("Button");return e.attach({_subGraphExpandedFigure:"MinusLine",_subGraphCollapsedFigure:"PlusLine"}),e.add(new zt("MinusLine",{name:"ButtonIcon",stroke:"#0a0a0a",strokeWidth:2,desiredSize:B.nu}).bindObject("figure","isSubGraphExpanded",(n,o)=>{const l=o.panel;return n?l._subGraphExpandedFigure:l._subGraphCollapsedFigure})),e.click=(n,o)=>{let l=o.part;if(l instanceof gn&&(l=l.adornedPart),!(l instanceof Xt))return;const c=l.diagram;if(c===null)return;const h=c.commandHandler;if(l.isSubGraphExpanded){if(!h.canCollapseSubGraph(l))return}else if(!h.canExpandSubGraph(l))return;n.handled=!0,l.isSubGraphExpanded?h.collapseSubGraph(l):h.expandSubGraph(l)},e}),Wt.defineBuilder("ToolTip",G=>new gn(Je.Auto,{isShadowed:!0,shadowColor:"rgba(0, 0, 0, .4)",shadowOffset:new T(0,2)}).add(new zt("RoundedRectangle",{name:"Border",parameter1:1,fill:"#f5f5f5",strokeWidth:0,spot1:new L(0,0,4,6),spot2:new L(1,1,-4,-4)}))),Wt.defineBuilder("ContextMenu",G=>new gn(Je.Vertical,{background:"#f5f5f5",isShadowed:!0,shadowColor:"rgba(0, 0, 0, .4)",shadowOffset:new T(0,2)}).bindObject("background","",e=>e.adornedPart!==null&&e.hasPlaceholder()?null:"#f5f5f5")),Wt.defineBuilder("ContextMenuButton",G=>{const e=Wt.build("Button");e.stretch=5;const n=e.findObject("ButtonBorder");return n instanceof zt&&(n.figure="Rectangle",n.strokeWidth=0,n.spot1=new L(0,0,4,6),n.spot2=new L(1,1,-4,-4)),e}),Wt.defineBuilder("PanelExpanderButton",G=>{const e=Wt.takeBuilderArgument(G,"COLLAPSIBLE"),n=Wt.build("Button");n.attach({_buttonExpandedFigure:"M0 0 M0 6 L4 2 8 6 M8 8",_buttonCollapsedFigure:"M0 0 M0 2 L4 6 8 2 M8 8","ButtonBorder.fill":"rgba(0, 0, 0, 0)",_buttonFillNormal:"rgba(0, 0, 0, 0)","ButtonBorder.stroke":null,_buttonStrokeNormal:null,_buttonFillOver:"rgba(0, 0, 0, .2)",_buttonStrokeOver:null}),n.add(new zt({name:"ButtonIcon",strokeWidth:2}).bindObject("geometryString","visible",l=>l?n._buttonExpandedFigure:n._buttonCollapsedFigure,void 0,e));const o=n.findObject("ButtonBorder");return o instanceof zt&&(o.stroke=null,o.fill="rgba(0, 0, 0, 0)"),n.click=(l,c)=>{if(!(c instanceof Je))return;const h=c.diagram;if(h===null||h.isReadOnly)return;let f=c.findBindingPanel();if(f===null&&(f=c.part),f!==null){const g=f.findObject(e);g!==null&&(l.handled=!0,h.startTransaction("Collapse/Expand Panel"),g.visible=!g.visible,h.commitTransaction("Collapse/Expand Panel"))}},n}),Wt.defineBuilder("CheckBoxButton",G=>{const e=Wt.takeBuilderArgument(G),n=Wt.build("Button",{desiredSize:new B(14,14)});n.attach({"ButtonBorder.spot1":new L(0,0,1,1),"ButtonBorder.spot2":new L(1,1,-1,-1)});const o=new zt({name:"ButtonIcon",geometryString:"M0 0 M0 8.85 L4.9 13.75 16.2 2.45 M16.2 16.2",strokeWidth:2,stretch:2,geometryStretch:6,visible:!1});return e!==""&&o.bindTwoWay("visible",e),n.add(o),n.click=(l,c)=>{if(!(c instanceof Je))return;const h=l.diagram;if(h===null||h.isReadOnly||e!==""&&h.model.isReadOnly)return;l.handled=!0;const f=c.findObject("ButtonIcon");h.startTransaction("checkbox"),f!==null&&(f.visible=!f.visible),t.it(c._doClick)&&c._doClick(l,c),h.commitTransaction("checkbox")},n}),Wt.defineBuilder("CheckBox",G=>{const e=Wt.takeBuilderArgument(G),n=Wt.build("CheckBoxButton",{name:"Button",isActionable:!1,margin:new W(0,1,0,0)},e),o=new Je("Horizontal",{isActionable:!0,cursor:n.cursor,margin:new W(1),mouseEnter:n.mouseEnter,mouseLeave:n.mouseLeave,click:n.click}).attach({_buttonFillNormal:n._buttonFillNormal,_buttonStrokeNormal:n._buttonStrokeNormal,_buttonFillOver:n._buttonFillOver,_buttonStrokeOver:n._buttonStrokeOver,_buttonFillDisabled:n._buttonFillDisabled,_buttonClick:n.click});return o.add(n),n.mouseEnter=null,n.mouseLeave=null,n.click=null,o});class Dr{fi;Pt;Hn;Ci;qn;Ys;Sl;Cr;Lr;Ar;vr;Or;Tr;Dr;Fr;I0;E0;Rr;U0;B0;V0;z0;Ir;Er;k0;D0;ws;pr;yr;$n;T0;A0;gr;x0;Y0;G0;constructor(){this.fi=!1,this.Pt="",this.Hn=-1,this.Ci=null,this.qn=null,this.Ys=null,this.Sl="",this.Cr=null,this.Lr=null,this.Ar=null,this.vr=null,this.Or=null,this.Tr=null,this.Dr=null,this.Fr=null,this.I0=null,this.E0=null,this.Rr=null,this.U0=null,this.B0=null,this.V0=null,this.z0=null,this.Ir=null,this.Er=null,this.k0=null,this.D0=null,this.ws=null,this.pr=B.sc,this.yr=B.Bk,this.$n=1,this.T0=1,this.A0=1,this.gr=0,this.x0=null,this.Y0=null,this.G0="category"}copy(){const e=new Dr;return e.Pt=this.Pt,e.Hn=this.Hn,e.Ci=this.Ci,e.Ys=this.Ys,e.Sl=this.Sl,e.Cr=this.Cr,e.Lr=this.Lr,e.Ar=this.Ar,e.vr=this.vr,e.Or=this.Or,e.Tr=this.Tr,e.Dr=this.Dr,e.Fr=this.Fr,e.I0=this.I0,e.E0=this.E0,e.Rr=this.Rr,e.U0=this.U0,e.B0=this.B0,e.V0=this.V0,e.z0=this.z0,e.Ir=this.Ir,e.Er=this.Er,e.k0=this.k0,e.D0=this.D0,e.ws=this.ws,e.pr=this.pr.P(),e.yr=this.yr.P(),e.$n=this.$n,e.T0=this.T0,e.A0=this.A0,e.gr=this.gr,e.x0=this.x0,e.Y0=this.Y0,e.G0=this.G0,e}}class mo{m;constructor(){this.m=[1,0,0,1,0,0]}copy(){const e=new mo;return e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5],e}translate(e,n){this.m[4]+=this.m[0]*e+this.m[2]*n,this.m[5]+=this.m[1]*e+this.m[3]*n}scale(e,n){this.m[0]*=e,this.m[1]*=e,this.m[2]*=n,this.m[3]*=n}rotate(e,n,o){if(e>=360?e-=360:e<0&&(e+=360),e===0)return;this.translate(n,o);let l=0,c=0;if(e===90)l=0,c=1;else if(e===180)l=-1,c=0;else if(e===270)l=0,c=-1;else{const w=e*Math.PI/180;l=Math.cos(w),c=Math.sin(w)}const h=this.m[0]*l+this.m[2]*c,f=this.m[1]*l+this.m[3]*c,g=this.m[0]*-c+this.m[2]*l,v=this.m[1]*-c+this.m[3]*l;this.m[0]=h,this.m[1]=f,this.m[2]=g,this.m[3]=v,this.translate(-n,-o)}}class yr{type;x1;y1;r1;x2;y2;r2;colors;pattern;constructor(e){this.type=e,this.x1=0,this.y1=0,this.r1=0,this.x2=0,this.y2=0,this.r2=0,this.colors=[],this.pattern=null}addColorStop(e,n){this.colors.push({offset:e,color:n})}}class xr{Tt;li;jr;Gu;T2;constructor(e,n,o){const l=n===void 0?i.document:n;this.jr=l,this.T2="http://www.w3.org/2000/svg";const c="http://www.w3.org/2000/xmlns/";l!==void 0&&(this.Tt=this.makeElement("svg",{width:"1px",height:"1px",viewBox:"0 0 1 1"}),this.style.display="block",this.style.letterSpacing="normal",this.style.wordSpacing="normal",o||(this.style.position="absolute"),this.Tt.setAttributeNS(c,"xmlns",this.T2),this.Tt.setAttributeNS(c,"xmlns:xlink","http://www.w3.org/1999/xlink")),this.Gu=null,this.li=new Ni(this,o)}resize(e,n,o,l){return this.width!==e||this.height!==n?(this.width=e,this.height=n,this.style.width=o+"px",this.style.height=l+"px",this.Tt.setAttributeNS(null,"width",o+"px"),this.Tt.setAttributeNS(null,"height",l+"px"),this.Tt.setAttributeNS(null,"viewBox","0 0 "+o+" "+l),this.li.D2.firstElementChild.setAttributeNS(null,"width",o+"px"),this.li.D2.firstElementChild.setAttributeNS(null,"height",l+"px"),!0):!1}makeElement(e,n,o){const l=this.jr.createElementNS(this.T2,e);if(t.G(n))for(const c in n)l.setAttributeNS(c==="href"?"http://www.w3.org/1999/xlink":"",c,n[c]);return o!==void 0&&(l.textContent=o),l}getBoundingClientRect(){return this.Tt.getBoundingClientRect()}focus(){this.Tt.focus()}get width(){return this.Tt.width.baseVal.value}set width(e){this.Tt.setAttribute("width",e+"px")}get height(){return this.Tt.height.baseVal.value}set height(e){this.Tt.setAttribute("height",e+"px")}dispose(){this.jr=null}get style(){return this.Tt.style}}class Ni{nf;of;un;Li;ze;fillStyle;font;globalAlpha;lineCap;lineDashOffset;lineJoin;lineWidth;miterLimit;shadowBlur;shadowColor;shadowOffsetX;shadowOffsetY;strokeStyle;textAlign;imageSmoothingEnabled;clipInsteadOfFill;lastCreatedElement;rf;lf;surface;svg;D2;TA;qb;Io;ph;Ma;currentElement;clipPathGroup;diagramGroup;lastDrawnPart;currentPath;outerGroup;pathAttributes;Zr;kr;filter;partClipRect;constructor(e,n){if(this.surface=e,this.svg=e.Tt,this.rf=[],this.lf=[],this.fillStyle="#000000",this.font="10px sans-serif",this.globalAlpha=1,this.lineCap="butt",this.lineDashOffset=0,this.lineJoin="miter",this.lineWidth=1,this.miterLimit=10,this.shadowBlur=0,this.shadowColor="rgba(0, 0, 0, 0)",this.shadowOffsetX=0,this.shadowOffsetY=0,this.Zr=!1,this.strokeStyle="#000000",this.textAlign="start",this.clipInsteadOfFill=!1,this.nf=0,this.of=0,this.un=0,this.lastCreatedElement=null,this.currentElement=null,this.Li=[],this.pathAttributes={},this.qb=!1,this.Io=null,this.ph=0,this.ze=new mo,e.jr===null||e.jr===void 0)return;this.clipPathGroup=this.newGroup2(),this.diagramGroup=this.newGroup2("gojs-diagram"),this.lastDrawnPart=null,this.currentPath=null;const o=b.mw++,l=this.makeElement("clipPath",{id:"mainClip"+o}),c={x:0,y:0,width:e.width,height:e.height};l.appendChild(this.makeElement("rect",c)),this.D2=l,this.svg.appendChild(this.clipPathGroup),this.clipPathGroup.appendChild(this.diagramGroup),this.svg.appendChild(l),this.clipPathGroup.setAttributeNS(null,"clip-path","url(#mainClip"+o+")"),this.TA={},this.kr=!!n,this.filter="",this.partClipRect=null}setDiagramPosScale(e,n,o,l,c,h){this.diagramGroup===void 0?this.newGroup(e,n,o,l,c,h):this.diagramGroup.setAttribute("transform","matrix("+e+", "+n+", "+o+", "+l+", "+c+", "+h+")")}resetInnerSVG(){this.diagramGroup!==null&&(this.diagramGroup.innerHTML="")}arc(e,n,o,l,c,h,f,g){const v=2*Math.PI,w=1e-6,k=v-w,P=o*Math.cos(l),N=o*Math.sin(l),F=e+P,H=n+N,V=h?0:1;let $=h?l-c:c-l;(Math.abs(f-F)>w||Math.abs(g-H)>w)&&this.Li.push(["L",F,+H]),$<0&&($=$%v+v),$>k?(this.Li.push(["A",o,o,0,1,V,e-P,n-N]),this.Li.push(["A",o,o,0,1,V,F,H])):$>w&&this.Li.push(["A",o,o,0,+($>=Math.PI),V,e+o*Math.cos(c),n+o*Math.sin(c)])}beginPath(){this.Li=[],this.pathAttributes={stroke:"none",fill:"none"}}endPath(e){this.ov(this.Li,this.ze,e||0)}bezierCurveTo(e,n,o,l,c,h){this.Li.push(["C",e,n,o,l,c,h])}clearRect(e,n,o,l){}clip(){this.pathAttributes.clipPath=!0}closePath(){this.Li.push(["z"])}createLinearGradient(e,n,o,l){const c=new yr("linear");return c.x1=e,c.y1=n,c.x2=o,c.y2=l,c}createPattern(e,n){let o="";e instanceof HTMLCanvasElement&&(o=e.toDataURL()),e instanceof HTMLImageElement&&(o=e.getAttribute("src"));const l=this.TA;if(l[o])return"url(#"+l[o]+")";const c="PATTERN"+b.mw++,h={width:e.width,height:e.height,id:c,patternUnits:"userSpaceOnUse"},f={x:0,y:0,width:e.width,height:e.height,href:o},g=this.makeElement("pattern",h);return g.appendChild(this.makeElement(Te.img,f)),this.svg.appendChild(g),l[o]=c,"url(#"+c+")"}createRadialGradient(e,n,o,l,c,h){const f=new yr("radial");return f.x1=e,f.y1=n,f.r1=o,f.x2=l,f.y2=c,f.r2=h,f}amendImageTransform(e,n,o,l,c,h,f,g){const v=f/o,w=g/l;(c!==0||h!==0)&&this.ze.translate(c,h),(v!==1||w!==1)&&this.ze.scale(v,w),(e!==0||n!==0)&&this.ze.translate(-e,-n)}drawImage(e,n,o,l,c,h,f,g,v){let w="";e instanceof HTMLCanvasElement&&(w=e.toDataURL()),e instanceof HTMLImageElement&&(w=e.getAttribute("src"));const k=e instanceof HTMLImageElement?e.naturalWidth:e.width,P=e instanceof HTMLImageElement?e.naturalHeight:e.height;l===void 0&&(h=n,f=o,g=l=k,v=c=P),l=l||0,c=c||0,h=h||0,f=f||0,g=g||0,v=v||0,this.amendImageTransform(n,o,l,c,h,f,g,v);const N={x:0,y:0,width:k||l,height:P||c,href:w};!I.z(l,g)||!I.z(c,v)?N.preserveAspectRatio="none":w.toLowerCase().indexOf(".svg")===-1&&w.toLowerCase().indexOf("data:image/svg")===-1&&(N.preserveAspectRatio="xMidYMid slice"),(n!==0||o!==0||l!==k||c!==P)&&(l+=n,c+=o,N["clip-path"]=`path('M ${n},${o} L ${l} ${o} L ${l} ${c} L ${n} ${c} z')`),this.processCommon(Te.img,N,this.ze),this._u(Te.img,N)}fill(e,n){e&&(this.pathAttributes["fill-rule"]="evenodd"),this.setFill(this.pathAttributes)}fillContext(e,n,o){this.clipInsteadOfFill?this.clip():this.fill(n,o)}createOrUpdateClipGroup(e,n){const o=this.newGroup(1,0,0,1,-n.x,-n.y);o.setAttributeNS(null,"class","spotClip"),e.ah=o}fillRect(e,n,o,l){this.addRect("fill",[e,n,o,l],this.ze)}fillBackground(e,n,o,l){const c={x:e,y:n,width:o,height:l};this.processCommon("fill",c,this.ze),this.setFill(c),this.svg.prepend(this.makeElement("rect",c))}fillText(e,n,o){this.addText("fill",[e,n,o],this.ze)}lineTo(e,n){this.Li.push(["L",e,n])}moveTo(e,n){this.Li.push(["M",e,n])}quadraticCurveTo(e,n,o,l){this.Li.push(["Q",e,n,o,l])}rect(e,n,o,l){this.Li.push(["M",e,n],["L",e+o,n],["L",e+o,n+l],["L",e,n+l],["z"])}restore(){this.ze=this.rf.pop(),this.Li=this.rf.pop();const e=this.rf.pop();this.fillStyle=e.fillStyle,this.font=e.font,this.globalAlpha=e.globalAlpha,this.lineCap=e.lineCap,this.lineDashOffset=e.lineDashOffset,this.lineJoin=e.lineJoin,this.lineWidth=e.lineWidth,this.miterLimit=e.miterLimit,this.shadowBlur=e.shadowBlur,this.shadowColor=e.shadowColor,this.shadowOffsetX=e.shadowOffsetX,this.shadowOffsetY=e.shadowOffsetY,this.strokeStyle=e.strokeStyle,this.textAlign=e.textAlign,this.partClipRect=e.partClipRect}save(){const e={fillStyle:this.fillStyle,font:this.font,globalAlpha:this.globalAlpha,lineCap:this.lineCap,lineDashOffset:this.lineDashOffset,lineJoin:this.lineJoin,lineWidth:this.lineWidth,miterLimit:this.miterLimit,shadowBlur:this.shadowBlur,shadowColor:this.shadowColor,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,strokeStyle:this.strokeStyle,textAlign:this.textAlign,partClipRect:this.partClipRect};this.rf.push(e);const n=[];for(let o=0;o<this.Li.length;o++)n.push(this.Li[o]);this.rf.push(n),this.rf.push(this.ze.copy())}setTransform(e,n,o,l,c,h){e===1&&n===0&&o===0&&l===1&&c===0&&h===0||this.newGroup(e,n,o,l,c,h)}setCurrentTransform(e,n,o,l,c,h){this.ze.m=[e,n,o,l,c,h]}getCurrentTransform(){const e=this.ze.m;return"matrix("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}scale(e,n){this.ze.scale(e,n)}translate(e,n){this.ze.translate(e,n)}transform(e,n,o,l,c,h){}commitTransform(){}stroke(){this.setStroke(this.pathAttributes)}strokeContext(){this.clipInsteadOfFill||this.stroke()}strokeRect(e,n,o,l){this.addRect("stroke",[e,n,o,l],this.ze)}makeElement(e,n,o){return this.surface.makeElement(e,n,o)}_u(e,n,o){const l=this.makeElement(e,n,o);return this.currentElement!==null?this.currentElement.appendChild(l):this.currentElement=l,this.lastCreatedElement=l,l}processCommon(e,n,o){if(e==="fill"?this.setFill(n):e==="stroke"&&this.setStroke(n),o!==null){const l=o.m;n.transform="matrix("+l[0]+", "+l[1]+", "+l[2]+", "+l[3]+", "+l[4]+", "+l[5]+")"}}setFill(e){if(this.fillStyle instanceof yr){e.fill=this.addGradient(this.fillStyle,!0);return}if(/^rgba\(/.test(this.fillStyle)){const n=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(this.fillStyle);e.fill="rgb("+n[1]+","+n[2]+","+n[3]+")",e["fill-opacity"]=n[4]}else e.fill=this.fillStyle}setFillOrStrokeInPlace(e,n){const o=n?"fill":"stroke";if(this.fillStyle instanceof yr){e.setAttributeNS(null,"fill",this.addGradient(this.fillStyle,!0));return}if(/^rgba\(/.test(this.fillStyle)){const l=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(this.fillStyle);e.setAttributeNS(null,o,"rgb("+l[1]+","+l[2]+","+l[3]+")"),e.setAttributeNS(null,o+"-opacity",l[4])}else e.setAttributeNS(null,o,this.fillStyle)}setStroke(e){if(this.strokeStyle instanceof yr)e.stroke=this.addGradient(this.strokeStyle,!1);else if(/^rgba\(/.test(this.strokeStyle)){const n=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(this.strokeStyle);e.stroke="rgb("+n[1]+","+n[2]+","+n[3]+")",e["stroke-opacity"]=n[4]}else e.stroke=this.strokeStyle;e["stroke-width"]=this.lineWidth,e["stroke-linecap"]=this.lineCap,e["stroke-linejoin"]=this.lineJoin,e["stroke-miterlimit"]=this.miterLimit,this.qb&&(e["stroke-dasharray"]=this.Io.toString(),e["stroke-dashoffset"]=this.ph)}addGradient(e,n){let o="";const l=this.currentPath!==null?this.currentPath.getAttribute(n?"fill":"stroke"):null;if(l!==null&&l.indexOf("GRAD")!==-1){o=l.split("#")[1].slice(0,-1);const v=this.svg.getElementById(o);v!==null&&v.remove()}else o="GRAD"+b.mw++;let c;if(e.type==="linear"){const v={x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,id:o,gradientUnits:"userSpaceOnUse"};c=this.makeElement("linearGradient",v)}else if(e.type==="radial"){const v={x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,r1:e.r1,r2:e.r2,id:o};c=this.makeElement("radialGradient",v)}else t.o("invalid gradient");const h=e.colors,f=h.length,g=[];for(let v=0;v<f;v++){const w=h[v],k=w.color,P={offset:w.offset,"stop-color":k};if(/^rgba\(/.test(k)){const N=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(k);P["stop-color"]="rgb("+N[1]+","+N[2]+","+N[3]+")",P["stop-opacity"]=N[4]}g.push(P)}g.sort((v,w)=>v.offset>w.offset?1:-1);for(let v=0;v<f;v++)c.appendChild(this.makeElement("stop",g[v]));return this.svg.appendChild(c),"url(#"+o+")"}addRect(e,n,o){const l={x:n[0],y:n[1],width:n[2],height:n[3]};this.processCommon(e,l,o),this._u("rect",l)}addText(e,n,o){let l=this.textAlign;l==="left"?l="start":l==="right"?l="end":l==="center"&&(l="middle");const c={x:n[1],y:n[2],style:"font: "+this.font,"text-anchor":l};this.processCommon(e,c,o),this._u("text",c,n[0])}ov(e,n,o){const l=this.rv(e),c=this.pathAttributes;if(c.clipPath){this.lf.length>1&&this.lf[this.lf.length-2].setAttributeNS(null,"clip-path",'path("'+l+'") view-box');return}if(c.d=l,this.processCommon("",c,n),this.currentPath!==null){const h=this.currentPath;if(h.nodeName!=="g")for(const f in c)f!=="transform"&&h.setAttributeNS(null,f,c[f]);else{const f=h.getElementsByTagName("path");for(const g in c)g!=="transform"&&f[o].setAttributeNS(null,g,c[g])}}else this._u("path",c)}rv(e){const n=[];for(let o=0;o<e.length;o++){const l=e[o].slice(),c=[l.shift()];if(c[0]==="A")c.push(l.shift()+","+l.shift(),l.shift(),l.shift()+","+l.shift(),l.shift()+","+l.shift());else for(;l.length;)c.push(l.shift()+","+l.shift());n.push(c.join(" "))}return n.join(" ")}newGroup(e,n,o,l,c,h){const f=new mo;f.m=[e,n,o,l,c,h];const g={};this.processCommon("g",g,f);const v=this._u("g",g);return this.lf.push(v),v}newGroup2(e){const n={};e&&(n.class=e);const o=this._u("g",n);return this.lf.push(o),o}endGroup(){return this.lf.pop()}dummyGroup(){return this.newGroup2(),this.endGroup()}shadowsSet(e,n,o){this.nf=e,this.of=n,this.un=o}shadowsOff(){this.Zr=!1,this.shadowOffsetX=0,this.shadowOffsetY=0,this.shadowBlur=0}shadowsOn(){this.Zr=!0,this.shadowOffsetX=this.nf,this.shadowOffsetY=this.of,this.shadowBlur=this.un}enableDash(e,n){this.qb=!0,this.Io=e,this.ph=n}disableDash(){this.qb=!1}clearContextCache(e){}setImageSmoothingEnabled(e){}rotate(e){this.ze.rotate(e*57.2958,0,0)}getImageData(e,n,o,l){return null}measureText(e){return null}removeOldGradient(e,n,o){const l=n.getAttribute(o);if(l===null)return;const c=l.split("#");if(c.length===1)return;const h=this.svg.getElementById(c[1].slice(0,-1));if(h!==null){const f=new RegExp(h.id,"g");this.svg.innerHTML.match(f).length===1&&h.remove()}}removePartFromView(e){e.svg!==null&&e.svg.parentNode===this.diagramGroup&&e.svg.remove()}}class Ts{Tt;li;jr;Gu;constructor(e,n,o,l){const c=n===void 0?i.document:n;this.jr=c,this.Gu=null;const h=c.createElement("canvas");h.tabIndex=0,this.Tt=h,this.li=new yo(h,o,l),Te.Qe.set(h,e)}resize(e,n,o,l){return this.width!==e||this.height!==n?(this.width=e,this.height=n,this.style.width=o+"px",this.style.height=l+"px",!0):!1}toDataURL(e,n){return this.Tt.toDataURL(e,n)}getBoundingClientRect(){return this.Tt.getBoundingClientRect()}focus(){this.Tt.focus()}get width(){return this.Tt.width}set width(e){this.Tt.width=e}get height(){return this.Tt.height}set height(e){this.Tt.height=e}dispose(){Te.Qe.delete(this.Tt),this.jr=null}get style(){return this.Tt.style}}class yo{E;Wb;Jb;$b;clipInsteadOfFill;nf;of;un;Ma;Zr;kr;constructor(e,n,o){this.E=e.getContext?e.getContext("2d",n):null,this.E===null&&t.o("Browser does not support HTML Canvas Element"),this.Wb="",this.Jb="",this.$b="",this.clipInsteadOfFill=!1,this.nf=0,this.of=0,this.un=0,this.Zr=!1,this.Ma=new U,this.kr=!!o}createOrUpdateClipGroup(e,n){}setImageSmoothingEnabled(e){this.E.imageSmoothingEnabled=e}get fillStyle(){return this.E.fillStyle}set fillStyle(e){this.$b!==e&&(this.E.fillStyle=e,this.$b=e)}get font(){return this.E.font}set font(e){this.Wb!==e&&(this.E.font=e,this.Wb=e)}get globalAlpha(){return this.E.globalAlpha}set globalAlpha(e){this.E.globalAlpha=e}get lineCap(){return this.E.lineCap}set lineCap(e){this.E.lineCap=e}get lineDashOffset(){return this.E.lineDashOffset}set lineDashOffset(e){this.E.lineDashOffset=e}get lineJoin(){return this.E.lineJoin}set lineJoin(e){this.E.lineJoin=e}get lineWidth(){return this.E.lineWidth}set lineWidth(e){this.E.lineWidth=e}get miterLimit(){return this.E.miterLimit}set miterLimit(e){this.E.miterLimit=e}get shadowBlur(){return this.E.shadowBlur}set shadowBlur(e){this.E.shadowBlur=e}get shadowColor(){return this.E.shadowColor}set shadowColor(e){this.E.shadowColor=e}get shadowOffsetX(){return this.E.shadowOffsetX}set shadowOffsetX(e){this.E.shadowOffsetX=e}get shadowOffsetY(){return this.E.shadowOffsetY}set shadowOffsetY(e){this.E.shadowOffsetY=e}get strokeStyle(){return this.E.strokeStyle}set strokeStyle(e){this.Jb!==e&&(this.E.strokeStyle=e,this.Jb=e)}get textAlign(){return this.E.textAlign}set textAlign(e){this.E.textAlign=e}get imageSmoothingEnabled(){return this.E.imageSmoothingEnabled}set imageSmoothingEnabled(e){this.E.imageSmoothingEnabled=e}get filter(){return this.E.filter}set filter(e){e===""?this.E.filter="none":this.E.filter=e}arc(e,n,o,l,c,h,f,g){this.E.arc(e,n,o,l,c,h)}beginPath(){this.E.beginPath()}endPath(){}bezierCurveTo(e,n,o,l,c,h){this.E.bezierCurveTo(e,n,o,l,c,h)}clearRect(e,n,o,l){this.commitTransform(),this.E.clearRect(e,n,o,l)}clip(e){e?this.E.clip(e):this.E.clip()}closePath(){this.E.closePath()}createLinearGradient(e,n,o,l){return this.E.createLinearGradient(e,n,o,l)}createPattern(e,n){return this.E.createPattern(e,n)}createRadialGradient(e,n,o,l,c,h){return this.E.createRadialGradient(e,n,o,l,c,h)}drawImage(e,n,o,l,c,h,f,g,v){l===void 0?this.E.drawImage(e,n,o):this.E.drawImage(e,n,o,l,c,h,f,g,v)}fill(e,n){n?this.E.fill(n,e?"evenodd":"nonzero"):this.E.fill(e?"evenodd":"nonzero")}fillRect(e,n,o,l){this.E.fillRect(e,n,o,l)}fillBackground(e,n,o,l){this.E.fillRect(e,n,o,l)}fillText(e,n,o){this.E.fillText(e,n,o)}getImageData(e,n,o,l){return this.E.getImageData(e,n,o,l)}lineTo(e,n){this.E.lineTo(e,n)}measureText(e){return this.E.measureText(e)}moveTo(e,n){this.E.moveTo(e,n)}quadraticCurveTo(e,n,o,l){this.E.quadraticCurveTo(e,n,o,l)}rect(e,n,o,l){this.E.rect(e,n,o,l)}restore(){this.E.restore()}save(){this.commitTransform(),this.E.save()}rotate(e){this.Ma.cs(e*57.2958,0,0)}setTransform(e,n,o,l,c,h){this.Ma.setTo(e,n,o,l,c,h)}scale(e,n){this.Ma.tt(e,n)}translate(e,n){this.Ma.Fs(e,n)}stroke(e){e?this.E.stroke(e):this.E.stroke()}transform(e,n,o,l,c,h){if(e===1&&n===0&&o===0&&l===1&&c===0&&h===0)return;const f=this.Ma,g=f.m11*e+f.m21*n,v=f.m12*e+f.m22*n,w=f.m11*o+f.m21*l,k=f.m12*o+f.m22*l;f.dx=f.m11*c+f.m21*h+f.dx,f.dy=f.m12*c+f.m22*h+f.dy,f.m11=g,f.m12=v,f.m21=w,f.m22=k}commitTransform(){const e=this.Ma;this.E.setTransform(e.m11,e.m12,e.m21,e.m22,e.dx,e.dy)}fillContext(e,n,o){this.radialFill(e,n,o)||this.fillOrClip(n,o)}radialFill(e,n,o){if(!(e instanceof Ae)||e.type!==3)return!1;const l=e._c,c=e.Gb;return c>l?(this.scale(l/c,1),this.translate((c-l)/2,0)):l>c&&(this.scale(1,c/l),this.translate(0,(l-c)/2)),this.fillOrClip(n,o),c>l?(this.translate(-(c-l)/2,0),this.scale(1/(l/c),1)):l>c&&(this.translate(0,-(l-c)/2),this.scale(1,1/(c/l))),!0}strokeContext(){this.clipInsteadOfFill||this.stroke()}fillOrClip(e,n){this.clipInsteadOfFill?this.clip(n):this.fill(e,n)}shadowsSet(e,n,o){this.nf=e,this.of=n,this.un=o}shadowsOff(){this.Zr=!1,this.shadowOffsetX=0,this.shadowOffsetY=0,this.shadowBlur=0}shadowsOn(){this.Zr=!0,this.shadowOffsetX=this.nf,this.shadowOffsetY=this.of,this.shadowBlur=this.un}enableDash(e,n){const o=this.E;o.setLineDash!==void 0&&(o.setLineDash(e),o.lineDashOffset=n)}disableDash(){const e=this.E;e.setLineDash!==void 0&&(e.setLineDash(yo.EmptyArray),e.lineDashOffset=0)}clearContextCache(e){e&&(this.Wb=""),this.Jb="",this.$b=""}removePartFromView(e){}static EmptyArray=Object.freeze([])}var Fs=(G=>(G[G.Solid=1]="Solid",G[G.Linear=2]="Linear",G[G.Radial=3]="Radial",G[G.Pattern=4]="Pattern",G))(Fs||{}),ha=(G=>(G[G.Lab=1]="Lab",G[G.HSL=2]="HSL",G[G.Oklch=3]="Oklch",G))(ha||{});class Xo{n0;n1;n2;n3;constructor(){this.n0=0,this.n1=0,this.n2=0,this.n3=0}}class Ae{h;H;Na;ei;gs;K0;j0;Eo;H0;cn;_c;Gb;constructor(e,n){if(b.Ki(this),this.h=!1,e===void 0)this.H=1,this.Na="black";else if(typeof e=="string"){const l=t.Uh(Fs,e);l!==null?(this.H=l,this.Na="black"):(this.H=1,this.Na=e)}else Object.keys(Fs).hasOwnProperty(e)?(this.H=e,this.Na="black"):typeof e=="object"&&(this.H=1,n=e);const o=this.H;if(o===2?(this.ei=L.TopCenter,this.gs=L.BottomCenter):o===3?(this.ei=L.Center,this.gs=L.Center):(this.ei=L.None,this.gs=L.None),this.K0=0,this.j0=NaN,this.Eo=null,this.H0=null,this.cn=null,this._c=0,this.Gb=0,n){const l={};for(const c in n)isFinite(parseFloat(c))?this.addColorStop(parseFloat(c),n[c]):l[c]=n[c];Object.assign(this,l)}}copy(){const e=new Ae;return e.H=this.H,e.Na=this.Na,e.ei=this.ei.P(),e.gs=this.gs.P(),e.K0=this.K0,e.j0=this.j0,this.Eo!==null&&(e.Eo=this.Eo.copy()),e.H0=this.H0,e}u(){return this.h=!0,this.Eo!==null&&this.Eo.u(),this}oi(e){e in Fs?this.type=e:t.er(this,e)}toString(){let e="Brush(";if(this.type===1)e+=this.color;else if(this.type===2?e+="Linear ":this.type===3?e+="Radial ":this.type===4?e+="Pattern ":e+="(unknown) ",e+=this.start+" "+this.end,this.colorStops!==null){const n=this.colorStops.iterator;for(;n.next();){const o=n.key,l=n.value;e+=" "+o+":"+l}}return e+=")",e}addColorStop(e,n){return this.h&&t.L(this),(typeof e!="number"||!isFinite(e)||e>1||e<0)&&t.W(e,"0 <= loc <= 1",Ae,"addColorStop:loc"),t.s(n,"string",Ae,"addColorStop:color"),this.Eo===null&&(this.Eo=new _),this.Eo.set(e,n),this.H===1&&(this.type=2),this.cn=null,this}get type(){return this.H}set type(e){this.h&&t.L(this,e),this.H=e,this.start.isNoSpot()&&(e===2?this.start=L.TopCenter:e===3&&(this.start=L.Center)),this.end.isNoSpot()&&(e===2?this.end=L.BottomCenter:e===3&&(this.end=L.Center)),this.cn=null}get color(){return this.Na}set color(e){this.h&&t.L(this,e),this.Na=e,this.cn=null}get start(){return this.ei}set start(e){this.h&&t.L(this,e),this.ei=e.P(),this.cn=null}get end(){return this.gs}set end(e){this.h&&t.L(this,e),this.gs=e.P(),this.cn=null}get startRadius(){return this.K0}set startRadius(e){this.h&&t.L(this,e),e<0&&t.W(e,">= zero",Ae,"startRadius"),this.K0=e,this.cn=null}get endRadius(){return this.j0}set endRadius(e){this.h&&t.L(this,e),e<0&&t.W(e,">= zero",Ae,"endRadius"),this.j0=e,this.cn=null}get colorStops(){return this.Eo}set colorStops(e){this.h&&t.L(this,e),this.Eo=e,this.cn=null}get pattern(){return this.H0}set pattern(e){this.h&&t.L(this,e),this.H0=e,this.cn=null}static randomColor(e,n){e===void 0&&(e=128),n===void 0&&(n=Math.max(e,255));const o=Math.abs(n-e);let l=Math.floor(e+Math.random()*o).toString(16),c=Math.floor(e+Math.random()*o).toString(16),h=Math.floor(e+Math.random()*o).toString(16);return l.length<2&&(l="0"+l),c.length<2&&(c="0"+c),h.length<2&&(h="0"+h),"#"+l+c+h}static isValidColor(e){return i.CSS?i.CSS.supports("color",e):!0}static lighten(e){return Ae.lightenBy(e)}lightenBy(e,n){this.h&&t.L(this);const o=e===void 0||typeof e!="number"?.2:e,l=n===void 0?3:n;if(this.type===1)Ae.No(this.color),this.color=Ae.td(o,l);else if((this.type===2||this.type===3)&&this.colorStops!==null){const c=this.colorStops.iterator;for(;c.next();)Ae.No(c.value),this.addColorStop(c.key,Ae.td(o,l))}return this}static lightenBy(e,n,o){const l=n===void 0||typeof n!="number"?.2:n,c=o===void 0?3:o;return Ae.No(e),Ae.td(l,c)}static darken(e){return Ae.darkenBy(e)}darkenBy(e,n){this.h&&t.L(this);const o=e===void 0||typeof e!="number"?.2:e,l=n===void 0?3:n;if(this.type===1)Ae.No(this.color),this.color=Ae.td(-o,l);else if((this.type===2||this.type===3)&&this.colorStops!==null){const c=this.colorStops.iterator;for(;c.next();)Ae.No(c.value),this.addColorStop(c.key,Ae.td(-o,l))}return this}static darkenBy(e,n,o){const l=n===void 0||typeof n!="number"?.2:n,c=o===void 0?3:o;return Ae.No(e),Ae.td(-l,c)}static mix(e,n,o){Ae.No(e);const l=Ae.Y.n0,c=Ae.Y.n1,h=Ae.Y.n2,f=Ae.Y.n3;Ae.No(n),o===void 0&&(o=.5);const g=Math.round((Ae.Y.n0-l)*o+l),v=Math.round((Ae.Y.n1-c)*o+c),w=Math.round((Ae.Y.n2-h)*o+h),k=Math.round((Ae.Y.n3-f)*o+f);return`rgba(${g}, ${v}, ${w}, ${k})`}isDark(){if(this.type===1)return Ae.isDark(this.color);if((this.type===2||this.type===3)&&this.colorStops!==null){const e=this.colorStops;if(this.type===3)return Ae.isDark(e.first().value);if(e.get(.5)!==null)return Ae.isDark(e.get(.5));if(e.count===2){const g=e.toArray();return Ae.isDark(Ae.mix(g[0].value,g[1].value))}const n=e.iterator;let o=-1,l=-1,c=1,h=1;for(;n.next();){const g=n.key,v=Math.abs(.5-n.key);c>h&&v<c?(o=g,c=v):h>=c&&v<h&&(l=g,h=v)}if(o>l){let g=o;o=l,l=g,g=c,c=h,h=g}const f=l-o;return Ae.isDark(Ae.mix(e.get(o),e.get(l),1-h/f))}return!1}static isDark(e){return e?e instanceof Ae?e.isDark():(Ae.No(e),(299*Ae.Y.n0+587*Ae.Y.n1+114*Ae.Y.n2)/1e3<128):!1}static td(e,n){switch(n){case 1:return Ae.lv(),Ae.Zn.n0=Math.min(100,Math.max(0,Ae.Zn.n0+100*e)),Ae.hv(),"rgba("+Ae.Y.n0+", "+Ae.Y.n1+", "+Ae.Y.n2+", "+Ae.Y.n3+")";case 2:return Ae.jS(),Ae.Ii.n2=Math.min(100,Math.max(0,Ae.Ii.n2+100*e)),"hsla("+Ae.Ii.n0+", "+Ae.Ii.n1+"%, "+Ae.Ii.n2+"%, "+Ae.Ii.n3+")";case 3:return Ae.av(),Ae.Qn.n0=Math.min(100,Math.max(0,Ae.Qn.n0+100*e)),Ae.cv(),"rgba("+Ae.Y.n0+", "+Ae.Y.n1+", "+Ae.Y.n2+", "+Ae.Y.n3+")";default:t.o("Unknown color space: "+n)}}static No(e){Ae.q0===!1&&(Ae.q0=!0,Ae._n=Te.isUsingDOM()?new Ts(null,void 0,{willReadFrequently:!0}).li:null);const n=Ae._n;if(n===null)return;n.clearRect(0,0,1,1),n.fillStyle="#000000";const o=n.fillStyle;if(n.fillStyle=e,n.fillStyle!==o){n.fillRect(0,0,1,1);const l=n.getImageData(0,0,1,1).data;Ae.Y.n0=l[0],Ae.Y.n1=l[1],Ae.Y.n2=l[2],Ae.Y.n3=l[3]/255}else n.fillStyle="#FFFFFF",n.fillStyle,n.fillStyle=e,n.fillStyle,Ae.Y.n0=0,Ae.Y.n1=0,Ae.Y.n2=0,Ae.Y.n3=1}static jS(){const e=Ae.Y.n0/255,n=Ae.Y.n1/255,o=Ae.Y.n2/255,l=Math.max(e,n,o),c=Math.min(e,n,o),h=l-c;let f,g;const v=(l+c)/2;if(h===0)f=g=0;else{switch(l){case e:f=(n-o)/h%6;break;case n:f=(o-e)/h+2;break;case o:f=(e-n)/h+4;break}f*=60,f<0&&(f+=360),g=h/(1-Math.abs(2*v-1))}Ae.Ii.n0=Math.round(f),Ae.Ii.n1=Math.round(g*100),Ae.Ii.n2=Math.round(v*100),Ae.Ii.n3=Ae.Y.n3}static DE(){const e=Ae.Ii.n0,n=Ae.Ii.n1/100,o=Ae.Ii.n2/100;let l,c,h;const f=(1-Math.abs(2*o-1))*n,g=e/60,v=f*(1-Math.abs(g%2-1));g>=0&&g<1?(l=f,c=v,h=0):g>=1&&g<2?(l=v,c=f,h=0):g>=2&&g<3?(l=0,c=f,h=v):g>=3&&g<4?(l=0,c=v,h=f):g>=4&&g<5?(l=v,c=0,h=f):g>=5&&g<6&&(l=f,c=0,h=v);const w=o-.5*f;l+=w,c+=w,h+=w,Ae.Y.n0=Math.round(l*255),Ae.Y.n1=Math.round(c*255),Ae.Y.n2=Math.round(h*255),Ae.Y.n3=Ae.Ii.n3}static lv(){Ae.DA(),Ae.fv()}static hv(){Ae.uv(),Ae.FA()}static F2(e){return e/=255,e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}static R2(e){return e<=.0031308?e*12.92:1.055*Math.pow(e,1/2.4)-.055}static DA(){const e=Ae.F2(Ae.Y.n0),n=Ae.F2(Ae.Y.n1),o=Ae.F2(Ae.Y.n2);Ae.Dt.n0=.4124564*e+.3575761*n+.1804375*o,Ae.Dt.n1=.2126729*e+.7151522*n+.072175*o,Ae.Dt.n2=.0193339*e+.119192*n+.9503041*o,Ae.Dt.n3=Ae.Y.n3}static FA(){const e=3.2404542*Ae.Dt.n0+-1.5371385*Ae.Dt.n1+-.4985314*Ae.Dt.n2,n=-.969266*Ae.Dt.n0+1.8760108*Ae.Dt.n1+.041556*Ae.Dt.n2,o=.0556434*Ae.Dt.n0+-.2040259*Ae.Dt.n1+1.0572252*Ae.Dt.n2;Ae.Y.n0=Ae.R2(e)*255,Ae.Y.n1=Ae.R2(n)*255,Ae.Y.n2=Ae.R2(o)*255,Ae.Y.n3=Ae.Dt.n3,Ae.Y.n0=Math.round(Ae.Y.n0),Ae.Y.n0>255?Ae.Y.n0=255:Ae.Y.n0<0&&(Ae.Y.n0=0),Ae.Y.n1=Math.round(Ae.Y.n1),Ae.Y.n1>255?Ae.Y.n1=255:Ae.Y.n1<0&&(Ae.Y.n1=0),Ae.Y.n2=Math.round(Ae.Y.n2),Ae.Y.n2>255?Ae.Y.n2=255:Ae.Y.n2<0&&(Ae.Y.n2=0)}static v2=216/24389;static Zb=24389/27;static ed=[95.047,100,108.883];static O2(e){return e>Ae.v2?Math.pow(e,1/3):(Ae.Zb*e+16)/116}static fv(){const e=Ae.O2(Ae.Dt.n0*100/Ae.ed[0]),n=Ae.O2(Ae.Dt.n1*100/Ae.ed[1]),o=Ae.O2(Ae.Dt.n2*100/Ae.ed[2]);Ae.Zn.n0=116*n-16,Ae.Zn.n1=500*(e-n),Ae.Zn.n2=200*(n-o),Ae.Zn.n3=Ae.Dt.n3}static RA(e){const n=e*e*e;return n>Ae.v2?n:(116*e-16)/Ae.Zb}static uv(){const e=(Ae.Zn.n0+16)/116,n=Ae.Zn.n1/500+e,o=e-Ae.Zn.n2/200;Ae.Dt.n0=Ae.ed[0]/100*Ae.RA(n),Ae.Dt.n1=Ae.ed[1]/100*(Ae.Zn.n0>Ae.Zb*Ae.v2?Math.pow(e,3):Ae.Zn.n0/Ae.Zb),Ae.Dt.n2=Ae.ed[2]/100*Ae.RA(o),Ae.Dt.n3=Ae.Zn.n3}static dv(){let e=.8190224*Ae.Dt.n0+.3619062*Ae.Dt.n1+-.1288737*Ae.Dt.n2,n=.03298366*Ae.Dt.n0+.9292868*Ae.Dt.n1+.03614466*Ae.Dt.n2,o=.04817719*Ae.Dt.n0+.2642395*Ae.Dt.n1+.6335478*Ae.Dt.n2;e=Math.cbrt(e),n=Math.cbrt(n),o=Math.cbrt(o),Ae.ai.n0=.2104542*e+.7936177*n+-.004072046*o,Ae.ai.n1=1.977998*e+-2.428592*n+.4505937*o,Ae.ai.n2=.02590403*e+.7827717*n+-.8086757*o,Ae.ai.n3=Ae.Dt.n3,Ae.ai.n0*=100}static gv(){Ae.ai.n0/=100;let e=.9999999*Ae.ai.n0+.3963377*Ae.ai.n1+.2158037*Ae.ai.n2,n=1.000000009*Ae.ai.n0+-.1055613*Ae.ai.n1+-.06385417*Ae.ai.n2,o=1.00000005*Ae.ai.n0+-.08948418*Ae.ai.n1+-1.291485*Ae.ai.n2;e=e**3,n=n**3,o=o**3,Ae.Dt.n0=1.2268798*e+-.5578149*n+.281391*o,Ae.Dt.n1=-.04057576*e+1.112286*n+-.07171106*o,Ae.Dt.n2=-.07637294*e+-.4214933*n+1.586924*o,Ae.Dt.n3=Ae.ai.n3}static mv(){const e=Math.atan2(Ae.ai.n2,Ae.ai.n1)*180/Math.PI;Ae.Qn.n0=Ae.ai.n0,Ae.Qn.n1=Math.sqrt(Ae.ai.n1**2+Ae.ai.n2**2),Ae.Qn.n2=e>=0?e:e+360,Ae.Qn.n3=Ae.ai.n3}static pv(){Ae.ai.n0=Ae.Qn.n0,Ae.ai.n1=Ae.Qn.n1*Math.cos(Ae.Qn.n2*Math.PI/180),Ae.ai.n2=Ae.Qn.n1*Math.sin(Ae.Qn.n2*Math.PI/180),Ae.ai.n3=Ae.Qn.n3}static av(){Ae.DA(),Ae.dv(),Ae.mv()}static cv(){Ae.pv(),Ae.gv(),Ae.FA()}static Qu(e,n){typeof e=="string"||e instanceof Ae||t.o("Value for "+n+" must be a color string or a Brush, not "+e)}static Solid=1;static Linear=2;static Radial=3;static Pattern=4;static Lab=1;static HSL=2;static _n=null;static q0=!1;static Y=new Xo;static Ii=new Xo;static Dt=new Xo;static Zn=new Xo;static ai=new Xo;static Qn=new Xo}class Ln{Pt="Base";static es=new _;static dn(e,n){n.name=e,Ln.es.set(e,n)}get name(){return this.Pt}set name(e){this.Pt=e}constructor(){}get classType(){return Je}measure(e,n,o,l,c,h,f){}measureElement(e,n,o,l,c){e.ht(n,o,l,c)}arrange(e,n,o){}arrangeElement(e,n,o,l,c,h){e.Bt(n,o,l,c,h)}remeasureObject(e){e.tf()}Ui(e,n,o){}}class xo extends Ln{constructor(){super()}measure(e,n,o,l,c,h,f){const g=l.length,v=e.Uo();for(let w=0;w<g;w++){const k=l[w];if(!k.visible&&k!==v)continue;const P=k.margin,N=P.right+P.left,F=P.top+P.bottom;k.ht(n,o,h,f);const H=k.measuredBounds,V=Math.max(H.width+N,0),$=Math.max(H.height+F,0);let K=k.position.x,J=k.position.y;if(isFinite(K)||(K=0),isFinite(J)||(J=0),k instanceof zt&&k.isGeometryPositioned){const Q=k.strokeWidth/2;K-=Q,J-=Q}c.unionNoCheck(K,J,V,$)}}arrange(e,n,o){const l=n.length,c=e.padding,h=o.x-c.left,f=o.y-c.top;for(let g=0;g<l;g++){const v=n[g],w=v.measuredBounds,k=v.margin,P=v.position.x,N=v.position.y;let F=isNaN(P)?-h:P-h,H=isNaN(N)?-f:N-f;if(v instanceof zt&&v.isGeometryPositioned){const V=v.strokeWidth/2;F-=V,H-=V}v.visible&&v.Bt(F+k.left,H+k.top,w.width,w.height)}}}Ln.dn("Position",new xo);class ru extends Ln{constructor(){super()}measure(e,n,o,l,c,h,f){const g=l.length,v=t.et(),w=e.Uo();for(let P=0;P<g;P++){const N=l[P];if(!N.visible&&N!==w)continue;const F=N.zs(!1);if(F!==0&&F!==5){v.push(N);continue}N.ht(1/0,o,0,f);const H=N.margin,V=N.measuredBounds,$=Math.max(V.width+H.right+H.left,0),K=Math.max(V.height+H.top+H.bottom,0);c.Fn(c.width+$,Math.max(c.height,K))}const k=v.length;e.desiredSize.height?o=Math.min(e.desiredSize.height,e.maxSize.height):c.height!==0&&(o=Math.min(c.height,e.maxSize.height));for(let P=0;P<k;P++){const N=v[P];if(!N.visible&&N!==w)continue;const F=N.margin,H=F.right+F.left,V=F.top+F.bottom;N.ht(1/0,o,0,f);const $=N.measuredBounds,K=Math.max($.width+H,0),J=Math.max($.height+V,0);c.width+=K,c.height=Math.max(c.height,J)}t.J(v)}arrange(e,n,o){const l=n.length,c=e.padding,h=c.top,f=e.isOpposite;let g=f?o.width:c.left;for(let v=0;v<l;v++){const w=h,k=n[v];if(!k.visible)continue;const P=k.measuredBounds,N=k.margin,F=N.top+N.bottom,H=h+c.bottom;let V=P.height;const $=k.zs(!1);(isNaN(k.desiredSize.height)&&$===2||$===4)&&(V=Math.max(o.height-F-H,0));const K=V+F+H;let J=k.alignment;J.isDefault()&&(J=e.defaultAlignment),J.isSpot()||(J=L.Center),f&&(g-=P.width+N.left+N.right),k.Bt(g+J.offsetX+N.left,w+J.offsetY+N.top+(o.height*J.y-K*J.y),P.width,V),f||(g+=P.width+N.left+N.right)}}}Ln.dn("Horizontal",new ru);class ou extends Ln{constructor(){super()}measure(e,n,o,l,c,h,f){const g=l.length,v=t.et(),w=e.Uo();for(let P=0;P<g;P++){const N=l[P];if(!N.visible&&N!==w)continue;const F=N.zs(!1);if(F!==0&&F!==4){v.push(N);continue}N.ht(n,1/0,h,0);const H=N.margin,V=N.measuredBounds,$=Math.max(V.width+H.right+H.left,0),K=Math.max(V.height+H.top+H.bottom,0);c.Fn(Math.max(c.width,$),c.height+K)}const k=v.length;e.desiredSize.width?n=Math.min(e.desiredSize.width,e.maxSize.width):c.width!==0&&(n=Math.min(c.width,e.maxSize.width));for(let P=0;P<k;P++){const N=v[P];if(!N.visible&&N!==w)continue;const F=N.margin,H=F.right+F.left,V=F.top+F.bottom;N.ht(n,1/0,h,0);const $=N.measuredBounds,K=Math.max($.width+H,0),J=Math.max($.height+V,0);c.width=Math.max(c.width,K),c.height+=J}t.J(v)}arrange(e,n,o){const l=n.length,c=e.padding,h=c.left,f=e.isOpposite;let g=f?o.height:c.top;for(let v=0;v<l;v++){const w=h,k=n[v];if(!k.visible)continue;const P=k.measuredBounds,N=k.margin,F=N.left+N.right,H=h+c.right;let V=P.width;const $=k.zs(!1);(isNaN(k.desiredSize.width)&&$===2||$===5)&&(V=Math.max(o.width-F-H,0));const K=V+F+H;let J=k.alignment;J.isDefault()&&(J=e.defaultAlignment),J.isSpot()||(J=L.Center),f&&(g-=P.height+N.bottom+N.top),k.Bt(w+J.offsetX+N.left+(o.width*J.x-K*J.x),g+J.offsetY+N.top,V,P.height),f||(g+=P.height+N.bottom+N.top)}}}Ln.dn("Vertical",new ou);class al extends Ln{constructor(){super()}static vA=!1;measure(e,n,o,l,c,h,f){const g=l.length;if(g===0)return;const v=e.findMainElement();let w=v.margin,k=0,P=0;const N=w.right+w.left,F=w.top+w.bottom;v.ht(n,o,h,f);let H=v.measuredBounds,V=H.width,$=H.height,K=Math.max(V+N,0),J=Math.max($+F,0);const Q=e.isClipping;Q&&v.p0()!==0&&!al.vA&&(al.vA=!0,t.ni("Main Shape for Spot Panel with isClipping = true must have a zero strokeWidth: "+e.toString()));const ne=z.V(-w.left,-w.top,K,J);let le=z.V(0,0,V,$);this.I2(v,le,!0),V=le.width,$=le.height;let fe=!0;const we=e.Uo();let ye;for(let ge=0;ge<g;ge++){const me=l[ge];let ke=n,Ce=o;if(me===v||!me.visible&&me!==we)continue;w=me.margin;let Ie=w.left,Be=w.top;switch(k=w.right+w.left,P=w.top+w.bottom,ye=me.zs(!1),ye){case 2:ke=V,Ce=$,k=0,P=0,Ie=0,Be=0;break;case 5:ke=V,k=0,Ie=0;break;case 4:Ce=$,P=0,Be=0;break}me.ht(ke,Ce,0,0),H=me.measuredBounds,K=Math.max(H.width+k,0),J=Math.max(H.height+P,0);let Xe=me.alignment;Xe.isDefault()&&(Xe=e.defaultAlignment),Xe.isSpot()||(Xe=L.Center);let He=me.alignmentFocus;He.isDefault()&&(He=L.Center);let Ke=null;me instanceof Je&&me.to!==""&&(Ke=me.findObject(me.to),Ke===me&&(Ke=null));let Et=le.x-Ie,It=le.y-Be;if(Ke!==null){me.Bt(0,0,H.width,H.height);const bt=Ke.actualBounds,At=T.V(bt.x+(He.x*bt.width-He.offsetX),bt.y+(He.y*bt.height-He.offsetY));for(Ke=Ke.panel;Ke!==me;)Ke.T.gt(At),Ke=Ke.panel;Et+=Xe.x*V+Xe.offsetX-At.x,It+=Xe.y*$+Xe.offsetY-At.y,T.e(At)}else Et+=Xe.x*V+Xe.offsetX-(He.x*H.width+He.offsetX),It+=Xe.y*$+Xe.offsetY-(He.y*H.height+He.offsetY);fe?(fe=!1,c.i(Et,It,K,J)):c.unionNoCheck(Et,It,K,J)}switch(fe?c.a(ne):Q?c.intersect(le.x,le.y,le.width,le.height):c.unionNoCheck(ne.x,ne.y,ne.width,ne.height),z.e(ne),z.e(le),ye=v.stretch,ye===1&&(ye=v.zs(!1)),ye){case 0:return;case 2:if(!isFinite(n)&&!isFinite(o))return;break;case 5:if(!isFinite(n))return;break;case 4:if(!isFinite(o))return;break}H=v.measuredBounds,V=H.width,$=H.height,K=Math.max(V+N,0),J=Math.max($+F,0),w=v.margin,le=z.V(-w.left,-w.top,K,J),this.I2(v,le,!0),V=le.width,$=le.height;for(let ge=0;ge<g;ge++){const me=l[ge];if(me===v||!me.visible&&me!==we)continue;w=me.margin,k=w.right+w.left,P=w.top+w.bottom,H=me.measuredBounds,K=Math.max(H.width+k,0),J=Math.max(H.height+P,0);let ke=me.alignment;ke.isDefault()&&(ke=e.defaultAlignment),ke.isSpot()||(ke=L.Center);let Ce=me.alignmentFocus;Ce.isDefault()&&(Ce=L.Center),fe?(fe=!1,c.i(ke.x*V+ke.offsetX-(Ce.x*H.width+Ce.offsetX)-w.left,ke.y*$+ke.offsetY-(Ce.y*H.height+Ce.offsetY)-w.top,K,J)):c.unionNoCheck(ke.x*V+ke.offsetX-(Ce.x*H.width+Ce.offsetX)-w.left,ke.y*$+ke.offsetY-(Ce.y*H.height+Ce.offsetY)-w.top,K,J)}fe?c.a(ne):Q?c.intersect(le.x,le.y,le.width,le.height):c.unionNoCheck(ne.x,ne.y,ne.width,ne.height),z.e(le)}arrange(e,n,o){const l=n.length;if(l===0)return;const c=e.findMainElement(),h=c.measuredBounds,f=h.width,g=h.height,v=e.padding,w=v.left,k=v.top;let P=w-o.x,N=k-o.y;c.Bt(P,N,f,g);const F=z.V(0,0,f,g);this.I2(c,F,!1);for(let H=0;H<l;H++){const V=n[H];if(V===c)continue;const $=V.measuredBounds,K=$.width,J=$.height;let Q=V.alignment;Q.isDefault()&&(Q=e.defaultAlignment),Q.isSpot()||(Q=L.Center);let ne=V.alignmentFocus;ne.isDefault()&&(ne=L.Center);let le=null;if(V instanceof Je&&V.to!==""&&(le=V.findObject(V.to),le===V&&(le=null)),le!==null){const fe=le.actualBounds,we=T.V(fe.x+(ne.x*fe.width-ne.offsetX),fe.y+(ne.y*fe.height-ne.offsetY));for(le=le.panel;le!==V;)le.T.gt(we),le=le.panel;P=Q.x*F.width+Q.offsetX-we.x,N=Q.y*F.height+Q.offsetY-we.y,T.e(we)}else P=Q.x*F.width+Q.offsetX-(ne.x*K+ne.offsetX),N=Q.y*F.height+Q.offsetY-(ne.y*J+ne.offsetY);P+=F.x-o.x,N+=F.y-o.y,V.visible&&V.Bt(w+P,k+N,K,J)}z.e(F)}I2(e,n,o){let l=null;if(e instanceof Je&&e.to!==""&&(l=e.findObject(e.to),l===e&&(l=null)),l!==null)for(o&&e.Bt(0,0,n.width,n.height),n.a(l.actualBounds),l=l.panel;l!==e;)l.T.vg(n),l=l.panel}}Ln.dn("Spot",new al);class au extends Ln{constructor(){super()}measure(e,n,o,l,c,h,f){const g=l.length;if(g===0)return;const v=e.findMainElement();let w=v.margin,k=n,P=o;const N=w.right+w.left,F=w.top+w.bottom;v.ht(n,o,h,f);let H=v.measuredBounds,V=0,$=null;v instanceof zt&&($=v,V=$.strokeWidth*$.scale);let K=Math.max(H.width+N,0),J=Math.max(H.height+F,0),Q=e.E2(v);const ne=Q.x*K+Q.offsetX,le=Q.y*J+Q.offsetY;let fe=e.U2(v);const we=fe.x*K+fe.offsetX,ye=fe.y*J+fe.offsetY;isFinite(n)&&(k=Math.max(Math.abs(ne-we)-V,0)),isFinite(o)&&(P=Math.max(Math.abs(le-ye)-V,0));let ge=0,me=0;h>0&&(ge=Math.max(Math.abs(Q.x*h+Q.offsetX-(fe.x*h+fe.offsetX))-V,0)),f>0&&(me=Math.max(Math.abs(Q.y*f+Q.offsetY-(fe.y*f+fe.offsetY))-V,0));const ke=B.l();ke.i(0,0);const Ce=e.Uo();for(let He=0;He<g;He++){const Ke=l[He];if(Ke===v||!Ke.visible&&Ke!==Ce)continue;w=Ke.margin;const Et=w.right+w.left,It=w.top+w.bottom;Ke.ht(k,P,ge,me),H=Ke.measuredBounds,K=Math.max(H.width+Et,0),J=Math.max(H.height+It,0),ke.i(Math.max(K,ke.width),Math.max(J,ke.height))}if(g===1){H=v.measuredBounds,c.width=K,c.height=J,B.e(ke);return}Q=e.E2(v),fe=e.U2(v);let Ie=0,Be=0;fe.x!==Q.x&&fe.y!==Q.y&&(Ie=ke.width/Math.abs(fe.x-Q.x),Be=ke.height/Math.abs(fe.y-Q.y)),B.e(ke),V=0,$!==null&&(V=$.strokeWidth*$.scale,$.aS()===6&&(Ie=Be=Math.max(Ie,Be))),Ie+=Math.abs(Q.offsetX)+Math.abs(fe.offsetX)+V,Be+=Math.abs(Q.offsetY)+Math.abs(fe.offsetY)+V;let Xe=v.stretch;switch(Xe===1&&(Xe=v.zs(!1)),Xe){case 0:h=0,f=0;break;case 2:isFinite(n)&&(Ie=n),isFinite(o)&&(Be=o);break;case 5:isFinite(n)&&(Ie=n),f=0;break;case 4:h=0,isFinite(o)&&(Be=o);break}v.tf(),v.ht(Ie,Be,h,f),c.width=v.measuredBounds.width+N,c.height=v.measuredBounds.height+F}arrange(e,n,o){const l=n.length;if(l===0)return;const c=e.findMainElement(),h=c.measuredBounds,f=z.l();f.i(0,0,1,1);let g=c.margin;const v=g.left,w=g.top,k=e.padding,P=k.left,N=k.top;let F=v,H=w,V=h.width,$=h.height;c.Bt(P+F,N+H,V,$);const K=e.E2(c),J=e.U2(c),Q=0+K.x*h.width+K.offsetX,ne=0+K.y*h.height+K.offsetY,le=0+J.x*h.width+J.offsetX,fe=0+J.y*h.height+J.offsetY;f.x=Q,f.y=ne,f.unionNoCheck(le,fe,0,0),f.x+=v+P,f.y+=w+N;for(let we=0;we<l;we++){const ye=n[we];if(ye===c)continue;const ge=ye.measuredBounds;g=ye.margin;const me=Math.max(ge.width+g.right+g.left,0),ke=Math.max(ge.height+g.top+g.bottom,0);let Ce=ye.alignment;Ce.isDefault()&&(Ce=e.defaultAlignment),Ce.isSpot()||(Ce=L.Center),F=f.width*Ce.x+Ce.offsetX-me*Ce.x+g.left+f.x,H=f.height*Ce.y+Ce.offsetY-ke*Ce.y+g.top+f.y,V=f.width,$=f.height,ye.visible&&(z.contains(f.x,f.y,f.width,f.height,F,H,ge.width,ge.height)?ye.Bt(F,H,ge.width,ge.height):ye.Bt(F,H,ge.width,ge.height,new z(f.x,f.y,f.width,f.height)))}z.e(f)}}Ln.dn("Auto",new au);class qn extends Ln{constructor(){super(),this.name="Table"}measure(e,n,o,l,c,h,f){let g=l.length;const v=t.et(),w=t.et();for(let Ot=0;Ot<g;Ot++){const ot=l[Ot],Kt=ot instanceof Je?ot:null;if(Kt!==null&&Kt.$r()&&ot.visible){w.push(Kt);const Mn=Kt.C.r,Ki=Mn.length;for(let Oi=0;Oi<Ki;Oi++){const Vi=Mn[Oi];Kt.type===Je.TableRow?Vi.row=ot.row:Kt.type===Je.TableColumn&&(Vi.column=ot.column),v.push(Vi)}}else v.push(ot)}g=v.length,g===0&&(e.getRowDefinition(0),e.getColumnDefinition(0));const k=[];for(let Ot=0;Ot<g;Ot++){const ot=v[Ot];ot.visible&&(ot.ue(!0),ot.Jn(!0),k[ot.row]||(k[ot.row]=[]),k[ot.row][ot.column]||(k[ot.row][ot.column]=[]),k[ot.row][ot.column].push(ot))}t.J(v);const P=t.et(),N=t.et(),F=t.et(),H={count:0},V={count:0};let $=n,K=o;const J=e.Xe,Q=e.Ye;let ne=null;g=J.length;for(let Ot=0;Ot<g;Ot++)ne=J[Ot],ne!==void 0&&(ne.actual=0,ne.Ai=0);g=Q.length;for(let Ot=0;Ot<g;Ot++)ne=Q[Ot],ne!==void 0&&(ne.actual=0,ne.Ai=0);let le=k.length,fe=0;for(let Ot=0;Ot<le;Ot++)k[Ot]&&(fe=Math.max(fe,k[Ot].length));const we=Math.min(e.topIndex,le-1),ye=Math.min(e.leftIndex,fe-1);let ge=0,me;le=k.length;const ke=e.Uo();for(let Ot=0;Ot<le;Ot++){if(!k[Ot])continue;fe=k[Ot].length;const ot=e.getRowDefinition(Ot);ot.actual=0,ot.Ai=0;for(let Kt=0;Kt<fe;Kt++){if(!k[Ot][Kt])continue;const Mn=e.getColumnDefinition(Kt);P[Kt]===void 0&&(Mn.actual=0,Mn.Ai=0,P[Kt]=!0);const Ki=k[Ot][Kt],Oi=Ki.length;for(let Vi=0;Vi<Oi;Vi++){const $i=Ki[Vi];if(!$i.visible&&$i!==ke)continue;const Lr=$i.rowSpan>1,Js=$i.columnSpan>1;(Lr||Js)&&!(Ot<we)&&!(Kt<ye)&&N.push($i);const hs=$i.margin,Yi=hs.right+hs.left,rs=hs.top+hs.bottom;me=$i.P0(ot,Mn,!1);const Or=$i.desiredSize,Wn=!isNaN(Or.width),cr=!isNaN(Or.height);if(me!==0&&!(Wn&&cr)&&!(Ot<we)&&!(Kt<ye)&&(!Js&&H[Kt]===void 0&&(me===2||me===5)&&(H[Kt]=-1,H.count++),!Lr&&V[Ot]===void 0&&(me===2||me===4)&&(V[Ot]=-1,V.count++),!Lr&&!Js&&F.push($i)),$i.ht(1/0,1/0,0,0),Ot<we||Kt<ye)continue;const $s=$i.measuredBounds,Ir=Math.max($s.width+Yi,0),So=Math.max($s.height+rs,0);if($i.rowSpan===1&&(me===0||me===5)){ne=e.getRowDefinition(Ot);const ni=ne.computeEffectiveSpacing(),_a=ne._===0;ge=Math.max(So-ne.actual,0),ge+(_a?ni:0)>K&&(ge=Math.max(K-ni,0)),ne.Ai=ne.Ai+ge,ne.actual=ne._+ge,K=Math.max(K-(ge+(_a?ni:0)),0)}if($i.columnSpan===1&&(me===0||me===4)){ne=e.getColumnDefinition(Kt);const ni=ne.computeEffectiveSpacing(),_a=ne._===0;ge=Math.max(Ir-ne.actual,0),ge+(_a?ni:0)>$&&(ge=Math.max($-ni,0)),ne.Ai=ne.Ai+ge,ne.actual=ne._+ge,$=Math.max($-(ge+(_a?ni:0)),0)}(Lr||Js)&&$i.tf()}}}t.J(P);let Ce=0,Ie=0;g=e.columnCount;for(let Ot=0;Ot<g;Ot++){const ot=Q[Ot];ot!==void 0&&(Ce+=isNaN(ot.de)?ot.Ai:ot.de,ot.Ai!==0&&(Ce+=ot.computeEffectiveSpacing()))}g=e.rowCount;for(let Ot=0;Ot<g;Ot++){const ot=J[Ot];ot!==void 0&&(Ie+=isNaN(ot.de)?ot.Ai:ot.de,ot.Ai!==0&&(Ie+=ot.computeEffectiveSpacing()))}$=Math.max(n-Ce,0),K=Math.max(o-Ie,0);let Be=K,Xe=$;g=F.length;for(let Ot=0;Ot<g;Ot++){const ot=F[Ot],Kt=e.getRowDefinition(ot.row),Mn=e.getColumnDefinition(ot.column),Ki=ot.measuredBounds,Oi=ot.margin,Vi=Oi.right+Oi.left,$i=Oi.top+Oi.bottom;Mn.Ai===0&&H[ot.column]!==void 0?H[ot.column]=Math.max(Ki.width+Vi,H[ot.column]):H[ot.column]=null,Kt.Ai===0&&V[ot.row]!==void 0?V[ot.row]=Math.max(Ki.height+$i,V[ot.row]):V[ot.row]=null}let He=0,Ke=0,Et;for(Et in V)Et!=="count"&&(He+=V[Et]);for(Et in H)Et!=="count"&&(Ke+=H[Et]);const It=B.l();for(let Ot=0;Ot<g;Ot++){const ot=F[Ot];if(!ot.visible&&ot!==ke)continue;const Kt=e.getRowDefinition(ot.row),Mn=e.getColumnDefinition(ot.column);let Ki=0;isFinite(Mn.width)?Ki=Mn.width:(isFinite($)&&H[ot.column]!==null?Ke===0?Ki=Mn.actual+$:Ki=H[ot.column]/Ke*Xe:H[ot.column]!==null?Ki=$:Ki=Mn.actual||$,Ki=Math.max(0,Ki-Mn.computeEffectiveSpacing()));let Oi=0;switch(isFinite(Kt.height)?Oi=Kt.height:(isFinite(K)&&V[ot.row]!==null?He===0?Oi=Kt.actual+K:Oi=V[ot.row]/He*Be:V[ot.row]!==null?Oi=K:Oi=Kt.actual||K,Oi=Math.max(0,Oi-Kt.computeEffectiveSpacing())),It.i(Math.max(Mn.minimum,Math.min(Ki,Mn.maximum)),Math.max(Kt.minimum,Math.min(Oi,Kt.maximum))),me=ot.P0(Kt,Mn,!1),me){case 5:It.height=Math.max(It.height,Kt.actual+K);break;case 4:It.width=Math.max(It.width,Mn.actual+$);break}const Vi=ot.margin,$i=Vi.right+Vi.left,Lr=Vi.top+Vi.bottom;ot.tf();let Js=Mn.minimum,hs=Kt.minimum;const Yi=ot.measuredBounds;Yi.width===0&&H[ot.column]!==null&&(Js=Math.max(Js,H[ot.column])),Yi.height===0&&V[ot.row]!==null&&(hs=Math.max(Js,V[ot.row])),ot.ht(It.width,It.height,Js,hs);const rs=ot.measuredBounds;let Or=Math.max(rs.width+$i,0),Wn=Math.max(rs.height+Lr,0);isFinite($)&&(Or=Math.min(Or,It.width)),isFinite(K)&&(Wn=Math.min(Wn,It.height));let cr=0;cr=Kt.actual,Kt.actual=Math.max(Kt.actual,Wn),Kt.Ai=Math.max(Kt.Ai,Wn),ge=Kt.actual-cr,K=Math.max(K-ge,0),V[ot.row]===null&&(Be=Math.max(Be-ge,0)),cr=Mn.actual,Mn.actual=Math.max(Mn.actual,Or),Mn.Ai=Math.max(Mn.Ai,Or),ge=Mn.actual-cr,$=Math.max($-ge,0),H[ot.column]===null&&(Xe=Math.max(Xe-ge,0))}t.J(F);const bt=B.l(),At=t.et(),wt=t.et();if(g=N.length,g!==0)for(let Ot=0;Ot<le;Ot++){if(!k[Ot])continue;fe=k[Ot].length;const ot=e.getRowDefinition(Ot);At[Ot]=ot.actual;for(let Kt=0;Kt<fe;Kt++){if(!k[Ot][Kt])continue;const Mn=e.getColumnDefinition(Kt);wt[Kt]=Mn.actual}}for(let Ot=0;Ot<g;Ot++){const ot=N[Ot];if(!ot.visible&&ot!==ke)continue;const Kt=e.getRowDefinition(ot.row),Mn=e.getColumnDefinition(ot.column);switch(It.i(Math.max(Mn.minimum,Math.min(n,Mn.maximum)),Math.max(Kt.minimum,Math.min(o,Kt.maximum))),me=ot.P0(Kt,Mn,!1),me){case 2:wt[Mn.index]!==0&&(It.width=Math.min(It.width,wt[Mn.index])),At[Kt.index]!==0&&(It.height=Math.min(It.height,At[Kt.index]));break;case 5:wt[Mn.index]!==0&&(It.width=Math.min(It.width,wt[Mn.index]));break;case 4:At[Kt.index]!==0&&(It.height=Math.min(It.height,At[Kt.index]));break}isFinite(Mn.width)&&(It.width=Mn.width),isFinite(Kt.height)&&(It.height=Kt.height),bt.i(0,0);let Ki=Mn.minimum,Oi=Kt.minimum;for(let Wn=1;Wn<ot.rowSpan&&!(ot.row+Wn>=e.rowCount);Wn++)ne=e.getRowDefinition(ot.row+Wn),ge=0,me===2||me===4?ge=Math.max(ne.minimum,At[ot.row+Wn]===0?ne.maximum:Math.min(At[ot.row+Wn],ne.maximum)):ge=Math.max(ne.minimum,isNaN(ne.de)?ne.maximum:Math.min(ne.de,ne.maximum)),bt.height+=ge,Oi+=ne.minimum;for(let Wn=1;Wn<ot.columnSpan&&!(ot.column+Wn>=e.columnCount);Wn++)ne=e.getColumnDefinition(ot.column+Wn),ge=0,me===2||me===5?ge=Math.max(ne.minimum,wt[ot.column+Wn]===0?ne.maximum:Math.min(wt[ot.column+Wn],ne.maximum)):ge=Math.max(ne.minimum,isNaN(ne.de)?ne.maximum:Math.min(ne.de,ne.maximum)),bt.width+=ge,Ki+=ne.minimum;It.width+=bt.width,It.height+=bt.height;const Vi=ot.margin,$i=Vi.right+Vi.left,Lr=Vi.top+Vi.bottom;ot.ht(It.width,It.height,Ki,Oi);const Js=ot.measuredBounds,hs=Math.max(Js.width+$i,0),Yi=Math.max(Js.height+Lr,0);let rs=0;for(let Wn=0;Wn<ot.rowSpan&&!(ot.row+Wn>=e.rowCount);Wn++)ne=e.getRowDefinition(ot.row+Wn),rs+=ne.total||0;if(rs<Yi){let Wn=Yi-rs;const cr=Yi-rs;if(ot.spanAllocation!==null){const $s=ot.spanAllocation;for(let Ir=0;Ir<ot.rowSpan&&!(Wn<=0||ot.row+Ir>=e.rowCount);Ir++){ne=e.getRowDefinition(ot.row+Ir);const So=ne._||0,ni=$s(ot,ne,cr);ne.actual=Math.min(ne.maximum,So+ni),ne._!==So&&(Wn-=ne._-So)}}for(;Wn>0;){const $s=ne._||0;if(isNaN(ne.height)&&ne.maximum>$s&&(ne.actual=Math.min(ne.maximum,$s+Wn),ne._!==$s&&(Wn-=ne._-$s)),ne.index===0)break;ne=e.getRowDefinition(ne.index-1)}}let Or=0;for(let Wn=0;Wn<ot.columnSpan&&!(ot.column+Wn>=e.columnCount);Wn++)ne=e.getColumnDefinition(ot.column+Wn),Or+=ne.total||0;if(Or<hs){let Wn=hs-Or;const cr=hs-Or;if(ot.spanAllocation!==null){const $s=ot.spanAllocation;for(let Ir=0;Ir<ot.columnSpan&&!(Wn<=0||ot.column+Ir>=e.columnCount);Ir++){ne=e.getColumnDefinition(ot.column+Ir);const So=ne._||0,ni=$s(ot,ne,cr);ne.actual=Math.min(ne.maximum,So+ni),ne._!==So&&(Wn-=ne._-So)}}for(;Wn>0;){const $s=ne._||0;if(isNaN(ne.width)&&ne.maximum>$s&&(ne.actual=Math.min(ne.maximum,$s+Wn),ne._!==$s&&(Wn-=ne._-$s)),ne.index===0)break;ne=e.getColumnDefinition(ne.index-1)}}}t.J(N),B.e(bt),B.e(It),At!==void 0&&t.J(At),wt!==void 0&&t.J(wt);let Vt=0,qt=0;const on=e.desiredSize,An=e.maxSize;me=e.zs(!0),Ce=0,Ie=0;let kt=0,yn=0;g=e.columnCount;for(let Ot=0;Ot<g;Ot++)if(Q[Ot]!==void 0){if(ne=e.getColumnDefinition(Ot),isFinite(ne.width)){kt+=ne.width,kt+=ne.computeEffectiveSpacing();continue}else if(ne.Qb()===2){kt+=ne._,kt+=ne.computeEffectiveSpacing();continue}ne._!==0&&(Ce+=ne._,Ce+=ne.computeEffectiveSpacing())}isFinite(on.width)?Vt=Math.min(on.width,An.width):me!==0&&isFinite(n)?Vt=n:Vt=Ce,Vt=Math.max(Vt,isFinite(n)?Math.min(h,n):h),Vt=Math.max(Vt-kt,0);const hn=Ce===0?1:Math.max(Vt/Ce,1);for(let Ot=0;Ot<g;Ot++)Q[Ot]!==void 0&&(ne=e.getColumnDefinition(Ot),!isFinite(ne.width)&&ne.Qb()!==2&&(ne.actual=ne._*hn),ne.position=c.width,ne._!==0&&(c.width+=ne._,c.width+=ne.computeEffectiveSpacing()));g=e.rowCount;for(let Ot=0;Ot<g;Ot++)if(J[Ot]!==void 0){if(ne=e.getRowDefinition(Ot),isFinite(ne.height)){yn+=ne.height,yn+=ne.computeEffectiveSpacing();continue}else if(ne.Qb()===2){yn+=ne._,yn+=ne.computeEffectiveSpacing();continue}ne._!==0&&(Ie+=ne._,Ie+=ne.computeEffectiveSpacing())}isFinite(on.height)?qt=Math.min(on.height,An.height):me!==0&&isFinite(o)?qt=o:qt=Ie,qt=Math.max(qt,isFinite(o)?Math.min(f,o):f),qt=Math.max(qt-yn,0);const xi=Ie===0?1:Math.max(qt/Ie,1);for(let Ot=0;Ot<g;Ot++)J[Ot]!==void 0&&(ne=e.getRowDefinition(Ot),!isFinite(ne.height)&&ne.Qb()!==2&&(ne.actual=ne._*xi),ne.position=c.height,ne._!==0&&(c.height+=ne._,c.height+=ne.computeEffectiveSpacing()));g=w.length;for(let Ot=0;Ot<g;Ot++){const ot=w[Ot];let Kt=0,Mn=0;ot.type===Je.TableRow?(Kt=c.width,ne=e.getRowDefinition(ot.row),Mn=ne.actual):(ne=e.getColumnDefinition(ot.column),Kt=ne.actual,Mn=c.height),ot.measuredBounds.i(0,0,Kt,Mn),ot.ue(!1)}t.J(w),e.yh=k}arrange(e,n,o){const l=n.length,c=e.padding,h=c.left,f=c.top,g=e.yh;if(g===null)return;let v=0,w=0;const k=g.length;let P=0;for(let ye=0;ye<k;ye++)g[ye]&&(P=Math.max(P,g[ye].length));const N=e.Xe,F=e.Ye;let H=0,V=0,$=Math.min(e.topIndex,k-1);if(N.length>0){for(;$!==k&&(N[$]===void 0||N[$]._===0);)$++;$=Math.max(Math.min($,k-1),0),H=-N[$].position}let K=Math.min(e.leftIndex,P-1);if(F.length>0){for(;K!==P&&(F[K]===void 0||F[K]._===0);)K++;K=Math.max(Math.min(K,P-1),0),V=-F[K].position}let J=0,Q=0;for(;J!==k&&N[J]===void 0;)J++;for(;Q!==k&&F[Q]===void 0;)Q++;const ne=e.part;let le=e.getRowDefinition(J),fe=e.getColumnDefinition(Q);for(let ye=0;ye<n.length;ye++){const ge=n[ye];if(!(ge instanceof Je&&ge.visible&&ge.$r()))continue;ge.type===Je.TableRow?(le=e.getRowDefinition(ge.row),fe=e.getColumnDefinition(Q)):(le=e.getRowDefinition(J),fe=e.getColumnDefinition(ge.column)),w=le.position+H+f,le._!==0&&(w+=le.computeEffectiveSpacingTop(Math.max(J,$))),v=fe.position+V+h,fe._!==0&&(v+=fe.computeEffectiveSpacingTop(Math.max(Q,K)));const me=ge.measuredBounds;ge.$c(),ge.actualBounds.Nt();const ke=ge.actualBounds,Ce=z.V(ke.x,ke.y,ke.width,ke.height);if(ke.x=ge.type===Je.TableRow?h:v,ke.y=ge.type===Je.TableColumn?f:w,ke.width=me.width,ke.height=me.height,ge.actualBounds.u(),ge.Jn(!1),Ce.equalsApproxClose(ke)){z.e(Ce);continue}ne!==null&&(ne.dh(),ge.w0(ne)),z.e(Ce)}const we=B.l();for(let ye=0;ye<k;ye++){if(!g[ye])continue;P=g[ye].length;const ge=e.getRowDefinition(ye);w=ge.position+H+f,ge._!==0&&(w+=ge.computeEffectiveSpacingTop(Math.max(J,$)));for(let me=0;me<P;me++){if(!g[ye][me])continue;const ke=e.getColumnDefinition(me);v=ke.position+V+h,ke._!==0&&(v+=ke.computeEffectiveSpacingTop(Math.max(Q,K)));const Ce=g[ye][me],Ie=Ce.length;for(let Be=0;Be<Ie;Be++){const Xe=Ce[Be],He=Xe.measuredBounds;we.i(0,0);for(let Yi=1;Yi<Xe.rowSpan&&!(ye+Yi>=e.rowCount);Yi++){const rs=e.getRowDefinition(ye+Yi);rs._!==0&&(we.height+=rs.total)}for(let Yi=1;Yi<Xe.columnSpan&&!(me+Yi>=e.columnCount);Yi++){const rs=e.getColumnDefinition(me+Yi);rs._!==0&&(we.width+=rs.total)}const Ke=ke._+we.width,Et=ge._+we.height;let It=v,bt=w;const At=Ke,wt=Et,Vt=v,qt=w;let on=Ke,An=Et;v+Ke>o.width&&(on=Math.max(o.width-v,0)),w+Et>o.height&&(An=Math.max(o.height-w,0));let kt=Xe.alignment,yn=0,hn=0,xi=0,Ot=0;if(kt.isDefault()){kt=e.defaultAlignment,kt.isSpot()||(kt=L.Center),yn=kt.x,hn=kt.y,xi=kt.offsetX,Ot=kt.offsetY;const Yi=ke.alignment,rs=ge.alignment;Yi.isSpot()&&(yn=Yi.x,xi=Yi.offsetX),rs.isSpot()&&(hn=rs.y,Ot=rs.offsetY)}else yn=kt.x,hn=kt.y,xi=kt.offsetX,Ot=kt.offsetY;(isNaN(yn)||isNaN(hn))&&(yn=.5,hn=.5,xi=0,Ot=0);let ot=He.width,Kt=He.height;const Mn=Xe.margin,Ki=Mn.left+Mn.right,Oi=Mn.top+Mn.bottom,Vi=Xe.P0(ge,ke,!1);isNaN(Xe.desiredSize.width)&&(Vi===2||Vi===5)&&(ot=Math.max(Ke-Ki,0)),isNaN(Xe.desiredSize.height)&&(Vi===2||Vi===4)&&(Kt=Math.max(Et-Oi,0));const $i=Xe.maxSize,Lr=Xe.minSize;ot=Math.min($i.width,ot),Kt=Math.min($i.height,Kt),ot=Math.max(Lr.width,ot),Kt=Math.max(Lr.height,Kt);const Js=ot+Ki,hs=Kt+Oi;It+=At*yn-Js*yn+xi+Mn.left,bt+=wt*hn-hs*hn+Ot+Mn.top,Xe.visible&&(z.contains(Vt,qt,on,An,It,bt,He.width,He.height)?Xe.Bt(It,bt,ot,Kt):Xe.Bt(It,bt,ot,Kt,new z(Vt,qt,on,An)))}}}B.e(we);for(let ye=0;ye<l;ye++){const ge=n[ye],me=ge instanceof Je?ge:null;if(me!==null&&me.$r()){const ke=ge.actualBounds;ge.naturalBounds.Nt(),ge.naturalBounds.i(0,0,ke.width,ke.height),ge.naturalBounds.u()}}}}Ln.dn("Table",new qn);class Hs extends Ln{constructor(){super()}measure(e,n,o,l,c,h,f){}arrange(e,n,o){}}Ln.dn("TableRow",new Hs);class Op extends Ln{constructor(){super()}measure(e,n,o,l,c,h,f){}arrange(e,n,o){}}Ln.dn("TableColumn",new Op);class xy extends Ln{constructor(){super()}measure(e,n,o,l,c,h,f){l.length!==1&&t.o("Viewbox Panel must contain exactly one GraphObject.");const g=l[0];g.tt=1,g.tf(),g.ht(1/0,1/0,h,f);let v=g.measuredBounds;const w=g.margin,k=w.right+w.left,P=w.top+w.bottom;if(isFinite(n)||isFinite(o)){const N=g.scale,F=v.width,H=v.height,V=Math.max(n-k,0),$=Math.max(o-P,0);let K=1;e.viewboxStretch===6?(F!==0&&H!==0&&(K=Math.min(V/F,$/H)),K===0&&(K=1e-4),g.tt*=K):(F!==0&&H!==0&&(K=Math.max(V/F,$/H)),K===0&&(K=1e-4),g.tt*=K),N!==g.scale&&(g.ue(!0),g.ht(1/0,1/0,h,f))}v=g.measuredBounds,c.width=isFinite(n)?n:Math.max(v.width+k,0),c.height=isFinite(o)?o:Math.max(v.height+P,0)}arrange(e,n,o){const l=n[0],c=l.measuredBounds,h=l.margin,f=h.right+h.left,g=h.top+h.bottom,v=Math.max(c.width+f,0),w=Math.max(c.height+g,0);let k=l.alignment;k.isDefault()&&(k=e.defaultAlignment),k.isSpot()||(k=L.Center),l.Bt(o.width*k.x-v*k.x+k.offsetX,o.height*k.y-w*k.y+k.offsetY,c.width,c.height)}}Ln.dn("Viewbox",new xy);class vy extends Ln{constructor(){super()}measure(e,n,o,l,c,h,f){e.yi===null&&(e.yi=new ll),this.yv(e),this.wv(e)}arrange(e,n,o){}Ui(e,n,o){const l=e.naturalBounds,c=l.width,h=l.height;n.save(),n.beginPath(),n.rect(0,0,c,h),n.clip(),n.endPath(),this.xv(e,n,o),n.restore(),n.clearContextCache(!1)}xv(e,n,o){let l=e.getDocumentScale()*o.scale;l<=0&&(l=1);const c=e.gridCellSize,h=c.width,f=c.height,g=e.naturalBounds,v=e.actualBounds,w=g.width,k=g.height,P=Math.ceil(w/h),N=Math.ceil(k/f),F=e.gridOrigin,H=F.x,V=F.y,$=e.yi.W0,K=e.C.r,J=K.length;for(let Q=0;Q<J;Q++){const ne=K[Q];if(!ne.visible)continue;const le=ne.interval||1,fe=Math.abs(le);if(h*fe*l<2)continue;let we=ne.segmentIndex;(!isFinite(we)||isNaN(we))&&(we=0),we<0&&(we=fe-Math.min(-we,fe)),we=Math.round(we%fe);const ye=ne.opacity;let ge=1;if(ye!==1){if(ye===0)continue;ge=n.globalAlpha,n.globalAlpha=ge*ye}const me=$[Q];let ke=!1;const Ce=ne.strokeDashArray;if(Ce!==null&&(ke=!0,n.enableDash(Ce,ne.strokeDashOffset)),ne.stroke!==null&&ne.strokeWidth>0&&(ne.figure==="LineV"||ne.figure==="LineH")){if(n.lineWidth=ne.strokeWidth,e.rn(n,ne.stroke,!1,!1,g,v),n.beginPath(),ne.figure==="LineV"){const Ie=Math.floor((H-h)/h);for(let Be=Ie;Be<=Ie+P;Be++){const Xe=Be*h+H;0<=Xe&&Xe<=w&&this._b(Be,le,we,me)&&(n.moveTo(Xe,0),n.lineTo(Xe,k))}}else if(ne.figure==="LineH"){const Ie=Math.floor((V-f)/f);for(let Be=Ie;Be<=Ie+N;Be++){const Xe=Be*f+V;0<=Xe&&Xe<=k&&this._b(Be,le,we,me)&&(n.moveTo(0,Xe),n.lineTo(w,Xe))}}n.stroke(),n.endPath()}else if(ne.fill!==null){if(e.rn(n,ne.fill,!0,!1,g,v),ne.figure==="BarV"){let Ie=ne.width;isNaN(Ie)&&(Ie=h);const Be=Math.floor((H-h)/h);for(let Xe=Be;Xe<=Be+P;Xe++){const He=Xe*h+H;0<=He+Ie&&He<=w&&this._b(Xe,le,we,me)&&n.fillRect(He,0,Ie,k)}}else if(ne.figure==="BarH"){let Ie=ne.height;isNaN(Ie)&&(Ie=f);const Be=Math.floor((V-f)/f);for(let Xe=Be;Xe<=Be+N;Xe++){const He=Xe*f+V;0<=He+Ie&&He<=k&&this._b(Xe,le,we,me)&&n.fillRect(0,He,w,Ie)}}}ke&&n.disableDash(),ye!==1&&(n.globalAlpha=ge)}}_b(e,n,o,l){if(n<0)return e%n===o;if(e%n!==o)return!1;const c=l.length;for(let h=0;h<c;h++){const f=l[h];if(e%f===o)return!1}return!0}wv(e){const n=[],o=e.C.r,l=o.length;for(let c=0;c<l;c++){const h=o[c],f=[];if(n.push(f),!h.visible)continue;const g=h.interval;if(g<0)continue;const v=h.figure,w=this.B2(v);for(let k=0;k<l;k++){if(k===c)continue;const P=o[k];if(!P.visible)continue;const N=P.figure;if(this.B2(N)!==w)continue;const F=P.interval;F>g&&f.push(F)}}e.yi.W0=n}B2(e){return e==="LineV"||e==="BarV"}yv(e){let n=1,o=1;const l=e.C.r,c=l.length;for(let g=0;g<c;g++){const v=l[g],w=Math.abs(v.interval);w<2||(this.B2(v.figure)?o=o*w/I.DC(o,w):n=n*w/I.DC(n,w))}const h=e.gridCellSize,f=e.yi;f.Yc.isReal()?f.Yc.i(o*h.width,n*h.height):f.Yc=new B(o*h.width,n*h.height)}}Ln.dn("Grid",new vy);class ss extends Ln{constructor(){super()}measure(e,n,o,l,c,h,f){const g=l.length;if(!(e instanceof gn||e instanceof vt))return;let v=null,w=null;if(e instanceof vt&&(v=e),e instanceof gn&&(w=e,v=w.adornedPart,e.hf===null&&(e.hf=[])),!(v instanceof vt))return;const k=v;if(g===0){e.naturalBounds.Fn(0,0),e.measuredBounds.i(0,0,0,0);return}const P=e instanceof gn?null:v.path,N=v.routeBounds,F=e.Bo;F.i(0,0,N.width,N.height);const H=k.points,V=v.pointsCount;w!==null?w.sd(!1):v!==null&&v.sd(!1);const $=N.width,K=N.height,J=e.hf;if(J.length=0,P!==null){this.measureLinkPath(e,$,K,P);const fe=P.measuredBounds;F.unionRect(fe),J.push(fe)}const Q=U.l(),ne=T.l(),le=T.l();for(let fe=0;fe<g;fe++){const we=l[fe];if(we===P)continue;let ye=we.measuredBounds;if(we.isPanelMain&&we instanceof zt){this.measureLinkPath(e,$,K,we),ye=we.measuredBounds,F.unionRect(ye),J.push(ye);continue}if(V<2){we.ht(1/0,1/0,0,0),ye=we.measuredBounds,F.unionRect(ye),J.push(ye);continue}const ge=we.segmentIndex,me=we.segmentFraction;let ke=we.alignmentFocus;ke.isNoSpot()&&(ke=L.Center);const Ce=we.segmentOrientation,Ie=we.segmentOffset;let Be=0,Xe=0,He=0,Ke=0;if(isNaN(ge)){const kt=k.ot,yn=t.et();kt.getPointAndAngleAlongPath(me,yn);const hn=T.V(yn[0],yn[1]);Ke=yn[2],Ce!==0&&(He=k.computeAngle(we,Ce,Ke),we.Yt=He,we.ue(!0),we.Jn(!0)),Be=hn.x,Xe=hn.y,T.e(hn),t.J(yn)}else if(ge<-V||ge>=V){const kt=T.l();k.OA(kt),Ke=k.midAngle,Ce!==0&&(He=k.computeAngle(we,Ce,Ke),we.Yt=He,we.ue(!0),we.Jn(!0)),Be=kt.x-N.x,Xe=kt.y-N.y,T.e(kt)}else{let kt,yn,hn=0;if(ge>=0?(kt=H.elt(ge),yn=ge<V-1?H.elt(ge+1):kt):(hn=V+ge,kt=H.elt(hn),yn=hn>0?H.elt(hn-1):kt),Ke=0,kt.equalsApprox(yn)){let xi,Ot;ge>=0?(xi=ge>0?H.elt(ge-1):kt,Ot=ge<V-2?H.elt(ge+2):yn):(xi=hn<V-1?H.elt(hn+1):kt,Ot=hn>1?H.elt(hn-2):yn);const ot=xi.distanceSquaredPoint(kt),Kt=yn.distanceSquaredPoint(Ot);ot>Kt+10?Ke=ge>=0?xi.directionPoint(kt):kt.directionPoint(xi):Kt>ot+10?Ke=ge>=0?yn.directionPoint(Ot):Ot.directionPoint(yn):Ke=ge>=0?xi.directionPoint(Ot):Ot.directionPoint(xi)}else Ke=ge>=0?kt.directionPoint(yn):yn.directionPoint(kt);Ce!==0&&(He=k.computeAngle(we,Ce,Ke),we.Yt=He,we.ue(!0),we.Jn(!0)),Be=kt.x+(yn.x-kt.x)*me-N.x,Xe=kt.y+(yn.y-kt.y)*me-N.y}we.ht(1/0,1/0,0,0),ye=we.measuredBounds;const Et=we.naturalBounds;let It=0;we instanceof zt&&(It=we.strokeWidth);const bt=Et.width+It,At=Et.height+It;Q.Ri(),Q.Fs(-ye.x,-ye.y),Q.tt(we.scale,we.scale),Q.cs(Ce===0?we.angle:Ke,bt/2,At/2),(Ce===22||Ce===26)&&Q.cs(90,bt/2,At/2),(Ce===23||Ce===27)&&Q.cs(-90,bt/2,At/2),Ce===28&&(Ke>45&&Ke<135||Ke>225&&Ke<315)&&Q.cs(-Ke,bt/2,At/2);const wt=new z(0,0,bt,At);ne.setRectSpot(wt,ke),Q.gt(ne);const Vt=-ne.x+It/2*we.scale,qt=-ne.y+It/2*we.scale;le.a(Ie);const on=isNaN(Ie.x),An=isNaN(Ie.y);if(on||An){const kt=bt/2+3,yn=At/2+3,hn=Ke>=45&&Ke<=135,xi=Ke>=225&&Ke<=315;Ce===0&&(hn||xi)?(le.x=An?kt:Ie.y,le.y=on?yn:Ie.x,hn?ge>=0||isNaN(ge)&&me<.5||on&&(le.y=-yn):xi&&((ge>=0||isNaN(ge)&&me<.5)&&on&&(le.y=-yn),An&&(le.x=-kt))):(on&&(ge>=0||isNaN(ge)&&me<.5?le.x=kt:le.x=-kt),An&&(le.y=-yn),le.rotate(Ke))}else le.rotate(Ke);Be+=le.x,Xe+=le.y,wt.i(Be+Vt,Xe+qt,ye.width,ye.height),J.push(wt),F.unionRect(wt)}if(v!==null){const fe=v.labelNodes;for(;fe.next();)fe.value.ht(1/0,1/0)}e.Bo=F,e.position.i(N.x+F.x,N.y+F.y),c.Fn(F.width||0,F.height||0),U.e(Q),T.e(ne),T.e(le)}arrange(e,n,o){const l=n.length;if(!(e instanceof gn||e instanceof vt))return;let c=e,h=null;e instanceof gn&&(h=e,c=h.adornedPart);const f=e,g=e instanceof gn?null:c.path,v=e.hf;if(v.length!==0){let N=0;if(g!==null&&N<v.length){const F=v[N];N++,g.Bt(F.x-f.Bo.x,F.y-f.Bo.y,F.width,F.height)}for(let F=0;F<l;F++){const H=n[F];if(H!==g&&N<v.length){const V=v[N];N++,H.Bt(V.x-f.Bo.x,V.y-f.Bo.y,V.width,V.height)}}}const w=c.points,k=w.count;if(k>=2&&f instanceof vt){const N=f.labelNodes;for(;N.next();){const F=N.value;f.bv(F,k,w)}}h!==null?h.sd(!1):c.sd(!1);const P=e.IA(T.l());e.location.i(e.position.x+P.x,e.position.y+P.y),T.e(P)}measureLinkPath(e,n,o,l){if(l.To()===!1)return;let c=l.strokeWidth;if(c===0&&e instanceof gn&&e.type===Je.Link&&e.adornedObject instanceof zt&&(c=e.adornedObject.strokeWidth),c=c*l.tt,e instanceof vt&&e.ot!==null){const h=e.geometry.bounds;l.Wn(h.x-c/2,h.y-c/2,h.width+c,h.height+c)}else if(e instanceof gn&&e.adornedPart.ot!==null){const h=e.adornedPart.ot.bounds;l.Wn(h.x-c/2,h.y-c/2,h.width+c,h.height+c)}else l.Wn(-(c/2),-(c/2),n+c,o+c);l.kv(),l.ue(!1)}}Ln.dn("Link",new ss);class by extends Ln{constructor(){super()}measure(e,n,o,l,c,h,f){const g=e.findMainElement();e.Ge=[];const v=g.margin,w=v.right+v.left,k=v.top+v.bottom;g.ht(n,o,h,f);const P=g.measuredBounds,N=P.width,F=P.height,H=Math.max(N+w,0),V=Math.max(F+k,0),$=new z(-v.left,-v.top,H,V);e.Ge.push($),c.a($),this.determineGraduatedMarks(e,g);const K=e.xs;if(K===null)return;const J=l.length;for(let Q=0;Q<J;Q++){const ne=l[Q],le=K[Q];!ne.visible||ne===g||le.length===0||(ne instanceof zt?this.measureGraduatedTicks(e,ne,le,c):ne instanceof rn&&this.measureGraduatedLabels(e,ne,le,c),ne.ue(!1))}}arrange(e,n,o){if(e.Ge===null)return;const l=e.findMainElement(),c=e.xs;if(c===null)return;const h=e.Ge;let f=0,g=h[f];f++,l!==null&&l.Bt(g.x-o.x,g.y-o.y,g.width,g.height);const v=n.length;for(let w=0;w<v;w++){const k=n[w],P=c[w];!k.visible||k===l||P.length===0||(g=h[f],f++,k.Bt(g.x-o.x,g.y-o.y,g.width,g.height))}e.Ge=null}measureGraduatedTicks(e,n,o,l){let c=n.alignmentFocus;c.isNoSpot()&&(c=L.TopCenter);const h=n.angle;n.Yt=0,n.ht(1/0,1/0,0,0),n.Yt=h;const f=n.measuredBounds,g=f.width,v=f.height,w=z.V(0,0,g,v),k=T.l();k.setRectSpot(w,c),z.e(w);const P=-k.x,N=-k.y,F=new z,H=o.length;for(let V=0;V<H;V++){const $=o[V],K=$.pt.x,J=$.pt.y,Q=$.angle;for(let ne=0;ne<4;ne++){switch(ne){case 0:k.i(P,N);break;case 1:k.i(P+g,N);break;case 2:k.i(P,N+v);break;case 3:k.i(P+g,N+v);break}k.rotate(Q+n.angle),k.offset(K,J),V===0&&ne===0?F.i(k.x,k.y,0,0):F.unionPoint(k),k.offset(-K,-J),k.rotate(-Q-n.angle)}}T.e(k),e.Ge!==null&&e.Ge.push(F),l.unionNoCheck(F.x,F.y,F.width,F.height)}measureGraduatedLabels(e,n,o,l){e.Pe===null&&(e.Pe=new rn);const c=e.Pe;this.EA(n,c);let h=n.alignmentFocus;h.isNoSpot()&&(h=L.TopCenter);const f=n.segmentOrientation,g=n.segmentOffset,v=new z;let w=0,k=0,P=0,N=0,F=0;const H=o.length;for(let V=0;V<H;V++){const $=o[V];w=$.pt.x,k=$.pt.y,P=$.angle,N=n.angle,F=n.angle,f!==0&&(f===21||f===25?F=P+n.angle:F=P,N=vt.computeAngle(f,F)),c.Yt=N,c.text=$.text||"",c.ht(1/0,1/0,0,0);const K=c.measuredBounds,J=c.naturalBounds,Q=J.width,ne=J.height,le=U.l();le.Ri(),le.Fs(-K.x,-K.y),le.tt(c.scale,c.scale),le.cs(F,Q/2,ne/2),(f===22||f===26)&&le.cs(90,Q/2,ne/2),(f===23||f===27)&&le.cs(-90,Q/2,ne/2),f===28&&(P>45&&P<135||P>225&&P<315)&&le.cs(-P,Q/2,ne/2);const fe=z.V(0,0,Q,ne),we=T.l();we.setRectSpot(fe,h),le.gt(we);const ye=-we.x,ge=-we.y,me=T.l();me.a(g),isNaN(me.x)&&(me.x=Q/2+3),isNaN(me.y)&&(me.y=-(ne/2+3)),me.rotate(P),w+=me.x+ye,k+=me.y+ge;const ke=new z(w,k,K.width,K.height),Ce=new z(K.x,K.y,K.width,K.height),Ie=new z(J.x,J.y,J.width,J.height);$.labelAngle=N,$.lineCount=c.lineCount,$.lines=c.getMetrics(),$.actualBounds=ke,$.measuredBounds=Ce,$.naturalBounds=Ie,V===0?v.a(ke):v.unionRect(ke),T.e(me),T.e(we),z.e(fe),U.e(le)}e.Ge!==null&&e.Ge.push(v),l.unionNoCheck(v.x,v.y,v.width,v.height)}determineGraduatedMarks(e,n){const o=n.geometry,l=n.strokeWidth,c=o.flattenedSegments,h=o.flattenedLengths,f=o.flattenedTotalLength,g=c.length;let v=0,w=0;const k=t.et();for(let J=0;J<g;J++){const Q=c[J],ne=[];v=0,w=0;const le=Q.length;for(let fe=0;fe<le;fe+=2){const we=Q[fe],ye=Q[fe+1];if(fe===0){v=we,w=ye;continue}let ge=Math.atan2(ye-w,we-v)*180/Math.PI;ge<0&&(ge+=360),ne.push(ge),v=we,w=ye}k.push(ne)}const P=this.Pv(e),N=e.C.r,F=N.length;let H=0,V=0,$=f;e.xs=[];let K;for(let J=0;J<F;J++){const Q=N[J];if(K=[],!Q.visible||Q===n){e.xs.push(K);continue}const ne=Math.abs(Q.interval),le=e.graduatedTickUnit;if(le*ne*f/e.graduatedRange<2&&Q.graduatedSkip===null){e.xs.push(K);continue}let fe=h[0][0],we=0,ye=0;V=f*Q.graduatedStart-1e-4,$=f*Q.graduatedEnd+1e-4;const ge=le*ne;let me=e.graduatedTickBase;if(me<e.graduatedMin){let Be=(e.graduatedMin-me)/ge;Be=Be%1===0?Be:Math.floor(Be+1),me+=Be*ge}else if(me>e.graduatedMin+ge){const Be=Math.floor((me-e.graduatedMin)/ge);me-=Be*ge}const ke=P[J],Ce=me,Ie=e.graduatedMax*1e-6;for(let Be=1;me<=e.graduatedMax+Ie;Be++){if(this.Sv(e,me-e.graduatedTickBase,ke)&&(me>e.graduatedMax&&(me=e.graduatedMax),(Q.graduatedSkip===null||Q instanceof rn&&!Q.graduatedSkip(me,Q)||Q instanceof zt&&!Q.graduatedSkip(me,Q))&&(H=(me-e.graduatedMin)*f/e.graduatedRange,H>f&&(H=f),V<=H&&H<=$))){let Xe=k[we][ye],He=h[we][ye];for(;we<h.length;){for(;H>fe&&ye<h[we].length-1;)ye++,Xe=k[we][ye],He=h[we][ye],fe+=He;if(H<=fe)break;we++,ye=0,Xe=k[we][ye],He=h[we][ye],fe+=He}const Ke=c[we],Et=Ke[ye*2],It=Ke[ye*2+1],bt=Ke[ye*2+2],At=Ke[ye*2+3],wt=(H-(fe-He))/He,Vt=new T(Et+(bt-Et)*wt+l/2-o.bounds.x,It+(At-It)*wt+l/2-o.bounds.y);if(Vt.scale(n.scale,n.scale),Xe=this.Mv(Xe,wt,Ke,k[we],ye),Q instanceof rn){let qt="";Q.graduatedFunction!==null?(qt=Q.graduatedFunction(me,Q),qt=qt!=null?qt.toString():""):qt=(+me.toFixed(2)).toString(),qt!==""&&K.push({pt:Vt,angle:Xe,text:qt})}else K.push({pt:Vt,angle:Xe})}me=Ce+Be*ge}e.xs.push(K)}t.J(k)}Mv(e,n,o,l,c){if(n<.5005&&n>.4995)return e;let h=e;if(n<.5?c>0?h=l[c-1]:I.z(o[0],o[o.length-2])&&I.z(o[1],o[o.length-1])&&(h=l[l.length-1]):n>.5&&(c+1<l.length?h=l[c+1]:I.z(o[0],o[o.length-2])&&I.z(o[1],o[o.length-1])&&(h=l[0])),e!==h){let f=Math.abs(e-h);if(f>180&&(e<h?e+=360:h+=360,f=Math.abs(e-h)),n<5e-4||n>.9995)return(e+h)/2%360;if(f<10){const g=1-Math.abs(.5-n);return(e*g+h*(1-g))%360}}return e}Pv(e){if(e.ss===null){const n=[],o=e.C.r,l=o.length;for(let c=0;c<l;c++){const h=o[c],f=[];if(n.push(f),!h.visible)continue;const g=h.interval;if(!(g<0))for(let v=0;v<l;v++){if(v===c)continue;const w=o[v];if(!w.visible||h.constructor!==w.constructor)continue;const k=w.interval;k>g&&f.push(k)}}e.ss=n}return e.ss}Sv(e,n,o){const l=o.length;for(let c=0;c<l;c++){const h=o[c]*e.graduatedTickUnit,f=n%h,g=e.graduatedTickUnit*1e-6;if(f<g&&f>-g)return!1}return!0}Ui(e,n,o){const l=o.ia;o.ia=!0;const c=e.naturalBounds,h=c.width,f=c.height,g=n instanceof Ni;n.save(),n.beginPath(),n.rect(-1,-1,h+1,f+1),n.clip(),n.endPath();const v=e.findMainElement();v.Ui(n,o);let w=e.getDocumentScale()*o.scale;w<=0&&(w=1);const k=v.actualBounds,P=e.C.r,N=e.xs,F=P.length;for(let H=0;H<F;H++){const V=P[H],$=N[H],K=$.length;if(!(!V.visible||V===v||$.length===0)){if(V instanceof zt){if(e.graduatedTickUnit*V.interval*v.geometry.flattenedTotalLength/e.graduatedRange*w<2&&V.graduatedSkip===null)continue;const J=V.measuredBounds,Q=V.strokeWidth*V.scale;let ne=V.alignmentFocus;ne.isNoSpot()&&(ne=L.TopCenter);for(let le=0;le<K;le++){const fe=$[le].pt,we=$[le].angle;this.Nv(V,fe,k,we,J,Q,ne),V.Ui(n,o),g&&(e.svg.appendChild(V.svg),V.svg=null),V.qr.Ri()}}else if(V instanceof rn){e.Pe===null&&(e.Pe=new rn);const J=e.Pe;this.EA(V,J),J.V2=!0;for(let Q=0;Q<K;Q++){const ne=$[Q];if(ne.actualBounds&&ne.measuredBounds&&ne.naturalBounds){J.Cv(ne);const le=ne.actualBounds;J.Bt(le.x,le.y,le.width,le.height),this.Lv(J,k,le,ne.measuredBounds,ne.naturalBounds),J.Jr=V.part,J.Vs=V.panel,J.Ui(n,o),J.Vs=null,J.Jr=null,g&&(e.svg.appendChild(J.svg),J.svg=null)}}}}}o.ia=l,n.restore(),n.clearContextCache(!0)}Nv(e,n,o,l,c,h,f){const g=e.qr;g.Ri(),g.Fs(n.x+o.x,n.y+o.y),g.cs(l+e.angle,0,0),g.Fs(-c.width*f.x+f.offsetX+h/2,-c.height*f.y+f.offsetY+h/2),g.tt(e.scale,e.scale),e.Zu(!1),e.hh.set(e.qr),e.da=e.scale,e.ka(!1)}Lv(e,n,o,l,c){const h=e.qr;h.Ri(),h.Fs(o.x+n.x,o.y+n.y),h.Fs(-l.x,-l.y),e.g0(h,c.x,c.y,c.width,c.height),e.Zu(!1),e.hh.set(e.qr),e.da=e.scale,e.ka(!1)}EA(e,n){n.Av(e)}}Ln.dn("Graduated",new by);var lu=(G=>(G[G.Uniform=6]="Uniform",G[G.UniformToFill=7]="UniformToFill",G))(lu||{});class Je extends Wt{H;C;Zt;nd;Bn;Qr;to;Bo;z2;F;od;st;yi;_t;rd;wh;Gs;constructor(e,n){if(super(),this.H=null,e===void 0)this.H=Je.Position;else if(typeof e=="string"){const o=Ln.es.get(e);o!==null&&(this.H=o)}else e instanceof Ln?this.H=e:e&&(this.H=Je.Position,n=e);this.H===null&&t.o("Panel type not specified or PanelLayout not loaded: "+e),this.n|=4194304|(this.H===Je.Grid?1048576:0),this.C=new m,this.Zt=W.Rg,this.nd=L.Default,this.Bn=1,this.Qr=null,this.to="",this.Bo=new z(NaN,NaN,NaN,NaN),this.z2=null,this.F=null,this.od=6,this.yi=null,this.st=null,this._t=null,this.rd=NaN,this.wh=null,this.Gs=null,n&&Object.assign(this,n)}cloneProtected(e){super.cloneProtected(e),e.H=this.H,e.Zt=this.Zt.P(),e.nd=this.nd.P(),e.Bn=this.Bn,e.to=this.to,e.Bo.a(this.Bo),this.F!==null&&(e.F=this.F.copy(e)),e.od=this.od,this.st!==null&&(e.st=this.st.copy()),this.yi!==null&&(e.yi=this.yi.copy()),e._t=this._t,e.rd=this.rd,e.wh=this.wh}vo(e){super.vo(e),e.C=this.C;const n=e.C.r,o=n.length;for(let l=0;l<o;l++){const c=n[l];c.Vs=e}e.Qr=null}copy(){const e=super.copy();if(e!==null){const n=this.C.r,o=n.length;for(let l=0;l<o;l++){const c=n[l].copy();e.Tv(c)}return e}else return null}toString(){return"Panel("+this.type.name+")#"+b.as(this)}get type(){return this.H}set type(e){const n=this.H;n!==e&&(this.H=e,this.af=this.H===Je.Grid,this.c(),this.t("type",n,e))}get elements(){return this.C.iterator}get naturalBounds(){return this.zi}get padding(){return this.Zt}set padding(e){typeof e=="number"?(e<0&&t.W(e,">= 0",Je,"padding"),e=new W(e)):(e.left<0&&t.W(e.left,">= 0",Je,"padding:value.left"),e.right<0&&t.W(e.right,">= 0",Je,"padding:value.right"),e.top<0&&t.W(e.top,">= 0",Je,"padding:value.top"),e.bottom<0&&t.W(e.bottom,">= 0",Je,"padding:value.bottom"));const n=this.Zt;n.equals(e)||(e=e.P(),this.Zt=e,this.c(),this.t("padding",n,e))}get defaultAlignment(){return this.nd}set defaultAlignment(e){const n=this.nd;n.equals(e)||(e=e.P(),this.nd=e,this.c(),this.t("defaultAlignment",n,e))}get defaultStretch(){return this.Bn}set defaultStretch(e){const n=this.Bn;n!==e&&(this.Bn=e,this.c(),this.t("defaultStretch",n,e))}get defaultSeparatorPadding(){return this.F!==null?this.F.J0:W.Rg}set defaultSeparatorPadding(e){typeof e=="number"&&(e=new W(e));const n=this.defaultSeparatorPadding;n.equals(e)||(e=e.P(),this.F===null&&(this.F=new js),this.F.J0=e,this.c(),this.t("defaultSeparatorPadding",n,e))}get defaultRowSeparatorStroke(){return this.F!==null?this.F.$0:null}set defaultRowSeparatorStroke(e){const n=this.defaultRowSeparatorStroke;n!==e&&(e===null||typeof e=="string"||e instanceof Ae)&&(e instanceof Ae&&e.u(),this.F===null&&(this.F=new js),this.F.$0=e,this.S(),this.t("defaultRowSeparatorStroke",n,e))}get defaultRowSeparatorStrokeWidth(){return this.F!==null?this.F.Z0:1}set defaultRowSeparatorStrokeWidth(e){const n=this.defaultRowSeparatorStrokeWidth;n!==e&&isFinite(e)&&e>=0&&(this.F===null&&(this.F=new js),this.F.Z0=e,this.c(),this.t("defaultRowSeparatorStrokeWidth",n,e))}get defaultRowSeparatorDashArray(){return this.F!==null?this.F.Q0:null}set defaultRowSeparatorDashArray(e){const n=this.defaultRowSeparatorDashArray;if(n!==e){if(e!==null&&!Array.isArray(e)&&t.Zi(e,"Array",Je,"defaultRowSeparatorDashArray:value"),e!==null){const o=e.length;let l=0;for(let c=0;c<o;c++){const h=e[c];(typeof h!="number"||!(h>=0)||!isFinite(h))&&t.o("defaultRowSeparatorDashArray value "+h+" at index "+c+" must be a positive number or zero."),l+=h}if(l===0){if(n===null)return;e=null}}this.F===null&&(this.F=new js),this.F.Q0=e,this.S(),this.t("defaultRowSeparatorDashArray",n,e)}}get defaultColumnSeparatorStroke(){return this.F!==null?this.F._0:null}set defaultColumnSeparatorStroke(e){const n=this.defaultColumnSeparatorStroke;n!==e&&(e===null||typeof e=="string"||e instanceof Ae)&&(e instanceof Ae&&e.u(),this.F===null&&(this.F=new js),this.F._0=e,this.S(),this.t("defaultColumnSeparatorStroke",n,e))}get defaultColumnSeparatorStrokeWidth(){return this.F!==null?this.F.tp:1}set defaultColumnSeparatorStrokeWidth(e){const n=this.defaultColumnSeparatorStrokeWidth;n!==e&&isFinite(e)&&e>=0&&(this.F===null&&(this.F=new js),this.F.tp=e,this.c(),this.t("defaultColumnSeparatorStrokeWidth",n,e))}get defaultColumnSeparatorDashArray(){return this.F!==null?this.F.ip:null}set defaultColumnSeparatorDashArray(e){const n=this.defaultColumnSeparatorDashArray;if(n!==e){if(e!==null&&!Array.isArray(e)&&t.Zi(e,"Array",Je,"defaultColumnSeparatorDashArray:value"),e!==null){const o=e.length;let l=0;for(let c=0;c<o;c++){const h=e[c];(typeof h!="number"||!(h>=0)||!isFinite(h))&&t.o("defaultColumnSeparatorDashArray value "+h+" at index "+c+" must be a positive number or zero."),l+=h}if(l===0){if(n===null)return;e=null}}this.F===null&&(this.F=new js),this.F.ip=e,this.S(),this.t("defaultColumnSeparatorDashArray",n,e)}}get yh(){return this.F!==null?this.F.yh:null}set yh(e){this.F===null&&(this.F=new js),this.F.yh=e}get viewboxStretch(){return this.od}set viewboxStretch(e){const n=this.od;n!==e&&(this.od=e,this.c(),this.t("viewboxStretch",n,e))}get gridCellSize(){return this.yi!==null?this.yi.ld:B.wC}set gridCellSize(e){this.yi===null&&(this.yi=new ll);const n=this.yi.ld;if(!n.equals(e)){(!e.isReal()||e.width===0||e.height===0)&&t.o("Invalid Panel.gridCellSize: "+e),this.yi.ld=e.P();const o=this.diagram;o!==null&&this===o.grid&&o.th(),this.S(),this.t("gridCellSize",n,e)}}get gridOrigin(){return this.yi!==null?this.yi.hd:T.xo}set gridOrigin(e){this.yi===null&&(this.yi=new ll);const n=this.yi.hd;if(!n.equals(e)){e.isReal()||t.o("Invalid Panel.gridOrigin: "+e),this.yi.hd=e.P();const o=this.diagram;o!==null&&this===o.grid&&o.th(),this.S(),this.t("gridOrigin",n,e)}}get graduatedMin(){return this.st!==null?this.st.ep:0}set graduatedMin(e){const n=this.graduatedMin;if(n!==e&&(this.st===null&&(this.st=new vr),this.st.ep=e,this.c(),this.t("graduatedMin",n,e),this.Wc())){const o=this.part;o!==null&&this.ba(o,"graduatedRange")}}get graduatedMax(){return this.st!==null?this.st.sp:100}set graduatedMax(e){const n=this.graduatedMax;if(n!==e&&(this.st===null&&(this.st=new vr),this.st.sp=e,this.c(),this.t("graduatedMax",n,e),this.Wc())){const o=this.part;o!==null&&this.ba(o,"graduatedRange")}}get graduatedRange(){return this.graduatedMax-this.graduatedMin}get graduatedTickUnit(){return this.st!==null?this.st.np:10}set graduatedTickUnit(e){const n=this.graduatedTickUnit;n!==e&&e>0&&(this.st===null&&(this.st=new vr),this.st.np=e,this.c(),this.t("graduatedTickUnit",n,e))}get graduatedTickBase(){return this.st!==null?this.st.op:0}set graduatedTickBase(e){const n=this.graduatedTickBase;n!==e&&(this.st===null&&(this.st=new vr),this.st.op=e,this.c(),this.t("graduatedTickBase",n,e))}get xs(){return this.st!==null?this.st.xs:null}set xs(e){this.st!==null?this.st.xs=e:e!==null&&(this.st=new vr,this.st.xs=e)}get Ge(){return this.st!==null?this.st.Ge:null}set Ge(e){this.st!==null?this.st.Ge=e:e!==null&&(this.st=new vr,this.st.Ge=e)}get ss(){return this.st!==null?this.st.ss:null}set ss(e){this.st!==null?this.st.ss=e:e!==null&&(this.st=new vr,this.st.ss=e)}get Pe(){return this.st!==null?this.st.Pe:null}set Pe(e){this.st!==null?this.st.Pe=e:e!==null&&(this.st=new vr,this.st.Pe=e)}w0(e){super.w0(e);const n=this.C.r,o=n.length;for(let l=0;l<o;l++)n[l].w0(e)}gh(e,n){if(this.H===Je.Grid){e.commitTransform(),this.H.Ui(this,e,n);return}if(this.H===Je.Graduated){e.commitTransform(),this.H.Ui(this,e,n);return}if(this.H===Je.Table)if(e.commitTransform(),e instanceof Ni){const f=e.currentElement;e.currentElement=e.newGroup2("gojs-ts"),this.X2(e,n),e.endGroup(),e.currentElement=f}else this.X2(e,n);const o=this.isClipping&&this.H===Je.Spot;o&&e.save();const l=this.findMainElement(),c=this.C.r,h=c.length;for(let f=0;f<h;f++){const g=c[f];o&&g===l&&(e.clipInsteadOfFill=!0),g.Ui(e,n),o&&g===l&&(e.clipInsteadOfFill=!1)}o&&(e.restore(),e.clearContextCache(!0))}X2(e,n){e.lineCap="butt";const o=this.rowCount>0?this.Xe:null,l=this.columnCount>0?this.Ye:null;o!==null&&this.t1(e,n,!0,o,!0),l!==null&&this.t1(e,n,!1,l,!0),o!==null&&this.UA(e,!0,o),l!==null&&this.UA(e,!1,l),o!==null&&this.t1(e,n,!0,o,!1),l!==null&&this.t1(e,n,!1,l,!1)}UA(e,n,o){const l=o.length,c=this.actualBounds,h=this.naturalBounds;let f=!0;for(let g=0;g<l;g++){const v=o[g];if(v===void 0||v.actual===0)continue;if(f){f=!1;continue}if(n){if(v.position>h.height)continue}else if(v.position>h.width)continue;let w=v.separatorStrokeWidth;isNaN(w)&&(w=n?this.defaultRowSeparatorStrokeWidth:this.defaultColumnSeparatorStrokeWidth);let k=v.separatorStroke;if(k===null&&(k=n?this.defaultRowSeparatorStroke:this.defaultColumnSeparatorStroke),w===0||k===null)continue;this.rn(e,k,!1,!1,h,c);let P=!1,N=v.separatorDashArray;N===null&&(N=n?this.defaultRowSeparatorDashArray:this.defaultColumnSeparatorDashArray),N!==null&&(P=!0,e.enableDash(N,0)),e.beginPath();const F=v.position+w;n?F>h.height&&(w-=F-h.height):F>h.width&&(w-=F-h.width);let H=v.position+w/2;e.lineWidth=w;const V=this.Zt;if(n){H+=V.top;const $=V.left,K=h.width-V.right;e.moveTo($,H),e.lineTo(K,H)}else{H+=V.left;const $=V.top,K=h.height-V.bottom;e.moveTo(H,$),e.lineTo(H,K)}e.stroke(),e.endPath(),P&&e.disableDash()}}t1(e,n,o,l,c){const h=l.length,f=this.actualBounds,g=this.naturalBounds,v=this.BA(!0),w=this.BA(!1);for(let k=0;k<h;k++){const P=l[k];if(P===void 0||P.background===null||P.coversSeparators===c||P.actual===0)continue;const N=o?f.height:f.width;if(P.position>N)continue;let F=P.computeEffectiveSpacing(),H=P.separatorStrokeWidth;isNaN(H)&&(H=o?this.defaultRowSeparatorStrokeWidth:this.defaultColumnSeparatorStrokeWidth);let V=P.separatorStroke;V===null&&(V=o?this.defaultRowSeparatorStroke:this.defaultColumnSeparatorStroke),(V===null||P.index===(o?v:w))&&(H=0),F-=H;const $=P.position+H;let K=F+P.actual;if($+K>N&&(K=N-$),K<=0)continue;const J=this.Zt;this.rn(e,P.background,!0,!1,g,f),o?e.fillRect(J.left,$+J.top,f.width-(J.left+J.right),K):e.fillRect($+J.left,J.top,K,f.height-(J.top+J.bottom))}}BA(e){const n=e?this.rowCount:this.columnCount;for(let o=0;o<n;o++){const l=e?this.Xe[o]:this.Ye[o];if(l!==void 0)return l.index}return 0}Qc(){const e=this.C.r,n=e.length;for(let o=0;o<n;o++)e[o].Qc();this.Ve(!0)}Zc(e,n,o){const l=this.svg;if(l===null)return!1;if(this.type===Je.Table){const f=l.getElementsByClassName("gojs-ts"),g=f.length!==0?f[0]:null;g!==null&&(g.innerHTML=""),e.currentElement=g,this.X2(e,n),e.currentElement=null}else{if(this.H===Je.Grid||this.H===Je.Graduated)return l.innerHTML="",l.remove(),!1;if(this.H===Je.Spot&&this.isClipping)return l.innerHTML="",l.remove(),this.ah=null,this.Qc(),!1}if(!super.Zc(e,n,o))return!1;const c=this.C.r,h=c.length;for(let f=0;f<h;f++)c[f].Ui(e,n);return!0}$u(e){return!0}b0(e,n,o,l){if(!this.isClipping){if(this.Xs()&&e.partClipRect!==null){const c=e.partClipRect,h=this.C.r;let f=0,g=0;for(let v=0;v<h.length;v++){if(!h[v].isVisibleObject())continue;const w=h[v].actualBounds;f=v===0?w.x:Math.min(w.x,f),g=v===0?w.y:Math.min(w.y,g)}l.setAttributeNS(null,"clip-path",`path('M ${c.x-o.x-f},${c.y-o.y-g} l ${c.width} 0 l 0 ${c.height} l -${c.width} 0 z')`);return}super.b0(e,n,o,l)}}Jc(e,n,o,l,c){const h=this.an(),f=this.T,g=1/(f.m11*f.m22-f.m12*f.m21);let v=f.m22*g,w=-f.m12*g,k=-f.m21*g,P=f.m11*g,N=g*(f.m21*f.dy-f.m22*f.dx),F=g*(f.m12*f.dx-f.m11*f.dy);if(this.background!==null){const H=e*v+n*k+N,V=e*w+n*P+F,$=o*v+l*k+N,K=o*w+l*P+F;c.i(0,0);const J=this.naturalBounds,Q=I.gl(0,0,J.width,J.height,H,V,$,K,c);return c.T(f),Q}else{h||(v=1,w=0,k=0,P=1,N=0,F=0);const H=e*v+n*k+N,V=e*w+n*P+F,$=o*v+l*k+N,K=o*w+l*P+F;c.i($,K);let J=($-H)**2+(K-V)**2,Q=!1;const ne=this.C.r,le=ne.length,fe=T.l();let we=null,ye=1/0,ge=null;const me=this.isClipping&&this.H===Je.Spot;me&&(ge=T.l(),we=this.findMainElement(),Q=we.Jc(H,V,$,K,ge),Q&&(ye=(H-ge.x)**2+(V-ge.y)**2));for(let ke=0;ke<le;ke++){const Ce=ne[ke];if(!Ce.visible||Ce===we||!Ce.Jc(H,V,$,K,fe))continue;Q=!0;const Ie=(H-fe.x)**2+(V-fe.y)**2;Ie<J&&(J=Ie,c.set(fe))}return me&&(ye>J&&c.set(ge),T.e(ge)),T.e(fe),h&&c.T(f),Q}}Au(){const e=this.C.r,n=e.length;for(let o=0;o<n;o++)e[o].Au();super.Au()}c(e){if(this.To())return;super.c(e);let n=null;(this.H===Je.Auto||this.H===Je.Link)&&(n=this.findMainElement());const o=this.C.r,l=o.length;for(let c=0;c<l;c++){const h=o[c];if((h===n||h.isPanelMain)&&h.c(!0),h.desiredSize.isReal())continue;const f=h.zs(!1);!(h instanceof us)&&!(h instanceof Je)&&!(h instanceof rn)&&f===0||h.c(!0)}}tf(){if(this.To())return;this.ue(!0),this.Jn(!0);const e=this.C.r,n=e.length;for(let o=0;o<n;o++)e[o].tf()}$c(){if(this.Kb()===!1){this.Zu(!0),this.ka(!0);const e=this.C.r,n=e.length;for(let o=0;o<n;o++)e[o].P2()}}P2(){this.ka(!0);const e=this.C.r,n=e.length;for(let o=0;o<n;o++)e[o].P2()}Wu(e,n,o,l){const c=this.Bo;c.i(0,0,0,0);const h=this.desiredSize,f=this.minSize;o===void 0&&(o=f.width,l=f.height),o=Math.max(o,f.width),l=Math.max(l,f.height);const g=this.maxSize;isNaN(h.width)||(e=Math.min(h.width,g.width)),isNaN(h.height)||(n=Math.min(h.height,g.height)),e=Math.max(o,e),n=Math.max(l,n);const v=this.Zt;e=Math.max(e-v.left-v.right,0),n=Math.max(n-v.top-v.bottom,0);const w=this.C.r;this.H.measure(this,e,n,w,c,o,l);let k=c.width+v.left+v.right,P=c.height+v.top+v.bottom;isFinite(h.width)&&(k=h.width),isFinite(h.height)&&(P=h.height),k=Math.min(g.width,k),P=Math.min(g.height,P),k=Math.max(f.width,k),P=Math.max(f.height,P),k=Math.max(o,k),P=Math.max(l,P),c.Fn(k,P),this.naturalBounds.Fn(k,P),this.Wn(0,0,k,P)}findMainElement(){if(this.Qr===null){const e=this.C.r,n=e.length;if(n===0)return null;for(let o=0;o<n;o++){const l=e[o];if(l.isPanelMain===!0)return this.Qr=l,l}this.Qr=e[0]}return this.Qr}Uo(){return this.part!==null?this.part.locationObject:null}get panelLayoutState(){return this.z2}set panelLayoutState(e){this.z2=e}uh(e,n,o,l){const c=this.C.r;if(this.actualBounds.i(e,n,o,l),!this.desiredSize.isReal()){let h=this.zs(!0);const f=this.measuredBounds,g=f.width,v=f.height,w=this.Wr,k=w.left+w.right,P=w.top+w.bottom;switch(g===o&&v===l&&(h=0),h){case 0:(g>o||v>l)&&(this.c(),this.ht(g>o?o:g,v>l?l:v,0,0));break;case 2:this.c(!0),this.ht(o+k,l+P,0,0);break;case 5:this.c(!0),this.ht(o+k,v+P,0,0);break;case 4:this.c(!0),this.ht(g+k,l+P,0,0);break}}this.H.arrange(this,c,this.Bo)}fh(e){const n=this.naturalBounds,o=this.Uo();if(z.contains(0,0,n.width,n.height,e.x,e.y)){const l=this.C.r,c=l.length,h=T.V(0,0);for(let f=c;f--;){const g=l[f];if(!(!g.visible&&g!==o)&&(h.set(e).Oe(g.T),g.containsPoint(h)))return T.e(h),!0}return T.e(h),this.Lt!==null}return!1}d0(e){if(this.Hn===e)return this;const n=this.C.r,o=n.length;for(let l=0;l<o;l++){const c=n[l].d0(e);if(c!==null)return c}return null}walkVisualTreeFrom(e,n){if(n(this,e),e instanceof Je){const o=e.C.r,l=o.length;for(let c=0;c<l;c++)this.walkVisualTreeFrom(o[c],n)}}Gr(e){this.VA(this,e)}VA(e,n){n(e);const o=e.C.r,l=o.length;for(let c=0;c<l;c++){const h=o[c];h instanceof Je&&this.VA(h,n)}}Dv(e){this.zA(this,e)}zA(e,n){if(n(e),e instanceof Je){const o=e.C.r,l=o.length;for(let c=0;c<l;c++)this.zA(o[c],n)}}findInVisualTree(e){return this.XA(this,e)}XA(e,n){if(n(e))return e;if(e instanceof Je){const o=e.C.r,l=o.length;for(let c=0;c<l;c++){const h=this.XA(o[c],n);if(h!==null)return h}}return null}findObject(e){if(this.name===e)return this;const n=this.C.r;let o=n.length;this.Fv()&&(o=this.rp());for(let l=0;l<o;l++){const c=n[l];if(c instanceof Je){const h=c.findObject(e);if(h!==null)return h}if(c.name===e)return c}return null}YA(){const e=this.C.r,n=e.length;let o=0;for(let l=0;l<n;l++){const c=e[l];c instanceof Je?o=Math.max(o,c.YA()):c instanceof zt&&(o=Math.max(o,c.Rv()))}return o}an(){return!(this.type===Je.TableRow||this.type===Je.TableColumn)}$r(){return this.type===Je.TableRow||this.type===Je.TableColumn}bL(e,n,o){if(this.pickable===!1||(n===void 0&&(n=null),o===void 0&&(o=null),this._e()))return null;const l=this.naturalBounds,c=1/this.getDocumentScale(),h=this.an(),f=h?e:T.V(e.x,e.y).Oe(this.T),g=this.diagram;let v=10,w=5;if(g!==null&&(v=g.getInputOption("extraTouchArea"),w=v/2),z.contains(-(w*c),-(w*c),l.width+v*c,l.height+v*c,f.x,f.y)){if(!this.af){const P=this.C.r,N=P.length,F=T.l(),H=this.isClipping&&this.H===Je.Spot,V=H?this.findMainElement():null;if(H&&(V.an()?F.set(e).Oe(V.T):F.set(e),!V.containsPoint(F)))return T.e(F),h||T.e(f),null;const $=this.Uo();for(let K=N;K--;){const J=P[K];if(!J.visible&&J!==$||(J.an()?F.set(e).Oe(J.T):F.set(e),H&&J===V))continue;let Q=null;if(J instanceof Je?Q=J.bL(F,n,o):J.pickable===!0&&J.containsPoint(F)&&(Q=J),Q!==null&&(n!==null&&(Q=n(Q)),Q!==null&&(o===null||o(Q))))return T.e(F),h||T.e(f),Q}T.e(F)}if(this.background===null)return h||T.e(f),null;const k=z.contains(0,0,l.width,l.height,f.x,f.y)?this:null;return h||T.e(f),k}return h||T.e(f),null}kL(e,n,o,l){if(this.pickable===!1)return!1;n===void 0&&(n=null),o===void 0&&(o=null);const c=this.naturalBounds,h=this.an(),f=h?e:T.V(e.x,e.y).Oe(this.T),g=this.$r(),v=z.contains(0,0,c.width,c.height,f.x,f.y);if(g||v){if(!this.af){const w=this.C.r,k=w.length,P=T.l(),N=this.Uo();for(let F=k;F--;){const H=w[F];if(!H.visible&&H!==N)continue;H.an()?P.set(e).Oe(H.T):P.set(e);let V=H;const $=H instanceof Je?H:null;if($!==null?$.kL(P,n,o,l):V.containsPoint(P)){if(V.pickable===!1)continue;n!==null&&(V=n(V)),V!==null&&(o===null||o(V))&&l.add(V)}}T.e(P)}return h||T.e(f),v&&this.background!==null}return h||T.e(f),!1}Tm(e,n,o,l,c,h){if(this.pickable===!1)return!1;n===void 0&&(n=null),o===void 0&&(o=null);let f=h;if(f===void 0&&(f=U.l(),f.Ri()),f.nc(this.T),this.containedInRect(e,f))return this.Y2(n,o,c),h===void 0&&U.e(f),!0;if(this.intersectsRect(e,f)){if(!this.af){const g=this.Uo(),v=this.C.r,w=v.length;for(let k=w;k--;){const P=v[k];if(!P.visible&&P!==g)continue;const N=P.actualBounds,F=this.naturalBounds;if(N.x>F.width||N.y>F.height||N.x+N.width<0||N.y+N.height<0)continue;let H=P;const V=P instanceof Je?P:null,$=U.l();$.set(f),(V!==null?V.Tm(e,n,o,l,c,$):H.wA(e,l,$))&&(n!==null&&(H=n(H)),H!==null&&(o===null||o(H))&&c.add(H)),U.e($)}}return h===void 0&&U.e(f),l}return h===void 0&&U.e(f),!1}Y2(e,n,o){const l=this.C.r,c=l.length;for(let h=c;h--;){const f=l[h];if(!f.visible)continue;const g=f.actualBounds,v=this.naturalBounds;if(g.x>v.width||g.y>v.height||g.x+g.width<0||g.y+g.height<0)continue;f instanceof Je&&f.Y2(e,n,o);let w=f;e!==null&&(w=e(w)),w!==null&&(n===null||n(w))&&o.add(w)}}PL(e,n,o,l,c,h){if(this.pickable===!1)return!1;o===void 0&&(o=null),l===void 0&&(l=null);const f=this.naturalBounds,g=this.an(),v=g?e:T.V(e.x,e.y).Oe(this.T),w=g?n:T.V(n.x,n.y).Oe(this.T),k=v.distanceSquaredPoint(w),P=v.x>0&&v.x<f.width&&v.y>0&&v.y<f.height||T.distanceLineSegmentSquared(v.x,v.y,0,0,0,f.height)<=k||T.distanceLineSegmentSquared(v.x,v.y,0,f.height,f.width,f.height)<=k||T.distanceLineSegmentSquared(v.x,v.y,f.width,f.height,f.width,0)<=k||T.distanceLineSegmentSquared(v.x,v.y,f.width,0,0,0)<=k,N=v.distanceSquared(0,0)<=k&&v.distanceSquared(0,f.height)<=k&&v.distanceSquared(f.width,0)<=k&&v.distanceSquared(f.width,f.height)<=k;if(g||(T.e(v),T.e(w)),P){if(!this.af){const F=T.l(),H=T.l(),V=this.Uo(),$=this.C.r,K=$.length;for(let J=K;J--;){const Q=$[J];if(!Q.visible&&Q!==V)continue;const ne=Q.actualBounds,le=this.naturalBounds;if(g&&(ne.x>le.width||ne.y>le.height||ne.x+ne.width<0||ne.y+ne.height<0))continue;if(Q.an()){const ye=Q.T;F.set(e).Oe(ye),H.set(n).Oe(ye)}else F.set(e),H.set(n);let fe=Q;const we=Q instanceof Je?Q:null;(we!==null?we.PL(F,H,o,l,c,h):fe.xA(F,H,c))&&(o!==null&&(fe=o(fe)),fe!==null&&(l===null||l(fe))&&h.add(fe))}T.e(F),T.e(H)}return c?P:N}return!1}E2(e){let n=null;if(e instanceof zt){n=e.spot1,n===L.Default&&(n=null);const o=e.geometry;o!==null&&n===null&&(n=o.spot1)}return n===null&&(n=L.TopLeft),n}U2(e){let n=null;if(e instanceof zt){n=e.spot2,n===L.Default&&(n=null);const o=e.geometry;o!==null&&n===null&&(n=o.spot2)}return n===null&&(n=L.BottomRight),n}add(...e){for(let n=0;n<e.length;n++)this.insertAt(this.C.count,e[n]);return this}elt(e){return this.C.elt(e)}insertAt(e,n){n instanceof Pn&&t.o("Cannot add a Part to a Panel: "+n+"; use a Panel instead"),(this===n||this.isContainedBy(n))&&(this===n&&t.o("Cannot make a Panel contain itself: "+this.toString()),t.o("Cannot make a Panel indirectly contain itself: "+this.toString()+" already contains "+n.toString()));const o=n.panel;if(o!==null&&o!==this&&t.o("Cannot add a GraphObject that already belongs to another Panel to this Panel: "+n.toString()+", already contained by "+o.toString()+", cannot be shared by this Panel: "+this.toString()),this.H===Je.Grid&&!(n instanceof zt)&&t.o("Can only add Shapes to a Grid Panel, not: "+n),this.H===Je.Graduated&&!(n instanceof zt||n instanceof rn)&&t.o("Can only add Shapes or TextBlocks to a Graduated Panel, not: "+n),n.Pa(this),n.Jr=null,this.itemArray!==null){const f=n.data;t.G(f)&&(this.Gs===null&&(this.Gs=new _),this.Gs.set(f,n))}const l=this.C;let c=-1;if(o===this){let f=-1;const g=this.C.r,v=g.length;for(let w=0;w<v;w++)if(g[w]===n){f=w;break}if(f!==-1){if(f===e||f+1>=l.count&&e>=l.count)return;l.removeAt(f),c=f}else t.o("element "+n.toString()+" has panel "+o.toString()+" but is not contained by it.")}(e<0||e>l.count)&&(e=l.count),l.insertAt(e,n),(e===0||n.isPanelMain)&&(this.Qr=null),this.To()||this.c(),n.c(!1),n.portId!==null?this.fn=!0:n instanceof Je&&n.fn===!0&&(this.fn=!0),this.ss=null,this.isEnabledObject()||this.i1(n,!1);const h=this.part;if(h!==null){h.L0(),h.cf(),this.fn&&h instanceof Lt&&(h.fn=!0),h.fn&&h instanceof Lt&&(h.ne=null);const f=this.diagram;if(f!==null&&f.undoManager.isUndoingRedoing)return;c!==-1&&h.raiseChangedEvent(4,"elements",this,n,null,c,null),h.raiseChangedEvent(3,"elements",this,null,n,null,e)}}get fn(){return(this.n&8388608)!==0}set fn(e){(this.n&8388608)!==0!==e&&(this.n=this.n^8388608)}p2(){return(this.n&16777216)!==0}G2(e){e?this.n|=16777216:this.n&=-16777217}Tv(e){e.Pa(this),e.Jr=null;const n=this.C,o=n.count;n.insertAt(o,e);const l=this.part;if(l!==null){l.L0(),e.portId!==null&&l instanceof Lt&&(l.fn=!0);const c=this.diagram;if(c!==null&&c.undoManager.isUndoingRedoing)return;l.raiseChangedEvent(3,"elements",this,null,e,null,o)}}ZR(e){const n=this.C.r,o=n.length;let l=-1;for(let c=0;c<o;c++)if(n[c]===e){l=c;break}return l}remove(e){const n=this.C.r,o=n.length;let l=-1;for(let c=0;c<o;c++)if(n[c]===e){l=c;break}l!==-1&&this.te(l,!0)}removeAt(e){e>=0&&this.te(e,!0)}te(e,n){const o=this.C,l=o.elt(e);if(l.Jr=null,l.Pa(null),this.Gs!==null){const h=l.data;t.G(h)&&this.Gs.delete(h)}o.removeAt(e),this.ue(!1),this.c(),this.Qr===l&&(this.Qr=null),this.ss=null;const c=this.part;if(c!==null){c.L0(),c.cf(),c.invalidateAdornments(),c instanceof Lt&&(l instanceof Je?l.walkVisualTreeFrom(l,(f,g)=>c.C2(g,n)):c.C2(l,n));const h=this.diagram;if(h!==null&&h.undoManager.isUndoingRedoing)return;c.raiseChangedEvent(4,"elements",this,l,null,e,null)}}get Xe(){return this.F===null&&(this.F=new js),this.F.Xe}get rowCount(){return this.F===null?0:this.Xe.length}getRowDefinition(e){e<0&&t.W(e,">= 0",Je,"getRowDefinition:idx"),e=Math.round(e);const n=this.Xe;if(n[e]===void 0){const o=new ei;o.Pa(this),o.isRow=!0,o.index=e,n[e]=o,this.raiseChangedEvent(3,"rowdefs",this,null,o,null,e)}return n[e]}removeRowDefinition(e){if(e<0&&t.W(e,">= 0",Je,"removeRowDefinition:idx"),this.rowCount===0)return;e=Math.round(e);const n=this.Xe,o=n[e];if(o){n[e]=void 0;let l=n.length-1;for(;l>=0&&n[l--]===void 0;)n.length--;this.raiseChangedEvent(4,"rowdefs",this,o,null,e,null),this.c()}}$L(e,n){const o=this.Xe;if(!(e<0)){if(o[e]=n instanceof ei?n:void 0,!n){let l=o.length-1;for(;l>=0&&o[l--]===void 0;)o.length--}this.c()}}get Ye(){return this.F===null&&(this.F=new js),this.F.Ye}get columnCount(){return this.F===null?0:this.Ye.length}getColumnDefinition(e){e<0&&t.W(e,">= 0",Je,"getColumnDefinition:idx"),e=Math.round(e);const n=this.Ye;if(n[e]===void 0){const o=new ei;o.Pa(this),o.isRow=!1,o.index=e,n[e]=o,this.raiseChangedEvent(3,"coldefs",this,null,o,null,e)}return n[e]}removeColumnDefinition(e){if(e<0&&t.W(e,">= 0",Je,"removeColumnDefinition:idx"),this.columnCount===0)return;e=Math.round(e);const n=this.Ye,o=n[e];if(o){n[e]=void 0;let l=n.length-1;for(;l>=0&&n[l--]===void 0;)n.length--;this.raiseChangedEvent(4,"coldefs",this,o,null,e,null),this.c()}}ZL(e,n){const o=this.Ye;if(!(e<0)){if(o[e]=n instanceof ei?n:void 0,!n){let l=o.length-1;for(;l>=0&&o[l--]===void 0;)o.length--}this.c()}}addRowColumnDefinition(e){let n=null;return e.isRow?n=this.getRowDefinition(e.index):e.isRow||(n=this.getColumnDefinition(e.index)),n&&n.Hb(e),this}addRowDefinition(e,n){const o=this.getRowDefinition(e);return o&&o.Hb(new ei(n)),this}addColumnDefinition(e,n){const o=this.getColumnDefinition(e);return o&&o.Hb(new ei(n)),this}get rowSizing(){return this.F!==null?this.F.lp:3}set rowSizing(e){const n=this.rowSizing;n!==e&&(this.F===null&&(this.F=new js),this.F.lp=e,this.c(),this.t("rowSizing",n,e))}get columnSizing(){return this.F!==null?this.F.hp:3}set columnSizing(e){const n=this.columnSizing;n!==e&&(this.F===null&&(this.F=new js),this.F.hp=e,this.c(),this.t("columnSizing",n,e))}get topIndex(){return this.F!==null?this.F.ap:0}set topIndex(e){const n=this.topIndex;n!==e&&((!isFinite(e)||e<0)&&t.o("Panel.topIndex must be greater than zero and a real number, not: "+e),this.F===null&&(this.F=new js),this.F.ap=e,this.c(),this.t("topIndex",n,e))}get leftIndex(){return this.F!==null?this.F.cp:0}set leftIndex(e){const n=this.leftIndex;n!==e&&((!isFinite(e)||e<0)&&t.o("Panel.leftIndex must be greater than zero and a real number, not: "+e),this.F===null&&(this.F=new js),this.F.cp=e,this.c(),this.t("leftIndex",n,e))}findRowForLocalY(e){if(e<0||this.type!==Je.Table||this.rowCount===0)return-1;let n=0;const o=this.Xe,l=o.length;let c=this.topIndex;for(;c<l;c++){const h=o[c];if(h!==void 0&&(n+=h.total,e<n))return c}return c}findColumnForLocalX(e){if(e<0||this.type!==Je.Table||this.columnCount===0)return-1;let n=0;const o=this.Ye,l=o.length;let c=this.leftIndex;for(;c<l;c++){const h=o[c];if(h!==void 0&&(n+=h.total,e<n))return c}return c}graduatedPointForValue(e,n){if(n===void 0&&(n=new T(NaN,NaN)),this.type!==Je.Graduated)return n.i(NaN,NaN),n;e=Math.min(Math.max(e,this.graduatedMin),this.graduatedMax);const o=this.findMainElement();return o.geometry.getPointAlongPath((e-this.graduatedMin)/this.graduatedRange,n),o.T.gt(n)}graduatedValueForPoint(e){if(this.type!==Je.Graduated)return NaN;const n=this.findMainElement();return n.T.$e(e),n.geometry.getFractionForPoint(e)*this.graduatedRange+this.graduatedMin}get data(){return this._t}set data(e){const n=this._t;if(n!==e){const o=this instanceof Pn&&!(this instanceof gn);o&&t.s(e,"object",Je,"data"),this.Et(),this._t=e;const l=this.diagram;if(l!==null)if(o)l.partManager.vv(this,n,e);else{const c=this.panel;c!==null&&c.Gs!==null&&(n!==null&&c.Gs.delete(n),e!==null&&c.Gs.set(e,this))}if(this.t("data",n,e),l!==null&&l.undoManager.isUndoingRedoing)return;e!==null&&this.updateTargetBindings()}}get itemIndex(){return this.rd}set itemIndex(e){const n=this.rd;n!==e&&(this.rd=e,this.t("itemIndex",n,e))}get Ys(){return this.p!==null?this.p.Ys:null}set Ys(e){this.Ci!==e&&(this.p===null&&(this.p=new Dr),this.p.Ys=e)}L2(){return this.Ys!==null}AA(){const e=this.Ys;return e!==null&&e.h}freezeBindings(){return this.Et()}Et(){let e=this.Ys;if(e===null)this.data!==null&&t.o("Template cannot have .data be non-null: "+this),this.Ys=e=new m;else if(e.h)return this;const n=new m;this.G2(!1),this.walkVisualTreeFrom(this,(c,h)=>{h.ch();const f=h.Ci;if(f!==null){h.S2(!1);const g=f.iterator;for(;g.next();){const v=g.value;v.mode===2&&h.S2(!0);const w=v.sourceName;if(v.isToObject){w==="/"&&c.G2(!0);const k=v.yA(c,h);k!==null&&(n.add(k),k.qn===null&&(k.qn=new m),k.qn.add(v))}e.add(v)}}if(h instanceof Je&&h.type===Je.Table){if(h.rowCount>0){const g=h.Xe,v=g.length;for(let w=0;w<v;w++){const k=g[w];if(k!==void 0&&k.bs!==null){const P=k.bs.iterator;for(;P.next();){const N=P.value;N.be=k,N.ad=2,N.ff=k.index,e.add(N)}}}}if(h.columnCount>0){const g=h.Ye,v=g.length;for(let w=0;w<v;w++){const k=g[w];if(k!==void 0&&k.bs!==null){const P=k.bs.iterator;for(;P.next();){const N=P.value;N.be=k,N.ad=1,N.ff=k.index,e.add(N)}}}}}});const o=n.iterator;for(;o.next();){const c=o.value;if(c.qn!==null){c.S2(!0);const h=c.qn.iterator;for(;h.next();){const f=h.value;c.Ci===null&&(c.Ci=new m),c.Ci.add(f)}}c.qn=null}let l=e.iterator;for(;l.next();){const c=l.value;let h=c.be;if(h!==null){c.be=null;const f=c.targetProperty,g=f.indexOf(".");if(g>0&&h instanceof Je){const v=f.substring(0,g),w=f.substring(g+1),k=h.findObject(v);k!==null?(h=k,c.targetProperty=w):(t.ni('Warning: unable to find GraphObject named "'+v+'" for Binding: '+c.toString()),h=null)}if(h instanceof ei){const v=b.as(h.panel);c.targetId=v===void 0?-1:v,h.panel.Hn=c.targetId}else if(h instanceof Wt){const v=b.as(h);c.targetId=v===void 0?-1:v,h.Hn=c.targetId}else t.o("Unknown type of binding target: "+h);c.check(h)}}return e.u(),this instanceof Pn&&this.ke()&&this.ensureBounds(),this}static FE=!1;copyTemplate(e){e===void 0&&(e=!1);const n=this.copy();return n.Dv(o=>{o instanceof Je&&(o.Ys=null,o._t=null);const l=o.Ci;l!==null&&(o.Ci=null,l.each(h=>o.bind(h.copy())));const c=o.ws;c!==null&&(o.ws=null,c.each(h=>o.trigger(h.value.copy())))}),e&&n.Et(),n}updateTargetBindings(e){const n=this.Ys;if(n===null)return;e===void 0&&(e="");const o=this.diagram?.model,l=n.iterator;for(;l.next();){const c=l.value,h=this.GA(c,e);if(h===null)continue;const{data:f,elt:g}=h;c.isToTheme&&this.diagram===null||g!==void 0&&c.updateTarget(g,f,void 0,o)}}Do(){if(this.diagram!==null)if(this.L2()){const e=this.diagram.model,n=this.Ys.iterator;for(;n.next();){const o=n.value;if(!o.isToTheme)continue;const l=this.GA(o);if(l===null)continue;const{data:c,elt:h}=l;h!==void 0&&o.updateTarget(h,c,void 0,e)}}else{const e=this.C.r,n=e.length;for(let o=0;o<n;o++)e[o].Do()}}GA(e,n=""){const o=e.sourceProperty;if(n!==""&&o!==""&&o!==n)return null;const l=e.targetProperty;if(e.converter===null&&l==="")return null;let c=this.data;const h=e.sourceName;if(e.isToObject){if(c=this.pA(h),c===null)return null}else if(e.isToModel){const w=this.diagram;if(w===null)return null;c=w.model.modelData}let f=this;const g=e.targetId;if(g!==-1){if(f=this.d0(g),f===null)return null}else e.be!==null&&(f=e.be);h==="/"?c=f.part:h==="."?c=f:h===".."&&(c=f.panel);const v=e.ad;if(v!==0){if(!(f instanceof Je))return null;v===1?f=f.getColumnDefinition(e.ff):v===2&&(f=f.getRowDefinition(e.ff))}return{data:c,elt:f}}get itemArray(){return this.wh}set itemArray(e){const n=this.wh;if(n!==e||e!==null&&this.Ov(e)){const o=this.diagram;if(n!==e&&(o!==null&&n!==null&&o.partManager.EM(this,o),this.wh=e,o!==null&&e!==null&&o.partManager.IM(this,o)),this.t("itemArray",n,e),o!==null&&o.undoManager.isUndoingRedoing)return;this.KA(n,e)}}findItemPanelForData(e){return e==null||this.Gs===null?null:(t.ec(e,Je,"findItemPanelForData"),this.Gs.get(e))}Ov(e){const n=this.C.r,o=n.length,l=e.length;let c=0,h=null;for(;c<o&&(h=n[c],!(h instanceof Je)||h.data===null);)c++,h=n[c];if(o-c!==l)return!0;if(h===null)return l>0;let f=0;for(;c<o&&f<l;){if(h=n[c],!(h instanceof Je)||h.data!==e[f])return!0;c++,f++}return!1}rp(){if(this.type===Je.Spot||this.type===Je.Auto)return Math.min(this.C.length,1);if(this.type===Je.Link){const e=this.C,n=e.length;let o=0;for(;o<n;o++){const l=e.elt(o);if(!(l instanceof zt)||!l.isPanelMain)return o}return o}if(this.type===Je.Table&&this.C.length>0){const e=this.C.elt(0);if(e.isPanelMain&&e instanceof Je&&e.$r())return 1}return 0}rebuildItemElements(){const e=this.rp();for(;this.C.length>e;)this.te(this.C.length-1,!1);this.KA(null,this.itemArray)}KA(e,n){const o=this.rp(),l=n;if(l===null||l.length===0){for(;this.C.length>o;)this.te(this.C.length-1,!1);return}if(this.C.length<=o){const c=l.length;for(let h=0;h<c;h++)this.e1(l[h],h,!0)}else{let c=o;for(let f=0;f<l.length;f++,c++){const g=l[f],v=c<this.C.length?this.C.elt(c):null;if(v instanceof Je){if(v.data!==g){const w=this.K2(v.data,f),k=this.K2(g,f);let P=k!==w;if(!P){const N=this.j2(v.data,f,w);P=this.j2(g,f,k)!==N}P?(this.te(c,!1),this.e1(g,f,!1)):v.data=g}}else this.e1(g,f,!1)}for(;c<this.C.length;)this.te(c,!1);this.Qr=null,this.H2(o,0),this.To()||this.c(),this.ss=null,this.isEnabledObject()||this.i1(this,!1);const h=this.part;h!==null&&(h.L0(),h.cf(),this.fn&&h instanceof Lt&&(h.fn=!0),h.fn&&h instanceof Lt&&(h.ne=null))}}e1(e,n,o){if(e==null||n<0)return null;const l=this.K2(e,n),c=this.j2(e,n,l);if(c!==null){c.Et();const h=c.copy();if(h.p2()){const g=this.findBindingPanel();g!==null&&g.G2(!0)}t.G(e)&&(this.Gs===null&&(this.Gs=new _),this.Gs.set(e,h));const f=n+this.rp();return this.insertAt(f,h),o&&(h._t=e,this.H2(f,n),h._t=null),h.data=e,h}return null}Iv(e){if(e<0)return;const n=e+this.rp();this.te(n,!0),this.H2(n,e)}H2(e,n){const o=this.C;let l=e,c=n;for(;l<o.length;){const h=o.elt(l);h instanceof Je&&h.Ev(l,c),l++,c++}}Ev(e,n){this.type===Je.TableRow?this.row=e:this.type===Je.TableColumn&&(this.column=e),this.itemIndex=n}Fv(){return this.wh!==null||this.itemTemplateMap!==null}get itemTemplate(){return this.itemTemplateMap===null?null:this.itemTemplateMap.get("")}set itemTemplate(e){if(this.itemTemplateMap===null){if(e===null)return;this.itemTemplateMap=new _}const n=this.itemTemplateMap.get("");if(n!==e){(e instanceof Pn||e.isPanelMain)&&t.o("Panel.itemTemplate must not be a Part or be Panel.isPanelMain: "+e),this.itemTemplateMap.set("",e),this.t("itemTemplate",n,e);const o=this.diagram;if(o!==null&&o.undoManager.isUndoingRedoing)return;this.rebuildItemElements()}}get itemTemplateMap(){return this.p!==null?this.p.Y0:null}set itemTemplateMap(e){const n=this.itemTemplateMap;if(n!==e){const o=e.iterator;for(;o.next();)o.value;this.Kt().Y0=e,this.t("itemTemplateMap",n,e);const l=this.diagram;if(l!==null&&l.undoManager.isUndoingRedoing)return;this.rebuildItemElements()}}get itemCategoryProperty(){return this.p!==null?this.p.G0:"category"}set itemCategoryProperty(e){const n=this.itemCategoryProperty;n!==e&&(typeof e!="string"&&!t.it(e)&&t.Zi(e,"string or function",Je,"itemCategoryProperty"),this.Kt().G0=e,this.t("itemCategoryProperty",n,e))}K2(e,n){if(e===null)return"";const o=this.itemCategoryProperty;let l="";if(t.it(o))l=o(e);else if(typeof o=="string"&&t.G(e)){if(o==="")return"";const c=this.diagram,h=c!==null?c.model:null;h?l=h.yt(e,o):l=Jt.yt(e,o)}else return"";if(l===void 0)return"";if(typeof l=="string")return l;t.o("Panel.getCategoryForItemData found a non-string category for "+e+": "+l)}static jA=!1;static HA=null;j2(e,n,o){const l=this.itemTemplateMap;let c=null;return l!==null&&(c=l.get(o)),c===null&&(l!==null&&(c=l.get("")),c===null&&(Je.jA||(Je.jA=!0,t.ni('No item template Panel found for category "'+o+'" on '+this),t.ni("  Using default item template."),Je.HA=new Je().add(new rn().bind("text","",t.toString).theme("stroke","text"))),c=Je.HA)),c}get af(){return(this.n&1048576)!==0}set af(e){const n=(this.n&1048576)!==0;n!==e&&(t.s(e,"boolean",Je,"isAtomic"),this.n=this.n^1048576,this.t("isAtomic",n,e))}get isClipping(){return(this.n&2097152)!==0}set isClipping(e){const n=(this.n&2097152)!==0;n!==e&&(this.Qc(),this.n=this.n^2097152,this instanceof Xt&&(this.si=null),this.c(),this.t("isClipping",n,e))}get isOpposite(){return(this.n&33554432)!==0}set isOpposite(e){const n=(this.n&33554432)!==0;n!==e&&(this.n=this.n^33554432,this.c(),this.t("isOpposite",n,e))}get isEnabled(){return(this.n&4194304)!==0}set isEnabled(e){const n=(this.n&4194304)!==0;if(n!==e){const o=this.panel===null||this.panel.isEnabledObject();this.n=this.n^4194304,this.t("isEnabled",n,e);const l=this.diagram;if(l!==null&&l.undoManager.isUndoingRedoing)return;o&&this.i1(this,e)}}i1(e,n){const o=e.enabledChanged;if(o!==null&&o(e,n),e instanceof Je){const l=e.C.r,c=l.length;for(let h=0;h<c;h++){const f=l[h];n&&f instanceof Je&&!f.isEnabled||this.i1(f,n)}}}get alignmentFocusName(){return this.to}set alignmentFocusName(e){const n=this.to;n!==e&&(this.to=e,this.c(),this.t("alignmentFocusName",n,e))}static definePanelLayout(e,n){Ln.dn(e,n)}static isBuilderDefined(e){return Ln.es.has(e)}static Position=Ln.es.get("Position");static Horizontal=Ln.es.get("Horizontal");static Vertical=Ln.es.get("Vertical");static Spot=Ln.es.get("Spot");static Auto=Ln.es.get("Auto");static Table=Ln.es.get("Table");static Viewbox=Ln.es.get("Viewbox");static TableRow=Ln.es.get("TableRow");static TableColumn=Ln.es.get("TableColumn");static Link=Ln.es.get("Link");static Grid=Ln.es.get("Grid");static Graduated=Ln.es.get("Graduated")}Je.definePanelLayout=Je.definePanelLayout;class vr{ep;sp;np;op;xs;Ge;ss;Pe;constructor(){this.ep=0,this.sp=100,this.np=10,this.op=0,this.xs=null,this.Ge=null,this.ss=null,this.Pe=null}copy(){const e=new vr;return e.ep=this.ep,e.sp=this.sp,e.np=this.np,e.op=this.op,e.xs=this.xs,e.Ge=this.Ge,e.ss=this.ss,e.Pe=this.Pe,e}}class ll{ld;hd;Yc;W0;constructor(){this.ld=B.wC,this.hd=T.xo,this.Yc=B.yw,this.W0=[]}copy(){const e=new ll;return e.ld=this.ld.copy(),e.hd=this.hd.copy(),e.Yc=this.Yc.copy(),e.W0=this.W0,e}}class js{Xe;Ye;lp;hp;ap;cp;J0;Z0;$0;Q0;tp;_0;ip;yh;constructor(){this.Xe=[],this.Ye=[],this.lp=3,this.hp=3,this.ap=0,this.cp=0,this.J0=W.Rg,this.Z0=1,this.$0=null,this.Q0=null,this.tp=1,this._0=null,this.ip=null,this.yh=null}copy(e){const n=new js,o=this.Xe,l=o.length,c=n.Xe;for(let v=0;v<l;v++){if(o[v]===void 0)continue;const w=o[v].copy();w.Pa(e),c[v]=w}const h=this.Ye,f=h.length,g=n.Ye;for(let v=0;v<f;v++){if(h[v]===void 0)continue;const w=h[v].copy();w.Pa(e),g[v]=w}return n.lp=this.lp,n.hp=this.hp,n.ap=this.ap,n.cp=this.cp,n.J0=this.J0.P(),n.Z0=this.Z0,n.$0=this.$0,n.Q0=this.Q0,n.tp=this.tp,n._0=this._0,n.ip=this.ip,n.yh=this.yh,n}}var cl=(G=>(G[G.Default=1]="Default",G[G.None=2]="None",G[G.ProportionalExtra=3]="ProportionalExtra",G))(cl||{});class ei{Vs;fp;At;Ca;La;hi;at;cd;$n;_r;fd;ud;Aa;Lt;dd;bs;_;Ai;de;constructor(e){b.Ki(this),this.Vs=null,this.fp=!0,this.At=0,this.de=NaN,this.Ca=0,this.La=1/0,this.hi=L.Default,this._=0,this.Ai=0,this.at=0,this.bs=null,this.cd=1,this.$n=1,this._r=null,this.fd=null,this.ud=NaN,this.Aa=null,this.Lt=null,this.dd=!1,e&&(Object.assign(this,e),e.column!==void 0?(this.isRow=!1,this.index=e.column):e.row!==void 0&&(this.isRow=!0,this.index=e.row))}copy(){const e=new ei;return e.fp=this.fp,e.At=this.At,e.de=this.de,e.Ca=this.Ca,e.La=this.La,e.hi=this.hi,e._=this._,e.Ai=this.Ai,e.at=this.at,e.$n=this.$n,e.cd=this.cd,this._r===null?e._r=null:e._r=this._r.P(),e.fd=this.fd,e.ud=this.ud,e.Aa=null,this.Aa!==null&&(e.separatorDashArray=this.Aa.slice()),e.Lt=this.Lt,e.dd=this.dd,e.bs=this.bs,e}Hb(e){e.isRow?e.height!==void 0&&(this.height=e.height):e.width!==void 0&&(this.width=e.width),e.minimum!==void 0&&(this.minimum=e.minimum),e.maximum!==void 0&&(this.maximum=e.maximum),e.alignment!==void 0&&(this.alignment=e.alignment),e.stretch!==void 0&&(this.stretch=e.stretch),e.sizing!==void 0&&(this.sizing=e.sizing),e.separatorPadding!==void 0&&(this.separatorPadding=e.separatorPadding),e.separatorStroke!==void 0&&(this.separatorStroke=e.separatorStroke),e.separatorStrokeWidth!==void 0&&(this.separatorStrokeWidth=e.separatorStrokeWidth),e.separatorDashArray!==void 0&&(this.Aa=e.separatorDashArray),e.background!==void 0&&(this.background=e.background),e.coversSeparators!==void 0&&(this.coversSeparators=e.coversSeparators),e.bs!==void 0&&(this.bs=e.bs)}oi(e){e in cl?this.sizing=e:t.er(this,e)}toString(){return"RowColumnDefinition "+(this.isRow?"(Row ":"(Column ")+this.index+") #"+b.as(this)}static Default=1;static None=2;static ProportionalExtra=3;Pa(e){this.Vs=e}computeEffectiveSpacingTop(e){let n=0;const o=this.Vs;if(this.index!==e){let c=this.separatorStroke;c===null&&o!==null&&(c=this.isRow?o.defaultRowSeparatorStroke:o.defaultColumnSeparatorStroke),c!==null&&(n=this.separatorStrokeWidth,isNaN(n)&&(o!==null?n=this.isRow?o.defaultRowSeparatorStrokeWidth:o.defaultColumnSeparatorStrokeWidth:n=0))}let l=this._r;if(l===null)if(o!==null)l=o.defaultSeparatorPadding;else return n;return n+(this.isRow?l.top:l.left)}computeEffectiveSpacing(){let e=0;const n=this.Vs;let o=0;const l=this.isRow;if(n!==null&&n.type===Je.Table){const h=l?n.Xe.length:n.Ye.length;for(let f=0;f<h;f++){const g=l?n.Xe[f]:n.Ye[f];if(g!==void 0&&g._!==0){o=g.index;break}}}if(this.index!==o){let h=this.separatorStroke;h===null&&n!==null&&(h=l?n.defaultRowSeparatorStroke:n.defaultColumnSeparatorStroke),h!==null&&(e=this.separatorStrokeWidth,isNaN(e)&&(n!==null?e=l?n.defaultRowSeparatorStrokeWidth:n.defaultColumnSeparatorStrokeWidth:e=0))}let c=this._r;if(c===null)if(n!==null)c=n.defaultSeparatorPadding;else return e;return e+(this.isRow?c.top+c.bottom:c.left+c.right)}t(e,n,o,l,c){const h=this.Vs;if(h!==null&&(h.raiseChangedEvent(2,e,this,n,o,l,c),this.bs!==null)){const f=h.diagram;if(f!==null&&!f.fe){const g=h.findBindingPanel();if(g!==null){const v=g.data;if(v!==null){const w=this.bs.iterator;for(;w.next();)w.value.updateSource(this,v,e,g)}}}}}get panel(){return this.Vs}get isRow(){return this.fp}set isRow(e){this.fp=e}get index(){return this.At}set index(e){this.At=e}get height(){return this.de}set height(e){const n=this.de;n!==e&&(e<0&&t.W(e,">= 0",ei,"height"),this.de=e,this.actual=this._,this.panel!==null&&this.panel.c(),this.t("height",n,e))}get width(){return this.de}set width(e){const n=this.de;n!==e&&(e<0&&t.W(e,">= 0",ei,"width"),this.de=e,this.actual=this._,this.panel!==null&&this.panel.c(),this.t("width",n,e))}get minimum(){return this.Ca}set minimum(e){const n=this.Ca;n!==e&&((e<0||!isFinite(e))&&t.W(e,">= 0",ei,"minimum"),this.Ca=e,this.actual=this._,this.panel!==null&&this.panel.c(),this.t("minimum",n,e))}get maximum(){return this.La}set maximum(e){const n=this.La;n!==e&&(e<0&&t.W(e,">= 0",ei,"maximum"),this.La=e,this.actual=this._,this.panel!==null&&this.panel.c(),this.t("maximum",n,e))}get alignment(){return this.hi}set alignment(e){const n=this.hi;n.equals(e)||(this.hi=e.P(),this.panel!==null&&this.panel.c(),this.t("alignment",n,e))}get stretch(){return this.$n}set stretch(e){const n=this.$n;n!==e&&(this.$n=e,this.panel!==null&&this.panel.c(),this.t("stretch",n,e))}get separatorPadding(){return this._r}set separatorPadding(e){typeof e=="number"&&(e=new W(e));const n=this._r;(e===null||n===null||!n.equals(e))&&(e!==null&&(e=e.P()),this._r=e,this.panel!==null&&this.panel.c(),this.t("separatorPadding",n,e))}get separatorStroke(){return this.fd}set separatorStroke(e){const n=this.fd;n!==e&&(e!==null&&Ae.Qu(e,"RowColumnDefinition.separatorStroke"),e instanceof Ae&&e.u(),this.fd=e,this.panel!==null&&this.panel.c(),this.t("separatorStroke",n,e))}get separatorStrokeWidth(){return this.ud}set separatorStrokeWidth(e){const n=this.ud;n!==e&&(this.ud=e,this.panel!==null&&this.panel.c(),this.t("separatorStrokeWidth",n,e))}get separatorDashArray(){return this.Aa}set separatorDashArray(e){const n=this.Aa;if(n!==e){if(e!==null&&!Array.isArray(e)&&t.Zi(e,"Array",ei,"separatorDashArray:value"),e!==null){const o=e.length;let l=0;for(let c=0;c<o;c++){const h=e[c];(typeof h!="number"||!(h>=0)||!isFinite(h))&&t.o("separatorDashArray value "+h+" at index "+c+" must be a positive number or zero."),l+=h}if(l===0){if(n===null)return;e=null}}this.Aa=e,this.panel!==null&&this.panel.S(),this.t("separatorDashArray",n,e)}}get background(){return this.Lt}set background(e){const n=this.Lt;n!==e&&(e!==null&&Ae.Qu(e,"RowColumnDefinition.background"),e instanceof Ae&&e.u(),this.Lt=e,this.panel!==null&&this.panel.S(),this.t("background",n,e))}get coversSeparators(){return this.dd}set coversSeparators(e){const n=this.dd;n!==e&&(t.s(e,"boolean",ei,"coversSeparators"),this.dd=e,this.panel!==null&&this.panel.S(),this.t("coversSeparators",n,e))}get sizing(){return this.cd}set sizing(e){const n=this.cd;n!==e&&(this.cd=e,this.panel!==null&&this.panel.c(),this.t("sizing",n,e))}Qb(){if(this.sizing===1){const e=this.Vs;return this.isRow?e.rowSizing:e.columnSizing}return this.sizing}get actual(){return this._}set actual(e){isNaN(this.de)?this._=Math.max(Math.min(this.La,e),this.Ca):this._=Math.max(Math.min(this.La,this.de),this.Ca)}get measured(){return this.Ai}set measured(e){this.Ai=e}get total(){return this._+this.computeEffectiveSpacing()}get position(){return this.at}set position(e){this.at=e}bind(e,n,o,l){return this.sf(e,n,o,l),this}bindTwoWay(e,n,o,l){const c=this.sf(e,n,o,l);return l===void 0&&c.makeTwoWay(),this}theme(e,n,o,l,c){return this.mh(e,n,o,l,c),this}themeData(e,n,o,l,c){return this.mh(e,n,o,l,c).ofData(),this}themeObject(e,n,o,l,c,h){return this.mh(e,n,o,l,c).ofObject(h),this}themeModel(e,n,o,l,c){return this.mh(e,n,o,l,c).ofModel(),this}sf(e,n,o,l){let c;return typeof e=="string"?c=new Ds(e,n,o,l):c=e,this.X0(c),c}mh(e,n,o,l,c){let h;return typeof e=="string"?h=new gl(e,n,o,l,c):h=e,this.X0(h),h}X0(e){e.be=this;const n=this.panel;if(n!==null){const o=n.findBindingPanel();o!==null&&o.AA()&&t.o("Cannot add a Binding to a RowColumnDefinition that is already frozen: "+e+" on "+n)}this.bs===null&&(this.bs=new m),this.bs.add(e)}}class zt extends Wt{ot;ks;gd;Ta;ji;Vo;Io;jt;md;pd;K;constructor(e,n){super(),this.ot=null,this.ks=null,this.gd="None",this.Ta="black",this.ji="black",this.Vo=1,this.Io=null,this.jt=null,this.md=NaN,this.pd=NaN,this.K=null,typeof e=="string"?this.figure=e:e&&Object.assign(this,e),n&&Object.assign(this,n)}cloneProtected(e){super.cloneProtected(e),e.ot=this.ot,e.ks=this.ks,e.gd=this.gd,e.Ta=this.Ta,e.ji=this.ji,e.Vo=this.Vo,this.Io!==null&&(e.Io=this.Io.slice()),this.jt!==null&&(this.jt.fi?e.jt=this.jt:e.jt=this.jt.copy()),e.md=this.md,e.pd=this.pd,this.K!==null&&(e.K=this.K.copy())}Da(){return this.jt===null?this.jt=new br:this.jt.fi&&(this.jt=this.jt.copy()),this.jt}ch(){super.ch(),this.jt!==null&&(this.jt.fi=!0)}oi(e){e in ee?this.geometryStretch=e:super.oi(e)}toString(){return"Shape("+(this.figure!=="None"?this.figure:this.toArrow!=="None"?this.toArrow:this.fromArrow)+")#"+b.as(this)}Uv(e,n){const o=this.pathPattern;o.ht(1/0,1/0);const l=o.measuredBounds;o.Bt(0,0,l.width,l.height);const c=this.geometry;e.save(),e.beginPath();const h=t.et();if(c.type===1)h.push(c.startX),h.push(c.startY),h.push(c.endX),h.push(c.endY),this.yd(e,n,h,o);else if(c.type===4){const f=c.figures.iterator;for(;f.next();){const g=f.value;h.length=0,h.push(g.startX),h.push(g.startY);let v=g.startX,w=g.startY,k=v,P=w;const N=g.segments.r,F=N.length;for(let H=0;H<F;H++){const V=N[H];switch(V.type){case 1:this.yd(e,n,h,o),h.length=0,h.push(V.endX),h.push(V.endY),v=V.endX,w=V.endY,k=v,P=w;break;case 2:h.push(V.endX),h.push(V.endY),v=V.endX,w=V.endY;break;case 3:I.vn(v,w,V.point1X,V.point1Y,V.point2X,V.point2Y,V.endX,V.endY,.5,h),v=V.endX,w=V.endY;break;case 4:I.Og(v,w,V.point1X,V.point1Y,V.endX,V.endY,.5,h),v=V.endX,w=V.endY;break;case 5:{const $=V.bo(g),K=$.length;if(K===0){h.push(V.centerX),h.push(V.centerY),v=V.centerX,w=V.centerY;break}for(let J=0;J<K;J++){const Q=$[J];I.vn(v,w,Q[2],Q[3],Q[4],Q[5],Q[6],Q[7],.5,h),v=Q[6],w=Q[7]}break}case 6:{const $=V.Bh(g,v,w),K=$.length;if(K===0){h.push(V.endX),h.push(V.endY),v=V.endX,w=V.endY;break}for(let J=0;J<K;J++){const Q=$[J];I.vn(v,w,Q[2],Q[3],Q[4],Q[5],Q[6],Q[7],.5,h),v=Q[6],w=Q[7]}break}default:t.o("Segment not of valid type: "+V.type)}V.isClosed&&(h.push(k),h.push(P),this.yd(e,n,h,o))}this.yd(e,n,h,o)}}else if(c.type===2)h.push(c.startX),h.push(c.startY),h.push(c.endX),h.push(c.startY),h.push(c.endX),h.push(c.endY),h.push(c.startX),h.push(c.endY),h.push(c.startX),h.push(c.startY),this.yd(e,n,h,o);else if(c.type===3){const f=new ce;f.startX=c.endX,f.startY=(c.startY+c.endY)/2;const g=new ae(5);g.startAngle=0,g.sweepAngle=360,g.centerX=(c.startX+c.endX)/2,g.centerY=(c.startY+c.endY)/2,g.radiusX=Math.abs(c.startX-c.endX)/2,g.radiusY=Math.abs(c.startY-c.endY)/2,f.add(g);const v=g.bo(f),w=v.length;if(w===0)h.push(g.centerX),h.push(g.centerY);else{let k=f.startX,P=f.startY;for(let N=0;N<w;N++){const F=v[N];I.vn(k,P,F[2],F[3],F[4],F[5],F[6],F[7],.5,h),k=F[6],P=F[7]}}this.yd(e,n,h,o)}t.J(h),e.restore(),e.clearContextCache(!1)}Bv(e){let n=e.measuredBounds.width;return e instanceof zt&&(n-=e.strokeWidth),n<1&&(n=1),n}yd(e,n,o,l){const c=o.length;if(c<4)return;const h=l.measuredBounds,f=Math.max(1,h.width),g=h.height;let v=o[0],w=o[1],k=0,P=0,N=0,F=0,H=0,V=0,$=0,K=0;const J=t.et();for(let me=2;me<c;me+=2)k=o[me],P=o[me+1],N=k-v,F=P-w,N===0&&(N=.001),H=F/N,V=Math.atan2(F,N),$=Math.sqrt(N*N+F*F),J.push([N,V,H,$]),K+=$,v=k,w=P;v=o[0],w=o[1];const Q=this.Bv(l);let ne=Q;const le=f/2;let fe=le!==0,we=0,ye=J[we];N=ye[0],V=ye[1],H=ye[2],$=ye[3];let ge=0;for(;K>=.1;){if(ge===0&&(fe?(ne=Q,ne-=le,K-=le,fe=!1):ne=Q,ne===0&&(ne=1)),ne>K){ne=K,t.J(J);return}ne>$?(ge=ne-$,ne=$):ge=0;let me=Math.sqrt(ne*ne/(1+H*H));if(N<0&&(me=-me),v+=me,w+=H*me,e.translate(v,w),e.rotate(V),e.translate(-(f/2),-(g/2)),ge===0&&l.gh(e,n),e.translate(f/2,g/2),e.rotate(-V),e.translate(-v,-w),K-=ne,$-=ne,ge!==0){if(we++,we===J.length){t.J(J);return}ye=J[we],N=ye[0],V=ye[1],H=ye[2],$=ye[3],ne=ge}}t.J(J)}gh(e,n){const o=e instanceof Ni;let l=this.ji;const c=this.Ta;if(l===null&&c===null)return;const h=this.ot;if(h===null)return;e.commitTransform();const f=this.actualBounds,g=this.naturalBounds;c!==null&&this.rn(e,c,!0,!1,g,f);const v=this.part;let w=this.Vo;l!==null&&w===0&&v!==null&&(this.isPanelMain||v.findMainElement()===this)&&(w=v.Vv()),w===0&&(l=null),l!==null&&w!==0&&(this.rn(e,l,!1,!1,g,f),e.lineWidth=w,e.lineJoin=this.strokeJoin,e.lineCap=this.strokeCap,e.miterLimit=this.strokeMiterLimit);let k=!1;v&&n.getRenderingHint("drawShadows")&&(k=v.isShadowed),e.Zr===!1&&(k=!1);let P=!0;l!==null&&(c===null||c==="transparent")&&(P=!1);let N=!1;const F=this.strokeDashArray;if(F!==null&&(N=!0,e.enableDash(F,this.strokeDashOffset)),h.type===1)e.beginPath(),e.moveTo(h.startX,h.startY),e.lineTo(h.endX,h.endY),l!==null&&e.strokeContext(),e.endPath();else if(h.type===2){const H=h.startX,V=h.startY,$=h.endX,K=h.endY,J=Math.min(H,$),Q=Math.min(V,K),ne=Math.abs($-H),le=Math.abs(K-V);e.beginPath(),e.rect(J,Q,ne,le),c!==null&&e.fillContext(c,!1,null),l!==null&&(P&&k&&e.shadowsOff(),e.strokeContext(),P&&k&&e.shadowsOn()),e.endPath()}else if(h.type===3){const H=h.startX,V=h.startY,$=h.endX,K=h.endY,J=Math.abs($-H)/2,Q=Math.abs(K-V)/2,ne=Math.min(H,$)+J,le=Math.min(V,K)+Q;e.beginPath(),e.moveTo(ne,le-Q),e.bezierCurveTo(ne+I.Rn*J,le-Q,ne+J,le-I.Rn*Q,ne+J,le),e.bezierCurveTo(ne+J,le+I.Rn*Q,ne+I.Rn*J,le+Q,ne,le+Q),e.bezierCurveTo(ne-I.Rn*J,le+Q,ne-J,le+I.Rn*Q,ne-J,le),e.bezierCurveTo(ne-J,le-I.Rn*Q,ne-I.Rn*J,le-Q,ne,le-Q),e.closePath(),c!==null&&e.fillContext(c,!1,null),l!==null&&(P&&k&&e.shadowsOff(),e.strokeContext(),P&&k&&e.shadowsOn()),e.endPath()}else if(h.type===4){const H=h.figures,V=H.length;for(let $=0;$<V;$++){const K=H.r[$];o?(e.beginPath(),this.buildPath(e,K)):K.Ee===null&&(K.Ee=new Path2D,this.buildPath(K.Ee,K));const J=K.isFilled;k?K.isShadowed?(J===!0&&c!=="transparent"&&c!==null&&e.fillContext(c,K.isEvenOdd,K.Ee),l!==null&&(J&&P&&e.shadowsOff(),e.stroke(K.Ee),J&&P&&e.shadowsOn())):(e.shadowsOff(),J&&c!=="transparent"&&c!==null&&e.fillContext(c,K.isEvenOdd,K.Ee),l!==null&&e.stroke(K.Ee),e.shadowsOn()):(J&&c!==null&&e.fillContext(c,K.isEvenOdd,K.Ee),l!==null&&e.stroke(K.Ee)),e.endPath($)}}N&&e.disableDash(),this.pathPattern!==null&&this.Uv(e,n)}buildPath(e,n){e.moveTo(n.startX,n.startY);const o=n.segments.r,l=o.length;let c=null;for(let h=0;h<l;h++){const f=o[h];switch(f.type){case 1:e.moveTo(f.endX,f.endY);break;case 2:e.lineTo(f.endX,f.endY);break;case 3:e.bezierCurveTo(f.point1X,f.point1Y,f.point2X,f.point2Y,f.endX,f.endY);break;case 4:e.quadraticCurveTo(f.point1X,f.point1Y,f.endX,f.endY);break;case 5:if(f.radiusX===f.radiusY){const g=c!==null?c.endX:n.startX,v=c!==null?c.endY:n.startY,w=Math.PI/180;e.arc(f.point1X,f.point1Y,f.radiusX,f.startAngle*w,(f.startAngle+f.sweepAngle)*w,f.sweepAngle<0,g,v)}else{const g=f.bo(n),v=g.length;if(v===0){e.lineTo(f.centerX,f.centerY);break}for(let w=0;w<v;w++){const k=g[w];w===0&&e.lineTo(k[0],k[1]),e.bezierCurveTo(k[2],k[3],k[4],k[5],k[6],k[7])}}break;case 6:{let g=0,v=0,w;if(c!==null&&c.type===5){w=c.bo(n);const P=w.length;if(P===0){e.lineTo(f.endX,f.endY);break}const N=w[P-1]||null;N!==null&&(g=N[6],v=N[7])}else g=c!==null?c.endX:n.startX,v=c!==null?c.endY:n.startY;w=f.Bh(n,g,v);const k=w.length;if(k===0){e.lineTo(f.endX,f.endY);break}for(let P=0;P<k;P++){const N=w[P];e.bezierCurveTo(N[2],N[3],N[4],N[5],N[6],N[7])}break}}f.isClosed&&e.closePath(),c=f}}Zc(e,n,o){if(!super.Zc(e,n,o)||this.ji===null&&this.Ta===null||this.ot===null||this.pathPattern!==null)return!1;const l=this.svg.getElementsByTagName("path");return this.geometry.figures.length!==l.length?!1:(e.currentPath=this.svg,this.gh(e,n),e.currentPath=null,!0)}$u(e){return this.geometry!==null&&this.geometry.figures.length>1||this.pathPattern!==null?!0:super.$u(e)}k2(e,n){if(e.nodeName!=="g")e.setAttributeNS(null,"filter",n);else{const o=e.getElementsByTagName("path");for(let l=0;l<o.length;l++)o[l].setAttributeNS(null,"filter",n)}}getDocumentPoint(e,n){if(n===void 0&&(n=new T),e instanceof L){const o=e;o.isNoSpot()&&t.o("getDocumentPoint Spot must be a real, specific Spot, not: "+o.toString());const l=this.naturalBounds,c=this.strokeWidth;return n.i(o.x*(l.width+c)-c/2+l.x+o.offsetX,o.y*(l.height+c)-c/2+l.y+o.offsetY),this.Us.gt(n),n}else return n.set(e),this.Us.gt(n),n}getDocumentBounds(e){e===void 0&&(e=new z);const n=this.naturalBounds,o=this.Us,l=z.V(n.x,n.y,n.width,n.height),c=this.strokeWidth;l.inflate(c/2,c/2);const h=T.V(l.x,l.y).T(o);return e.i(h.x,h.y,0,0),h.i(l.right,l.y).T(o),e.unionNoCheck(h.x,h.y,0,0),h.i(l.right,l.bottom).T(o),e.unionNoCheck(h.x,h.y,0,0),h.i(l.x,l.bottom).T(o),e.unionNoCheck(h.x,h.y,0,0),z.e(l),T.e(h),e}fh(e,n){const o=this.geometry;if(o===null||this.fill===null&&this.stroke===null)return!1;const l=o.bounds;let c=this.strokeWidth/2;o.type===1&&!n&&(c+=2);const h=z.l();if(h.a(l),h.inflate(c+2,c+2),!h.containsPoint(e))return z.e(h),!1;const f=c+1e-4;if(o.type===1){if(this.stroke===null)return!1;const g=(o.startX-o.endX)*(e.x-o.endX)+(o.startY-o.endY)*(e.y-o.endY),v=(o.endX-o.startX)*(e.x-o.startX)+(o.endY-o.startY)*(e.y-o.startY);return g<0||v<0?!1:(z.e(h),I.vi(o.startX,o.startY,o.endX,o.endY,c,e.x,e.y))}else if(o.type===2){const g=o.startX,v=o.startY,w=o.endX,k=o.endY;if(h.x=Math.min(g,w),h.y=Math.min(v,k),h.width=Math.abs(w-g),h.height=Math.abs(k-v),this.fill===null){if(h.inflate(-f,-f),h.containsPoint(e))return z.e(h),!1;h.inflate(f,f)}this.stroke!==null&&h.inflate(c,c);const P=h.containsPoint(e);return z.e(h),P}else if(o.type===3){const g=o.startX,v=o.startY,w=o.endX,k=o.endY;let P=Math.min(g,w),N=Math.min(v,k);const F=Math.abs(w-g),H=Math.abs(k-v);let V=F/2,$=H/2;if(P=e.x-(P+V),N=e.y-(N+$),this.fill===null){if(V-=f,$-=f,V<=0||$<=0||P*P/(V*V)+N*N/($*$)<=1)return z.e(h),!1;V+=f,$+=f}return this.stroke!==null&&(V+=f,$+=f),z.e(h),V<=0||$<=0?!1:P*P/(V*V)+N*N/($*$)<=1}else{if(o.type===4)return z.e(h),this.fill===null?o.EC(e.x,e.y,c):o.qk(e,c,this.strokeWidth>1,n);t.o("Unknown Geometry type: "+o.type)}}Wu(e,n,o,l){const c=this.desiredSize,h=this.Vo;e=Math.max(e,0),n=Math.max(n,0);let f;if(this.ks!==null)f=this.geometry.bounds;else{const H=this.figure;let V=zt.q2[H];if(V===void 0){let $=I.In[H];typeof $=="string"&&($=I.In[$]),t.it($)?(V=$(null,100,100),zt.q2[H]=V):t.o("Unsupported Figure: "+H)}f=V.bounds}let g=f.width,v=f.height,w=f.width,k=f.height;switch(this.zs(!0)){case 0:o=0,l=0;break;case 2:w=Math.max(e-h,0),k=Math.max(n-h,0);break;case 5:w=Math.max(e-h,0),l=0;break;case 4:o=0,k=Math.max(n-h,0);break}isFinite(c.width)&&(w=c.width),isFinite(c.height)&&(k=c.height);const P=this.maxSize,N=this.minSize;o=Math.max(o-h,N.width),l=Math.max(l-h,N.height),w=Math.min(P.width,w),k=Math.min(P.height,k),w=isFinite(w)?Math.max(o,w):Math.max(g,o),k=isFinite(k)?Math.max(l,k):Math.max(v,l);const F=this.aS();switch(F){case 0:break;case 2:g=w,v=k;break;case 6:{let H=Math.min(w/g,k/v);isFinite(H)||(H=1),g=g*H,v=v*H;break}default:t.o(F+" is not a valid geometryStretch.")}if(this.ks!==null){g===0&&(g=.001),v===0&&(v=.001);const H=(this.ks!==null?this.ks:this.ot).cF(g,v);this.ot=H}else(this.ot===null||!I.z(this.ot.rc,e-h)||!I.z(this.ot.lc,n-h))&&(this.ot=zt.zv(this,g,v));f=this.ot.bounds,e===1/0||n===1/0?this.Wn(f.x-h/2,f.y-h/2,e===0&&g===0?0:f.width+h,n===0&&v===0?0:f.height+h):this.Wn(-(h/2),-(h/2),w+h,k+h),c.isReal()?(w=c.width,k=c.height,w=Math.min(P.width,w),k=Math.min(P.height,k),w=Math.max(N.width,w),k=Math.max(N.height,k),this.zi.i(0,0,w,k)):this.zi.a(f)}aS(){const e=this.geometryStretch;return this.ks!==null?e===1?2:e:e===1?zt.q2[this.figure].defaultStretch:e}uh(e,n,o,l){this.commonArrange(e,n,o,l)}getNearestIntersectionPoint(e,n,o){return this.Jc(e.x,e.y,n.x,n.y,o)}Jc(e,n,o,l,c){const h=this.T,f=1/(h.m11*h.m22-h.m12*h.m21),g=h.m22*f,v=-h.m12*f,w=-h.m21*f,k=h.m11*f,P=f*(h.m21*h.dy-h.m22*h.dx),N=f*(h.m12*h.dx-h.m11*h.dy),F=e*g+n*w+P,H=e*v+n*k+N,V=o*g+l*w+P,$=o*v+l*k+N,K=this.Vo/2;let J=this.ot;J===null&&(this.ht(1/0,1/0),J=this.ot);const Q=J.bounds;let ne=!1;if(J.type===1)if(this.strokeWidth<=1.5)ne=I.On(J.startX,J.startY,J.endX,J.endY,F,H,V,$,c);else{let le=0,fe=0;if(J.startX===J.endX)le=K,fe=0;else{const ke=(J.endY-J.startY)/(J.endX-J.startX);fe=K/Math.sqrt(1+ke*ke),le=fe*ke}const we=t.et();let ye=new T;I.On(J.startX+le,J.startY+fe,J.endX+le,J.endY+fe,F,H,V,$,ye)&&we.push(ye),ye=new T,I.On(J.startX-le,J.startY-fe,J.endX-le,J.endY-fe,F,H,V,$,ye)&&we.push(ye),ye=new T,I.On(J.startX+le,J.startY+fe,J.startX-le,J.startY-fe,F,H,V,$,ye)&&we.push(ye),ye=new T,I.On(J.endX+le,J.endY+fe,J.endX-le,J.endY-fe,F,H,V,$,ye)&&we.push(ye);const ge=we.length;if(ge===0)return t.J(we),!1;ne=!0;let me=1/0;for(let ke=0;ke<ge;ke++){const Ce=we[ke],Ie=(Ce.x-F)**2+(Ce.y-H)**2;Ie<me&&(me=Ie,c.x=Ce.x,c.y=Ce.y)}t.J(we)}else if(J.type===2)ne=I.gl(Q.x-K,Q.y-K,Q.x+Q.width+K,Q.y+Q.height+K,F,H,V,$,c);else if(J.type===3){const le=z.V(Q.x,Q.y,Q.width,Q.height).inflate(K,K);ne=this.Xv(le,F,H,V,$,c),z.e(le)}else if(J.type===4){let le=0,fe=0,we=0,ye=0;const ge=T.l();let me=V-F,ke=$-H,Ce=me*me+ke*ke,Ie=F,Be=H;if(Ce>0&&Q.contains(Ie,Be)&&(ge.x=Ie,ge.y=Be,this.containsPoint(ge)))for(me!==0&&Math.abs(me)<.5?(ke*=.5/me,me=.5):ke!==0&&Math.abs(ke)<.5&&(me*=.5/ke,ke=.5),Ie-=me,Be-=ke;Q.contains(Ie,Be);)Ie-=me,Be-=ke;const Xe=.6;c.x=V,c.y=$;for(let It=0;It<J.figures.count;It++){const bt=J.figures.r[It],At=bt.isFilled?Ie:F,wt=bt.isFilled?Be:H,Vt=bt.segments;le=bt.startX,fe=bt.startY;let qt=le,on=fe;for(let An=0;An<Vt.count;An++){const kt=Vt.r[An],yn=kt.type;we=kt.endX,ye=kt.endY;let hn=!1;switch(yn){case 1:qt=we,on=ye;break;case 2:hn=this.s1(le,fe,we,ye,At,wt,V,$,ge);break;case 3:{hn=I.Ig(le,fe,kt.point1X,kt.point1Y,kt.point2X,kt.point2Y,we,ye,At,wt,V,$,Xe,ge);break}case 4:{hn=I.Ig(le,fe,le+2/3*(kt.point1X-le),fe+2/3*(kt.point1Y-fe),we+2/3*(kt.point1X-we),ye+2/3*(kt.point1Y-ye),we,ye,At,wt,V,$,Xe,ge);break}case 5:case 6:{const xi=kt.type===5?kt.bo(bt):kt.Bh(bt,le,fe),Ot=xi.length;if(Ot===0){hn=this.s1(le,fe,kt.type===5?kt.centerX:kt.endX,kt.type===5?kt.centerY:kt.endY,At,wt,V,$,ge);break}let ot=null;for(let Kt=0;Kt<Ot;Kt++){if(ot=xi[Kt],Kt===0&&this.s1(le,fe,ot[0],ot[1],At,wt,V,$,ge)){const Mn=this.o1(At,wt,ge,Ce,c);Mn<Ce&&(Ce=Mn,ne=!0)}if(I.Ig(ot[0],ot[1],ot[2],ot[3],ot[4],ot[5],ot[6],ot[7],At,wt,V,$,Xe,ge)){const Mn=this.o1(At,wt,ge,Ce,c);Mn<Ce&&(Ce=Mn,ne=!0)}}we=ot[6],ye=ot[7];break}default:t.o("Unknown Segment type: "+yn)}if(le=we,fe=ye,hn){const xi=this.o1(At,wt,ge,Ce,c);xi<Ce&&(Ce=xi,ne=!0)}if(kt.isClosed&&(we=qt,ye=on,this.s1(le,fe,we,ye,At,wt,V,$,ge))){const xi=this.o1(At,wt,ge,Ce,c);xi<Ce&&(Ce=xi,ne=!0)}}}let He=o-e,Ke=l-n;const Et=Math.sqrt(He*He+Ke*Ke);Et!==0&&(He/=Et,Ke/=Et),c.x-=He*K,c.y-=Ke*K,T.e(ge)}else t.o("Unknown Geometry type: "+J.type);return ne?(this.T.gt(c),!0):!1}o1(e,n,o,l,c){const h=o.x-e,f=o.y-n,g=h*h+f*f;return g<l?(c.x=o.x,c.y=o.y,g):l}s1(e,n,o,l,c,h,f,g,v){if(I.z(e,o)&&I.z(n,l)||I.z(c,f)&&I.z(h,g))return!1;let w=!1;const k=(c-f)*(n-l)-(h-g)*(e-o);if(k===0)return!1;if(v.x=((c*g-h*f)*(e-o)-(c-f)*(e*l-n*o))/k,v.y=((c*g-h*f)*(n-l)-(h-g)*(e*l-n*o))/k,(e>o?e-o:o-e)<(n>l?n-l:l-n)){const P=n<l?n:l,N=n<l?l:n;(v.y>P||I.z(v.y,P))&&(v.y<N||I.z(v.y,N))&&(w=!0)}else{const P=e<o?e:o,N=e<o?o:e;(v.x>P||I.z(v.x,P))&&(v.x<N||I.z(v.x,N))&&(w=!0)}return w}Yv(e,n,o){return this.pickable===!1?!1:(o.nc(this.T),n?this.Gv(e,o):this.containedInRect(e,o))}containedInRect(e,n){if(n===void 0)return e.containsRect(this.actualBounds);let o=this.ot;o===null&&(this.ht(1/0,1/0),o=this.ot);const l=o.bounds,c=this.strokeWidth/2;let h=!1;const f=T.l();return f.i(l.x-c,l.y-c),e.containsPoint(n.gt(f))&&(f.i(l.x-c,l.bottom+c),e.containsPoint(n.gt(f))&&(f.i(l.right+c,l.bottom+c),e.containsPoint(n.gt(f))&&(f.i(l.right+c,l.y-c),e.containsPoint(n.gt(f))&&(h=!0)))),T.e(f),h}intersectsRect(e,n){if(this.containedInRect(e,n)||n===void 0&&(n=this.T,e.containsRect(this.actualBounds)))return!0;const o=U.l();o.set(n),o.xw();const l=e.left,c=e.right,h=e.top,f=e.bottom,g=T.l();if(g.i(l,h),o.gt(g),this.fh(g,!0)||(g.i(c,h),o.gt(g),this.fh(g,!0))||(g.i(l,f),o.gt(g),this.fh(g,!0))||(g.i(c,f),o.gt(g),this.fh(g,!0)))return T.e(g),!0;const v=T.l(),w=T.l();o.set(n),o.NC(this.T),o.xw(),v.x=c,v.y=h,v.T(o),g.x=l,g.y=h,g.T(o);let k=!1;return this.Fa(g,v,w)?k=!0:(g.x=c,g.y=f,g.T(o),this.Fa(g,v,w)?k=!0:(v.x=l,v.y=f,v.T(o),this.Fa(g,v,w)?k=!0:(g.x=l,g.y=h,g.T(o),this.Fa(g,v,w)&&(k=!0)))),T.e(g),U.e(o),T.e(v),T.e(w),k}Fa(e,n,o){if(!this.getNearestIntersectionPoint(e,n,o))return!1;const l=e.x,c=e.y,h=n.x,f=n.y,g=o.x,v=o.y;if(l===h){let w=0,k=0;return c<f?(w=c,k=f):(w=f,k=c),v>=w&&v<=k}else{let w=0,k=0;return l<h?(w=l,k=h):(w=h,k=l),g>=w&&g<=k}}Gv(e,n){if(this.containedInRect(e,n)||n===void 0&&(n=this.T,e.containsRect(this.actualBounds)))return!0;const o=e.left,l=e.right,c=e.top,h=e.bottom,f=T.l(),g=T.l(),v=T.l(),w=U.l();w.set(n),w.NC(this.T),w.xw(),g.x=l,g.y=c,g.T(w),f.x=o,f.y=c,f.T(w);let k=!1;return this.Fa(f,g,v)?k=!0:(f.x=l,f.y=h,f.T(w),this.Fa(f,g,v)?k=!0:(g.x=o,g.y=h,g.T(w),this.Fa(f,g,v)?k=!0:(f.x=o,f.y=c,f.T(w),this.Fa(f,g,v)&&(k=!0)))),U.e(w),T.e(f),T.e(g),T.e(v),k}xA(e,n,o){if(o&&this.fill!==null&&this.fh(e,!0))return!0;let l=e.distanceSquaredPoint(n);const c=l;this.strokeWidth>1.5&&(l=this.strokeWidth/2+Math.sqrt(l),l*=l);let h=this.ot;if(h===null&&(this.ht(1/0,1/0),h=this.ot,h===null))return!1;if(!o){const P=h.bounds,N=P.x,F=P.y,H=P.x+P.width,V=P.y+P.height;if(T.distanceSquared(e.x,e.y,N,F)<=l&&T.distanceSquared(e.x,e.y,H,F)<=l&&T.distanceSquared(e.x,e.y,N,V)<=l&&T.distanceSquared(e.x,e.y,H,V)<=l)return!0}function f(P,N){const F=P.length;for(let H=0;H<F;H+=2)if(N.distanceSquared(P[H],P[H+1])>l)return!0;return!1}const g=h.startX,v=h.startY,w=h.endX,k=h.endY;if(h.type===1){const P=T.distanceLineSegmentSquared(e.x,e.y,g,v,w,k),N=(w-g)*(e.x-g)+(k-v)*(e.y-v),F=(g-w)*(e.x-w)+(v-k)*(e.y-k),H=N>=0&&F>=0?l:c;return P<=H}else if(h.type===2){let P=!1;return o&&(P=T.distanceLineSegmentSquared(e.x,e.y,g,v,g,k)<=l||T.distanceLineSegmentSquared(e.x,e.y,g,v,w,v)<=l||T.distanceLineSegmentSquared(e.x,e.y,w,v,w,k)<=l||T.distanceLineSegmentSquared(e.x,e.y,g,k,w,k)<=l),P}else if(h.type===3){const P=(g+w)/2,N=(v+k)/2,F=e.x-P,H=e.y-N,V=Math.abs(w-g)/2,$=Math.abs(k-v)/2;if(V===0||$===0)return T.distanceLineSegmentSquared(e.x,e.y,g,v,w,k)<=l;if(o){const K=I.iF(V,$,F,H);return K*K<=l}else return!(T.distanceSquared(F,H,-V,0)>=l||T.distanceSquared(F,H,0,-$)>=l||T.distanceSquared(F,H,0,$)>=l||T.distanceSquared(F,H,V,0)>=l)}else if(h.type===4){const P=h.bounds,N=P.x,F=P.y,H=P.x+P.width,V=P.y+P.height;if(e.x>H&&e.x<N&&e.y>V&&e.y<F&&T.distanceLineSegmentSquared(e.x,e.y,N,F,N,V)>l&&T.distanceLineSegmentSquared(e.x,e.y,N,F,H,F)>l&&T.distanceLineSegmentSquared(e.x,e.y,H,V,N,V)>l&&T.distanceLineSegmentSquared(e.x,e.y,H,V,H,F)>l)return!1;const $=Math.sqrt(l);if(o){if(this.fill===null?h.EC(e.x,e.y,$):h.qk(e,$,!0,!1))return!0}else{const K=h.figures;for(let J=0;J<K.count;J++){const Q=K.r[J];let ne=Q.startX,le=Q.startY;if(e.distanceSquared(ne,le)>l)return!1;const fe=Q.segments.r,we=fe.length;for(let ye=0;ye<we;ye++){const ge=fe[ye];switch(ge.type){case 1:case 2:if(ne=ge.endX,le=ge.endY,e.distanceSquared(ne,le)>l)return!1;break;case 3:{const me=t.et();I.vn(ne,le,ge.point1X,ge.point1Y,ge.point2X,ge.point2Y,ge.endX,ge.endY,.8,me);const ke=f(me,e);if(t.J(me),ke||(ne=ge.endX,le=ge.endY,e.distanceSquared(ne,le)>l))return!1;break}case 4:{const me=t.et();I.Og(ne,le,ge.point1X,ge.point1Y,ge.endX,ge.endY,.8,me);const ke=f(me,e);if(t.J(me),ke||(ne=ge.endX,le=ge.endY,e.distanceSquared(ne,le)>l))return!1;break}case 5:case 6:{const me=ge.type===5?ge.bo(Q):ge.Bh(Q,ne,le),ke=me.length;if(ke===0){if(ne=ge.type===5?ge.centerX:ge.endX,le=ge.type===5?ge.centerY:ge.endY,e.distanceSquared(ne,le)>l)return!1;break}let Ce=null;const Ie=t.et();for(let Be=0;Be<ke;Be++)if(Ce=me[Be],Ie.length=0,I.vn(Ce[0],Ce[1],Ce[2],Ce[3],Ce[4],Ce[5],Ce[6],Ce[7],.8,Ie),f(Ie,e))return t.J(Ie),!1;t.J(Ie),Ce!==null&&(ne=Ce[6],le=Ce[7]);break}default:t.o("Unknown Segment type: "+ge.type)}}}return!0}}return!1}Xv(e,n,o,l,c,h){if(e.width===0)return I.On(e.x,e.y,e.x,e.y+e.height,n,o,l,c,h);if(e.height===0)return I.On(e.x,e.y,e.x+e.width,e.y,n,o,l,c,h);{const f=e.width/2,g=e.height/2,v=e.x+f,w=e.y+g;let k=9999;if(n!==l&&(k=(o-c)/(n-l)),Math.abs(k)<9999){const P=o-w-k*(n-v);if(f*f*(k*k)+g*g-P*P<0)return h.x=NaN,h.y=NaN,!1;const N=Math.sqrt(f*f*(k*k)+g*g-P*P),F=(-(f*f*k*P)+f*g*N)/(g*g+f*f*(k*k))+v,H=(-(f*f*k*P)-f*g*N)/(g*g+f*f*(k*k))+v,V=k*(F-v)+P+w,$=k*(H-v)+P+w,K=Math.abs((n-F)**2)+Math.abs((o-V)**2),J=Math.abs((n-H)**2)+Math.abs((o-$)**2);K<J?(h.x=F,h.y=V):(h.x=H,h.y=$)}else{const P=g*g,N=f*f,F=n-v,H=P-P/N*(F*F);if(H<0)return h.x=NaN,h.y=NaN,!1;const V=Math.sqrt(H),$=w+V,K=w-V,J=Math.abs($-o),Q=Math.abs(K-o);J<Q?(h.x=n,h.y=$):(h.x=n,h.y=K)}return!0}}Rv(){return this.Vo/2*this.strokeMiterLimit*this.getDocumentScale()}get geometry(){return this.ot!==null?this.ot:this.ks}set geometry(e){const n=this.ot,o=this.ks;if(n===e)return;e!==null?(this.ot=e.u(),this.ks=this.ot):(this.ot=null,this.ks=null);const l=this.part;if(l!==null&&l.cf(),this.c(),this.t("geometry",n||o,e),this.Wc()){const c=this.part;c!==null&&this.ba(c,"geometryString")}}get geometryString(){return this.geometry===null?"":this.geometry.toString()}set geometryString(e){const n=te.parse(e),o=n.normalize();this.geometry=n;const l=T.V(-o.x,-o.y);this.position=l,T.e(l)}get isGeometryPositioned(){return(this.n&1048576)!==0}set isGeometryPositioned(e){const n=(this.n&1048576)!==0;n!==e&&(this.n=this.n^1048576,this.c(),this.t("isGeometryPositioned",n,e))}ee(){this.ot=null}get fill(){return this.Ta}set fill(e){const n=this.Ta;n!==e&&(e!==null&&Ae.Qu(e,"Shape.fill"),e instanceof Ae&&e.u(),this.Ta=e,this.S(),this.t("fill",n,e))}get stroke(){return this.ji}set stroke(e){const n=this.ji;n!==e&&(e!==null&&Ae.Qu(e,"Shape.stroke"),e instanceof Ae&&e.u(),this.ji=e,this.S(),this.t("stroke",n,e))}get strokeWidth(){return this.Vo}set strokeWidth(e){const n=this.Vo;if(n!==e)if(e>=0){this.Vo=e,this.c();const o=this.part;o!==null&&o.cf(),this.t("strokeWidth",n,e)}else t.W(e,"value >= 0",zt,"strokeWidth:value")}p0(){return this.Vo}get strokeCap(){return this.jt!==null?this.jt.dp:"butt"}set strokeCap(e){const n=this.strokeCap;n!==e&&(typeof e=="string"&&(e==="butt"||e==="round"||e==="square")?(this.Da().dp=e,this.S(),this.t("strokeCap",n,e)):t.W(e,'"butt", "round", or "square"',zt,"strokeCap"))}get strokeJoin(){return this.jt!==null?this.jt.gp:"miter"}set strokeJoin(e){const n=this.strokeJoin;n!==e&&(typeof e=="string"&&(e==="miter"||e==="bevel"||e==="round")?(this.Da().gp=e,this.S(),this.t("strokeJoin",n,e)):t.W(e,'"miter", "bevel", or "round"',zt,"strokeJoin"))}get strokeMiterLimit(){return this.jt!==null?this.jt.mp:10}set strokeMiterLimit(e){const n=this.strokeMiterLimit;if(n!==e&&e>=1){this.Da().mp=e,this.S();const o=this.part;o!==null&&o.cf(),this.t("strokeMiterLimit",n,e)}}get strokeDashArray(){return this.Io}set strokeDashArray(e){const n=this.Io;if(n!==e){if(e!==null&&!Array.isArray(e)&&t.Zi(e,"Array",zt,"strokeDashArray:value"),e!==null){const o=e.length;let l=0;for(let c=0;c<o;c++){const h=e[c];(!(h>=0)||!isFinite(h))&&t.o("strokeDashArray:value "+h+" at index "+c+" must be a positive number or zero."),l+=h}if(l===0){if(n===null)return;e=null}}this.Io=e,this.S(),this.t("strokeDashArray",n,e)}}get strokeDashOffset(){return this.jt!==null?this.jt.ph:0}set strokeDashOffset(e){const n=this.strokeDashOffset;n!==e&&e>=0&&(this.Da().ph=e,this.S(),this.t("strokeDashOffset",n,e))}get figure(){return this.gd}set figure(e){const n=this.gd;if(n!==e){let o=I.In[e];if(t.it(o)?o=e:(o=I.In[e.toLowerCase()],o||t.o("Unknown Shape.figure: "+e)),n!==o){const l=this.part;l!==null&&l.cf(),this.gd=o,this.ks=null,this.ee(),this.c(),this.t("figure",n,o)}}}get toArrow(){return this.Ot!==null?this.Ot.pp:"None"}set toArrow(e){const n=this.toArrow;if(e===!0?e="Standard":e===!1&&(e=""),n!==e){const o=zt.qA(e);o===null?t.o("Unknown Shape.toArrow: "+e):n!==o&&(this.Ot===null&&(this.Ot=new Er),this.Ot.pp=o,this.ks=null,this.ee(),this.c(),this.WA(o),this.t("toArrow",n,o))}}get fromArrow(){return this.Ot!==null?this.Ot.yp:"None"}set fromArrow(e){const n=this.fromArrow;if(e===!0?e="Standard":e===!1&&(e=""),n!==e){const o=zt.qA(e);o===null?t.o("Unknown Shape.fromArrow: "+e):n!==o&&(this.Ot===null&&(this.Ot=new Er),this.Ot.yp=o,this.ks=null,this.ee(),this.c(),this.WA(o),this.t("fromArrow",n,o))}}WA(e){const n=this.diagram;if(n!==null&&n.undoManager.isUndoingRedoing)return;this.iv();const o=L.MiddleRight;this.toArrow!=="None"?(this.segmentIndex=-1,this.alignmentFocus=o):this.fromArrow!=="None"&&(this.segmentIndex=0,this.alignmentFocus=new L(1-o.x,o.y))}get spot1(){return this.jt!==null?this.jt.En:L.Default}set spot1(e){const n=this.spot1;n.equals(e)||(e=e.P(),this.Da().En=e,this.c(),this.t("spot1",n,e))}get spot2(){return this.jt!==null?this.jt.Un:L.Default}set spot2(e){const n=this.spot2;n.equals(e)||(e=e.P(),this.Da().Un=e,this.c(),this.t("spot2",n,e))}get parameter1(){return this.md}set parameter1(e){const n=this.md;n!==e&&(this.md=e,this.ee(),this.c(),this.t("parameter1",n,e))}get parameter2(){return this.pd}set parameter2(e){const n=this.pd;n!==e&&(this.pd=e,this.ee(),this.c(),this.t("parameter2",n,e))}get naturalBounds(){return this.zi}kv(){const e=this.desiredSize;if(!e.isReal()&&this.ot!==null){const n=this.ot.bounds;this.zi.a(n)}else this.zi.i(0,0,e.width,e.height)}get pathPattern(){return this.jt!==null?this.jt.wp:null}set pathPattern(e){const n=this.pathPattern;n!==e&&(this.Da().wp=e,this.S(),this.t("pathPattern",n,e))}get geometryStretch(){return this.jt!==null?this.jt.xp:1}set geometryStretch(e){const n=this.geometryStretch;n!==e&&(this.Da().xp=e,this.c(),this.t("geometryStretch",n,e))}get interval(){return this.K!==null?this.K.uf:1}set interval(e){const n=this.interval;if(e=Math.round(e),n!==e&&e!==0&&isFinite(e)){this.K===null&&(this.K=new Zs),this.K.uf=e;const o=this.diagram;o!==null&&this.panel===o.grid&&o.th(),this.c();const l=this.panel;l!==null&&(l.ss=null),this.t("interval",n,e)}}get graduatedStart(){return this.K!==null?this.K.df:0}set graduatedStart(e){const n=this.graduatedStart;n!==e&&(e<0?e=0:e>1&&(e=1),this.K===null&&(this.K=new Zs),this.K.df=e,this.c(),this.t("graduatedStart",n,e))}get graduatedEnd(){return this.K!==null?this.K.gf:1}set graduatedEnd(e){const n=this.graduatedEnd;n!==e&&(e<0?e=0:e>1&&(e=1),this.K===null&&(this.K=new Zs),this.K.gf=e,this.c(),this.t("graduatedEnd",n,e))}get graduatedSkip(){return this.K!==null?this.K.mf:null}set graduatedSkip(e){const n=this.graduatedSkip;n!==e&&(e!==null&&t.k(e,zt,"graduatedSkip"),this.K===null&&(this.K=new Zs),this.K.mf=e,this.c(),this.t("graduatedSkip",n,e))}static zv(e,n,o){let l=null;if(e.toArrow!=="None")l=zt.gn[e.toArrow];else if(e.fromArrow!=="None")l=zt.gn[e.fromArrow];else{let c=I.In[e.figure];typeof c=="string"&&(c=I.In[c]),c===void 0&&t.o("Unknown Shape.figure: "+e.figure),l=c(e,n,o),l.rc=n,l.lc=o}if(l===null){const c=I.In.Rectangle;t.it(c)&&(l=c(e,n,o))}return l}static getFigureGenerators(){const e=new _;for(const n in I.In){if(n===n.toLowerCase())continue;const o=I.In[n];e.set(n,o)}return e.u(),e}static defineFigureGenerator(e,n){t.s(e,"string",zt,"defineFigureGenerator:name"),typeof n=="string"||t.k(n,zt,"defineFigureGenerator:func");const o=e.toLowerCase(),l=I.In;l[e]=n,l[o]=e}static isFigureDefined(e){return I.In.has(e)}static getArrowheadGeometries(){const e=new _;for(const n in I.Bg)if(zt.gn[n]===void 0){const o=te.parse(I.Bg[n],!1);zt.gn[n]=o;const l=n.toLowerCase();l!==n&&(zt.gn[l]=n)}for(const n in zt.gn){if(n===n.toLowerCase())continue;const o=zt.gn[n];o instanceof te&&e.set(n,o)}return e.u(),e}static defineArrowheadGeometry(e,n){t.s(e,"string",zt,"defineArrowheadGeometry:name");let o=null;typeof n=="string"?(t.s(n,"string",zt,"defineArrowheadGeometry:pathstr"),o=te.parse(n,!1)):o=n;const l=e.toLowerCase();(l==="none"||e===l)&&t.o("Shape.defineArrowheadGeometry name must not be empty or None or all-lower-case: "+e);const c=zt.gn;c[e]=o,c[l]=e}static isArrowheadDefined(e){return zt.gn.has(e)}static gn=new r;static q2=new r;static qA(e){let n=zt.gn[e];if(n===void 0){const o=e.toLowerCase();if(o==="none")return"None";if(n=zt.gn[o],n===void 0){let l=null;for(const c in I.Bg)if(c.toLowerCase()===o){l=c;break}if(l!==null){const c=te.parse(I.Bg[l],!1);return zt.gn[l]=c,o!==l&&(zt.gn[o]=l),l}}}return typeof n=="string"?n:n instanceof te?e:null}}class br{fi;dp;gp;mp;ph;wp;xp;En;Un;constructor(){this.fi=!1,this.dp="butt",this.gp="miter",this.mp=10,this.ph=0,this.wp=null,this.xp=1,this.En=L.Default,this.Un=L.Default}copy(){const e=new br;return e.dp=this.dp,e.gp=this.gp,e.mp=this.mp,e.ph=this.ph,e.wp=this.wp,e.xp=this.xp,e.En=this.En.P(),e.Un=this.Un.P(),e}}var Uh=(G=>(G[G.None=0]="None",G[G.Fit=1]="Fit",G[G.DesiredSize=2]="DesiredSize",G[G.BreakAll=3]="BreakAll",G))(Uh||{}),Ip=(G=>(G[G.Clip=0]="Clip",G[G.Ellipsis=1]="Ellipsis",G))(Ip||{}),Xh=(G=>(G[G.Trim=0]="Trim",G[G.None=1]="None",G))(Xh||{});class rn extends Wt{ri;ji;mn;ge;ui;y0;wd;K;rt;Dl;io;pn;Ce;Ti;yn;constructor(e,n){return super(),rn.q0===!1&&(rn.q0=!0,rn._n=Te.isUsingDOM()?new Ts(null).li:null),this.n|=2097152,this.ri="",this.ji="black",this.mn="13px sans-serif",this.ge=0,this.ui=0,this.y0=0,this.wd=null,this.K=null,this.rt=null,this.Dl=0,this.io=null,this.pn=0,this.Ce=null,this.Ti=null,this.yn=null,typeof e=="string"?this.text=e:e&&Object.assign(this,e),n&&Object.assign(this,n),this}cloneProtected(e){super.cloneProtected(e),e.ri=this.ri,e.ji=this.ji,e.mn=this.mn,e.ge=this.ge,e.ui=this.ui,e.y0=this.y0,e.wd=this.wd,this.K!==null&&(e.K=this.K.copy()),this.rt!==null&&(this.rt.fi?e.rt=this.rt:e.rt=this.rt.copy()),e.Dl=this.Dl,e.io=this.io,e.pn=this.pn,e.Ce=this.Ce,e.Ti=this.Ti,e.yn=this.yn}wn(){return this.rt===null?this.rt=new ul:this.rt.fi&&(this.rt=this.rt.copy()),this.rt}ch(){super.ch(),this.rt!==null&&(this.rt.fi=!0)}Av(e){this.n=e.n|2048|4096,this.$t=e.opacity,this.Lt=e.background,this.is=e.desiredSize.P(),this.minSize=e.minSize.P(),this.maxSize=e.maxSize.P(),e.wi!==null?this.wi=e.wi.copy():this.wi=null,this.tt=e.scale,this.Yt=e.angle,this.stretch=e.stretch,this.Wr=e.margin.P(),this.hi=e.alignment.P(),this.ju=e.alignmentFocus.P(),this.segmentFraction=e.segmentFraction,this.segmentOffset=e.segmentOffset.P(),this.segmentOrientation=e.segmentOrientation,e.si!==null&&(this.si=e.si.copy()),this.shadowVisible=e.shadowVisible,this.ri=e.ri,this.ji=e.ji,this.mn=e.mn,this.K!==null&&(this.K=e.K.copy()),e.rt!==null&&(e.rt.fi?this.rt=e.rt:this.rt=e.rt.copy()),this.Dl=e.Dl}Cv(e){if(this.ri=e.text||"",this.Yt=e.labelAngle||0,this.ge=e.lineCount||0,this.Kv(e.lines),e.naturalBounds&&(this.zi=e.naturalBounds),e.actualBounds){const n=e.actualBounds;this.Bt(n.x,n.y,n.width,n.height)}}oi(e){e in Uh?this.wrap=e:super.oi(e)}toString(){return this.ri.length>22?'TextBlock("'+this.ri.substring(0,20)+'"...)':'TextBlock("'+this.ri+'")'}static getEllipsis(){return rn.bp}static setEllipsis(e){rn.bp=e,rn.l1=new r,rn.W2=0}static getBaseline(){return rn.h1}static setBaseline(e){rn.h1=e}static h1=null;static getUnderline(){return rn.a1}static setUnderline(e){rn.a1=e}static a1=null;static None=0;static WrapFit=1;static WrapDesiredSize=2;static WrapBreakAll=3;static OverflowClip=0;static OverflowEllipsis=1;static FormatTrim=0;static FormatNone=1;c(){super.c(),this.Ve(!0)}get font(){return this.mn}set font(e){const n=this.mn;n!==e&&(this.mn=e,this.io=null,this.c(),this.t("font",n,e))}static isValidFont(e){return i.CSS?i.CSS.supports("font",e):!0}get text(){return this.ri}set text(e){const n=this.ri;e!=null?e=e.toString():e="",n!==e&&(this.ri=e,this.c(),this.t("text",n,e))}get textAlign(){return this.rt!==null?this.rt.kp:"start"}set textAlign(e){const n=this.textAlign;n!==e&&(e==="start"||e==="end"||e==="left"||e==="right"||e==="center")&&(this.wn().kp=e,this.S(),this.t("textAlign",n,e))}get flip(){return this.rt!==null?this.rt.eo:0}set flip(e){const n=this.flip;n!==e&&(this.wn().eo=e,this.S(),this.t("flip",n,e))}get verticalAlignment(){return this.rt!==null?this.rt.tl:L.Top}set verticalAlignment(e){const n=this.verticalAlignment;n.equals(e)||(e=e.P(),this.wn().tl=e,this.ef(),this.t("verticalAlignment",n,e))}get naturalBounds(){if(!this.zi.isReal()){const e=B.l();this.J2(this.ri,999999,e);let n=e.width;B.e(e);let o=this.JA(n);const l=this.desiredSize;isNaN(l.width)||(n=l.width),isNaN(l.height)||(o=l.height),this.zi.Fn(n,o)}return this.zi}get isMultiline(){return(this.n&2097152)!==0}set isMultiline(e){const n=(this.n&2097152)!==0;n!==e&&(this.n=this.n^2097152,this.c(),this.t("isMultiline",n,e))}get isUnderline(){return(this.n&4194304)!==0}set isUnderline(e){const n=(this.n&4194304)!==0;n!==e&&(this.n=this.n^4194304,this.Ve(!0),this.S(),this.t("isUnderline",n,e))}get isStrikethrough(){return(this.n&8388608)!==0}set isStrikethrough(e){const n=(this.n&8388608)!==0;n!==e&&(this.n=this.n^8388608,this.Ve(!0),this.S(),this.t("isStrikethrough",n,e))}get wrap(){return this.rt!==null?this.rt.Pp:2}set wrap(e){const n=this.wrap;n!==e&&(this.wn().Pp=e,this.c(),this.t("wrap",n,e))}get overflow(){return this.rt!==null?this.rt.Sp:0}set overflow(e){const n=this.overflow;n!==e&&(this.wn().Sp=e,this.c(),this.t("overflow",n,e))}get isOverflowed(){return(this.n&16777216)!==0}$2(e){e?this.n|=16777216:this.n&=-16777217}get stroke(){return this.ji}set stroke(e){const n=this.ji;n!==e&&(e!==null&&Ae.Qu(e,"TextBlock.stroke"),e instanceof Ae&&e.u(),this.ji=e,typeof e!="string"&&this.Qc(),this.S(),this.t("stroke",n,e))}get lineCount(){return this.ge}get lineHeight(){return this.Mp()}get editable(){return(this.n&1048576)!==0}set editable(e){const n=(this.n&1048576)!==0;n!==e&&(this.n=this.n^1048576,this.t("editable",n,e))}get V2(){return(this.n&33554432)!==0}set V2(e){this.n=this.n^33554432}get textEditor(){return this.rt!==null?this.rt.Np:null}set textEditor(e){const n=this.textEditor;n!==e&&(this.wn().Np=e,this.t("textEditor",n,e))}get errorFunction(){return this.rt!==null?this.rt.ns:null}set errorFunction(e){const n=this.errorFunction;n!==e&&(e!==null&&t.k(e,rn,"errorFunction"),this.wn().ns=e,this.t("errorFunction",n,e))}get interval(){return this.K!==null?this.K.uf:1}set interval(e){const n=this.interval;if(e=Math.round(e),n!==e&&e!==0&&isFinite(e)){this.K===null&&(this.K=new Zs),this.K.uf=e,this.c();const o=this.panel;o!==null&&(o.ss=null),this.t("interval",n,e)}}get graduatedStart(){return this.K!==null?this.K.df:0}set graduatedStart(e){const n=this.graduatedStart;n!==e&&(e<0?e=0:e>1&&(e=1),this.K===null&&(this.K=new Zs),this.K.df=e,this.c(),this.t("graduatedStart",n,e))}get graduatedEnd(){return this.K!==null?this.K.gf:1}set graduatedEnd(e){const n=this.graduatedEnd;n!==e&&(e<0?e=0:e>1&&(e=1),this.K===null&&(this.K=new Zs),this.K.gf=e,this.c(),this.t("graduatedEnd",n,e))}get graduatedFunction(){return this.K!==null?this.K.Cp:null}set graduatedFunction(e){const n=this.graduatedFunction;n!==e&&(e!==null&&t.k(e,rn,"graduatedFunction"),this.K===null&&(this.K=new Zs),this.K.Cp=e,this.c(),this.t("graduatedFunction",n,e))}get graduatedSkip(){return this.K!==null?this.K.mf:null}set graduatedSkip(e){const n=this.graduatedSkip;n!==e&&(e!==null&&t.k(e,rn,"graduatedSkip"),this.K===null&&(this.K=new Zs),this.K.mf=e,this.c(),this.t("graduatedSkip",n,e))}gh(e,n){if(this.ji===null||this.ri.length===0||this.mn===null)return;const o=this.naturalBounds,l=this.actualBounds,c=o.width,h=o.height,f=this.Mp();let g=e.textAlign=this.textAlign;const v=n.zu;g==="start"?g=v?"right":"left":g==="end"&&(g=v?"left":"right");const w=this.isUnderline,k=this.isStrikethrough;this.rn(e,this.ji,!0,!1,o,l),(w||k)&&this.rn(e,this.ji,!1,!1,o,l);const P=0;let N=0;const F=c;let H=!1;n.Qt===e&&!(n.Qt instanceof Ni)&&!this.V2&&n.getRenderingHint("textGreeking")===!0&&f*this.da*n.scale<3&&(H=!0);const V=this.spacingAbove,$=this.spacingBelow;switch(this.flip){case 0:break;case 2:e.translate(c,0),e.scale(-1,1);break;case 1:e.translate(0,h),e.scale(1,-1);break;case 3:e.translate(c,h),e.scale(-1,-1);break}e.commitTransform();const K=this.ge,J=(V+f+$)*K;if(h>J){const Q=this.verticalAlignment;N=Q.y*h-Q.y*J+Q.offsetY}if(K===1&&this.yn!==null){let Q=this.ui;Q>F&&(Q=F),N+=V,this.$A(this.yn,e,P,N,F,f,Q,H,g,w,k)}else if(this.Ce!==null&&this.Ti!==null)for(let Q=0;Q<K;Q++){let ne=this.Ce[Q];ne>F&&(ne=F),N+=V,this.$A(this.Ti[Q],e,P,N,F,f,ne,H,g,w,k),N+=f+$}switch(this.flip){case 0:break;case 2:e.scale(-1,1),e.translate(-c,0);break;case 1:e.scale(1,-1),e.translate(0,-h);break;case 3:e.scale(-1,-1),e.translate(-c,-h);break}}$A(e,n,o,l,c,h,f,g,v,w,k){let P=0;if(g){v==="left"?P=0:v==="right"?P=c-f:v==="center"&&(P=(c-f)/2);const H=n.globalAlpha;n.globalAlpha=H/2,n.fillRect(o+P,l+h/4,f,h/2),n.globalAlpha=H;return}v==="left"?P=0:v==="right"?P=c:v==="center"&&(P=c/2);const N=rn.h1!==null?rn.h1(this,h):h*.75;n.fillText(e,o+P,l+N);let F=h/20|0;if(F===0&&(F=1),v==="right"?P-=f:v==="center"&&(P-=f/2),w){const H=rn.a1!==null?rn.a1(this,h):h*.8;this.ZA(o+P,l+H,o+P+f,l+H,F,n),n instanceof Ni&&n.lastCreatedElement.classList.add("gojs-td")}if(k){let H=l+h-h/2.2|0;F%2!==0&&(H+=.5),this.ZA(o+P,H,o+P+f,H,F,n),n instanceof Ni&&n.lastCreatedElement.classList.add("gojs-td")}}ZA(e,n,o,l,c,h){h.beginPath(),h.lineWidth=c,h.moveTo(e,n),h.lineTo(o,l),h.stroke(),h.endPath()}Zc(e,n,o){if(!super.Zc(e,n,o))return!1;if(this.rn(e,this.ji,!0,!1,this.naturalBounds,this.actualBounds),o){if(this.svg.getElementsByTagName("text").length===0)return!0;const l=this.svg.getElementsByClassName("gojs-td");for(let c=0;c<l.length;c++)e.setFillOrStrokeInPlace(l[c],!1)}else this.jv(this.svg,this.text,e);return!0}jv(e,n,o){e.innerHTML=n,o.setFillOrStrokeInPlace(e,!0)}$u(e){return this.lineCount>1||this.isUnderline||this.isStrikethrough?!0:super.$u(e)}k2(e,n){if(e.nodeName!=="g")e.setAttributeNS(null,"filter",n);else{const o=e.getElementsByTagName("text");for(let l=0;l<o.length;l++)o[l].setAttributeNS(null,"filter",n)}}Hv(){this.pn=0,this.ui=0,this.io=null,this.Ce=null,this.Ti=null,this.yn=null}Wu(e,n,o,l){const c=this.ge;this.Dl=e,this.$2(!1);const h=this.mn;rn._n!==null&&rn.QA!==h&&(rn._n.font=h,rn.QA=h),this.Hv();let f=0,g=0;isNaN(this.desiredSize.width)?(f=this.qv(),f=Math.min(f,e/this.scale)):f=this.desiredSize.width,this.panel!==null&&(f=Math.min(f,this.panel.maxSize.width)),g=this.JA(f),isNaN(this.desiredSize.height)?g=Math.min(g,n/this.scale):g=this.desiredSize.height,this.Wv(e,g),(this.wrap===1||isNaN(this.desiredSize.width))&&(f=isNaN(e)?this.ui:Math.min(e,this.ui)),f=Math.max(o,f),g=Math.max(l,g),this.zi.Fn(f,g),this.Wn(0,0,f,g),this.svg!==null&&c!==this.ge&&this.Ve(!0)}uh(e,n,o,l){this.commonArrange(e,n,o,l)}xn(e,n){this.yn===null?(this.yn=e,this.ui=n):((this.Ti===null||this.Ce===null)&&(this.Ti=[],this.Ce=[],this.Ti.push(this.yn),this.Ce.push(this.ui)),this.Ti.push(e),this.Ce.push(n),this.Ti.length>this.maxLines&&(this.n|=16777216))}J2(e,n,o){const l=this.formatting===0;l&&(e=e.trim());let c=0,h=0,f=0;const g=this.mn,v=this.spacingAbove+this.spacingBelow,w=Math.max(0,this.Mp()+v),k=this.overflow===1?this._A(g):0;if(this.ge>=this.maxLines){o!==null&&o.i(0,w);return}let P=e;if(this.wrap===0){if(this.pn=1,h=this.getStringWidth(e),k===0||h<=n){this.ui=Math.max(this.ui,h),this.xn(e,this.ui),o!==null&&o.i(h,w);return}let F=this.xd(P);P=P.substring(F.length);let H=this.xd(P);for(h=this.getStringWidth(F+H),f=0;H.length>0&&h<=n;){F+=H,P=P.substring(H.length),H=this.xd(P),f=h;let V=F+H;l&&(V=V.trim()),h=this.getStringWidth(V)}for(l&&(H=H.trim()),F+=H,n=Math.max(1,n-k);this.getStringWidth(F)>n&&F.length>1;)F=F.substring(0,F.length-1);this.$2(!0),F+=rn.bp,f=this.getStringWidth(F),this.ui=f,this.xn(F,f),o!==null&&o.i(f,w);return}let N=0;for(P.length===0&&(N=1,this.xn(P,0));P.length>0;){let F=this.xd(P);for(P=P.substring(F.length);this.getStringWidth(F)>n;){let $=1;for(h=this.getStringWidth(F.substring(0,$)),f=0;h<=n;)$++,f=h,h=this.getStringWidth(F.substring(0,$));let K=0;$===1?(K=h,c=Math.max(c,h)):(K=f,c=Math.max(c,f)),$--,$<1&&($=1);const J=F.substring(0,$);if(this.xn(J,K),N++,F=F.substring($),this.ge+N>this.maxLines)break}let H=this.xd(P);for(h=this.getStringWidth(F+H),f=0;H.length>0&&h<=n;){F+=H,P=P.substring(H.length),H=this.xd(P),f=h;let $=F+H;l&&($=$.trim()),h=this.getStringWidth($)}if(l&&(F=F.trim()),F==="")continue;F[F.length-1]===""&&(F=F.substring(0,F.length-1)+"");let V=0;if(H.length===0?(V=h,c=Math.max(c,h)):(f=this.getStringWidth(F),V=f,c=Math.max(c,f)),this.xn(F,V),N++,this.ge+N>this.maxLines)break}this.pn=Math.min(this.maxLines-this.ge,N),this.ui=Math.max(this.ui,c),o!==null&&o.i(this.ui,w*this.pn)}Wv(e,n){if(this.ui===0||this.Ce===null||this.Ti===null||this.overflow!==1)return;const o=this.mn,l=this.overflow===1?this._A(o):0,c=this.spacingAbove+this.spacingBelow,h=Math.max(0,this.Mp()+c),f=Math.min(this.maxLines-1,Math.max(Math.floor(n/h+.01)-1,0));if(f+1>=this.Ti.length)return;this.$2(!0);let g=this.Ti[f];const v=Math.max(1,e-l);for(;this.getStringWidth(g)>v&&g.length>1;)g=g.substring(0,g.length-1);g+=rn.bp;const w=this.getStringWidth(g);this.Ti[f]=g,this.Ti=this.Ti.slice(0,f+1),this.Ce[f]=w,this.Ce=this.Ce.slice(0,f+1),this.pn=this.Ti.length,this.ui=Math.max(this.ui,w),this.ge=this.pn,this.ge===1&&(this.yn=this.Ti[0])}xd(e){if(this.wrap===3)return e.substring(0,1);let n=e.length,o=0;const l=rn.Jv;for(;o<n&&!l.test(e.charAt(o));)o++;for(this.formatting===1&&(n=Math.min(n,o+1));o<n&&l.test(e.charAt(o));)o++;return o>=e.length?e:e.substring(0,o)}getStringWidth(e){return rn._n===null?e.length*8:rn._n.measureText(e).width}Mp(){if(this.io!==null)return this.io;const e=this.mn;let n=0;return rn._n===null?(n=16,this.io=n,n):(rn.Z2[e]!==void 0&&rn.tT<5e3?n=rn.Z2[e]:(n=rn._n.measureText("M").width*1.3,rn.Z2[e]=n,rn.tT++),this.io=n,n)}_A(e){if(rn._n===null)return 6;let n=0;return rn.l1[e]!==void 0&&rn.W2<5e3?n=rn.l1[e]:(n=rn._n.measureText(rn.bp).width,rn.l1[e]=n,rn.W2++),n}c1(e,n){return e.indexOf(`
`,n)}JA(e){let n=this.ri.replace(/\r\n/g,`
`).replace(/\r/g,`
`);const o=this.spacingAbove+this.spacingBelow,l=Math.max(0,this.Mp()+o);if(n.length===0)return this.ui=0,this.ge=1,l;if(!this.isMultiline){const v=this.c1(n,0);v>=0&&(n=n.substring(0,v))}let c=0;this.ge=0;let h=0,f=-1,g=!1;for(;!g;){if(f=this.c1(n,h),f===-1&&(f=n.length,g=!0),h<=f){const v=n.substring(h,f);if(this.wrap!==0){this.pn=0;const w=B.l();this.J2(v,e,w),c+=w.height,B.e(w),this.ge+=this.pn}else this.J2(v,e,null),c+=l,this.ge++;this.ge===this.maxLines&&(g=!0)}h=f+1}return this.y0=c,c}qv(){let e=this.ri.replace(/\r\n/g,`
`).replace(/\r/g,`
`);if(e.length===0)return 8;if(this.isMultiline){let n=0,o=0,l=!1;for(;!l;){let c=this.c1(e,o);c===-1&&(c=e.length,l=!0);let h=e.substring(o,c);this.formatting===0&&(h=h.trim()),n=Math.max(n,this.getStringWidth(h)),o=c+1}return n}else{const n=this.c1(e,0);return n>=0&&(e=e.substring(0,n)),this.getStringWidth(e)}}get textValidation(){return this.rt!==null?this.rt.Tl:null}set textValidation(e){const n=this.textValidation;n!==e&&(e!==null&&t.k(e,rn,"textValidation"),this.wn().Tl=e,this.t("textValidation",n,e))}get textEdited(){return this.rt!==null?this.rt.Lp:null}set textEdited(e){const n=this.textEdited;n!==e&&(e!==null&&t.k(e,rn,"textEdited"),this.wn().Lp=e,this.t("textEdited",n,e))}get spacingAbove(){return this.rt!==null?this.rt.Ap:0}set spacingAbove(e){const n=this.spacingAbove;n!==e&&(this.wn().Ap=e,this.c(),this.t("spacingAbove",n,e))}get spacingBelow(){return this.rt!==null?this.rt.Tp:0}set spacingBelow(e){const n=this.spacingBelow;n!==e&&(this.wn().Tp=e,this.c(),this.t("spacingBelow",n,e))}get formatting(){return this.rt!==null?this.rt.Dp:0}set formatting(e){const n=this.formatting;n!==e&&(this.wn().Dp=e,this.c(),this.t("formatting",n,e))}get maxLines(){return this.rt!==null?this.rt.Fp:1/0}set maxLines(e){const n=this.maxLines;n!==e&&(e=Math.floor(e),e<=0&&t.W(e,"> 0",rn,"maxLines"),this.wn().Fp=e,this.c(),this.t("maxLines",n,e))}getMetrics(){return[this.ui,this.Dl,this.io,this.pn,this.Ce,this.Ti,this.yn]}Kv(e){e!==void 0&&(this.ui=e[0],this.Dl=e[1],this.io=e[2],this.pn=e[3],this.Ce=e[4],this.Ti=e[5],this.yn=e[6])}get metrics(){return{arrSize:this.Ce!==null?this.Ce:[this.ui],arrText:this.Ti!==null?this.Ti:[this.yn],maxLineWidth:this.ui,fontHeight:this.io}}get choices(){return this.wd}set choices(e){const n=this.wd;n!==e&&(this.wd=e,this.t("choices",n,e))}static Jv=new RegExp("[ ]");static Z2=new r;static tT=0;static l1=new r;static W2=0;static bp="...";static QA="";static _n=null;static q0=!1}class ul{fi;ns;eo;Dp;Fp;Sp;Ap;Tp;kp;Lp;Np;Tl;tl;Pp;constructor(){this.fi=!1,this.ns=null,this.eo=0,this.Dp=0,this.Fp=1/0,this.Sp=0,this.Ap=0,this.Tp=0,this.kp="start",this.Lp=null,this.Np=null,this.Tl=null,this.tl=L.Top,this.Pp=2}copy(){const e=new ul;return e.ns=this.ns,e.eo=this.eo,e.Dp=this.Dp,e.Fp=this.Fp,e.Sp=this.Sp,e.Ap=this.Ap,e.Tp=this.Tp,e.kp=this.kp,e.Lp=this.Lp,e.Np=this.Np,e.Tl=this.Tl,e.tl=this.tl,e.Pp=this.Pp,e}}class Zs{uf;df;gf;Cp;mf;constructor(){this.uf=1,this.df=0,this.gf=1,this.Cp=null,this.mf=null}copy(){const e=new Zs;return e.uf=this.uf,e.df=this.df,e.gf=this.gf,e.Cp=this.Cp,e.mf=this.mf,e}}var hl=(G=>(G[G.None=0]="None",G[G.Fill=2]="Fill",G[G.Uniform=6]="Uniform",G[G.UniformToFill=7]="UniformToFill",G))(hl||{});class li extends Wt{il;dt;el;pf;ns;sl;yf;eo;wf;xf;Yb;constructor(e,n){super(),this.n|=2097152,this.il=null,this.dt="",this.el=z.$D,this.pf=2,this.ns=null,this.sl=null,this.yf=L.Center,this.eo=0,this.wf=null,this.xf=null,this.Yb=null,typeof e=="string"?this.source=e:e&&Object.assign(this,e),n&&Object.assign(this,n)}cloneProtected(e){super.cloneProtected(e),e.dt=this.dt,e.element=this.il,e.el=this.el.P(),e.pf=this.pf,e.eo=this.eo,e.ns=this.ns,e.sl=this.sl,e.yf=this.yf.P(),e.xf=this.xf}oi(e){e in hl?this.imageStretch=e:super.oi(e)}toString(){return"Picture("+this.source+")#"+b.as(this)}get bf(){return(this.n&1048576)!==0}set bf(e){this.bf!==e&&(this.n=this.n^1048576)}get Rp(){return(this.n&2097152)!==0}set Rp(e){this.Rp!==e&&(this.n=this.n^2097152)}get hn(){return(this.n&4194304)!==0}set hn(e){this.hn!==e&&(this.n=this.n^4194304)}static clearCache(e){e===void 0&&(e=""),t.s(e,"string",li,"clearCache:url"),e!==""?li.vp[e]&&(delete li.vp[e],li.f1--):(li.vp=new r,li.f1=0)}static tA(e,n){n.iT||(n.u1=o=>{li.$v(n,o),e.desiredSize.isReal()||(e.ue(!1),e.c())},n.d1=o=>li.Zv(n,o),n.addEventListener("load",n.u1),n.addEventListener("error",n.d1),n.iT=!0)}static BR(e){e.u1&&e.removeEventListener("load",e.u1),e.d1&&e.removeEventListener("error",e.d1),delete e.u1,delete e.d1,delete e.iT}get element(){return this.il}set element(e){const n=this.il;if(this.Ve(!0),n!==e){this.bf=e instanceof HTMLCanvasElement;const o=e instanceof HTMLImageElement;e!==null&&!(o||e instanceof HTMLVideoElement||this.bf)&&t.o("Picture.element must be an instance of Image, Canvas, or Video, not: "+e);const l=this.diagram;l!==null&&l.GM(this),this.il=e,e!==null&&o&&e.ts===void 0&&(e.ts=new b),l!==null&&o&&l.YM(this),this.t("element",n,e),this.S()}}ER(){const e=this.il;if(e===null)return;const n=this.desiredSize.isReal();(this.bf||e.complete===!0)&&(e.o0&&(e.Op instanceof Event&&this.ns!==null?this.ns(this,e.Op):e.hn===!0&&!e.Op&&this.sl!==null&&e.Q2&&this.sl(this,e.Q2)),e.hn=!0),e.hn&&n&&this.diagram!==null&&this.diagram.Vu.add(this)}Qv(){if(this.il===null){this.wf=!1;return}const e=new Ts(null).li;try{e.drawImage(this.il,0,0)}catch{this.Rp=!1}try{e.getImageData(0,0,1,1).data[3]&&(this.wf=!1),this.wf=!1}catch{this.wf=!0}}get source(){return this.dt}set source(e){const n=this.dt;if(n!==e){this.Ve(!0),t.s(e,"string",li,"source"),this.dt=e;let o=li.vp;if(!Te.isUsingDOM()){this.t("source",n,e);return}let l=null;if(o[e]!==void 0)l=o[e];else if(e!==""){li.f1>30&&(li.clearCache(),o=li.vp),l=t.hs("img"),l.o0=!0,li.tA(this,l);const c=this.xf;c!==null&&(l.crossOrigin=c(this)),l.src=e,o[e]=l,li.f1++}this.element=l,l!==null&&l.__goCache===void 0&&(l.__goCache=new wy),this.c(),this.S(),this.t("source",n,e)}}static $v(e,n){e.hn=!0,e.Op=!1;let o;const l=e.ts.copy();if(l==null)return;const c=l.iterator;for(;c.next();){const h=c.value;h.S();const f=e.getAttribute("src")||"",g=h.Jl.get(f);if(g===null)continue;const v=g.length;for(let w=0;w<v;w++)o=g[w],o.desiredSize.isReal()||h.Vu.add(o),o.Ve(!0),h.requestUpdate(),e.o0&&(e.Q2===void 0&&(e.Q2=n),o.sl!==null&&o.sl(o,n))}e.ts.clear()}static Zv(e,n){e.Op=n;let o;const l=e.ts.copy();if(l==null)return;const c=l.iterator;for(;c.next();){const h=c.value,f=e.getAttribute("src")||"",g=h.Jl.get(f);if(g===null)continue;const v=g.length,w=t.et();for(let k=0;k<v;k++)w.push(g[k]);if(e.o0)for(let k=0;k<v;k++)o=w[k],o.ns!==null&&o.ns(o,n);t.J(w)}e.ts.clear()}reloadSource(){if(this.source==="")return;li.clearCache(this.source);const e=this.source;this.source="",this.source=e}redraw(){this.S(),this.Ve(!0)}get sourceCrossOrigin(){return this.xf}set sourceCrossOrigin(e){if(this.xf!==e&&(e!==null&&t.k(e,li,"sourceCrossOrigin"),this.xf=e,this.element!==null)){const n=this.element.getAttribute("src");e===null&&typeof n=="string"?this.element.crossOrigin=null:e!==null&&(this.element.crossOrigin=e(this)),this.element.src=n}}get sourceRect(){return this.el}set sourceRect(e){const n=this.el;n.equals(e)||(e=e.P(),this.el=e,this.S(),this.t("sourceRect",n,e))}get imageStretch(){return this.pf}set imageStretch(e){const n=this.pf;n!==e&&(this.pf=e,this.S(),this.t("imageStretch",n,e))}get flip(){return this.eo}set flip(e){const n=this.eo;n!==e&&(this.eo=e,this.S(),this.t("flip",n,e))}get imageAlignment(){return this.yf}set imageAlignment(e){const n=this.yf;n.equals(e)||(e=e.P(),this.yf=e,this.S(),this.t("imageAlignment",n,e))}get errorFunction(){return this.ns}set errorFunction(e){const n=this.ns;n!==e&&(e!==null&&t.k(e,li,"errorFunction"),this.ns=e,this.t("errorFunction",n,e))}get successFunction(){return this.sl}set successFunction(e){const n=this.sl;n!==e&&(e!==null&&t.k(e,li,"successFunction"),this.sl=e,this.t("successFunction",n,e))}gh(e,n){const o=this.il;if(o===null)return;const l=o.getAttribute("src");if(o instanceof HTMLImageElement&&(l===null||l==="")||o.Op instanceof Event&&e instanceof yo)return;const c=e instanceof Ni,h=this.naturalBounds;let f=0,g=0;const v=this.bf;let w=v?+o.width:o.naturalWidth,k=v?+o.height:o.naturalHeight;if(w===void 0&&o.videoWidth&&(w=o.videoWidth),k===void 0&&o.videoHeight&&(k=o.videoHeight),w===0||k===0)return;const P=w,N=k;this.sourceRect.isReal()&&(f=this.el.x,g=this.el.y,w=this.el.width,k=this.el.height);let F=w,H=k;const V=this.pf,$=this.yf;switch(V){case 0:if(this.sourceRect.isReal())break;F>=h.width&&(f=f+$.offsetX+(F*$.x-h.width*$.x)),H>=h.height&&(g=g+$.offsetY+(H*$.y-h.height*$.y)),w=Math.min(h.width,F),k=Math.min(h.height,H);break;case 2:F=h.width,H=h.height;break;case 6:case 7:let Ce=0;V===6?(Ce=Math.min(h.height/H,h.width/F),F*=Ce,H*=Ce):V===7&&(Ce=Math.max(h.height/H,h.width/F),F*=Ce,H*=Ce,F>=h.width&&(f=(f+$.offsetX+(F*$.x-h.width*$.x)/F)*w),H>=h.height&&(g=(g+$.offsetY+(H*$.y-h.height*$.y)/H)*k),w*=1/(F/h.width),k*=1/(H/h.height),F=h.width,H=h.height);break}const K=w*k,J=this.getDocumentScale()*n.scale,Q=F*J,ne=H*J,le=Q*ne,fe=K/le,we=o.__goCache;let ye=null;const ge=li._v;if(!c){if(o.hn&&we!==void 0&&P<8e3&&N<8e3&&le>4&&fe>ge*ge){we.Vt===null&&(we.eT(4,P,N,o),we.eT(16,P,N,o));const Ce=we.Vt,Ie=Ce.length;for(let Be=0;Be<Ie&&Ce[Be].bd*Ce[Be].bd<fe;Be++)ye=Ce[Be]}if(!n.Bu&&(this.wf===null&&this.Qv(),this.wf))return}const me=F<h.width?$.offsetX+(h.width*$.x-F*$.x):0,ke=H<h.height?$.offsetY+(h.height*$.y-H*$.y):0;switch(this.flip){case 0:break;case 2:e.translate(Math.min(h.width,F),0),e.scale(-1,1);break;case 1:e.translate(0,Math.min(h.height,H)),e.scale(1,-1);break;case 3:e.translate(Math.min(h.width,F),Math.min(h.height,H)),e.scale(-1,-1);break}if(e.commitTransform(),n.getRenderingHint("pictureRatioOptimization")&&!n.ia&&we!==void 0&&ye!==null&&ye.bd!==1){e.save();const Ce=ye.bd;try{e.drawImage(ye.dt,f/Ce,g/Ce,Math.min(ye.dt.width,w/Ce),Math.min(ye.dt.height,k/Ce),me,ke,Math.min(h.width,F),Math.min(h.height,H)),e instanceof Ni&&(this.Yb=[f/Ce,g/Ce,Math.min(ye.dt.width,w/Ce),Math.min(ye.dt.height,k/Ce),me,ke,Math.min(h.width,F),Math.min(h.height,H)])}catch{this.Rp=!1}e.restore()}else try{e.drawImage(o,f,g,w,k,me,ke,Math.min(h.width,F),Math.min(h.height,H)),e instanceof Ni&&(this.Yb=[f,g,w,k,me,ke,Math.min(h.width,F),Math.min(h.height,H)])}catch{this.Rp=!1}switch(this.flip){case 0:break;case 2:e.scale(-1,1),e.translate(-Math.min(h.width,F),0);break;case 1:e.scale(1,-1),e.translate(0,-Math.min(h.height,H));break;case 3:e.scale(-1,-1),e.translate(-Math.min(h.width,F),-Math.min(h.height,H));break}}get naturalBounds(){return this.zi}Wu(e,n,o,l){const c=this.desiredSize,h=this.zs(!0),f=this.il,g=this.bf;let v=0,w=0;(g||!this.hn&&f&&f.complete)&&(this.hn=!0),f===null?(isFinite(c.width)||(e=o),isFinite(c.height)||(n=l)):(v=g?+f.width:f.naturalWidth,w=g?+f.height:f.naturalHeight),!isFinite(c.width)&&h!==2&&h!==5?f!==null&&this.hn!==!1&&(this.sourceRect.isReal()?e=this.sourceRect.width:e=v):(isFinite(e)||(this.sourceRect.isReal()?e=this.sourceRect.width:f!==null&&(e=v)),o=0),!isFinite(c.height)&&h!==2&&h!==4?f!==null&&this.hn!==!1&&(this.sourceRect.isReal()?n=this.sourceRect.height:n=w):(isFinite(n)||(this.sourceRect.isReal()?n=this.sourceRect.height:f!==null&&(n=w)),l=0),isFinite(c.width)&&(e=c.width),isFinite(c.height)&&(n=c.height);const k=this.maxSize,P=this.minSize;o=Math.max(o||0,P.width),l=Math.max(l||0,P.height),e=Math.min(k.width,e),n=Math.min(k.height,n),e=Math.max(o,e),n=Math.max(l,n),f!==null&&!f.complete&&(isFinite(e)||(e=0),isFinite(n)||(n=0)),this.zi.Fn(e,n),this.Wn(0,0,e,n)}uh(e,n,o,l){this.commonArrange(e,n,o,l)}static vp=new r;static f1=0;static _v=4}class wy{Vt;constructor(){this.Vt=null}eT(e,n,o,l){this.Vt===null&&(this.Vt=[]);const c=new Ts(null),h=c.li,f=1/e;if(c.width=n/e,c.height=o/e,c.width===0||c.height===0)return;const g=new Gh(c.Tt,e);let v=l,w=1;if(this.Vt.length>0){const k=this.Vt[this.Vt.length-1];v=k.dt,w=k.bd}h.setTransform(f*w,0,0,f*w,0,0),h.commitTransform(),h.drawImage(v,0,0),this.Vt.push(g)}}class Gh{dt;bd;constructor(e,n){this.dt=e,this.bd=n}}class vo{bi;Gg;constructor(){this.Gg=new te,this.bi=null}Ri(e){e!==null?(this.Gg=e,e.figures.clear()):this.Gg=new te,this.bi=null}hu(e,n,o,l,c,h){if(l!==void 0&&l===!0){const f=new ae(1);f.endX=e,f.endY=n,this.bi.segments.add(f)}else this.bi=new ce,this.bi.startX=e,this.bi.startY=n,this.bi.isFilled=o,this.bi.isEvenOdd=h||!1,this.Gg.figures.add(this.bi);c!==void 0&&(this.bi.isShadowed=c)}rF(){const e=this.bi.segments.length;e>0&&this.bi.segments.elt(e-1).close()}lF(){this.bi.segments.length>0&&(this.bi.isFilled=!0)}hF(e){this.bi.isShadowed=e}RE(e){this.bi.isEvenOdd=e}sF(e,n,o){o===void 0&&(o=!1);const l=new ae(1);l.endX=e,l.endY=n,o&&l.close(),this.bi.segments.add(l)}lr(e,n,o){o===void 0&&(o=!1);const l=new ae(2);l.endX=e,l.endY=n,o&&l.close(),this.bi.segments.add(l)}hr(e,n,o,l,c,h,f){f===void 0&&(f=!1);const g=new ae(3);g.point1X=e,g.point1Y=n,g.point2X=o,g.point2Y=l,g.endX=c,g.endY=h,f&&g.close(),this.bi.segments.add(g)}Nw(e,n,o,l,c){c===void 0&&(c=!1);const h=new ae(4);h.point1X=e,h.point1Y=n,h.endX=o,h.endY=l,c&&h.close(),this.bi.segments.add(h)}nF(e,n,o,l,c,h,f){h===void 0&&(h=0),f===void 0&&(f=!1);const g=new ae(5);g.startAngle=e,g.sweepAngle=n,g.centerX=o,g.centerY=l,g.radiusX=c,h!==0?g.radiusY=h:g.radiusY=c,f&&g.close(),this.bi.segments.add(g)}oF(e,n,o,l,c,h,f,g){g===void 0&&(g=!1);const v=new ae(6,h,f,e,n,o,l,c);g&&v.close(),this.bi.segments.add(v)}static _2=null;static RC(e){const n=vo._2;if(n!==null)return vo._2=null,n.Ri(e),n;{const o=new vo;return o.Ri(e),o}}static vC(e){vo._2=e}}{const G=function(c,h){const f=c.toLowerCase(),g=I.In;g[c]=h,g[f]=c};G("Rectangle",(c,h,f)=>{const g="r"+h+","+f;let v=I.or[g];return v!==void 0||(v=new te(2),v.endX=h,v.endY=f,I.rr<I.Vg&&(I.or[g]=v,I.rr++)),v}),G("Square",(c,h,f)=>{const g="s"+h+","+f;let v=I.or[g];return v!==void 0||(v=new te(2),v.endX=h,v.endY=f,v.defaultStretch=6,I.rr<I.Vg&&(I.or[g]=v,I.rr++)),v});const e=(c,h,f,g,v)=>{(isNaN(g)||g<0)&&(g=5),isNaN(v)&&(v=15);const w="rr"+h+","+f+","+g+","+v;let k=I.or[w];if(k!==void 0)return k;let P=g;(v&1)===1?(P=Math.min(P,(v&2)===2?h/3:h),P=Math.min(P,(v&8)===8?f/3:f)):P=0;const N=new ce(P,0,!0);k=new te().add(N);const F=L.TopLeft.copy(),H=L.BottomRight.copy();if((v&2)===2){let V=g;V=Math.min(V,(v&1)===1?h/3:h),V=Math.min(V,(v&4)===4?f/3:f);const $=V*I.Rn;N.add(new ae(2,h-V,0)).add(new ae(3,h,V,h-$,0,h,$)),F.offsetY=$,H.offsetX=-$}else N.add(new ae(2,h,0));if((v&4)===4){let V=g;V=Math.min(V,(v&8)===8?h/3:h),V=Math.min(V,(v&2)===2?f/3:f);const $=V*I.Rn;N.add(new ae(2,h,f-V)).add(new ae(3,h-V,f,h,f-$,h-$,f)),H.offsetX=-$,H.offsetY=-$}else N.add(new ae(2,h,f));if((v&8)===8){let V=g;V=Math.min(V,(v&4)===4?h/3:h),V=Math.min(V,(v&1)===1?f/3:f);const $=V*I.Rn;N.add(new ae(2,V,f)).add(new ae(3,0,f-V,$,f,0,f-$)),F.offsetX=$,H.offsetY=-$}else N.add(new ae(2,0,f));if((v&1)===1){const V=P*I.Rn;N.add(new ae(2,0,P)).add(new ae(3,P,0,0,V,V,0).close()),F.offsetX=V,F.offsetY=V}else N.add(new ae(2,0,0).close());return k.spot1=F,k.spot2=H,I.rr<I.Vg&&(I.or[w]=k,I.rr++),k};G("RoundedRectangle",(c,h,f)=>{const g=c?c.parameter1:NaN,v=c?c.parameter2:NaN;return e(c,h,f,g,v)}),G("Border","RoundedRectangle"),G("RoundedTopRectangle",(c,h,f)=>{const g=c?c.parameter1:NaN;return e(c,h,f,g,3)}),G("RoundedBottomRectangle",(c,h,f)=>{const g=c?c.parameter1:NaN;return e(c,h,f,g,12)}),G("RoundedLeftRectangle",(c,h,f)=>{const g=c?c.parameter1:NaN;return e(c,h,f,g,9)}),G("RoundedRightRectangle",(c,h,f)=>{const g=c?c.parameter1:NaN;return e(c,h,f,g,6)}),G("Ellipse",(c,h,f)=>{const g="e"+h+","+f;let v=I.or[g];return v!==void 0||(v=new te(3),v.endX=h,v.endY=f,v.spot1=L.zk,v.spot2=L.Xk,I.rr<I.Vg&&(I.or[g]=v,I.rr++)),v}),G("Circle",(c,h,f)=>{const g="c"+h+","+f;let v=I.or[g];return v!==void 0||(v=new te(3),v.endX=h,v.endY=f,v.spot1=L.zk,v.spot2=L.Xk,v.defaultStretch=6,I.rr<I.Vg&&(I.or[g]=v,I.rr++)),v}),G("TriangleRight",(c,h,f)=>new te().add(new ce(0,0).add(new ae(2,h,.5*f)).add(new ae(2,0,f).close())).setSpots(0,.25,.5,.75)),G("TriangleDown",(c,h,f)=>new te().add(new ce(0,0).add(new ae(2,h,0)).add(new ae(2,.5*h,f).close())).setSpots(.25,0,.75,.5)),G("TriangleLeft",(c,h,f)=>new te().add(new ce(h,f).add(new ae(2,0,.5*f)).add(new ae(2,h,0).close())).setSpots(.5,.25,1,.75)),G("TriangleUp",(c,h,f)=>new te().add(new ce(h,f).add(new ae(2,0,f)).add(new ae(2,.5*h,0).close())).setSpots(.25,.5,.75,1)),G("Triangle","TriangleUp"),G("Diamond",(c,h,f)=>new te().add(new ce(.5*h,0).add(new ae(2,0,.5*f)).add(new ae(2,.5*h,f)).add(new ae(2,h,.5*f).close())).setSpots(.25,.25,.75,.75)),G("LineH",(c,h,f)=>{const g=new te(1);return g.startX=0,g.startY=f/2,g.endX=h,g.endY=f/2,g}),G("LineV",(c,h,f)=>{const g=new te(1);return g.startX=h/2,g.startY=0,g.endX=h/2,g.endY=f,g}),G("None","Rectangle"),G("BarH","Rectangle"),G("BarV","Rectangle"),G("MinusLine","LineH"),G("PlusLine",(c,h,f)=>new te().add(new ce(0,f/2,!1).add(new ae(2,h,f/2)).add(new ae(1,h/2,0)).add(new ae(2,h/2,f)))),G("XLine",(c,h,f)=>new te().add(new ce(0,f,!1).add(new ae(2,h,0)).add(new ae(1,0,0)).add(new ae(2,h,f)))),G("LineRight",(c,h,f)=>new te().add(new ce(.25*h,0,!1).add(new ae(2,.75*h,.5*f)).add(new ae(2,.25*h,f)))),G("LineDown",(c,h,f)=>new te().add(new ce(0,.25*f,!1).add(new ae(2,.5*h,.75*f)).add(new ae(2,h,.25*f)))),G("LineLeft",(c,h,f)=>new te().add(new ce(.75*h,0,!1).add(new ae(2,.25*h,.5*f)).add(new ae(2,.75*h,f)))),G("LineUp",(c,h,f)=>new te().add(new ce(0,.75*f,!1).add(new ae(2,.5*h,.25*f)).add(new ae(2,h,.75*f)))),G("Capsule",(c,h,f)=>{const g=new te;if(h<f){const v=h/2,w=new ce(0,v,!0);g.add(w),w.add(new ae(5,180,180,v,v,v,v)),w.add(new ae(2,h,f-v)),w.add(new ae(5,0,180,v,f-v,v,v)),w.add(new ae(2,0,v));const k=isFinite(c.parameter1)?c.parameter1:h*.156;return g.spot1=new L(0,0,0,k),g.spot2=new L(1,1,0,-k),g}else if(h>f){const v=f/2,w=new ce(v,0,!0);g.add(w),w.add(new ae(2,h-v,0)),w.add(new ae(5,270,180,h-v,v,v,v)),w.add(new ae(2,v,f)),w.add(new ae(5,90,180,v,v,v,v));const k=isFinite(c.parameter1)?c.parameter1:f*.156;return g.spot1=new L(0,0,k,0),g.spot2=new L(1,1,-k,0),g}else return g.type=3,g.endX=h,g.endY=f,g.spot1=L.zk,g.spot2=L.Xk,g});const n=(c,h)=>new ce(c,h,!1,!1),o=(c,h,f)=>c.add(new ae(2,h,f)),l=(c,h,f)=>c.add(new ae(1,h,f));G("Borders",(c,h,f)=>{let g=c?c.parameter1:NaN;isNaN(g)?g=10:g=g&15;const v=new te;let w;return g===10?(w=n(h,0),o(w,h,f),l(w,0,f),o(w,0,0)):g===5?(w=n(0,0),o(w,h,0),l(w,h,f),o(w,0,f)):g===1?(w=n(0,0),o(w,h,0),l(w,h,f)):g===2?(w=n(h,0),o(w,h,f)):g===4?(w=n(h,f),o(w,0,f)):g===8?(w=n(0,f),o(w,0,0),l(w,h,f)):g===3?(w=n(0,0),o(w,h,0),o(w,h,f)):g===6?(w=n(h,0),o(w,h,f),o(w,0,f)):g===12?(w=n(h,f),o(w,0,f),o(w,0,0)):g===9?(w=n(0,f),o(w,0,0),o(w,h,0)):g===7?(w=n(0,0),o(w,h,0),o(w,h,f),o(w,0,f)):g===14?(w=n(h,0),o(w,h,f),o(w,0,f),o(w,0,0)):g===13?(w=n(h,f),o(w,0,f),o(w,0,0),o(w,h,0)):g===11?(w=n(0,f),o(w,0,0),o(w,h,0),o(w,h,f)):g===15?(w=n(0,0),o(w,h,0),o(w,h,f),o(w,0,f),w.add(new ae(2,0,0).close())):(w=n(0,0),l(w,h,f)),v.add(w),v})}I.Bg={"":"",Standard:"F1 m 0,0 l 8,4 -8,4 2,-4 z",Backward:"F1 m 8,0 l -2,4 2,4 -8,-4 z",Triangle:"F1 m 0,0 l 8,4.62 -8,4.62 z",BackwardTriangle:"F1 m 8,4 l 0,4 -8,-4 8,-4 0,4 z",Boomerang:"F1 m 0,0 l 8,4 -8,4 4,-4 -4,-4 z",BackwardBoomerang:"F1 m 8,0 l -8,4 8,4 -4,-4 4,-4 z",SidewaysV:"m 0,0 l 8,4 -8,4 0,-1 6,-3 -6,-3 0,-1 z",BackwardV:"m 8,0 l -8,4 8,4 0,-1 -6,-3 6,-3 0,-1 z",OpenTriangle:"m 0,0 l 8,4 -8,4",BackwardOpenTriangle:"m 8,0 l -8,4 8,4",OpenTriangleLine:"m 0,0 l 8,4 -8,4 m 8.5,0 l 0,-8",BackwardOpenTriangleLine:"m 8,0 l  -8,4 8,4 m -8.5,0 l 0,-8",OpenTriangleTop:"m 0,0 l 8,4 m 0,4",BackwardOpenTriangleTop:"m 8,0 l -8,4 m 0,4",OpenTriangleBottom:"m 0,8 l 8,-4",BackwardOpenTriangleBottom:"m 0,4 l 8,4",HalfTriangleTop:"F1 m 0,0 l 0,4 8,0 z m 0,8",BackwardHalfTriangleTop:"F1 m 8,0 l 0,4 -8,0 z m 0,8",HalfTriangleBottom:"F1 m 0,4 l 0,4 8,-4 z",BackwardHalfTriangleBottom:"F1 m 8,4 l 0,4 -8,-4 z",ForwardSemiCircle:"m 4,0 b 270 180 0 4 4",BackwardSemiCircle:"m 4,8 b 90 180 0 -4 4",Feather:"m 0,0 l 3,4 -3,4",BackwardFeather:"m 3,0 l -3,4 3,4",DoubleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardDoubleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4",TripleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardTripleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4 m 3,-8 l -3,4 3,4",ForwardSlash:"m 0,8 l 5,-8",BackSlash:"m 0,0 l 5,8",DoubleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8",DoubleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8",TripleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8 m -2,8 l 4,-8",TripleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8 m -2,-8 l 4,8",Fork:"m 0,4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4",LineFork:"m 0,0 l 0,8 m 0,-4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardLineFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4 m 8,-8 l 0,8",CircleFork:"F1 m 6,4 b 0 360 -3 0 3 z m 0,0 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 6,0 b 0 360 -3 0 3",CircleLineFork:"F1 m 6,4 b 0 360 -3 0 3 z m 1,-4 l 0,8 m 0,-4 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleLineFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 0,-4 l 0,8 m 7,-4 b 0 360 -3 0 3",Circle:"F1 m 8,4 b 0 360 -4 0 4 z",Block:"F1 m 0,0 l 0,8 8,0 0,-8 z",StretchedDiamond:"F1 m 0,3 l 5,-3 5,3 -5,3 -5,-3 z",Diamond:"F1 m 0,4 l 4,-4 4,4 -4,4 -4,-4 z",Chevron:"F1 m 0,0 l 5,0 3,4 -3,4 -5,0 3,-4 -3,-4 z",StretchedChevron:"F1 m 0,0 l 8,0 3,4 -3,4 -8,0 3,-4 -3,-4 z",NormalArrow:"F1 m 0,2 l 4,0 0,-2 4,4 -4,4 0,-2 -4,0 z",X:"m 0,0 l 8,8 m 0,-8 l -8,8",TailedNormalArrow:"F1 m 0,0 l 2,0 1,2 3,0 0,-2 2,4 -2,4 0,-2 -3,0 -1,2 -2,0 1,-4 -1,-4 z",DoubleTriangle:"F1 m 0,0 l 4,4 -4,4 0,-8 z  m 4,0 l 4,4 -4,4 0,-8 z",BigEndArrow:"F1 m 0,0 l 5,2 0,-2 3,4 -3,4 0,-2 -5,2 0,-8 z",ConcaveTailArrow:"F1 m 0,2 h 4 v -2 l 4,4 -4,4 v -2 h -4 l 2,-2 -2,-2 z",RoundedTriangle:"F1 m 0,1 a 1,1 0 0 1 1,-1 l 7,3 a 0.5,1 0 0 1 0,2 l -7,3 a 1,1 0 0 1 -1,-1 l 0,-6 z",SimpleArrow:"F1 m 1,2 l -1,-2 2,0 1,2 -1,2 -2,0 1,-2 5,0 0,-2 2,2 -2,2 0,-2 z",AccelerationArrow:"F1 m 0,0 l 0,8 0.2,0 0,-8 -0.2,0 z m 2,0 l 0,8 1,0 0,-8 -1,0 z m 3,0 l 2,0 2,4 -2,4 -2,0 0,-8 z",BoxArrow:"F1 m 0,0 l 4,0 0,2 2,0 0,-2 2,4 -2,4 0,-2 -2,0 0,2 -4,0 0,-8 z",TriangleLine:"F1 m 8,4 l -8,-4 0,8 8,-4 z m 0.5,4 l 0,-8",CircleEndedArrow:"F1 m 10,4 l -2,-3 0,2 -2,0 0,2 2,0 0,2 2,-3 z m -4,0 b 0 360 -3 0 3 z",DynamicWidthArrow:"F1 m 0,3 l 2,0 2,-1 2,-2 2,4 -2,4 -2,-2 -2,-1 -2,0 0,-2 z",EquilibriumArrow:"m 0,3 l 8,0 -3,-3 m 3,5 l -8,0 3,3",FastForward:"F1 m 0,0 l 3.5,4 0,-4 3.5,4 0,-4 1,0 0,8 -1,0 0,-4 -3.5,4 0,-4 -3.5,4 0,-8 z",Kite:"F1 m 0,4 l 2,-4 6,4 -6,4 -2,-4 z",HalfArrowTop:"F1 m 0,0 l 4,4 4,0 -8,-4 z m 0,8",HalfArrowBottom:"F1 m 0,8 l 4,-4 4,0 -8,4 z",OpposingDirectionDoubleArrow:"F1 m 0,4 l 2,-4 0,2 4,0 0,-2 2,4 -2,4 0,-2 -4,0 0,2 -2,-4 z",PartialDoubleTriangle:"F1 m 0,0 4,3 0,-3 4,4 -4,4 0,-3 -4,3 0,-8 z",LineCircle:"F1 m 0,0 l 0,8 m 7 -4 b 0 360 -3 0 3 z",DoubleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",TripleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",CircleLine:"F1 m 6 4 b 0 360 -3 0 3 z m 1,-4 l 0,8",DiamondCircle:"F1 m 8,4 l -4,4 -4,-4 4,-4 4,4 m 8,0 b 0 360 -4 0 4 z",PlusCircle:"F1 m 8,4 b 0 360 -4 0 4 l -8 0 z m -4 -4 l 0 8",OpenRightTriangleTop:"m 8,0 l 0,4 -8,0 m 0,4",OpenRightTriangleBottom:"m 8,8 l 0,-4 -8,0",Line:"m 0,0 l 0,8",DoubleLine:"m 0,0 l 0,8 m 2,0 l 0,-8",TripleLine:"m 0,0 l 0,8 m 2,0 l 0,-8 m 2,0 l 0,8",PentagonArrow:"F1 m 8,4 l -4,-4 -4,0 0,8 4,0 4,-4 z"};var cu=(G=>(G[G.None=0]="None",G[G.Added=1]="Added",G[G.Removed=2]="Removed",G[G.Shown=4]="Shown",G[G.Hidden=8]="Hidden",G[G.NodeSized=16]="NodeSized",G[G.GroupLayout=32]="GroupLayout",G[G.NodeReplaced=64]="NodeReplaced",G[G.Standard=127]="Standard",G[G.All=16777215]="All",G))(cu||{});class Pn extends Je{w;zo;j;nl;ol;Xo;ri;Yo;xh;Ks;Go;kd;WS;sT;Ip;Ep;constructor(e,n){let o;e===void 0||e instanceof Ln||typeof e=="string"?o=e:e&&(n=e),super(o),this.w=2408959,this.zo="",this.j=null,this.nl="",this.ol=null,this.Xo=null,this.ri="",this.Yo=null,this.xh=null,this.Ks=new T(NaN,NaN).u(),this.Go=null,this.kd=NaN,this.WS=-1,this.sT=new z,this.Ip=null,this.Ep=NaN,n&&Object.assign(this,n)}cloneProtected(e){super.cloneProtected(e),e.w=this.w&-4097|16384|32768,e.zo=this.zo,this.j!==null&&(this.j.fi?e.j=this.j:e.j=this.j.copy()),e.nl=this.nl,e.Xo=null,e.ri=this.ri,e.Ks.a(this.Ks),e.kd=this.kd}vo(e){super.vo(e),e.dh(),e.ol=null,e.Go=null,e.Ip=null}toString(){let e=t.Dn(this.constructor)+"#"+b.as(this);return this.data!==null&&(e+="("+t.toString(this.data)+")"),e}static LayoutNone=0;static LayoutAdded=1;static LayoutRemoved=2;static LayoutShown=4;static LayoutHidden=8;static LayoutNodeSized=16;static LayoutGroupLayout=32;static LayoutNodeReplaced=64;static LayoutStandard=127;static LayoutAll=16777215;Hi(){return this.j===null?this.j=new qh:this.j.fi&&(this.j=this.j.copy()),this.j}ch(){super.ch(),this.j!==null&&(this.j.fi=!0)}qc(e,n,o,l,c,h,f){const g=this.diagram;g!==null&&(e===3&&n==="elements"?c instanceof Je?c.Gr(v=>{g.partManager.IM(v,g)}):c instanceof li&&g.YM(c):e===4&&n==="elements"&&(c instanceof Je?c.Gr(v=>g.partManager.EM(v,g)):c instanceof li&&g.GM(c)),g.raiseChangedEvent(e,n,o,l,c,h,f))}updateTargetBindings(e){if(super.updateTargetBindings(e),this.data===null)return;const n=this.C.r,o=n.length;for(let c=0;c<o;c++){const h=n[c];h instanceof Je&&h.Gr(f=>{f.data!==null&&f.updateTargetBindings()})}const l=this.adornments;for(;l.next();)l.value.updateTargetBindings(e)}Do(){if(super.Do(),this.L2()){const n=this.C.r,o=n.length;for(let l=0;l<o;l++){const c=n[l];c instanceof Je&&c.Gr(h=>h.Do())}}const e=this.adornments;for(;e.next();)e.value.Do()}updateRelationshipsFromData(){this.data!==null&&this.diagram?.partManager.updateRelationshipsFromData(this)}get key(){const e=this.diagram;if(e!==null)return e.model.getKeyForNodeData(this.data)}get adornments(){return this.Xo===null?a.instance:this.Xo.iteratorValues}findAdornment(e){const n=this.Xo;return n===null?null:n.get(e)}addAdornment(e,n){if(n===null)return;let o=null,l=this.Xo;if(l!==null&&(o=l.get(e)),o!==n){if(o!==null){const h=o.diagram;h!==null&&h.remove(o)}l===null&&(l=new _,this.Xo=l),n.zo!==e&&(n.category=e),l.set(e,n);const c=this.diagram;if(c!==null){c.add(n);const h=n.adornedObject;if(h!==null){const f=h.findBindingPanel();f!==null&&(n.data=f.data)}}}}removeAdornment(e){const n=this.Xo;if(n===null)return;const o=n.get(e);if(o!==null){const l=o.diagram;l!==null&&(l.remove(o),o.data=null)}n.delete(e),n.count===0&&(this.Xo=null)}clearAdornments(){const e=this.Xo;if(e===null)return;const n=t.et(),o=e.iterator;for(;o.next();){const c=o.key;n.push(c)}const l=n.length;for(let c=0;c<l;c++)this.removeAdornment(n[c]);t.J(n)}updateAdornments(){const e=this.diagram;if(e===null)return;this.tO(e),this.iO(e);let n=this.adornments;for(;n.next();){const o=n.value;o.c(),o.hasPlaceholder()&&o.placeholder?.c()}for(n=this.adornments;n.next();)n.value.updateTargetBindings()}invalidateAdornments(){const e=this.diagram;e!==null&&(e._l(),this.nT()!==!0&&this.oT(!0))}JS(){this.nT()!==!1&&(this.updateAdornments(),this.oT(!1))}tO(e){const n="Selection";if(this.isSelected&&this.selectionAdorned){const o=this.selectionObject;if(o!==null&&this.actualBounds.isReal()&&this.isVisible()&&o.isVisibleObject()&&o.actualBounds.isReal()){let l=this.findAdornment(n);if(l===null){let c=this.selectionAdornmentTemplate;c===null&&(this.Cl()?c=e.linkSelectionAdornmentTemplate:this instanceof Xt?c=e.groupSelectionAdornmentTemplate:c=e.nodeSelectionAdornmentTemplate),l=c.copy(),l!==null&&(this.Cl()&&this.selectionObject===this.path&&(l.type=Je.Link),l.adornedObject=o)}if(l!==null){l.type===Je.Link&&l.c(),this.addAdornment(n,l);return}}}this.removeAdornment(n)}iO(e){const n=this;e.toolManager.mouseDownTools.each(o=>{o.isEnabled&&o.updateAdornments(n)}),e.toolManager.updateAdornments(n)}HS(e){this.Yo=e,e===null&&this.QR()}get layer(){return this.Yo}get diagram(){const e=this.Yo;return e==null?null:e.diagram}get layerName(){return this.nl}set layerName(e){const n=this.nl;if(n===e)return;let o=this.diagram;if(o!==null&&(o.findLayer(e)===null||o.partManager.addsToTemporaryLayer))return;this.nl=e,o!==null&&o.invalidateDocumentBounds(),this.t("layerName",n,e);const l=this.layer;if(l===null||l.name===e||(o=l.diagram,o===null))return;const c=o.findLayer(e);if(c===null||c===l)return;let h=l.te(-1,this,!0);h>=0&&o.raiseChangedEvent(4,"parts",l,this,null,h,!0),h=c.Jh(99999999,this,!0),l.visible!==c.visible&&this.Ei(c.visible),h>=0&&o.raiseChangedEvent(3,"parts",c,null,this,!0,h);const f=this.layerChanged;if(f===null)return;const g=o.X;o.X=!0,f(this,l,c),o.X=g}get layerChanged(){return this.j!==null?this.j.Up:null}set layerChanged(e){const n=this.layerChanged;n!==e&&(e!==null&&t.k(e,Pn,"layerChanged"),this.Hi().Up=e,this.t("layerChanged",n,e))}get zOrder(){return this.kd}set zOrder(e){const n=this.kd;if(n===e)return;this.kd=e;const o=this.layer;o!==null&&o.kx(-1,this),this.t("zOrder",n,e);const l=this.diagram;l!==null&&l.S()}eO(){const e=this.layer;e!==null&&e.kx(-1,this)}g1(){if(this.ih()!==!1)return;this.tN(!0),this.$c();const e=this.diagram;e!==null&&(e._m(this),e.requestUpdate())}rT(){if(this.w|=2097152,this.ih()===!1)return;const e=this.position,n=this.location;(!n.isReal()||!e.isReal())&&this.lT(e,n);const o=this.Ni,l=z.l().a(o);o.Nt(),o.x=e.x,o.y=e.y,o.u(),this.Ju(l,o),z.e(l),this.tN(!1),this.$c()}Wn(e,n,o,l){const c=this.se;c.i(e,n,o,l),this.wi===null&&(this.wi=new U);const h=this.wi;h.Ri(),this.g0(h,e,n,o,l),this.wi=h,h.Yk()||h.vg(c)}g0(e,n,o,l,c){if(this.tt!==1&&e.tt(this.tt),this.Yt===0)return;let h=L.Center;this.locationSpot.isSpot()&&(h=this.locationSpot);const f=T.l();if(this.locationObject!==this){const g=this.locationObject,v=g.naturalBounds;f.setSpot(v.x,v.y,v.width,v.height,h),g.wi!==null&&g.wi.gt(f),f.offset(-g.measuredBounds.x,-g.measuredBounds.y);let w=g.panel;for(;w!==null&&w!==this;)w.wi!==null&&w.wi.gt(f),f.offset(-w.measuredBounds.x,-w.measuredBounds.y),w=w.panel}else f.setSpot(n,o,l,c,h);e.cs(this.Yt,f.x,f.y),T.e(f)}get locationObject(){if(this.Go===null)if(this instanceof gn&&this.type!==Je.Link&&this.hasPlaceholder())this.Go=this.placeholder;else{const e=this.locationObjectName;if(e!==""){const n=this.findObject(e);n!==null?this.Go=n:this.Go=this}else this.Go=this}return this.Go?.visible?this.Go:this}get minLocation(){return this.j!==null?this.j.Bp:T.gC}set minLocation(e){const n=this.minLocation;n.equals(e)||(e=e.P(),this.Hi().Bp=e,this.t("minLocation",n,e))}get maxLocation(){return this.j!==null?this.j.Vp:T.mC}set maxLocation(e){const n=this.maxLocation;n.equals(e)||(e=e.P(),this.Hi().Vp=e,this.t("maxLocation",n,e))}get locationObjectName(){return this.j!==null?this.j.zp:""}set locationObjectName(e){const n=this.locationObjectName;n!==e&&(this.Hi().zp=e,this.Go=null,this.c(),this.t("locationObjectName",n,e))}get locationSpot(){return this.j!==null?this.j.Xp:L.TopLeft}set locationSpot(e){const n=this.locationSpot;n.equals(e)||(e=e.P(),this.Hi().Xp=e,this.c(),this.t("locationSpot",n,e))}move(e,n){n===!0?this.location=e:this.position=e}moveTo(e,n,o){const l=T.V(e,n);this.move(l,o),T.e(l)}isVisible(){if(!this.visible)return!1;const e=this.layer;if(e!==null){if(!e.visible)return!1;const o=e.diagram;if(o!==null&&o.animationManager.lx(this))return!0}const n=this.containingGroup;return!(n!==null&&(!n.isSubGraphExpanded||!n.isVisible()))}Ei(e){const n=this.diagram;e?(this.invalidateLayout(4),this.invalidateAdornments(),n!==null&&n._m(this)):(this.invalidateLayout(8),this.clearAdornments()),this.dh(),n!==null&&(n.invalidateDocumentBounds(),n.S())}findObject(e){if(this.name===e)return this;let n=this.Ip;if(n===null&&(this.Ip=n=new _),n.get(e)!==null)return n.get(e);const o=super.findObject(e);return o!==null?(n.set(e,o),o):(n.set(e,null),null)}L0(){this.Ip=null}getRelativePoint(e,n,o){o===void 0&&(o=new T);const l=n.isNoSpot()?L.Center:n,c=e.naturalBounds;if(o.i(c.width*l.x+l.offsetX,c.height*l.y+l.offsetY),e===null||e===this)return o;e.T.gt(o);let h=e.panel;for(;h!==null&&h!==this;)h.T.gt(o),h=h.panel;return this.wi!==null&&this.wi.gt(o),o.offset(-this.se.x,-this.se.y),o}getDocumentBounds(e){return e===void 0&&(e=new z),e.a(this.actualBounds)}ensureBounds(){this.ht(1/0,1/0),this.Bt()}IA(e){const n=this.locationSpot,o=this.locationObject;let l=o.naturalBounds;l.isReal()||(l=z.Fg);const c=o instanceof zt?o.strokeWidth:0;if(e.setSpot(0,0,l.width+c,l.height+c,n),o!==this){e.offset(-c/2,-c/2),o.T.gt(e);let h=o.panel;for(;h!==null&&h!==this;)h.T.gt(e),h=h.panel}return this.wi!==null&&this.wi.gt(e),e.offset(-this.se.x,-this.se.y),e}Wh(e,n){const o=n===void 0?this.sT:n,l=this.sO(),c=l*2;if(!this.isShadowed)return o.i(e.x-1-l,e.y-1-l,e.width+2+c,e.height+2+c),o;let h=e.x,f=e.y,g=e.width,v=e.height;const w=this.shadowBlur,k=this.shadowOffset;return g+=w,v+=w,h-=w/2,f-=w/2,k.x>0?g+=k.x:(h+=k.x,g-=k.x),k.y>0?v+=k.y:(f+=k.y,v-=k.y),o.i(h-1,f-1,g+2,v+2),o}Vv(){return this.type===Je.Link&&this instanceof gn&&this.category==="Selection"&&this.adornedObject instanceof zt&&this.adornedPart.findMainElement()===this.adornedObject?this.adornedObject.strokeWidth:0}sO(){return isNaN(this.Ep)&&(this.Ep=this.YA()),this.Ep}cf(){this.Ep=NaN}Bt(){if(this._e()===!1){this.rT();return}this.Jn(!1);const e=this.Ni,n=z.l();n.a(e);const o=this.Nl();this.uh(0,0,this.se.width,this.se.height);const l=this.position;this.lT(l,this.location),e.Nt(),e.x=l.x,e.y=l.y,e.u(),this.Ju(n,e),n.equals(e)?this.ps(o):this.ke()&&(!I.f(n.width,e.width)||!I.f(n.height,e.height))&&this.WS>=0&&this.invalidateLayout(16),z.e(n),this.tN(!1)}Ju(e,n){const o=this.diagram;if(o===null)return;let l=!1;if(o.ta===!1&&e.isReal()){const c=z.l();c.a(o.documentBounds),c.subtractMargin(o.padding),e.x>c.x&&e.y>c.y&&e.right<c.right&&e.bottom<c.bottom&&n.x>c.x&&n.y>c.y&&n.right<c.right&&n.bottom<c.bottom&&(l=!0),z.e(c)}(this.nO()===!0||!e.equals(n))&&this.KL(l,o),o.S(),!(!e.isReal()&&!n.isReal()||e.equalsApproxClose(n))&&(this instanceof Lt&&!o.undoManager.isUndoingRedoing&&this.invalidateConnectedLinks(),this.dh())}get location(){return this.Ks}set location(e){const n=e.x,o=e.y,l=this.Ks;(l.x!==n&&(!isNaN(l.x)||!isNaN(n))||l.y!==o&&(!isNaN(l.y)||!isNaN(o)))&&(e=e.copy(),this.oO(e,l)&&this.t("location",l,e.copy()))}oO(e,n){if(this.Cl())return!1;if(this.Ks=e,this.w|=2097152,this._e()===!1){this.g1();const o=this.at;if(o.isReal()){const l=this.diagram;if(l===null||l.animationManager.isTicking||!l.undoManager.isUndoingRedoing){const c=o.copy();o.i(o.x+(e.x-n.x),o.y+(e.y-n.y)),this.hT(l,o,c.x,c.y),this.t("position",c,o.copy())}}}return!0}M2(e,n,o){if(this.Cl()||!e.isReal())return!1;const l=this.diagram;if(l!==null&&this.hT(l,e,n,o),this.at=e,this.w&=-2097153,this.Ks.isReal()&&(l===null||l.animationManager.isTicking||!l.undoManager.isUndoingRedoing)){const c=this.Ks;this.Ks=new T(c.x+(e.x-n),c.y+(e.y-o)),this.t("location",c,this.Ks.copy())}return this.ih()===!1&&this._e()===!1&&(this.g1(),this.rT()),!0}hT(e,n,o,l){if(e===null||this instanceof gn)return;const c=e.animationManager;c.pi&&c.dL(this,new T(o,l),n,!1)}bc(e,n,o){const l=this.Ks,c=this.at;if(o){if(l.x===e&&l.y===n)return;this.ih()||this._e()?c.i(NaN,NaN):c.i(c.x+e-l.x,c.y+n-l.y),l.i(e,n)}else{if(c.x===e&&c.y===n)return;l.i(l.x+e-c.x,l.y+n-c.y),c.i(e,n)}this.g1()}N2(){this.w&=-2097153,this.g1()}lT(e,n){const o=this.IA(T.l()),l=this.diagram,c=n.isReal(),h=e.isReal();c&&h?this.w&2097152?this.aT(e,n,l,o):this.cT(e,n,l,o):c?this.aT(e,n,l,o):h&&this.cT(e,n,l,o),this.w|=2097152,T.e(o),this.$c()}aT(e,n,o,l){const c=e.x,h=e.y;if(e.i(n.x-l.x,n.y-l.y),o!==null){const f=o.animationManager,g=f.defaultAnimation.isAnimating;!g&&f.pi&&!(this instanceof gn)&&f.dL(this,new T(c,h),e,!1),!g&&!(e.x===c&&e.y===h)&&this.t("position",new T(c,h),e.copy())}}cT(e,n,o,l){const c=n.copy();n.i(e.x+l.x,e.y+l.y),!n.equals(c)&&o!==null&&this.t("location",c,n.copy())}KL(e,n){this.w2(!1),this instanceof Lt&&n.JM(this),!this.layer.isTemporary&&!e&&n.invalidateDocumentBounds();const o=this.Ni,l=n.viewportBounds;l.isReal()?this.Nl()?(o.intersectsRectPlus(l,10)||this.ps(!1),this.updateAdornments()):this.isVisible()&&o.intersectsRect(l)?(this.ps(!0),this.updateAdornments()):this.invalidateAdornments():n.Ic=!0}Yr(){return!0}ke(){return!0}Cl(){return!1}Xs(){return!0}hasPlaceholder(){return!1}get category(){return this.zo}set category(e){const n=this.zo;if(n===e)return;this.svg!==null&&(this.svg.remove(),this.Ve(!0));const o=this.diagram,l=this.data;let c=null;if(o!==null&&l!==null&&!(this instanceof gn)){const h=o.model.undoManager;h.isEnabled&&!h.isUndoingRedoing&&(c=this.clone(),c.C.addAll(this.C))}if(this.zo=e,this.t("category",n,e),o!==null&&l!==null&&!(this instanceof gn)){const h=o.model;if(h.undoManager.isUndoingRedoing)return;if(this.Cl()){o.partManager.setLinkCategoryForData(l,e);const f=o.partManager.findLinkTemplateForCategory(e);if(f!==null){f.Et();const g=f.copy();g!==null&&this.iN(g,n,e)}}else{h!==null&&h.setCategoryForNodeData(l,e);const f=o.partManager.findTemplateForNodeData(l,e);if(f!==null){f.Et();const g=f.copy();if(g!==null&&!(g instanceof vt)){const v=this.location.copy();this.iN(g,n,e),this.location.isReal()||(this.location=v)}}}if(c!==null){const f=this.clone();f.C.addAll(this.C),this.t("self",c,f)}}else if(this instanceof gn){const h=this.adornedPart;if(h!==null){const f=h.Xo;f!==null&&f.delete(n),h.addAdornment(this.category,this)}}}get self(){return this}set self(e){this.iN(e,this.category,e.category)}static fT=!1;iN(e,n,o){e.constructor!==this.constructor&&(Pn.fT||(Pn.fT=!0,t.ni('Should not change the class of the Part when changing category from "'+n+'" to "'+o+'"'),t.ni("  Old class: "+t.Dn(this.constructor)+", new class: "+t.Dn(e.constructor)+", part: "+this.toString()))),this.clearAdornments();const l=this.data,c=this.layerName,h=this.isSelected,f=this.isHighlighted;let g=!0,v=!0,w=!1;this instanceof Lt&&(g=this.isTreeLeaf,v=this.isTreeExpanded,w=this.wasTreeExpanded),e.vo(this),e.cloneProtected(this),this.zo=o,this.svg!==null&&(this.svg.remove(),this.svg=null,this.Ve(!0)),this.c(),this.S();const k=this.diagram;let P=!0;k!==null&&(P=k.skipsUndoManager,k.skipsUndoManager=!0),this._t=l,this.w=h?this.w|4096:this.w&-4097,this.w=f?this.w|524288:this.w&-524289,this instanceof Lt&&(this.v=g?this.v|4:this.v&-5,this.v=v?this.v|1:this.v&-2,this.v=w?this.v|2:this.v&-3),l!==null&&this.updateTargetBindings();const N=this.layerName;N!==c&&(this.nl=c,this.layerName=N),k!==null&&(k.skipsUndoManager=P),this.ke()&&this.invalidateLayout(64)}canCopy(){if(!this.copyable)return!1;const e=this.layer;if(e===null)return!0;if(!e.allowCopy)return!1;const n=e.diagram;return n===null?!0:!!n.allowCopy}canDelete(){if(!this.deletable)return!1;const e=this.layer;if(e===null)return!0;if(!e.allowDelete)return!1;const n=e.diagram;return n===null?!0:!!n.allowDelete}canEdit(){if(!this.textEditable)return!1;const e=this.layer;if(e===null)return!0;if(!e.allowTextEdit)return!1;const n=e.diagram;return n===null?!0:!!n.allowTextEdit}canGroup(){if(!this.groupable)return!1;const e=this.layer;if(e===null)return!0;if(!e.allowGroup)return!1;const n=e.diagram;return n===null?!0:!!n.allowGroup}canMove(){if(!this.movable)return!1;const e=this.layer;if(e===null)return!0;if(!e.allowMove)return!1;const n=e.diagram;return n===null?!0:!!n.allowMove}canReshape(){if(!this.reshapable)return!1;const e=this.layer;if(e===null)return!0;if(!e.allowReshape)return!1;const n=e.diagram;return n===null?!0:!!n.allowReshape}canResize(){if(!this.resizable)return!1;const e=this.layer;if(e===null)return!0;if(!e.allowResize)return!1;const n=e.diagram;return n===null?!0:!!n.allowResize}canRotate(){if(!this.rotatable)return!1;const e=this.layer;if(e===null)return!0;if(!e.allowRotate)return!1;const n=e.diagram;return n===null?!0:!!n.allowRotate}canSelect(){if(!this.selectable)return!1;const e=this.layer;if(e===null)return!0;if(!e.allowSelect)return!1;const n=e.diagram;return n===null?!0:!!n.allowSelect}get copyable(){return(this.w&1)!==0}set copyable(e){const n=(this.w&1)!==0;n!==e&&(this.w=this.w^1,this.t("copyable",n,e))}get deletable(){return(this.w&2)!==0}set deletable(e){const n=(this.w&2)!==0;n!==e&&(this.w=this.w^2,this.t("deletable",n,e))}get textEditable(){return(this.w&4)!==0}set textEditable(e){const n=(this.w&4)!==0;n!==e&&(this.w=this.w^4,this.t("textEditable",n,e),this.invalidateAdornments())}get groupable(){return(this.w&8)!==0}set groupable(e){const n=(this.w&8)!==0;n!==e&&(this.w=this.w^8,this.t("groupable",n,e))}get movable(){return(this.w&16)!==0}set movable(e){const n=(this.w&16)!==0;n!==e&&(this.w=this.w^16,this.t("movable",n,e))}get selectionAdorned(){return(this.w&32)!==0}set selectionAdorned(e){const n=(this.w&32)!==0;n!==e&&(this.w=this.w^32,this.t("selectionAdorned",n,e),this.invalidateAdornments())}get isInDocumentBounds(){return(this.w&64)!==0}set isInDocumentBounds(e){const n=(this.w&64)!==0;if(n!==e){this.w=this.w^64;const o=this.diagram;o!==null&&o.invalidateDocumentBounds(),this.t("isInDocumentBounds",n,e)}}get isLayoutPositioned(){return(this.w&128)!==0}set isLayoutPositioned(e){const n=(this.w&128)!==0;n!==e&&(this.w=this.w^128,this.t("isLayoutPositioned",n,e),this.invalidateLayout(e?4:8))}get selectable(){return(this.w&256)!==0}set selectable(e){const n=(this.w&256)!==0;n!==e&&(this.w=this.w^256,this.t("selectable",n,e),this.invalidateAdornments())}get reshapable(){return(this.w&512)!==0}set reshapable(e){const n=(this.w&512)!==0;n!==e&&(this.w=this.w^512,this.t("reshapable",n,e),this.invalidateAdornments())}get resizable(){return(this.w&1024)!==0}set resizable(e){const n=(this.w&1024)!==0;n!==e&&(this.w=this.w^1024,this.t("resizable",n,e),this.invalidateAdornments())}get rotatable(){return(this.w&2048)!==0}set rotatable(e){const n=(this.w&2048)!==0;n!==e&&(this.w=this.w^2048,this.t("rotatable",n,e),this.invalidateAdornments())}get isSelected(){return(this.w&4096)!==0}set isSelected(e){const n=(this.w&4096)!==0;if(n!==e){const o=this.diagram;if(e){if(!this.canSelect())return;if(o!==null){const h=o.maxSelectionCount;if(o.selection.count>=h)return}}this.w=this.w^4096;let l=!1;if(o!==null){l=o.skipsUndoManager,o.skipsUndoManager=!0;const h=o.selection;h.Nt(),e?h.add(this):h.delete(this),h.u()}this.t("isSelected",n,e),this.invalidateAdornments();const c=this.selectionChanged;c!==null&&c(this),o!==null&&(o.requestUpdate(),o.skipsUndoManager=l)}}get isHighlighted(){return(this.w&524288)!==0}set isHighlighted(e){const n=(this.w&524288)!==0;if(n!==e){this.w=this.w^524288;const o=this.diagram;if(o!==null){const c=o.highlighteds;c.Nt(),e?c.add(this):c.delete(this),c.u()}this.t("isHighlighted",n,e),this.S();const l=this.highlightedChanged;l!==null&&l(this)}}get isShadowed(){return(this.w&8192)!==0}set isShadowed(e){const n=(this.w&8192)!==0;n!==e&&(this.w=this.w^8192,this.Ve(!0),this.t("isShadowed",n,e),this.S())}nT(){return(this.w&16384)!==0}oT(e){e?this.w|=16384:this.w&=-16385}ih(){return(this.w&32768)!==0}tN(e){e?this.w|=32768:this.w&=-32769}nO(){return(this.w&65536)!==0}w2(e){e?this.w|=65536:this.w&=-65537}Nl(){return(this.w&131072)!==0}ps(e){e?this.w|=131072:this.w&=-131073}uT(){return(this.w&1048576)!==0}m1(e){e?this.w|=1048576:this.w&=-1048577}get isAnimated(){return(this.w&262144)!==0}set isAnimated(e){const n=(this.w&262144)!==0;n!==e&&(this.w=this.w^262144,this.t("isAnimated",n,e))}get highlightedChanged(){return this.j!==null?this.j.Yp:null}set highlightedChanged(e){const n=this.highlightedChanged;n!==e&&(e!==null&&t.k(e,Pn,"highlightedChanged"),this.Hi().Yp=e,this.t("highlightedChanged",n,e))}get selectionObjectName(){return this.j!==null?this.j.Gp:""}set selectionObjectName(e){const n=this.selectionObjectName;n!==e&&(this.Hi().Gp=e,this.ol=null,this.t("selectionObjectName",n,e))}get selectionAdornmentTemplate(){return this.j!==null?this.j.Kp:null}set selectionAdornmentTemplate(e){const n=this.selectionAdornmentTemplate;n!==e&&(e!==null&&e.Et(),this.Hi().Kp=e,this.t("selectionAdornmentTemplate",n,e))}get selectionObject(){if(this.ol===null){const e=this.selectionObjectName;if(e!==null&&e!==""){const n=this.findObject(e);n!==null?this.ol=n:this.ol=this}else if(this instanceof vt){const n=this.path;n!==null?this.ol=n:this.ol=this}else this.ol=this}return this.ol}get selectionChanged(){return this.j!==null?this.j.jp:null}set selectionChanged(e){const n=this.selectionChanged;n!==e&&(e!==null&&t.k(e,Pn,"selectionChanged"),this.Hi().jp=e,this.t("selectionChanged",n,e))}get resizeAdornmentTemplate(){return this.j!==null?this.j.Hp:null}set resizeAdornmentTemplate(e){const n=this.resizeAdornmentTemplate;n!==e&&(this.Hi().Hp=e!==null?e.Et():null,this.t("resizeAdornmentTemplate",n,e))}get resizeObjectName(){return this.j!==null?this.j.qp:""}set resizeObjectName(e){const n=this.resizeObjectName;n!==e&&(this.Hi().qp=e,this.t("resizeObjectName",n,e))}get resizeObject(){const e=this.resizeObjectName;if(e!==""){const n=this.findObject(e);if(n!==null)return n}return this}get resizeCellSize(){return this.j!==null?this.j.Wp:B.yw}set resizeCellSize(e){const n=this.resizeCellSize;n.equals(e)||(e=e.P(),this.Hi().Wp=e,this.t("resizeCellSize",n,e))}get rotateAdornmentTemplate(){return this.j!==null?this.j.Jp:null}set rotateAdornmentTemplate(e){const n=this.rotateAdornmentTemplate;n!==e&&(this.Hi().Jp=e!==null?e.Et():null,this.t("rotateAdornmentTemplate",n,e))}get rotateObjectName(){return this.j!==null?this.j.$p:""}set rotateObjectName(e){const n=this.rotateObjectName;n!==e&&(this.Hi().$p=e,this.t("rotateObjectName",n,e))}get rotateObject(){const e=this.rotateObjectName;if(e!==""){const n=this.findObject(e);if(n!==null)return n}return this}get rotationSpot(){return this.j!==null?this.j.Zp:L.Default}set rotationSpot(e){const n=this.rotationSpot;n.equals(e)||(e=e.P(),this.Hi().Zp=e,this.t("rotationSpot",n,e))}get text(){return this.ri}set text(e){const n=this.ri;n!==e&&(this.ri=e,this.t("text",n,e))}get containingGroup(){return this.xh}set containingGroup(e){if(this.ke()){const n=this.xh;if(n!==e){e!==null&&(this===e||e.isMemberOf(this))&&(this===e&&t.o("Cannot make a Group a member of itself: "+this.toString()),t.o("Cannot make a Group indirectly contain itself: "+this.toString()+" already contains "+e.toString())),this.invalidateLayout(2);const o=this.diagram;if(n!==null?n.eN(this):this instanceof Xt&&o!==null&&o.zr.delete(this),this.xh=e,e!==null?e.sN(this):this instanceof Xt&&o!==null&&o.zr.add(this),this.invalidateLayout(1),o!==null&&o.X){const c=this.data,h=o.model;if(c!==null&&h.Hc()){const f=e!==null?e.data:null;h.setGroupForData(c,h.getKeyForNodeData(f))}}const l=this.containingGroupChanged;if(l!==null){let c=!0;o!==null&&(c=o.X,o.X=!0),l(this,n,e),o!==null&&(o.X=c)}if(this instanceof Xt){const c=new b;Pn.oh(c,this,!0,0,!0);const h=c.iterator;for(;h.next();){const f=h.value;if(f instanceof Lt){const g=f.linksConnected;for(;g.next();)g.value.Pd()}}}if(this instanceof Lt){const c=this.linksConnected;for(;c.next();)c.value.Pd();const h=this.labeledLink;h!==null&&h.Pd()}this.t("containingGroup",n,e),e!==null&&e.eO()}}else t.o("cannot set the Part.containingGroup of a Link or Adornment")}dh(){const e=this.containingGroup;e!==null&&(e.hasPlaceholder()&&e.placeholder?.c(),e.c(),e.invalidateConnectedLinks())}S(){const e=this.diagram;e!==null&&!this._e()&&!this.ih()&&this.isVisible()&&this.Ni.isReal()&&e.S(this.Wh(this.Ni))}c(){if(this.To())return;super.c();const e=this.diagram;e!==null&&(e._m(this),this instanceof Lt&&this.labeledLink!==null&&this.labeledLink.ef(),e.requestUpdate(!0))}ef(e){if(this._e())return;const n=this.diagram;n!==null&&(n._m(this),this instanceof Lt&&this.invalidateConnectedLinks(),n.requestUpdate()),this.Jn(!0)}Rm(e){if(!e){const n=this.xh;n!==null&&n.sN(this)}}vm(e){if(!e){const n=this.xh;n!==null&&n.eN(this)}}Xc(){const e=this.data;if(e!==null){const n=this.diagram;if(n!==null){const o=n.model;o!==null&&o.removeNodeData(e)}}}get containingGroupChanged(){return this.j!==null?this.j.Qp:null}set containingGroupChanged(e){const n=this.containingGroupChanged;n!==e&&(e!==null&&t.k(e,Pn,"containingGroupChanged"),this.Hi().Qp=e,this.t("containingGroupChanged",n,e))}findSubGraphLevel(){return this.nN(this)}nN(e){const n=e.containingGroup;if(n!==null)return 1+this.nN(n);if(e instanceof Lt){const o=e.labeledLink;if(o!==null)return this.nN(o)}return 0}findTopLevelPart(){return this.oN(this)}oN(e){const n=e.containingGroup;if(n!==null)return this.oN(n);if(e instanceof Lt){const o=e.labeledLink;if(o!==null)return this.oN(o)}return e}get isTopLevel(){return!(this.containingGroup!==null||this instanceof Lt&&this.labeledLink!==null)}isMemberOf(e){return e instanceof Xt?this.rN(this,e):!1}rN(e,n){if(e===n||n===null)return!1;const o=e.containingGroup;if(o!==null&&(o===n||this.rN(o,n)))return!0;if(e instanceof Lt){const l=e.labeledLink;if(l!==null)return this.rN(l,n)}return!1}findCommonContainingGroup(e){if(e===null)return null;if(this===e)return this.containingGroup;let n=this;for(;n!==null;){if(n instanceof Xt&&n.m1(!0),n instanceof Lt){const l=n.labeledLink;l!==null&&(n=l)}n=n.containingGroup}let o=null;for(n=e;n!==null;){if(n.uT()){o=n;break}if(n instanceof Lt){const l=n.labeledLink;l!==null&&(n=l)}n=n.containingGroup}for(n=this;n!==null;){if(n instanceof Xt&&n.m1(!1),n instanceof Lt){const l=n.labeledLink;l!==null&&(n=l)}n=n.containingGroup}return o}get layoutConditions(){return this.j!==null?this.j._p:127}set layoutConditions(e){const n=this.layoutConditions;n!==e&&(this.Hi()._p=e,this.t("layoutConditions",n,e))}canLayout(){if(!this.isLayoutPositioned||!this.isVisible())return!1;const e=this.layer;return!(e!==null&&e.isTemporary||this instanceof Lt&&this.isLinkLabel)}rO(e){if(!this.isLayoutPositioned||!(e&this.layoutConditions))return!1;const n=this.layer;if(n!==null&&n.isTemporary||this instanceof Lt&&this.isLinkLabel)return!1;const o=this.diagram;return!(o!==null&&o.undoManager.isUndoingRedoing)}invalidateLayout(e){if(e===void 0&&(e=16777215),!this.rO(e))return;const n=this.xh;if(n!==null){const o=n.layout;o!==null?o.invalidateLayout():n.invalidateLayout(e)}else{const o=this.diagram;if(o!==null){const l=o.layout;l!==null&&l.invalidateLayout()}}}jL(){if(!this.isVisible())return!1;const e=this.layer;return!(e!==null&&e.isTemporary)}static oh(e,n,o,l,c,h){if(h===void 0&&(h=null),!e.has(n)&&!(h!==null&&!h(n))&&!(n instanceof gn)){if(e.add(n),n instanceof Lt){if(o&&n instanceof Xt){const f=n.memberParts;for(;f.next();){const g=f.value;Pn.oh(e,g,o,l,c,h)}}if(c!==!1){const f=n.linksConnected;for(;f.next();){const g=f.value;if(e.has(g))continue;const v=g.fromNode,w=g.toNode,k=v===null||e.has(v),P=w===null||e.has(w);(c?k&&P:k||P)&&Pn.oh(e,g,o,l,c,h)}}if(l>1){const f=n.findTreeChildrenNodes();for(;f.next();){const g=f.value;Pn.oh(e,g,o,l-1,c,h)}}}else if(n instanceof vt){const f=n.labelNodes;for(;f.next();){const g=f.value;Pn.oh(e,g,o,l,c,h)}}}}get dragComputation(){return this.j!==null?this.j.ty:null}set dragComputation(e){const n=this.dragComputation;n!==e&&(e!==null&&t.k(e,Pn,"dragComputation"),this.Hi().ty=e,this.t("dragComputation",n,e))}get shadowOffset(){return this.j!==null?this.j.iy:T.pC}set shadowOffset(e){const n=this.shadowOffset;n.equals(e)||(e=e.P(),this.Hi().iy=e,this.S(),this.t("shadowOffset",n,e))}get shadowColor(){return this.j!==null?this.j.ey:"gray"}set shadowColor(e){const n=this.shadowColor;n!==e&&(this.Hi().ey=e,this.S(),this.t("shadowColor",n,e))}get shadowBlur(){return this.j!==null?this.j.un:4}set shadowBlur(e){const n=this.shadowBlur;n!==e&&(this.Hi().un=e,this.S(),this.t("shadowBlur",n,e))}}class qh{fi;Up;Qp;Kp;Gp;jp;Yp;Hp;qp;Wp;Jp;$p;Zp;zp;Xp;Bp;Vp;ty;_p;iy;ey;un;constructor(){this.fi=!1,this.Up=null,this.Qp=null,this.Kp=null,this.Gp="",this.jp=null,this.Yp=null,this.Hp=null,this.qp="",this.Wp=B.yw,this.Jp=null,this.$p="",this.Zp=L.Default,this.zp="",this.Xp=L.TopLeft,this.Bp=T.gC,this.Vp=T.mC,this.ty=null,this._p=127,this.iy=T.pC,this.ey="gray",this.un=4}copy(){const e=new qh;return e.Up=this.Up,e.Qp=this.Qp,e.Kp=this.Kp,e.Gp=this.Gp,e.jp=this.jp,e.Yp=this.Yp,e.Hp=this.Hp,e.qp=this.qp,e.Wp=this.Wp.P(),e.Jp=this.Jp,e.$p=this.$p,e.Zp=this.Zp.P(),e.zp=this.zp,e.Xp=this.Xp.P(),e.Bp=this.Bp.P(),e.Vp=this.Vp.P(),e.ty=this.ty,e._p=this._p,e.iy=this.iy.P(),e.ey=this.ey,e.un=this.un,e}}class gn extends Pn{us;Ft;nS;oS;hf;constructor(e,n){let o;e===void 0||e instanceof Ln||typeof e=="string"?o=e:e&&(n=e),super(o),this.w&=-257,this.nl="Adornment",this.us=null,this.nS=0,this.oS=!1,this.Ft=null,this.hf=null,n&&Object.assign(this,n)}toString(){const e=this.adornedPart;return"Adornment("+this.category+")"+(e!==null?e.toString():"")}updateRelationshipsFromData(){}sd(e){const n=this.adornedObject;if(!(n instanceof zt))return;const o=n.part;if(!(o instanceof vt))return;const l=o.path;let c=l.geometry;o.sd(e),c=l.geometry;const h=this.C.r,f=h.length;for(let g=0;g<f;g++){const v=h[g];v.isPanelMain&&v instanceof zt&&(v.ot=c)}}hasPlaceholder(){return this.Ft!==null&&this.Ft.isVisibleObject()}get placeholder(){return this.Ft}get adornedObject(){return this.us}set adornedObject(e){const n=this.adornedPart;let o=null;e!==null&&(o=e.part),n!==null&&(e===null||n!==o)&&n.removeAdornment(this.category),this.us=e,o!==null&&o.addAdornment(this.category,this)}get adornedPart(){const e=this.us;return e!==null?e.part:null}Yr(){const e=this.us;if(e===null)return!0;const n=e.part;return n===null||!n._e()}ke(){return!1}get containingGroup(){return null}qc(e,n,o,l,c,h,f){if(e===3&&n==="elements"){if(c instanceof us)this.Ft===null&&(this.Ft=c);else if(c instanceof Je){const g=c.findInVisualTree(v=>v instanceof us);g instanceof us&&this.Ft===null&&(this.Ft=g)}}else e===4&&n==="elements"&&this.Ft!==null&&(l===this.Ft?this.Ft=null:l instanceof Je&&this.Ft.isContainedBy(l)&&(this.Ft=null));super.qc(e,n,o,l,c,h,f)}updateAdornments(){}Xc(){}}var yi=(G=>(G[G.None=0]="None",G[G.Evenly=1]="Evenly",G[G.Packed=2]="Packed",G))(yi||{});class Lt extends Pn{v;Rt;kf;rl;bh;ne;ti;constructor(e,n){let o;e===void 0||e instanceof Ln||typeof e=="string"?o=e:e&&(n=e),super(o),this.v=13,this.Rt=null,this.ti=new m,this.kf=null,this.rl=null,this.ne=null,this.bh=!1,n&&Object.assign(this,n)}cloneProtected(e){super.cloneProtected(e),e.v=this.v,this.Rt!==null&&(this.Rt.fi?e.Rt=this.Rt:e.Rt=this.Rt.copy())}vo(e){super.vo(e),e.invalidateConnectedLinks(),e.rl=this.rl,e.ne=null}static SpreadingNone=0;static SpreadingEvenly=1;static SpreadingPacked=2;ll(){return this.Rt===null?this.Rt=new uu:this.Rt.fi&&(this.Rt=this.Rt.copy()),this.Rt}ch(){super.ch(),this.Rt!==null&&(this.Rt.fi=!0)}dT(e){e!==null&&(this.rl===null&&(this.rl=new b),this.rl.add(e))}gT(e){e!==null&&this.rl!==null&&this.rl.delete(e)}mT(e,n,o){if(e===null||this.rl===null)return null;const l=this.rl.iterator;for(;l.next();){const c=l.value;if(c.ny===this&&c.p1===e&&c.lN===n&&c.hN===o||c.ny===e&&c.p1===this&&c.lN===o&&c.hN===n)return c}return null}invalidateLinkBundle(e,n,o){n==null&&(n=""),o==null&&(o="");const l=this.mT(e,n,o);l!==null&&l.Sd()}qc(e,n,o,l,c,h,f){e===3&&n==="elements"?this.ne=null:e===4&&n==="elements"&&(this.ne=null),super.qc(e,n,o,l,c,h,f)}invalidateConnectedLinks(e){const n=this.linksConnected;for(;n.next();){const o=n.value;e!==void 0&&e.has(o)||(this.qi(o.fromPort),this.qi(o.toPort),o.invalidateRoute())}}bA(e){const n=this.linksConnected;for(;n.next();){const o=n.value;o.fromPort!==e&&o.toPort!==e||(this.qi(o.fromPort),this.qi(o.toPort),o.invalidateRoute())}}qi(e){if(e===null)return;const n=e.Ku;n!==null&&n.Sd();const o=e.part,l=o.containingGroup;l!==null&&!o.isVisible()&&l.qi(l.port)}Yr(){return!0}get portSpreading(){return this.Rt!==null?this.Rt.ly:1}set portSpreading(e){const n=this.portSpreading;if(n!==e){this.ll().ly=e,this.t("portSpreading",n,e);const o=this.diagram;if(o!==null&&o.undoManager.isUndoingRedoing)return;this.invalidateConnectedLinks()}}get avoidable(){return(this.v&8)!==0}set avoidable(e){const n=(this.v&8)!==0;if(n!==e){this.v=this.v^8;const o=this.diagram;o!==null&&o.JM(this),this.t("avoidable",n,e)}}get avoidableMargin(){return this.Rt!==null?this.Rt.hy:W.PC}set avoidableMargin(e){typeof e=="number"&&(e=new W(e));const n=this.avoidableMargin;if(!n.equals(e)){e=e.P(),this.ll().hy=e;const o=this.diagram;o!==null&&o.JM(this),this.t("avoidableMargin",n,e)}}canAvoid(){return this.avoidable&&!this.isLinkLabel}getAvoidableRect(e){return e.set(this.actualBounds),e.addMargin(this.avoidableMargin),e}findVisibleNode(){let e=this;for(;e!==null&&!e.isVisible();)e=e.containingGroup;return e}isVisible(){if(!super.isVisible())return!1;let e=!0,n=1;const o=this.diagram;if(o!==null){if(o.animationManager.lx(this))return!0;e=o.isTreePathToChildren,n=o.treeCollapsePolicy}if(n===1){const c=this.findTreeParentNode();if(c!==null&&!c.isTreeExpanded)return!1}else if(n===2){const c=e?this.findLinksInto():this.findLinksOutOf();let h=!1,f=!1;for(;c.next();){const g=c.value;if(g.isTreeLink){h=!0;const v=e?g.fromNode:g.toNode;if(v&&v.isTreeExpanded){f=!0;break}}}if(h&&!f)return!1}else if(n===3){const c=e?this.findLinksInto():this.findLinksOutOf();let h=!1,f=!1;for(;c.next();){const g=c.value;if(g.isTreeLink){h=!0;const v=e?g.fromNode:g.toNode;if(v&&!v.isTreeExpanded){f=!0;break}}}if(h&&f)return!1}const l=this.labeledLink;return l!==null?l.isVisible():!0}Ei(e){super.Ei(e);const n=this.linksConnected;for(;n.next();){const o=n.value;if(e&&this.containingGroup!==null){const l=o.getOtherNode(this);l!==null&&!l.isMemberOf(this.containingGroup)&&o.invalidateRoute()}o.Ei(e)}}get linksConnected(){return this.ti.iterator}findExternalTreeLinksConnected(){const e=new b,n=new b;return this.pT(this,e,n),n.iterator}pT(e,n,o){if(e===null||n.has(e))return;n.add(e);let l=!0;const c=this.diagram;c!==null&&(l=c.isTreePathToChildren),e.linksConnected.each(h=>{h.isTreeLink?(l?h.fromNode===e:h.toNode===e)&&this.pT(l?h.toNode:h.fromNode,n,o):o.add(h)})}findLinksConnected(e){if(e===void 0&&(e=null),e===null)return this.ti.iterator;const n=new d(this.ti),o=this;return n.predicate=l=>l.fromNode===o&&l.fromPortId===e||l.toNode===o&&l.toPortId===e,n}findLinksOutOf(e){e===void 0&&(e=null);const n=new d(this.ti),o=this;return n.predicate=l=>l.fromNode!==o?!1:e===null?!0:l.fromPortId===e,n}findLinksInto(e){e===void 0&&(e=null);const n=new d(this.ti),o=this;return n.predicate=l=>l.toNode!==o?!1:e===null?!0:l.toPortId===e,n}findNodesConnected(e){e===void 0&&(e=null);let n=null,o=null;const l=this.ti.iterator;for(;l.next();){const c=l.value;if(c.fromNode===this){if(e===null||c.fromPortId===e){const h=c.toNode;n!==null?n.add(h):o!==null&&o!==h?(n=new b,n.add(o),n.add(h)):o=h}}else if(c.toNode===this&&(e===null||c.toPortId===e)){const h=c.fromNode;n!==null?n.add(h):o!==null&&o!==h?(n=new b,n.add(o),n.add(h)):o=h}}return n!==null?n.iterator:o!==null?new u(o):a.instance}findNodesOutOf(e){e===void 0&&(e=null);let n=null,o=null;const l=this.ti.iterator;for(;l.next();){const c=l.value;if(c.fromNode===this&&(e===null||c.fromPortId===e)){const h=c.toNode;n!==null?n.add(h):o!==null&&o!==h?(n=new b,n.add(o),n.add(h)):o=h}}return n!==null?n.iterator:o!==null?new u(o):a.instance}findNodesInto(e){e===void 0&&(e=null);let n=null,o=null;const l=this.ti.iterator;for(;l.next();){const c=l.value;if(c.toNode===this&&(e===null||c.toPortId===e)){const h=c.fromNode;n!==null?n.add(h):o!==null&&o!==h?(n=new b,n.add(o),n.add(h)):o=h}}return n!==null?n.iterator:o!==null?new u(o):a.instance}findLinksBetween(e,n,o){n===void 0&&(n=null),o===void 0&&(o=null);const l=new d(this.ti),c=this;return l.predicate=h=>h.fromNode===c&&h.toNode===e&&(n===null||h.fromPortId===n)&&(o===null||h.toPortId===o)||h.fromNode===e&&h.toNode===c&&(o===null||h.fromPortId===o)&&(n===null||h.toPortId===n),l}findLinksTo(e,n,o){n===void 0&&(n=null),o===void 0&&(o=null);const l=new d(this.ti),c=this;return l.predicate=h=>!(h.fromNode!==c||h.toNode!==e||n!==null&&h.fromPortId!==n||o!==null&&h.toPortId!==o),l}get linkConnected(){return this.Rt!==null?this.Rt.ay:null}set linkConnected(e){const n=this.linkConnected;n!==e&&(e!==null&&t.k(e,Lt,"linkConnected"),this.ll().ay=e,this.t("linkConnected",n,e))}get linkDisconnected(){return this.Rt!==null?this.Rt.cy:null}set linkDisconnected(e){const n=this.linkDisconnected;n!==e&&(e!==null&&t.k(e,Lt,"linkDisconnected"),this.ll().cy=e,this.t("linkDisconnected",n,e))}get linkValidation(){return this.Rt!==null?this.Rt.Ml:null}set linkValidation(e){const n=this.linkValidation;n!==e&&(e!==null&&t.k(e,Lt,"linkValidation"),this.ll().Ml=e,this.t("linkValidation",n,e))}w1(e,n){this.qi(n);const o=this.ti.has(e);if(o||this.ti.add(e),!o||e.fromNode===e.toNode){const l=this.linkConnected;if(l!==null){let c=!0;const h=this.diagram;h!==null&&(c=h.X,h.X=!0),l(this,e,n),h!==null&&(h.X=c)}}if(!o){if(!e.isTreeLink)return;const l=e.fromNode,c=e.toNode;if(l!==null&&c!==null&&l!==c){let h=!0;const f=this.diagram;f!==null&&(h=f.isTreePathToChildren);const g=h?c:l,v=h?l:c;if(g.bh||(g.bh=v),v.isTreeLeaf){if(f!==null&&f.undoManager.isUndoingRedoing)return;h?l===v&&(v.isTreeLeaf=!1):c===v&&(v.isTreeLeaf=!1)}}}}b1(e,n){this.qi(n);const o=this.ti.delete(e);let l=null;if(o||e.toNode===e.fromNode){const c=this.linkDisconnected;if(l=this.diagram,c!==null){let h=!0;l!==null&&(h=l.X,l.X=!0),c(this,e,n),l!==null&&(l.X=h)}}if(o){if(!e.isTreeLink)return;let c=!0;l!==null&&(c=l.isTreePathToChildren);const h=c?e.toNode:e.fromNode,f=c?e.fromNode:e.toNode;if(h!==null&&(h.bh=!1),f!==null&&!f.isTreeLeaf)if(f.ti.count===0){if(f.bh=null,l!==null&&l.undoManager.isUndoingRedoing)return;f.isTreeLeaf=!0}else f.r0()}}r0(){if(this.bh=!1,this.ti.count===0)return;let e=!0;const n=this.diagram;if(n!==null&&n.undoManager.isUndoingRedoing)return;n!==null&&(e=n.isTreePathToChildren);const o=this.ti.iterator;for(;o.next();){const l=o.value;if(l.isTreeLink){if(e){if(l.fromNode===this){this.isTreeLeaf=!1;return}}else if(l.toNode===this){this.isTreeLeaf=!1;return}}}this.isTreeLeaf=!0}updateRelationshipsFromData(){const e=this.diagram;e!==null&&e.partManager.updateRelationshipsFromData(this)}Rm(e){if(super.Rm(e),!e){this.r0();const n=this.kf;n!==null&&n.yT(this)}}vm(e){if(super.vm(e),!e){const n=this.kf;n!==null&&n.wT(this)}}Xc(){if(this.ti.count>0){const e=this.diagram;if(e!==null){const n=e.commandHandler!==null?e.commandHandler.deletesConnectedLinks:!0,o=this.ti.copy().iterator;for(;o.next();){const l=o.value;n?e.remove(l):(l.fromNode===this&&(l.fromNode=null),l.toNode===this&&(l.toNode=null))}}}this.labeledLink=null,super.Xc()}get isLinkLabel(){return this.kf!==null}get labeledLink(){return this.kf}set labeledLink(e){const n=this.kf;if(n!==e){const o=this.diagram,l=this.data;if(n!==null){if(n.wT(this),o!==null&&l!==null&&!o.undoManager.isUndoingRedoing){const c=n.data,h=o.model;if(c!==null&&h.Ra()){const f=h.getKeyForNodeData(l);f!==void 0&&h.removeLabelKeyForLinkData(c,f)}}this.containingGroup=null}if(this.kf=e,e!==null){if(e.yT(this),o!==null&&l!==null&&!o.undoManager.isUndoingRedoing){const c=e.data,h=o.model;if(c!==null&&h.Ra()){const f=h.getKeyForNodeData(l);f!==void 0&&h.addLabelKeyForLinkData(c,f)}}this.containingGroup=e.containingGroup}this.ef(),this.t("labeledLink",n,e)}}findVisiblePort(e){let n=e;for(;n!==null&&(!n.actualBounds.isReal()||!n.isVisibleObject());)n=n.panel;return n===null?this.port:n}findPort(e){if(this.ne===null){if(e===""&&this.fn===!1)return this;this.xT()}let n=this.ne.get(e);return n!==null||e!==""&&(n=this.ne.get(""),n!==null)?n:this}get port(){return this.findPort("")}get ports(){return this.ne===null&&this.xT(),this.ne.iteratorValues}xT(){this.ne===null?this.ne=new _:this.ne.clear(),this.walkVisualTreeFrom(this,(e,n)=>e.LA(n)),this.ne.count===0&&this.ne.set("",this)}LA(e){const n=e.portId;n!==null&&this.ne!==null&&this.ne.set(n,e)}C2(e,n){const o=e.portId;if(o!==null){this.ne!==null&&this.ne.delete(o);const l=this.diagram;if(l!==null&&n){let c=null;const h=this.findLinksConnected(o);for(;h.next();){const f=h.value;c===null&&(c=t.et()),c.push(f)}if(c!==null){for(let f=0;f<c.length;f++){const g=c[f];l.remove(g)}t.J(c)}}}}isInTreeOf(e){if(e===null||e===this)return!1;let n=!0;const o=this.diagram;o!==null&&(n=o.isTreePathToChildren);let l=this;const c=e;let h;if(n)for(;l!==c;){h=null;const f=l.ti.iterator;for(;f.next();){const g=f.value;if(g.isTreeLink&&(h=g.fromNode,h!==l&&h!==this))break}if(h===this||h===null||h===l)return!1;l=h}else for(;l!==c;){h=null;const f=l.ti.iterator;for(;f.next();){const g=f.value;if(g.isTreeLink&&(h=g.toNode,h!==l&&h!==this))break}if(h===this||h===null||h===l)return!1;l=h}return!0}findTreeRoot(){let e=!0;const n=this.diagram;n!==null&&(e=n.isTreePathToChildren);let o=this,l;if(e)for(;;){l=null;const c=o.ti.iterator;for(;c.next();){const h=c.value;if(h.isTreeLink&&(l=h.fromNode,l!==o&&l!==this))break}if(l===this)return this;if(l===null||l===o)return o;o=l}else for(;;){l=null;const c=o.ti.iterator;for(;c.next();){const h=c.value;if(h.isTreeLink&&(l=h.toNode,l!==o&&l!==this))break}if(l===this)return this;if(l===null||l===o)return o;o=l}}findCommonTreeParent(e){if(e===null)return null;if(this===e)return this;let n=this;for(;n!==null;)n.m1(!0),n=n.findTreeParentNode();let o=null;for(n=e;n!==null;){if(n.uT()){o=n;break}n=n.findTreeParentNode()}for(n=this;n!==null;)n.m1(!1),n=n.findTreeParentNode();return o}findTreeParentLink(){let e=!0;const n=this.diagram;n!==null&&(e=n.isTreePathToChildren);const o=this.ti.iterator;if(e)for(;o.next();){const l=o.value;if(l.isTreeLink&&l.fromNode!==this)return l}else for(;o.next();){const l=o.value;if(l.isTreeLink&&l.toNode!==this)return l}return null}findTreeParentNode(){const e=this.bh;if(e===null)return null;if(e instanceof Lt)return e;const n=this.diagram,o=n!==null?n.isTreePathToChildren:!0,l=this.ti.iterator;for(;l.next();){const c=l.value;if(!c.isTreeLink)continue;const h=o?c.fromNode:c.toNode;if(h!==this)return this.bh=h,h}return this.bh=null,null}findTreeParentChain(){function e(o,l){l.add(o);const c=o.findTreeParentLink();if(c!==null){l.add(c);const h=o.findTreeParentNode();if(h===null)return;e(h,l)}}const n=new b;return e(this,n),n}findTreeLevel(){return this.lO(this)}lO(e){let n=0,o=e.findTreeParentNode();for(;o!==null&&o!==e;)o=o.findTreeParentNode(),n++;return n}findTreeChildrenLinks(){let e=!0;const n=this.diagram;n!==null&&(e=n.isTreePathToChildren);const o=new d(this.ti),l=this;return e?o.predicate=c=>!(!c.isTreeLink||c.fromNode!==l):o.predicate=c=>!(!c.isTreeLink||c.toNode!==l),o}findTreeChildrenNodes(){let e=!0;const n=this.diagram;n!==null&&(e=n.isTreePathToChildren);let o=null,l=null;const c=this.ti.iterator;if(e)for(;c.next();){const h=c.value;if(h.isTreeLink&&h.fromNode===this){const f=h.toNode;o!==null?o.add(f):l!==null&&l!==f?(o=new m,o.add(l),o.add(f)):l=f}}else for(;c.next();){const h=c.value;if(h.isTreeLink&&h.toNode===this){const f=h.fromNode;o!==null?o.add(f):l!==null&&l!==f?(o=new m,o.add(l),o.add(f)):l=f}}return o!==null?o.iterator:l!==null?new u(l):a.instance}findTreeParts(e){e===void 0&&(e=1/0),t.s(e,"number",Lt,"findTreeParts:level");const n=new b;return Pn.oh(n,this,!1,e,!0),n}collapseTree(e){e===void 0&&(e=1),e<1&&(e=1);const n=this.diagram;if(n===null||n.isCollapsingExpanding)return;n.isCollapsingExpanding=!0;const o=new b;o.add(this),this.bT(o,n.isTreePathToChildren,e,n,this,n.treeCollapsePolicy===1),n.isCollapsingExpanding=!1}bT(e,n,o,l,c,h){if(o>1){const f=n?this.findLinksOutOf():this.findLinksInto();for(;f.next();){const g=f.value;if(!g.isTreeLink)continue;const v=g.getOtherNode(this);v!==null&&v!==this&&!e.has(v)&&(e.add(v),v.bT(e,n,o-1,l,c,h))}}else this.kT(e,n,l,c,h)}kT(e,n,o,l,c){const h=l===this?!0:this.isTreeExpanded,f=n?this.findLinksOutOf():this.findLinksInto();for(;f.next();){const g=f.value;if(!g.isTreeLink)continue;const v=g.getOtherNode(this);if(v!==null&&v!==this){const w=e.has(v);if(w||e.add(v),h){const k=n?v.findNodesInto():v.findNodesOutOf(),P=this;k.all(N=>N===P||!N.isTreeExpanded)&&o.Lc(v,l),v.dh(),v.Ei(!1)}v.isTreeExpanded&&(v.wasTreeExpanded=v.isTreeExpanded,w||v.kT(e,n,o,l,c))}}this.isTreeExpanded=!1}expandTree(e){e===void 0&&(e=2),e<2&&(e=2);const n=this.diagram;if(n===null||n.isCollapsingExpanding)return;n.isCollapsingExpanding=!0;const o=new b;o.add(this),this.PT(o,n.isTreePathToChildren,e,n,this,n.treeCollapsePolicy===1),n.isCollapsingExpanding=!1}PT(e,n,o,l,c,h){const f=c===this?!1:this.isTreeExpanded,g=n?this.findLinksOutOf():this.findLinksInto();for(;g.next();){const v=g.value;if(!v.isTreeLink)continue;f||v.Se||v.invalidateRoute();const w=v.getOtherNode(this);if(w!==null&&w!==this&&!e.has(w)){if(e.add(w),!f){w.Ei(!0),w.dh();const k=n?w.findNodesInto():w.findNodesOutOf(),P=this;k.all(N=>N===P||!N.isTreeExpanded)&&l.Cc(w,c)}(o>2||w.wasTreeExpanded)&&(w.wasTreeExpanded=!1,w.PT(e,n,o-1,l,c,h))}}this.isTreeExpanded=!0}get isTreeExpanded(){return(this.v&1)!==0}set isTreeExpanded(e){const n=(this.v&1)!==0;if(n!==e){this.v=this.v^1;const o=this.diagram;this.t("isTreeExpanded",n,e);const l=this.treeExpandedChanged;if(l!==null){let c=!0;o!==null&&(c=o.X,o.X=!0),l(this),o!==null&&(o.X=c)}if(o!==null&&o.undoManager.isUndoingRedoing){this.Ei(e);return}e?this.expandTree():this.collapseTree()}}get wasTreeExpanded(){return(this.v&2)!==0}set wasTreeExpanded(e){const n=(this.v&2)!==0;n!==e&&(this.v=this.v^2,this.t("wasTreeExpanded",n,e))}get treeExpandedChanged(){return this.Rt!==null?this.Rt.fy:null}set treeExpandedChanged(e){const n=this.treeExpandedChanged;n!==e&&(e!==null&&t.k(e,Lt,"treeExpandedChanged"),this.ll().fy=e,this.t("treeExpandedChanged",n,e))}get isTreeLeaf(){return(this.v&4)!==0}set isTreeLeaf(e){const n=(this.v&4)!==0;n!==e&&(this.v=this.v^4,this.t("isTreeLeaf",n,e))}get isTreeRoot(){return this.findTreeParentLink()===null}}class uu{fi;ay;cy;Ml;fy;hy;ly;uy;gy;nh;my;constructor(){this.fi=!1,this.ay=null,this.cy=null,this.Ml=null,this.fy=null,this.hy=W.PC,this.ly=1,this.uy=null,this.gy=null,this.nh=null,this.my=null}copy(){const e=new uu;return e.ay=this.ay,e.cy=this.cy,e.Ml=this.Ml,e.fy=this.fy,e.hy=this.hy.P(),e.ly=this.ly,e.uy=this.uy,e.gy=this.gy,e.nh=this.nh,e.my=this.my,e}}var Jl=(G=>(G[G.None=0]="None",G[G.End=17]="End",G[G.Scale=18]="Scale",G[G.Stretch=19]="Stretch",G))(Jl||{}),hu=(G=>(G[G.Normal=1]="Normal",G[G.Orthogonal=2]="Orthogonal",G[G.AvoidsNodes=6]="AvoidsNodes",G[G.AvoidsNodesStraight=7]="AvoidsNodesStraight",G))(hu||{}),du=(G=>(G[G.None=0]="None",G[G.Bezier=9]="Bezier",G[G.JumpGap=10]="JumpGap",G[G.JumpOver=11]="JumpOver",G))(du||{});class vt extends Pn{Mt;so;no;Md;oo;ro;Nd;Pf;Cd;Ld;Ad;va;Td;js;xi;hl;br;Sf;Ko;aN;cN;k1;fN;uN;Oa;P1;ot;jo;static Ia=null;static Ea=null;hf;dN;gN;constructor(e){super(Je.Link),this.Mt=8,this.so=null,this.no="",this.Md=null,this.oo=null,this.ro="",this.Nd=null,this.Pf=0,this.Cd=0,this.Ld=0,this.Ad=NaN,this.va=1,this.Td=.5,this.js=null,this.xi=new m().u(),this.hl=null,this.br=null,this.Sf=new z,this.ot=new te,this.Ko=null,this.jo=null,this.aN=null,this.cN=null,this.dN=0,this.gN=0,this.k1=new T,this.fN=null,this.uN=null,this.Oa=null,this.P1=NaN,this.ct=null,this.hf=[],e&&Object.assign(this,e)}cloneProtected(e){super.cloneProtected(e),e.Mt=this.Mt&-113,e.no=this.no,e.Md=this.Md,e.ro=this.ro,e.Nd=this.Nd,e.Pf=this.Pf,e.Cd=this.Cd,e.Ld=this.Ld,e.Ad=this.Ad,e.va=this.va,e.Td=this.Td,this.ct!==null&&(e.ct=this.ct.copy())}vo(e){super.vo(e),this.no=e.no,this.ro=e.ro,e.hl=null,e.invalidateRoute(),e.jo=this.jo;const n=e.fromPort;n!==null&&e.fromNode.qi(n);const o=e.toPort;o!==null&&e.toNode.qi(o)}oi(e){e in hu||e in du||e in Jl?vt.mN(e)?this.routing=e:e===9||e===10||e===11?this.curve=e:e===17||e===18||e===19?this.adjusting=e:e===1||e===0||t.o("Unknown Link enum value for a Link property: "+e):super.oi(e)}static Normal=1;static Orthogonal=2;static AvoidsNodes=6;static AvoidsNodesStraight=7;static None=0;static Bezier=9;static JumpGap=10;static JumpOver=11;static End=17;static Scale=18;static Stretch=19;static OrientAlong=21;static OrientPlus90=22;static OrientMinus90=23;static OrientOpposite=24;static OrientUpright=25;static OrientPlus90Upright=26;static OrientMinus90Upright=27;static OrientUpright45=28;static hO=8;static aO=16;static cO=14;static Ua=8;Be(){return this.ct===null&&(this.ct=new Jr),this.ct}bv(e,n,o){const l=e.segmentIndex,c=e.segmentFraction;let h=e.alignmentFocus;const f=e.segmentOrientation,g=e.segmentOffset;let v=0,w=0,k=0,P=0;if(isNaN(l)){const ye=this.ot,ge=t.et();ye.getPointAndAngleAlongPath(c,ge);const me=T.V(ge[0],ge[1]);if(me.add(this.getPoint(0)),ye.type===1)me.offset(-ye.startX,-ye.startY);else{const ke=ye.figures.first();me.offset(-ke.startX,-ke.startY)}P=ge[2],f!==0&&(k=this.computeAngle(e,f,P),e.angle=k),v=me.x,w=me.y,T.e(me),t.J(ge)}else if(l<-n||l>=n){const ye=T.l();this.OA(ye),P=this.midAngle,f!==0&&(k=this.computeAngle(e,f,P),e.angle=k),v=ye.x,w=ye.y,T.e(ye)}else{let ye,ge,me=0;if(l>=0?(ye=o.r[l],ge=l<n-1?o.r[l+1]:ye):(me=n+l,ye=o.r[me],ge=me>0?o.r[me-1]:ye),ye.equalsApprox(ge)){let ke,Ce;l>=0?(ke=l>0?o.r[l-1]:ye,Ce=l<n-2?o.r[l+2]:ge):(ke=me<n-1?o.r[me+1]:ye,Ce=me>1?o.r[me-2]:ge);const Ie=ke.distanceSquaredPoint(ye),Be=ge.distanceSquaredPoint(Ce);Ie>Be+10?P=l>=0?ke.directionPoint(ye):ye.directionPoint(ke):Be>Ie+10?P=l>=0?ge.directionPoint(Ce):Ce.directionPoint(ge):P=l>=0?ke.directionPoint(Ce):Ce.directionPoint(ke)}else P=l>=0?ye.directionPoint(ge):ge.directionPoint(ye);f!==0&&(k=this.computeAngle(e,f,P),e.angle=k),v=ye.x+(ge.x-ye.x)*c,w=ye.y+(ge.y-ye.y)*c}if(h.isNone()){e.location=new T(v,w);return}else h.isNoSpot()&&(h=L.Center);const N=U.l();N.Ri(),N.tt(e.scale,e.scale),N.cs(e.angle,0,0);const F=e.naturalBounds,H=z.V(0,0,F.width,F.height),V=T.l();V.setRectSpot(H,h),N.gt(V);let $=-V.x,K=-V.y;const J=F.width,Q=F.height,ne=T.l();ne.a(g);const le=isNaN(g.x),fe=isNaN(g.y);if(le||fe){const ye=J/2+3,ge=Q/2+3,me=P>=45&&P<=135,ke=P>=225&&P<=315;f===0&&(me||ke)?(ne.x=fe?ye:g.y,ne.y=le?ge:g.x,me?l>=0||isNaN(l)&&c<.5||le&&(ne.y=-ge):ke&&((l>=0||isNaN(l)&&c<.5)&&le&&(ne.y=-ge),fe&&(ne.x=-ye))):(le&&(l>=0||isNaN(l)&&c<.5?ne.x=ye:ne.x=-ye),fe&&(ne.y=-ge),ne.rotate(P))}else ne.rotate(P);v+=ne.x,w+=ne.y,N.vg(H),$+=H.x,K+=H.y;const we=T.V(v+$,w+K);e.move(we),T.e(we),T.e(ne),T.e(V),z.e(H),U.e(N)}Yr(){let e=this.fromNode;if(e!==null){const o=e.findVisibleNode();if(o!==null&&(e=o),e._e()||e.ih())return!1}let n=this.toNode;if(n!==null){const o=n.findVisibleNode();if(o!==null&&(n=o),n._e()||n.ih())return!1}return!0}M2(e,n,o){return!1}N2(){}ke(){return!1}computeAngle(e,n,o){return vt.computeAngle(n,o)}static computeAngle(e,n){let o=0;switch(e){default:case 0:o=0;break;case 21:o=n;break;case 22:o=n+90;break;case 23:o=n-90;break;case 24:o=n+180;break;case 25:o=I.Ug(n),o>90&&o<270&&(o-=180);break;case 26:o=I.Ug(n+90),o>90&&o<270&&(o-=180);break;case 27:o=I.Ug(n-90),o>90&&o<270&&(o-=180);break;case 28:if(o=I.Ug(n),o>45&&o<135||o>225&&o<315)return 0;o>90&&o<270&&(o-=180);break}return I.Ug(o)}get fromNode(){return this.so}set fromNode(e){const n=this.so;if(n!==e){const o=this.fromPort;n!==null&&(this.oo!==n&&n.b1(this,o),this.yy(),this.invalidateLayout(2)),this.so=e,e!==null&&this.Ei(e.isVisible()),this.Ko=null,this.invalidateRoute();const l=this.diagram;l!==null&&l.X&&l.partManager.setFromNodeForLink(this,e,n);const c=this.fromPort,h=this.fromPortChanged;if(h!==null){let f=!0;l!==null&&(f=l.X,l.X=!0),h(this,o,c),l!==null&&(l.X=f)}e!==null&&(this.oo!==e&&e.w1(this,c),this.wy(),this.invalidateLayout(1)),this.t("fromNode",n,e),this.Pd()}}get fromPortId(){return this.no}set fromPortId(e){const n=this.no;if(n!==e){const o=this.fromPort;o!==null&&this.fromNode?.qi(o),this.yy(),this.no=e;const l=this.fromPort;l!==null&&this.fromNode?.qi(l);const c=this.diagram;if(c!==null){const h=this.data,f=c.model;h!==null&&f.Ra()&&f.setFromPortIdForLinkData(h,e)}if(o!==l){this.Ko=null,this.invalidateRoute();const h=this.fromPortChanged;if(h!==null){let f=!0;c!==null&&(f=c.X,c.X=!0),h(this,o,l),c!==null&&(c.X=f)}}this.wy(),this.t("fromPortId",n,e)}}get fromPort(){const e=this.so;if(e===null)return null;const n=this.no;return e.findPort(n)}get fromPortChanged(){return this.Md}set fromPortChanged(e){const n=this.Md;n!==e&&(e!==null&&t.k(e,vt,"fromPortChanged"),this.Md=e,this.t("fromPortChanged",n,e))}get toNode(){return this.oo}set toNode(e){const n=this.oo;if(n!==e){const o=this.toPort;n!==null&&(this.so!==n&&n.b1(this,o),this.yy(),this.invalidateLayout(2)),this.oo=e,e!==null&&this.Ei(e.isVisible()),this.Ko=null,this.invalidateRoute();const l=this.diagram;l!==null&&l.X&&l.partManager.setToNodeForLink(this,e,n);const c=this.toPort,h=this.toPortChanged;if(h!==null){let f=!0;l!==null&&(f=l.X,l.X=!0),h(this,o,c),l!==null&&(l.X=f)}e!==null&&(this.so!==e&&e.w1(this,c),this.wy(),this.invalidateLayout(1)),this.t("toNode",n,e),this.Pd()}}get toPortId(){return this.ro}set toPortId(e){const n=this.ro;if(n!==e){const o=this.toPort;o!==null&&this.toNode?.qi(o),this.yy(),this.ro=e;const l=this.toPort;l!==null&&this.toNode?.qi(l);const c=this.diagram;if(c!==null){const h=this.data,f=c.model;h!==null&&f.Ra()&&f.setToPortIdForLinkData(h,e)}if(o!==l){this.Ko=null,this.invalidateRoute();const h=this.toPortChanged;if(h!==null){let f=!0;c!==null&&(f=c.X,c.X=!0),h(this,o,l),c!==null&&(c.X=f)}}this.wy(),this.t("toPortId",n,e)}}get toPort(){const e=this.oo;if(e===null)return null;const n=this.ro;return e.findPort(n)}get toPortChanged(){return this.Nd}set toPortChanged(e){const n=this.Nd;n!==e&&(e!==null&&t.k(e,vt,"toPortChanged"),this.Nd=e,this.t("toPortChanged",n,e))}get fromSpot(){return this.ct!==null?this.ct.ga:L.Default}set fromSpot(e){const n=this.fromSpot;if(!n.equals(e)){if(e=e.P(),this.Be().ga=e,this.t("fromSpot",n,e),n.isSide()||e.isSide()){const o=this.fromNode;o!==null&&o.qi(this.fromPort)}this.invalidateRoute()}}get fromEndSegmentLength(){return this.ct!==null?this.ct.pa:NaN}set fromEndSegmentLength(e){const n=this.fromEndSegmentLength;if(n!==e){if(e<0&&t.W(e,">= 0",vt,"fromEndSegmentLength"),this.Be().pa=e,this.t("fromEndSegmentLength",n,e),this.computeSpot(!0,this.fromPort).isSide()){const o=this.fromNode;o!==null&&o.qi(this.fromPort)}this.invalidateRoute()}}get fromShortLength(){return this.ct!==null?this.ct.wa:NaN}set fromShortLength(e){const n=this.fromShortLength;n!==e&&(this.Be().wa=e,this.ee(),this.t("fromShortLength",n,e))}get toSpot(){return this.ct!==null?this.ct.ma:L.Default}set toSpot(e){const n=this.toSpot;if(!n.equals(e)){if(e=e.P(),this.Be().ma=e,this.t("toSpot",n,e),n.isSide()||e.isSide()){const o=this.toNode;o!==null&&o.qi(this.toPort)}this.invalidateRoute()}}get toEndSegmentLength(){return this.ct!==null?this.ct.ya:NaN}set toEndSegmentLength(e){const n=this.toEndSegmentLength;if(n!==e){if(e<0&&t.W(e,">= 0",vt,"toEndSegmentLength"),this.Be().ya=e,this.t("toEndSegmentLength",n,e),this.computeSpot(!1,this.toPort).isSide()){const o=this.toNode;o!==null&&o.qi(this.toPort)}this.invalidateRoute()}}get toShortLength(){return this.ct!==null?this.ct.xa:NaN}set toShortLength(e){const n=this.toShortLength;n!==e&&(this.Be().xa=e,this.ee(),this.t("toShortLength",n,e))}Pd(){const e=this.fromNode,n=this.toNode;let o=null;if(e!==null?n!==null?o=e.findCommonContainingGroup(n):o=e.containingGroup:n!==null?o=n.containingGroup:o=null,this.fO(o),this.isLabeledLink){const l=this.labelNodes;for(;l.next();){const c=l.value;c.containingGroup=o}}}fO(e){const n=this.xh;if(n!==e){n!==null&&n.eN(this),this.xh=e,e!==null&&e.sN(this);const o=this.containingGroupChanged;if(o!==null){let l=!0;const c=this.diagram;c!==null&&(l=c.X,c.X=!0),o(this,n,e),c!==null&&(c.X=l)}this.Se&&(this.fN===n||this.uN===n)&&this.invalidateRoute()}}dh(){const e=this.containingGroup;e!==null&&this.fromNode!==e&&this.toNode!==e&&e.computesBoundsIncludingLinks&&super.dh()}getOtherNode(e){const n=this.fromNode;return e===n?this.toNode:n}getOtherPort(e){const n=this.fromPort;return e===n?this.toPort:n}get isLabeledLink(){return this.js===null?!1:this.js.count>0}get labelNodes(){return this.js===null?a.instance:this.js.iterator}yT(e){this.js===null&&(this.js=new b),this.js.add(e),this.c()}wT(e){this.js!==null&&(this.js.delete(e),this.c())}Rm(e){if(super.Rm(e),this.Ba()&&this.invalidateOtherJumpOvers(this.actualBounds),!e){const n=this.so;let o=null;n!==null&&(o=this.fromPort,n.w1(this,o));const l=this.oo;let c=null;l!==null&&(c=this.toPort,(l!==n||c!==o)&&l.w1(this,c)),this.wy()}}vm(e){if(super.vm(e),this.Ba()&&this.invalidateOtherJumpOvers(this.actualBounds),!e){const n=this.so;let o=null;n!==null&&(o=this.fromPort,n.b1(this,o));const l=this.oo;let c=null;l!==null&&(c=this.toPort,(l!==n||c!==o)&&l.b1(this,c)),this.yy()}}Xc(){if(this.Se=!0,this.js!==null){const e=this.diagram;if(e!==null){const n=this.js.copy().iterator;for(;n.next();){const o=n.value;e.remove(o)}}}if(this.data!==null){const e=this.diagram;e!==null&&e.partManager.pN(this)}}updateRelationshipsFromData(){if(this.data===null)return;const e=this.diagram;e!==null&&e.partManager.updateRelationshipsFromData(this)}move(e,n){const o=n?this.location:this.position;let l=o.x;isNaN(l)&&(l=0);let c=o.y;isNaN(c)&&(c=0);const h=e.x-l,f=e.y-c;if(n===!0)super.move(e,!1);else{const v=T.V(o.x+h,o.y+f);super.move(v,!1),T.e(v)}this.fr(h,f);const g=this.labelNodes;for(;g.next();){const v=g.value,w=v.position;v.moveTo(w.x+h,w.y+f)}}get relinkableFrom(){return(this.Mt&1)!==0}set relinkableFrom(e){const n=(this.Mt&1)!==0;n!==e&&(this.Mt=this.Mt^1,this.t("relinkableFrom",n,e),this.invalidateAdornments())}get relinkableTo(){return(this.Mt&2)!==0}set relinkableTo(e){const n=(this.Mt&2)!==0;n!==e&&(this.Mt=this.Mt^2,this.t("relinkableTo",n,e),this.invalidateAdornments())}canRelinkFrom(){if(!this.relinkableFrom)return!1;const e=this.layer;if(e===null)return!0;if(!e.allowRelink)return!1;const n=e.diagram;return!(n!==null&&!n.allowRelink)}canRelinkTo(){if(!this.relinkableTo)return!1;const e=this.layer;if(e===null)return!0;if(!e.allowRelink)return!1;const n=e.diagram;return!(n!==null&&!n.allowRelink)}get resegmentable(){return(this.Mt&4)!==0}set resegmentable(e){const n=(this.Mt&4)!==0;n!==e&&(this.Mt=this.Mt^4,this.t("resegmentable",n,e),this.invalidateAdornments())}get isTreeLink(){return(this.Mt&8)!==0}set isTreeLink(e){const n=(this.Mt&8)!==0;n!==e&&(this.Mt=this.Mt^8,this.t("isTreeLink",n,e),this.fromNode!==null&&this.fromNode.r0(),this.toNode!==null&&this.toNode.r0())}get path(){const e=this.findMainElement();return e instanceof zt?e:null}get routeBounds(){return this.updateRoute(),this.uO(this.Sf)}uO(e){let n=1/0,o=1/0;const l=this.pointsCount;if(l===0)return e.i(NaN,NaN,0,0),e;if(l===1){const c=this.getPoint(0);n=Math.min(c.x,n),o=Math.min(c.y,o),e.i(c.x,c.y,0,0)}else if(l===2){const c=this.getPoint(0),h=this.getPoint(1);n=Math.min(c.x,h.x),o=Math.min(c.y,h.y),e.i(c.x,c.y,0,0),e.unionPoint(h)}else if(this.computeCurve()===9&&l>=3&&!this.isOrthogonal){let c=this.getPoint(0);if(n=c.x,o=c.y,e.i(n,o,0,0),l===3){const h=this.getPoint(1);n=Math.min(h.x,n),o=Math.min(h.y,o);const f=this.getPoint(2);n=Math.min(f.x,n),o=Math.min(f.y,o),I.ou(c.x,c.y,h.x,h.y,h.x,h.y,f.x,f.y,.5,e)}else for(let h=3;h<l;h+=3){const f=this.getPoint(h-2);h+3>=l&&(h=l-1);const g=this.getPoint(h-1),v=this.getPoint(h);I.ou(c.x,c.y,f.x,f.y,g.x,g.y,v.x,v.y,.5,e),n=Math.min(v.x,n),o=Math.min(v.y,o),c=v}}else{const c=this.getPoint(0),h=this.getPoint(1);n=Math.min(c.x,h.x),o=Math.min(c.y,h.y),e.i(c.x,c.y,0,0),e.unionPoint(h);for(let f=2;f<l;f++){const g=this.getPoint(f);n=Math.min(g.x,n),o=Math.min(g.y,o),e.unionPoint(g)}}return this.k1.i(n-e.x,o-e.y),e}get midPoint(){return this.updateRoute(),this.computeMidPoint(new T)}OA(e){return this.updateRoute(),this.computeMidPoint(e)}computeMidPoint(e){const n=this.pointsCount;if(n===0)return e.a(T.Ik),e;if(n===1)return e.a(this.getPoint(0)),e;if(n===2){const w=this.getPoint(0),k=this.getPoint(1);return e.i((w.x+k.x)/2,(w.y+k.y)/2),e}if(this.isOrthogonal&&(this.computeCorner()>=15||this.computeCurve()===9)){this.ot.getPointAlongPath(.5,e),e.add(this.getPoint(0));const w=this.ot.figures.first();return e.offset(-w.startX,-w.startY),e}if(this.computeCurve()===9){if(n===3){const P=this.getPoint(0),N=this.getPoint(1),F=this.getPoint(2);return I.AC(P.x,P.y,N.x,N.y,N.x,N.y,F.x,F.y,e),e}const w=(n-1)/3|0,k=(w/2|0)*3;if(w%2===1){const P=this.getPoint(k),N=this.getPoint(k+1),F=this.getPoint(k+2),H=this.getPoint(k+3);return I.AC(P.x,P.y,N.x,N.y,F.x,F.y,H.x,H.y,e),e}else return e.a(this.getPoint(k)),e}const o=this.flattenedLengths,l=this.flattenedTotalLength;let c=0,h=0,f=0;for(;c<l/2&&h<n&&(f=o[h],!(c+f>l/2));)c+=f,h++;const g=this.getPoint(h),v=this.getPoint(h+1);if(Math.abs(g.x-v.x)<1)g.y>v.y?e.i(g.x,g.y-(l/2-c)):e.i(g.x,g.y+(l/2-c));else if(Math.abs(g.y-v.y)<1)g.x>v.x?e.i(g.x-(l/2-c),g.y):e.i(g.x+(l/2-c),g.y);else{const w=(l/2-c)/f,k=w*(v.x-g.x),P=w*(v.y-g.y);e.i(g.x+k,g.y+P)}return e}get midAngle(){return this.updateRoute(),this.computeMidAngle()}computeMidAngle(){const e=this.pointsCount;if(e<2)return NaN;if(e===2){const v=this.getPoint(0),w=this.getPoint(1);return v.directionPoint(w)}if(this.isOrthogonal&&(this.computeCorner()>=15||this.computeCurve()===9))return this.ot.getAngleAlongPath(.5);if(this.computeCurve()===9&&e>=4){const v=(e-1)/3|0;let w=(v/2|0)*3;if(v%2===1){w=Math.floor(w);const k=this.getPoint(w),P=this.getPoint(w+1),N=this.getPoint(w+2),F=this.getPoint(w+3);return I._D(k.x,k.y,P.x,P.y,N.x,N.y,F.x,F.y)}else if(w>0&&w+1<e){const k=this.getPoint(w-1),P=this.getPoint(w+1);return k.directionPoint(P)}}const n=this.flattenedLengths,o=this.flattenedTotalLength;let l=0,c=0,h=0;for(;l<o/2&&c<e&&(h=n[c],!(l+h>o/2));)l+=h,c++;const f=this.getPoint(c),g=this.getPoint(c+1);if(Math.abs(f.x-g.x)<1&&Math.abs(f.y-g.y)<1){if(c>0&&c+2<e){const v=this.getPoint(c-1),w=this.getPoint(c+2);return v.directionPoint(w)}}else{if(Math.abs(f.x-g.x)<1)return f.y>g.y?270:90;if(Math.abs(f.y-g.y)<1)return f.x>g.x?180:0}return f.directionPoint(g)}get flattenedLengths(){return this.Oa!==null?this.Oa:(this.Se||this.S1(),this.dO())}get flattenedTotalLength(){let e=this.P1;if(isNaN(e)){const n=this.flattenedLengths,o=n.length;e=0;for(let l=0;l<o;l++)e+=n[l];this.P1=e}return e}dO(){this.Oa===null?this.Oa=[]:this.Oa.length=0;const e=this.Oa,n=this.pointsCount;for(let o=0;o<n-1;o++){let l=0;const c=this.getPoint(o),h=this.getPoint(o+1);I.z(c.x,h.x)?(l=h.y-c.y,l<0&&(l=-l),e.push(l)):I.z(c.y,h.y)?(l=h.x-c.x,l<0&&(l=-l),e.push(l)):(l=Math.sqrt(c.distanceSquaredPoint(h)),e.push(l))}return e}get points(){return this.xi}set points(e){const n=this.xi;if(n===e)return;let o=null;if(Array.isArray(e)){const c=e;let h=c.length%2===0;if(h){for(let f=0;f<c.length;f++)if(typeof c[f]!="number"||isNaN(c[f])){h=!1;break}}if(h){o=new m;for(let f=0;f<c.length/2;f++){const g=new T(c[f*2],c[f*2+1]).u();o.add(g)}}else{let f=!0;for(let g=0;g<c.length;g++){const v=c[g];if(!t.G(v)||typeof v.x!="number"||isNaN(v.x)||typeof v.y!="number"||isNaN(v.y)){f=!1;break}}if(f){o=new m;for(let g=0;g<c.length;g++){const v=c[g];o.add(new T(v.x,v.y).u())}}}}else if(e instanceof m){o=e.copy();const c=o.iterator;for(;c.next();)c.value.u()}else t.o("Link.points value is not an instance of List or Array: "+e);if(o===null)return;o.u(),this.xi=o,this.ee(),this.S1();const l=this.diagram;l!==null&&(!l.Vh&&!l.undoManager.isUndoingRedoing&&l.xx.add(this),l.animationManager.pi&&l.animationManager.VS(this,o)),this.t("points",n,o)}get pointsCount(){return this.xi.count}getPoint(e){return this.xi.r[e]}setPoint(e,n){this.xi.setElt(e,n)}setPointAt(e,n,o){this.xi.setElt(e,new T(n,o))}insertPoint(e,n){this.xi.insertAt(e,n)}insertPointAt(e,n,o){this.xi.insertAt(e,new T(n,o))}addPoint(e){this.xi.add(e)}addPointAt(e,n){this.xi.add(new T(e,n))}removePoint(e){this.xi.removeAt(e)}clearPoints(){this.xi.clear()}fr(e,n){if(e===0&&n===0)return;if(this.pointsCount===0){this.defaultFromPoint&&this.defaultFromPoint.offset(e,n),this.defaultToPoint&&this.defaultToPoint.offset(e,n);return}const o=this.Se,l=new m,c=this.xi.iterator;for(;c.next();){const g=c.value;l.add(new T(g.x+e,g.y+n).u())}l.u();const h=this.xi;this.xi=l;const f=this.diagram;isNaN(e)||isNaN(n)||f!==null&&f.animationManager.pi?this.c():(this.Ks.i(this.Ks.x+e,this.Ks.y+n),this.at.i(this.at.x+e,this.at.y+n),this.ef()),o?this.S1():(this.defaultFromPoint&&(this.defaultFromPoint=this.getPoint(0)),this.defaultToPoint&&(this.defaultToPoint=this.getPoint(this.pointsCount-1))),f!==null&&f.animationManager.pi&&f.animationManager.VS(this,l),this.t("points",h,l)}startRoute(){this.hl===null&&(this.hl=this.xi,this.xi=this.xi.copy())}commitRoute(){if(this.hl===null)return;const e=this.hl,n=this.xi;let o=1/0,l=1/0;const c=e.r,h=c.length;for(let P=0;P<h;P++){const N=c[P];o=Math.min(N.x,o),l=Math.min(N.y,l)}let f=1/0,g=1/0;const v=n.r,w=v.length;for(let P=0;P<w;P++){const N=v[P];f=Math.min(N.x,f),g=Math.min(N.y,g),N.u()}if(n.u(),w===h)for(let P=0;P<w;P++){const N=c[P],F=v[P];if(N.x-o!==F.x-f||N.y-l!==F.y-g){this.ee();break}}else this.ee();this.hl=null;const k=this.diagram;k!==null&&k.animationManager.pi&&k.animationManager.VS(this,n),this.S1(),this.t("points",e,n)}rollbackRoute(){this.hl!==null&&(this.xi=this.hl,this.hl=null)}BF(){this.br!==null&&(this.points=this.br,this.br=null)}S1(){if(this.xi.count===0){this.Se=!1;return}this.Se=!0,this.Oa=null,this.P1=NaN,this.defaultFromPoint=this.getPoint(0),this.defaultToPoint=this.getPoint(this.pointsCount-1),this.M1(!1)}invalidateRoute(){if(this.suspendsRouting)return;const e=this.path;if(e===null)return;const n=this.diagram;if(n){if(n.xx.has(this)||n.undoManager.isUndoingRedoing)return;const o=n.animationManager;if(o.isTicking&&!o.isAnimating)return;this.br!==null&&!o.isTicking&&(this.br=null)}this.Se=!1,this.c(),e.c()}get Se(){return(this.Mt&16)!==0}set Se(e){(this.Mt&16)!==0!==e&&(this.Mt=this.Mt^16)}get suspendsRouting(){return(this.Mt&32)!==0}set suspendsRouting(e){(this.Mt&32)!==0!==e&&(this.Mt=this.Mt^32)}get xy(){return(this.Mt&64)!==0}set xy(e){(this.Mt&64)!==0!==e&&(this.Mt=this.Mt^64)}get yN(){return(this.Mt&512)!==0}set yN(e){(this.Mt&512)!==0!==e&&(this.Mt=this.Mt^512)}get defaultFromPoint(){return this.aN}set defaultFromPoint(e){this.aN=e!==null?e.copy():null}get defaultToPoint(){return this.cN}set defaultToPoint(e){this.cN=e!==null?e.copy():null}updateRoute(){if(this.Se||this.xy)return;let e=!0;try{this.xy=!0,this.startRoute(),e=this.computePoints()}catch{this.xy=!1,this.rollbackRoute()}finally{this.xy=!1,e?this.commitRoute():this.rollbackRoute()}}computePoints(){const e=this.diagram;if(e===null)return!1;let n=this.fromNode,o=null;if(n===null?(vt.Ia||(vt.Ia=new Lt,vt.Ia.desiredSize=B.sc,vt.Ia.ensureBounds()),this.defaultFromPoint&&(vt.Ia.location=this.defaultFromPoint,vt.Ia.ensureBounds(),n=vt.Ia,o=vt.Ia)):o=this.fromPort,o!==null&&!n.isVisible()){const H=n.findVisibleNode();H!==null&&H!==n?(n=H,o=H.port):n=H}if(this.fN=n,n===null||!n.location.isReal()||o===null||(o=n.findVisiblePort(o),o===null))return!1;let l=this.toNode,c=null;if(l===null?(vt.Ea||(vt.Ea=new Lt,vt.Ea.desiredSize=B.sc,vt.Ea.ensureBounds()),this.defaultToPoint&&(vt.Ea.location=this.defaultToPoint,vt.Ea.ensureBounds(),l=vt.Ea,c=vt.Ea)):c=this.toPort,c!==null&&!l.isVisible()){const H=l.findVisibleNode();H!==null&&H!==l?(l=H,c=H.port):l=H}if(this.uN=l,l===null||!l.location.isReal()||c===null||(c=l.findVisiblePort(c),c===null))return!1;const h=this.pointsCount,f=this.computeSpot(!0,o),g=this.computeSpot(!1,c),v=this.Dd(f),w=this.Dd(g),k=o===c&&o!==null,P=this.isOrthogonal;let N=this.curve===9;k&&!P?(N=!0,this.Ko=!0):this.Ko=!1;const F=this.computeAdjusting()===0||k;if(!P&&!k&&v&&w){let H=!1;if(!F&&h>=3){let V=this.getLinkPoint(n,o,f,!0,!1,l,c),$=this.getLinkPoint(l,c,g,!1,!1,n,o);H=this.adjustPoints(0,V,h-1,$),H&&(V=this.getLinkPoint(n,o,f,!0,!1,l,c),$=this.getLinkPoint(l,c,g,!1,!1,n,o),this.adjustPoints(0,V,h-1,$))}H||(this.clearPoints(),N?this.gO(n,o,f,l,c,g):this.mO(n,o,f,l,c,g))}else{const H=this.isAvoiding;F&&(P&&H||k)&&this.clearPoints();const V=k?this.computeCurviness():0,$=this.getLinkPoint(n,o,f,!0,P,l,c);let K=0,J=0,Q=0;if(P||!v||k){let me=this.computeEndSegmentLength(n,o,f,!0);if(Q=this.getLinkDirection(n,o,$,f,!0,P,l,c),k&&(v||f.equals(g)||!P&&f.x+g.x===1&&f.y+g.y===1)&&(Q-=P?90:30,V<0&&(Q-=180)),Q<0?Q+=360:Q>=360&&(Q-=360),k&&(me+=Math.abs(V)*(P?1:2)),Q===0?K=me:Q===90?J=me:Q===180?K=-me:Q===270?J=-me:(K=me*Math.cos(Q*Math.PI/180),J=me*Math.sin(Q*Math.PI/180)),f.isNoSpot()&&k){const ke=o.getDocumentPoint(L.Center,T.l()),Ce=T.V(ke.x+K*1e3,ke.y+J*1e3);this.getLinkPointFromPoint(n,o,ke,Ce,!0,$),T.e(ke),T.e(Ce)}}const ne=this.getLinkPoint(l,c,g,!1,P,n,o);let le=0,fe=0,we=0;if(P||!w||k){let me=this.computeEndSegmentLength(l,c,g,!1);if(we=this.getLinkDirection(l,c,ne,g,!1,P,n,o),k&&(w||f.equals(g)||!P&&f.x+g.x===1&&f.y+g.y===1)&&(we+=P?0:30,V<0&&(we+=180)),we<0?we+=360:we>=360&&(we-=360),k&&(me+=Math.abs(V)*(P?1:2)),we===0?le=me:we===90?fe=me:we===180?le=-me:we===270?fe=-me:(le=me*Math.cos(we*Math.PI/180),fe=me*Math.sin(we*Math.PI/180)),g.isNoSpot()&&k){const ke=c.getDocumentPoint(L.Center,T.l()),Ce=T.V(ke.x+le*1e3,ke.y+fe*1e3);this.getLinkPointFromPoint(l,c,ke,Ce,!1,ne),T.e(ke),T.e(Ce)}}let ye=$;(P||!v||k)&&(ye=new T($.x+K,$.y+J));let ge=ne;(P||!w||k)&&(ge=new T(ne.x+le,ne.y+fe)),!F&&!P&&v&&h>3&&this.adjustPoints(0,$,h-2,ge)?this.setPoint(h-1,ne):!F&&!P&&w&&h>3&&this.adjustPoints(1,ye,h-1,ne)?this.setPoint(0,$):!F&&(P?h>=6:h>4)&&this.adjustPoints(1,ye,h-2,ge)?(this.setPoint(0,$),this.setPoint(h-1,ne)):(this.clearPoints(),this.addPoint($),(P||!v||k)&&this.addPoint(ye),P&&this.addOrthoPoints(ye,Q,ge,we,n,l),(P||!w||k)&&this.addPoint(ge),this.addPoint(ne))}return e.addInvalidRoute(this),!0}wN(e,n){return Math.abs(n.x-e.x)>Math.abs(n.y-e.y)?(n.x>=e.x?n.x=e.x+9e9:n.x=e.x-9e9,n.y=e.y):(n.y>=e.y?n.y=e.y+9e9:n.y=e.y-9e9,n.x=e.x),n}getLinkPointFromPoint(e,n,o,l,c,h){if(h===void 0&&(h=new T),e===null||n===null)return h.a(o),h;if(!e.isVisible()){const N=e.findVisibleNode();N!==null&&N!==e&&(e=N,n=e.port)}let f=0,g=0,v=0,w=0,k=null,P=n.panel;if(P!==null&&!P.an()&&(P=P.panel),P===null)f=l.x,g=l.y,v=o.x,w=o.y;else{k=P.Us;const N=1/(k.m11*k.m22-k.m12*k.m21),F=k.m22*N,H=-k.m12*N,V=-k.m21*N,$=k.m11*N,K=N*(k.m21*k.dy-k.m22*k.dx),J=N*(k.m12*k.dx-k.m11*k.dy);f=l.x*F+l.y*V+K,g=l.x*H+l.y*$+J,v=o.x*F+o.y*V+K,w=o.x*H+o.y*$+J}return n.Jc(f,g,v,w,h),k!==null&&h.T(k),h}pO(e,n){const o=e.Ku;return o!==null?o.ST(n):null}N1(e){if(e===null)return null;let n=e.Ku;return n===null&&(n=new bo(e.part,e),e.Ku=n),n.ST(this)}getLinkPoint(e,n,o,l,c,h,f,g){if(g===void 0&&(g=new T),o.isSpot()&&!this.Dd(o))return n.getDocumentPoint(o,g),g;if(o.isSide()){const k=this.N1(n);if(k!==null){const P=k.Fd;if(g.a(P),c&&this.routing===7){const N=this.N1(f);if(N!==null&&k.Mf<N.Mf){const F=T.l(),H=T.l(),V=new z(n.getDocumentPoint(L.TopLeft,F),n.getDocumentPoint(L.BottomRight,H)),$=this.computeSpot(!l,f),K=this.getLinkPoint(h,f,$,!l,c,e,n,H);(o.includesSide(L.LeftSide)||o.includesSide(L.RightSide))&&K.y>=V.y&&K.y<=V.y+V.height?g.y=K.y:(o.includesSide(L.TopSide)||o.includesSide(L.BottomSide))&&K.x>=V.x&&K.x<=V.x+V.width&&(g.x=K.x),T.e(F),T.e(H)}}return g}}const v=n.getDocumentPoint(this.C1(o,l),T.l());let w=null;if(this.pointsCount>(c?6:2))w=l?this.getPoint(1):this.getPoint(this.pointsCount-2),c&&(w=this.wN(v,w.copy()));else{const k=this.computeSpot(!l,f),P=T.l();w=f.getDocumentPoint(this.C1(k,!l),P),c&&(w=this.wN(v,w)),T.e(P)}return this.getLinkPointFromPoint(e,n,v,w,l,g),T.e(v),g}getLinkDirection(e,n,o,l,c,h,f,g){let v=this.yO(e,n,o,l,c,h,f,g);if(f&&l.isNoSpot()&&f.isMemberOf(e)&&(v+=180,v>=360&&(v-=360)),this.Dd(l)||n===null)return v;const w=n.getDocumentAngle();return w===0||(45<=w&&w<135?v+=90:135<=w&&w<225?v+=180:225<=w&&w<315&&(v+=270),v>=360&&(v-=360)),v}yO(e,n,o,l,c,h,f,g){if(l.isSpot())return l.x>l.y?l.x>1-l.y?0:l.x<1-l.y?270:315:l.x<l.y?l.x>1-l.y?90:l.x<1-l.y?180:135:l.x<.5?225:l.x>.5?45:0;if(l.isSide()){const P=this.N1(n);if(P!==null)switch(P.me){case 1:return 270;case 2:return 180;default:case 4:return 0;case 8:return 90}else return l.includesSide(L.TopSide)?270:l.includesSide(L.BottomSide)?90:l.includesSide(L.LeftSide)?180:0}if(n===null||g===null)return 0;const v=n.getDocumentPoint(L.Center,T.l());let w=null;if(this.pointsCount>(h?6:2))w=c?this.getPoint(1):this.getPoint(this.pointsCount-2),h?w=this.wN(v,w.copy()):w=o;else{const P=T.l();w=g.getDocumentPoint(L.Center,P),T.e(P)}let k=0;return Math.abs(w.x-v.x)>Math.abs(w.y-v.y)?w.x>=v.x?k=0:k=180:w.y>=v.y?k=90:k=270,T.e(v),k}computeEndSegmentLength(e,n,o,l){if(n!==null&&o.isSide()){const h=this.N1(n);if(h!==null)return h.L1}let c=NaN;return l?c=this.fromEndSegmentLength:c=this.toEndSegmentLength,n!==null&&isNaN(c)&&(l?c=n.fromEndSegmentLength:c=n.toEndSegmentLength),isNaN(c)&&(c=10),c}computeSpot(e,n){return n===void 0&&(n=null),e?this.wO(n||this.fromPort):this.xO(n||this.toPort)}wO(e){if(e===null)return L.Center;let n=this.fromSpot;return n.isDefault()&&(n=e.fromSpot),n===L.Default?L.None:n}xO(e){if(e===null)return L.Center;let n=this.toSpot;return n.isDefault()&&(n=e.toSpot),n===L.Default?L.None:n}Dd(e){return e===L.None||e.x===.5&&e.y===.5}C1(e,n){return e.x===.5&&e.y===.5?e:L.Center}computeOtherPoint(e,n){if(this.computeAdjusting()!==0&&this.pointsCount>4)return this.computeMidPoint(new T);{const o=this.pO(n,this);return o!==null?o.Fd:n.getDocumentPoint(L.Center)}}computeShortLength(e){if(e){let n=this.fromShortLength;if(isNaN(n)){const o=this.fromPort;o!==null&&(n=o.fromShortLength)}return isNaN(n)?0:n}else{let n=this.toShortLength;if(isNaN(n)){const o=this.toPort;o!==null&&(n=o.toShortLength)}return isNaN(n)?0:n}}Tm(e,n,o,l,c,h){if(this.pickable===!1)return!1;n===void 0&&(n=null),o===void 0&&(o=null);let f;if(h===void 0?(f=U.l(),f.Ri()):f=h,f.nc(this.T),this.containedInRect(e,f))return this.Y2(n,o,c),h===void 0&&U.e(f),!0;if(this.intersectsRect(e,f)){let g=!1;if(!this.af){const v=this.C.r,w=v.length;for(let k=w;k--;){const P=v[k];if(!P.visible&&P!==this.locationObject)continue;const N=P.actualBounds,F=this.naturalBounds;if(N.x>F.width||N.y>F.height||N.x+N.width<0||N.y+N.height<0)continue;const H=P,V=U.l();if(V.set(f),H instanceof Je?g=H.Tm(e,n,o,l,c,V):this.path===H?H instanceof zt&&(g=H.Yv(e,l,V)):g=H.wA(e,l,V),g){let $=H;n!==null&&($=n(H)),$&&(o===null||o($))&&c.add($)}U.e(V)}}return h===void 0&&U.e(f),g||this.background!==null}return h===void 0&&U.e(f),!1}get isOrthogonal(){return(this.va&2)===2}static mN(e){return(e&2)===2}get isAvoiding(){return(this.va&4)===4}computeCurve(){if(this.Ko===null){const e=this.fromPort,n=e!==null&&e===this.toPort,o=this.isOrthogonal;this.Ko=n&&!o}return this.Ko?9:this.curve}computeCorner(){if(this.curve===9)return 0;let e=this.corner;return(isNaN(e)||e<0)&&(e=10),e}findMidLabel(){const e=this.path,n=this.C.r,o=n.length;for(let c=0;c<o;c++){const h=n[c];if(!(h===e||h.isPanelMain)&&(h.segmentIndex===-1/0||isNaN(h.segmentIndex)))return h}const l=this.labelNodes;for(;l.next();){const c=l.value;if(c.segmentIndex===-1/0||isNaN(c.segmentIndex))return c}return null}computeSpacing(){if(!this.isVisible())return 0;let e=vt.cO;e=Math.max(e,this.computeThickness());const n=this.fromPort,o=this.toPort;if(n!==null&&o!==null){const l=this.findMidLabel();if(l!==null){const c=l.naturalBounds,h=l.margin,f=isNaN(c.width)?30:c.width*l.scale+h.left+h.right,g=isNaN(c.height)?14:c.height*l.scale+h.top+h.bottom,v=l.segmentOrientation;if(v===21||v===25||v===24)e=Math.max(e,g);else if(v===23||v===27||v===22||v===26)e=Math.max(e,f);else{const w=n.getDocumentPoint(L.Center).directionPoint(o.getDocumentPoint(L.Center))/180*Math.PI;e=Math.max(e,Math.abs(Math.sin(w)*f)+Math.abs(Math.cos(w)*g)+1)}this.curve===9&&(e*=1.333)}}return e}arrangeBundledLinks(e,n){if(n)for(let o=0;o<e.length;o++){const l=e[o];l.computeAdjusting()===0&&l.invalidateRoute()}}computeCurviness(){let e=this.curviness;if(isNaN(e)){e=vt.aO;const n=this.jo;if(n!==null){const o=t.et();let l=0;const c=n.Hs;for(let f=0;f<c.length;f++){const g=c[f].computeSpacing();o.push(g),l+=g}let h=-l/2;for(let f=0;f<c.length;f++){if(c[f]===this){e=h+o[f]/2;break}h+=o[f]}n.ny===this.fromNode&&(e=-e),t.J(o)}}return e}computeThickness(){if(!this.isVisible())return 0;const e=this.path;return e!==null?Math.max(e.strokeWidth,1):1}hasCurviness(){return!isNaN(this.curviness)||this.jo!==null}mO(e,n,o,l,c,h){const f=this.getLinkPoint(e,n,o,!0,!1,l,c),g=this.getLinkPoint(l,c,h,!1,!1,e,n);if(this.hasCurviness()){const v=g.x-f.x,w=g.y-f.y,k=this.computeCurviness(),P=k,N=f.x+v/2,F=f.y+w/2;let H=N,V=F;if(I.f(w,0))v>0?V-=P:V+=P;else{const $=-v/w;let K=Math.sqrt(P*P/($*$+1));k<0&&(K=-K),H=(w<0?-1:1)*K+N,V=$*(H-N)+F}this.addPoint(f),this.addPointAt(H,V),this.addPoint(g)}else{this.addPoint(f),this.addPoint(g);const v=z.l();n.getDocumentBounds(v);const w=v.containsPoint(g);c.getDocumentBounds(v);const k=v.containsPoint(f);if(w||k){const P=n.getDocumentPoint(this.C1(o,!0),new T);this.setPoint(0,this.getLinkPointFromPoint(e,n,P,g,!0,P));const N=c.getDocumentPoint(this.C1(h,!1),new T);this.setPoint(1,this.getLinkPointFromPoint(l,c,N,f,!1,N))}z.e(v)}}gO(e,n,o,l,c,h){const f=this.getLinkPoint(e,n,o,!0,!1,l,c),g=this.getLinkPoint(l,c,h,!1,!1,e,n),v=g.x-f.x,w=g.y-f.y,k=this.computeCurviness();let P=0,N=0,F=f.x+v/3,H=f.y+w/3,V=F,$=H;I.f(w,0)?v>0?$-=k:$+=k:(P=-v/w,N=Math.sqrt(k*k/(P*P+1)),k<0&&(N=-N),V=(w<0?-1:1)*N+F,$=P*(V-F)+H),F=f.x+2*v/3,H=f.y+2*w/3;let K=F,J=H;I.f(w,0)?v>0?J-=k:J+=k:(K=(w<0?-1:1)*N+F,J=P*(K-F)+H),this.clearPoints(),this.addPoint(f),this.addPointAt(V,$),this.addPointAt(K,J),this.addPoint(g),this.setPoint(0,this.getLinkPoint(e,n,o,!0,!1,l,c)),this.setPoint(3,this.getLinkPoint(l,c,h,!1,!1,e,n))}adjustPoints(e,n,o,l){let c=this.computeAdjusting();if(this.isOrthogonal){if(c===18)return!1;c===19&&(c=17)}switch(c){case 18:return this.bO(e,n,o,l);case 19:return this.kO(e,n,o,l);case 17:return this.PO(e,n,o,l);default:return!1}}bO(e,n,o,l){const c=this.getPoint(e),h=this.getPoint(o);if(c.equalsApprox(n)&&h.equalsApprox(l))return!0;const f=c.x,g=c.y,v=h.x,w=h.y;let k=v-f,P=w-g;const N=Math.sqrt(k*k+P*P);if(I.z(N,0))return!0;let F=0;I.z(k,0)?P<0?F=-Math.PI/2:F=Math.PI/2:(F=Math.atan(P/Math.abs(k)),k<0&&(F=Math.PI-F));const H=n.x,V=n.y,$=l.x,K=l.y,J=$-H,Q=K-V,ne=Math.sqrt(J*J+Q*Q);let le=0;I.z(J,0)?Q<0?le=-Math.PI/2:le=Math.PI/2:(le=Math.atan(Q/Math.abs(J)),J<0&&(le=Math.PI-le));const fe=ne/N,we=le-F;this.setPoint(e,n);for(let ye=e+1;ye<o;ye++){const ge=this.getPoint(ye);k=ge.x-f,P=ge.y-g;const me=Math.sqrt(k*k+P*P);if(I.z(me,0))continue;let ke=0;I.z(k,0)?P<0?ke=-Math.PI/2:ke=Math.PI/2:(ke=Math.atan(P/Math.abs(k)),k<0&&(ke=Math.PI-ke));const Ce=ke+we,Ie=me*fe,Be=H+Ie*Math.cos(Ce),Xe=V+Ie*Math.sin(Ce);this.setPointAt(ye,Be,Xe)}return this.setPoint(o,l),!0}kO(e,n,o,l){const c=this.getPoint(e),h=this.getPoint(o);if(c.equalsApprox(n)&&h.equalsApprox(l))return!0;const f=c.x,g=c.y,v=h.x,w=h.y,k=(v-f)**2+(w-g)**2,P=n.x,N=n.y,F=l.x,H=l.y;let V=0,$=1;F-P!==0?(V=(H-N)/(F-P),$=Math.sqrt(1+1/(V*V))):V=9e9,this.setPoint(e,n);for(let K=e+1;K<o;K++){const J=this.getPoint(K),Q=J.x,ne=J.y;let le=.5;k!==0&&(le=((f-Q)*(f-v)+(g-ne)*(g-w))/k);const fe=f+le*(v-f),we=g+le*(w-g);let ye=Math.sqrt((Q-fe)**2+(ne-we)**2);ne<V*(Q-fe)+we&&(ye=-ye),V>0&&(ye=-ye);const ge=P+le*(F-P),me=N+le*(H-N);if(V!==0){const ke=ge+ye/$,Ce=me-(ke-ge)/V;this.setPointAt(K,ke,Ce)}else this.setPointAt(K,ge,me+ye)}return this.setPoint(o,l),!0}PO(e,n,o,l){if(this.isOrthogonal){let c=this.getPoint(e),h=this.getPoint(e+1),f=this.getPoint(e+2),g=h.x,v=h.y;const w=g,k=v;I.f(c.y,h.y)?I.f(h.x,f.x)?v=n.y:I.f(h.y,f.y)&&(g=n.x):I.f(c.x,h.x)&&(I.f(h.y,f.y)?g=n.x:I.f(h.x,f.x)&&(v=n.y)),this.setPointAt(e+1,g,v),c=this.getPoint(o),h=this.getPoint(o-1),f=this.getPoint(o-2);let P=h.x,N=h.y;const F=P,H=N;if(I.f(c.y,h.y)?I.f(h.x,f.x)?N=l.y:I.f(h.y,f.y)&&(P=l.x):I.f(c.x,h.x)&&(I.f(h.y,f.y)?P=l.x:I.f(h.x,f.x)&&(N=l.y)),this.setPointAt(o-1,P,N),this.WL())return this.setPointAt(e+1,w,k),this.setPointAt(o-1,F,H),!1}return this.setPoint(e,n),this.setPoint(o,l),!0}addOrthoPoints(e,n,o,l,c,h){n<0?n+=360:n>=360&&(n-=360),l<0?l+=360:l>=360&&(l-=360);const f=l;n>=315||n<45?n=0:45<=n&&n<135?n=90:135<=n&&n<225?n=180:n=270,l>=315||l<45?l=0:45<=l&&l<135?l=90:135<=l&&l<225?l=180:l=270;const g=e,v=o,w=c.actualBounds.copy(),k=h.actualBounds.copy();if(!w.isReal()||!k.isReal())return;w.inflate(vt.Ua,vt.Ua),k.inflate(vt.Ua,vt.Ua),w.unionPoint(e),k.unionPoint(o);const P=T.l(),N=T.l();n===0?v.x>g.x||l===270&&v.y<g.y&&k.right>g.x||l===90&&v.y>g.y&&k.right>g.x?(P.i(v.x,g.y),N.i(v.x,(g.y+v.y)/2),l===180?(P.x=this.computeMidOrthoPosition(g.x,g.y,v.x,v.y,!1),N.x=P.x,N.y=v.y):l===270&&v.y<g.y||l===90&&v.y>g.y?(g.x<k.left?P.x=this.computeMidOrthoPosition(g.x,g.y,k.left,v.y,!1):g.x<k.right&&(l===270&&g.y<k.top||l===90&&g.y>k.bottom)?P.x=this.computeMidOrthoPosition(g.x,g.y,v.x,v.y,!1):P.x=k.right,N.x=P.x,N.y=v.y):l===0&&g.x<k.left&&g.y>k.top&&g.y<k.bottom&&(P.x=g.x,g.y<v.y?P.y=Math.min(v.y,k.top):P.y=Math.max(v.y,k.bottom),N.y=P.y)):(P.i(g.x,v.y),N.i((g.x+v.x)/2,v.y),(l===180||l===90&&v.y<w.top||l===270&&v.y>w.bottom)&&(l===180&&(k.containsPoint(g)||w.containsPoint(v))?P.y=this.computeMidOrthoPosition(g.x,g.y,v.x,v.y,!0):v.y<g.y&&(l===180||l===90)?P.y=this.computeMidOrthoPosition(g.x,w.top,v.x,Math.max(v.y,k.bottom),!0):v.y>g.y&&(l===180||l===270)&&(P.y=this.computeMidOrthoPosition(g.x,w.bottom,v.x,Math.min(v.y,k.top),!0)),N.x=v.x,N.y=P.y),P.y>w.top&&P.y<w.bottom&&(v.x>=w.left&&v.x<=g.x||g.x<=k.right&&g.x>=v.x?(l===90||l===270)&&(P.i(Math.max((g.x+v.x)/2,g.x),g.y),N.i(P.x,v.y)):(l===270||(l===0||l===180)&&v.y<g.y?P.y=Math.min(v.y,l===0?w.top:Math.min(w.top,k.top)):P.y=Math.max(v.y,l===0?w.bottom:Math.max(w.bottom,k.bottom)),N.x=v.x,N.y=P.y))):n===180?v.x<g.x||l===270&&v.y<g.y&&k.left<g.x||l===90&&v.y>g.y&&k.left<g.x?(P.i(v.x,g.y),N.i(v.x,(g.y+v.y)/2),l===0?(P.x=this.computeMidOrthoPosition(g.x,g.y,v.x,v.y,!1),N.x=P.x,N.y=v.y):l===270&&v.y<g.y||l===90&&v.y>g.y?(g.x>k.right?P.x=this.computeMidOrthoPosition(g.x,g.y,k.right,v.y,!1):g.x>k.left&&(l===270&&g.y<k.top||l===90&&g.y>k.bottom)?P.x=this.computeMidOrthoPosition(g.x,g.y,v.x,v.y,!1):P.x=k.left,N.x=P.x,N.y=v.y):l===180&&g.x>k.right&&g.y>k.top&&g.y<k.bottom&&(P.x=g.x,g.y<v.y?P.y=Math.min(v.y,k.top):P.y=Math.max(v.y,k.bottom),N.y=P.y)):(P.i(g.x,v.y),N.i((g.x+v.x)/2,v.y),(l===0||l===90&&v.y<w.top||l===270&&v.y>w.bottom)&&(l===0&&(k.containsPoint(g)||w.containsPoint(v))?P.y=this.computeMidOrthoPosition(g.x,g.y,v.x,v.y,!0):v.y<g.y&&(l===0||l===90)?P.y=this.computeMidOrthoPosition(g.x,w.top,v.x,Math.max(v.y,k.bottom),!0):v.y>g.y&&(l===0||l===270)&&(P.y=this.computeMidOrthoPosition(g.x,w.bottom,v.x,Math.min(v.y,k.top),!0)),N.x=v.x,N.y=P.y),P.y>w.top&&P.y<w.bottom&&(v.x<=w.right&&v.x>=g.x||g.x>=k.left&&g.x<=v.x?(l===90||l===270)&&(P.i(Math.min((g.x+v.x)/2,g.x),g.y),N.i(P.x,v.y)):(l===270||(l===0||l===180)&&v.y<g.y?P.y=Math.min(v.y,l===180?w.top:Math.min(w.top,k.top)):P.y=Math.max(v.y,l===180?w.bottom:Math.max(w.bottom,k.bottom)),N.x=v.x,N.y=P.y))):n===90?v.y>g.y||l===180&&v.x<g.x&&k.bottom>g.y||l===0&&v.x>g.x&&k.bottom>g.y?(P.i(g.x,v.y),N.i((g.x+v.x)/2,v.y),l===270?(P.y=this.computeMidOrthoPosition(g.x,g.y,v.x,v.y,!0),N.x=v.x,N.y=P.y):l===180&&v.x<g.x||l===0&&v.x>g.x?(g.y<k.top?P.y=this.computeMidOrthoPosition(g.x,g.y,v.x,k.top,!0):g.y<k.bottom&&(l===180&&g.x<k.left||l===0&&g.x>k.right)?P.y=this.computeMidOrthoPosition(g.x,g.y,v.x,v.y,!0):P.y=k.bottom,N.x=v.x,N.y=P.y):l===90&&g.y<k.top&&g.x>k.left&&g.x<k.right&&(g.x<v.x?P.x=Math.min(v.x,k.left):P.x=Math.max(v.x,k.right),P.y=g.y,N.x=P.x)):(P.i(v.x,g.y),N.i(v.x,(g.y+v.y)/2),(l===270||l===0&&v.x<w.left||l===180&&v.x>w.right)&&(l===270&&(k.containsPoint(g)||w.containsPoint(v))?P.x=this.computeMidOrthoPosition(g.x,g.y,v.x,v.y,!1):v.x<g.x&&(l===270||l===0)?P.x=this.computeMidOrthoPosition(w.left,g.y,Math.max(v.x,k.right),v.y,!1):v.x>g.x&&(l===270||l===180)&&(P.x=this.computeMidOrthoPosition(w.right,g.y,Math.min(v.x,k.left),v.y,!1)),N.x=P.x,N.y=v.y),P.x>w.left&&P.x<w.right&&(v.y>=w.top&&v.y<=g.y||g.y<=k.bottom&&g.y>=v.y?(l===0||l===180)&&(P.i(g.x,Math.max((g.y+v.y)/2,g.y)),N.i(v.x,P.y)):(l===180||(l===90||l===270)&&v.x<g.x?P.x=Math.min(v.x,l===90?w.left:Math.min(w.left,k.left)):P.x=Math.max(v.x,l===90?w.right:Math.max(w.right,k.right)),N.x=P.x,N.y=v.y))):v.y<g.y||l===180&&v.x<g.x&&k.top<g.y||l===0&&v.x>g.x&&k.top<g.y?(P.i(g.x,v.y),N.i((g.x+v.x)/2,v.y),l===90?(P.y=this.computeMidOrthoPosition(g.x,g.y,v.x,v.y,!0),N.x=v.x,N.y=P.y):l===180&&v.x<g.x||l===0&&v.x>=g.x?(g.y>k.bottom?P.y=this.computeMidOrthoPosition(g.x,g.y,v.x,k.bottom,!0):g.y>k.top&&(l===180&&g.x<k.left||l===0&&g.x>k.right)?P.y=this.computeMidOrthoPosition(g.x,g.y,v.x,v.y,!0):P.y=k.top,N.x=v.x,N.y=P.y):l===270&&g.y>k.bottom&&g.x>k.left&&g.x<k.right&&(g.x<v.x?P.x=Math.min(v.x,k.left):P.x=Math.max(v.x,k.right),P.y=g.y,N.x=P.x)):(P.i(v.x,g.y),N.i(v.x,(g.y+v.y)/2),(l===90||l===0&&v.x<w.left||l===180&&v.x>w.right)&&(l===90&&(k.containsPoint(g)||w.containsPoint(v))?P.x=this.computeMidOrthoPosition(g.x,g.y,v.x,v.y,!1):v.x<g.x&&(l===90||l===0)?P.x=this.computeMidOrthoPosition(w.left,g.y,Math.max(v.x,k.right),v.y,!1):v.x>g.x&&(l===90||l===180)&&(P.x=this.computeMidOrthoPosition(w.right,g.y,Math.min(v.x,k.left),v.y,!1)),N.x=P.x,N.y=v.y),P.x>w.left&&P.x<w.right&&(v.y<=w.bottom&&v.y>=g.y||g.y>=k.top&&g.y<=v.y?(l===0||l===180)&&(P.i(g.x,Math.min((g.y+v.y)/2,g.y)),N.i(v.x,P.y)):(l===180||(l===90||l===270)&&v.x<g.x?P.x=Math.min(v.x,l===270?w.left:Math.min(w.left,k.left)):P.x=Math.max(v.x,l===270?w.right:Math.max(w.right,k.right)),N.x=P.x,N.y=v.y))),this.yN=l!==f,this.dN=n,this.gN=l,this.addPoint(P.copy()),this.addPoint(N.copy()),T.e(P),T.e(N)}computeMidOrthoPosition(e,n,o,l,c){let h=0;return this.hasCurviness()&&!this.computeSpot(!0,this.fromPort).isSide()&&!this.computeSpot(!1,this.toPort).isSide()&&(h=this.computeCurviness()),c?(n+l)/2+h:(e+o)/2+h}WL(){if(this.diagram===null||!this.isAvoiding||this.diagram.animationManager.isTicking)return!1;const e=this.points.r,n=e.length;if(n<4)return!1;const o=this.diagram.getPositions(!1,this.containingGroup,null);for(let l=1;l<n-2;l++){const c=e[l],h=e[l+1];if(!o.isUnoccupied(Math.min(c.x,h.x),Math.min(c.y,h.y),Math.abs(c.x-h.x),Math.abs(c.y-h.y)))return!0}return!1}findClosestSegment(e){const n=e.x,o=e.y;let l=this.getPoint(0),c=this.getPoint(1),h=T.distanceLineSegmentSquared(n,o,l.x,l.y,c.x,c.y),f=0;for(let g=1;g<this.pointsCount-1;g++){l=this.getPoint(g+1);const v=T.distanceLineSegmentSquared(n,o,c.x,c.y,l.x,l.y);c=l,v<h&&(f=g,h=v)}return f}ee(){this.kh=!1,this.c()}get kh(){return(this.Mt&128)!==0}set kh(e){(this.Mt&128)!==0!==e&&(this.Mt=this.Mt^128)}get geometry(){if(!this.kh){if(this.updateRoute(),this.pointsCount<2)return this.kh=!0,this.ot;this.ot=this.makeGeometry()}return this.ot}sd(e){if(!e){if(this.Se===!1)return;const c=this.findMainElement();if(this.kh&&(c===null||c.geometry!==null))return}this.pointsCount<2?this.kh=!0:this.ot=this.makeGeometry();const n=this.path;if(n===null)return;n.ot=this.ot;const o=this.C.r,l=o.length;for(let c=0;c<l;c++){const h=o[c];h!==n&&h.isPanelMain&&h instanceof zt&&(h.ot=this.ot)}}SO(e){return this.Ba()&&e.$l.has(this)&&(this.Sf.width!==0||this.Sf.height!==0)&&(e.animationManager.isAnimating||e.currentTool!==e.toolManager)}makeGeometry(){const e=this.ot,n=this.pointsCount;let o=!1;const l=this.diagram;l!==null&&this.SO(l)&&(o=!0);let c=0,h=0,f=this.getPoint(0).copy();const g=f.copy(),v=this.xi.r,w=this.computeCurve();if(w===9&&n>=3&&!I.z(this.smoothness,0))if(n===3){let k=this.getPoint(1);c=Math.min(f.x,k.x),h=Math.min(f.y,k.y),k=this.getPoint(2),c=Math.min(c,k.x),h=Math.min(h,k.y)}else if(this.isOrthogonal){for(let k=0;k<n;k++){const P=v[k];g.x=Math.min(P.x,g.x),g.y=Math.min(P.y,g.y)}c=g.x,h=g.y}else{for(let k=3;k<n;k+=3){k+3>=n&&(k=n-1);const P=this.getPoint(k);g.x=Math.min(P.x,g.x),g.y=Math.min(P.y,g.y)}c=g.x,h=g.y}else{for(let k=0;k<n;k++){const P=v[k];g.x=Math.min(P.x,g.x),g.y=Math.min(P.y,g.y)}c=g.x,h=g.y}if(c-=this.k1.x,h-=this.k1.y,f.x-=c,f.y-=h,n===2&&!this.Ba()){let k=this.getPoint(1).copy();return k.x-=c,k.y-=h,this.computeShortLength(!0)!==0&&(f=this.Nf(f,!0,g)),this.computeShortLength(!1)!==0&&(k=this.Nf(k,!1,g)),e.type=1,e.startX=f.x,e.startY=f.y,e.endX=k.x,e.endY=k.y,this.kh=!0,e}else{e.type=4;const k=vo.RC(e);if(this.computeShortLength(!0)!==0&&(f=this.Nf(f,!0,g)),k.hu(f.x,f.y,!1,!1),w===9&&n>=3&&!I.z(this.smoothness,0))if(n===3){const P=this.getPoint(1),N=P.x-c,F=P.y-h;let H=this.getPoint(2).copy();H.x-=c,H.y-=h,this.computeShortLength(!1)!==0&&(H=this.Nf(H,!1,g)),k.hr(N,F,N,F,H.x,H.y)}else if(this.isOrthogonal){const P=T.V(c,h),N=T.l();N.a(this.getPoint(1));const F=T.V(c,h),H=T.V(c,h);let V=this.getPoint(0),$=null;const K=this.smoothness/3;for(let le=1;le<this.pointsCount-1;le++){$=this.getPoint(le);const fe=V,we=$,ye=this.getPoint(this.xN($,le,!1));I.z(fe.x,we.x)&&I.z(we.x,ye.x)||I.z(fe.y,we.y)&&I.z(we.y,ye.y)||(this.MO(fe,we,ye,K,F,H),(le===1||le===2&&I.z(V.x,this.getPoint(0).x)&&I.z(V.y,this.getPoint(0).y))&&(N.x=(V.x+$.x)*.5,N.y=(V.y+$.y)*.5),k.hr(N.x-c,N.y-h,F.x-c,F.y-h,$.x-c,$.y-h),P.set(F),N.set(H),V=$)}let J=V.x,Q=V.y,ne=this.getPoint(this.pointsCount-1);this.computeShortLength(!1)!==0&&(ne=this.Nf(ne.copy(),!1,T.xo)),J=.5*(J+ne.x),Q=.5*(Q+ne.y),k.hr(H.x-c,H.y-h,J-c,Q-h,ne.x-c,ne.y-h),T.e(P),T.e(N),T.e(F),T.e(H)}else for(let P=3;P<n;P+=3){const N=this.getPoint(P-2);P+3>=n&&(P=n-1);const F=this.getPoint(P-1);let H=this.getPoint(P);P===n-1&&this.computeShortLength(!1)!==0&&(H=this.Nf(H.copy(),!1,T.xo)),k.hr(N.x-c,N.y-h,F.x-c,F.y-h,H.x-c,H.y-h)}else{const P=T.l();P.a(this.getPoint(0));const N=T.l();N.a(P);const F=this.computeCorner();let H=1,V=0;for(;H<n;){H=this.xN(P,H,H>1);let $=this.getPoint(H);if(H>=n-1){if(!P.equals($))this.computeShortLength(!1)!==0&&($=this.Nf($.copy(),!1,T.xo)),this.xn(k,-c,-h,P,$,o);else if(V===0)for(H=1;H<n;)N.a(P),$=this.getPoint(H++),this.xn(k,-c,-h,P,$,o),P.a($);break}V=this.xN($,H+1,H<n-3);const K=this.getPoint(V);this.NO(k,-c,-h,P,$,K,P,N,F,o),N.a($),H=V}T.e(P)}return vo.vC(k),this.kh=!0,e}}A1(e,n,o,l){let c=o-e;if(isNaN(c)||c===1/0||c===-1/0)return NaN;c<0&&(c=-c);let h=l-n;return isNaN(h)||h===1/0||h===-1/0?NaN:(h<0&&(h=-h),I.z(c,0)?h:I.z(h,0)?c:Math.sqrt(c*c+h*h))}MO(e,n,o,l,c,h){isNaN(l)&&(l=this.smoothness/3);const f=e.x,g=e.y,v=n.x,w=n.y,k=o.x,P=o.y,N=l*this.A1(f,g,v,w),F=l*this.A1(v,w,k,P);if(I.z(g,w)&&I.z(v,k)&&(v>f?P>w?(c.x=v-N,c.y=w-N,h.x=v+F,h.y=w+F):(c.x=v-N,c.y=w+N,h.x=v+F,h.y=w-F):P>w?(c.x=v+N,c.y=w-N,h.x=v-F,h.y=w+F):(c.x=v+N,c.y=w+N,h.x=v-F,h.y=w-F)),I.z(f,v)&&I.z(w,P)&&(w>g?k>v?(c.x=v-N,c.y=w-N,h.x=v+F,h.y=w+F):(c.x=v+N,c.y=w-N,h.x=v-F,h.y=w+F):k>v?(c.x=v-N,c.y=w+N,h.x=v+F,h.y=w-F):(c.x=v+N,c.y=w+N,h.x=v-F,h.y=w-F)),I.z(f,v)&&I.z(v,k)||I.z(g,w)&&I.z(w,P)){const H=.5*(f+k),V=.5*(g+P);c.x=H,c.y=V,h.x=H,h.y=V}}Nf(e,n,o){const l=this.pointsCount;if(l<2)return e;if(n){const c=this.getPoint(1),h=c.x-o.x,f=c.y-o.y,g=this.A1(e.x,e.y,h,f);if(g===0)return e;const v=l===2?g*.5:g;let w=this.computeShortLength(!0);w>v&&(w=v);const k=w*(h-e.x)/g,P=w*(f-e.y)/g;e.x+=k,e.y+=P}else{const c=this.getPoint(l-2),h=c.x-o.x,f=c.y-o.y,g=this.A1(e.x,e.y,h,f);if(g===0)return e;const v=l===2?g*.5:g;let w=this.computeShortLength(!1);w>v&&(w=v);const k=w*(e.x-h)/g,P=w*(e.y-f)/g;e.x-=k,e.y-=P}return e}xN(e,n,o){const l=this.pointsCount;let c=e;for(;I.z(e.x,c.x)&&I.z(e.y,c.y);){if(n>=l)return l-1;c=this.getPoint(n++)}if(!I.z(e.x,c.x)&&!I.z(e.y,c.y))return n-1;let h=c;for(;I.z(e.x,c.x)&&I.z(c.x,h.x)&&(!o||(e.y>=c.y?c.y>=h.y:c.y<=h.y))||I.z(e.y,c.y)&&I.z(c.y,h.y)&&(!o||(e.x>=c.x?c.x>=h.x:c.x<=h.x));){if(n>=l)return l-1;h=this.getPoint(n++)}return n-2}NO(e,n,o,l,c,h,f,g,v,w){if(I.f(l.y,c.y)&&I.f(c.x,h.x)){let k=Math.min(v,Math.abs(c.x-g.x)/2);const P=Math.min(k,Math.abs(h.y-c.y)/2);if(k=P,I.f(k,0)){this.xn(e,n,o,l,c,w),f.a(c);return}let N=c.x;const F=c.y,H=N;let V=F;c.x>l.x?(N=c.x-k,h.y>c.y?V=c.y+P:V=c.y-P):(N=c.x+k,h.y>c.y?V=c.y+P:V=c.y-P);const $=T.V(N,F);this.xn(e,n,o,l,$,w),T.e($),e.Nw(c.x+n,c.y+o,H+n,V+o),f.i(H,V)}else if(I.f(l.x,c.x)&&I.f(c.y,h.y)){let k=Math.min(v,Math.abs(c.y-g.y)/2);const P=Math.min(k,Math.abs(h.x-c.x)/2);if(k=P,I.f(P,0)){this.xn(e,n,o,l,c,w),f.a(c);return}const N=c.x;let F=c.y,H=N;const V=F;c.y>l.y?(F=c.y-k,h.x>c.x?H=c.x+P:H=c.x-P):(F=c.y+k,h.x>c.x?H=c.x+P:H=c.x-P);const $=T.V(N,F);this.xn(e,n,o,l,$,w),T.e($),e.Nw(c.x+n,c.y+o,H+n,V+o),f.i(H,V)}else this.xn(e,n,o,l,c,w),f.a(c)}computeJumpLength(){return 10}xn(e,n,o,l,c,h){if(h||!this.Ba())e.lr(c.x+n,c.y+o);else{const f=this.computeJumpLength(),g=f/2,v=[];let w=0;this.isVisible()&&(w=this.CO(l,c,v));let k=l.x,P=l.y;if(w>0){if(I.f(l.y,c.y))if(l.x<c.x){let N=0;for(;N<w;){const F=Math.max(l.x,Math.min(v[N++]-g,c.x-f));e.lr(F+n,c.y+o),k=F+n,P=c.y+o;let H=Math.min(F+f,c.x);for(;N<w;){const J=v[N];if(J<H+f)N++,H=Math.min(J+g,c.x);else break}const V=c.y-f+o,$=H+n,K=c.y+o;this.curve===10?e.hu($,K,!1,!1):e.hr(k,V,$,V,$,K),k=$,P=K}}else{let N=w-1;for(;N>=0;){const F=Math.min(l.x,Math.max(v[N--]+g,c.x+f));e.lr(F+n,c.y+o),k=F+n,P=c.y+o;let H=Math.max(F-f,c.x);for(;N>=0;){const J=v[N];if(J>H-f)N--,H=Math.max(J-g,c.x);else break}const V=c.y-f+o,$=H+n,K=c.y+o;this.curve===10?e.hu($,K,!1,!1):e.hr(k,V,$,V,$,K),k=$,P=K}}else if(I.f(l.x,c.x))if(l.y<c.y){let N=0;for(;N<w;){const F=Math.max(l.y,Math.min(v[N++]-g,c.y-f));e.lr(c.x+n,F+o),k=c.x+n,P=F+o;let H=Math.min(F+f,c.y);for(;N<w;){const J=v[N];if(J<H+f)N++,H=Math.min(J+g,c.y);else break}const V=c.x-f+n,$=c.x+n,K=H+o;this.curve===10?e.hu($,K,!1,!1):e.hr(V,P,V,K,$,K),k=$,P=K}}else{let N=w-1;for(;N>=0;){const F=Math.min(l.y,Math.max(v[N--]+g,c.y+f));e.lr(c.x+n,F+o),k=c.x+n,P=F+o;let H=Math.max(F-f,c.y);for(;N>=0;){const J=v[N];if(J>H-f)N--,H=Math.max(J-g,c.y);else break}const V=c.x-f+n,$=c.x+n,K=H+o;this.curve===10?e.hu($,K,!1,!1):e.hr(V,P,V,K,$,K),k=$,P=K}}}e.lr(c.x+n,c.y+o)}}CO(e,n,o){const l=this.diagram;if(l===null||e.equals(n))return 0;const c=l.layers;for(;c.next();){const h=c.value;if(h!==null&&h.visible){const f=h.qS(),g=f.length;for(let v=0;v<g;v++){const w=f[v];if(!(w instanceof vt))continue;if(w===this)return o.length>0&&o.sort((N,F)=>N-F),o.length;if(!w.isVisible()||!w.Ba())continue;const k=w.routeBounds;if(!k.isReal()||!this.routeBounds.intersectsRect(k)||this.usesSamePort(w))continue;const P=w.path;P!==null&&P.isVisibleObject()&&this.LO(e,n,o,w)}}}return o.length>0&&o.sort((h,f)=>h-f),o.length}LO(e,n,o,l){const c=I.f(e.y,n.y),h=l.pointsCount;let f=l.getPoint(0);const g=T.l();for(let v=1;v<h;v++){const w=l.getPoint(v);if(v<h-1){const k=l.getPoint(v+1);if(f.y===w.y&&w.y===k.y){if(w.x>f.x&&k.x>=w.x||w.x<f.x&&k.x<=w.x)continue}else if(f.x===w.x&&w.x===k.x&&(w.y>f.y&&k.y>=w.y||w.y<f.y&&k.y<=w.y))continue}this.AO(e,n,f,w,g)&&(c?o.push(g.x):o.push(g.y)),f=w}T.e(g)}AO(e,n,o,l,c){const h=e.x,f=e.y,g=n.x,v=n.y,w=o.x,k=o.y,P=l.x,N=l.y;if(I.f(h,g)){if(!I.f(f,v)&&I.f(k,N)&&Math.min(f,v)<k&&Math.max(f,v)>k&&Math.min(w,P)<h&&Math.max(w,P)>h&&!I.f(w,P))return c.x=h,c.y=k,!0}else if(I.f(f,v)&&I.f(w,P)&&Math.min(h,g)<w&&Math.max(h,g)>w&&Math.min(k,N)<f&&Math.max(k,N)>f&&!I.f(k,N))return c.x=w,c.y=f,!0;return c.x=0,c.y=0,!1}get firstPickIndex(){return this.pointsCount<=2?0:this.isOrthogonal||!this.Dd(this.computeSpot(!0))?1:0}get lastPickIndex(){const e=this.pointsCount;return e===0?0:e<=2?e-1:this.isOrthogonal||!this.Dd(this.computeSpot(!1))?e-2:e-1}Ba(){const e=this.curve;return e===11||e===10}M1(e){if(e||this.Ba()){const n=this.diagram;n!==null&&!n.animationManager.isTicking&&!n.$l.has(this)&&(this.Sf.width!==0||this.Sf.height!==0)&&n.$l.set(this,this.Sf.copy())}}invalidateOtherJumpOvers(e){const n=this.layer;if(n===null||!n.visible||n.isTemporary)return;const o=n.diagram;if(o===null||o.animationManager.isTicking)return;let l=!1;const c=o.layers;for(;c.next();){const h=c.value;if(h.visible){if(h===n){l=!0;let f=!1;const g=h.qS(),v=g.length;for(let w=0;w<v;w++){const k=g[w];k instanceof vt&&(k===this?f=!0:f&&this.MT(k,e))}}else if(l){const f=h.qS(),g=f.length;for(let v=0;v<g;v++){const w=f[v];w instanceof vt&&this.MT(w,e)}}}}}MT(e,n){if(e===null||!e.kh||!e.Se||!e.Ba())return;const o=e.routeBounds;o.isReal()&&(!this.routeBounds.intersectsRect(o)&&!n.intersectsRect(o)||this.usesSamePort(e)||e.ee())}usesSamePort(e){const n=this.pointsCount,o=e.pointsCount;if(n>0&&o>0){const l=this.getPoint(0),c=e.getPoint(0);if(l.equalsApprox(c))return!0;const h=this.getPoint(n-1),f=e.getPoint(o-1);if(h.equalsApprox(f)||l.equalsApprox(f)||h.equalsApprox(c))return!0}else if(this.fromNode===e.fromNode||this.toNode===e.toNode||this.fromNode===e.toNode||this.toNode===e.fromNode)return!0;return!1}isVisible(){if(!super.isVisible())return!1;const e=this.containingGroup;let n=!0;const o=this.diagram;o!==null&&(n=o.isTreePathToChildren);const l=this.fromNode;if(l!==null){if(this.isTreeLink&&n&&!l.isTreeExpanded)return!1;if(l===e)return!0;let h=l;for(;h!==null;){if(h.labeledLink===this)return!0;h=h.containingGroup}const f=l.findVisibleNode();if(f===null||f===e)return!1}const c=this.toNode;if(c!==null){if(this.isTreeLink&&!n&&!c.isTreeExpanded)return!1;if(c===e)return!0;let h=c;for(;h!==null;){if(h.labeledLink===this)return!0;h=h.containingGroup}const f=c.findVisibleNode();if(f===null||f===e)return!1}return!0}Ei(e){if(super.Ei(e),e&&this.M1(!1),this.jo!==null&&this.jo.Sd(),this.js!==null){const n=this.js.iterator;for(;n.next();)n.value.Ei(e)}}get adjusting(){return this.Pf}set adjusting(e){const n=this.Pf;n!==e&&(this.Pf=e,this.t("adjusting",n,e))}computeAdjusting(){return this.isAvoiding&&this.diagram!==null&&this.diagram.animationManager.defaultAnimation.isAnimating?17:this.Pf}get corner(){return this.Cd}set corner(e){const n=this.Cd;n!==e&&(this.Cd=e,this.ee(),this.t("corner",n,e))}get curve(){return this.Ld}set curve(e){const n=this.Ld;n!==e&&(this.Ld=e,this.invalidateRoute(),this.ee(),this.M1(n===10||n===11||e===10||e===11),this.t("curve",n,e))}get curviness(){return this.Ad}set curviness(e){const n=this.Ad;n!==e&&(this.Ad=e,this.invalidateRoute(),this.ee(),this.t("curviness",n,e))}get routing(){return this.va}set routing(e){const n=this.va;n!==e&&(this.va=e,this.isAvoiding&&this.diagram!==null&&(this.diagram.Vm=!0),this.Ko=null,this.invalidateRoute(),this.M1(vt.mN(n)||vt.mN(e)),this.t("routing",n,e))}get smoothness(){return this.Td}set smoothness(e){const n=this.Td;n!==e&&(this.Td=e,this.ee(),this.t("smoothness",n,e))}wy(){const e=this.so;if(e===null)return;const n=this.oo;if(n===null||!isNaN(this.curviness))return;const o=this.no,l=this.ro;let c=null,h=null;const f=e.ti.r,g=f.length;for(let v=0;v<g;v++){const w=f[v];!(w.so===e&&w.no===o&&w.oo===n&&w.ro===l)&&!(w.so===n&&w.no===l&&w.oo===e&&w.ro===o)||(h===null?h=w:(c===null&&(c=[],c.push(h)),c.push(w)))}if(c!==null){let v=e.mT(n,o,l);v===null&&(v=new Kh(e,o,n,l),e.dT(v),n.dT(v)),v.Hs=c;for(let w=0;w<c.length;w++){const k=c[w];k.jo=v}v.Sd()}}yy(){const e=this.jo;if(e!==null){if(!isNaN(this.curviness))return;this.jo=null;const n=e.Hs.indexOf(this);n>=0&&(e.Hs.splice(n,1),e.Sd())}}Cl(){return!0}get key(){const e=this.diagram;if(!(e===null||!e.model.Ra()))return e.model.getKeyForLinkData(this.data)}}class Kh{Fo;Is;ny;lN;p1;hN;Hs;constructor(e,n,o,l){b.Ki(this),this.Fo=!1,this.Is=!1,this.ny=e,this.lN=n,this.p1=o,this.hN=l,this.Hs=[]}Sd(){if(!this.Fo){const e=this.Hs;if(e.length>0){const n=e[0].diagram;n!==null&&(n.wM.add(this),this.Is=n.undoManager.isUndoingRedoing)}}this.Fo=!0}RM(){if(this.Fo){this.Fo=!1;const e=this.Hs;if(e.length>0){const n=e[0],o=n.diagram,l=o===null||o.Vh&&!this.Is;this.Is=!1,n.arrangeBundledLinks(e,l),e.length===1&&(n.jo=null,e.length=0)}e.length===0&&(this.ny.gT(this),this.p1.gT(this))}}}class Kn{oe;re;Va;za;di;gi;Vt;Ph;Sh;ua;jM;Fo;by;Gc;HM;qM;constructor(e){b.Ki(this),this.ua=null,this.jM=null,this.Fo=!0,this.by=!1,this.oe=1,this.re=1,this.Va=-1,this.za=-1,this.di=e.width,this.gi=e.height,this.Vt=[],this.Ph=0,this.Sh=0,this.Gc=11,this.HM=this.Gc*2,this.qM=this.Gc*2}static qs=0;static Xa=1;static Rd=999999;static bN=Kn.Rd+1;static kN=Kn.Rd+2;Lb(e){if(e.width<=0||e.height<=0)return;const n=e.x,o=e.y,l=e.x+e.width,c=e.y+e.height;this.oe=Math.floor((n-this.di)/this.di)*this.di,this.re=Math.floor((o-this.gi)/this.gi)*this.gi,this.Va=Math.ceil((l+2*this.di)/this.di)*this.di,this.za=Math.ceil((c+2*this.gi)/this.gi)*this.gi;const h=1+(Math.ceil((this.Va-this.oe)/this.di)|0),f=1+(Math.ceil((this.za-this.re)/this.gi)|0);if(this.Vt.length===0||this.Ph<h-1||this.Sh<f-1){const g=[];for(let v=0;v<=h;v++)g[v]=new Uint32Array(f);this.Vt=g,this.Ph=h-1,this.Sh=f-1}this.TO(Kn.bN)}get bounds(){return new z(this.oe,this.re,this.Va-this.oe,this.za-this.re)}get cellWidth(){return this.di}set cellWidth(e){e>0&&e!==this.di&&(this.di=e,this.Lb(this.bounds))}get cellHeight(){return this.gi}set cellHeight(e){e>0&&e!==this.gi&&(this.gi=e,this.Lb(this.bounds))}vd(e,n){return this.oe<=e&&e<=this.Va&&this.re<=n&&n<=this.za}lo(e,n){if(!this.vd(e,n))return Kn.bN;e-=this.oe,e/=this.di,n-=this.re,n/=this.gi;const o=e|0,l=n|0;return this.Vt[o][l]}VR(e,n,o,l){if(!this.vd(e,n))return;const c=(e-this.oe)/this.di|0,h=(n-this.re)/this.gi|0,f=(e+o-this.oe)/this.di|0,g=(n+l-this.re)/this.gi|0,v=Math.min(f,this.Ph),w=Math.min(g,this.Sh);for(let k=c;k<=v;k++){const P=this.Vt[k];if(P.fill)P.fill(Kn.qs,h,w+1);else for(let N=h;N<=w;N++)P[N]=Kn.qs}}TO(e){for(let n=0;n<=this.Ph;n++){const o=this.Vt[n];if(o.fill)o.fill(e);else for(let l=0;l<=this.Sh;l++)o[l]=e}}rA(){for(let e=0;e<=this.Ph;e++){const n=this.Vt[e];for(let o=0;o<=this.Sh;o++)n[o]>=Kn.Xa&&(n[o]=Kn.bN)}}DO(e,n){return this.lo(e,n)===Kn.qs}isUnoccupied(e,n,o,l){if(e>this.Va||e+o<this.oe||n>this.za||n+l<this.re)return!0;let c=(e-this.oe)/this.di|0,h=(n-this.re)/this.gi|0,f=Math.max(0,o)/this.di+1|0,g=Math.max(0,l)/this.gi+1|0;if(c<0&&(f+=c,c=0),h<0&&(g+=h,h=0),f<0||g<0)return!0;const v=Math.min(c+f-1,this.Ph)|0,w=Math.min(h+g-1,this.Sh)|0;for(let k=c;k<=v;k++){const P=this.Vt[k];for(let N=h;N<=w;N++)if(P[N]===Kn.qs)return!1}return!0}maxAvoidsLinksSpaceH(e,n,o,l){if(e>this.Va||n<this.oe||o>this.za||o<this.re)return 0;const c=(e-this.oe)/this.di|0,h=(n-this.oe)/this.di|0,f=(o-this.re)/this.gi|0,g=l/this.gi+1|0;let v;for(v=0;v<g/2;v++){let w=!1;for(let k=c;k<=h;k++)if(this.Vt[k][f+v]===Kn.qs||this.Vt[k][f-v]===Kn.qs){w=!0;break}if(w)return Math.max(0,(2*v-1)*this.gi)}return l}maxAvoidsLinksSpaceV(e,n,o,l){if(e>this.za||n<this.re||o>this.Va||o<this.oe)return 0;const c=(e-this.re)/this.gi|0,h=(n-this.re)/this.gi|0,f=(o-this.oe)/this.di|0,g=l/this.di+1|0;let v;for(v=0;v<g/2;v++){let w=!1;for(let k=c;k<=h;k++)if(this.Vt[f+v][k]===Kn.qs||this.Vt[f-v][k]===Kn.qs){w=!0;break}if(w)return Math.max(0,(2*v-1)*this.di)}return l}FO(e,n,o,l,c,h,f,g){e=e|0,n=n|0;let v=this.Vt[e][n];if(v>=Kn.Xa&&v<Kn.Rd)for(l?n+=o:e+=o,v+=1;c<=e&&e<=h&&f<=n&&n<=g;){const w=this.Vt[e][n];if(v>=w)break;this.Vt[e][n]=v,v+=1,l?n+=o:e+=o}return l?n:e}ho(e,n,o,l,c,h,f,g){if(e<c||e>h||n<f||n>g)return;const v=this.FO(e,n,o,l,c,h,f,g);if(l)if(o>0)for(let w=n+o;w<v;w+=o)this.ho(e,w,1,!l,c,h,f,g),this.ho(e,w,-1,!l,c,h,f,g);else for(let w=n+o;w>v;w+=o)this.ho(e,w,1,!l,c,h,f,g),this.ho(e,w,-1,!l,c,h,f,g);else if(o>0)for(let w=e+o;w<v;w+=o)this.ho(w,n,1,!l,c,h,f,g),this.ho(w,n,-1,!l,c,h,f,g);else for(let w=e+o;w>v;w+=o)this.ho(w,n,1,!l,c,h,f,g),this.ho(w,n,-1,!l,c,h,f,g)}T1(e,n,o,l,c,h,f,g,v,w){let k=e|0,P=n|0,N=Kn.qs,F=Kn.Xa;for(this.Vt[k][P]=F;N===Kn.qs&&k>f&&k<g&&P>v&&P<w;)F+=1,this.Vt[k][P]=F,h?P+=c:k+=c,N=this.Vt[k][P];return h?P:k}D1(e,n,o,l,c,h,f,g,v,w){let k=o|0,P=l|0,N=Kn.qs;const F=Kn.Rd;for(this.Vt[k][P]=F;N===Kn.qs&&k>f&&k<g&&P>v&&P<w;)this.Vt[k][P]=F,h?P+=c:k+=c,N=this.Vt[k][P]}NT(e,n,o,l,c,h){this.by=!1;let f=e.x,g=e.y;if(!this.vd(f,g))return;f-=this.oe,f/=this.di,g-=this.re,g/=this.gi;let v=o.x,w=o.y;if(!this.vd(v,w))return;if(v-=this.oe,v/=this.di,w-=this.re,w/=this.gi,Math.abs(f-v)<=1&&Math.abs(g-w)<=1){this.by=!0;return}let k=c.x,P=c.y,N=c.x+c.width,F=c.y+c.height;k-=this.oe,k/=this.di,P-=this.re,P/=this.gi,N-=this.oe,N/=this.di,F-=this.re,F/=this.gi;const H=Math.max(0,Math.min(this.Ph,k|0)),V=Math.min(this.Ph,Math.max(0,N|0)),$=Math.max(0,Math.min(this.Sh,P|0)),K=Math.min(this.Sh,Math.max(0,F|0)),J=0,Q=90,ne=270,le=this.Vt,fe=f|0,we=g|0,ye=v|0,ge=w|0,me=n===J||n===Q?1:-1,ke=n===Q||n===ne;le[fe][we]===Kn.qs?(this.T1(fe,we,ye,ge,me,ke,H,V,$,K),this.T1(fe,we,ye,ge,1,!ke,H,V,$,K),this.T1(fe,we,ye,ge,-1,!ke,H,V,$,K)):this.T1(fe,we,ye,ge,me,ke,fe,we,fe,we),le[ye][ge]===Kn.qs?(this.D1(fe,we,ye,ge,l===J||l===Q?1:-1,l===Q||l===ne,H,V,$,K),this.D1(fe,we,ye,ge,1,!(l===Q||l===ne),H,V,$,K),this.D1(fe,we,ye,ge,-1,!(l===Q||l===ne),H,V,$,K)):this.D1(fe,we,ye,ge,me,ke,ye,ge,ye,ge);const Ce=t.et();if(h&&this.CT(ye,ge,l,fe,we,Ce)){(Ce[0]!==ye||Ce[1]!==ge)&&(Ce.unshift(ge),Ce.unshift(ye)),(Ce[Ce.length-2]!==fe||Ce[Ce.length-1]!==we)&&(Ce.push(fe),Ce.push(we));let Ie=Kn.Xa,Be=Ce[Ce.length-2],Xe=Ce[Ce.length-1];le[Be][Xe]=Ie++;for(let He=Ce.length-4;He>=0;He-=2){Be=Ce[He+2],Xe=Ce[He+3];const Ke=Ce[He],Et=Ce[He+1];for(;Ke>Be?Be++:Ke<Be?Be--:Et>Xe?Xe++:Et<Xe&&Xe--,le[Be][Xe]=Ie++,!(Be===Ke&&Xe===Et););}}else this.ho(fe,we,1,!1,H,V,$,K),this.ho(fe,we,-1,!1,H,V,$,K),this.ho(fe,we,1,!0,H,V,$,K),this.ho(fe,we,-1,!0,H,V,$,K);t.J(Ce)}CT(e,n,o,l,c,h){const f=this.Vt;let g=e,v=n;for(;;){if(g===l&&v===c)return!0;let w=g,k=v;if(o===0)if(w<l)w++;else break;else if(o===90)if(k<c)k++;else break;else if(o===180)if(w>l)w--;else break;else if(k>c)k--;else break;const P=f[w][k];if(P===0||P===Kn.kN)break;g=w,v=k}for(;;){let w=o,k=g,P=v;o===0?P<c?(w=90,P++):P>c&&(w=270,P--):o===90?k<l?(w=0,k++):k>l&&(w=180,k--):o===180?P<c?(w=90,P++):P>c&&(w=270,P--):k<l?(w=0,k++):k>l&&(w=180,k--);const N=f[k][P];if(w!==o&&N!==0&&N!==Kn.kN){if(h.push(g),h.push(v),this.CT(g,v,w,l,c,h))return!0;h.pop(),h.pop()}if(f[g][v]=Kn.kN,o===0){if(g===e)return!1;g--}else if(o===90){if(v===n)return!1;v--}else if(o===180){if(g===e)return!1;g++}else{if(v===n)return!1;v++}}}}class bo{Me;al;os;Od;constructor(e,n){b.Ki(this),this.Me=e,this.al=n,this.os=[],this.Od=!1}toString(){const e=this.os;let n=this.Me.toString()+" "+e.length.toString()+":";for(let o=0;o<e.length;o++){const l=e[o];l!==null&&(n+=`
  `+l.toString())}return n}RO(e,n,o,l){const c=n.offsetY;switch(c){case 8:return 90;case 2:return 180;case 1:return 270;case 4:return 0}let h=o;switch(c){case 9:return h>180?270:90;case 6:return h>90&&h<=270?180:0}const f=Math.atan2(e.height,e.width)*180/Math.PI;switch(c){case 3:return h>f&&h<=180+f?180:270;case 5:return h>180-f&&h<=360-f?270:0;case 12:return h>f&&h<=180+f?90:0;case 10:return h>180-f&&h<=360-f?180:90;case 7:return h>90&&h<=180+f?180:h>180+f&&h<=360-f?270:0;case 13:return h>180&&h<=360-f?270:h>f&&h<=180?90:0;case 14:return h>f&&h<=180-f?90:h>180-f&&h<=270?180:0;case 11:return h>180-f&&h<=180+f?180:h>180+f?270:90}return l&&c!==15&&(h-=15,h<0&&(h+=360)),h>f&&h<180-f?90:h>=180-f&&h<=180+f?180:h>180+f&&h<360-f?270:0}Sd(){this.os.length=0}ST(e){let n=this.os;n.length===0&&(this.vO(),n=this.os);for(let o=0;o<n.length;o++){const l=n[o];if(l!==null&&l.Ke===e)return l}return null}vO(){if(!this.Od){const e=this.Od;this.Od=!0;let n,o=null;const l=this.Me,c=l instanceof Xt?l:null;if(c!==null&&!c.isSubGraphExpanded){if(!c.actualBounds.isReal())return this.Od=e,this.os;o=c,n=o.findExternalLinksConnected()}else l.isTreeExpanded?n=l.findLinksConnected(this.al.portId):n=l.findExternalTreeLinksConnected();this.os.length=0;let h=0;const f=this.al.getDocumentPoint(L.TopLeft,T.l()),g=this.al.getDocumentPoint(L.BottomRight,T.l()),v=z.V(f.x,f.y,0,0);v.unionPoint(g),T.e(f),T.e(g);const w=T.V(v.x+v.width/2,v.y+v.height/2),k=this.al.getDocumentAngle(),P=n.iterator;for(;P.next();){const V=P.value;if(!V.isVisible()||V.fromPort===V.toPort)continue;const $=V.fromPort===this.al||V.fromNode!==null&&o!==null&&V.fromNode.isMemberOf(o),K=V.computeSpot($,this.al);if(!K.isSide())continue;let J;if($?J=V.toPort:J=V.fromPort,J===null)continue;let Q=J.part;if(Q===null)continue;const ne=Q.findVisibleNode();ne!==null&&ne!==Q&&(Q=ne,J=Q.port);const le=V.computeOtherPoint(Q,J);let fe=w.directionPoint(le);fe-=k,fe<0?fe+=360:fe>=360&&(fe-=360);const we=this.RO(v,K,fe,V.isOrthogonal);let ye=0;we===0?(ye=4,fe>180&&(fe-=360)):we===90?(ye=8,fe>270&&(fe-=360)):we===180?ye=2:(ye=1,fe<90&&(fe+=360));let ge=this.os[h];ge===void 0?(ge=new da(V,fe,ye),this.os[h]=ge):(ge.Ke=V,ge.Yt=fe,ge.me=ye),ge.F1.set(le),h++}T.e(w),this.OO();const N=this.os.length;let F=-1,H=0;for(h=0;h<N;h++){const V=this.os[h];V!==void 0&&(V.me!==F&&(F=V.me,H=0),V.Id=H,H++)}for(F=-1,H=0,h=N-1;h>=0;h--){const V=this.os[h];V!==void 0&&(V.me!==F&&(F=V.me,H=V.Id+1),V.Mf=H)}this.IO(this.os),this.EO(this.os),this.Od=e,z.e(v)}return this.os}UO(e,n){return e===n?0:e===null?-1:n===null?1:e.me<n.me?-1:e.me>n.me?1:e.Yt<n.Yt?-1:e.Yt>n.Yt?1:0}OO(){this.os.sort(bo.prototype.UO)}IO(e){const n=this.al,o=this.Me.portSpreading,l=T.l(),c=T.l(),h=T.l(),f=T.l();n.getDocumentPoint(L.TopLeft,l),n.getDocumentPoint(L.TopRight,c),n.getDocumentPoint(L.BottomRight,h),n.getDocumentPoint(L.BottomLeft,f);let g=0,v=0,w=0,k=0;if(o===2)for(let J=0;J<e.length;J++){const Q=e[J];if(Q===null)continue;const ne=Q.Ke.computeThickness();switch(Q.me){case 8:w+=ne;break;case 2:k+=ne;break;case 1:g+=ne;break;default:case 4:v+=ne;break}}let P=0,N=0,F=1,H=c,V=h,$=0,K=0;for(let J=0;J<e.length;J++){const Q=e[J];if(Q===null)continue;if(P!==Q.me){switch(P=Q.me,P){case 8:H=h,V=f;break;case 2:H=f,V=l;break;case 1:H=l,V=c;break;default:case 4:H=c,V=h;break}switch($=V.x-H.x,K=V.y-H.y,P){case 8:w>Math.abs($)?(F=Math.abs($)/w,w=Math.abs($)):F=1;break;case 2:k>Math.abs(K)?(F=Math.abs(K)/k,k=Math.abs(K)):F=1;break;case 1:g>Math.abs($)?(F=Math.abs($)/g,g=Math.abs($)):F=1;break;default:case 4:v>Math.abs(K)?(F=Math.abs(K)/v,v=Math.abs(K)):F=1;break}N=0}const ne=Q.Fd;if(o===2){let le=Q.Ke.computeThickness();switch(le*=F,ne.set(H),P){case 8:ne.x=H.x+$/2+w/2-N-le/2;break;case 2:ne.y=H.y+K/2+k/2-N-le/2;break;case 1:ne.x=H.x+$/2-g/2+N+le/2;break;default:case 4:ne.y=H.y+K/2-v/2+N+le/2;break}N+=le}else{let le=.5;o===1&&(le=(Q.Id+1)/(Q.Mf+1)),ne.x=H.x+$*le,ne.y=H.y+K*le}}T.e(l),T.e(c),T.e(h),T.e(f)}EO(e){for(let n=0;n<e.length;n++){const o=e[n];o!==null&&(o.L1=this.BO(o))}}BO(e){const n=e.Ke,o=n.fromPort===this.al,l=n.computeEndSegmentLength(this.Me,this.al,L.None,o);let c=e.Id;if(c<0)return l;const h=e.Mf;if(h<=1||!n.isOrthogonal)return l;const f=e.F1,g=e.Fd;(e.me===2||e.me===8)&&(c=h-1-c);const v=vt.hO,w=e.me===2||e.me===4;return(w?f.y<g.y:f.x<g.x)?l+c*v:(w?f.y===g.y:f.x===g.x)?l:l+(h-1-c)*v}}class da{Ke;Yt;me;F1;Id;Mf;Fd;L1;constructor(e,n,o){this.Ke=e,this.Yt=n,this.me=o,this.F1=new T,this.Id=0,this.Mf=0,this.Fd=new T,this.L1=0}toString(){return this.Ke.toString()+" "+this.Yt.toString()+" "+this.me.toString()+":"+this.Id.toString()+"/"+this.Mf.toString()+" "+this.Fd.toString()+" "+this.L1.toString()+" "+this.F1.toString()}}class Jr{ga;ma;pa;ya;wa;xa;v0;F0;O0;R0;constructor(){this.ga=L.Default,this.ma=L.Default,this.pa=NaN,this.ya=NaN,this.wa=NaN,this.xa=NaN,this.v0=null,this.F0=null,this.O0=1/0,this.R0=1/0}copy(){const e=new Jr;return e.ga=this.ga.P(),e.ma=this.ma.P(),e.pa=this.pa,e.ya=this.ya,e.wa=this.wa,e.xa=this.xa,e.v0=this.v0,e.F0=this.F0,e.O0=this.O0,e.R0=this.R0,e}}class Er{M0;N0;C0;S0;pp;yp;constructor(){this.M0=-1/0,this.N0=0,this.C0=T.xo,this.S0=0,this.pp="None",this.yp="None"}copy(){const e=new Er;return e.M0=this.M0,e.N0=this.N0,e.C0=this.C0.P(),e.S0=this.S0,e.pp=this.pp,e.yp=this.yp,e}}class Xt extends Lt{Ed;Ft;ca;l0;si;ie;constructor(e,n){let o;e===void 0||e instanceof Ln||typeof e=="string"?o=e:e&&(n=e),super(o),this.v=this.v|4608,this.Ed=new b,this.Ft=null,this.ie=new As,this.ie.group=this,this.ca=new b,this.l0=null,this.si=null,n&&Object.assign(this,n)}cloneProtected(e){super.cloneProtected(e),this.v=this.v&-32769;const n=e.findInVisualTree(o=>o instanceof us);n instanceof us?e.Ft=n:e.Ft=null,this.ie!==null?(e.ie=this.ie.copy(),e.ie.group=e):(e.ie!==null&&(e.ie.group=null),e.ie=null),this.si!==null&&(e.si=this.si.copy())}vo(e){super.vo(e);const n=e.findSubGraphParts(),o=e.memberParts;for(;o.next();){const l=o.value;if(l.c(),l.invalidateLayout(8),l.clearAdornments(),l instanceof Lt)l.invalidateConnectedLinks(n);else if(l instanceof vt){const c=l.labelNodes;for(;c.next();)c.value.invalidateConnectedLinks(n)}}}qc(e,n,o,l,c,h,f){if(e===3&&n==="elements"){if(c instanceof us)this.Ft===null?this.Ft=c:this.Ft!==c&&t.o("Cannot insert a second Placeholder into the visual tree of a Group.");else if(c instanceof Je){const g=c.findInVisualTree(v=>v instanceof us);g instanceof us&&(this.Ft===null?this.Ft=g:this.Ft!==g&&t.o("Cannot insert a second Placeholder into the visual tree of a Group."))}}else e===4&&n==="elements"&&this.Ft!==null&&(l===this.Ft?this.Ft=null:l instanceof Je&&this.Ft.isContainedBy(l)&&(this.Ft=null));super.qc(e,n,o,l,c,h,f)}Ju(e,n){if(super.Ju(e,n),this.isClipping&&this.type!==Je.Spot&&this.isSubGraphExpanded){let o=this.resizeObject;o instanceof Je&&(o=o.findMainElement()),this.si===null&&(this.si=new z),o.getDocumentBounds(this.si),o instanceof zt&&this.si.inflate(-o.strokeWidth,-o.strokeWidth)}}uh(e,n,o,l){this.hasPlaceholder()&&(this.Go=this.placeholder),super.uh(e,n,o,l)}ensureBounds(){this.isSubGraphExpanded&&this.memberParts.each(e=>{e.ensureBounds()}),super.ensureBounds()}Yr(){if(!super.Yr())return!1;const e=this.memberParts;for(;e.next();){const n=e.value;if(n instanceof Lt){if(!n.isVisible())continue;if(n._e())return!1}else if(n instanceof vt){if(!n.isVisible())continue;if(n._e()&&n.fromNode!==this&&n.toNode!==this)return!1}}return!0}hasPlaceholder(){return this.Ft!==null&&this.Ft.isVisibleObject()&&this.isSubGraphExpanded}get placeholder(){return this.Ft}get computesBoundsAfterDrag(){return(this.v&2048)!==0}set computesBoundsAfterDrag(e){const n=(this.v&2048)!==0;n!==e&&(this.v=this.v^2048,this.t("computesBoundsAfterDrag",n,e))}get computesBoundsIncludingLinks(){return(this.v&4096)!==0}set computesBoundsIncludingLinks(e){const n=(this.v&4096)!==0;n!==e&&(this.v=this.v^4096,this.t("computesBoundsIncludingLinks",n,e))}get computesBoundsIncludingLocation(){return(this.v&8192)!==0}set computesBoundsIncludingLocation(e){const n=(this.v&8192)!==0;n!==e&&(this.v=this.v^8192,this.t("computesBoundsIncludingLocation",n,e))}get handlesDragDropForMembers(){return(this.v&16384)!==0}set handlesDragDropForMembers(e){const n=(this.v&16384)!==0;n!==e&&(this.v=this.v^16384,this.t("handlesDragDropForMembers",n,e))}get avoidableMembers(){return(this.v&131072)!==0}set avoidableMembers(e){const n=(this.v&131072)!==0;n!==e&&(this.v=this.v^131072,this.t("avoidableMembers",n,e))}get memberParts(){return this.Ed.iterator}sN(e){if(this.Ed.add(e)){e instanceof Xt&&this.ca.add(e);const o=this.memberAdded;if(o!==null){let l=!0;const c=this.diagram;c!==null&&(l=c.X,c.X=!0),o(this,e),c!==null&&(c.X=l)}(!this.isVisible()||!this.isSubGraphExpanded)&&e.Ei(!1)}if(e instanceof vt&&!this.computesBoundsIncludingLinks)return;let n=this.Ft;n===null&&(n=this),n.c()}eN(e){if(this.Ed.delete(e)){e instanceof Xt&&this.ca.delete(e);const o=this.memberRemoved;if(o!==null){let l=!0;const c=this.diagram;c!==null&&(l=c.X,c.X=!0),o(this,e),c!==null&&(c.X=l)}(!this.isVisible()||!this.isSubGraphExpanded)&&e.Ei(!0)}if(e instanceof vt&&!this.computesBoundsIncludingLinks)return;let n=this.Ft;n===null&&(n=this),n.c()}Xc(){if(this.Ed.count>0){const e=this.diagram;if(e!==null){const n=this.Ed.copy().iterator;for(;n.next();){const o=n.value;e.remove(o)}}}super.Xc()}get layout(){return this.ie}set layout(e){const n=this.ie;if(n!==e){e!==null&&e.diagram!==null&&e.diagram.layout===e&&t.o("A layout cannot be both the Diagram.layout and a Group.layout: "+e),n!==null&&(n.diagram=null,n.group=null),this.ie=e;const o=this.diagram;e!==null&&(e.diagram=o,e.group=this),o!==null&&(o.Vr=!0),this.t("layout",n,e),o!==null&&o.requestUpdate()}}get memberAdded(){return this.Rt!==null?this.Rt.uy:null}set memberAdded(e){const n=this.memberAdded;n!==e&&(e!==null&&t.k(e,Xt,"memberAdded"),this.ll().uy=e,this.t("memberAdded",n,e))}get memberRemoved(){return this.Rt!==null?this.Rt.gy:null}set memberRemoved(e){const n=this.memberRemoved;n!==e&&(e!==null&&t.k(e,Xt,"memberRemoved"),this.ll().gy=e,this.t("memberRemoved",n,e))}get memberValidation(){return this.Rt!==null?this.Rt.nh:null}set memberValidation(e){const n=this.memberValidation;n!==e&&(e!==null&&t.k(e,Xt,"memberValidation"),this.ll().nh=e,this.t("memberValidation",n,e))}canAddMembers(e){const n=this.diagram;if(n===null)return!1;const o=n.commandHandler,l=o.m2(e).iterator;for(;l.next();){const c=l.value;if(!o.isValidMember(this,c))return!1}return!0}addMembers(e,n){const o=this.diagram;if(o===null)return!1;const l=o.commandHandler,c=l.m2(e);let h=!0;const f=c.iterator;for(;f.next();){const g=f.value;!n||l.isValidMember(this,g)?g.containingGroup=this:h=!1}return h}get ungroupable(){return(this.v&256)!==0}set ungroupable(e){const n=(this.v&256)!==0;n!==e&&(this.v=this.v^256,this.t("ungroupable",n,e))}canUngroup(){if(!this.ungroupable)return!1;const e=this.layer;if(e===null||!e.allowUngroup)return!1;const n=e.diagram;return!(n!==null&&!n.allowUngroup)}invalidateConnectedLinks(e){const n=this.VO();if(super.invalidateConnectedLinks(e),n)return;this.XL(!0);const o=this.findExternalLinksConnected();for(;o.next();){const l=o.value;if(e!==void 0&&e.has(l))continue;const c=l.fromNode;if(c!==null&&c!==this&&c.isMemberOf(this)&&!c.isVisible())c.qi(l.fromPort),c.qi(l.toPort),l.invalidateRoute();else{const h=l.toNode;h!==null&&h!==this&&h.isMemberOf(this)&&!h.isVisible()&&(h.qi(l.fromPort),h.qi(l.toPort),l.invalidateRoute())}}}findExternalLinksConnected(){const e=this.diagram!==null&&this.diagram.MM;if(e&&this.l0!==null)return this.l0.iterator;const n=this.findSubGraphParts();n.add(this);const o=new b,l=n.iterator;for(;l.next();){const c=l.value;if(!(c instanceof Lt))continue;const h=c.linksConnected;for(;h.next();){const f=h.value;n.has(f)||o.add(f)}}return e&&(this.l0=o),o.iterator}findExternalNodesConnected(){const e=this.findSubGraphParts();e.add(this);const n=new b,o=e.iterator;for(;o.next();){const l=o.value;if(!(l instanceof Lt))continue;const c=l.linksConnected;for(;c.next();){const h=c.value,f=h.fromNode;f!==null&&(!e.has(f)||f===this)&&n.add(f);const g=h.toNode;g!==null&&(!e.has(g)||g===this)&&n.add(g)}}return n.iterator}vE(){function e(o,l){o!==null&&(l.add(o),e(o.containingGroup,l))}const n=new b;return e(this,n),n}findSubGraphParts(){const e=new b;return Pn.oh(e,this,!0,0,!0),e.delete(this),e}Ei(e){super.Ei(e);const n=this.memberParts;for(;n.next();)n.value.Ei(e)}collapseSubGraph(){const e=this.diagram;if(e===null||e.isCollapsingExpanding)return;e.isCollapsingExpanding=!0;const n=this.findSubGraphParts();this.LT(n,e,this),e.isCollapsingExpanding=!1}LT(e,n,o){const l=this.memberParts;for(;l.next();){const c=l.value;if(c.Ei(!1),c instanceof Xt&&c.isSubGraphExpanded&&(c.wasSubGraphExpanded=c.isSubGraphExpanded,c.LT(e,n,o)),c instanceof Lt)c.invalidateConnectedLinks(e),n.Lc(c,o);else if(c instanceof vt){const h=c.labelNodes;for(;h.next();)h.value.invalidateConnectedLinks(e)}}this.isSubGraphExpanded=!1}expandSubGraph(){const e=this.diagram;if(e===null||e.isCollapsingExpanding)return;e.isCollapsingExpanding=!0;const n=this.findSubGraphParts();this.AT(n,e,this),e.isCollapsingExpanding=!1}AT(e,n,o){const l=this.memberParts;for(;l.next();){const c=l.value;if(c.Ei(!0),c instanceof Xt&&c.wasSubGraphExpanded&&(c.wasSubGraphExpanded=!1,c.AT(e,n,o)),c instanceof Lt)c.invalidateConnectedLinks(e);else if(c instanceof vt){const h=c.labelNodes;for(;h.next();)h.value.invalidateConnectedLinks(e)}}this.isSubGraphExpanded=!0}get isSubGraphExpanded(){return(this.v&512)!==0}set isSubGraphExpanded(e){const n=(this.v&512)!==0;if(n!==e){this.v=this.v^512;const o=this.diagram;this.t("isSubGraphExpanded",n,e);const l=this.subGraphExpandedChanged;if(l!==null){let c=!0;o!==null&&(c=o.X,o.X=!0),l(this),o!==null&&(o.X=c)}if(o!==null&&o.undoManager.isUndoingRedoing){this.Ft!==null&&this.Ft.c(),this.memberParts.each(c=>c.updateAdornments());return}e?this.expandSubGraph():this.collapseSubGraph()}}get wasSubGraphExpanded(){return(this.v&1024)!==0}set wasSubGraphExpanded(e){const n=(this.v&1024)!==0;n!==e&&(this.v=this.v^1024,this.t("wasSubGraphExpanded",n,e))}get subGraphExpandedChanged(){return this.Rt!==null?this.Rt.my:null}set subGraphExpandedChanged(e){const n=this.subGraphExpandedChanged;n!==e&&(e!==null&&t.k(e,Xt,"subGraphExpandedChanged"),this.ll().my=e,this.t("subGraphExpandedChanged",n,e))}move(e,n){n===void 0&&(n=!1);const o=n?this.location:this.position,l=o.x,c=o.y,h=e.x,f=e.y;if((l===h||isNaN(l)&&isNaN(h))&&(c===f||isNaN(c)&&isNaN(f)))return;const g=h-(isNaN(l)?0:l),v=f-(isNaN(c)?0:c),w=T.l();super.move(e,n);const k=new b,P=this.findSubGraphParts().iterator;for(;P.next();){const N=P.value;N instanceof vt&&(N.suspendsRouting&&k.add(N),!(!N.Se&&(N.fromNode===this||N.toNode===this))&&(N.suspendsRouting=!0))}for(P.reset();P.next();){const N=P.value;if(N.Cl()||N instanceof Lt&&N.isLinkLabel)continue;const F=N.position,H=N.location;F.isReal()?(w.x=F.x+g,w.y=F.y+v,N.position=w):H.isReal()&&(w.x=H.x+g,w.y=H.y+v,N.location=w)}for(P.reset();P.next();){const N=P.value;if(!(N instanceof vt)||(N.suspendsRouting=k.has(N),!N.Se&&(N.fromNode===this||N.toNode===this)))continue;const F=N.position;w.x=F.x+g,w.y=F.y+v,w.isReal()?N.move(w):N.invalidateRoute()}T.e(w)}VO(){return(this.v&65536)!==0}XL(e){(this.v&65536)!==0!==e&&(this.v=this.v^65536)}get fa(){return(this.v&32768)!==0}set fa(e){(this.v&32768)!==0!==e&&(this.v=this.v^32768)}}class us extends Wt{Zt;Ud;constructor(e){super(),this.Zt=W.Rg,this.Ud=new z(NaN,NaN,NaN,NaN),e&&Object.assign(this,e)}cloneProtected(e){super.cloneProtected(e),e.Zt=this.Zt.P(),e.Ud=this.Ud.copy()}fh(e){if(this.background===null)return!1;const n=this.naturalBounds;return z.contains(0,0,n.width,n.height,e.x,e.y)}Wu(e,n,o,l){const c=this.part;if((c===null||!(c instanceof Xt)&&!(c instanceof gn))&&t.o("Placeholder is not inside a Group or Adornment."),c instanceof Xt){const h=this.computeBorder(this.Ud),f=this.minSize,g=isFinite(f.width)?Math.max(f.width,h.width):h.width,v=isFinite(f.height)?Math.max(f.height,h.height):h.height,w=this.zi;w.Fn(g||0,v||0),this.Wn(0,0,w.width,w.height);const k=c.memberParts;let P=!1;for(;k.next();)if(k.value.isVisible()){P=!0;break}const N=c.diagram;if(P&&N!==null&&!N.animationManager.US(c)&&!isNaN(h.x)&&!isNaN(h.y)){const F=T.l();F.setRectSpot(h,c.locationSpot),c.location=F,T.e(F)}}else{const h=c,f=this.zi,g=this.Zt,v=g.left+g.right,w=g.top+g.bottom,k=h.adornedObject,P=k.getDocumentAngle();h.angle=P;let N=0;k instanceof zt&&(N=k.strokeWidth);const F=k.getDocumentScale(),H=k.naturalBounds,V=(H.width+N)*F,$=(H.height+N)*F;if(h.type!==Je.Link){const K=h.category==="Selection"?L.TopLeft:h.locationSpot,J=k.getDocumentPoint(K,T.l());h.location=J,T.e(J)}if(!isNaN(V)&&!isNaN($))f.Fn(V+v||0,$+w||0),this.Wn(-g.left,-g.top,f.width,f.height);else{const K=k.getDocumentPoint(L.TopLeft,T.l()),J=z.V(K.x,K.y,0,0);J.unionPoint(k.getDocumentPoint(L.BottomRight,K)),J.unionPoint(k.getDocumentPoint(L.TopRight,K)),J.unionPoint(k.getDocumentPoint(L.BottomLeft,K)),f.Fn(J.width+v||0,J.height+w||0),this.Wn(-g.left,-g.top,f.width,f.height),T.e(K),z.e(J)}}}uh(e,n,o,l){this.actualBounds.i(e,n,o,l)}computeBorder(e){const n=this.part,o=n.diagram,l=o===null||!o.animationManager.isAnimating;if(o!==null&&n instanceof Xt&&!n.layer.isTemporary&&n.computesBoundsAfterDrag&&this.Ud.isReal()){const g=o.toolManager.findTool("Dragging");if(g===o.currentTool){const v=g.computeBorder(n,this.Ud,e);if(v!==null)return v}}const c=z.l(),h=this.computeMemberBounds(c),f=this.Zt;return n instanceof Xt&&!n.isSubGraphExpanded?e.i(h.x-f.left,h.y-f.top,0,0):e.i(h.x-f.left,h.y-f.top,Math.max(h.width+f.left+f.right,0),Math.max(h.height+f.top+f.bottom,0)),z.e(c),l&&n instanceof Xt&&n.computesBoundsIncludingLocation&&n.location.isReal()&&e.unionPoint(n.location),e}computeMemberBounds(e){if(!(this.part instanceof Xt))return e.i(0,0,0,0),e;const n=this.part;let o=1/0,l=1/0,c=-1/0,h=-1/0;const f=n.memberParts;for(;f.next();){const g=f.value;if(!g.isVisible()||g instanceof vt&&(!n.computesBoundsIncludingLinks||g.To()||g.fromNode===n||g.toNode===n))continue;const v=g.actualBounds;v.left<o&&(o=v.left),v.top<l&&(l=v.top),v.right>c&&(c=v.right),v.bottom>h&&(h=v.bottom)}if(!isFinite(o)||!isFinite(l)){const g=n.location;e.i(g.x,g.y,0,0)}else e.i(o,l,c-o,h-l);return e}get padding(){return this.Zt}set padding(e){typeof e=="number"&&(e=new W(e));const n=this.Zt;n.equals(e)||(e=e.P(),this.Zt=e,this.t("padding",n,e),this.c())}}class As{N;ua;Bd;wr;Vd;zd;Co;cl;Xd;Yd;ao;constructor(e){b.Ki(this),this.N=null,this.ua=null,this.Bd=!0,this.wr=!0,this.Vd=!1,this.zd=new T(0,0).u(),this.Co=!0,this.cl=null,this.Xd=null,this.Yd=!1,this.ao=null,e&&Object.assign(this,e)}cloneProtected(e){e.Bd=this.Bd,e.wr=this.wr,e.Vd=this.Vd,e.zd.a(this.zd),e.Co=this.Co,e.cl=this.cl,e.Xd=this.Xd,e.Yd=!0}copy(){const e=new this.constructor;return this.cloneProtected(e),e}oi(e){}toString(){let e=t.Dn(this.constructor);return e+="(",this.group!==null&&(e+=" in "+this.group),this.diagram!==null&&(e+=" for "+this.diagram),e+=")",e}get diagram(){return this.N}set diagram(e){this.N=e}get group(){return this.ua}set group(e){this.ua!==e&&(this.ua=e,e!==null&&(this.N=e.diagram))}get isOngoing(){return this.Bd}set isOngoing(e){this.Bd!==e&&(t.s(e,"boolean",As,"isOngoing"),this.Bd=e)}get isInitial(){return this.wr}set isInitial(e){t.s(e,"boolean",As,"isInitial"),this.wr=e,e||(this.Yd=!0)}get isViewportSized(){return this.Vd}set isViewportSized(e){this.Vd!==e&&(t.s(e,"boolean",As,"isViewportSized"),this.Vd=e,e&&this.invalidateLayout())}get isRouting(){return this.Co}set isRouting(e){this.Co!==e&&(t.s(e,"boolean",As,"isRouting"),this.Co=e)}get isRealtime(){return this.cl}set isRealtime(e){this.cl!==e&&(e!==null&&t.s(e,"boolean",As,"isRealtime"),this.cl=e)}get isValidLayout(){return this.Yd}set isValidLayout(e){if(this.Yd!==e&&(t.s(e,"boolean",As,"isValidLayout"),this.Yd=e,!e)){const n=this.diagram;n!==null&&(n.Vr=!0)}}invalidateLayout(){if(this.isValidLayout){const e=this.diagram;if(e===null||e.undoManager.isUndoingRedoing)return;const n=e.animationManager;if(n.isTicking)return;n.defaultAnimation.isAnimating&&n.stopAnimation(),(this.isOngoing&&e.Vh||this.isInitial&&!e.Vh)&&(this.isValidLayout=!1,e.requestUpdate())}}get network(){return this.ao}set network(e){this.ao!==e&&(this.ao=e,e!==null&&(e.layout=this))}createNetwork(){return new Go(this)}makeNetwork(e){const n=this.createNetwork();return e instanceof Te?(n.addParts(e.nodes,!0),n.addParts(e.links,!0)):e instanceof Xt?n.addParts(e.memberParts):n.addParts(e.iterator),n}updateParts(){this.isValidLayout=!0;let e=this.diagram;if(e===null&&this.network!==null){const n=this.network.vertexes.iterator;for(;n.next();){const o=n.value.node;if(o!==null&&(e=o.diagram,e!==null))break}}try{e!==null&&e.startTransaction("Layout"),this.commitLayout()}finally{e!==null&&e.commitTransaction("Layout")}}commitLayout(){if(this.network===null)return;const e=this.network.vertexes.iterator;for(;e.next();)e.value.commit();if(this.isRouting){const n=this.network.edges.iterator;for(;n.next();)n.value.commit()}}doLayout(e){const n=new b;if(e instanceof Te?(this.Mh(n,e.nodes,!0,this.fa,!0,!1,!0),this.Mh(n,e.parts,!0,this.fa,!0,!1,!0)):e instanceof Xt?this.Mh(n,e.memberParts,!1,this.fa,!0,!1,!0):n.addAll(e.iterator),n.count>0){const o=this.diagram;o!==null&&o.startTransaction("Layout"),this.doMinimalNoNetworkLayout(n),o!==null&&o.commitTransaction("Layout")}this.isValidLayout=!0}doMinimalNoNetworkLayout(e){const n=e.count,o=Math.ceil(Math.sqrt(n));this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);const l=this.arrangementOrigin.x,c=this.arrangementOrigin.y;let h=l,f=c,g=0,v=0;const w=e.iterator;for(;w.next();){const k=w.value;k.ensureBounds();const P=k.measuredBounds,N=P.width,F=P.height;k.moveTo(h,f),k instanceof Xt&&(k.fa=!1),h+=Math.max(N,50)+20,v=Math.max(v,Math.max(F,50)),g>=o-1?(g=0,h=l,f+=v+20,v=0):g++}}fa(e){return!!(!e.location.isReal()&&!e.position.isReal()||e instanceof Xt&&e.fa)}Mh(e,n,o,l,c,h,f){const g=n.iterator;for(;g.next();){const v=g.value;if(!(o&&!v.isTopLevel)&&!(l!==null&&!l(v))&&v.canLayout())if(c&&v instanceof Lt){if(v.isLinkLabel)continue;v instanceof Xt&&v.layout===null?this.Mh(e,v.memberParts,!1,l,c,h,f):(v.ensureBounds(),e.add(v))}else h&&v instanceof vt?e.add(v):f&&v.ke()&&!(v instanceof Lt)&&(v.ensureBounds(),e.add(v))}}getLayoutBounds(e,n){const o=this.boundsComputation;return o!==null?(n||(n=new z),o(e,this,n)):!n&&e.margin.equalTo(0,0,0,0)?e.actualBounds:(n||(n=new z),n.set(e.actualBounds),n.addMargin(e.margin),n)}get boundsComputation(){return this.Xd}set boundsComputation(e){this.Xd!==e&&(e!==null&&t.k(e,As,"boundsComputation"),this.Xd=e,this.invalidateLayout())}collectParts(e){const n=new b;return e instanceof Te?(this.Mh(n,e.nodes,!0,null,!0,!0,!0),this.Mh(n,e.links,!0,null,!0,!0,!0),this.Mh(n,e.parts,!0,null,!0,!0,!0)):e instanceof Xt?this.Mh(n,e.memberParts,!1,null,!0,!0,!0):this.Mh(n,e.iterator,!1,null,!0,!0,!0),n}get arrangementOrigin(){return this.zd}set arrangementOrigin(e){this.zd.equals(e)||(this.zd.a(e),this.invalidateLayout())}initialOrigin(e){const n=this.group;if(n!==null)if(n.hasPlaceholder()){const o=n.placeholder,l=o.getDocumentPoint(L.TopLeft);(isNaN(l.x)||isNaN(l.y))&&l.set(e);const c=o.padding;return l.x+=c.left,l.y+=c.top,l}else{const o=n.position.copy();return(isNaN(o.x)||isNaN(o.y))&&o.set(e),o}return e}}class Go{ie;co;bn;ky;Py;constructor(e){b.Ki(this),this.ie=e,this.co=new b,this.bn=new b,this.ky=new _,this.Py=new _}clear(){if(this.co){const e=this.co.iterator;for(;e.next();)e.value.clear()}if(this.bn){const e=this.bn.iterator;for(;e.next();)e.value.clear()}this.co=new b,this.bn=new b,this.ky=new _,this.Py=new _}toString(e){e===void 0&&(e=0);let n="LayoutNetwork"+(this.layout!==null?"("+this.layout.toString()+")":"");if(e<=0)return n;if(n+=" vertexes: "+this.co.count+" edges: "+this.bn.count,e>1){const o=this.co.iterator;for(;o.next();){const c=o.value;n+=`
    `+c.toString(e-1)}const l=this.bn.iterator;for(;l.next();){const c=l.value;n+=`
    `+c.toString(e-1)}}return n}get layout(){return this.ie}set layout(e){e!==null&&(this.ie=e)}get vertexes(){return this.co}get edges(){return this.bn}createVertex(){return new Nr(this)}createEdge(){return new dl(this)}addParts(e,n,o){if(e===null)return;n===void 0&&(n=!1),t.s(n,"boolean",Go,"addParts:toplevelonly"),o===void 0&&(o=null),o===null&&(o=c=>{if(c instanceof Lt)return!c.isLinkLabel;if(c instanceof vt){const h=c.fromNode;if(h===null||h.isLinkLabel)return!1;const f=c.toNode;return!(f===null||f.isLinkLabel)}return!1});const l=e.iterator;for(;l.next();){const c=l.value;if(c instanceof Lt&&!(n&&!c.isTopLevel)&&c.canLayout()&&o(c))if(c instanceof Xt&&c.layout===null)this.addParts(c.memberParts,!1);else{if(this.findVertex(c)!==null)continue;const h=this.createVertex();h.node=c,this.addVertex(h)}}for(l.reset();l.next();){const c=l.value;if(!(c instanceof vt)||n&&!c.isTopLevel||!c.canLayout()||!o(c)||this.findEdge(c)!==null)continue;const h=c.fromNode,f=c.toNode;if(h===null||f===null||h===f)continue;const g=this.findGroupVertex(h),v=this.findGroupVertex(f);this.linkVertexes(g,v,c)}}findGroupVertex(e){const n=e.findVisibleNode();if(n===null)return null;let o=this.findVertex(n);if(o!==null)return o;let l=n.containingGroup;for(;l!==null;){if(o=this.findVertex(l),o!==null)return o;l=l.containingGroup}return null}addVertex(e){this.co.add(e);const n=e.node;n!==null&&this.ky.set(n,e),e.network=this}addNode(e){let n=this.findVertex(e);return n===null&&(n=this.createVertex(),n.node=e,this.addVertex(n)),n}deleteVertex(e){if(this.TT(e)){let n=e.Ho;for(let o=n.count-1;o>=0;o--){const l=n.elt(o);this.deleteEdge(l)}n=e.qo;for(let o=n.count-1;o>=0;o--){const l=n.elt(o);this.deleteEdge(l)}}}TT(e){const n=this.co.delete(e);if(n){const o=e.node;o!==null&&this.ky.delete(o)}return n}deleteNode(e){const n=this.findVertex(e);n!==null&&this.deleteVertex(n)}findVertex(e){return this.ky.get(e)}addEdge(e){this.PN(e);const n=e.toVertex;n!==null&&n.addSourceEdge(e);const o=e.fromVertex;o!==null&&o.addDestinationEdge(e)}PN(e){this.bn.add(e);const n=e.link;n!==null&&this.findEdge(n)===null&&this.Py.set(n,e),e.network=this}addLink(e){const n=e.fromNode,o=e.toNode;let l=this.findEdge(e);return l===null?(l=this.createEdge(),l.link=e,n!==null&&(l.fromVertex=this.addNode(n)),o!==null&&(l.toVertex=this.addNode(o)),this.addEdge(l)):(n!==null?l.fromVertex=this.addNode(n):l.fromVertex=null,o!==null?l.toVertex=this.addNode(o):l.toVertex=null),l}deleteEdge(e){const n=e.toVertex;n!==null&&n.deleteSourceEdge(e);const o=e.fromVertex;o!==null&&o.deleteDestinationEdge(e),this.SN(e)}SN(e){const n=this.bn.delete(e);if(n){const o=e.link;o!==null&&this.Py.delete(o)}return n}deleteLink(e){const n=this.findEdge(e);n!==null&&this.deleteEdge(n)}findEdge(e){return this.Py.get(e)}linkVertexes(e,n,o){if(e===null||n===null)return null;if(e.network===this&&n.network===this){const l=this.createEdge();return l.link=o,l.fromVertex=e,l.toVertex=n,this.addEdge(l),l}return null}reverseEdge(e){const n=e.fromVertex,o=e.toVertex;n===null||o===null||(n.deleteDestinationEdge(e),o.deleteSourceEdge(e),e.reverseEdge(),n.addSourceEdge(e),o.addDestinationEdge(e))}deleteSelfEdges(){const e=t.et(),n=this.bn.iterator;for(;n.next();){const l=n.value;l.fromVertex===l.toVertex&&e.push(l)}const o=e.length;for(let l=0;l<o;l++)this.deleteEdge(e[l]);t.J(e)}deleteArtificialVertexes(){const e=t.et(),n=this.co.iterator;for(;n.next();){const h=n.value;h.node===null&&h.data===null&&e.push(h)}let o=e.length;for(let h=0;h<o;h++)this.deleteVertex(e[h]);const l=t.et(),c=this.bn.iterator;for(;c.next();){const h=c.value;h.link===null&&h.data===null&&l.push(h)}o=l.length;for(let h=0;h<o;h++)this.deleteEdge(l[h]);t.J(e),t.J(l)}deleteUselessEdges(){const e=t.et(),n=this.bn.iterator;for(;n.next();){const l=n.value;(l.fromVertex===null||l.toVertex===null)&&e.push(l)}const o=e.length;for(let l=0;l<o;l++)this.deleteEdge(e[l]);t.J(e)}isSingleton(e){return!(e.Ho.count>0||e.qo.count>0)}splitIntoSubNetworks(e){e===void 0&&(e=!0),e&&(this.deleteArtificialVertexes(),this.deleteUselessEdges(),this.deleteSelfEdges());const n=new m;let o=!0;for(;o;){o=!1;const l=this.co.iterator;for(;l.next();){const c=l.value;if(this.isSingleton(c))continue;const h=this.layout.createNetwork();n.add(h),this.zO(h,c),o=!0;break}}return n.sort((l,c)=>l===null||c===null||l===c?0:c.vertexes.count-l.vertexes.count),n}zO(e,n){if(n===null)return;const o=new m;for(o.add(n);o.count>0;){const l=o.first();if(o.removeAt(0),!l||l.network===e)continue;this.TT(l),e.addVertex(l);let c=l.sourceEdges;for(;c.next();){const h=c.value;h.network!==e&&(this.SN(h),e.PN(h),h.fromVertex&&o.add(h.fromVertex))}for(c=l.destinationEdges;c.next();){const h=c.value;h.network!==e&&(this.SN(h),e.PN(h),h.toVertex&&o.add(h.toVertex))}}}findAllParts(){const e=new b,n=this.co.iterator;for(;n.next();){const l=n.value;l.node&&e.add(l.node)}const o=this.bn.iterator;for(;o.next();){const l=o.value;l.link&&e.add(l.link)}return e}}class Nr{ao;_t;Me;Le;je;Ho;qo;constructor(e){b.Ki(this),this.ao=e,this.Le=new z(0,0,10,10).u(),this.je=new T(5,5).u(),this._t=null,this.Me=null,this.Ho=new m,this.qo=new m}clear(){this._t=null,this.Me=null,this.Ho=new m,this.qo=new m}toString(e){e===void 0&&(e=0);let n="LayoutVertex#"+b.as(this);if(e>0&&(n+=this.node!==null?"("+this.node.toString()+")":"",e>1)){let o="",l=!0,c=this.Ho.iterator;for(;c.next();){const f=c.value;l?l=!1:o+=",",o+=f.toString(0)}let h="";for(l=!0,c=this.qo.iterator;c.next();){const f=c.value;l?l=!1:h+=",",h+=f.toString(0)}n+=" sources: "+o+" destinations: "+h}return n}get fo(){return this.Ho.uC}get Wo(){return this.qo.uC}get data(){return this._t}set data(e){if(this._t=e,e!==null&&e.bounds){const n=e.bounds,o=n.x,l=n.y,c=n.width,h=n.height;this.je.i(c/2,h/2),this.Le.i(o,l,c,h)}}get node(){return this.Me}set node(e){if(this.Me!==e){if(this.Me=e,e===null)return;e.ensureBounds();const n=this.network.layout,o=z.l(),l=n.getLayoutBounds(e,o);let c=l.x,h=l.y;const f=l.width,g=l.height;if(isNaN(c)&&(c=0),isNaN(h)&&(h=0),this.Le.i(c,h,f,g),z.e(o),!(e instanceof Xt)){const v=e.locationObject.getDocumentPoint(L.Center);if(v.isReal()){this.je.i(v.x-c,v.y-h);return}}this.je.i(f/2,g/2)}}get bounds(){return this.Le}set bounds(e){this.Le.equals(e)||this.Le.a(e)}get focus(){return this.je}set focus(e){this.je.equals(e)||this.je.a(e)}get centerX(){return this.Le.x+this.je.x}set centerX(e){const n=this.Le;n.x+this.je.x!==e&&(n.Nt(),n.x=e-this.je.x,n.u())}get centerY(){return this.Le.y+this.je.y}set centerY(e){const n=this.Le;n.y+this.je.y!==e&&(n.Nt(),n.y=e-this.je.y,n.u())}get focusX(){return this.je.x}set focusX(e){const n=this.je;n.x!==e&&(n.Nt(),n.x=e,n.u())}get focusY(){return this.je.y}set focusY(e){const n=this.je;n.y!==e&&(n.Nt(),n.y=e,n.u())}get x(){return this.Le.x}set x(e){const n=this.Le;n.x!==e&&(n.Nt(),n.x=e,n.u())}get y(){return this.Le.y}set y(e){const n=this.Le;n.y!==e&&(n.Nt(),n.y=e,n.u())}get width(){return this.Le.width}set width(e){const n=this.Le;n.width!==e&&(n.Nt(),n.width=e,n.u())}get height(){return this.Le.height}set height(e){const n=this.Le;n.height!==e&&(n.Nt(),n.height=e,n.u())}commit(){const e=this._t;if(e!==null){const o=this.bounds,l=e.bounds;t.G(l)?(l.x=o.x,l.y=o.y,l.width=o.width,l.height=o.height):e.bounds=o.copy();return}const n=this.node;if(n!==null){const o=this.bounds;if(!(n instanceof Xt)){const l=z.l();n.ensureBounds();const c=this.network.layout.getLayoutBounds(n,l),h=n.locationObject.getDocumentPoint(L.Center);if(c.isReal()&&h.isReal()){n.moveTo(o.x+this.focusX-(h.x-c.x)+n.margin.left,o.y+this.focusY-(h.y-c.y+n.margin.top)),z.e(l);return}z.e(l)}n.moveTo(o.x+n.margin.left,o.y+n.margin.top)}}addSourceEdge(e){e!==null&&(this.Ho.has(e)||this.Ho.add(e))}deleteSourceEdge(e){e!==null&&this.Ho.delete(e)}addDestinationEdge(e){e!==null&&(this.qo.has(e)||this.qo.add(e))}deleteDestinationEdge(e){e!==null&&this.qo.delete(e)}get network(){return this.ao}set network(e){this.ao=e}get sourceVertexes(){const e=new b,n=this.sourceEdges;for(;n.next();){const o=n.value;o.fromVertex&&e.add(o.fromVertex)}return e.iterator}get destinationVertexes(){const e=new b,n=this.destinationEdges;for(;n.next();){const o=n.value;o.toVertex&&e.add(o.toVertex)}return e.iterator}get vertexes(){const e=new b;let n=this.sourceEdges;for(;n.next();){const o=n.value;o.fromVertex&&e.add(o.fromVertex)}for(n=this.destinationEdges;n.next();){const o=n.value;o.toVertex&&e.add(o.toVertex)}return e.iterator}get sourceEdges(){return this.Ho.iterator}get destinationEdges(){return this.qo.iterator}get edges(){const e=new m;let n=this.sourceEdges;for(;n.next();){const o=n.value;e.add(o)}for(n=this.destinationEdges;n.next();){const o=n.value;e.add(o)}return e.iterator}get edgesCount(){return this.Ho.count+this.qo.count}static standardComparer(e,n){const o=e.Me,l=n.Me;if(o)if(l){const c=o.text,h=l.text;return c<h?-1:c>h?1:0}else return 1;else return l!==null?-1:0}static smartComparer(e,n){if(e!==null)if(n!==null){const o=e.Me,l=n.Me;if(o!==null)if(l!==null){const c=o.text.toLocaleLowerCase(),h=l.text.toLocaleLowerCase(),f=c.split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/),g=h.split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/);let v=0;for(;v<f.length;v++)if(g[v]!==""&&g[v]!==void 0){const w=parseFloat(f[v]),k=parseFloat(g[v]);if(isNaN(w))if(isNaN(k)){if(f[v].localeCompare(g[v])!==0)return f[v].localeCompare(g[v]);continue}else return 1;else{if(isNaN(k))return-1;if(w-k!==0)return w-k;continue}}else{if(f[v]==="")continue;return 1}return g[v]!==""&&g[v]!==void 0?-1:0}else return 1;else return l!==null?-1:0}else return 1;else return n!==null?-1:0}}class dl{ao;_t;Ke;He;qe;constructor(e){b.Ki(this),this.ao=e,this._t=null,this.Ke=null,this.He=null,this.qe=null}clear(){this._t=null,this.Ke=null,this.He=null,this.qe=null}toString(e){e===void 0&&(e=0);let n="LayoutEdge#"+b.as(this);return e>0&&(n+=this.Ke!==null?"("+this.Ke.toString()+")":"",e>1&&(n+=" "+(this.He?this.He.toString():"null")+" --> "+(this.qe?this.qe.toString():"null"))),n}reverseEdge(){const e=this.He;this.He=this.qe,this.qe=e}commit(){}getOtherVertex(e){return this.qe===e?this.He:this.He===e?this.qe:null}get network(){return this.ao}set network(e){this.ao=e}get data(){return this._t}set data(e){this._t!==e&&(this._t=e)}get link(){return this.Ke}set link(e){this.Ke!==e&&(this.Ke=e)}get fromVertex(){return this.He}set fromVertex(e){this.He!==e&&(this.He=e)}get toVertex(){return this.qe}set toVertex(e){this.qe!==e&&(this.qe=e)}}var fu=(G=>(G[G.Position=0]="Position",G[G.Location=1]="Location",G))(fu||{}),fl=(G=>(G[G.LeftToRight=10]="LeftToRight",G[G.RightToLeft=11]="RightToLeft",G))(fl||{}),pu=(G=>(G[G.Forwards=20]="Forwards",G[G.Reverse=21]="Reverse",G[G.Ascending=22]="Ascending",G[G.Descending=23]="Descending",G))(pu||{});class gu extends As{Gd;Kd;Po;kn;hi;Xi;pe;ye;constructor(e){super(),this.isViewportSized=!0,this.Gd=NaN,this.Kd=NaN,this.Po=new B(NaN,NaN).u(),this.kn=new B(10,10).u(),this.hi=1,this.Xi=10,this.pe=22,this.ye=gu.standardComparer,e&&Object.assign(this,e)}cloneProtected(e){super.cloneProtected(e),e.Gd=this.Gd,e.Kd=this.Kd,e.Po.a(this.Po),e.kn.a(this.kn),e.hi=this.hi,e.Xi=this.Xi,e.pe=this.pe,e.ye=this.ye}oi(e){e in pu?this.sorting=e:e in fl?this.arrangement=e:e in fu?this.alignment=e:super.oi(e)}doLayout(e){this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);const n=this.collectParts(e),o=this.diagram,l=n.copy().iterator;for(;l.next();){const F=l.value;if(F.Cl()&&(F.fromNode!==null||F.toNode!==null)){n.delete(F);continue}if(F.ensureBounds(),F instanceof Xt){const H=F.memberParts;for(;H.next();){const V=H.value;n.delete(V)}}}const c=n.toArray();if(c.length===0)return;switch(this.sorting){case 20:break;case 21:c.reverse();break;case 22:c.sort(this.comparer);break;case 23:c.sort(this.comparer),c.reverse();break}let h=this.wrappingColumn;isNaN(h)&&(h=0);let f=this.wrappingWidth;if(isNaN(f)&&o!==null){const F=o.viewportBounds,H=o.padding;f=Math.max(F.width-H.left-H.right,0)}else f=Math.max(this.wrappingWidth,0);h<=0&&f<=0&&(h=1);let g=this.spacing.width;isFinite(g)||(g=0);let v=this.spacing.height;isFinite(v)||(v=0),o!==null&&o.startTransaction("Layout");const w=[];switch(this.alignment){case 0:this.XO(c,f,h,g,v,w);break;case 1:this.YO(c,f,h,g,v,w);break}let k=0,P=0,N=0;for(let F=0;F<w.length;F++){const H=w[F];k=Math.min(k,H.x),P=Math.min(P,H.y),N=Math.max(N,H.x+H.width)}this.arrangement===11?this.commitLayers(w,new T(k+g/2-(N+k),P-v/2)):this.commitLayers(w,new T(k-g/2,P-v/2)),o!==null&&o.commitTransaction("Layout"),this.isValidLayout=!0}XO(e,n,o,l,c,h){const f=z.l();let g=Math.max(this.cellSize.width,1);if(!isFinite(g)){g=0;for(let $=0;$<e.length;$++){const K=e[$],J=this.getLayoutBounds(K,f);g=Math.max(g,J.width)}}g+=l,g=Math.max(g,1);let v=Math.max(this.cellSize.height,1);if(!isFinite(v)){v=0;for(let $=0;$<e.length;$++){const K=e[$],J=this.getLayoutBounds(K,f);v=Math.max(v,J.height)}}v+=c,v=Math.max(v,1);const w=this.arrangement,k=this.arrangementOrigin.x,P=this.arrangementOrigin.y;let N=k,F=P,H=0,V=0;for(let $=0;$<e.length;$++){const K=e[$],J=this.getLayoutBounds(K,f),Q=Math.ceil((J.width+l)/g),ne=Math.ceil((J.height+c)/v),le=Q*g,fe=ne*v;let we=0;switch(w){case 11:we=Math.abs(N-J.width);break;default:we=N+J.width;break}(o>0&&H>o-1||n>0&&H>0&&we-k>n)&&(h.push(new z(0,F,n+l,V)),H=0,N=k,F+=V,V=0),V=Math.max(V,fe);let ye=0;switch(w){case 11:ye=-J.width;break;default:ye=0;break}switch(K.moveTo(N+ye+K.margin.left,F+K.margin.top),w){case 11:N-=le;break;default:N+=le;break}H++}h.push(new z(0,F,n+l,V)),z.e(f)}YO(e,n,o,l,c,h){const f=z.l();let g=Math.max(this.cellSize.width,1),v=0,w=0,k=0;const P=T.l();for(let ye=0;ye<e.length;ye++){const ge=e[ye],me=this.getLayoutBounds(ge,f),ke=ge.getRelativePoint(ge.locationObject,ge.locationSpot,P);v=Math.max(v,ke.x),w=Math.max(w,me.width-ke.x),k=Math.max(k,ke.y)}const N=this.arrangement;switch(N){case 11:v+=l;break;default:w+=l;break}isFinite(g)?g=Math.max(g+l,1):g=Math.max(v+w,1);const F=this.arrangementOrigin.x,H=this.arrangementOrigin.y;let V=F,$=H,K=0;n>=v&&(n-=v);let J=0,Q=0;const ne=Math.max(this.cellSize.height,1);k=0;let le=0,fe=!0;const we=T.l();for(let ye=0;ye<e.length;ye++){const ge=e[ye],me=this.getLayoutBounds(ge,f),ke=ge.getRelativePoint(ge.locationObject,ge.locationSpot,P);if(K>0)switch(N){case 11:{let Ie=(V-F-(me.width-ke.x))/g;I.z(Math.round(Ie),Ie)?Ie=Math.round(Ie):Ie=Math.floor(Ie),V=Ie*g+F;break}default:{let Ie=(V-F+ke.x)/g;I.z(Math.round(Ie),Ie)?Ie=Math.round(Ie):Ie=Math.ceil(Ie),V=Ie*g+F;break}}else switch(N){case 11:J=V+ke.x+me.width;break;default:J=V-ke.x;break}let Ce=0;switch(N){case 11:Ce=-(V+ke.x)+J;break;default:Ce=V+me.width-ke.x-J;break}if(o>0&&K>o-1||n>0&&K>0&&Ce>n){h.push(new z(0,fe?$-k:$,n+l,le+k+c));for(let Ie=0;Ie<K&&ye!==K;Ie++){const Be=e[ye-K+Ie],Xe=Be.getRelativePoint(Be.locationObject,Be.locationSpot,we);Be.moveTo(Be.position.x,Be.position.y+k-Xe.y)}le+=c,fe?$+=le:$+=le+k,k=0,le=0,K=0,V=F,fe=!1}switch(V===F&&(N===11?Q=Math.max(Q,me.width-ke.x):Q=Math.min(Q,-ke.x)),k=Math.max(k,ke.y),le=Math.max(le,me.height-ke.y),isFinite(ne)&&(le=Math.max(le,Math.max(me.height,ne)-ke.y)),fe?ge.moveTo(V-ke.x,$-ke.y):ge.moveTo(V-ke.x,$),N){case 11:V-=ke.x+l;break;default:V+=me.width-ke.x+l;break}K++}if(h.push(new z(0,$,n+l,(fe?le:le+k)+c)),e.length!==K)for(let ye=0;ye<K;ye++){const ge=e[e.length-K+ye],me=ge.getRelativePoint(ge.locationObject,ge.locationSpot,P);ge.moveTo(ge.position.x,ge.position.y+k-me.y)}if(T.e(P),T.e(we),N===11)for(let ye=0;ye<h.length;ye++){const ge=h[ye];ge.width+=Q,ge.x-=Q}else for(let ye=0;ye<h.length;ye++){const ge=h[ye];ge.x>Q&&(ge.width+=ge.x-Q,ge.x=Q)}z.e(f)}commitLayers(e,n){}get wrappingWidth(){return this.Gd}set wrappingWidth(e){this.Gd!==e&&(e>0||isNaN(e))&&(this.Gd=e,this.isViewportSized=isNaN(e),this.invalidateLayout())}get wrappingColumn(){return this.Kd}set wrappingColumn(e){this.Kd!==e&&(e>0||isNaN(e))&&(this.Kd=e,this.invalidateLayout())}get cellSize(){return this.Po}set cellSize(e){this.Po.equals(e)||(this.Po.a(e),this.invalidateLayout())}get spacing(){return this.kn}set spacing(e){this.kn.equals(e)||(this.kn.a(e),this.invalidateLayout())}get alignment(){return this.hi}set alignment(e){this.hi!==e&&(e===1||e===0)&&(this.hi=e,this.invalidateLayout())}get arrangement(){return this.Xi}set arrangement(e){this.Xi!==e&&(e===10||e===11)&&(this.Xi=e,this.invalidateLayout())}get sorting(){return this.pe}set sorting(e){this.pe!==e&&(e===20||e===21||e===22||e===23)&&(this.pe=e,this.invalidateLayout())}get comparer(){return this.ye}set comparer(e){this.ye!==e&&(this.ye=e,this.invalidateLayout())}static standardComparer(e,n){const o=e.text,l=n.text;return o<l?-1:o>l?1:0}static smartComparer(e,n){if(e!==null)if(n!==null){const o=e.text.toLocaleLowerCase(),l=n.text.toLocaleLowerCase(),c=o.split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/),h=l.split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/);let f=0;for(;f<c.length;f++)if(h[f]!==""&&h[f]!==void 0){const g=parseFloat(c[f]),v=parseFloat(h[f]);if(isNaN(g))if(isNaN(v)){if(c[f].localeCompare(h[f])!==0)return c[f].localeCompare(h[f]);continue}else return 1;else{if(isNaN(v))return-1;if(g-v!==0)return g-v;continue}}else{if(c[f]==="")continue;return 1}return h[f]!==""&&h[f]!==void 0?-1:0}else return 1;else return n!==null?-1:0}static Position=0;static Location=1;static LeftToRight=10;static RightToLeft=11;static Forward=20;static Reverse=21;static Ascending=22;static Descending=23}class Ws{jd;Hs;Ct;uo;Hd;qd;N;MN;constructor(){this.jd=new b,this.Hs=new b,this.Ct=new b,this.uo=new _,this.Hd=new _,this.qd=new _,this.N=null,this.MN=!1}clear(){this.jd.clear(),this.Hs.clear(),this.Ct.clear(),this.uo.clear(),this.Hd.clear(),this.qd.clear()}Mo(e){this.N=e}Jh(e){if(e instanceof Lt){if(this.jd.add(e),e instanceof Xt){const o=e.containingGroup;o===null?this.diagram.zr.add(e):o.ca.add(e);const l=e.layout;l!==null&&(l.diagram=this.diagram)}}else e instanceof vt?(this.Hs.add(e),e.isAvoiding&&(this.diagram.Vm=!0)):e instanceof gn||this.Ct.add(e);const n=e.data;n!==null&&(e instanceof gn||(e instanceof vt?this.DT(n,e):this.uo.set(n,e)))}te(e){if(e.clearAdornments(),e instanceof Lt){if(this.jd.delete(e),e instanceof Xt){const o=e.containingGroup;o===null?this.diagram.zr.delete(e):o.ca.delete(e);const l=e.layout;l!==null&&(l.diagram=null)}}else e instanceof vt?this.Hs.delete(e):e instanceof gn||this.Ct.delete(e);const n=e.data;n!==null&&(e instanceof gn||(e instanceof vt?this.FT(n,e):this.uo.delete(n)))}DT(e,n){this.Hd.set(e,n)}FT(e,n){this.Hd.delete(e)}rebuildParts(){const e=this.diagram;if(e===null)return;const n=e.nodeTemplateMap.iterator;for(;n.next();){const N=n.value,F=n.key;(!N.ke()||N instanceof Xt)&&t.o(`Invalid node template in Diagram.nodeTemplateMap: template for "${F}" must be a Node or a simple Part, not a Group or Link: ${N}`)}const o=e.groupTemplateMap.iterator;for(;o.next();){const N=o.value,F=o.key;N instanceof Xt||t.o(`Invalid group template in Diagram.groupTemplateMap: template for "${F}" must be a Group, not a normal Node or Link: ${N}`)}const l=e.linkTemplateMap.iterator;for(;l.next();){const N=l.value,F=l.key;N instanceof vt||t.o(`Invalid link template in Diagram.linkTemplateMap: template for "${F}" must be a Link, not a normal Node or simple Part: ${N}`)}const c=t.et(),h=e.selection.iterator;for(;h.next();){const N=h.value.data;N&&c.push(N)}const f=t.et(),g=e.highlighteds.iterator;for(;g.next();){const N=g.value.data;N&&f.push(N)}const v=t.et(),w=this.nodes.iterator;for(;w.next();){const N=w.value;N.data!==null&&(v.push(N.data),v.push(N.location))}const k=this.links.iterator;for(;k.next();){const N=k.value;N.data!==null&&(v.push(N.data),v.push(N.location))}const P=this.parts.iterator;for(;P.next();){const N=P.value;N.data!==null&&(v.push(N.data),v.push(N.location))}this.RT(),this.zM();for(let N=0;N<c.length;N++){const F=this.findPartForData(c[N]);F!==null&&(F.isSelected=!0)}for(let N=0;N<f.length;N++){const F=this.findPartForData(f[N]);F!==null&&(F.isHighlighted=!0)}for(let N=0;N<v.length;N+=2){const F=this.findPartForData(v[N]);F!==null&&(F.location=v[N+1])}t.J(c),t.J(f),t.J(v)}zM(){const e=this.diagram.model;this.Sy(e.nodeDataArray)}Sy(e,n){const o=this.diagram.model;e.forEach(l=>{o.containsNodeData(l)&&this.vT(l,!1)}),e.forEach(l=>{o.containsNodeData(l)&&this.R1(l)}),n!==!1&&this.diagram.Cb(!1)}vT(e,n){if(e==null||this.diagram.undoManager.isUndoingRedoing||this.uo.has(e))return null;n===void 0&&(n=!0);const o=this.GO(e);return o!==null&&n&&this.R1(e),o}GO(e){if(e==null||this.diagram.undoManager.isUndoingRedoing||this.uo.has(e))return null;const n=this.KO(e),o=this.findTemplateForNodeData(e,n);if(o!==null){o.Et();const l=o.copy();if(l!==null){const c=this.diagram.fe;return this.diagram.fe=!0,l.zo=n,l._t=e,this.addsToTemporaryLayer&&(l.nl="Tool"),this.diagram.add(l),l._t=null,l.data=e,this.diagram.fe=c,l}}return null}insertLink(e,n,o,l){return null}R1(e){}KO(e){return this.diagram.model.getCategoryForNodeData(e)}static OT=!1;static IT=!1;findTemplateForNodeData(e,n){const o=this.diagram,l=o.model,c=l.Hc()&&l.isGroupForData(e);let h=null;return c?(h=o.groupTemplateMap.get(n),h===null&&(h=o.groupTemplateMap.get(""),h===null&&(Ws.IT||(Ws.IT=!0,t.ni('No Group template found for category "'+n+'"'),t.ni("  Using default group template")),h=o.yM))):(h=o.nodeTemplateMap.get(n),h===null&&(h=o.nodeTemplateMap.get(""),h===null&&(Ws.OT||(Ws.OT=!0,t.ni('No Node template found for category "'+n+'"'),t.ni("  Using default node template")),h=o.gM))),h}getLinkCategoryForData(e){return""}setLinkCategoryForData(e,n){}setFromNodeForLink(e,n,o){}setToNodeForLink(e,n,o){}static ET=!1;findLinkTemplateForCategory(e){const n=this.diagram;let o=n.linkTemplateMap.get(e);return o===null&&(o=n.linkTemplateMap.get(""),o===null&&(Ws.ET||(Ws.ET=!0,t.ni('No Link template found for category "'+e+'"'),t.ni("  Using default link template")),o=n.mM)),o}vv(e,n,o){e instanceof vt?(n!==null&&this.FT(n,e),o!==null&&this.DT(o,e)):e instanceof Pn&&(n!==null&&this.uo.delete(n),o!==null&&this.uo.set(o,e))}RT(){const e=this.diagram.model;this.NN(e.nodeDataArray)}NN(e){e.forEach(n=>{this.v1(n)})}v1(e){const n=this.findPartForData(e);n!==null&&(this.diagram.UM(n,!1),this.CN(n))}CN(e){}pN(e){}findPartForKey(e){if(e==null)return null;const n=this.diagram.model.findNodeDataForKey(e);return n!==null?this.uo.get(n):null}findNodeForKey(e){if(e==null)return null;const n=this.diagram.model.findNodeDataForKey(e);if(n===null)return null;const o=this.uo.get(n);return o instanceof Lt?o:null}findLinkForKey(e){return null}findPartForData(e){if(e===null)return null;let n=this.uo.get(e);return n!==null||(n=this.Hd.get(e)),n}findNodeForData(e){if(e===null)return null;const n=this.uo.get(e);return n instanceof Lt?n:null}findLinkForData(e,n){return e===null?null:this.Hd.get(e)}findNodesByExample(...e){const n=new b,o=this.jd.iterator;for(;o.next();){const l=o.value,c=l.data;if(c!==null)for(let h=0;h<arguments.length;h++){const f=arguments[h];if(t.G(f)&&this.LN(c,f)){n.add(l);break}}}return n.iterator}findLinksByExample(...e){const n=new b,o=this.Hs.iterator;for(;o.next();){const l=o.value,c=l.data;if(c!==null)for(let h=0;h<arguments.length;h++){const f=arguments[h];if(t.G(f)&&this.LN(c,f)){n.add(l);break}}}return n.iterator}LN(e,n){for(const o in n){const l=e[o],c=n[o];if(Array.isArray(c)){if(!Array.isArray(l))return!1;const h=l,f=c;if(h.length<f.length)return!1;for(let g=0;g<h.length;g++){const v=h[g],w=f[g];if(w!==void 0&&!this.UT(v,w))return!1}}else if(!this.UT(l,c))return!1}return!0}UT(e,n){if(t.it(n)){if(!n(e))return!1}else if(n instanceof RegExp){if(!e||!n.test(e.toString()))return!1}else if(t.G(e)&&t.G(n)){if(!this.LN(e,n))return!1}else if(e!==n)return!1;return!0}doModelDataChanged(e){if(e.model===this.diagram.model&&this.diagram.X){this.diagram.X=!1;try{const n=e.change;e.modelChange===""&&e.object!==null&&n===2&&this.My(e.object,e.propertyName)}finally{this.diagram.X=!0}}}doModelChanged(e){const n=this.diagram;if(!n||e.model!==n.model)return;const o=e.change;if(n.IR(e),!!n.X){n.X=!1;try{const l=e.modelChange;if(l!=="")if(o===2){if(l==="nodeCategory"){const c=e.object;if(c!==null){const h=this.findPartForData(c),f=e.newValue;h!==null&&typeof f=="string"&&(h.category=f)}}else if(l==="nodeDataArray"){const c=e.oldValue;this.NN(c);const h=e.newValue;this.Sy(h)}n.isModified=!0}else if(o===3){const c=e.newValue;l==="nodeDataArray"&&t.G(c)&&this.vT(c),n.isModified=!0}else if(o===4){const c=e.oldValue;l==="nodeDataArray"&&t.G(c)&&this.v1(c),n.isModified=!0}else o===1&&(l==="SourceChanged"?e.object!==null?this.My(e.object,e.propertyName):(this.updateAllRelationshipsFromData(),this.updateAllTargetBindings()):l==="ModelDisplaced"&&this.rebuildParts());else if(o===2){const c=e.propertyName,h=e.object,f=n.model;h===f?(c==="nodeKeyProperty"||c==="nodeCategoryProperty")&&(n.undoManager.isUndoingRedoing||this.rebuildParts()):h!==null&&this.My(h,c),n.isModified=!0}else(o===3||o===4)&&(this.jO(e,n.model),n.isModified=!0)}finally{n.X=!0}}}updateAllTargetBindings(e){e===void 0&&(e="");let n=this.parts.iterator;for(;n.next();)n.value.updateTargetBindings(e);for(n=this.nodes.iterator;n.next();)n.value.updateTargetBindings(e);for(n=this.links.iterator;n.next();)n.value.updateTargetBindings(e)}updateAllThemeBindings(){let e=this.parts.iterator;for(;e.next();)e.value.Do();for(e=this.nodes.iterator;e.next();)e.value.Do();for(e=this.links.iterator;e.next();)e.value.Do()}updateAllRelationshipsFromData(){const e=this.diagram.model,n=new b,o=e.nodeDataArray;for(let h=0;h<o.length;h++){const f=o[h];n.add(f)}const l=[];this.nodes.each(h=>{h.data!==null&&!n.has(h.data)&&l.push(h.data)}),this.parts.each(h=>{h.data!==null&&!n.has(h.data)&&l.push(h.data)}),l.forEach(h=>e.BT(h,!1));for(let h=0;h<o.length;h++){const f=o[h];this.findPartForData(f)===null&&e.VT(f,!1)}this.zT();let c=this.parts.iterator;for(;c.next();)c.value.updateRelationshipsFromData();for(c=this.nodes.iterator;c.next();)c.value.updateRelationshipsFromData();for(c=this.links.iterator;c.next();)c.value.updateRelationshipsFromData()}zT(){}updateRelationshipsFromData(e){}My(e,n){if(typeof n=="string"){const o=this.findPartForData(e);if(o!==null)o.updateTargetBindings(n);else{const l=this.HO(e);if(l!==null&&l.length>0){for(let h=0;h<l.length;h++)l[h].updateTargetBindings(n);const c=l[0].part;if(c!==null){const h=c.adornments;for(;h.next();)h.value.updateTargetBindings(n)}t.J(l)}}e===this.diagram.model.modelData&&this.updateAllTargetBindings(n)}}HO(e){let n=null;const o=this.qd.iterator;for(;o.next();){const l=o.value;for(let c=0;c<l.length;c++){const h=l[c].findItemPanelForData(e);h!==null&&(n===null&&(n=t.et()),n.push(h))}if(n!==null)break}return n}AN(e){return this.qd.get(e)}jO(e,n){const o=e.object;if(!Array.isArray(o))return;const l=e.change===3,c=l?e.newParam:e.oldParam,h=l?e.newValue:e.oldValue,f=this.AN(o);if(Array.isArray(f))for(let g=0;g<f.length;g++){const v=f[g];l?v.e1(h,c,!0):v.Iv(c)}}IM(e,n){n!==null&&e.Gr(l=>n.GL(l));const o=e.wh;if(Array.isArray(o)){const l=this.AN(o);if(l===null)this.qd.set(o,[e]);else{for(let c=0;c<l.length;c++)if(l[c]===e)return;l.push(e)}}}EM(e,n){e.Gr(l=>n.UR(l));const o=e.wh;if(Array.isArray(o)){const l=this.AN(o);if(l!==null){for(let c=0;c<l.length;c++)if(l[c]===e){l.splice(c,1),l.length===0&&this.qd.delete(o);return}}}}copyParts(e,n,o){o===void 0&&(o=!1);const l=new _;if(Array.isArray(e))for(let h=0;h<e.length;h++)this.O1(e[h],n,l,o);else{const h=e.iterator;for(;h.next();)this.O1(h.value,n,l,o)}if(n!==null){const h=n.model,f=n.s0().dragsLink,g=new b,v=new _,w=l.iterator;for(;w.next();){const k=w.value;if(k instanceof vt)!f&&(k.fromNode===null||k.toNode===null)&&g.add(k);else if(k instanceof Lt&&k.data!==null){if(h.pm()){const P=k,N=w.key,F=N.findTreeParentNode();if(F!==null){const H=l.get(F);if(H!==null){h.setParentKeyForNodeData(P.data,h.getKeyForNodeData(H.data));const V=n.findLinkForData(P.data),$=N.findTreeParentLink();$!==null&&V!==null&&v.set($,V)}}}else if(h.Mb()){const P=k,N=w.key,F=h.isRelatedKeysPathTo?N.findNodesOutOf():N.findNodesInto();for(;F.next();){const H=F.value,V=l.get(H);if(V!==null){h.addRelatedKeyForNodeData(P.data,V.key);const $=n.partManager.findLinkForData(P.data,V.key),K=this.findLinkForData(N.data,H.key);K!==null&&$!==null&&v.set(K,$)}else h.removeRelatedKeyForNodeData(P.data,H.key)}}}}if(g.count>0&&n.removeParts(g,!1),v.count>0){const k=v.iterator;for(;k.next();){const P=k.key,N=k.value;l.set(P,N)}}}if(n!==null&&this.diagram!==null){const h=n.model,f=h.afterCopyFunction;if(f!==null){const g=new _;l.each(w=>{w.key.data!==null&&g.set(w.key.data,w.value.data)});const v=this.diagram.model;f(g,h,v)}}const c=l.iterator;for(;c.next();)c.value.updateTargetBindings();return l}O1(e,n,o,l){if(e===null||l&&!e.canCopy())return null;if(o.has(e))return o.get(e);const c=this.TN(e,n);if(!(c instanceof Pn))return null;if(c.isSelected=!1,c.isHighlighted=!1,o.set(e,c),e instanceof Lt){const h=e.linksConnected;for(;h.next();){const f=h.value;if(f.fromNode===e){const g=o.get(f);g!==null&&(g.fromNode=c)}if(f.toNode===e){const g=o.get(f);g!==null&&(g.toNode=c)}}if(e instanceof Xt&&c instanceof Xt){const f=e.memberParts;for(;f.next();){const g=f.value,v=this.O1(g,n,o,l);v instanceof vt||v!==null&&(v.containingGroup=c)}}}else if(e instanceof vt&&c instanceof vt){const h=e.fromNode;if(h!==null){const v=o.get(h);v!==null&&(c.fromNode=v)}const f=e.toNode;if(f!==null){const v=o.get(f);v!==null&&(c.toNode=v)}const g=e.labelNodes;for(;g.next();){const v=g.value,w=this.O1(v,n,o,l);w!==null&&w instanceof Lt&&(w.labeledLink=c)}}return c}TN(e,n){let o=null;const l=e.data;if(l!==null&&n!==null){const c=n.model;if(!(e instanceof vt)){const h=c.copyNodeData(l);t.G(h)&&(c.addNodeData(h),o=n.findPartForData(h))}}else if(e.Et(),o=e.copy(),o!==null){const c=this.diagram;if(n!==null)n.add(o);else if(l!==null&&c!==null&&c.commandHandler!==null&&c.commandHandler.copiesClipboardData){const h=c.model;let f=null;o instanceof vt||(f=h.copyNodeData(l)),t.G(f)&&(o.data=f)}}return o}get nodes(){return this.jd}get links(){return this.Hs}get parts(){return this.Ct}get diagram(){return this.N}get addsToTemporaryLayer(){return this.MN}set addsToTemporaryLayer(e){this.MN=e}}class Ql extends Ws{zM(){const e=this.diagram.model;this.Sy(e.nodeDataArray),this.XT(e.linkDataArray)}Sy(e){super.Sy(e,!1);const n=this.links.iterator;for(;n.next();)n.value.Pd();this.diagram.Cb(!1)}XT(e){e.forEach(n=>{this.YT(n)}),this.diagram.Cb(!1)}YT(e){if(e==null||this.diagram.undoManager.isUndoingRedoing||this.findLinkForData(e))return null;const n=this.getLinkCategoryForData(e),o=this.findLinkTemplateForCategory(n);if(o!==null){o.Et();const l=o.copy();if(l!==null){const c=this.diagram.fe;this.diagram.fe=!0,l.zo=n,l._t=e;const h=this.diagram.model,f=h.I1(e,!0);f!==""&&(l.fromPortId=f);const g=h.Ae(e,!0);if(g!==void 0){const P=this.findNodeForKey(g);P instanceof Lt&&(l.fromNode=P)}const v=h.I1(e,!1);v!==""&&(l.toPortId=v);const w=h.Ae(e,!1);if(w!==void 0){const P=this.findNodeForKey(w);P instanceof Lt&&(l.toNode=P)}const k=h.getLabelKeysForLinkData(e);return Array.isArray(k)&&k.forEach(P=>{const N=this.findNodeForKey(P);N!==null&&(N.labeledLink=l)}),this.addsToTemporaryLayer&&(l.nl="Tool"),this.diagram.add(l),l._t=null,l.data=e,this.diagram.fe=c,l}}return null}RT(){const e=this.diagram.model;this.GT(e.linkDataArray),this.NN(e.nodeDataArray)}GT(e){e.forEach(n=>{this.v1(n)})}getLinkCategoryForData(e){return this.diagram.model.getCategoryForLinkData(e)}setLinkCategoryForData(e,n){return this.diagram.model.setCategoryForLinkData(e,n)}setFromNodeForLink(e,n){const o=this.diagram.model,l=n!==null?n.data:null;o.setFromKeyForLinkData(e.data,o.getKeyForNodeData(l))}setToNodeForLink(e,n){const o=this.diagram.model,l=n!==null?n.data:null;o.setToKeyForLinkData(e.data,o.getKeyForNodeData(l))}pN(e){this.diagram.model.removeLinkData(e.data)}findPartForKey(e){const n=super.findPartForKey(e);if(n===null){const o=this.diagram.model.findLinkDataForKey(e);if(o!==null)return this.findLinkForData(o)}return n}findLinkForKey(e){if(e==null)return null;const n=this.diagram.model.findLinkDataForKey(e);return n!==null?this.findLinkForData(n):null}doModelChanged(e){if(super.doModelChanged(e),!this.diagram)return;const n=this.diagram;if(e.model!==n.model)return;const o=e.change;if(n.X){n.X=!1;try{const l=e.modelChange;if(l!==""){if(o===2){if(l==="linkFromKey"){const c=e.object,h=this.findLinkForData(c);if(h!==null){const f=e.newValue,g=this.findNodeForKey(f);h.fromNode=g}}else if(l==="linkToKey"){const c=e.object,h=this.findLinkForData(c);if(h!==null){const f=e.newValue,g=this.findNodeForKey(f);h.toNode=g}}else if(l==="linkFromPortId"){const c=e.object,h=this.findLinkForData(c);if(h!==null){const f=e.newValue;typeof f=="string"&&(h.fromPortId=f)}}else if(l==="linkToPortId"){const c=e.object,h=this.findLinkForData(c);if(h!==null){const f=e.newValue;typeof f=="string"&&(h.toPortId=f)}}else if(l==="nodeGroupKey"){const c=e.object,h=this.findPartForData(c);if(h!==null){const f=e.newValue;if(f!==void 0){const g=this.findNodeForKey(f);g instanceof Xt?h.containingGroup=g:h.containingGroup=null}else h.containingGroup=null}}else if(l==="linkLabelKeys"){const c=e.object,h=this.findLinkForData(c);if(h!==null){const f=e.oldValue,g=e.newValue;Array.isArray(f)&&f.forEach(v=>{if(g.indexOf(v)>=0)return;const w=this.findNodeForKey(v);w!==null&&(w.labeledLink=null)}),Array.isArray(g)&&g.forEach(v=>{const w=this.findNodeForKey(v);w!==null&&(w.labeledLink=h)})}}else if(l==="linkCategory"){const c=e.object,h=this.findLinkForData(c),f=e.newValue;h!==null&&typeof f=="string"&&(h.category=f)}else if(l==="linkDataArray"){const c=e.oldValue;this.GT(c);const h=e.newValue;this.XT(h)}n.isModified=!0}else if(o===3){const c=e.newValue;if(l==="linkDataArray"&&t.G(c))this.YT(c);else if(l==="linkLabelKeys"&&e.model.isKeyType(c)){const h=e.object,f=this.findLinkForData(h),g=this.findNodeForKey(c);f!==null&&g!==null&&(g.labeledLink=f)}n.isModified=!0}else if(o===4){const c=e.oldValue;if(l==="linkDataArray"&&t.G(c))this.v1(c);else if(l==="linkLabelKeys"&&e.model.isKeyType(c)){const h=this.findNodeForKey(c);h!==null&&(h.labeledLink=null)}n.isModified=!0}}else if(o===2){const c=e.propertyName,h=e.object,f=n.model;h===f&&(c==="linkFromKeyProperty"||c==="linkToKeyProperty"||c==="linkFromPortIdProperty"||c==="linkToPortIdProperty"||c==="linkLabelKeysProperty"||c==="nodeIsGroupProperty"||c==="nodeGroupKeyProperty"||c==="linkCategoryProperty")&&(n.undoManager.isUndoingRedoing||this.rebuildParts()),n.isModified=!0}}finally{n.X=!0}}}zT(){const e=this.diagram.model,n=new b,o=e.linkDataArray;o.forEach(c=>{n.add(c)});const l=[];this.links.each(c=>{c.data!==null&&!n.has(c.data)&&l.push(c.data)}),l.forEach(c=>{e.KT(c,!1)}),o.forEach(c=>{this.findLinkForData(c)===null&&e.jT(c,!1)})}updateRelationshipsFromData(e){const n=e.data;if(n===null)return;const o=e.diagram;if(o===null)return;const l=o.model;if(e instanceof vt){let c=l.Ae(n,!0),h=o.findNodeForKey(c);e.fromNode=h,c=l.Ae(n,!1),h=o.findNodeForKey(c),e.toNode=h;const f=l.getLabelKeysForLinkData(n);if(f.length>0||e.labelNodes.count>0){if(f.length===1&&e.labelNodes.count===1){const P=f[0],N=e.labelNodes.first();if(l.getKeyForNodeData(N.data)===P)return}const g=new b().addAll(f),v=new b;e.labelNodes.each(P=>{if(P.data!==null){const N=l.getKeyForNodeData(P.data);N!==void 0&&v.add(N)}});const w=v.copy();w.removeAll(g);const k=g.copy();if(k.removeAll(v),w.count>0||k.count>0){const P=e;w.each(N=>{const F=o.findNodeForKey(N);F!==null&&F.labeledLink===P&&(F.labeledLink=null)}),k.each(N=>{const F=o.findNodeForKey(N);F!==null&&F.labeledLink!==P&&(F.labeledLink=P)})}}}else if(!(e instanceof gn)){const c=l.getGroupKeyForNodeData(n),h=o.findPartForKey(c);(h===null||h instanceof Xt)&&(e.containingGroup=h)}}R1(e){const n=this.diagram.model,o=n.getKeyForNodeData(e);if(o!==void 0){const l=n.Ny(o),c=this.findPartForData(e);if(l!==null&&c!==null){const f=l.iterator;for(;f.next();){const g=f.value;if(n.containsNodeData(g)){if(c instanceof Xt&&n.getGroupKeyForNodeData(g)===o){const v=this.findPartForData(g);v!==null&&(v.containingGroup=c)}}else{const v=this.findLinkForData(g);if(v!==null&&c instanceof Lt){n.Ae(g,!0)===o&&(v.fromNode=c),n.Ae(g,!1)===o&&(v.toNode=c);const w=n.getLabelKeysForLinkData(g);Array.isArray(w)&&w.some(k=>k===o?(c.labeledLink=v,!0):!1)}}}n.Ws(o)}const h=n.getGroupKeyForNodeData(e);if(h!==void 0){const f=this.findNodeForKey(h);f instanceof Xt&&(c.containingGroup=f)}}}CN(e){const n=this.diagram.model;if(e instanceof Lt){const o=n.getKeyForNodeData(e.data);if(o!==void 0){const l=e.linksConnected;for(;l.next();){const c=l.value;n.Js(o,c.data)}if(e.isLinkLabel){const c=e.labeledLink;c!==null&&n.Js(o,c.data)}if(e instanceof Xt){const c=e.memberParts;for(;c.next();){const h=c.value.data;n.containsNodeData(h)&&n.Js(o,h)}}}}}TN(e,n){let o=super.TN(e,n);if(e instanceof vt){const l=e.data;if(l!==null&&n!==null){const c=n.model,h=c.copyLinkData(l);t.G(h)&&(c.addLinkData(h),o=n.findLinkForData(h))}else if(o!==null){const c=this.diagram;if(l!==null&&c!==null&&c.commandHandler!==null&&c.commandHandler.copiesClipboardData){const h=c.model.copyLinkData(l);t.G(h)&&(o.data=h)}}}return o}insertLink(e,n,o,l){const c=this.diagram,h=c.model,f=c.toolManager.findTool("Linking");let g="";e!==null&&(n===null&&(n=e),g=n.portId,g===null&&(g=""));let v="";o!==null&&(l===null&&(l=o),v=l.portId,v===null&&(v=""));const w=f.archetypeLinkData;if(w instanceof vt){w.Et();const k=w.copy();if(k!==null){k.fromNode=e,k.fromPortId=g,k.toNode=o,k.toPortId=v,c.add(k);const P=f.archetypeLabelNodeData;if(P instanceof Lt){P.Et();const N=P.copy();N!==null&&(N.labeledLink=k,c.add(N))}return k}}else if(w!==null){const k=h.copyLinkData(w);if(t.G(k)){e!==null&&h.Wd(k,h.getKeyForNodeData(e.data),!0),h.Jd(k,g,!0),o!==null&&h.Wd(k,h.getKeyForNodeData(o.data),!1),h.Jd(k,v,!1),h.addLinkData(k);const P=f.archetypeLabelNodeData;if(P!==null&&!(P instanceof Lt)){const N=h.copyNodeData(P);if(t.G(N)){h.addNodeData(N);const F=h.getKeyForNodeData(N);F!==void 0&&h.addLabelKeyForLinkData(k,F)}}return c.findLinkForData(k)}}return null}}class pl extends Ws{Nh=null;E1(e,n){if(e===null||n===null||n.findTreeParentLink()!==null)return null;const o=this.diagram.toolManager.findTool("Linking");let l=e,c=n;if(this.diagram.isTreePathToChildren){if(o!==null&&o.yu(l,c,null,!0))return null}else if(l=n,c=e,o!==null&&o.yu(l,c,null,!0))return null;const h=this.getLinkCategoryForData(n.data),f=this.findLinkTemplateForCategory(h);if(f!==null){f.Et();const g=f.copy();if(g!==null){const v=this.diagram.fe;return this.diagram.fe=!0,g.zo=h,g._t=n.data,g.fromNode=l,g.toNode=c,this.diagram.add(g),g._t=null,g.data=n.data,this.diagram.fe=v,g}}return null}getLinkCategoryForData(e){return this.diagram.model.getParentLinkCategoryForNodeData(e)}setLinkCategoryForData(e,n){this.diagram.model.setParentLinkCategoryForNodeData(e,n)}setFromNodeForLink(e,n,o){const l=this.diagram.model;o===void 0&&(o=null);const c=n!==null?n.data:null;if(this.diagram.isTreePathToChildren)l.setParentKeyForNodeData(e.data,l.getKeyForNodeData(c));else{const h=this.Nh;this.Nh=e,o!==null&&l.setParentKeyForNodeData(o.data,void 0);const f=e.toNode!==null?e.toNode.data:null;l.setParentKeyForNodeData(c,l.getKeyForNodeData(f)),this.Nh=h}}setToNodeForLink(e,n,o){const l=this.diagram.model;o===void 0&&(o=null);const c=n!==null?n.data:null;if(this.diagram.isTreePathToChildren){const h=this.Nh;this.Nh=e,o!==null&&l.setParentKeyForNodeData(o.data,void 0);const f=e.fromNode!==null?e.fromNode.data:null;l.setParentKeyForNodeData(c,l.getKeyForNodeData(f)),this.Nh=h}else l.setParentKeyForNodeData(e.data,l.getKeyForNodeData(c))}pN(e){this.diagram.model.setParentKeyForNodeData(e.data,void 0)}findLinkForKey(e){if(e==null)return null;const n=this.diagram.model.findNodeDataForKey(e);return n!==null?this.findLinkForData(n):null}doModelChanged(e){if(super.doModelChanged(e),!this.diagram)return;const n=this.diagram;if(e.model!==n.model)return;const o=e.change;if(n.X){n.X=!1;try{const l=e.modelChange;if(l!==""){if(o===2){if(l==="nodeParentKey"){const c=e.object,h=e.newValue,f=this.findNodeForKey(h),g=this.findNodeForData(c);if(this.Nh!==null)f!==null&&(this.Nh.data=c,this.Nh.category=this.getLinkCategoryForData(c));else if(g!==null){const v=g.findTreeParentLink();v!==null?f===null?n.remove(v):n.isTreePathToChildren?v.fromNode=f:v.toNode=f:this.E1(f,g)}}else if(l==="parentLinkCategory"){const c=e.object,h=this.findNodeForData(c),f=e.newValue;if(h!==null&&typeof f=="string"){const g=h.findTreeParentLink();g!==null&&(g.category=f)}}n.isModified=!0}}else if(o===2){const c=e.propertyName,h=e.object,f=n.model;h===f&&c==="nodeParentKeyProperty"&&(n.undoManager.isUndoingRedoing||this.rebuildParts()),n.isModified=!0}}finally{n.X=!0}}}updateRelationshipsFromData(e){const n=e.data;if(n===null)return;const o=e.diagram;if(o===null)return;const l=o.model;if(e instanceof Lt){const c=l.getParentKeyForNodeData(n),h=o.findNodeForKey(c),f=e.findTreeParentNode();if(h!==f){const g=e.findTreeParentLink();h!==null?g!==null?o.isTreePathToChildren?g.fromNode=h:g.toNode=h:this.E1(h,e):g!==null&&o.UM(g,!1)}}}My(e,n){if(super.My(e,n),typeof n=="string"&&this.findPartForData(e)!==null){const o=this.findLinkForData(e);o!==null&&o.updateTargetBindings(n)}}R1(e){const n=this.diagram.model,o=n.getKeyForNodeData(e);if(o!==void 0){const l=n.Ny(o),c=this.findPartForData(e);if(l!==null&&c!==null){const f=l.iterator;for(;f.next();){const g=f.value;if(n.containsNodeData(g)&&c instanceof Lt&&n.getParentKeyForNodeData(g)===o){const v=this.findNodeForData(g);this.E1(c,v)}}n.Ws(o)}const h=n.getParentKeyForNodeData(e);if(h!==void 0&&c instanceof Lt){const f=this.findNodeForKey(h);this.E1(f,c)}}}CN(e){const n=this.diagram.model;if(e instanceof Lt){const o=n.getKeyForNodeData(e.data),l=this.findLinkForData(e.data);if(l!==null){l.isSelected=!1,l.isHighlighted=!1;const f=l.layer;if(f!==null){const g=f.te(-1,l,!1);g>=0&&this.diagram.raiseChangedEvent(4,"parts",f,l,null,g,null);const v=l.layerChanged;v!==null&&v(l,f,null)}}const c=this.diagram.isTreePathToChildren,h=e.linksConnected;for(;h.next();){const f=h.value,g=(c?f.toNode:f.fromNode).data;n.containsNodeData(g)&&n.Js(o,g)}}}insertLink(e,n,o,l){const c=this.diagram.model;let h=e,f=o;if(this.diagram.isTreePathToChildren||(h=o,f=e),h!==null&&f!==null){const g=h.data,v=f.data;return c.setParentKeyForNodeData(v,c.getKeyForNodeData(g)),f.findTreeParentLink()}return null}}var Fa=(G=>(G[G.OneWay=1]="OneWay",G[G.TwoWay=2]="TwoWay",G))(Fa||{});class Ds{n;DN;Ya;Cf;Ch;Lf;Af;Tf;U1;be;ad;ff;constructor(e,n,o,l){b.Ki(this),e===void 0?e="":t.s(e,"string",Ds,"constructor:targetprop"),n===void 0?n=e:t.s(n,"string",Ds,"constructor:sourceprop"),o===void 0?o=null:o!==null&&t.k(o,Ds,"constructor:conv"),this.DN=-1,this.be=null,this.Ya=e,this.ad=0,this.ff=0,this.Cf=null,this.Ch=n,this.Lf=o,l===void 0?(this.Af=1,this.Tf=null):(this.Af=2,this.Tf=l),this.U1=new b,this.n=2}copy(){const e=new this.constructor;return this.cloneProtected(e),e}cloneProtected(e){e.Ya=this.Ya,e.ad=this.ad,e.ff=this.ff,e.Cf=this.Cf,e.Ch=this.Ch,e.Lf=this.Lf,e.Af=this.Af,e.Tf=this.Tf,e.n=this.n&-2}static OneWay=1;static TwoWay=2;static parseEnum(e,n){return t.k(e,Ds,"parseEnum:ctor"),o=>{let l=parseInt(o);return isNaN(l)&&(l=t.Uh(e,o),l===null)?n:l}}oi(e){e in Fa?this.mode=e:t.er(this,e)}static toString(e){return t.toString(e)}toString(){return"Binding("+this.targetProperty+":"+this.sourceProperty+(this.targetId!==-1?" "+this.targetId:"")+" "+Fa[this.mode]+")"}u(){return this.n=this.n|1,this}get targetId(){return this.DN}set targetId(e){this.h&&t.L(this),this.DN=e}get targetProperty(){return this.Ya}set targetProperty(e){this.h&&t.L(this),t.s(e,"string",Ds,"targetProperty"),this.Ya=e}get sourceProperty(){return this.Ch}set sourceProperty(e){this.h&&t.L(this),t.s(e,"string",Ds,"sourceProperty"),this.Ch=e}get h(){return(this.n&1)!==0}get isToData(){return(this.n&2)!==0}get isToObject(){return(this.n&4)!==0}get isToModel(){return(this.n&8)!==0}get isToTheme(){return(this.n&16)!==0}get FN(){return this.isToTheme&&!(this.isToData||this.isToObject||this.isToModel)}qu(){return!1}get sourceName(){return this.Cf}set sourceName(e){this.h&&t.L(this),e!==null&&t.s(e,"string",Ds,"sourceName"),this.Cf=e,e!==null?this.n=this.n&-3|4:this.n=this.n|2}get converter(){return this.Lf}set converter(e){this.h&&t.L(this),e!==null&&t.k(e,Ds,"converter"),this.Lf=e}get backConverter(){return this.Tf}set backConverter(e){this.h&&t.L(this),e!==null&&t.k(e,Ds,"backConverter"),this.Tf=e}get mode(){return this.Af}set mode(e){this.h&&t.L(this),this.isToTheme&&e===2&&t.o("Theme Bindings cannot be TwoWay."),this.Af=e}makeTwoWay(e){return this.isToTheme&&t.o("Theme Bindings cannot be TwoWay."),this.mode=2,e&&(t.k(e,Ds,"makeTwoWay"),this.backConverter=e),this}ofObject(e){return this.h&&t.L(this),e===void 0&&(e=""),this.sourceName=e,this}ofModel(){return this.h&&t.L(this),this.n=this.n&-3&-5|8,this.Cf=null,this}yA(e,n){const o=this.sourceName;let l=null;return o===null||o===""?l=e:o==="/"?l=n.part:o==="."?l=n:o===".."?l=n.panel:l=e.findObject(o),l}check(e){const n=this.Ya,o=this.Ch,l=this.Lf;(this.qu()&&l===null&&this.Lh===null&&n===""||l===null&&n==="")&&t.ni("Binding error: target property is the empty string: "+this.toString()),this.qu()&&this.FN&&o===""&&l===null&&this.Lh===null&&t.ni("Binding error: theme bindings require a source property when not using a converter: "+this.toString()),e&&typeof n=="string"&&(!t.it(["setAttribute"])&&n.length>0&&n[0]!=="_"&&!t.dw(e,n)?t.ni("Binding error: undefined target property: "+n+" on "+e.toString()):n==="name"&&e instanceof Wt&&t.ni("Binding error: cannot modify GraphObject.name on "+e.toString()))}updateTarget(e,n,o,l){const c=this.Ch;if(o!==void 0&&c!==""&&c!==o)return;const h=this.Ya,f=this.Lf;let g=n;if(c!==""&&!this.FN&&(l?g=l.yt(n,c):g=Jt.yt(n,c)),g===void 0)return;const v=e.diagram?.themeManager;if(f===null){if(h!==""){if(this.qu()&&(g=this.HT(v,g,e,h),g===void 0))return;l?l.Z(e,h,g):(n instanceof Wt||n instanceof ei)&&Jt.Z(e,h,g)}}else try{if(h!==""){let w=f(g,e);if(this.qu()&&(w=this.HT(v,w,e,h),w===void 0))return;l?l.Z(e,h,w):(n instanceof Wt||n instanceof ei)&&Jt.Z(e,h,w)}else f(g,e)}catch{}}updateSource(e,n,o,l){if(this.Af!==2)return;const c=this.Ya;if(o!==void 0&&c!==o)return;const h=this.Ch,f=this.Tf,g=l!==null?l.diagram:null,v=g!==null?g.model:null;let w=e;if(c!==""&&(v?w=v.yt(e,c):w=Jt.yt(e,c)),w!==void 0&&!this.U1.has(e))try{if(this.U1.add(e),f===null){if(h!=="")v!==null?v.setDataProperty(n,h,w):(n instanceof Wt||n instanceof ei)&&(n[h]=w);else if(v!==null&&l!==null&&l.itemIndex>=0&&l.panel!==null&&Array.isArray(l.panel.itemArray)){const k=l.itemIndex,P=l.panel.itemArray;v.removeArrayItem(P,k),v.insertArrayItem(P,k,w)}}else try{if(h!==""){const k=f(w,n,v);v!==null?v.setDataProperty(n,h,k):(n instanceof Wt||n instanceof ei)&&(n[h]=k)}else{const k=f(w,n,v);if(k!==void 0&&v!==null&&l!==null&&l.itemIndex>=0&&l.panel!==null&&Array.isArray(l.panel.itemArray)){const P=l.itemIndex,N=l.panel.itemArray;v.removeArrayItem(N,P),v.insertArrayItem(N,P,k)}}}catch{}}finally{this.U1.delete(e)}}}class gl extends Ds{Cy;Lh;Ga;constructor(e,n,o,l,c){super(e,n,l),o==null&&(o=""),c===void 0&&(c=null),this.Cy=o,this.Lh=c,this.Ga=null,this.n=16}cloneProtected(e){super.cloneProtected(e),e.Cy=this.Cy,e.Lh=this.Lh,e.Ga=this.Ga}qu(){return!0}get themeSource(){return this.Cy}set themeSource(e){this.h&&t.L(this),e!==null&&t.s(e,"string",gl,"themeSource"),this.Cy=e,this.Ga=null,e!==null?this.n=this.n|16:this.n=this.n&-17}get themeConverter(){return this.Lh}set themeConverter(e){this.h&&t.L(this),e!==null&&t.k(e,gl,"themeConverter"),this.Lh=e}ofData(){return this.h&&t.L(this),this.n=this.n|2,this.Cf=null,this}HT(e,n,o,l){if(!e||(this.FN&&(n=this.Ch),!n&&n!==0))return;let c=this.themeSource;this.Ga!==null?c=this.Ga:typeof c=="string"&&c.includes(".")&&(this.Ga=c.split("."),c=this.Ga);let h=e.findValue(n,c,l);return h===void 0&&t.ni(`Theme warning: ${n} could not be found when setting target property ${l}.`),t.it(this.Lh)&&(h=this.Lh(h,o)),h}}class Jt{Pt;$d;Ao;RN;Te;mi;Ah;Df;Ff;Zd;Qd;_d;tg;Ly;Ka;Jo;Ay;Lo;B1;constructor(e,n){if(b.Ki(this),this.Pt="",this.$d="",this.Ao=!1,this.RN={},this.Te=[],this.mi=new _,this.Ah="key",this.Df=null,this.Ff=null,this.Zd=!1,this.Qd=!1,this._d=!1,this.tg=null,this.Ly=100,this.Ka="category",this.Jo=new _,this.Ay=[],this.Lo=!1,this.B1=null,this.undoManager=new xe,e!==void 0&&(Array.isArray(e)?this.nodeDataArray=e:n=e),n){Object.assign(this,n);const o=n.Changed;o&&(delete this.Changed,this.addChangedListener(o))}}cloneProtected(e){e.Pt=this.Pt,e.$d=this.$d,e.Ao=this.Ao,e.Ah=this.Ah,e.Df=this.Df,e.Ff=this.Ff,e.Zd=this.Zd,e.Qd=this.Qd,e._d=this._d,e.tg=this.tg,e.Ly=this.Ly,e.Ka=this.Ka}copy(){const e=new this.constructor;return this.cloneProtected(e),e}clear(){this.Te=[],this.mi.clear(),this.Jo.clear(),this.undoManager.clear()}toString(e){if(e===void 0&&(e=0),e>1)return this.toJson();{let n=(this.name!==""?this.name:"")+" Model";if(e>0){n+=`
 node data:`;const o=this.nodeDataArray,l=o.length;for(let c=0;c<l;c++){const h=o[c];n+=" "+this.getKeyForNodeData(h)+":"+t.toString(h)}}return n}}toIncrementalData(e){e.change!==1&&t.o("Model.toIncrementalData argument is not a Transaction ChangedEvent:"+e.toString());const n=e.object;if(!e.isTransactionFinished||!(n instanceof de))return null;const o=this.qT(n);return this.vN(n,e.propertyName==="FinishedUndo",o)}vN(e,n,o){const l=this;let c=!1;const h=new b,f=new b,g=new b;e.changes.each(N=>{if(N.model===l){if(N.modelChange==="nodeDataArray")N.change===3?h.add(N.newValue):N.change===4&&g.add(N.oldValue);else if(l.containsNodeData(N.object))f.add(N.object);else if(N.change===2&&(l.modelData===N.object||N.propertyName==="modelData"))c=!0;else if(N.object!==null)if(o.has(N.object))o.get(N.object).each(F=>{l.containsNodeData(F)&&f.add(F)});else{if(N.object instanceof Jt||l.Ra()&&l.containsLinkData(N.object))return;l.WT(N.object).each(F=>{f.add(F)})}}});const v=new b;h.each(N=>{v.add(l.getKeyForNodeData(N)),n||f.add(N)});const w=new b;g.each(N=>{w.add(l.getKeyForNodeData(N)),n&&f.add(N)});const k=l.cloneDeep(f.toArray());let P=null;return c&&(P===null&&(P={}),P.modelData=this.cloneDeep(this.modelData)),v.count>0&&(P===null&&(P={}),n?P.removedNodeKeys=v.toArray():P.insertedNodeKeys=v.toArray()),k.length>0&&(P===null&&(P={}),P.modifiedNodeData=k),w.count>0&&(P===null&&(P={}),n?P.insertedNodeKeys=w.toArray():P.removedNodeKeys=w.toArray()),P}cloneDeep(e){return this.ig(e,!0)}ig(e,n,o,l){if(!t.G(e))return e;o||(o=new _);const c=o.get(e);if(c)return c;let h;if(Array.isArray(e)){h=[],o.set(e,h);for(let f=0;f<e.length;f++){const g=e[f];h.push(this.ig(g,!1,o,l))}}else if(e instanceof T||e instanceof B||e instanceof z||e instanceof W||e instanceof L)h=e.copy(),o.set(e,h);else{if(e instanceof Ae||e instanceof te)return e;if(e instanceof m)h=new m().addAll(this.ig(e.toArray(),!1,o,l)),o.set(e,h);else if(e instanceof b)h=new b().addAll(this.ig(e.toArray(),!1,o,l)),o.set(e,h);else if(e instanceof _)h=new _().addAll(this.ig(e.toArray(),!1,o,l)),o.set(e,h);else if(e instanceof Date)h=new Date(e),o.set(e,h);else if(e instanceof RegExp)h=new RegExp(e),o.set(e,h),h.lastIndex=e.lastIndex;else if(Jt.ON(null,"",e))h=e;else if(t.it(e.copy))h=e.copy(),o.set(e,h);else{h={},o.set(e,h);for(const f in e){if(f==="__gohashid")continue;const g=e[f];h[f]=this.ig(g,!1,o,l)}}}return h}De(e){return JSON.stringify(e).replace(/[\u007F-\uFFFF]/g,n=>{const o="0000"+n.charCodeAt(0).toString(16);return"\\u"+o.substring(o.length-4)})}eg(){let e="";return this.name!==""&&(e+=`,
  "name": `+this.De(this.name)),this.dataFormat!==""&&(e+=`,
  "dataFormat": `+this.De(this.dataFormat)),this.isReadOnly&&(e+=`,
  "isReadOnly": `+this.isReadOnly),this.nodeKeyProperty!=="key"&&typeof this.nodeKeyProperty=="string"&&(e+=`,
  "nodeKeyProperty": `+this.De(this.nodeKeyProperty)),this.copiesArrays&&(e+=`,
  "copiesArrays": true`),this.copiesArrayObjects&&(e+=`,
  "copiesArrayObjects": true`),this.copiesKey&&(e+=`,
  "copiesKey": true`),this.pointsDigits!==100&&(e+=`,
  "pointsDigits": `+this.pointsDigits.toString()),this.nodeCategoryProperty!=="category"&&typeof this.nodeCategoryProperty=="string"&&(e+=`,
  "nodeCategoryProperty": `+this.De(this.nodeCategoryProperty)),e}Ty(e){e.name&&(this.name=e.name),e.dataFormat&&(this.dataFormat=e.dataFormat),e.isReadOnly&&(this.isReadOnly=!0),e.nodeKeyProperty&&(this.nodeKeyProperty=e.nodeKeyProperty),e.copiesArrays&&(this.copiesArrays=!0),e.copiesArrayObjects&&(this.copiesArrayObjects=!0),e.copiesKey!==void 0&&(this.copiesKey=e.copiesKey),e.pointsDigits!==void 0&&(this.pointsDigits=parseInt(e.pointsDigits)),e.nodeCategoryProperty&&(this.nodeCategoryProperty=e.nodeCategoryProperty)}JT(){const e=this.modelData;return`,
  "modelData": `+this.$T(e)}ZT(e){const n=e.modelData;t.G(n)&&(this.replaceJsonObjects(n),this.modelData=n)}IN(){const e=this.modelData;let n=!1;for(const l in e)if(!this.V1(e,l,e[l])){n=!0;break}let o="";return n&&(o=this.JT()),o+`,
  "nodeDataArray": `+this.Th(this.nodeDataArray,!0)}EN(e){this.ZT(e);const n=e.nodeDataArray;Array.isArray(n)&&(this.replaceJsonObjects(n),this.nodeDataArray=n)}UN(e,n,o){if(e===n)return!0;if(typeof e!=typeof n||t.it(e)||t.it(n))return!1;if(Array.isArray(e)&&Array.isArray(n)){if(o.get(e)===n)return!0;if(o.set(e,n),e.length!==n.length)return!1;for(let l=0;l<e.length;l++)if(!this.UN(e[l],n[l],o))return!1;return!0}else if(t.G(e)&&t.G(n)){if(o.get(e)===n)return!0;o.set(e,n);for(const l in e){const c=e[l];if(this.V1(e,l,c))continue;const h=n[l];if(h===void 0||!this.UN(c,h,o))return!1}for(const l in n){const c=n[l];if(this.V1(n,l,c))continue;const h=e[l];if(h===void 0||!this.UN(h,c,o))return!1}return!0}return!1}static QT=`,
  "insertedNodeKeys": `;static qO=`,
  "modifiedNodeData": `;static _T=`,
  "removedNodeKeys": `;qT(e){let n=new _;const o=(l,c)=>{const h=c.part;if(!h)return;const f=h.data;if(l===f)return;let g=n.get(l);g===null?(g=new b,g.add(f),n.set(l,g)):g.add(f)};return e.changes.each(l=>{if(l.diagram!==null){const c=l.change;if(c===2){const h=l.object.panel;if(h){const f=h.data;f&&o(f,h)}}else if(c===3||c===4){const h=l.object,f=h.itemArray;f&&o(f,h)}}}),n}WT(e){const n=new b;for(let o=0;o<this.nodeDataArray.length;o++){const l=this.nodeDataArray[o];this.z1(e,l,l,n)}return n}z1(e,n,o,l){if(Array.isArray(n))for(let c=0;c<n.length;c++){const h=n[c];if(h===e)return l.add(o),!0;if(this.z1(e,h,o,l))return!0}else if(t.G(n)&&Object.getPrototypeOf(n)===Object.prototype)for(const c in n){const h=n[c];if(h===e)return l.add(o),!0;if(this.z1(e,h,o,l))return!0}return!1}BN(e,n,o){const l=this;let c=!1;const h=new b,f=new b,g=new b;e.changes.each(P=>{if(P.model===l){if(P.modelChange==="nodeDataArray")P.change===3?h.add(P.newValue):P.change===4&&g.add(P.oldValue);else if(l.containsNodeData(P.object))f.add(P.object);else if(P.change===2&&(l.modelData===P.object||P.propertyName==="modelData"))c=!0;else if(P.object!==null)if(o.has(P.object))o.get(P.object).each(N=>{l.containsNodeData(N)&&f.add(N)});else{if(P.object instanceof Jt||l.Ra()&&l.containsLinkData(P.object))return;l.WT(P.object).each(N=>{f.add(N)})}}});const v=new b;h.each(P=>{v.add(l.getKeyForNodeData(P)),n||f.add(P)});const w=new b;g.each(P=>{w.add(l.getKeyForNodeData(P)),n&&f.add(P)});let k="";return c&&(k+=this.JT()),v.count>0&&(k+=(n?Jt._T:Jt.QT)+this.Th(v.toArray(),!0)),f.count>0&&(k+=Jt.qO+this.Th(f.toArray(),!0)),w.count>0&&(k+=(n?Jt.QT:Jt._T)+this.Th(w.toArray(),!0)),k}Dy(e){(e.name!==void 0&&e.name!==this.name||e.dataFormat!==void 0&&e.dataFormat!==this.dataFormat||e.isReadOnly!==void 0&&e.isReadOnly!==this.isReadOnly||e.nodeKeyProperty!==void 0&&e.nodeKeyProperty!==this.nodeKeyProperty||e.copiesArrays!==void 0&&e.copiesArrays!==this.copiesArrays||e.copiesArrayObjects!==void 0&&e.copiesArrayObjects!==this.copiesArrayObjects||e.copiesKey!==void 0&&e.copiesKey!==this.copiesKey||e.nodeCategoryProperty!==void 0&&e.nodeCategoryProperty!==this.nodeCategoryProperty)&&t.o("applyIncrementalJson cannot change Model properties"),this.ZT(e);const n=e.insertedNodeKeys,o=e.modifiedNodeData,l=new _;if(Array.isArray(o))for(let h=0;h<o.length;h++){const f=o[h],g=this.getKeyForNodeData(f);g!=null&&l.set(g,f)}if(Array.isArray(n)){const h=n.length;for(let f=0;f<h;f++){const g=n[f];let v=this.findNodeDataForKey(g);v===null&&(v=l.get(g)||this.copyNodeData({}),this.setKeyForNodeData(v,g),this.addNodeData(v))}}if(Array.isArray(o)){const h=o.length;for(let f=0;f<h;f++){const g=o[f],v=this.getKeyForNodeData(g),w=this.findNodeDataForKey(v);if(w!==null){for(const k in g)k==="__gohashid"||k===this.nodeKeyProperty||(this.mm()||this.Mb())&&k===this.nodeIsGroupProperty||this.setDataProperty(w,k,g[k]);this.sg(g,w)}}}const c=e.removedNodeKeys;if(Array.isArray(c)){const h=c.length;for(let f=0;f<h;f++){const g=c[f],v=this.findNodeDataForKey(g);v!==null&&this.removeNodeData(v)}}}toIncrementalJson(e,n){e.change!==1&&t.o("Model.toIncrementalJson argument is not a Transaction ChangedEvent:"+e.toString());const o=e.object;if(!e.isTransactionFinished||!(o instanceof de))return'{ "incremental": 0 }';n===void 0&&(n=t.Dn(this));const l=this.qT(o),c=this.BN(o,e.propertyName==="FinishedUndo",l);return'{ "class": '+this.De(n)+', "incremental": 1'+this.eg()+c+"}"}toIncrementalJSON(e,n){return this.toIncrementalJson(e,n)}toJson(e){return e===void 0&&(e=t.Dn(this)),'{ "class": '+this.De(e)+this.eg()+this.IN()+"}"}toJSON(e){return this.toJson(e)}applyIncrementalJson(e){let n=null;if(typeof e=="string")try{n=i.JSON.parse(e)}catch{}else t.G(e)?n=e:t.o("Unable to modify a Model from: "+e);const o=n.incremental;typeof o!="number"&&t.o("Unable to apply non-incremental changes to Model: "+e),o!==0&&(this.startTransaction("applyIncrementalJson"),this.Dy(n),this.commitTransaction("applyIncrementalJson"))}applyIncrementalJSON(e){return this.applyIncrementalJson(e)}static fromJson(e,n){n===void 0&&(n=null);let o=null;if(typeof e=="string")try{o=i.JSON.parse(e)}catch{}else t.G(e)?o=e:t.o("Unable to construct a Model from: "+e);if(n===null){const l=Jt.WO(o);l===null||l instanceof Jt?n=l:t.o("Unable to construct a Model of declared class: "+o.class)}return n===null&&(n=Jt.tD()),n.Ty(o),n.EN(o),n}static fromJSON(e,n){return this.fromJson(e,n)}static tD(){return new Jt}static WO(e){let n=null,o=e.class;if(typeof o=="string")try{let l=null;o.indexOf("go.")===0?l=Jt.VN(o.substring(3)):(l=Jt.VN(o),l===null&&(l=i[o])),t.it(l)&&(n=new l)}catch{}return n}replaceJsonObjects(e){if(Array.isArray(e)){const n=e.length;for(let o=0;o<n;o++){const l=e[o];t.G(l)&&this.iD(e,o,this.replaceJsonObjects(l))}}else if(t.G(e)){for(const n in e){const o=e[n];if(t.G(o)){const l=this.replaceJsonObjects(o);if(e[n]=l,n==="points"&&Array.isArray(l)){let c=l.length%2===0;for(let h=0;h<l.length;h++)if(typeof l[h]!="number"){c=!1;break}if(c){const h=new m;for(let f=0;f<l.length/2;f++)h.add(new T(l[f*2],l[f*2+1]));h.u(),e[n]=h}}}}return this.JO(e)}return e}writeJsonValue(e){return e===void 0?"undefined":e===null?"null":e===!0?"true":e===!1?"false":typeof e=="string"?this.De(e):typeof e=="number"?e===1/0?"9e9999":e===-1/0?"-9e9999":isNaN(e)?'{"class":"NaN"}':e.toString():e instanceof Boolean?this.writeJsonValue(e.valueOf()):e instanceof String?this.writeJsonValue(e.valueOf()):e instanceof Number?this.writeJsonValue(e.valueOf()):e instanceof Date?'{"class":"Date", "value":"'+e.toJSON()+'"}':Array.isArray(e)?this.Th(e):t.G(e)?this.$T(e):t.it(e)?"null":'"'+e.toString()+'"'}Th(e,n){n===void 0&&(n=!1);const o=e.length;if(o<=0)return"[]";const l=new s;l.add("["),n&&o>1&&l.add(`
`);for(let c=0;c<o;c++){const h=e[c];h!==void 0&&(c>0&&(l.add(","),n&&l.add(`
`)),l.add(this.writeJsonValue(h)))}return n&&o>1&&l.add(`
`),l.add("]"),l.toString()}V1(e,n,o){return!!(o===void 0||n==="__gohashid"||n[0]==="_"||t.it(o))}Yi(e){return isNaN(e)?"NaN":e===1/0?"9e9999":e===-1/0?"-9e9999":e}$T(e){const n=e;if(n instanceof T)e={class:"go.Point",x:this.Yi(n.x),y:this.Yi(n.y)};else if(n instanceof B)e={class:"go.Size",width:this.Yi(n.width),height:this.Yi(n.height)};else if(n instanceof z)e={class:"go.Rect",x:this.Yi(n.x),y:this.Yi(n.y),width:this.Yi(n.width),height:this.Yi(n.height)};else if(n instanceof W)e={class:"go.Margin",top:this.Yi(n.top),right:this.Yi(n.right),bottom:this.Yi(n.bottom),left:this.Yi(n.left)};else if(n instanceof L)n.isSpot()?e={class:"go.Spot",x:this.Yi(n.x),y:this.Yi(n.y),offsetX:this.Yi(n.offsetX),offsetY:this.Yi(n.offsetY)}:e={class:"go.Spot",enum:n.toString()};else if(n instanceof Ae){if(e={class:"go.Brush",type:Fs[n.type]},n.type===1?e.color=n.color:(n.type===2||n.type===3)&&(e.start=n.start,e.end=n.end,n.type===3&&(n.startRadius!==0&&(e.startRadius=this.Yi(n.startRadius)),isNaN(n.endRadius)||(e.endRadius=this.Yi(n.endRadius)))),n.colorStops!==null){const c={},h=n.colorStops.iterator;for(;h.next();){const f=h.key,g=h.value;c[f]=g}e.colorStops=c}}else if(n instanceof te)e={class:"go.Geometry",type:q[n.type]},n.startX!==0&&(e.startX=this.Yi(n.startX)),n.startY!==0&&(e.startY=this.Yi(n.startY)),n.endX!==0&&(e.endX=this.Yi(n.endX)),n.endY!==0&&(e.endY=this.Yi(n.endY)),n.spot1.equals(L.TopLeft)||(e.spot1=n.spot1),n.spot2.equals(L.BottomRight)||(e.spot2=n.spot2),n.type===4&&(e.path=te.stringify(n));else if(Jt.ON(null,"",n))return"{}";let o="{",l=!0;for(const c in e){const h=this.yt(e,c);if(!this.V1(e,c,h))if(l?l=!1:o+=",",o+=this.De(c)+":",c==="points"&&h instanceof m){const f=h;let g="[";const v=f.iterator;for(;v.next();){const w=v.value;g.length>1&&(g+=","),g+=this.eD(w.x),g+=",",g+=this.eD(w.y)}g+="]",o+=g}else o+=this.writeJsonValue(h)}return o+="}",o}eD(e){if(e===1/0)return"9e9999";if(e===-1/0)return"-9e9999";if(isNaN(e))return"0";const n=this.pointsDigits;return n>16?e.toString():e.toFixed(n)}get pointsDigits(){return this.Ly}set pointsDigits(e){e<0?e=0:e>100&&(e=100),this.Ly=e}Gi(e){return typeof e=="number"?e:e==="NaN"?NaN:e==="9e9999"?1/0:e==="-9e9999"?-1/0:parseFloat(e)}JO(e){if(!t.G(e))return e;let n=e.class||"";if(typeof n!="string"||n==="")return e;if(n==="NaN")return NaN;if(n==="Date")return new Date(e.value);if(n.indexOf("go.")!==0)return e;n=n.substring(3);let o=e;if(n==="Point")o=new T(this.Gi(e.x),this.Gi(e.y));else if(n==="Size")o=new B(this.Gi(e.width),this.Gi(e.height));else if(n==="Rect")o=new z(this.Gi(e.x),this.Gi(e.y),this.Gi(e.width),this.Gi(e.height));else if(n==="Margin")o=new W(this.Gi(e.top),this.Gi(e.right),this.Gi(e.bottom),this.Gi(e.left));else if(n==="Spot")typeof e.enum=="string"?o=L.parse(e.enum):o=new L(this.Gi(e.x),this.Gi(e.y),this.Gi(e.offsetX),this.Gi(e.offsetY));else if(n==="Brush"){const l=new Ae;l.type=t.Uh(Fs,e.type)??1,typeof e.color=="string"&&(l.color=e.color),e.start instanceof L&&(l.start=e.start),e.end instanceof L&&(l.end=e.end),typeof e.startRadius=="number"&&(l.startRadius=this.Gi(e.startRadius)),typeof e.endRadius=="number"&&(l.endRadius=this.Gi(e.endRadius));const c=e.colorStops;if(t.G(c))for(const h in c){const f=parseFloat(h);l.addColorStop(f,c[h])}o=l}else if(n==="Geometry"){let l=null;typeof e.path=="string"?l=te.parse(e.path):l=new te,l.type=t.Uh(q,e.type)??1,typeof e.startX=="number"&&(l.startX=this.Gi(e.startX)),typeof e.startY=="number"&&(l.startY=this.Gi(e.startY)),typeof e.endX=="number"&&(l.endX=this.Gi(e.endX)),typeof e.endY=="number"&&(l.endY=this.Gi(e.endY)),e.spot1 instanceof L&&(l.spot1=e.spot1),e.spot2 instanceof L&&(l.spot2=e.spot2),o=l}else if(n==="EnumValue"){let l=e.classType;l.indexOf("go.")===0&&(l=l.substring(3));const c=Jt.VN(l);t.it(c)&&(o=t.Uh(c,e.name))}return o}get name(){return this.Pt}set name(e){const n=this.Pt;n!==e&&(t.s(e,"string",Jt,"name"),this.Pt=e,this.t("name",n,e))}get dataFormat(){return this.$d}set dataFormat(e){const n=this.$d;n!==e&&(t.s(e,"string",Jt,"dataFormat"),this.$d=e,this.t("dataFormat",n,e))}get isReadOnly(){return this.Ao}set isReadOnly(e){const n=this.Ao;n!==e&&(t.s(e,"boolean",Jt,"isReadOnly"),this.Ao=e,this.t("isReadOnly",n,e))}get modelData(){return this.RN}set modelData(e){const n=this.modelData;n!==e&&(t.ec(e,Jt,"modelData"),this.containsNodeData(e)&&t.o("Model.modelData Object must not be used by the rest of the model: "+e),this.RN=e,this.t("modelData",n,e),this.updateTargetBindings(e))}addChangedListener(e){return t.k(e,Jt,"addChangedListener:listener"),this.Ay.push(e),this}removeChangedListener(e){t.k(e,Jt,"removeChangedListener:listener");const n=this.Ay.indexOf(e);n>=0&&this.Ay.splice(n,1)}VM(e){this.skipsUndoManager||this.undoManager.handleChanged(e),this.sD(e)}sD(e){this.Ay.forEach(n=>n(e))}dF(e){this.sD(e)}raiseChangedEvent(e,n,o,l,c,h,f){this.vt("",e,n,o,l,c,h,f)}raiseChanged(e,n,o,l,c){this.vt("",2,e,this,n,o,l,c)}t(e,n,o,l,c){this.vt("",2,e,this,n,o,l,c)}raiseDataChanged(e,n,o,l,c,h){this.vt("",2,n,e,o,l,c,h)}vt(e,n,o,l,c,h,f,g){f===void 0&&(f=null),g===void 0&&(g=null);const v=new pe;v.model=this,v.change=n,v.modelChange=e,v.propertyName=o,v.object=l,v.oldValue=c,v.oldParam=f,v.newValue=h,v.newParam=g,this.VM(v)}get undoManager(){return this.B1}set undoManager(e){const n=this.B1;n!==e&&(n!==null&&n.removeModel(this),this.B1=e,e!==null&&e.addModel(this))}get skipsUndoManager(){return this.Lo}set skipsUndoManager(e){t.s(e,"boolean",Jt,"skipsUndoManager"),this.Lo=e}changeState(e,n){if(e!==null&&e.model===this)if(e.change===2){const o=e.object,l=e.propertyName,c=e.getValue(n);if(l===this.nodeKeyProperty&&this.containsNodeData(o)){const h=e.getValue(!n);h!==void 0&&this.mi.delete(h),c!==void 0&&this.mi.set(c,o)}this.Z(o,l,c)}else if(e.change===3){const o=e.newParam;if(e.modelChange==="nodeDataArray"){const l=e.newValue;if(t.G(l)&&typeof o=="number"){const c=this.getKeyForNodeData(l);n?(this.Te[o]===l&&this.go(this.Te,o),c!==void 0&&this.mi.delete(c)):(this.Te[o]!==l&&this.$o(this.Te,o,l),c!==void 0&&this.mi.set(c,l))}}else if(e.modelChange===""){let l=e.object;if(l&&!Array.isArray(l)&&e.propertyName&&(l=this.yt(l,e.propertyName)),Array.isArray(l)&&typeof o=="number"){const c=e.newValue;n?this.go(l,o):this.$o(l,o,c)}}else t.o("unknown ChangeType.Insert modelChange: "+e.toString())}else if(e.change===4){const o=e.oldParam;if(e.modelChange==="nodeDataArray"){const l=e.oldValue;if(t.G(l)&&typeof o=="number"){const c=this.getKeyForNodeData(l);n?(this.Te[o]!==l&&this.$o(this.Te,o,l),c!==void 0&&this.mi.set(c,l)):(this.Te[o]===l&&this.go(this.Te,o),c!==void 0&&this.mi.delete(c))}}else if(e.modelChange===""){let l=e.object;if(l&&!Array.isArray(l)&&e.propertyName&&(l=this.yt(l,e.propertyName)),Array.isArray(l)&&typeof o=="number"){const c=e.oldValue;n?this.$o(l,o,c):this.go(l,o)}}else t.o("unknown ChangeType.Remove modelChange: "+e.toString())}else e.change===1||t.o("unknown ChangedEvent: "+e.toString())}startTransaction(e){return this.undoManager.startTransaction(e)}commitTransaction(e){return this.undoManager.commitTransaction(e)}rollbackTransaction(){return this.undoManager.rollbackTransaction()}commit(e,n){let o=n;o===void 0&&(o="");const l=this.skipsUndoManager;o===null&&(this.skipsUndoManager=!0,o=""),this.undoManager.startTransaction(o);let c=!1;try{e(this),c=!0}finally{c?this.undoManager.commitTransaction(o):this.undoManager.rollbackTransaction(),this.skipsUndoManager=l}}updateTargetBindings(e,n){n===void 0&&(n=""),this.vt("SourceChanged",1,n,e,null,null)}get nodeKeyProperty(){return this.Ah}set nodeKeyProperty(e){const n=this.Ah;n!==e&&(this.Pn(e,Jt,"nodeKeyProperty"),e===""&&t.o("Model.nodeKeyProperty may not be the empty string"),this.mi.count>0&&t.o("Cannot set Model.nodeKeyProperty when there is existing node data"),this.Ah=e,this.t("nodeKeyProperty",n,e))}Pn(e,n,o){}getKeyForNodeData(e){if(e===null)return;const n=this.Ah;if(n==="")return;const o=this.yt(e,n);if(o!==void 0){if(this.isKeyType(o))return o;t.o("Key value for node data "+e+" is not a number or a string: "+o)}}setKeyForNodeData(e,n){if((n==null||!this.isKeyType(n))&&t.Zi(n,"number or string",Jt,"setKeyForNodeData:key"),e===null)return;const o=this.Ah;if(o==="")return;if(!this.containsNodeData(e)){this.Z(e,o,n);return}const l=this.yt(e,o);if(l!==n){if(this.findNodeDataForKey(n)!==null)return;this.Z(e,o,n),l!==void 0&&this.mi.delete(l),this.mi.set(n,e),this.vt("nodeKey",2,o,e,l,n),typeof o=="string"&&this.updateTargetBindings(e,o),this.Fy(l,n)}}get makeUniqueKeyFunction(){return this.Df}set makeUniqueKeyFunction(e){const n=this.Df;n!==e&&(e!==null&&t.k(e,Jt,"makeUniqueKeyFunction"),this.Df=e,this.t("makeUniqueKeyFunction",n,e))}isKeyType(e){return typeof e=="number"||typeof e=="string"}containsNodeData(e){if(e===null)return!1;const n=this.getKeyForNodeData(e);return n===void 0?!1:this.mi.get(n)===e}findNodeDataForKey(e){return e===null&&t.o("Model.findNodeDataForKey:key must not be null"),e===void 0||!this.isKeyType(e)?null:this.mi.get(e)}get nodeDataArray(){return this.Te}set nodeDataArray(e){const n=this.Te;if(n!==e){this.zN(e,Jt,"nodeDataArray"),this.mi.clear(),this.XN();const o=e.length;for(let h=0;h<o;h++){const f=e[h];t.G(f)||t.o("Model.nodeDataArray must only contain Objects, not: "+f),f===this.modelData&&t.o("nodeDataArray Objects must not be the shared Model.modelData")}this.Te=e;const l=new m;for(let h=0;h<o;h++){const f=e[h],g=this.getKeyForNodeData(f);g===void 0||this.mi.get(g)!==null?l.add(f):this.mi.set(g,f)}const c=l.iterator;for(;c.next();){const h=c.value;this.makeNodeDataKeyUnique(h);const f=this.getKeyForNodeData(h);f!==void 0&&this.mi.set(f,h)}this.vt("nodeDataArray",2,"nodeDataArray",this,n,e);for(let h=0;h<o;h++){const f=e[h];this.ng(f),this.og(f)}}}X1(e){return e===void 0?!1:this.mi.has(e)}makeNodeDataKeyUnique(e){if(e===null)return;const n=this.Ah;if(n==="")return;let o=this.getKeyForNodeData(e);if(o!==void 0&&!this.X1(o))return;const l=this.Df;if(l!==null&&(o=l(this,e),o!=null&&!this.X1(o))){this.Z(e,n,o);return}if(typeof o=="string"){let c=2;for(;this.X1(o+c);)c++;this.Z(e,n,o+c)}else if(o===void 0||typeof o=="number"){let c=-this.mi.count-1;for(;this.X1(c);)c--;this.Z(e,n,c)}}addNodeData(e){e!==null&&(e===this.modelData&&t.o("Model.addNodeData cannot add the shared Model.modelData Object"),this.containsNodeData(e)||this.VT(e,!0))}VT(e,n){let o=this.getKeyForNodeData(e);if(o===void 0)this.makeNodeDataKeyUnique(e),o=this.getKeyForNodeData(e);else{if(this.mi.get(o)===e)return;this.makeNodeDataKeyUnique(e),o=this.getKeyForNodeData(e)}o===void 0&&t.o("Model.makeNodeDataKeyUnique failed on "+e+".  Data not added to Model."),this.mi.set(o,e);let l=null;n&&(l=this.Te.length,this.$o(this.Te,l,e)),this.vt("nodeDataArray",3,"nodeDataArray",this,null,e,null,l),this.ng(e),this.og(e)}addNodeDataCollection(e){if(Array.isArray(e)){const n=e.length;for(let o=0;o<n;o++)this.addNodeData(e[o])}else{const n=e.iterator;for(;n.next();){const o=n.value;this.addNodeData(o)}}}removeNodeData(e){e!==null&&this.BT(e,!0)}BT(e,n){const o=this.getKeyForNodeData(e);o!==void 0&&this.mi.delete(o);let l=null;if(n){if(l=this.Te.indexOf(e),l<0)return;this.go(this.Te,l)}this.vt("nodeDataArray",4,"nodeDataArray",this,e,null,l,null),this.Ry(e)}removeNodeDataCollection(e){if(Array.isArray(e)){const n=e.length;for(let o=0;o<n;o++)this.removeNodeData(e[o])}else{const n=e.iterator;for(;n.next();){const o=n.value;this.removeNodeData(o)}}}mergeNodeDataArray(e){if(e===this.nodeDataArray||!Array.isArray(e))return;const n=new b;n.addAll(this.mi.iteratorKeys);const o=new b,l=e.length;for(let h=0;h<l;h++){const f=e[h],g=this.getKeyForNodeData(f);if(g!==void 0){o.add(g);const v=this.findNodeDataForKey(g);if(v===f)continue;if(v!==null)this.assignAllDataProperties(v,f),this.sg(f,v);else{const w=this.cloneDeep(f);this.setKeyForNodeData(w,g),this.addNodeData(w)}}else{const v=this.cloneDeep(f);this.addNodeData(v),o.add(this.getKeyForNodeData(v))}}const c=n.iterator;for(;c.next();){const h=c.value;if(!o.has(h)){const f=this.findNodeDataForKey(h);f&&this.removeNodeData(f)}}}Fy(e,n){if(n===void 0)return;const o=this.Ny(e);o instanceof b&&this.Jo.set(n,o)}XN(){}ng(e){}og(e){}Ry(e){}Js(e,n){if(e===void 0)return;let o=this.Jo.get(e);o===null&&(o=new b,this.Jo.set(e,o)),o.add(n)}Ws(e,n){if(e===void 0)return;const o=this.Jo.get(e);o instanceof b&&(n==null?this.Jo.delete(e):(o.delete(n),o.count===0&&this.Jo.delete(e)))}Ny(e){if(e===void 0)return null;const n=this.Jo.get(e);return n instanceof b?n:null}OE(e){e===void 0?this.Jo.clear():this.Jo.delete(e)}get copyNodeDataFunction(){return this.Ff}set copyNodeDataFunction(e){const n=this.Ff;n!==e&&(e!==null&&t.k(e,Jt,"copyNodeDataFunction"),this.Ff=e,this.t("copyNodeDataFunction",n,e))}get copiesArrays(){return this.Zd}set copiesArrays(e){const n=this.Zd;n!==e&&(e!==null&&t.s(e,"boolean",Jt,"copiesArrays"),this.Zd=e,this.t("copiesArrays",n,e))}get copiesArrayObjects(){return this.Qd}set copiesArrayObjects(e){const n=this.Qd;n!==e&&(e!==null&&t.s(e,"boolean",Jt,"copiesArrayObjects"),this.Qd=e,this.t("copiesArrayObjects",n,e))}get copiesKey(){return this._d}set copiesKey(e){const n=this._d;n!==e&&(e!==null&&t.s(e,"boolean",Jt,"copiesKey"),this._d=e,this.t("copiesKey",n,e))}copyNodeData(e){if(e===null)return null;let n=null;const o=this.Ff;return o!==null?n=o(e,this):n=this.Y1(e,!0),n}Y1(e,n){if(t.G(e))if(Array.isArray(e))if(this.copiesArrays){const o=e,l=[];for(let c=0;c<o.length;c++){const h=o[c],f=this.Y1(h,this.copiesArrayObjects);l.push(f)}return l}else return e;else{if(e instanceof T||e instanceof B||e instanceof z||e instanceof W||e instanceof L)return e.copy();if(n){const o=e,l=o.constructor,c=l?new l:{},h=!this.copiesKey&&typeof this.nodeKeyProperty=="string"?this.nodeKeyProperty:null;for(const f in o){if(f==="__gohashid"){c.__gohashid=void 0;continue}if(f===h){c[h]=void 0;continue}const g=this.yt(o,f);if(!t.G(g))c[f]=g;else if(Jt.ON(o,f,g))this.Z(c,f,g);else{const v=this.Y1(g,!1);this.Z(c,f,v)}}return c}else return e}else return e}get afterCopyFunction(){return this.tg}set afterCopyFunction(e){const n=this.tg;n!==e&&(e!==null&&t.k(e,Jt,"afterCopyFunction"),this.tg=e,this.t("afterCopyFunction",n,e))}static ON(e,n,o){const l=t.Dn(o);return o instanceof Jt||o instanceof xe||o instanceof de||o instanceof pe||o instanceof Wt||o instanceof ei||o instanceof Te||o instanceof EventTarget||l==="Layer"||l==="RowColumnDefinition"||l.indexOf("Animation")>=0||l.indexOf("Tool")>=0||l.indexOf("CommandHandler")>=0||l.indexOf("Layout")>=0}static nD=!1;setDataProperty(e,n,o){if(this.containsNodeData(e)){if(n===this.nodeKeyProperty){this.setKeyForNodeData(e,o);return}else if(n===this.nodeCategoryProperty){this.setCategoryForNodeData(e,o);return}}else!Jt.nD&&e instanceof Wt&&(Jt.nD=!0,t.ni('Model.setDataProperty is modifying a GraphObject, "'+e.toString()+'"'),t.ni("  Is that really your intent?"));const l=this.yt(e,n);l!==o&&(this.Z(e,n,o),this.raiseDataChanged(e,n,l,o))}set(e,n,o){this.setDataProperty(e,n,o)}assignAllDataProperties(e,n){if(!n)return;const o=this.containsNodeData(e);for(const l in n)l!=="__gohashid"&&(o&&l===this.nodeKeyProperty||this.setDataProperty(e,l,n[l]))}addArrayItem(e,n){this.insertArrayItem(e,-1,n)}insertArrayItem(e,n,o){n<0&&(n=e.length),e=this.$o(e,n,o),this.vt("",3,"",e,null,o,null,n)}removeArrayItem(e,n){n===void 0&&(n=-1),e===this.Te&&t.o("Model.removeArrayItem should not be called on the Model.nodeDataArray"),n===-1&&(n=e.length-1);const o=e[n];e=this.go(e,n),this.vt("",4,"",e,o,null,n,null)}get nodeCategoryProperty(){return this.Ka}set nodeCategoryProperty(e){const n=this.Ka;n!==e&&(this.Pn(e,Jt,"nodeCategoryProperty"),this.Ka=e,this.t("nodeCategoryProperty",n,e))}getCategoryForNodeData(e){if(e===null)return"";const n=this.Ka;if(n==="")return"";const o=this.yt(e,n);if(o===void 0)return"";if(typeof o=="string")return o;t.o("getCategoryForNodeData found a non-string category for "+e+": "+o)}setCategoryForNodeData(e,n){if(t.s(n,"string",Jt,"setCategoryForNodeData:cat"),e===null)return;const o=this.Ka;if(o==="")return;if(!this.containsNodeData(e)){this.Z(e,o,n);return}let l=this.yt(e,o);l===void 0&&(l=""),l!==n&&(this.Z(e,o,n),this.vt("nodeCategory",2,o,e,l,n))}sg(e,n){this.setCategoryForNodeData(n,this.getCategoryForNodeData(e))}get type(){return"Model"}pm(){return!1}mm(){return!1}Mb(){return!1}Ra(){return!1}zw(){return!1}Hc(){return!1}static LM(){return new Jt}yt(e,n){return Jt.yt(e,n)}static yt(e,n){if(!e||!n)return null;let o;try{t.it(n)?o=n(e):t.it(e.getAttribute)?(o=e.getAttribute(n),o===null&&(o=void 0)):o=e[n]}catch{}return o}Z(e,n,o){Jt.Z(e,n,o)}static Z(e,n,o){if(!(!e||!n)){try{t.it(n)?n(e,o):t.it(e.setAttribute)?e.setAttribute(n,o):e[n]=o}catch{}return e}}zN(e,n,o){}iD(e,n,o){return e[n]=o,e}$o(e,n,o){return n>=e.length?e.push(o):e.splice(n,0,o),e}go(e,n){return n>=e.length?e.pop():e.splice(n,1),e}static VN(e){return Jt.YN[e]?Jt.YN[e]:i.go!==void 0&&i.go[e]?i.go[e]:null}static fl(e,n){Jt.YN[n]=e}static YN={}}Jt.fromJSON=Jt.fromJson=Jt.fromJson,Jt.fl(Ae,"Brush"),Jt.fl(te,"Geometry"),Jt.fl(W,"Margin"),Jt.fl(T,"Point"),Jt.fl(z,"Rect"),Jt.fl(B,"Size"),Jt.fl(L,"Spot"),Jt.fl(Jt,"Model");class Ci extends Jt{Ps;Zo;Di;Dh;Rf;vf;Ll;mo;po;ja;Ha;qa;$s;Of;Sn;rg;constructor(e,n,o){if(super(),this.Ps=[],this.Zo=new b,this.Di=new _,this.Dh="",this.Rf=null,this.vf=null,this.Ll=null,this.mo="from",this.po="to",this.ja="",this.Ha="",this.qa="category",this.$s="",this.Of="isGroup",this.Sn="group",this.rg=!1,n!==void 0&&(this.linkDataArray=n),e!==void 0&&(Array.isArray(e)?this.nodeDataArray=e:o=e),o){Object.assign(this,o);const l=o.Changed;l&&(delete this.Changed,this.addChangedListener(l))}}cloneProtected(e){super.cloneProtected(e),e.Dh=this.Dh,e.Rf=this.Rf,e.vf=this.vf,e.mo=this.mo,e.po=this.po,e.ja=this.ja,e.Ha=this.Ha,e.qa=this.qa,e.$s=this.$s,e.Of=this.Of,e.Sn=this.Sn,e.rg=this.rg}clear(){this.Ps=[],this.Di.clear(),this.Zo.clear(),super.clear()}toString(e){if(e===void 0&&(e=0),e>=2)return this.toJson();{let n=(this.name!==""?this.name:"")+" GraphLinksModel";if(e>0){n+=`
 node data:`;let o=this.nodeDataArray,l=o.length,c=0;for(c=0;c<l;c++){const h=o[c];n+=" "+this.getKeyForNodeData(h)+":"+Ds.toString(h)}for(n+=`
 link data:`,o=this.linkDataArray,l=o.length,c=0;c<l;c++){const h=o[c];n+=" "+this.Ae(h,!0)+"-->"+this.Ae(h,!1)}}return n}}vN(e,n,o){if(this.linkKeyProperty===""){const P=this.skipsUndoManager;this.skipsUndoManager=!0,this.linkKeyProperty="key",this.skipsUndoManager=P}let l=super.vN(e,n,o);const c=this,h=new b,f=new b,g=new b;e.changes.each(P=>{if(P.model===c){if(P.modelChange==="linkDataArray")P.change===3?h.add(P.newValue):P.change===4&&g.add(P.oldValue);else if(c.containsLinkData(P.object))f.add(P.object);else if(P.object!==null)if(P.object!==null&&o.has(P.object))o.get(P.object).each(N=>{c.containsLinkData(N)&&f.add(N)});else{if(P.object instanceof Jt||c.containsNodeData(P.object))return;c.oD(P.object).each(N=>f.add(N))}}});const v=new b;h.each(P=>{v.add(c.getKeyForLinkData(P)),n||f.add(P)});const w=new b;g.each(P=>{w.add(c.getKeyForLinkData(P)),n&&f.add(P)});const k=c.cloneDeep(f.toArray());return v.count>0&&(l===null&&(l={}),n?l.removedLinkKeys=v.toArray():l.insertedLinkKeys=v.toArray()),k.length>0&&(l===null&&(l={}),l.modifiedLinkData=k),w.count>0&&(l===null&&(l={}),n?l.insertedLinkKeys=w.toArray():l.removedLinkKeys=w.toArray()),l}eg(){const e=super.eg();let n="";return this.linkCategoryProperty!=="category"&&typeof this.linkCategoryProperty=="string"&&(n+=`,
  "linkCategoryProperty": `+this.De(this.linkCategoryProperty)),this.linkKeyProperty!==""&&typeof this.linkKeyProperty=="string"&&(n+=`,
  "linkKeyProperty": `+this.De(this.linkKeyProperty)),this.linkFromKeyProperty!=="from"&&typeof this.linkFromKeyProperty=="string"&&(n+=`,
  "linkFromKeyProperty": `+this.De(this.linkFromKeyProperty)),this.linkToKeyProperty!=="to"&&typeof this.linkToKeyProperty=="string"&&(n+=`,
  "linkToKeyProperty": `+this.De(this.linkToKeyProperty)),this.linkFromPortIdProperty!==""&&typeof this.linkFromPortIdProperty=="string"&&(n+=`,
  "linkFromPortIdProperty": `+this.De(this.linkFromPortIdProperty)),this.linkToPortIdProperty!==""&&typeof this.linkToPortIdProperty=="string"&&(n+=`,
  "linkToPortIdProperty": `+this.De(this.linkToPortIdProperty)),this.linkLabelKeysProperty!==""&&typeof this.linkLabelKeysProperty=="string"&&(n+=`,
  "linkLabelKeysProperty": `+this.De(this.linkLabelKeysProperty)),this.nodeIsGroupProperty!=="isGroup"&&typeof this.nodeIsGroupProperty=="string"&&(n+=`,
  "nodeIsGroupProperty": `+this.De(this.nodeIsGroupProperty)),this.nodeGroupKeyProperty!=="group"&&typeof this.nodeGroupKeyProperty=="string"&&(n+=`,
  "nodeGroupKeyProperty": `+this.De(this.nodeGroupKeyProperty)),e+n}Ty(e){super.Ty(e),e.linkKeyProperty&&(this.linkKeyProperty=e.linkKeyProperty),e.linkFromKeyProperty&&(this.linkFromKeyProperty=e.linkFromKeyProperty),e.linkToKeyProperty&&(this.linkToKeyProperty=e.linkToKeyProperty),e.linkFromPortIdProperty&&(this.linkFromPortIdProperty=e.linkFromPortIdProperty),e.linkToPortIdProperty&&(this.linkToPortIdProperty=e.linkToPortIdProperty),e.linkCategoryProperty&&(this.linkCategoryProperty=e.linkCategoryProperty),e.linkLabelKeysProperty&&(this.linkLabelKeysProperty=e.linkLabelKeysProperty),e.nodeIsGroupProperty&&(this.nodeIsGroupProperty=e.nodeIsGroupProperty),e.nodeGroupKeyProperty&&(this.nodeGroupKeyProperty=e.nodeGroupKeyProperty)}IN(){const e=super.IN(),n=`,
  "linkDataArray": `+this.Th(this.linkDataArray,!0);return e+n}EN(e){super.EN(e);const n=e.linkDataArray;Array.isArray(n)&&(this.replaceJsonObjects(n),this.linkDataArray=n)}rD=`,
  "insertedLinkKeys": `;$O=`,
  "modifiedLinkData": `;lD=`,
  "removedLinkKeys": `;oD(e){const n=new b;for(let o=0;o<this.linkDataArray.length;o++){const l=this.linkDataArray[o];this.z1(e,l,l,n)}return n}BN(e,n,o){if(this.linkKeyProperty===""){const P=this.skipsUndoManager;this.skipsUndoManager=!0,this.linkKeyProperty="key",this.skipsUndoManager=P}const l=super.BN(e,n,o),c=this,h=new b,f=new b,g=new b;e.changes.each(P=>{if(P.model===c){if(P.modelChange==="linkDataArray")P.change===3?h.add(P.newValue):P.change===4&&g.add(P.oldValue);else if(c.containsLinkData(P.object))f.add(P.object);else if(P.object!==null)if(P.object!==null&&o.has(P.object))o.get(P.object).each(N=>{c.containsLinkData(N)&&f.add(N)});else{if(P.object instanceof Jt||c.containsNodeData(P.object))return;c.oD(P.object).each(N=>f.add(N))}}});const v=new b;h.each(P=>{v.add(c.getKeyForLinkData(P)),n||f.add(P)});const w=new b;g.each(P=>{w.add(c.getKeyForLinkData(P)),n&&f.add(P)});let k=l;return v.count>0&&(k+=(n?this.lD:this.rD)+this.Th(v.toArray(),!0)),f.count>0&&(k+=this.$O+this.Th(f.toArray(),!0)),w.count>0&&(k+=(n?this.rD:this.lD)+this.Th(w.toArray(),!0)),k}Dy(e){(e.linkCategoryProperty!==void 0&&e.linkCategoryProperty!==this.linkCategoryProperty||e.linkKeyProperty!==void 0&&e.linkKeyProperty!==this.linkKeyProperty||e.linkFromKeyProperty!==void 0&&e.linkFromKeyProperty!==this.linkFromKeyProperty||e.linkToKeyProperty!==void 0&&e.linkToKeyProperty!==this.linkToKeyProperty||e.linkFromPortIdProperty!==void 0&&e.linkFromPortIdProperty!==this.linkFromPortIdProperty||e.linkToPortIdProperty!==void 0&&e.linkToPortIdProperty!==this.linkToPortIdProperty||e.linkLabelKeysProperty!==void 0&&e.linkLabelKeysProperty!==this.linkLabelKeysProperty||e.nodeIsGroupProperty!==void 0&&e.nodeIsGroupProperty!==this.nodeIsGroupProperty||e.nodeGroupKeyProperty!==void 0&&e.nodeGroupKeyProperty!==this.nodeGroupKeyProperty)&&t.o("applyIncrementalJson cannot change Model properties"),super.Dy(e);const n=e.insertedLinkKeys;if(Array.isArray(n)){const c=n.length;for(let h=0;h<c;h++){const f=n[h];let g=this.findLinkDataForKey(f);g===null&&(g=this.copyLinkData({}),this.setKeyForLinkData(g,f),this.addLinkData(g))}}const o=e.modifiedLinkData;if(Array.isArray(o)){const c=o.length;for(let h=0;h<c;h++){const f=o[h],g=this.getKeyForLinkData(f),v=this.findLinkDataForKey(g);if(v!==null){for(const w in f)w==="__gohashid"||w===this.linkKeyProperty||this.setDataProperty(v,w,f[w]);this.hD(f,v)}}}const l=e.removedLinkKeys;if(Array.isArray(l)){const c=l.length;for(let h=0;h<c;h++){const f=l[h],g=this.findLinkDataForKey(f);g!==null&&this.removeLinkData(g)}}}changeState(e,n){if(!(e===null||e.model!==this)){if(e.change===2){const o=e.object,l=e.propertyName;if(l===this.linkKeyProperty&&this.containsLinkData(o)){const c=e.getValue(n),h=e.getValue(!n);h!==void 0&&this.Di.delete(h),c!==void 0&&this.Di.set(c,o),this.Z(o,l,c);return}}else if(e.change===3){let o=e.newParam;if(e.modelChange==="linkDataArray"){const l=e.newValue;if(t.G(l)&&typeof o=="number"){const c=this.getKeyForLinkData(l);n?(this.Zo.delete(l),this.Ps[o]===l&&this.go(this.linkDataArray,o),c!==void 0&&this.Di.delete(c)):(this.Zo.add(l),this.Ps[o]!==l&&this.$o(this.Ps,o,l),c!==void 0&&this.Di.set(c,l))}return}else if(e.modelChange==="linkLabelKeys"){const l=e.object,c=this.getLabelKeysForLinkData(l);Array.isArray(c)&&typeof o=="number"&&(n?(o=c.indexOf(e.newValue),o>=0&&this.go(c,o)):c.indexOf(e.newValue)<0&&this.$o(c,o,e.newValue));return}}else if(e.change===4){let o=e.oldParam;if(e.modelChange==="linkDataArray"){const l=e.oldValue;if(t.G(l)&&typeof o=="number"){const c=this.getKeyForLinkData(l);n?(this.Zo.add(l),this.Ps[o]!==l&&this.$o(this.Ps,o,l),c!==void 0&&this.Di.set(c,l)):(this.Zo.delete(l),this.Ps[o]===l&&this.go(this.linkDataArray,o),c!==void 0&&this.Di.delete(c))}return}else if(e.modelChange==="linkLabelKeys"){const l=e.object,c=this.getLabelKeysForLinkData(l);Array.isArray(c)&&typeof o=="number"&&(n?c.indexOf(e.oldValue)<0&&this.$o(c,o,e.oldValue):(o=c.indexOf(e.oldValue),o>=0&&this.go(c,o)));return}}super.changeState(e,n)}}get archetypeNodeData(){return this.Ll}set archetypeNodeData(e){const n=this.Ll;n!==e&&(e!==null&&t.ec(e,Ci,"archetypeNodeData"),this.Ll=e,this.t("archetypeNodeData",n,e))}GN(e){if(e===void 0)return;const n=this.Ll;if(n!==null){let o=this.findNodeDataForKey(e);o===null&&(o=this.copyNodeData(n),this.Z(o,this.nodeKeyProperty,e),this.addNodeData(o))}return e}get linkFromKeyProperty(){return this.mo}set linkFromKeyProperty(e){const n=this.mo;n!==e&&(this.Pn(e,Ci,"linkFromKeyProperty"),this.mo=e,this.t("linkFromKeyProperty",n,e))}getFromKeyForLinkData(e){return this.Ae(e,!0)}setFromKeyForLinkData(e,n){this.Wd(e,n,!0)}get linkToKeyProperty(){return this.po}set linkToKeyProperty(e){const n=this.po;n!==e&&(this.Pn(e,Ci,"linkToKeyProperty"),this.po=e,this.t("linkToKeyProperty",n,e))}getToKeyForLinkData(e){return this.Ae(e,!1)}setToKeyForLinkData(e,n){this.Wd(e,n,!1)}Ae(e,n){if(e===null)return;const o=n?this.mo:this.po;if(o==="")return;const l=this.yt(e,o);if(l!==void 0){if(this.isKeyType(l))return l;t.o((n?"FromKey":"ToKey")+" value for link data "+e+" is not a number or a string: "+l)}}Wd(e,n,o){if(n===null&&(n=void 0),n!==void 0&&!this.isKeyType(n)&&t.Zi(n,"number or string",Ci,o?"setFromKeyForLinkData:key":"setToKeyForLinkData:key"),e===null)return;const l=o?this.mo:this.po;if(l==="")return;if(n=this.GN(n),!this.containsLinkData(e)){this.Z(e,l,n);return}const c=this.yt(e,l);c!==n&&(this.Ws(c,e),this.Z(e,l,n),this.findNodeDataForKey(n)===null&&this.Js(n,e),this.vt(o?"linkFromKey":"linkToKey",2,l,e,c,n),typeof l=="string"&&this.updateTargetBindings(e,l))}get linkFromPortIdProperty(){return this.ja}set linkFromPortIdProperty(e){const n=this.ja;n!==e&&(this.Pn(e,Ci,"linkFromPortIdProperty"),this.ja=e,this.t("linkFromPortIdProperty",n,e))}getFromPortIdForLinkData(e){return this.I1(e,!0)}setFromPortIdForLinkData(e,n){this.Jd(e,n,!0)}get linkToPortIdProperty(){return this.Ha}set linkToPortIdProperty(e){const n=this.Ha;n!==e&&(this.Pn(e,Ci,"linkToPortIdProperty"),this.Ha=e,this.t("linkToPortIdProperty",n,e))}getToPortIdForLinkData(e){return this.I1(e,!1)}setToPortIdForLinkData(e,n){this.Jd(e,n,!1)}I1(e,n){if(e===null)return"";const o=n?this.ja:this.Ha;if(o==="")return"";const l=this.yt(e,o);return l===void 0?"":l}Jd(e,n,o){if(e===null)return;const l=o?this.ja:this.Ha;if(l==="")return;if(!this.containsLinkData(e)){this.Z(e,l,n);return}let c=this.yt(e,l);c===void 0&&(c=""),c!==n&&(this.Z(e,l,n),this.vt(o?"linkFromPortId":"linkToPortId",2,l,e,c,n),typeof l=="string"&&this.updateTargetBindings(e,l))}get linkLabelKeysProperty(){return this.$s}set linkLabelKeysProperty(e){const n=this.$s;n!==e&&(this.Pn(e,Ci,"linkLabelKeysProperty"),this.$s=e,this.t("linkLabelKeysProperty",n,e))}getLabelKeysForLinkData(e){if(e===null)return Ci.EmptyArray;const n=this.$s;if(n==="")return Ci.EmptyArray;const o=this.yt(e,n);return o===void 0?Ci.EmptyArray:o}setLabelKeysForLinkData(e,n){if(this.zN(n,Ci,"setLabelKeysForLinkData:arr"),e===null)return;const o=this.$s;if(o==="")return;if(!this.containsLinkData(e)){this.Z(e,o,n);return}let l=this.yt(e,o);if(l===void 0&&(l=Ci.EmptyArray),l!==n){if(Array.isArray(l)){const h=l.length;for(let f=0;f<h;f++){const g=l[f];this.Ws(g,e)}}this.Z(e,o,n);const c=n.length;for(let h=0;h<c;h++){const f=n[h];this.findNodeDataForKey(f)===null&&this.Js(f,e)}this.vt("linkLabelKeys",2,o,e,l,n),typeof o=="string"&&this.updateTargetBindings(e,o)}}addLabelKeyForLinkData(e,n){if(n==null||(this.isKeyType(n)||t.Zi(n,"number or string",Ci,"addLabelKeyForLinkData:key"),e===null))return;const o=this.$s;if(o==="")return;const l=this.yt(e,o);if(l===void 0){const c=[];c.push(n),this.setLabelKeysForLinkData(e,c)}else if(Array.isArray(l)){let c=l.indexOf(n);if(c>=0)return;c=l.length,l.push(n),this.containsLinkData(e)&&(this.findNodeDataForKey(n)===null&&this.Js(n,e),this.vt("linkLabelKeys",3,o,e,null,n,null,c))}else t.o(o+" property is not an Array; cannot addLabelKeyForLinkData: "+e)}removeLabelKeyForLinkData(e,n){if(n==null||(this.isKeyType(n)||t.Zi(n,"number or string",Ci,"removeLabelKeyForLinkData:key"),e===null))return;const o=this.$s;if(o==="")return;const l=this.yt(e,o);if(Array.isArray(l)){const c=l.indexOf(n);if(c<0)return;this.go(l,c),this.containsLinkData(e)&&(this.Ws(n,e),this.vt("linkLabelKeys",4,o,e,n,null,c,null))}else l!==void 0&&t.o(o+" property is not an Array; cannot removeLabelKeyforLinkData: "+e)}get linkDataArray(){return this.Ps}set linkDataArray(e){const n=this.Ps;if(n!==e){this.zN(e,Ci,"linkDataArray"),this.Di.clear();const o=e.length;for(let c=0;c<o;c++){const h=e[c];t.G(h)||t.o("GraphLinksModel.linkDataArray must only contain Objects, not: "+h)}if(this.Ps=e,this.linkKeyProperty!==""){const c=new m;for(let f=0;f<o;f++){const g=e[f],v=this.getKeyForLinkData(g);v===void 0||this.Di.get(v)!==null?c.add(g):this.Di.set(v,g)}const h=c.iterator;for(;h.next();){const f=h.value;this.makeLinkDataKeyUnique(f);const g=this.getKeyForLinkData(f);g!==void 0&&this.Di.set(g,f)}}const l=new b;for(let c=0;c<o;c++){const h=e[c];l.add(h)}this.Zo=l,this.vt("linkDataArray",2,"linkDataArray",this,n,e);for(let c=0;c<o;c++){const h=e[c];this.KN(h)}}}get linkKeyProperty(){return this.Dh}set linkKeyProperty(e){const n=this.Dh;if(n!==e){this.Pn(e,Ci,"linkKeyProperty"),this.Dh=e,this.Di.clear();const o=this.linkDataArray.length;for(let l=0;l<o;l++){const c=this.linkDataArray[l];let h=this.getKeyForLinkData(c);h===void 0&&(this.makeLinkDataKeyUnique(c),h=this.getKeyForLinkData(c)),h!==void 0&&this.Di.set(h,c)}this.t("linkKeyProperty",n,e)}}getKeyForLinkData(e){if(e===null)return;const n=this.Dh;if(n==="")return;const o=this.yt(e,n);if(o!==void 0){if(this.isKeyType(o))return o;t.o("Key value for link data "+e+" is not a number or a string: "+o)}}setKeyForLinkData(e,n){if((n==null||!this.isKeyType(n))&&t.Zi(n,"number or string",Ci,"setKeyForLinkData:key"),e===null)return;const o=this.Dh;if(o==="")return;if(!this.containsLinkData(e)){this.Z(e,o,n);return}const l=this.yt(e,o);if(l!==n){if(this.findLinkDataForKey(n)!==null)return;this.Z(e,o,n),l!==void 0&&this.Di.delete(l),this.Di.set(n,e),this.vt("linkKey",2,o,e,l,n),typeof o=="string"&&this.updateTargetBindings(e,o)}}get makeUniqueLinkKeyFunction(){return this.Rf}set makeUniqueLinkKeyFunction(e){const n=this.Rf;n!==e&&(this.Rf=e,this.t("makeUniqueLinkKeyFunction",n,e))}findLinkDataForKey(e){return e===null&&t.o("GraphLinksModel.findLinkDataForKey:key must not be null"),e===void 0||!this.isKeyType(e)?null:this.Di.get(e)}G1(e){return e===void 0?!1:this.Di.has(e)}makeLinkDataKeyUnique(e){if(e===null)return;const n=this.Dh;if(n==="")return;let o=this.getKeyForLinkData(e);if(o!==void 0&&!this.G1(o))return;const l=this.Rf;if(l!==null&&(o=l(this,e),o!=null&&!this.G1(o))){this.Z(e,n,o);return}if(typeof o=="string"){let c=2;for(;this.G1(o+c);)c++;this.Z(e,n,o+c)}else if(o===void 0||typeof o=="number"){let c=-this.Di.count-1;for(;this.G1(c);)c--;this.Z(e,n,c)}}containsLinkData(e){return e===null?!1:this.Zo.has(e)}addLinkData(e){e!==null&&(this.containsLinkData(e)||this.jT(e,!0))}jT(e,n){if(this.linkKeyProperty!==""){let l=this.getKeyForLinkData(e);if(l===void 0)this.makeLinkDataKeyUnique(e),l=this.getKeyForLinkData(e);else{if(this.Di.get(l)===e)return;this.makeLinkDataKeyUnique(e),l=this.getKeyForLinkData(e)}l===void 0&&t.o("GraphLinksModel.makeLinkDataKeyUnique failed on "+e+". Data not added to model."),this.Di.set(l,e)}this.Zo.add(e);let o=null;n&&(o=this.Ps.length,this.$o(this.Ps,o,e)),this.vt("linkDataArray",3,"linkDataArray",this,null,e,null,o),this.KN(e)}addLinkDataCollection(e){if(Array.isArray(e)){const n=e.length;for(let o=0;o<n;o++)this.addLinkData(e[o])}else{const n=e.iterator;for(;n.next();){const o=n.value;this.addLinkData(o)}}}removeLinkData(e){e!==null&&this.KT(e,!0)}KT(e,n){this.Zo.delete(e);const o=this.getKeyForLinkData(e);o!==void 0&&this.Di.delete(o);let l=null;if(n){if(l=this.Ps.indexOf(e),l<0)return;this.go(this.Ps,l)}this.vt("linkDataArray",4,"linkDataArray",this,e,null,l,null),this.ZO(e)}removeLinkDataCollection(e){if(Array.isArray(e)){const n=e.length;for(let o=0;o<n;o++)this.removeLinkData(e[o])}else{const n=e.iterator;for(;n.next();){const o=n.value;this.removeLinkData(o)}}}mergeLinkDataArray(e){if(this.linkKeyProperty===""&&t.o("GraphLinksModel.linkKeyProperty must not be an empty string for .mergeLinkDataArray() to succeed."),e===this.linkDataArray||!Array.isArray(e))return;const n=new b;n.addAll(this.Di.iteratorKeys);const o=new b,l=e.length;for(let h=0;h<l;h++){const f=e[h],g=this.getKeyForLinkData(f);if(g!==void 0){o.add(g);const v=this.findLinkDataForKey(g);if(v===f)continue;if(v!==null)this.assignAllDataProperties(v,f),this.hD(f,v);else{const w=this.cloneDeep(f);this.setKeyForLinkData(w,g),this.addLinkData(w)}}else{const v=this.cloneDeep(f);this.addLinkData(v),o.add(this.getKeyForLinkData(v))}}const c=n.iterator;for(;c.next();){const h=c.value;if(!o.has(h)){const f=this.findLinkDataForKey(h);f&&this.removeLinkData(f)}}}KN(e){let n=this.Ae(e,!0);n=this.GN(n),this.findNodeDataForKey(n)===null&&this.Js(n,e),n=this.Ae(e,!1),n=this.GN(n),this.findNodeDataForKey(n)===null&&this.Js(n,e);const o=this.getLabelKeysForLinkData(e);if(Array.isArray(o)){const l=o.length;for(let c=0;c<l;c++)n=o[c],this.findNodeDataForKey(n)===null&&this.Js(n,e)}}ZO(e){let n=this.Ae(e,!0);this.Ws(n,e),n=this.Ae(e,!1),this.Ws(n,e);const o=this.getLabelKeysForLinkData(e);if(Array.isArray(o)){const l=o.length;for(let c=0;c<l;c++)n=o[c],this.Ws(n,e)}}get copyLinkDataFunction(){return this.vf}set copyLinkDataFunction(e){const n=this.vf;n!==e&&(this.vf=e,this.t("copyLinkDataFunction",n,e))}copyLinkData(e){if(e===null)return null;let n=null;const o=this.vf;return o!==null?n=o(e,this):n=this.Y1(e,!0),t.G(n)&&(this.mo!==""&&this.Z(n,this.mo,void 0),this.po!==""&&this.Z(n,this.po,void 0),this.$s!==""&&this.Z(n,this.$s,[])),n}get nodeIsGroupProperty(){return this.Of}set nodeIsGroupProperty(e){const n=this.Of;n!==e&&(this.Pn(e,Ci,"nodeIsGroupProperty"),this.Of=e,this.t("nodeIsGroupProperty",n,e))}isGroupForNodeData(e){if(e===null)return!1;const n=this.Of;return n===""?!1:!!this.yt(e,n)}isGroupForData(e){return this.isGroupForNodeData(e)}get nodeGroupKeyProperty(){return this.Sn}set nodeGroupKeyProperty(e){const n=this.Sn;n!==e&&(this.Pn(e,Ci,"nodeGroupKeyProperty"),this.Sn=e,this.t("nodeGroupKeyProperty",n,e))}get copiesGroupKeyOfNodeData(){return this.rg}set copiesGroupKeyOfNodeData(e){this.rg!==e&&(this.rg=e)}getGroupKeyForNodeData(e){if(e===null)return;const n=this.Sn;if(n==="")return;const o=this.yt(e,n);if(o!==void 0){if(this.isKeyType(o))return o;t.o("GroupKey value for node data "+e+" is not a number or a string: "+o)}}getGroupForData(e){return this.getGroupKeyForNodeData(e)}setGroupKeyForNodeData(e,n){if(n===null&&(n=void 0),n!==void 0&&!this.isKeyType(n)&&t.Zi(n,"number or string",Ci,"setGroupKeyForNodeData:key"),e===null)return;const o=this.Sn;if(o==="")return;if(!this.containsNodeData(e)){this.Z(e,o,n);return}const l=this.yt(e,o);l!==n&&(this.Ws(l,e),this.Z(e,o,n),this.findNodeDataForKey(n)===null&&this.Js(n,e),this.vt("nodeGroupKey",2,o,e,l,n),typeof o=="string"&&this.updateTargetBindings(e,o))}setGroupForData(e,n){this.setGroupKeyForNodeData(e,n)}copyNodeData(e){if(e===null)return null;const n=super.copyNodeData(e);return!this.copiesGroupKeyOfNodeData&&this.Sn!==""&&this.yt(n,this.Sn)!==void 0&&this.Z(n,this.Sn,void 0),n}setDataProperty(e,n,o){if(this.containsNodeData(e)){if(n===this.nodeKeyProperty){this.setKeyForNodeData(e,o);return}else if(n===this.nodeCategoryProperty){this.setCategoryForNodeData(e,o);return}else if(n===this.nodeGroupKeyProperty){this.setGroupKeyForNodeData(e,o);return}}else if(this.containsLinkData(e)){if(n===this.linkFromKeyProperty){this.Wd(e,o,!0);return}else if(n===this.linkToKeyProperty){this.Wd(e,o,!1);return}else if(n===this.linkFromPortIdProperty){this.Jd(e,o,!0);return}else if(n===this.linkToPortIdProperty){this.Jd(e,o,!1);return}else if(n===this.linkKeyProperty){this.setKeyForLinkData(e,o);return}else if(n===this.linkCategoryProperty){this.setCategoryForLinkData(e,o);return}else if(n===this.linkLabelKeysProperty){this.setLabelKeysForLinkData(e,o);return}}const l=this.yt(e,n);l!==o&&(this.Z(e,n,o),this.raiseDataChanged(e,n,l,o))}assignAllDataProperties(e,n){if(!n)return;const o=this.containsNodeData(e),l=this.containsLinkData(e);for(const c in n)if(c!=="__gohashid"&&!(o&&c===this.nodeKeyProperty)){if(o&&c===this.nodeIsGroupProperty&&this.yt(e,c)===n[c]||l&&c===this.linkKeyProperty)continue;this.setDataProperty(e,c,n[c])}}Fy(e,n){super.Fy(e,n);const o=this.mi.iterator;for(;o.next();){const c=o.value;this.jN(c,e,n)}const l=this.Zo.iterator;for(;l.next();){const c=l.value;this.QO(c,e,n)}}jN(e,n,o){if(this.getGroupKeyForNodeData(e)===n){const l=this.Sn;this.Z(e,l,o),this.vt("nodeGroupKey",2,l,e,n,o),typeof l=="string"&&this.updateTargetBindings(e,l)}}QO(e,n,o){if(this.Ae(e,!0)===n){const c=this.mo;this.Z(e,c,o),this.vt("linkFromKey",2,c,e,n,o),typeof c=="string"&&this.updateTargetBindings(e,c)}if(this.Ae(e,!1)===n){const c=this.po;this.Z(e,c,o),this.vt("linkToKey",2,c,e,n,o),typeof c=="string"&&this.updateTargetBindings(e,c)}const l=this.getLabelKeysForLinkData(e);if(Array.isArray(l)){const c=l.length,h=this.$s;for(let f=0;f<c;f++)l[f]===n&&(this.iD(l,f,o),this.vt("linkLabelKeys",3,h,e,n,o,f,f))}}XN(){super.XN();const e=this.linkDataArray,n=e.length;for(let o=0;o<n;o++){const l=e[o];this.KN(l)}}ng(e){super.ng(e);const n=this.getKeyForNodeData(e),o=this.Ny(n);if(o!==null){const l=t.et(),c=o.iterator;for(;c.next();){const h=c.value;if(this.containsNodeData(h)){if(this.getGroupKeyForNodeData(h)===n){const f=this.Sn;this.vt("nodeGroupKey",2,f,h,n,n),typeof f=="string"&&this.updateTargetBindings(h,f),l.push(h)}}else{if(this.Ae(h,!0)===n){const g=this.mo;this.vt("linkFromKey",2,g,h,n,n),typeof g=="string"&&this.updateTargetBindings(h,g),l.push(h)}if(this.Ae(h,!1)===n){const g=this.po;this.vt("linkToKey",2,g,h,n,n),typeof g=="string"&&this.updateTargetBindings(h,g),l.push(h)}const f=this.getLabelKeysForLinkData(h);if(Array.isArray(f)){const g=f.length,v=this.$s;for(let w=0;w<g;w++)f[w]===n&&(this.vt("linkLabelKeys",3,v,h,n,n,w,w),l.push(h))}}}for(let h=0;h<l.length;h++)this.Ws(n,l[h]);t.J(l)}}og(e){super.og(e);const n=this.getGroupKeyForNodeData(e);this.findNodeDataForKey(n)===null&&this.Js(n,e)}Ry(e){super.Ry(e);const n=this.getGroupKeyForNodeData(e);this.Ws(n,e)}get linkCategoryProperty(){return this.qa}set linkCategoryProperty(e){const n=this.qa;n!==e&&(this.Pn(e,Ci,"linkCategoryProperty"),this.qa=e,this.t("linkCategoryProperty",n,e))}getCategoryForLinkData(e){if(e===null)return"";const n=this.qa;if(n==="")return"";const o=this.yt(e,n);if(o===void 0)return"";if(typeof o=="string")return o;t.o("getCategoryForLinkData found a non-string category for "+e+": "+o)}getLinkCategoryForData(e){return this.getCategoryForLinkData(e)}setCategoryForLinkData(e,n){if(e===null)return;const o=this.qa;if(o==="")return;if(!this.containsLinkData(e)){this.Z(e,o,n);return}let l=this.yt(e,o);l===void 0&&(l=""),l!==n&&(this.Z(e,o,n),this.vt("linkCategory",2,o,e,l,n),typeof o=="string"&&this.updateTargetBindings(e,o))}setLinkCategoryForData(e,n){this.setCategoryForLinkData(e,n)}sg(e,n){super.sg(e,n),this.setGroupKeyForNodeData(n,this.getGroupKeyForNodeData(e))}hD(e,n){this.setCategoryForLinkData(n,this.getCategoryForLinkData(e)),this.setFromKeyForLinkData(n,this.getFromKeyForLinkData(e)),this.setToKeyForLinkData(n,this.getToKeyForLinkData(e)),this.setLabelKeysForLinkData(n,this.getLabelKeysForLinkData(e)),this.setFromPortIdForLinkData(n,this.getFromPortIdForLinkData(e)),this.setToPortIdForLinkData(n,this.getToPortIdForLinkData(e))}get type(){return"GraphLinksModel"}mm(){return!0}Ra(){return!0}zw(){return!0}Hc(){return!0}static EmptyArray=Object.freeze([])}Jt.fl(Ci,"GraphLinksModel"),Jt.tD=()=>new Ci,Jt.LM=()=>new Ci;class fa extends Jt{Mn;lg;Wa;constructor(e,n){if(super(),this.Mn="parent",this.lg=!1,this.Wa="parentLinkCategory",e!==void 0&&(Array.isArray(e)?this.nodeDataArray=e:n=e),n){Object.assign(this,n);const o=n.Changed;o&&(delete this.Changed,this.addChangedListener(o))}}cloneProtected(e){super.cloneProtected(e),e.Mn=this.Mn,e.lg=this.lg,e.Wa=this.Wa}toString(e){if(e===void 0&&(e=0),e>=2)return this.toJson();{let n=(this.name!==""?this.name:"")+" TreeModel";if(e>0){n+=`
 node data:`;const o=this.nodeDataArray,l=o.length;for(let c=0;c<l;c++){const h=o[c];n+=" "+this.getKeyForNodeData(h)+":"+Ds.toString(h)}}return n}}eg(){const e=super.eg();let n="";return this.nodeParentKeyProperty!=="parent"&&typeof this.nodeParentKeyProperty=="string"&&(n+=`,
  "nodeParentKeyProperty": `+this.De(this.nodeParentKeyProperty)),e+n}Ty(e){super.Ty(e),e.nodeParentKeyProperty&&(this.nodeParentKeyProperty=e.nodeParentKeyProperty)}Dy(e){e.nodeParentKeyProperty!==void 0&&e.nodeParentKeyProperty!==this.nodeParentKeyProperty&&t.o("applyIncrementalJson cannot change Model properties"),super.Dy(e)}maybeEnsureLinkReference(e){return e}get nodeParentKeyProperty(){return this.Mn}set nodeParentKeyProperty(e){const n=this.Mn;n!==e&&(this.Pn(e,fa,"nodeParentKeyProperty"),this.Mn=e,this.t("nodeParentKeyProperty",n,e))}get copiesParentKeyOfNodeData(){return this.lg}set copiesParentKeyOfNodeData(e){this.lg!==e&&(this.lg=e)}getParentKeyForNodeData(e){if(e===null)return;const n=this.Mn;if(n==="")return;const o=this.yt(e,n);if(o!==void 0){if(this.isKeyType(o))return o;t.o("ParentKey value for node data "+e+" is not a number or a string: "+o)}}setParentKeyForNodeData(e,n){if(n===null&&(n=void 0),n!==void 0&&!this.isKeyType(n)&&t.Zi(n,"number or string",fa,"setParentKeyForNodeData:key"),e===null)return;const o=this.Mn;if(o==="")return;if(n=this.maybeEnsureLinkReference(n),!this.containsNodeData(e)){this.Z(e,o,n);return}const l=this.yt(e,o);l!==n&&(this.Ws(l,e),this.Z(e,o,n),this.findNodeDataForKey(n)===null&&this.Js(n,e),this.vt("nodeParentKey",2,o,e,l,n),typeof o=="string"&&this.updateTargetBindings(e,o))}get parentLinkCategoryProperty(){return this.Wa}set parentLinkCategoryProperty(e){const n=this.Wa;n!==e&&(this.Pn(e,fa,"parentLinkCategoryProperty"),this.Wa=e,this.t("parentLinkCategoryProperty",n,e))}get linkCategoryProperty(){return this.parentLinkCategoryProperty}set linkCategoryProperty(e){this.parentLinkCategoryProperty=e}getParentLinkCategoryForNodeData(e){if(e===null)return"";const n=this.Wa;if(n==="")return"";const o=this.yt(e,n);if(o===void 0)return"";if(typeof o=="string")return o;t.o("getParentLinkCategoryForNodeData found a non-string category for "+e+": "+o)}getLinkCategoryForData(e){return this.getParentLinkCategoryForNodeData(e)}setParentLinkCategoryForNodeData(e,n){if(e===null)return;const o=this.Wa;if(o==="")return;if(!this.containsNodeData(e)){this.Z(e,o,n);return}let l=this.yt(e,o);l===void 0&&(l=""),l!==n&&(this.Z(e,o,n),this.vt("parentLinkCategory",2,o,e,l,n),typeof o=="string"&&this.updateTargetBindings(e,o))}setLinkCategoryForData(e,n){this.setParentLinkCategoryForNodeData(e,n)}copyNodeData(e){if(e===null)return null;const n=super.copyNodeData(e);return!this.copiesParentKeyOfNodeData&&this.Mn!==""&&this.yt(n,this.Mn)!==void 0&&this.Z(n,this.Mn,void 0),n}setDataProperty(e,n,o){if(this.containsNodeData(e)){if(n===this.nodeKeyProperty){this.setKeyForNodeData(e,o);return}else if(n===this.nodeCategoryProperty){this.setCategoryForNodeData(e,o);return}else if(n===this.nodeParentKeyProperty){this.setParentKeyForNodeData(e,o);return}else if(n===this.parentLinkCategoryProperty){this.setParentLinkCategoryForNodeData(e,o);return}}const l=this.yt(e,n);l!==o&&(this.Z(e,n,o),this.raiseDataChanged(e,n,l,o))}Fy(e,n){super.Fy(e,n);const o=this.mi.iterator;for(;o.next();){const l=o.value;this.jN(l,e,n)}}jN(e,n,o){if(this.getParentKeyForNodeData(e)===n){const l=this.Mn;this.Z(e,l,o),this.vt("nodeParentKey",2,l,e,n,o),typeof l=="string"&&this.updateTargetBindings(e,l)}}ng(e){super.ng(e);const n=this.getKeyForNodeData(e),o=this.Ny(n);if(o!==null){const l=t.et(),c=o.iterator;for(;c.next();){const h=c.value;if(this.containsNodeData(h)&&this.getParentKeyForNodeData(h)===n){const f=this.Mn;this.vt("nodeParentKey",2,f,h,n,n),typeof f=="string"&&this.updateTargetBindings(h,f),l.push(h)}}for(let h=0;h<l.length;h++)this.Ws(n,l[h]);t.J(l)}}og(e){super.og(e);let n=this.getParentKeyForNodeData(e);n=this.maybeEnsureLinkReference(n),this.findNodeDataForKey(n)===null&&this.Js(n,e)}Ry(e){super.Ry(e);const n=this.getParentKeyForNodeData(e);this.Ws(n,e)}sg(e,n){super.sg(e,n),this.setParentLinkCategoryForNodeData(n,this.getParentLinkCategoryForNodeData(e)),this.setParentKeyForNodeData(n,this.getParentKeyForNodeData(e))}get type(){return"TreeModel"}pm(){return!0}zw(){return!0}}Jt.fl(fa,"TreeModel");var mu=(G=>(G[G.ConstantSpacing=0]="ConstantSpacing",G[G.ConstantDistance=1]="ConstantDistance",G[G.ConstantAngle=2]="ConstantAngle",G[G.Packed=3]="Packed",G))(mu||{}),wo=(G=>(G[G.Clockwise=10]="Clockwise",G[G.Counterclockwise=11]="Counterclockwise",G[G.BidirectionalLeft=12]="BidirectionalLeft",G[G.BidirectionalRight=13]="BidirectionalRight",G))(wo||{}),ec=(G=>(G[G.Forwards=20]="Forwards",G[G.Reverse=21]="Reverse",G[G.Ascending=22]="Ascending",G[G.Descending=23]="Descending",G[G.Optimized=24]="Optimized",G))(ec||{}),ml=(G=>(G[G.Pythagorean=30]="Pythagorean",G[G.Circular=31]="Circular",G))(ml||{});class Fp extends As{le;If;K1;hg;j1;Fh;HN;qN;WN;Ss;vy;Oy;Ja;Iy;aD;ag;cg;fg;Ef;Xi;b;pe;ye;kn;ug;constructor(e){super(),this.le=0,this.If=0,this.K1=0,this.hg=360,this.j1=0,this.Fh=0,this.HN=new T,this.qN=30,this.WN=0,this.Ss=0,this.vy=0,this.Oy=new tc,this.Ja=0,this.Iy=0,this.aD=600,this.ag=NaN,this.cg=1,this.fg=0,this.Ef=360,this.Xi=0,this.b=10,this.pe=24,this.ye=Nr.standardComparer,this.kn=6,this.ug=30,e&&Object.assign(this,e)}cloneProtected(e){super.cloneProtected(e),e.ag=this.ag,e.cg=this.cg,e.fg=this.fg,e.Ef=this.Ef,e.Xi=this.Xi,e.b=this.b,e.pe=this.pe,e.ye=this.ye,e.kn=this.kn,e.ug=this.ug}oi(e){e in ec?this.sorting=e:e in wo?this.direction=e:e in mu?this.arrangement=e:e in ml?this.nodeDiameterFormula=e:super.oi(e)}createNetwork(){return new nc(this)}_O(e,n,o){e=this.tI(e);let l=this.j1,c=this.qN,h=this.le,f=this.If,g=this.K1,v=this.hg,w=this.Fh,k=this.WN,P=this.Ss,N=this.vy;if(l=this.arrangement,c=this.nodeDiameterFormula,h=this.radius,(!isFinite(h)||h<=0)&&(h=NaN),f=this.aspectRatio,(!isFinite(f)||f<=0)&&(f=1),g=this.startAngle,isFinite(g)||(g=0),v=this.sweepAngle,(!isFinite(v)||v>360||v<1)&&(v=360),w=this.spacing,isFinite(w)||(w=NaN),l===3&&c===31?l=0:l===3&&c!==31&&(c=31,l=this.arrangement),(this.direction===12||this.direction===13)&&this.sorting!==24){for(let V=0;!(V>=e.length||(n.add(e.elt(V)),V+1>=e.length));V+=2)o.add(e.elt(V+1));this.direction===12?(this.arrangement===3&&n.reverse(),e=new m,e.addAll(n),e.addAll(o)):(this.arrangement===3&&o.reverse(),e=new m,e.addAll(o),e.addAll(n))}const F=e.length;k=0;let H=0;for(let V=0;V<e.length;V++){const $=g+v*H*(this.direction===10?1:-1)/F;let K=e.elt(V).diameter;isNaN(K)&&(K=e.elt(V).Rh($)),v<360&&(V===0||V===e.length-1)&&(K/=2),k+=K,H++}if(isNaN(h)||l===3){if(isNaN(w)&&(w=6),l!==0&&l!==3){let V=-1/0;for(let $=0;$<F;$++){const K=e.elt($),J=e.elt($===F-1?0:$+1);isNaN(K.diameter)&&K.Rh(0),isNaN(J.diameter)&&J.Rh(0),V=Math.max(V,(K.diameter+J.diameter)/2)}if(N=V+w,l===2){const $=2*Math.PI/F,K=(V+w)/$;f>1?(h=K,P=h*f):(P=K,h=P)}else h=this.H1(N*(v>=360?F:F-1),f,g*Math.PI/180,v*Math.PI/180)}else h=this.H1(k+(v>=360?F:F-1)*(l!==3?w:w*1.6),f,g*Math.PI/180,v*Math.PI/180);P=h*f}else{P=h*f;const V=this.JN(h,P,g*Math.PI/180,v*Math.PI/180);if(isNaN(w))l===0&&(w=(V-k)/(v>=360?F:F-1));else if(l===0){const $=(V-k)/(v>=360?F:F-1);$<w?(h=this.H1(k+w*(v>=360?F:F-1),f,g*Math.PI/180,v*Math.PI/180),P=h*f):w=$}else{let $=-1/0;for(let Q=0;Q<F;Q++){const ne=e.elt(Q),le=e.elt(Q===F-1?0:Q+1);isNaN(ne.diameter)&&ne.Rh(0),isNaN(le.diameter)&&le.Rh(0),$=Math.max($,(ne.diameter+le.diameter)/2)}const K=$+w,J=this.H1(K*(v>=360?F:F-1),f,g*Math.PI/180,v*Math.PI/180);J>h?(h=J,P=h*f,N=K):N=V/(v>=360?F:F-1)}}return this.j1=l,this.qN=c,this.le=h,this.If=f,this.K1=g,this.hg=v,this.Fh=w,this.WN=k,this.Ss=P,this.vy=N,e}doLayout(e){this.network===null&&(this.network=this.makeNetwork(e)),this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);const n=this.network.vertexes;if(n.count<=1){if(n.count===1){const N=n.first();N.centerX=0,N.centerY=0}this.updateParts(),this.network=null,this.isValidLayout=!0;return}let o=new m;o.addAll(n.iterator);const l=new m,c=new m;o=this._O(o,l,c);const h=this.j1,f=this.le,g=this.K1,v=this.hg,w=this.Fh,k=this.Ss,P=this.vy;if((this.direction===12||this.direction===13)&&h===3)this.cD(o,v,g-v/2,10);else if(this.direction===12||this.direction===13){let N=0;switch(h){case 1:N=this.q1(f,k,g,P)*180/Math.PI;break;case 0:{let F=0,H=0;const V=l.first();V!==null&&(F=V.Rh(Math.PI/2));const $=c.first();$!==null&&(H=$.Rh(Math.PI/2)),N=this.q1(f,k,g,w+(F+H)/2)*180/Math.PI;break}case 2:N=v/o.length;break}if(this.direction===12){switch(h){case 1:this.Ey(l,v/2,g,11);break;case 0:this.Uy(l,v/2,g,11);break;case 2:this.By(l,v/2,g,11);break}switch(h){case 1:this.Ey(c,v/2,g+N,10);break;case 0:this.Uy(c,v/2,g+N,10);break;case 2:this.By(c,v/2,g+N,10);break}}else{switch(h){case 1:this.Ey(c,v/2,g,11);break;case 0:this.Uy(c,v/2,g,11);break;case 2:this.By(c,v/2,g,11);break}switch(h){case 1:this.Ey(l,v/2,g+N,10);break;case 0:this.Uy(l,v/2,g+N,10);break;case 2:this.By(l,v/2,g+N,10);break}}}else switch(h){case 1:this.Ey(o,v,g,this.direction);break;case 0:this.Uy(o,v,g,this.direction);break;case 2:this.By(o,v,g,this.direction);break;case 3:this.cD(o,v,g,this.direction);break}this.updateParts(),this.network=null,this.isValidLayout=!0}By(e,n,o,l){const c=this.hg,h=this.le,f=this.Ss,g=o*Math.PI/180,v=n*Math.PI/180,w=e.length;for(let k=0;k<w;k++){const P=g+(l===10?k*v/(c>=360?w:w-1):-(k*v)/w),N=e.elt(k),F=h*Math.tan(P)/f,H=Math.sqrt((h*h+f*f*F*F)/(1+F*F));N.centerX=H*Math.cos(P),N.centerY=H*Math.sin(P),N.actualAngle=P*180/Math.PI}}Uy(e,n,o,l){const c=this.le,h=this.Ss,f=this.Fh;let g=o*Math.PI/180;const v=e.length;for(let w=0;w<v;w++){const k=e.elt(w),P=e.elt(w===v-1?0:w+1),N=c*Math.cos(g),F=h*Math.sin(g);k.centerX=N,k.centerY=F,k.actualAngle=g*180/Math.PI,isNaN(k.diameter)&&k.Rh(0),isNaN(P.diameter)&&P.Rh(0);const H=(k.diameter+P.diameter)/2,V=this.q1(c,h,l===10?g:-g,H+f);g+=l===10?V:-V}}Ey(e,n,o,l){const c=this.le,h=this.Ss,f=this.vy;let g=o*Math.PI/180;const v=e.length;for(let w=0;w<v;w++){const k=e.elt(w);k.centerX=c*Math.cos(g),k.centerY=h*Math.sin(g),k.actualAngle=g*180/Math.PI;const P=this.q1(c,h,l===10?g:-g,f);g+=l===10?P:-P}}cD(e,n,o,l){let c=this.Iy;const h=this.hg;if(this.Ja=0,this.Oy=new tc,n<360){for(c=o+(l===10?h:-h);c<0;)c+=360;c%=360,c>180&&(c-=360),c*=Math.PI/180,this.Iy=c,this.fD(e,n,o,l)}else this.uD(e,n,o,l);this.Oy.commit(e)}uD(e,n,o,l){const c=this.le,h=this.Ss,f=this.Fh,g=this.If;let v=c*Math.cos(o*Math.PI/180),w=h*Math.sin(o*Math.PI/180);const k=e.toArray();if(k.length===3){k[0].centerX=c,k[0].centerY=0,k[1].centerX=k[0].centerX-k[0].width/2-k[1].width/2-f,k[1].y=k[0].y,k[2].centerX=(k[0].centerX+k[1].centerX)/2,k[2].y=k[0].y-k[2].height-f;return}else if(k.length===4){k[0].centerX=c,k[0].centerY=0,k[2].centerX=-k[0].centerX,k[2].centerY=k[0].centerY,k[1].centerX=0,k[1].y=Math.min(k[0].y,k[2].y)-k[1].height-f,k[3].centerX=0,k[3].y=Math.max(k[0].y+k[0].height+f,k[2].y+k[2].height+f);return}const P=T.l();for(let ne=0;ne<k.length&&(k[ne].centerX=v,k[ne].centerY=w,!(ne>=k.length-1));ne++)this.dD(v,w,k,ne,l,P)||this.gD(v,w,k,ne,l,P),v=P.x,w=P.y;if(T.e(P),this.Ja++,this.Ja>23)return;const N=k[0].centerX,F=k[0].centerY,H=k[k.length-1].centerX,V=k[k.length-1].centerY;let $=Math.abs(N-H)-((k[0].width+k[k.length-1].width)/2+f);const K=Math.abs(F-V)-((k[0].height+k[k.length-1].height)/2+f);let J=0;if(Math.abs(K)<1){const ne=Math.abs(N-H),le=(k[0].width+k[k.length-1].width)/2;ne<le&&(J=0),$=ne-le}else K>0?J=K:Math.abs($)<1?J=0:J=$;let Q=!1;Math.abs(H)>Math.abs(V)?Q=H>0!=F>V:Q=V>0!=N<H,Q=l===10?Q:!Q,Q&&(J=-Math.abs(J),J=Math.min(J,-k[k.length-1].width),J=Math.min(J,-k[k.length-1].height)),this.Oy.iI(J,k),Math.abs(J)>1&&(this.Ja<8?this.le-=J/(2*Math.PI):k.length<5&&J>10?this.le/=2:this.le-=J>0?1.7:-2.3,this.Ss=this.le*g,this.uD(e,n,o,l))}fD(e,n,o,l){const c=this.le,h=this.Ss,f=this.If;let g=c*Math.cos(o*Math.PI/180),v=h*Math.sin(o*Math.PI/180);const w=T.l(),k=e.toArray();for(let H=0;H<k.length&&(k[H].centerX=g,k[H].centerY=v,!(H>=k.length-1));H++)this.dD(g,v,k,H,l,w)||this.gD(g,v,k,H,l,w),g=w.x,v=w.y;if(T.e(w),this.Ja++,this.Ja>23)return;const P=Math.atan2(v,g);let N=l===10?this.Iy-P:P-this.Iy;N=Math.abs(N)<Math.abs(N-2*Math.PI)?N:N-2*Math.PI;const F=N*(c+h)/2;this.Oy.eI(F,k),Math.abs(F)>1&&(this.Ja<8?this.le-=F/(2*Math.PI):this.le-=F>0?1.7:-2.3,this.Ss=this.le*f,this.fD(e,n,o,l))}dD(e,n,o,l,c,h){const f=this.Fh,g=this.le,v=this.Ss;let w=0,k=0;const P=(o[l].width+o[l+1].width)/2+f;let N=!1;if(n>=0!=(c===10)){if(w=e+P,w>g){if(w=e-P,w<-g)return h.x=w,h.y=k,!1;N=!0}}else if(w=e-P,w<-g){if(w=e+P,w>g)return h.x=w,h.y=k,!1;N=!0}return k=Math.sqrt(1-Math.min(1,w*w/(g*g)))*v,n<0!==N&&(k=-k),Math.abs(n-k)>(o[l].height+o[l+1].height)/2?(h.x=w,h.y=k,!1):(h.x=w,h.y=k,!0)}gD(e,n,o,l,c,h){const f=this.Fh,g=this.le,v=this.Ss;let w=0,k=0;const P=(o[l].height+o[l+1].height)/2+f;let N=!1;if(e>=0!=(c===10)){if(k=n-P,k<-v){if(k=n+P,k>v)return h.x=w,h.y=k,!1;N=!0}}else if(k=n+P,k>v){if(k=n-P,k<-v)return h.x=w,h.y=k,!1;N=!0}return w=Math.sqrt(1-Math.min(1,k*k/(v*v)))*g,e<0!==N&&(w=-w),Math.abs(e-w)>(o[l].width+o[l+1].width)/2?(h.x=w,h.y=k,!1):(h.x=w,h.y=k,!0)}commitLayout(){this.commitNodes(),this.isRouting&&this.commitLinks()}commitNodes(){const e=this.group!==null&&this.group.hasPlaceholder(),n=e?this.group.location.copy():null;let o=this.actualCenter;e?o=new T(0,0):(o.x=this.arrangementOrigin.x+this.le,o.y=this.arrangementOrigin.y+this.Ss);const l=this.network.vertexes.iterator;for(;l.next();){const c=l.value;c.x+=o.x,c.y+=o.y,c.commit()}if(e){this.group.ensureBounds();const c=this.group.position.copy(),h=this.group.location.copy(),f=n.subtract(h.subtract(c));this.group.move(f),this.HN=f.subtract(c)}}commitLinks(){const e=this.network.edges.iterator;for(;e.next();)e.value.commit()}JN(e,n,o,l){const c=this.aD;if(Math.abs(this.If-1)<.001)return o!==void 0&&l!==void 0?l*e:2*Math.PI*e;const h=e>n?Math.sqrt(e*e-n*n)/e:Math.sqrt(n*n-e*e)/n;let f=0,g=0;o!==void 0&&l!==void 0?g=l/(c+1):g=Math.PI/(2*(c+1));let v=0;for(let w=0;w<=c;w++){o!==void 0&&l!==void 0?v=o+w*l/c:v=w*Math.PI/(2*c);const k=Math.sin(v);f+=Math.sqrt(1-h*h*k*k)*g}return o!==void 0&&l!==void 0?(e>n?e:n)*f:4*(e>n?e:n)*f}H1(e,n,o,l){let c=0;return o!==void 0&&l!==void 0?c=this.JN(1,n,o,l):c=this.JN(1,n),e/c}q1(e,n,o,l){if(Math.abs(this.If-1)<.001)return l/e;const c=e>n?Math.sqrt(e*e-n*n)/e:Math.sqrt(n*n-e*e)/n;let h=0;const f=2*Math.PI/(this.network.vertexes.count*700);e>n&&(o+=Math.PI/2);for(let g=0;;g++){const v=o+g*f,w=Math.sin(v);if(h+=(e>n?e:n)*Math.sqrt(1-c*c*w*w)*f,h>=l)return g*f}}tI(e){switch(this.sorting){case 20:break;case 21:e.reverse();break;case 22:e.sort(this.comparer);break;case 23:e.sort(this.comparer),e.reverse();break;case 24:return this.sI(this.nI(e));default:t.o("Invalid sorting type.")}return e}nI(e){const n=[];for(let l=0;l<e.length;l++)n.push(0);const o=new m;for(let l=0;l<e.length;l++){let c=-1,h=-1;if(l===0)for(let k=0;k<e.length;k++){const P=e.elt(k).edgesCount;P>c&&(c=P,h=k)}else for(let k=0;k<e.length;k++){const P=n[k];P>c&&(c=P,h=k)}o.add(e.elt(h)),n[h]=-1;const f=e.elt(h);let g=0;const v=f.sourceEdges;for(;v.next();){const k=v.value.fromVertex;g=e.indexOf(k),!(g<0)&&n[g]>=0&&n[g]++}const w=f.destinationEdges;for(;w.next();){const k=w.value.toVertex;g=e.indexOf(k),!(g<0)&&n[g]>=0&&n[g]++}}return o}sI(e){const n=[];for(let P=0;P<e.length;P++){const N=e.elt(P);n[P]=[];let F=0;const H=N.destinationEdges;for(;H.next();){const $=H.value.toVertex;F=e.indexOf($),F!==P&&n[P].indexOf(F)<0&&n[P].push(F)}const V=N.sourceEdges;for(;V.next();){const $=V.value.fromVertex;F=e.indexOf($),F!==P&&n[P].indexOf(F)<0&&n[P].push(F)}}const o=[];for(let P=0;P<n.length;P++)o[P]=0;const l=[],c=[],h=[],f=[],g=new m;let v=0;for(let P=0;P<n.length;P++){const N=n[P].length;if(N===1){f.push(P);continue}if(N===0){g.add(e.elt(P));continue}if(v===0){l.push(P),v++;continue}let F=1/0,H=1/0,V=-1;const $=[];for(let K=0;K<l.length;K++)n[l[K]].indexOf(l[K===l.length-1?0:K+1])<0&&$.push(K===l.length-1?0:K+1);if($.length===0)for(let K=0;K<l.length;K++)$.push(K);for(let K=0;K<$.length;K++){const J=$[K],Q=this.oI(n[P],c,h,o,J,l);let ne=0;for(let le=0;le<n[P].length;le++){const fe=n[P][le],we=l.indexOf(fe);if(we>=0){const ye=Math.abs(J-(we>=J?we+1:we));ne+=ye<l.length+1-ye?ye:l.length+1-ye}}for(let le=0;le<c.length;le++){let fe=o[c[le]],we=o[h[le]];if(fe>=J&&fe++,we>=J&&we++,fe>we){const ye=we;we=fe,fe=ye}we-fe<(l.length+2)/2==(fe<J&&J<=we)&&ne++}(Q<F||Q===F&&ne<H)&&(F=Q,H=ne,V=J)}l.splice(V,0,P);for(let K=0;K<l.length;K++)o[l[K]]=K;for(let K=0;K<n[P].length;K++){const J=n[P][K];l.indexOf(J)>=0&&(c.push(P),h.push(J))}v++}let w=!1;const k=l.length;for(;;){w=!0;for(let P=0;P<f.length;P++){const N=f[P],F=n[N][0],H=l.indexOf(F);if(H>=0){let V=0;for(let $=0;$<n[F].length;$++){const K=n[F][$],J=l.indexOf(K);if(J<0||J===H)continue;const Q=J>H?J-H:H-J,ne=k-Q;V+=J<H!=Q>ne?1:-1}l.splice(V<0?H:H+1,0,N),f.splice(P,1),P--}else w=!1}if(w)break;l.push(f[0]),f.splice(0,1)}for(let P=0;P<l.length;P++){const N=l[P];g.add(e.elt(N))}return g}oI(e,n,o,l,c,h){let f=0;for(let g=0;g<n.length;g++){const v=n[g],w=o[g],k=l[v],P=l[w];let N=0,F=0;if(k<P?(N=k,F=P):(N=P,F=k),N<c&&c<=F)for(let H=0;H<e.length;H++){const V=e[H];h.indexOf(V)<0||N<l[V]&&l[V]<F||N===l[V]||F===l[V]||f++}else for(let H=0;H<e.length;H++){const V=e[H];h.indexOf(V)<0||!(N<l[V]&&l[V]<F)||N===l[V]||F===l[V]||f++}}return f}get radius(){return this.ag}set radius(e){this.ag!==e&&(e>0||isNaN(e))&&(this.ag=e,this.invalidateLayout())}get aspectRatio(){return this.cg}set aspectRatio(e){this.cg!==e&&e>0&&(this.cg=e,this.invalidateLayout())}get startAngle(){return this.fg}set startAngle(e){this.fg!==e&&(this.fg=e,this.invalidateLayout())}get sweepAngle(){return this.Ef}set sweepAngle(e){this.Ef!==e&&(e>0&&e<=360?this.Ef=e:this.Ef=360,this.invalidateLayout())}get arrangement(){return this.Xi}set arrangement(e){this.Xi!==e&&(e===3||e===0||e===1||e===2)&&(this.Xi=e,this.invalidateLayout())}get direction(){return this.b}set direction(e){this.b!==e&&(e===10||e===11||e===12||e===13)&&(this.b=e,this.invalidateLayout())}get sorting(){return this.pe}set sorting(e){this.pe!==e&&(this.pe=e,this.invalidateLayout())}get comparer(){return this.ye}set comparer(e){this.ye!==e&&(this.ye=e,this.invalidateLayout())}get spacing(){return this.kn}set spacing(e){this.kn!==e&&(this.kn=e,this.invalidateLayout())}get nodeDiameterFormula(){return this.ug}set nodeDiameterFormula(e){this.ug!==e&&(e===30||e===31)&&(this.ug=e,this.invalidateLayout())}get actualXRadius(){return this.le}get actualYRadius(){return this.Ss}get actualSpacing(){return this.Fh}get actualCenter(){return this.HN}static ConstantSpacing=0;static ConstantDistance=1;static ConstantAngle=2;static Packed=3;static Clockwise=10;static Counterclockwise=11;static BidirectionalLeft=12;static BidirectionalRight=13;static Forwards=20;static Reverse=21;static Ascending=22;static Descending=23;static Optimized=24;static Pythagorean=30;static Circular=31}class tc{Uf;$a;Bf;constructor(){this.Uf=-1/0,this.$a=null,this.Bf=null}iI(e,n){if(e>0&&this.Uf<0||Math.abs(e)<Math.abs(this.Uf)&&!(e<0&&this.Uf>0)){this.Uf=e,this.$a=[],this.Bf=[];for(let o=0;o<n.length;o++)this.$a[o]=n[o].bounds.x,this.Bf[o]=n[o].bounds.y}}eI(e,n){if(Math.abs(e)<Math.abs(this.Uf)){this.Uf=e,this.$a=[],this.Bf=[];for(let o=0;o<n.length;o++)this.$a[o]=n[o].bounds.x,this.Bf[o]=n[o].bounds.y}}commit(e){if(!(this.$a===null||this.Bf===null))for(let n=0;n<this.$a.length;n++){const o=e.elt(n);o.x=this.$a[n],o.y=this.Bf[n]}}}class nc extends Go{constructor(e){super(e)}createVertex(){return new Zh(this)}createEdge(){return new lr(this)}}class Zh extends Nr{yo;W1;constructor(e){super(e),this.yo=NaN,this.W1=NaN}Rh(e){const n=this.network;if(n===null)return NaN;const o=n.layout;if(o===null)return NaN;if(o.arrangement===3){if(o.nodeDiameterFormula===31)return this.yo=Math.max(this.width,this.height),this.yo;{const l=Math.abs(Math.sin(e)),c=Math.abs(Math.cos(e));return l===0?this.width:c===0?this.height:(this.yo=Math.min(this.height/l,this.width/c),this.yo)}}else return o.nodeDiameterFormula===31?(this.yo=Math.max(this.width,this.height),this.yo):(this.yo=Math.sqrt(this.width*this.width+this.height*this.height),this.yo)}get diameter(){return this.yo}set diameter(e){this.yo!==e&&(this.yo=e)}get actualAngle(){return this.W1}set actualAngle(e){this.W1!==e&&(this.W1=e)}}class lr extends dl{constructor(e){super(e)}}class yl extends As{Vy;vh;Ms;dg;Nn;Fe;gg;mg;pg;Vf;yg;wg;zf;Xf;Yf;Gf;xg;bg;Kf;Za;constructor(e){super(),this.Vy=0,this.vh=0,this.Ms=new B(100,100).u(),this.dg=!1,this.Nn=!0,this.Fe=!1,this.gg=100,this.mg=300,this.pg=1,this.Vf=1e3,this.yg=10,this.wg=Math,this.zf=.05,this.Xf=50,this.Yf=150,this.Gf=0,this.xg=10,this.bg=5,this.Kf=NaN,this.Za=10,e&&Object.assign(this,e)}cloneProtected(e){super.cloneProtected(e),e.Ms.a(this.Ms),e.dg=this.dg,e.Nn=this.Nn,e.Fe=this.Fe,e.gg=this.gg,e.mg=this.mg,e.pg=this.pg,e.Vf=this.Vf,e.yg=this.yg,e.wg=this.wg,e.zf=this.zf,e.Xf=this.Xf,e.Yf=this.Yf,e.Gf=this.Gf,e.xg=this.xg,e.bg=this.bg,e.Kf=this.Kf,e.Za=this.Za}createNetwork(){return new yu(this)}doLayout(e){this.network=this.makeNetwork(e);let n=this.network.vertexes.iterator;const o=this.maxIterations;if(this.network.vertexes.count>0){for(this.network.deleteSelfEdges(),n=this.network.vertexes.iterator;n.next();){const c=n.value;c.charge=this.electricalCharge(c),c.mass=this.gravitationalMass(c)}const l=this.network.edges.iterator;for(;l.next();){const c=l.value;c.stiffness=this.springStiffness(c),c.length=this.springLength(c)}if(this.$N(),this.vh=0,this.needsPrelayout()){const c=this.network,h=c.splitIntoSubNetworks(!1);let f=h.iterator;for(;f.next();){const g=f.value;this.doConnectedSubnetLayout(g)}for(f=h.iterator,this.rI(f,c),f=h.iterator;f.next();){const g=f.value,v=g.vertexes.iterator;for(;v.next();){const k=v.value;c.addVertex(k)}const w=g.edges.iterator;for(;w.next();){const k=w.value;c.addEdge(k)}}}else this.mD(this.network,this.maxIterations);this.updateParts()}this.maxIterations=o,this.isValidLayout=!0}needsPrelayout(){if(this.network===null||this.network.vertexes.count<3)return!1;let e=0,n=0;const o=this.network.vertexes.first().bounds,l=this.network.vertexes.iterator;for(;l.next();){const c=l.value,h=c.bounds;if(isNaN(c.x)||isNaN(c.y)||h.intersectsRect(o)&&(e++,e>2))return!0;if(n>10)return!1;n++}return!1}doConnectedSubnetLayout(e){let n=e.vertexes.iterator;for(;n.next();){const g=n.value;g.hierarchicalVertexes.add(g)}let o=e,l=this.Kf;if(isNaN(l)&&(l=e.edges.count/e.vertexes.count),l<e.vertexes.count)for(;o.vertexes.count>Math.max(100,Math.sqrt(l*e.vertexes.count));)o=this.coarsenNetwork(o);let c=0;n=o.vertexes.iterator;let h=this.randomNumberGenerator;for(h===null&&(this.randomNumberGenerator=h=new xu(0));n.next();){n.value.idInCluster=c++;const g=10*(h.random()-.5),v=10*(h.random()-.5);this.isFixed(n.value)||(n.value.x=g,n.value.y=v);const w=n.value.hierarchicalVertexes.iterator;for(;w.next();)this.isFixed(w.value)||(w.value.x=g,w.value.y=v)}const f=this.computePairwiseDistances(o);this.lI(o,f,this.maxPrelayoutIterations,e.vertexes.count),this.mD(e,this.maxIterations)}computePairwiseDistances(e){const n=e.vertexes.count,o=new Array(n);for(let f=0;f<n;f++)o[f]=new Array(n).fill(-1),o[f][f]=0;const l=e.vertexes.iterator;let c=new Map,h=[];for(;l.next();){const f=l.value;for(h=[f],c=new Map,c.set(f.idInCluster,0);h.length>0;){const g=h.shift(),v=g.vertexes.iterator;for(;v.next();){const w=v.value;c.has(w.idInCluster)||(c.set(w.idInCluster,c.get(g.idInCluster)+1),h.push(w))}}for(let g=0;g<n;g++){const v=Math.min(o[f.idInCluster][g],o[g][f.idInCluster]),w=c.get(g);(v<0||w<v)&&(o[f.idInCluster][g]=w,o[g][f.idInCluster]=w)}}return o}coarsenNetwork(e){const n=this.createNetwork(),o=new Map;let l=0,c=e.vertexes.iterator;for(;c.next();)c.value.idInCluster=l++;for(c=e.vertexes.iterator;c.next();){const f=c.value;if(o.has(f.idInCluster))continue;let g=Number.MAX_SAFE_INTEGER,v=null;const w=f.vertexes.iterator;for(;w.next();){const P=w.value;o.has(P.idInCluster)||P.hierarchicalVertexes.length<g&&(g=P.hierarchicalVertexes.length,v=P)}const k=n.createVertex();k.hierarchicalVertexes.addAll(f.hierarchicalVertexes),v!=null&&k.hierarchicalVertexes.addAll(v.hierarchicalVertexes),o.set(f.idInCluster,k),v!=null&&o.set(v.idInCluster,k),n.addVertex(k)}const h=e.edges.iterator;for(;h.next();){const f=h.value,g=o.get(f.fromVertex.idInCluster),v=o.get(f.toVertex.idInCluster);if(g===v)continue;const w=n.createEdge();w.fromVertex=g||null,w.toVertex=v||null,n.addEdge(w)}return n}Cw(e,n){let o=!0;const l=e.vertexes.iterator;for(;l.next();){const c=l.value;o?(o=!1,n.set(c.bounds)):n.unionRect(c.bounds)}return n}rI(e,n){const o=this.arrangementSpacing,l=e.count;let c=!0,h=0,f=0;const g=t.et();for(let P=0;P<l+n.vertexes.count+2;P++)g[P]=null;let v=0;e.reset();const w=z.l();let k;for(;e.next();){const P=e.value;if(this.Cw(P,w),c)c=!1,h=w.x+w.width/2,f=w.y+w.height/2,g[0]=new T(w.x+w.width+o.width,w.y),g[1]=new T(w.x,w.y+w.height+o.height),v=2;else{const N=this.pD(g,v,h,f,w.width,w.height,o),F=g[N],H=new T(F.x+w.width+o.width,F.y),V=new T(F.x,F.y+w.height+o.height);N+1<v&&g.splice(N+1,0,null),g[N]=H,g[N+1]=V,v++;const $=F.x-w.x,K=F.y-w.y;for(k=P.vertexes.iterator;k.next();){const J=k.value;this.isFixed(J)||(J.centerX+=$,J.centerY+=K)}}}for(z.e(w),k=n.vertexes.iterator;k.next();){const P=k.value,N=P.bounds;if(v<2){h=N.x+N.width/2,f=N.y+N.height/2,g[0]=new T(N.x+N.width+o.width,N.y),g[1]=new T(N.x,N.y+N.height+o.height),v=2;continue}const F=this.pD(g,v,h,f,N.width,N.height,o),H=g[F],V=new T(H.x+N.width+o.width,H.y),$=new T(H.x,H.y+N.height+o.height);F+1<v&&g.splice(F+1,0,null),g[F]=V,g[F+1]=$,v++,this.isFixed(P)||(P.centerX=H.x+P.width/2,P.centerY=H.y+P.height/2)}t.J(g)}pD(e,n,o,l,c,h,f){let g=9e19,v=-1;e:for(let w=0;w<n;w++){const k=e[w],P=k.x-o,N=k.y-l,F=P*P+N*N;if(F<g){for(let H=w-1;H>=0;H--)if(e[H].y>k.y&&e[H].x-k.x<c+f.width)continue e;for(let H=w+1;H<n;H++)if(e[H].x>k.x&&e[H].y-k.y<h+f.height)continue e;v=w,g=F}}return v}$N(){if(!this.comments)return;const e=this.network.vertexes.iterator;for(;e.next();){const n=e.value;this.addComments(n)}}addComments(e){const n=e.node;if(n!==null){const o=n.findNodesConnected();for(;o.next();){const l=o.value;if(l.category!=="Comment"||!l.isVisible())continue;let c=this.network.findVertex(l);c===null&&(c=this.network.addNode(l)),c.charge=this.defaultCommentElectricalCharge;let h=null;const f=c.destinationEdges;for(;f.next();){const g=f.value;if(g.toVertex===e){h=g;break}}if(h===null){const g=c.sourceEdges;for(;g.next();){const v=g.value;if(v.fromVertex===e){h=v;break}}}h===null&&(h=this.network.linkVertexes(e,c,null)),h.length=this.defaultCommentSpringLength}}}yD(e,n){const o=e.bounds,l=o.x,c=o.y,h=o.width,f=o.height,g=n.bounds,v=g.x,w=g.y,k=g.width,P=g.height;if(l+h<v)if(c>w+P){const N=l+h-v,F=c-w-P;return I.kw(N*N+F*F)}else if(c+f<w){const N=l+h-v,F=c+f-w;return I.kw(N*N+F*F)}else return v-(l+h);else if(l>v+k)if(c>w+P){const N=l-v-k,F=c-w-P;return I.kw(N*N+F*F)}else if(c+f<w){const N=l-v-k,F=c+f-w;return I.kw(N*N+F*F)}else return l-(v+k);else return c>w+P?c-(w+P):c+f<w?w-(c+f):.1}mD(e,n){const o=this.vh+n;for(;this.vh<o&&(this.vh++,!!this.hI(e)););}hI(e){const n=e.vertexes.toArray();if(n.length<=0)return!1;const o=n[0];o.forceX=0,o.forceY=0;let l=o.centerX,c=l,h=o.centerY,f=h;for(let H=1;H<n.length;H++){const V=n[H];V.forceX=0,V.forceY=0;const $=V.centerX,K=V.centerY;l=Math.min(l,$),c=Math.max(c,$),h=Math.min(h,K),f=Math.max(f,K)}const g=c-l>f-h;g?n.sort((H,V)=>H===null||V===null||H===V?0:H.centerX-V.centerX):n.sort((H,V)=>H===null||V===null||H===V?0:H.centerY-V.centerY);const v=this.Vf;let w=0,k=0,P=0;for(let H=0;H<n.length;H++){const V=n[H],$=V.bounds,K=V.focus,J=$.x+K.x,Q=$.y+K.y;k=V.charge*this.electricalFieldX(J,Q),P=V.charge*this.electricalFieldY(J,Q),k+=V.mass*this.gravitationalFieldX(J,Q),P+=V.mass*this.gravitationalFieldY(J,Q),V.forceX+=k,V.forceY+=P;for(let ne=H+1;ne<n.length;ne++){const le=n[ne];if(!this.shouldInteract(V,le)||ne===H)continue;const fe=le.bounds,we=le.focus,ye=fe.x+we.x,ge=fe.y+we.y;if(J-ye>v||ye-J>v){if(g)break;continue}if(Q-ge>v||ge-Q>v){if(!g)break;continue}const me=this.yD(V,le),ke=2*V.charge,Ce=2*le.charge;if(me>1)w=ke*Ce/(me*me),k=w*(J-ye)/me,P=w*(Q-ge)/me;else{let Ie=this.randomNumberGenerator;Ie===null&&(this.randomNumberGenerator=Ie=new xu(0));const Be=Ie.random(),Xe=Ie.random();if(J>ye)k=Math.abs(le.bounds.right-V.bounds.x),k=ke*Ce*(1+k)*Be;else if(J<ye)k=Math.abs(le.bounds.x-V.bounds.right),k=-(ke*Ce)*(1+k)*Be;else{const He=Math.max(le.width,V.width);k=ke*Ce*((1+He)*Be-He/2)}if(Q>ge)P=Math.abs(le.bounds.bottom-V.bounds.y),P=ke*Ce*(1+P)*Xe;else if(J<ye)P=Math.abs(le.bounds.y-V.bounds.bottom),P=-(ke*Ce)*(1+P)*Xe;else{const He=Math.max(le.height,V.height);P=ke*Ce*((1+He)*Xe-He/2)}}V.forceX+=k,V.forceY+=P,le.forceX-=k,le.forceY-=P}}const N=e.edges.iterator;for(;N.next();){const H=N.value,V=H.fromVertex,$=H.toVertex,K=V.bounds,J=V.focus,Q=K.x+J.x,ne=K.y+J.y,le=$.bounds,fe=$.focus,we=le.x+fe.x,ye=le.y+fe.y,ge=this.yD(V,$);ge>1&&(w=.1*H.stiffness*(ge-H.length),k=w*.5*(V.width+$.height)*(Q-we)/ge,P=w*.5*(V.width+$.height)*(ne-ye)/ge),V.forceX-=k,V.forceY-=P,$.forceX+=k,$.forceY+=P}let F=0;for(let H=0;H<n.length;H++){const V=n[H];this.isFixed(V)?this.moveFixedVertex(V):F=Math.max(F,this.moveVertex(V)||0)}return F>this.epsilonDistance*this.epsilonDistance}lI(e,n,o,l){const c=this.vh+o,h=Math.sqrt(l);this.Vy=this.Za*e.vertexes.count;const f=e.vertexes.toArray();let g=0,v=0,w=0;for(;this.vh<c;){this.vh++,v=g,g=0;for(let k=0;k<f.length;k++){f[k].forceX=0,f[k].forceY=0;for(let N=0;N<f.length;N++){if(k===N)continue;const F=Math.sqrt((f[k].centerX-f[N].centerX)**2+(f[k].centerY-f[N].centerY)**2),H=n[f[k].idInCluster][f[N].idInCluster],V=(F-this.Za*h*H)/F;f[k].forceX+=V*(f[N].x-f[k].x),f[k].forceY+=V*(f[N].y-f[k].y)}const P=Math.sqrt(f[k].forceX*f[k].forceX+f[k].forceY*f[k].forceY);if(P>0){f[k].forceX=this.Vy*f[k].forceX/P,f[k].forceY=this.Vy*f[k].forceY/P,this.isFixed(f[k])||(f[k].x+=f[k].forceX,f[k].y+=f[k].forceY);const N=f[k].hierarchicalVertexes.iterator;for(;N.next();){const F=N.value;this.isFixed(F)||(F.centerX+=f[k].forceX,F.centerY+=f[k].forceY)}}g+=P*P}if(g>=v){if(w++,w>=5)break}else w=0;this.Vy*=.95}}moveVertex(e){let n=e.forceX,o=e.forceY;const l=this.moveLimit;return n<-l?n=-l:n>l&&(n=l),o<-l?o=-l:o>l&&(o=l),e.centerX+=n,e.centerY+=o,n*n+o*o}shouldInteract(e,n){return!0}moveFixedVertex(e){}commitLayout(){this.zy(),this.commitNodes(),this.isRouting&&this.commitLinks()}zy(){if(!this.setsPortSpots)return;const e=this.network.edges.iterator;for(;e.next();){const n=e.value.link;n!==null&&(n.fromSpot=L.Default,n.toSpot=L.Default)}}commitNodes(){let e=0,n=0;if(this.arrangesToOrigin){const c=z.l();this.Cw(this.network,c);const h=this.arrangementOrigin;e=h.x-c.x,n=h.y-c.y,z.e(c)}const o=z.l(),l=this.network.vertexes.iterator;for(;l.next();){const c=l.value;(e!==0||n!==0)&&(o.a(c.bounds),o.x+=e,o.y+=n,c.bounds=o),c.commit()}z.e(o)}commitLinks(){const e=this.network.edges.iterator;for(;e.next();)e.value.commit()}springStiffness(e){const n=e.stiffness;return isNaN(n)?this.zf:n}springLength(e){const n=e.length;return isNaN(n)?this.Xf:n}electricalCharge(e){const n=e.charge;return isNaN(n)?this.Yf:n}electricalFieldX(e,n){return 0}electricalFieldY(e,n){return 0}gravitationalMass(e){const n=e.mass;return isNaN(n)?this.Gf:n}gravitationalFieldX(e,n){return 0}gravitationalFieldY(e,n){return 0}isFixed(e){return e.isFixed}get currentIteration(){return this.vh}get arrangementSpacing(){return this.Ms}set arrangementSpacing(e){this.Ms.equals(e)||(this.Ms.a(e),this.invalidateLayout())}get arrangesToOrigin(){return this.dg}set arrangesToOrigin(e){this.dg!==e&&(this.dg=e,this.invalidateLayout())}get setsPortSpots(){return this.Nn}set setsPortSpots(e){this.Nn!==e&&(this.Nn=e,this.invalidateLayout())}get comments(){return this.Fe}set comments(e){this.Fe!==e&&(this.Fe=e,this.invalidateLayout())}get maxPrelayoutIterations(){return this.gg}set maxPrelayoutIterations(e){this.gg!==e&&e>=0&&(this.gg=e,this.invalidateLayout())}get maxIterations(){return this.mg}set maxIterations(e){this.mg!==e&&e>=0&&(this.mg=e,this.invalidateLayout())}get epsilonDistance(){return this.pg}set epsilonDistance(e){this.pg!==e&&e>0&&(this.pg=e,this.invalidateLayout())}get infinityDistance(){return this.Vf}set infinityDistance(e){this.Vf!==e&&e>1&&(this.Vf=e,this.invalidateLayout())}get moveLimit(){return this.yg}set moveLimit(e){this.yg!==e&&(this.yg=e,this.invalidateLayout())}get randomNumberGenerator(){return this.wg}set randomNumberGenerator(e){this.wg!==e&&(e!==null&&!t.it(e.random)&&t.o('ForceDirectedLayout.randomNumberGenerator must have a "random()" function on it: '+e),this.wg=e)}get defaultSpringStiffness(){return this.zf}set defaultSpringStiffness(e){this.zf!==e&&(this.zf=e,this.invalidateLayout())}get defaultSpringLength(){return this.Xf}set defaultSpringLength(e){this.Xf!==e&&(this.Xf=e,this.invalidateLayout())}get defaultElectricalCharge(){return this.Yf}set defaultElectricalCharge(e){this.Yf!==e&&(this.Yf=e,this.invalidateLayout())}get defaultGravitationalMass(){return this.Gf}set defaultGravitationalMass(e){this.Gf!==e&&(this.Gf=e,this.invalidateLayout())}get defaultCommentSpringLength(){return this.xg}set defaultCommentSpringLength(e){this.xg!==e&&(this.xg=e,this.invalidateLayout())}get defaultCommentElectricalCharge(){return this.bg}set defaultCommentElectricalCharge(e){this.bg!==e&&(this.bg=e,this.invalidateLayout())}get prelayoutQuality(){return this.Kf}set prelayoutQuality(e){this.Kf!==e&&(this.Kf=e,this.invalidateLayout())}get prelayoutSpread(){return this.Za}set prelayoutSpread(e){this.Za!==e&&(this.Za=e,this.invalidateLayout())}}class yu extends Go{constructor(e){super(e)}createVertex(){return new xl(this)}createEdge(){return new jp(this)}}class xl extends Nr{J1;$1;Z1;Q1;_1;hierarchicalVertexes;idInCluster;constructor(e){super(e),this.J1=!1,this.$1=NaN,this.Z1=NaN,this.Q1=0,this._1=0,this.hierarchicalVertexes=new m,this.idInCluster=-1}get isFixed(){return this.J1}set isFixed(e){this.J1!==e&&(this.J1=e)}get charge(){return this.$1}set charge(e){this.$1!==e&&(this.$1=e)}get mass(){return this.Z1}set mass(e){this.Z1!==e&&(this.Z1=e)}get forceX(){return this.Q1}set forceX(e){this.Q1!==e&&(this.Q1=e)}get forceY(){return this._1}set forceY(e){this._1!==e&&(this._1=e)}}class jp extends dl{tk;ik;constructor(e){super(e),this.tk=NaN,this.ik=NaN}get stiffness(){return this.tk}set stiffness(e){this.tk!==e&&(this.tk=e)}get length(){return this.ik}set length(e){this.ik!==e&&(this.ik=e)}}class xu{I;R;Q;M;A;seed;constructor(e){e===void 0&&(e=42),this.seed=e,this.A=48271,this.M=2147483647,this.Q=this.M/this.A,this.R=this.M%this.A,this.I=1/this.M,this.random()}random(){const e=this.seed/this.Q,n=this.seed%this.Q,o=this.A*n-this.R*e;return o>0?this.seed=o:this.seed=o+this.M,this.seed*this.I}}var ic=(G=>(G[G.DepthFirst=0]="DepthFirst",G[G.Greedy=1]="Greedy",G[G.FromLayers=2]="FromLayers",G))(ic||{}),ja=(G=>(G[G.OptimalLinkLength=10]="OptimalLinkLength",G[G.LongestPathSink=11]="LongestPathSink",G[G.LongestPathSource=12]="LongestPathSource",G))(ja||{}),vl=(G=>(G[G.DepthFirstOut=20]="DepthFirstOut",G[G.DepthFirstIn=21]="DepthFirstIn",G[G.Naive=22]="Naive",G))(vl||{}),vu=(G=>(G[G.None=30]="None",G[G.Less=31]="Less",G[G.More=32]="More",G))(vu||{}),_p=(G=>(G[G.None=0]="None",G[G.Expand=1]="Expand",G[G.Straighten=2]="Straighten",G[G.Median=4]="Median",G[G.MaybeExpand=8]="MaybeExpand",G[G.All=15]="All",G))(_p||{}),zp=(G=>(G[G.None=0]="None",G[G.UpperLeft=1]="UpperLeft",G[G.UpperRight=2]="UpperRight",G[G.LowerLeft=4]="LowerLeft",G[G.LowerRight=8]="LowerRight",G[G.All=15]="All",G))(zp||{});class Sy extends As{Ns;Wi;b;jf;Hf;qf;Qa;Wf;Qo;Jf;Nn;kt;Xy;zt;kg;Cs;ci;Zs;Ls;As;It;Pg;_a;Sg;Qs;$f;_o;Cn;Ln;ZN;constructor(e){super(),this.Ns=25,this.Wi=25,this.b=0,this.jf=0,this.Hf=10,this.qf=20,this.Qa=4,this.Wf=31,this.Qo=15,this.Jf=10,this.Nn=!0,this.kt=-1,this.Xy=-1,this.zt=-1,this.kg=0,this.Cs=0,this.ci=null,this.Zs=null,this.Ls=null,this.As=null,this.It=null,this.Pg=0,this._a=null,this.Sg=null,this.Qs=0,this.$f=null,this._o=new T,this.Cn=[],this.Cn.length=100,this.Ln=15,this.ZN=0,e&&Object.assign(this,e)}cloneProtected(e){super.cloneProtected(e),e.Ns=this.Ns,e.Wi=this.Wi,e.b=this.b,e.jf=this.jf,e.Hf=this.Hf,e.qf=this.qf,e.Qa=this.Qa,e.Wf=this.Wf,e.Qo=this.Qo,e.Jf=this.Jf,e.Nn=this.Nn,e.Ln=this.Ln}oi(e){e in vu?this.aggressiveOption=e:e in ic?this.cycleRemoveOption=e:e in vl?this.initializeOption=e:e in ja?this.layeringOption=e:super.oi(e)}createNetwork(){return new bu(this)}doLayout(e){this.network===null&&(this.network=this.makeNetwork(e)),this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin),this.aI(),this.network.vertexes.count>0&&(this.network.deleteSelfEdges(),this.cycleRemoveOption!==2&&this.removeCycles(),this.cI(),this.cycleRemoveOption===2&&this.removeCycles(),this.fI(),this.uI(),this.dI(),this.reduceCrossings(),this.straightenAndPack(),this.updateParts()),this.network=null,this.isValidLayout=!0}linkMinLength(e){return 1}linkLengthWeight(e){return 1}linkStraightenWeight(e){const n=e.fromVertex.node||e.fromVertex.data,o=e.toVertex.node||e.toVertex.data;return n===null&&o===null?8:n===null||o===null?4:1}nodeMinLayerSpace(e,n){return e.node===null&&e.data===null?0:this.b===90||this.b===270?n?e.focus.y+10:e.bounds.height-e.focus.y+10:n?e.focus.x+10:e.bounds.width-e.focus.x+10}nodeMinColumnSpace(e,n){if(e.node===null&&e.data===null)return 0;const o=n?e.ek:e.sk;if(o!==null)return o;const l=this.b;return l===90||l===270?n?e.ek=e.focus.x/this.Wi+1|0:e.sk=(e.bounds.width-e.focus.x)/this.Wi+1|0:n?e.ek=e.focus.y/this.Wi+1|0:e.sk=(e.bounds.height-e.focus.y)/this.Wi+1|0}Ji(){this._a===null&&(this._a=[]);let e=0;const n=this.network.vertexes.iterator;for(;n.next();){const o=n.value;this._a[e]=o.layer,e++,this._a[e]=o.column,e++,this._a[e]=o.index,e++}return this._a}We(e){let n=0;const o=this.network.vertexes.iterator;for(;o.next();){const l=o.value;l.layer=e[n],n++,l.column=e[n],n++,l.index=e[n],n++}}wD(e,n){const o=this.Oh(e),l=this.ci[e];(this.Sg===null||this.Sg.length<l*l)&&(this.Sg=[]);const c=this.Sg;for(let h=0;h<l;h++){let f=0;const g=o[h],v=g.near;let w=0;v!==null&&v!==g&&v.layer===g.layer&&(f+=Math.max(0,Math.abs(v.index-g.index)-1));let k,P=0,N,F=0,H=0,V=0,$,K=0,J,Q=0,ne=0,le=0,fe;if(n>=0){for(k=o[h].fo,P=0;P<k.length;P++)if(N=k[P],N.valid&&N.fromVertex.layer!==e)for(F=N.fromVertex.index,H=N.portToPos,V=N.portFromPos,K=P+1;K<k.length;K++)J=k[K],J.valid&&J.fromVertex.layer!==e&&(Q=J.fromVertex.index,ne=J.portToPos,le=J.portFromPos,H<ne&&(F>Q||F===Q&&V>le)&&f++,ne<H&&(Q>F||Q===F&&le>V)&&f++)}if(n<=0){for(k=o[h].Wo,P=0;P<k.length;P++)if(N=k[P],N.valid&&N.toVertex.layer!==e)for(F=N.toVertex.index,H=N.portToPos,V=N.portFromPos,K=P+1;K<k.length;K++)J=k[K],J.valid&&J.toVertex.layer!==e&&(Q=J.toVertex.index,ne=J.portToPos,le=J.portFromPos,V<le&&(F>Q||F===Q&&H>ne)&&f++,le<V&&(Q>F||Q===F&&ne>H)&&f++)}for(c[h*l+h]=f,w=h+1;w<l;w++){let we=0,ye=0;if(n>=0){for($=o[h].fo,fe=o[w].fo,P=0;P<$.length;P++)if(N=$[P],N.valid&&N.fromVertex.layer!==e)for(F=N.fromVertex.index,H=N.portToPos,V=N.portFromPos,K=0;K<fe.length;K++)J=fe[K],J.valid&&J.fromVertex.layer!==e&&(Q=J.fromVertex.index,ne=J.portToPos,le=J.portFromPos,(F<Q||F===Q&&V<le)&&ye++,(Q<F||Q===F&&le<V)&&we++)}if(n<=0){for($=o[h].Wo,fe=o[w].Wo,P=0;P<$.length;P++)if(N=$[P],N.valid&&N.toVertex.layer!==e)for(F=N.toVertex.index,H=N.portToPos,V=N.portFromPos,K=0;K<fe.length;K++)J=fe[K],J.valid&&J.toVertex.layer!==e&&(Q=J.toVertex.index,ne=J.portToPos,le=J.portFromPos,(F<Q||F===Q&&H<ne)&&ye++,(Q<F||Q===F&&ne<H)&&we++)}c[h*l+w]=we,c[w*l+h]=ye}}return this.Ih(e,o),c}countCrossings(){let e=0;for(let n=0;n<=this.kt;n++){const o=this.wD(n,1),l=this.ci[n];for(let c=0;c<l;c++)for(let h=c;h<l;h++)e+=o[c*l+h]}return e}gI(e,n,o){const l=this.Oh(e),c=this.ci[e];let h=0;for(let f=0;f<c;f++){let g=null;n<=0&&(g=l[f].fo);let v=null;n>=0&&(v=l[f].Wo);let w,k=0,P=0;if(g!==null)for(let N=0;N<g.length;N++)w=g[N],w.valid&&w.fromVertex.layer!==e&&(k=w.fromVertex.column+w.portFromColOffset,P=w.toVertex.column+w.portToColOffset,o?h+=Math.abs(k-P)*this.linkStraightenWeight(w):h+=Math.abs(k-P));if(v!==null)for(let N=0;N<v.length;N++)w=v[N],w.valid&&w.toVertex.layer!==e&&(k=w.fromVertex.column+w.portFromColOffset,P=w.toVertex.column+w.portToColOffset,o?h+=(Math.abs(k-P)+1)*this.linkStraightenWeight(w):h+=Math.abs(k-P))}return this.Ih(e,l),h}nk(e){let n=0;for(let o=0;o<=this.kt;o++)n+=this.gI(o,1,e);return n}Yy(){let e=1/0;this.zt=-1;const n=this.network.vertexes.iterator;for(;n.next();){const o=n.value;e=Math.min(e,o.column-this.nodeMinColumnSpace(o,!0)),this.zt=Math.max(this.zt,o.column+this.nodeMinColumnSpace(o,!1))}for(n.reset();n.next();){const o=n.value;o.column-=e}this.zt-=e}Gy(e,n){const o=this.Oh(e),l=this.ci[e],c=[];for(let h=0;h<l;h++){const f=o[h];let g=null;n<=0&&(g=f.fo);let v=null;n>=0&&(v=f.Wo);let w=0,k=0;const P=f.near;P!==null&&P.layer===f.layer&&(w+=P.column-1,k++);let N;if(g!==null)for(let F=0;F<g.length;F++){N=g[F];const H=N.fromVertex;N.valid&&!N.rev&&H.layer!==e&&(w+=H.column,k++)}if(v!==null)for(let F=0;F<v.length;F++){N=v[F];const H=N.toVertex;N.valid&&!N.rev&&H.layer!==e&&(w+=H.column,k++)}k===0?c[h]=-1:c[h]=w/k}return this.Ih(e,o),c}xD(e,n){const o=this.Oh(e),l=this.ci[e],c=[];for(let h=0;h<l;h++){const f=o[h];let g=null;n<=0&&(g=f.fo);let v=null;n>=0&&(v=f.Wo);let w=0;const k=[],P=f.near;P!==null&&P.layer===f.layer&&(k[w]=P.column-1,w++);let N;if(g!==null)for(let F=0;F<g.length;F++){N=g[F];const H=N.fromVertex;N.valid&&!N.rev&&H.layer!==e&&(k[w]=H.column+N.portFromColOffset,w++)}if(v!==null)for(let F=0;F<v.length;F++){N=v[F];const H=N.toVertex;N.valid&&!N.rev&&H.layer!==e&&(k[w]=H.column+N.portToColOffset,w++)}if(w===0)c[h]=-1;else{k.sort((H,V)=>H-V);const F=w>>1;w&1?c[h]=k[F]:c[h]=k[F-1]+k[F]>>1}}return this.Ih(e,o),c}Ky(e,n,o,l,c){if(e.component===o){e.component=n;let h=0,f=0;if(l){const g=e.destinationEdges;for(;g.next();){const v=g.value,w=v.toVertex;h=e.layer-w.layer,f=this.linkMinLength(v),h===f&&this.Ky(w,n,o,l,c)}}if(c){const g=e.sourceEdges;for(;g.next();){const v=g.value,w=v.fromVertex;h=w.layer-e.layer,f=this.linkMinLength(v),h===f&&this.Ky(w,n,o,l,c)}}}}QN(e,n,o,l,c){if(e.component===o){if(e.component=n,l){const h=e.destinationEdges;for(;h.next();){const f=h.value.toVertex;this.QN(f,n,o,l,c)}}if(c){const h=e.sourceEdges;for(;h.next();){const f=h.value.fromVertex;this.QN(f,n,o,l,c)}}}}removeCycles(){const e=this.network.edges.iterator;for(;e.next();){const n=e.value;n.rev=!1}switch(this.jf){default:case 1:this.mI();break;case 0:this.pI();break;case 2:this.yI();break}}yI(){const e=this.network,n=e.vertexes.iterator;let o=1/0;for(;n.next();){const l=n.value;o=Math.min(o,l.layer)}if(o<1/0){if(o<0)for(n.reset();n.next();){const f=n.value;f.layer-=o}const l=[];for(n.reset();n.next();){const f=n.value,g=l[f.layer];g===void 0?l[f.layer]=[f]:g.push(f)}let c=0;for(let f=0;f<l.length;f++){const g=l[f];if(!g||g.length===0)c++;else if(f>0)for(let v=0;v<g.length;v++){const w=g[v];w.layer-=c}}const h=e.edges.iterator;for(;h.next();){const f=h.value,g=f.fromVertex,v=f.toVertex;g.layer<v.layer&&(e.reverseEdge(f),f.rev=!0)}}}mI(){const e=this.network;let n=0,o=e.vertexes.count-1;const l=[];l.length=o+1;const c=e.vertexes.iterator;for(;c.next();){const f=c.value;f.$i=!0}for(;this.wI(e)!==null;){let f;for(f=this.bD(e);f!==null;)l[o]=f,o--,f.$i=!1,f=this.bD(e);for(f=this.kD(e);f!==null;)l[n]=f,n++,f.$i=!1,f=this.kD(e);f=this.xI(e),f!==null&&(l[n]=f,n++,f.$i=!1)}for(let f=0;f<e.vertexes.count;f++)l[f].index=f;const h=e.edges.iterator;for(;h.next();){const f=h.value,g=f.fromVertex,v=f.toVertex;g.index>v.index&&(e.reverseEdge(f),f.rev=!0)}}wI(e){const n=e.vertexes.iterator;for(;n.next();){const o=n.value;if(o.$i)return o}return null}bD(e){const n=e.vertexes.iterator;for(;n.next();){const o=n.value;if(o.$i){let l=!0;const c=o.destinationEdges;for(;c.next();)if(c.value.toVertex.$i){l=!1;break}if(l)return o}}return null}kD(e){const n=e.vertexes.iterator;for(;n.next();){const o=n.value;if(o.$i){let l=!0;const c=o.sourceEdges;for(;c.next();)if(c.value.fromVertex.$i){l=!1;break}if(l)return o}}return null}xI(e){let n=null,o=0;const l=this.network.vertexes.iterator;for(;l.next();){const c=l.value;if(c.$i){let h=0;const f=c.destinationEdges;for(;f.next();)f.value.toVertex.$i&&h++;let g=0;const v=c.sourceEdges;for(;v.next();)v.value.fromVertex.$i&&g++;(n===null||o<h-g)&&(n=c,o=h-g)}}return n}pI(){const e=this.network.vertexes.iterator;for(;e.next();){const o=e.value;o.Zf=-1,o.Xn=-1}const n=this.network.edges.iterator;for(;n.next();){const o=n.value;o.forest=!1}for(this.Pg=0,e.reset();e.next();){const o=e.value;o.sourceEdges.count===0&&this._N(o)}for(e.reset();e.next();){const o=e.value;o.Zf===-1&&this._N(o)}for(n.reset();n.next();){const o=n.value;if(!o.forest){const l=o.fromVertex,c=l.Zf,h=l.Xn,f=o.toVertex,g=f.Zf,v=f.Xn;g<c&&h<v&&(this.network.reverseEdge(o),o.rev=!0)}}}_N(e){e.Zf=this.Pg,this.Pg++;const n=e.destinationEdges;for(;n.next();){const o=n.value,l=o.toVertex;l.Zf===-1&&(o.forest=!0,this._N(l))}e.Xn=this.Pg,this.Pg++}cI(){const e=this.network.vertexes.iterator;for(;e.next();){const n=e.value;n.layer=-1}for(this.kt=-1,this.assignLayers(),e.reset();e.next();){const n=e.value;this.kt=Math.max(this.kt,n.layer)}}assignLayers(){switch(this.Hf){case 11:this.PD();break;case 12:this.bI();break;default:case 10:this.kI();break}}PD(){const e=this.network.vertexes.iterator;for(;e.next();){const n=e.value,o=this.SD(n);this.kt=Math.max(o,this.kt)}}SD(e){let n=0;if(e.layer===-1){const o=e.destinationEdges;for(;o.next();){const l=o.value,c=l.toVertex,h=this.linkMinLength(l);n=Math.max(n,this.SD(c)+h)}e.layer=n}else n=e.layer;return n}bI(){let e=0;const n=this.network.vertexes.iterator;for(;n.next();){const o=n.value;e=this.MD(o),this.kt=Math.max(e,this.kt)}for(n.reset();n.next();){const o=n.value;o.layer=this.kt-o.layer}}MD(e){let n=0;if(e.layer===-1){const o=e.sourceEdges;for(;o.next();){const l=o.value,c=l.fromVertex,h=this.linkMinLength(l);n=Math.max(n,this.MD(c)+h)}e.layer=n}else n=e.layer;return n}kI(){this.PD();const e=this.network.vertexes.iterator;for(;e.next();){const o=e.value;o.$i=!1}for(e.reset();e.next();){const o=e.value;o.sourceEdges.count===0&&this.ND(o)}let n=1/0;for(e.reset();e.next();){const o=e.value;n=Math.min(n,o.layer)}for(this.kt=-1,e.reset();e.next();){const o=e.value;o.layer-=n,this.kt=Math.max(this.kt,o.layer)}}ND(e){if(!e.$i){e.$i=!0;const n=e.destinationEdges;for(;n.next();){const o=n.value.toVertex;this.ND(o)}this.SI(e),this.MI(e)}}SI(e){const n=this.network.vertexes.iterator;for(;n.next();){const f=n.value;f.component=-1}const o=0,l=1,c=e.fo;let h=c.length;for(let f=0;f<h;f++){const g=c[f],v=g.fromVertex,w=g.toVertex,k=this.linkMinLength(g);v.layer-w.layer>k&&this.Ky(v,o,-1,!0,!1)}for(this.Ky(e,l,-1,!0,!0);e.component!==o;){let f=0,g=1/0,v=0,w=null;const k=this.network.vertexes.iterator;for(;k.next();){const P=k.value;if(P.component===l){let N=0,F=!1;const H=P.fo;h=H.length;for(let $=0;$<h;$++){const K=H[$],J=K.fromVertex;if(N+=this.linkLengthWeight(K),J.component!==l){f+=this.linkLengthWeight(K);const Q=J.layer-P.layer,ne=this.linkMinLength(K);g=Math.min(g,Q-ne)}}const V=P.Wo;h=V.length;for(let $=0;$<h;$++){const K=V[$],J=K.toVertex;N-=this.linkLengthWeight(K),J.component!==l?f-=this.linkLengthWeight(K):F=!0}(w===null||N<v)&&!F&&(w=P,v=N)}}if(f>0){for(n.reset();n.next();){const P=n.value;P.component===l&&(P.layer+=g)}e.component=o}else w.component=o}}MI(e){const n=this.network.vertexes.iterator;for(;n.next();){const c=n.value;c.component=-1}const o=0,l=1;for(this.Ky(e,l,-1,!0,!1);e.component!==o;){let c=0,h=1/0,f=0,g=null;const v=this.network.vertexes.iterator;for(;v.next();){const w=v.value;if(w.component===l){let k=0,P=!1;const N=w.fo;let F=N.length;for(let V=0;V<F;V++){const $=N[V],K=$.fromVertex;k+=this.linkLengthWeight($),K.component!==l?c+=this.linkLengthWeight($):P=!0}const H=w.Wo;F=H.length;for(let V=0;V<F;V++){const $=H[V],K=$.toVertex;if(k-=this.linkLengthWeight($),K.component!==l){c-=this.linkLengthWeight($);const J=w.layer-K.layer,Q=this.linkMinLength($);h=Math.min(h,J-Q)}}(g===null||k>f)&&!P&&(g=w,f=k)}}if(c<0){for(n.reset();n.next();){const w=n.value;w.component===l&&(w.layer-=h)}e.component=o}else g.component=o}}fI(){const e=this.network,n=[],o=e.edges.iterator;for(;o.next();){const l=o.value;l.valid=!1,n.push(l)}for(let l=0;l<n.length;l++){const c=n[l];let h=c.fromVertex;const f=c.toVertex;if(c.valid||(h.node===null&&h.data===null||f.node===null&&f.data===null)&&h.layer===f.layer)continue;let g=0,v=0,w=0,k=0;if(c.link!==null){const le=c.link;if(le===null)continue;const fe=h.node,we=f.node;if(fe===null||we===null)continue;let ye=le.fromNode,ge=le.toNode,me=le.fromPort;for(;me!==null&&!me.isVisibleObject();)me=me.panel;let ke=le.toPort;for(;ke!==null&&!ke.isVisibleObject();)ke=ke.panel;if(c.rev){const Et=ye,It=me;ye=ge,me=ke,ge=Et,ke=It}const Ce=h.focus,Ie=f.focus,Be=c.rev?f.bounds:h.bounds,Xe=T.l();fe!==ye?Be.isReal()&&ye.isVisible()?ye.actualBounds.isReal()?(ye.getRelativePoint(me,L.Center,Xe),Xe.x+=ye.actualBounds.x-Be.x,Xe.y+=ye.actualBounds.y-Be.y):(ye.getRelativePoint(me,L.Center,Xe),Xe.isReal()||Xe.a(Ce)):Xe.a(Ce):Be.isReal()?(ye.getRelativePoint(me,L.Center,Xe),Xe.isReal()||Xe.a(Ce)):Xe.a(Ce);const He=c.rev?h.bounds:f.bounds,Ke=T.l();we!==ge?He.isReal()&&ge.isVisible()?ge.actualBounds.isReal()?(ge.getRelativePoint(ke,L.Center,Ke),Ke.x+=ge.actualBounds.x-He.x,Ke.y+=ge.actualBounds.y-He.y):(ge.getRelativePoint(ke,L.Center,Ke),Ke.isReal()||Ke.a(Ie)):Ke.a(Ie):He.isReal()?(ge.getRelativePoint(ke,L.Center,Ke),Ke.isReal()||Ke.a(Ie)):Ke.a(Ie),this.b===90||this.b===270?(g=Math.round((Xe.x-Ce.x)/this.Wi),w=Xe.x,v=Math.round((Ke.x-Ie.x)/this.Wi),k=Ke.x):(g=Math.round((Xe.y-Ce.y)/this.Wi),w=Xe.y,v=Math.round((Ke.y-Ie.y)/this.Wi),k=Ke.y),T.e(Xe),T.e(Ke),c.portFromColOffset=g,c.portFromPos=w,c.portToColOffset=v,c.portToPos=k}else c.portFromColOffset=0,c.portFromPos=0,c.portToColOffset=0,c.portToPos=0;let P=h.layer;const N=f.layer,F=this.NI(c),H=F===1||F===3,V=F===2||F===3;let $,K,J=null,Q;V&&(J=this.CI(h,f),Q=1,K=e.createVertex(),K.node=null,K.ok=1,K.layer=P,K.near=h,e.addVertex(K),$=e.linkVertexes(h,K,c.link),$.valid=!1,$.rev=c.rev,$.portFromColOffset=g,$.portToColOffset=0,$.portFromPos=w,$.portToPos=0,h=K);let ne=1;if(H&&ne--,P-N>ne&&P>0){for(c.valid=!1,K=e.createVertex(),K.node=null,K.ok=2,K.layer=P-1,J&&Q<J.length&&K.layer===J[Q].layer&&(K.near=J[Q++]),e.addVertex(K),$=e.linkVertexes(h,K,c.link),$.valid=!0,$.rev=c.rev,$.portFromColOffset=V?0:g,$.portToColOffset=0,$.portFromPos=V?0:w,$.portToPos=0,h=K,P--;P-N>ne&&P>0;)K=e.createVertex(),K.node=null,K.ok=3,K.layer=P-1,J&&Q<J.length&&K.layer===J[Q].layer&&(K.near=J[Q++]),e.addVertex(K),$=e.linkVertexes(h,K,c.link),$.valid=!0,$.rev=c.rev,$.portFromColOffset=0,$.portToColOffset=0,$.portFromPos=0,$.portToPos=0,h=K,P--;$=e.linkVertexes(K,f,c.link),$.valid=!H,H&&(K.near=f),$.rev=c.rev,$.portFromColOffset=0,$.portToColOffset=v,$.portFromPos=0,$.portToPos=k}else c.valid=!0}}NI(e){let n=0;const o=e.link;if(o!==null){const l=o.fromPort,c=o.toPort;if(l!==null&&c!==null){const h=o.fromNode,f=o.toNode;if(h!==null&&f!==null){const g=this.rk(!0),v=this.rk(!1),w=this.setsPortSpots?g:o.computeSpot(!0,l),k=this.setsPortSpots?v:o.computeSpot(!1,c),P=o.isOrthogonal;if(w.isSide()&&w.includesSide(v)&&k.isSide()&&k.includesSide(g))return 0;const N=o.getLinkPoint(h,l,w,!0,P,f,c,T.l()),F=o.getLinkDirection(h,l,N,w,!0,P,f,c);T.e(N),(!w.isNone()&&F===this.CD(e,!0)||this.setsPortSpots&&h!==null&&h.ports.count===1&&e.rev)&&(n+=1);const H=o.getLinkPoint(f,c,k,!1,P,h,l,T.l()),V=o.getLinkDirection(f,c,H,k,!1,P,h,l);T.e(H),(!k.isNone()&&V===this.CD(e,!1)||this.setsPortSpots&&f!==null&&f.ports.count===1&&e.rev)&&(n+=2)}}}return n}CD(e,n){return this.b===90?n&&!e.rev||!n&&e.rev?270:90:this.b===180?n&&!e.rev||!n&&e.rev?0:180:this.b===270?n&&!e.rev||!n&&e.rev?90:270:n&&!e.rev||!n&&e.rev?180:0}CI(e,n){const o=[];return o.push(n),this.LD(e,o)?o.reverse():[]}LD(e,n){const o=n[n.length-1].sourceEdges.iterator;for(;o.next();){const l=o.value;if(l.rev||!l.valid)continue;const c=l.fromVertex;if(n.push(c),c===e||this.LD(e,n))return!0;n.pop()}return!1}uI(){const e=this.ci=[];for(let o=0;o<=this.kt;o++)e[o]=0;const n=this.network.vertexes.iterator;for(;n.next();){const o=n.value;o.index=-1}this.initializeIndices(),this.Xy=-1,this.kg=0,this.Cs=0;for(let o=0;o<=this.kt;o++)e[o]>e[this.Cs]&&(this.Xy=e[o]-1,this.Cs=o),e[o]<e[this.kg]&&(this.kg=o);this.$f=[];for(let o=0;o<e.length;o++)this.$f[o]=[];for(n.reset();n.next();){const o=n.value,l=o.layer,c=this.$f[l];c[o.index]=o}}initializeIndices(){switch(this.qf){default:case 22:this.LI();break;case 20:this.AI();break;case 21:this.TI();break}}LI(){let e=null;const n=this.network.vertexes.iterator;for(;n.next();){const o=n.value;if(o.near&&(e===null&&(e=new Map),o.layer===o.near.layer)){const l=e.get(o.near)||[];l.push(o),e.set(o.near,l)}}for(n.reset();n.next();){const o=n.value;if(o.near)continue;const l=o.layer;if(o.index=this.ci[l],this.ci[l]++,!e)continue;const c=e.get(o);Array.isArray(c)&&c.forEach(h=>{h.index=this.ci[l],this.ci[l]++})}}AI(){let e=null;const n=this.network.vertexes.iterator;for(;n.next();){const o=n.value;if(o.near&&(e===null&&(e=new Map),o.layer===o.near.layer)){const l=e.get(o.near)||[];l.push(o),e.set(o.near,l)}}for(let o=this.kt;o>=0;o--)for(n.reset();n.next();){const l=n.value;l.layer===o&&l.index===-1&&this.AD(l,e)}}AD(e,n){if(e.near)return;const o=e.layer;if(e.index=this.ci[o],this.ci[o]++,n){const h=n.get(e);Array.isArray(h)&&h.forEach(f=>{f.index=this.ci[o],this.ci[o]++})}const l=e.Wo;let c=!0;for(;c;){c=!1;for(let h=0;h<l.length-1;h++){const f=l[h],g=l[h+1];f.portFromColOffset>g.portFromColOffset&&(c=!0,l[h]=g,l[h+1]=f)}}for(let h=0;h<l.length;h++){const f=l[h];if(f.valid){const g=f.toVertex;g.index===-1&&this.AD(g,n)}}}TI(){let e=null;const n=this.network.vertexes.iterator;for(;n.next();){const o=n.value;if(o.near&&(e===null&&(e=new Map),o.layer===o.near.layer)){const l=e.get(o.near)||[];l.push(o),e.set(o.near,l)}}for(let o=0;o<=this.kt;o++)for(n.reset();n.next();){const l=n.value;l.layer===o&&l.index===-1&&this.TD(l,e)}}TD(e,n){if(e.near)return;const o=e.layer;if(e.index=this.ci[o],this.ci[o]++,n){const v=n.get(e);Array.isArray(v)&&v.forEach(w=>{w.index=this.ci[o],this.ci[o]++})}const l=e.fo;let c=!0,h=0;for(;c;)for(c=!1,h=0;h<l.length-1;h++){const v=l[h],w=l[h+1];v.portToColOffset>w.portToColOffset&&(c=!0,l[h]=w,l[h+1]=v)}let f,g;for(h=0;h<l.length;h++)g=l[h],g.valid&&(f=g.fromVertex,f.index===-1&&this.TD(f,n))}dI(){this.zt=-1;for(let e=0;e<=this.kt;e++){const n=this.Oh(e);let o=0;const l=this.ci[e];for(let c=0;c<l;c++){const h=n[c];o+=this.nodeMinColumnSpace(h,!0),h.column=o,o+=1,o+=this.nodeMinColumnSpace(h,!1)}this.zt=Math.max(this.zt,o-1),this.Ih(e,n)}}reduceCrossings(){let e=this.countCrossings(),n=this.Ji(),o=0,l=0,c=0;for(o=0;o<this.Qa;o++){for(l=0;l<=this.kt;l++)this.lk(l,1),this.rs(l,1,!1,1);for(c=this.countCrossings(),c<e&&(e=c,n=this.Ji()),l=this.kt;l>=0;l--)this.lk(l,-1),this.rs(l,-1,!1,-1);c=this.countCrossings(),c<e&&(e=c,n=this.Ji())}for(this.We(n),o=0;o<this.Qa;o++){for(l=0;l<=this.kt;l++)this.lk(l,0),this.rs(l,0,!1,0);for(c=this.countCrossings(),c<e&&(e=c,n=this.Ji()),l=this.kt;l>=0;l--)this.lk(l,0),this.rs(l,0,!1,0);c=this.countCrossings(),c<e&&(e=c,n=this.Ji())}this.We(n);let h=!1,f=0,g=0,v=0,w=0;switch(this.Wf){case 30:break;case 32:for(v=e+1;(w=this.countCrossings())<v;)for(v=w,f=this.kt;f>=0;f--)for(g=0;g<=f;g++){for(h=!0;h;)for(h=!1,l=f;l>=g;l--)h=this.rs(l,-1,!1,-1)||h;for(c=this.countCrossings(),c>=e?this.We(n):(e=c,n=this.Ji()),h=!0;h;)for(h=!1,l=f;l>=g;l--)h=this.rs(l,1,!1,1)||h;for(c=this.countCrossings(),c>=e?this.We(n):(e=c,n=this.Ji()),h=!0;h;)for(h=!1,l=g;l<=f;l++)h=this.rs(l,1,!1,1)||h;for(c>=e?this.We(n):(e=c,n=this.Ji()),h=!0;h;)for(h=!1,l=g;l<=f;l++)h=this.rs(l,-1,!1,-1)||h;for(c>=e?this.We(n):(e=c,n=this.Ji()),h=!0;h;)for(h=!1,l=f;l>=g;l--)h=this.rs(l,0,!1,0)||h;for(c>=e?this.We(n):(e=c,n=this.Ji()),h=!0;h;)for(h=!1,l=g;l<=f;l++)h=this.rs(l,0,!1,0)||h;c>=e?this.We(n):(e=c,n=this.Ji())}break;default:case 31:for(f=this.kt,g=0,v=e+1;(w=this.countCrossings())<v;){for(v=w,h=!0;h;)for(h=!1,l=f;l>=g;l--)h=this.rs(l,-1,!1,-1)||h;for(c=this.countCrossings(),c>=e?this.We(n):(e=c,n=this.Ji()),h=!0;h;)for(h=!1,l=f;l>=g;l--)h=this.rs(l,1,!1,1)||h;for(c=this.countCrossings(),c>=e?this.We(n):(e=c,n=this.Ji()),h=!0;h;)for(h=!1,l=g;l<=f;l++)h=this.rs(l,1,!1,1)||h;for(c>=e?this.We(n):(e=c,n=this.Ji()),h=!0;h;)for(h=!1,l=g;l<=f;l++)h=this.rs(l,-1,!1,-1)||h;for(c>=e?this.We(n):(e=c,n=this.Ji()),h=!0;h;)for(h=!1,l=f;l>=g;l--)h=this.rs(l,0,!1,0)||h;for(c>=e?this.We(n):(e=c,n=this.Ji()),h=!0;h;)for(h=!1,l=g;l<=f;l++)h=this.rs(l,0,!1,0)||h;c>=e?this.We(n):(e=c,n=this.Ji())}break}this.We(n)}lk(e,n){let o=0,l=!1;const c=this.Oh(e),h=this.ci[e],f=this.xD(e,n),g=this.Gy(e,n);for(o=0;o<h;o++)g[o]===-1&&(g[o]=c[o].column),f[o]===-1&&(f[o]=c[o].column);let v=!0,w;for(;v;)for(v=!1,o=0;o<h-1;o++)if(f[o+1]<f[o]||f[o+1]===f[o]&&g[o+1]<g[o]){l=!0,v=!0;const P=f[o];f[o]=f[o+1],f[o+1]=P;const N=g[o];g[o]=g[o+1],g[o+1]=N,w=c[o],c[o]=c[o+1],c[o+1]=w}let k=0;for(o=0;o<h;o++)w=c[o],w.index=o,k+=this.nodeMinColumnSpace(w,!0),w.column=k,k+=1,k+=this.nodeMinColumnSpace(w,!1);return this.Ih(e,c),l}rs(e,n,o,l){const c=this.Oh(e),h=this.ci[e],f=this.wD(e,n);let g=0,v;if(!o||l>0)for(v=[],g=0;g<h;g++)v[g]=-1;else v=this.Gy(e,-1);let w;if(!o||l<0)for(w=[],g=0;g<h;g++)w[g]=-1;else w=this.Gy(e,1);let k=!1,P=!0;for(;P;)for(P=!1,g=0;g<h-1;g++){const N=f[c[g].index*h+c[g+1].index],F=f[c[g+1].index*h+c[g].index];let H=0,V=0;const $=c[g].column,K=c[g+1].column,J=this.nodeMinColumnSpace(c[g],!0),Q=this.nodeMinColumnSpace(c[g],!1),ne=this.nodeMinColumnSpace(c[g+1],!0),le=this.nodeMinColumnSpace(c[g+1],!1),fe=$-J+ne,we=K-Q+le;let ye=0,ge=0,me=0,ke=0,Ce=0,Ie=0,Be=0,Xe,He=0,Ke,Et=0;const It=c[g].sourceEdges.iterator;if(o&&l<=0)for(;It.next();){const hn=It.value;Xe=hn.fromVertex,hn.valid&&Xe.layer!==e&&(me=this.linkStraightenWeight(hn),ke=hn.portFromColOffset,Ce=hn.portToColOffset,Ie=Xe.column,ye+=(Math.abs($+Ce-(Ie+ke))+1)*me,ge+=(Math.abs(we+Ce-(Ie+ke))+1)*me)}for(It.reset();It.next();){const hn=It.value;if(Xe=hn.fromVertex,hn.valid&&Xe.layer===e){for(He=0;He<c.length&&c[He]!==Xe;)He++;He<g&&(H+=2*(g-He),V+=2*(g+1-He)),He===g+1&&(H+=1),He>g+1&&(H+=4*(He-g),V+=4*(He-(g+1)))}}const bt=c[g].destinationEdges.iterator;if(o&&l>=0)for(;bt.next();){const hn=bt.value;Ke=hn.toVertex,hn.valid&&Ke.layer!==e&&(me=this.linkStraightenWeight(hn),ke=hn.portFromColOffset,Ce=hn.portToColOffset,Be=Ke.column,ye+=(Math.abs($+ke-(Be+Ce))+1)*me,ge+=(Math.abs(we+ke-(Be+Ce))+1)*me)}for(bt.reset();bt.next();){const hn=bt.value;if(Ke=hn.toVertex,hn.valid&&Ke.layer===e){for(Et=0;Et<c.length&&c[Et]!==Ke;)Et++;Et===g+1&&(V+=1)}}const At=c[g+1].sourceEdges.iterator;if(o&&l<=0)for(;At.next();){const hn=At.value;Xe=hn.fromVertex,hn.valid&&Xe.layer!==e&&(me=this.linkStraightenWeight(hn),ke=hn.portFromColOffset,Ce=hn.portToColOffset,Ie=Xe.column,ye+=(Math.abs(K+Ce-(Ie+ke))+1)*me,ge+=(Math.abs(fe+Ce-(Ie+ke))+1)*me)}for(At.reset();At.next();){const hn=At.value;if(Xe=hn.fromVertex,hn.valid&&Xe.layer===e){for(He=0;He<c.length&&c[He]!==Xe;)He++;He<g&&(H+=2*(g+1-He),V+=2*(g-He)),He===g&&(V+=1),He>g+1&&(H+=4*(He-(g+1)),V+=4*(He-g))}}const wt=c[g+1].destinationEdges.iterator;if(o&&l>=0)for(;wt.next();){const hn=wt.value;Ke=hn.toVertex,hn.valid&&Ke.layer!==e&&(me=this.linkStraightenWeight(hn),ke=hn.portFromColOffset,Ce=hn.portToColOffset,Be=Ke.column,ye+=(Math.abs(K+ke-(Be+Ce))+1)*me,ge+=(Math.abs(fe+ke-(Be+Ce))+1)*me)}for(wt.reset();wt.next();){const hn=wt.value;if(Ke=hn.toVertex,hn.valid&&Ke.layer===e){for(Et=0;Et<c.length&&c[Et]!==Ke;)Et++;Et===g&&(H+=1)}}let Vt=0,qt=0;const on=v[c[g].index],An=w[c[g].index],kt=v[c[g+1].index],yn=w[c[g+1].index];if(on!==-1&&(Vt+=Math.abs(on-$),qt+=Math.abs(on-we)),An!==-1&&(Vt+=Math.abs(An-$),qt+=Math.abs(An-we)),kt!==-1&&(Vt+=Math.abs(kt-K),qt+=Math.abs(kt-fe)),yn!==-1&&(Vt+=Math.abs(yn-K),qt+=Math.abs(yn-fe)),V<H-.5||V===H&&F<N-.5||V===H&&F===N&&ge<ye-.5||V===H&&F===N&&ge===ye&&qt<Vt-.5){k=!0,P=!0,c[g].column=we,c[g+1].column=fe;const hn=c[g];c[g]=c[g+1],c[g+1]=hn}}for(g=0;g<h;g++)c[g].index=g;return this.Ih(e,c),k}straightenAndPack(){if(this.Ln!==0){this.DI();return}let e=0,n=!1,o=(this.Qo&1)!==0;const l=(this.Qo&8)!==0;if(this.network.edges.count>1e3&&l&&(o=!1),o){const c=[];let h=0;for(h=0;h<=this.kt;h++)c[h]=0;let f=0;const g=this.network.vertexes.iterator;for(;g.next();){const w=g.value;e=w.layer,f=w.column;const k=this.nodeMinColumnSpace(w,!1);c[e]=Math.max(c[e],f+k)}const v=8;for(g.reset();g.next();){const w=g.value;e=w.layer,f=w.column,w.column=((this.zt-c[e])*v>>1)+f*v}this.zt*=v}if(this.Qo&2){n=!0;let c=0;for(;n&&c<this.Jf;){for(n=!1,e=this.Cs+1;e<=this.kt;e++)n=this.Mg(e,1)||n;for(e=this.Cs-1;e>=0;e--)n=this.Mg(e,-1)||n;n=this.Mg(this.Cs,0)||n,c++}}if(this.Qo&4){for(e=this.Cs+1;e<=this.kt;e++)this.tC(e,1);for(e=this.Cs-1;e>=0;e--)this.tC(e,-1);this.tC(this.Cs,0)}if(o&&(this.DD(-1),this.DD(1)),this.Qo&2){n=!0;let c=0;for(;n&&c<this.Jf;){for(n=!1,n=this.Mg(this.Cs,0)||n,e=this.Cs+1;e<=this.kt;e++)n=this.Mg(e,0)||n;for(e=this.Cs-1;e>=0;e--)n=this.Mg(e,0)||n;c++}}}Mg(e,n){let o=!1;for(;this.FI(e,n);)o=!0;return o}FI(e,n){let o=0;const l=this.Oh(e),c=this.ci[e],h=this.Gy(e,-1);if(n>0)for(o=0;o<c;o++)h[o]=-1;const f=this.Gy(e,1);if(n<0)for(o=0;o<c;o++)f[o]=-1;let g=!1,v=!0;for(;v;)for(v=!1,o=0;o<c;o++){const w=l[o].column,k=this.nodeMinColumnSpace(l[o],!0),P=this.nodeMinColumnSpace(l[o],!1);let N=0;o-1<0||w-l[o-1].column-1>k+this.nodeMinColumnSpace(l[o-1],!1)?N=w-1:N=w;let F=0;o+1>=c||l[o+1].column-w-1>P+this.nodeMinColumnSpace(l[o+1],!0)?F=w+1:F=w;let H=0,V=0,$=0,K=0,J=0,Q=0;if(n<=0){const ge=l[o].sourceEdges.iterator;for(;ge.next();){const me=ge.value,ke=me.fromVertex;if(me.valid&&ke.layer!==e){K=this.linkStraightenWeight(me),J=me.portFromColOffset,Q=me.portToColOffset;const Ce=ke.column;H+=(Math.abs(w+Q-(Ce+J))+1)*K,V+=(Math.abs(N+Q-(Ce+J))+1)*K,$+=(Math.abs(F+Q-(Ce+J))+1)*K}}}if(n>=0){const ge=l[o].destinationEdges.iterator;for(;ge.next();){const me=ge.value,ke=me.toVertex;if(me.valid&&ke.layer!==e){K=this.linkStraightenWeight(me),J=me.portFromColOffset,Q=me.portToColOffset;const Ce=ke.column;H+=(Math.abs(w+J-(Ce+Q))+1)*K,V+=(Math.abs(N+J-(Ce+Q))+1)*K,$+=(Math.abs(F+J-(Ce+Q))+1)*K}}}let ne=0,le=0,fe=0;const we=h[l[o].index],ye=f[l[o].index];we!==-1&&(ne+=Math.abs(we-w),le+=Math.abs(we-N),fe+=Math.abs(we-F)),ye!==-1&&(ne+=Math.abs(ye-w),le+=Math.abs(ye-N),fe+=Math.abs(ye-F)),V<H||V===H&&le<ne?(g=!0,v=!0,l[o].column=N):($<H||$===H&&fe<ne)&&(g=!0,v=!0,l[o].column=F)}return this.Ih(e,l),this.Yy(),g}tC(e,n){let o=0;const l=this.Oh(e),c=this.ci[e],h=this.xD(e,n),f=[];for(o=0;o<c;o++)f[o]=h[o];let g=!1,v=!0;for(;v;)for(v=!1,o=0;o<c;o++){const w=l[o].column,k=this.nodeMinColumnSpace(l[o],!0),P=this.nodeMinColumnSpace(l[o],!1);let N=0,F=0,H=0,V=0,$=0;f[o]===-1?o===0&&o===c-1?N=w:o===0?(F=l[o+1].column,F-w===P+this.nodeMinColumnSpace(l[o+1],!0)?N=w-1:N=w):o===c-1?(H=l[o-1].column,w-H===k+this.nodeMinColumnSpace(l[o-1],!1)?N=w+1:N=w):(H=l[o-1].column,$=H+this.nodeMinColumnSpace(l[o-1],!1)+k+1,F=l[o+1].column,V=F-this.nodeMinColumnSpace(l[o+1],!0)-P-1,N=($+V)/2|0):o===0&&o===c-1?N=f[o]:o===0?(F=l[o+1].column,V=F-this.nodeMinColumnSpace(l[o+1],!0)-P-1,N=Math.min(f[o],V)):o===c-1?(H=l[o-1].column,$=H+this.nodeMinColumnSpace(l[o-1],!1)+k+1,N=Math.max(f[o],$)):(H=l[o-1].column,$=H+this.nodeMinColumnSpace(l[o-1],!1)+k+1,F=l[o+1].column,V=F-this.nodeMinColumnSpace(l[o+1],!0)-P-1,$<f[o]&&f[o]<V?N=f[o]:$>=f[o]?N=$:V<=f[o]&&(N=V)),N!==w&&(g=!0,v=!0,l[o].column=N)}return this.Ih(e,l),this.Yy(),g}RI(){for(let e=0;e<=this.zt;e++)for(;this.vI(e,1););this.Yy()}vI(e,n){let o=!0;const l=this.network.vertexes.iterator;for(;l.next();){const h=l.value,f=this.nodeMinColumnSpace(h,!0),g=this.nodeMinColumnSpace(h,!1);if(h.column-f<=e&&h.column+g>=e){o=!1;break}}let c=!1;if(o){if(n>0)for(l.reset();l.next();){const h=l.value;h.column>e&&(h.column-=1,c=!0)}if(n<0)for(l.reset();l.next();){const h=l.value;h.column<e&&(h.column+=1,c=!0)}}return c}OI(){this.RI();for(let e=0;e<this.zt;e++)for(;this.II(e,1););this.Yy()}II(e,n){let o=e;n>0&&(o=e+1),n<0&&(o=e-1);let l=0;const c=[],h=[];for(l=0;l<=this.kt;l++)c[l]=!1,h[l]=!1;const f=this.network.vertexes.iterator;for(;f.next();){const w=f.value,k=w.column-this.nodeMinColumnSpace(w,!0),P=w.column+this.nodeMinColumnSpace(w,!1);k<=e&&P>=e&&(c[w.layer]=!0),k<=o&&P>=o&&(h[w.layer]=!0)}let g=!0,v=!1;for(l=0;l<=this.kt;l++)g=g&&!(c[l]&&h[l]);if(g){if(n>0)for(f.reset();f.next();){const w=f.value;w.column>e&&(w.column-=1,v=!0)}if(n<0)for(f.reset();f.next();){const w=f.value;w.column<e&&(w.column+=1,v=!0)}}return v}DD(e){this.OI();let n=0,o,l=0,c=0,h=0;if(e>0)for(n=0;n<=this.zt;n++)for(o=this.Ji(),l=this.nk(!0),c=l+1;l<c;)c=l,this.FD(n,1),h=this.nk(!0),h>l?this.We(o):h<l&&(l=h,o=this.Ji());if(e<0)for(n=this.zt;n>=0;n--)for(o=this.Ji(),l=this.nk(!0),c=l+1;l<c;)c=l,this.FD(n,-1),h=this.nk(!0),h>l?this.We(o):h<l&&(l=h,o=this.Ji());this.Yy()}FD(e,n){this.Qs=0;const o=this.network.vertexes.iterator;for(;o.next();){const k=o.value;k.component=-1}if(n>0)for(o.reset();o.next();){const k=o.value;k.column-this.nodeMinColumnSpace(k,!0)<=e&&(k.component=this.Qs)}if(n<0)for(o.reset();o.next();){const k=o.value;k.column+this.nodeMinColumnSpace(k,!1)>=e&&(k.component=this.Qs)}for(this.Qs++,o.reset();o.next();){const k=o.value;k.component===-1&&(this.QN(k,this.Qs,-1,!0,!0),this.Qs++)}let l=0;const c=[];for(l=0;l<this.Qs*this.Qs;l++)c[l]=!1;const h=[];for(l=0;l<(this.kt+1)*(this.zt+1);l++)h[l]=-1;for(o.reset();o.next();){const k=o.value,P=k.layer,N=Math.max(0,k.column-this.nodeMinColumnSpace(k,!0)),F=Math.min(this.zt,k.column+this.nodeMinColumnSpace(k,!1));for(let H=N;H<=F;H++)h[P*(this.zt+1)+H]=k.component}for(let k=0;k<=this.kt;k++){if(n>0)for(let P=0;P<this.zt;P++)h[k*(this.zt+1)+P]!==-1&&h[k*(this.zt+1)+P+1]!==-1&&h[k*(this.zt+1)+P]!==h[k*(this.zt+1)+P+1]&&(c[h[k*(this.zt+1)+P]*this.Qs+h[k*(this.zt+1)+P+1]]=!0);if(n<0)for(let P=this.zt;P>0;P--)h[k*(this.zt+1)+P]!==-1&&h[k*(this.zt+1)+P-1]!==-1&&h[k*(this.zt+1)+P]!==h[k*(this.zt+1)+P-1]&&(c[h[k*(this.zt+1)+P]*this.Qs+h[k*(this.zt+1)+P-1]]=!0)}const f=[];for(l=0;l<this.Qs;l++)f[l]=!0;const g=[];g.push(0);let v=0;for(;g.length!==0;)if(v=g[g.length-1],g.pop(),f[v])for(f[v]=!1,l=0;l<this.Qs;l++)c[v*this.Qs+l]&&g.splice(0,0,l);let w=!1;if(n>0)for(o.reset();o.next();){const k=o.value;f[k.component]&&(k.column-=1,w=!0)}if(n<0)for(o.reset();o.next();){const k=o.value;f[k.component]&&(k.column+=1,w=!0)}return w}DI(){const e=t.et(),n=this.$f.length;for(let N=0;N<=n;N++)e[N]=[];const o=this.network.vertexes.iterator;for(;o.next();){const N=o.value,F=n-N.layer,H=e[F];H[N.index]=N}const l=new b;this.EI(e,l);let c=null,h=null,f=null,g=null;const v=(this.Ln&1)!==0,w=(this.Ln&2)!==0,k=(this.Ln&4)!==0,P=(this.Ln&8)!==0;v&&(this.tl(e,l,!0),c=this.hk(e,!0,!1)),e.reverse(),k&&(this.tl(e,l,!1),f=this.hk(e,!1,!1));for(const N of e)N.reverse();P&&(this.tl(e,l,!1),g=this.hk(e,!1,!0)),e.reverse(),w&&(this.tl(e,l,!0),h=this.hk(e,!0,!0)),t.J(e),this.UI(c,h,f,g),this.network.vertexes.each(N=>{const F=N,H=t.et();v&&H.push(c.get(F)),w&&H.push(h.get(F)),k&&H.push(f.get(F)),P&&H.push(g.get(F)),H.sort((Q,ne)=>Q-ne);const V=H.length,$=Math.floor((V-1)/2),K=Math.ceil((V-1)/2),J=(H[$]+H[K])/2;t.J(H),F.he=J})}EI(e,n){const o=e.length;for(let l=1;l<o-1;l++){let c=0,h=0;const f=e[l],g=e[l+1];for(let v=0;h<g.length;v++){const w=g[v],k=this.BI(w);if(v===g.length-1||k){let P=f.length-1;for(k&&(P=w.getProperSourceVertexes()[0].index);h<=v;){const N=g[h].getProperSourceEdges();for(const F of N){const H=F.fromVertex.index;(H<c||H>P)&&n.add(F)}h++}c=P}}}}BI(e){if(e.node===null){const n=e.getProperSourceVertexes();if(n.length>0)return n[0].node===null}return!1}tl(e,n,o){this.VI(e);for(const l of e){let c=-1;for(const h of l){const f=o?h.getProperSourceVertexes():h.getProperDestinationVertexes(),g=f.length;if(g>0){f.sort((w,k)=>w.Eh-k.Eh);const v=(g-1)/2;for(let w=Math.floor(v),k=Math.ceil(v);w<=k;w++)if(h.An===h){const P=f[w];let N;o?N=P.getDestinationEdge(h):N=h.getDestinationEdge(P),!n.has(N)&&c<P.Eh&&(P.An=h,h.tc=P.tc,h.An=P.tc,c=P.Eh)}}}}}VI(e){for(let n=0;n<e.length;n++){const o=e[n];for(let l=0;l<o.length;l++){const c=o[l];c.tc=c,c.An=c,c.RD=n,c.Eh=l}}}hk(e,n,o){const l=this.b===90||this.b===270;for(const h of e)for(const f of h)f.Je=f,f.Qf=1/0,f.he=NaN,f.Tn=0;this.zI(e,n,o);for(const h of e)for(const f of h)f.tc===f&&this.vD(f,e);for(let h=0;h<e.length;h++){if(e[h].length<=0)continue;const f=e[h][0];if(f.Je===f){f.Je.Qf===1/0&&(f.Je.Qf=0);let g=h,v=0,w;do{for(w=e[g][v];w.An!==w.tc;)if(w=w.An,g++,w.Eh>0){const k=this.OD(w,e),P=l?k.width:k.height,N=w.Je.Qf+w.he+w.Tn-(k.he+k.Tn+P+this.columnSpacing);k.Je.Qf=Math.min(k.Je.Qf,N)}v=w.Eh+1}while(g<e.length&&v<e[g].length&&w.Je===e[g][v].Je)}}const c=new _;for(const h of e)for(const f of h){f.he=f.he+f.Je.Qf+f.Tn;const g=l?f.width:f.height;c.set(f,o?-f.he-g:f.he)}return c}zI(e,n,o){const l=this.b===90||this.b===270;for(const c of e)for(const h of c)if(h.tc===h){let f=0,g=h;for(;g.An!==h;){const v=g.An,w=l?g.width:g.height,k=l?v.width:v.height;let P,N,F,H;n?(F=g.getDestinationEdge(v),P=F.portFromPos,N=F.portToPos,F.link!==null&&(g.node&&g.node!==F.link.fromNode&&(P=l?g.focusX:g.focusY),v.node&&v.node!==F.link.toNode&&(N=l?v.focusX:v.focusY)),o?H=g.Tn+(w-P)-(k-N):H=g.Tn+P-N):(F=v.getDestinationEdge(g),P=F.portToPos,N=F.portFromPos,F.link!==null&&(g.node&&g.node!==F.link.toNode&&(P=l?g.focusX:g.focusY),v.node&&v.node!==F.link.fromNode&&(N=l?v.focusX:v.focusY)),o?H=g.Tn+(w-P)-(k-N):H=g.Tn+P-N),v.Tn=H,f=Math.min(f,H),g=g.An}g=h;do g.Tn=g.Tn-f,g=g.An;while(g!==h)}}vD(e,n){if(!isNaN(e.he))return;e.he=0;let o=e;do{if(o.Eh>0){const l=this.OD(o,n),c=l.tc;this.vD(c,n),e.Je===e&&(e.Je=c.Je);const h=this.b===90||this.b===270?l.width:l.height;if(e.Je===c.Je){const f=c.he+l.Tn+h-o.Tn+this.columnSpacing;e.he=Math.max(e.he,f)}}o=o.An}while(o!==e);for(;o.An!==e;)o=o.An,o.he=e.he,o.Je=e.Je}OD(e,n){const o=e.RD,l=e.Eh;return l<1&&t.o("Could not determine previous vertex in layer"),n[o][l-1]}UI(...e){let n=-1;const o=t.et(),l=t.et();let c=1/0;for(let h=0;h<4;h++){if(!e[h])continue;const f=this.XI(e[h],o,l,h);f<c&&(n=h,c=f)}for(let h=0;h<4;h++){const f=e[h];if(!f)continue;const g=h===0||h===2?o[n]-o[h]:l[n]-l[h];g!==0&&f.each(v=>{f.set(v.key,v.value+g)})}t.J(o),t.J(l)}XI(e,n,o,l){if(!e||e.count===0)return n[l]=0,o[l]=0,1/0;let c=1/0,h=-1/0;return e.each(f=>{const g=f.key,v=f.value,w=this.b===90||this.b===270?g.width:g.height;v<c&&(c=v),v+w>h&&(h=v+w)}),n[l]=c,o[l]=h,h-c}commitLayout(){this.zy(),this.commitNodes(),this.iC(),this.isRouting&&this.commitLinks()}zy(){if(!this.setsPortSpots)return;const e=this.rk(!0),n=this.rk(!1),o=this.network.edges.iterator;for(;o.next();){const l=o.value.link;l!==null&&(l.fromSpot=e,l.toSpot=n)}}rk(e){return this.b===270?e?L.MiddleTop:L.MiddleBottom:this.b===90?e?L.MiddleBottom:L.MiddleTop:this.b===180?e?L.MiddleLeft:L.MiddleRight:e?L.MiddleRight:L.MiddleLeft}commitNodes(){this.Zs=[],this.Ls=[],this.As=[],this.It=[];for(let F=0;F<=this.kt;F++)this.Zs[F]=0,this.Ls[F]=0,this.As[F]=0,this.It[F]=0;const e=this.network.vertexes.iterator;for(;e.next();){const F=e.value,H=F.layer;this.Zs[H]=Math.max(this.Zs[H],this.nodeMinLayerSpace(F,!0)),this.Ls[H]=Math.max(this.Ls[H],this.nodeMinLayerSpace(F,!1))}let n=0;const o=this.Ns;for(let F=0;F<=this.kt;F++){let H=o;this.Zs[F]+this.Ls[F]<=0&&(H=0),F>0&&(n+=H/2),this.b===90||this.b===0?(n+=this.Ls[F],this.As[F]=n,n+=this.Zs[F]):(n+=this.Zs[F],this.As[F]=n,n+=this.Ls[F]),F<this.kt&&(n+=H/2),this.It[F]=n}const l=n,c=this.arrangementOrigin;for(let F=0;F<=this.kt;F++)this.b===270?this.As[F]=c.y+this.As[F]:this.b===90?(this.As[F]=c.y+l-this.As[F],this.It[F]=l-this.It[F]):this.b===180?this.As[F]=c.x+this.As[F]:(this.As[F]=c.x+l-this.As[F],this.It[F]=l-this.It[F]);const h=this.Ln!==0;e.reset();const f=this.b===270||this.b===90;let g=1/0,v=1/0,w=1/0,k=-1/0;for(;e.next();){const F=e.value,H=F.layer,V=F.column|0;let $=0,K=0;f?($=c.x+this.Wi*V,K=this.As[H]):($=this.As[H],K=c.y+this.Wi*V),F.centerX=$,F.centerY=K,h&&isFinite(F.he)&&(f?F.node?F.x=c.x+F.he:F.centerX=c.x+F.he:F.node?F.y=c.y+F.he:F.centerY=c.y+F.he),g=Math.min(F.x,g),v=Math.min(F.y,v),f?(w=g,k=Math.max(k,F.bounds.right)):(w=v,k=Math.max(k,F.bounds.bottom))}this.ZN=k-w;const P=c.x-g,N=c.y-v;for(this._o=new T(h&&f?0:P,h&&!f?0:N),e.reset();e.next();){const F=e.value;F.x+=P,F.y+=N,F.commit()}}iC(){let e=0;const n=this.Ns;for(let c=0;c<=this.kt;c++)e+=this.Zs[c],e+=this.Ls[c];e+=this.kt*n;const o=[],l=this.Ln!==0?this.ZN:this.Wi*this.zt;for(let c=this.maxLayer;c>=0;c--)this.b===270?c===0?o.push(new z(0,0,l,Math.abs(this.It[0]))):o.push(new z(0,this.It[c-1],l,Math.abs(this.It[c-1]-this.It[c]))):this.b===90?c===0?o.push(new z(0,this.It[0],l,Math.abs(this.It[0]-e))):o.push(new z(0,this.It[c],l,Math.abs(this.It[c-1]-this.It[c]))):this.b===180?c===0?o.push(new z(0,0,Math.abs(this.It[0]),l)):o.push(new z(this.It[c-1],0,Math.abs(this.It[c-1]-this.It[c]),l)):c===0?o.push(new z(this.It[0],0,Math.abs(this.It[0]-e),l)):o.push(new z(this.It[c],0,Math.abs(this.It[c-1]-this.It[c]),l));this.commitLayers(o,this._o)}commitLayers(e,n){}commitLinks(){const e=this.network.edges.iterator;let n;for(;e.next();)n=e.value.link,n!==null&&(n.startRoute(),n.clearPoints(),n.commitRoute());for(e.reset();e.next();)n=e.value.link,n!==null&&n.updateRoute();for(e.reset();e.next();){const o=e.value;if(n=o.link,n===null||n.pointsCount===0)continue;n.startRoute();const l=n;let c=l.fromNode,h=l.toNode,f=l.fromPort,g=l.toPort;if(c!==null){const me=c.findVisibleNode();me!==null&&me!==c&&(c=me,f=me.port)}if(h!==null){const me=h.findVisibleNode();me!==null&&me!==h&&(h=me,g=me.port)}const v=n.computeSpot(!0,f),w=n.computeSpot(!1,g);let k=o.fromVertex,P=o.toVertex;if(o.valid){if(n.curve===9&&n.pointsCount===4)if(k.column===P.column&&this.alignOption===0){const me=n.getLinkPoint(c,f,v,!0,!1,h,g),ke=n.getLinkPoint(h,g,w,!1,!1,c,f);me.isReal()||me.set(c.actualBounds.center),ke.isReal()||ke.set(h.actualBounds.center),n.clearPoints(),n.addPointAt(me.x,me.y),n.addPointAt((2*me.x+ke.x)/3,(2*me.y+ke.y)/3),n.addPointAt((me.x+2*ke.x)/3,(me.y+2*ke.y)/3),n.addPointAt(ke.x,ke.y)}else{let me=!1,ke=!1;if(f!==null&&v===L.None&&(me=!0),g!==null&&w===L.None&&(ke=!0),me||ke){let Ce=null;me&&(Ce=n.getLinkPointFromPoint(c,f,f.getDocumentPoint(L.Center),n.getPoint(3),!0),Ce.isReal()||Ce.set(c.actualBounds.center),n.setPointAt(0,Ce.x,Ce.y));let Ie=null;if(ke&&(Ie=n.getLinkPointFromPoint(h,g,g.getDocumentPoint(L.Center),n.getPoint(0),!1),Ie.isReal()||Ie.set(h.actualBounds.center),n.setPointAt(3,Ie.x,Ie.y)),Ce){const Be=n.getPoint(2);n.setPointAt(1,(Ce.x*2+Be.x)/3,(Ce.y*2+Be.y)/3)}if(Ie){const Be=n.getPoint(1);n.setPointAt(2,(Ie.x*2+Be.x)/3,(Ie.y*2+Be.y)/3)}}}n.commitRoute();continue}if(k.layer===P.layer){n.commitRoute();continue}let N=!1,F=!1;const H=this.Ns;let V=0,$=n.firstPickIndex+1;if(n.isOrthogonal)F=!0,V=n.pointsCount,V>4&&n.points.removeRange(2,V-3);else if(n.curve===9)N=!0,V=n.pointsCount,V>4&&n.points.removeRange(2,V-3),V===4&&($=2);else{V=n.pointsCount;const me=v===L.None,ke=w===L.None;V>2&&me&&ke?n.points.removeRange(1,V-2):V>3&&me&&!ke?n.points.removeRange(1,V-3):V>3&&!me&&ke?n.points.removeRange(2,V-2):V>4&&!me&&!ke&&n.points.removeRange(2,V-3)}let K,J,Q=0,ne=0,le=0,fe=0,we=0,ye=0,ge=0;if(o.rev){let me=0;for(;P!==null&&k!==P;){K=null,J=null;const ke=P.sourceEdges.iterator;for(;ke.next();){const Ce=ke.value;if(Ce.link===o.link&&(K=Ce.fromVertex,J=Ce.toVertex,K.node===null))break}if(K===null)break;if(K!==k)if(Q=n.getPoint($-1).x,ne=n.getPoint($-1).y,le=K.centerX,fe=K.centerY,F)this.b===180||this.b===0?$===n.firstPickIndex+1?(n.insertPointAt($++,Q,ne),n.insertPointAt($++,Q,fe)):(J!==null?J.centerY:ne)!==fe&&(we=this.It[K.layer-1]+this._o.x,n.insertPointAt($++,we,ne),n.insertPointAt($++,we,fe)):$===n.firstPickIndex+1?(n.insertPointAt($++,Q,ne),n.insertPointAt($++,le,ne)):(J!==null?J.centerX:Q)!==le&&(we=this.It[K.layer-1]+this._o.y,n.insertPointAt($++,Q,we),n.insertPointAt($++,le,we));else if($===n.firstPickIndex+1)if(ye=Math.max(10,this.Zs[P.layer]),ge=Math.max(10,this.Ls[P.layer]),N)this.b===180?le<=P.bounds.x?(me=P.bounds.x,n.insertPointAt($++,me-ye,fe),n.insertPointAt($++,me,fe),n.insertPointAt($++,me+ge,fe)):(n.insertPointAt($++,le-ye,fe),n.insertPointAt($++,le,fe),n.insertPointAt($++,le+ge,fe)):this.b===90?fe>=P.bounds.bottom?(me=P.bounds.y+P.bounds.height,n.insertPointAt($++,le,me+ge),n.insertPointAt($++,le,me),n.insertPointAt($++,le,me-ye)):(n.insertPointAt($++,le,fe+ge),n.insertPointAt($++,le,fe),n.insertPointAt($++,le,fe-ye)):this.b===270?fe<=P.bounds.y?(me=P.bounds.y,n.insertPointAt($++,le,me-ye),n.insertPointAt($++,le,me),n.insertPointAt($++,le,me+ge)):(n.insertPointAt($++,le,fe-ye),n.insertPointAt($++,le,fe),n.insertPointAt($++,le,fe+ge)):this.b===0&&(le>=P.bounds.right?(me=P.bounds.x+P.bounds.width,n.insertPointAt($++,me+ge,fe),n.insertPointAt($++,me,fe),n.insertPointAt($++,me-ye,fe)):(n.insertPointAt($++,le+ge,fe),n.insertPointAt($++,le,fe),n.insertPointAt($++,le-ye,fe)));else{n.insertPointAt($++,Q,ne);let Ce=0;this.b===180||this.b===0?((this.b===180?le>=P.bounds.right:le<=P.bounds.x)&&(Ce=(this.b===0?-ye:ge)/2),n.insertPointAt($++,Q+Ce,fe)):((this.b===270?fe>=P.bounds.bottom:fe<=P.bounds.y)&&(Ce=(this.b===90?-ye:ge)/2),n.insertPointAt($++,le,ne+Ce)),n.insertPointAt($++,le,fe)}else ye=Math.max(10,this.Zs[K.layer]),ge=Math.max(10,this.Ls[K.layer]),N?this.b===180?(n.insertPointAt($++,le-ye-H,fe),n.insertPointAt($++,Math.min(le-ye+H/2,le),fe),n.insertPointAt($++,le,fe),n.insertPointAt($++,le,fe),n.insertPointAt($++,Math.max(le+ge-H/2,le),fe),n.insertPointAt($++,le+ge+H,fe)):this.b===90?(n.insertPointAt($++,le,fe+ge+H),n.insertPointAt($++,le,Math.max(fe+ge-H/2,fe)),n.insertPointAt($++,le,fe),n.insertPointAt($++,le,fe),n.insertPointAt($++,le,Math.min(fe-ye+H/2,fe)),n.insertPointAt($++,le,fe-ye-H)):this.b===270?(n.insertPointAt($++,le,fe-ye-H),n.insertPointAt($++,le,Math.min(fe-ye+H/2,fe)),n.insertPointAt($++,le,fe),n.insertPointAt($++,le,fe),n.insertPointAt($++,le,Math.max(fe+ge-H/2,fe)),n.insertPointAt($++,le,fe+ge+H)):(n.insertPointAt($++,le+ge+H,fe),n.insertPointAt($++,Math.max(le+ge-H/2,le),fe),n.insertPointAt($++,le,fe),n.insertPointAt($++,le,fe),n.insertPointAt($++,Math.min(le-ye+H/2,le),fe),n.insertPointAt($++,le-ye-H,fe)):(this.b===180||this.b===90||this.b,n.insertPointAt($++,le,fe));P=K}if(g===null||v!==L.None||F)if(Q=n.getPoint($-1).x,ne=n.getPoint($-1).y,le=n.getPoint($).x,fe=n.getPoint($).y,F){const ke=this.Ls[k.layer];let Ce=0;this.b===180||this.b===0?(Ce=ne,Ce>=k.bounds.y&&Ce<=k.bounds.bottom&&(this.b===180?le>=k.bounds.x:le<=k.bounds.right)&&(me=k.centerX+(this.b===180?-ke:ke),Ce<k.bounds.y+k.bounds.height/2?Ce=k.bounds.y-this.Wi/2:Ce=k.bounds.bottom+this.Wi/2,n.insertPointAt($++,me,ne),n.insertPointAt($++,me,Ce)),n.insertPointAt($++,le,Ce),n.insertPointAt($++,le,fe)):(Ce=Q,Ce>=k.bounds.x&&Ce<=k.bounds.right&&(this.b===270?fe>=k.bounds.y:fe<=k.bounds.bottom)&&(me=k.centerY+(this.b===270?-ke:ke),Ce<k.bounds.x+k.bounds.width/2?Ce=k.bounds.x-this.Wi/2:Ce=k.bounds.right+this.Wi/2,n.insertPointAt($++,Q,me),n.insertPointAt($++,Ce,me)),n.insertPointAt($++,Ce,fe),n.insertPointAt($++,le,fe))}else if(N)ye=Math.max(10,this.Zs[k.layer]),ge=Math.max(10,this.Ls[k.layer]),this.b===180&&le>=k.bounds.x?(me=k.bounds.x+k.bounds.width,n.setPointAt($-2,me,ne),n.setPointAt($-1,me+ge,ne)):this.b===90&&fe<=k.bounds.bottom?(me=k.bounds.y,n.setPointAt($-2,Q,me),n.setPointAt($-1,Q,me-ye)):this.b===270&&fe>=k.bounds.y?(me=k.bounds.y+k.bounds.height,n.setPointAt($-2,Q,me),n.setPointAt($-1,Q,me+ge)):this.b===0&&le<=k.bounds.right&&(me=k.bounds.x,n.setPointAt($-2,me,ne),n.setPointAt($-1,me-ye,ne));else{ye=Math.max(10,this.Zs[k.layer]),ge=Math.max(10,this.Ls[k.layer]);let ke=0;this.b===180||this.b===0?((this.b===180?le<=k.bounds.x:le>=k.bounds.right)&&(ke=(this.b===0?ge:-ye)/2),n.insertPointAt($++,le+ke,ne)):((this.b===270?fe<=k.bounds.y:fe>=k.bounds.bottom)&&(ke=(this.b===90?ge:-ye)/2),n.insertPointAt($++,Q,fe+ke)),n.insertPointAt($++,le,fe)}}else{for(;k!==null&&k!==P;){K=null,J=null;const me=k.destinationEdges.iterator;for(;me.next();){const ke=me.value;if(ke.link===o.link&&(K=ke.toVertex,J=ke.fromVertex,J.node!==null&&(J=null),K.node===null))break}if(K===null)break;K!==P&&(Q=n.getPoint($-1).x,ne=n.getPoint($-1).y,le=K.centerX,fe=K.centerY,F?this.b===180||this.b===0?(J!==null?J.centerY:ne)!==fe&&(we=this.It[K.layer]+this._o.x,$===n.firstPickIndex+1&&(this.b===0?we=Math.max(we,Q):we=Math.min(we,Q)),n.insertPointAt($++,we,ne),n.insertPointAt($++,we,fe)):(J!==null?J.centerX:Q)!==le&&(we=this.It[K.layer]+this._o.y,$===n.firstPickIndex+1&&(this.b===90?we=Math.max(we,ne):we=Math.min(we,ne)),n.insertPointAt($++,Q,we),n.insertPointAt($++,le,we)):(ye=Math.max(10,this.Zs[K.layer]),ge=Math.max(10,this.Ls[K.layer]),N?this.b===180?(n.insertPointAt($++,le+ge+H,fe),n.insertPointAt($++,Math.max(le+ge-H/2,le),fe),n.insertPointAt($++,le,fe),n.insertPointAt($++,le,fe),n.insertPointAt($++,Math.min(le-ye+H/2,le),fe),n.insertPointAt($++,le-ye-H,fe)):this.b===90?(n.insertPointAt($++,le,fe-ye-H),n.insertPointAt($++,le,Math.min(fe-ye+H/2,fe)),n.insertPointAt($++,le,fe),n.insertPointAt($++,le,fe),n.insertPointAt($++,le,Math.max(fe+ge-H/2,fe)),n.insertPointAt($++,le,fe+ge+H)):this.b===270?(n.insertPointAt($++,le,fe+ge+H),n.insertPointAt($++,le,Math.max(fe+ge-H/2,fe)),n.insertPointAt($++,le,fe),n.insertPointAt($++,le,fe),n.insertPointAt($++,le,Math.min(fe-ye+H/2,fe)),n.insertPointAt($++,le,fe-ye-H)):(n.insertPointAt($++,le-ye-H,fe),n.insertPointAt($++,Math.min(le-ye+H/2,le),fe),n.insertPointAt($++,le,fe),n.insertPointAt($++,le,fe),n.insertPointAt($++,Math.max(le+ge-H/2,le),fe),n.insertPointAt($++,le+ge+H,fe)):this.b===180?(n.insertPointAt($++,le+ge,fe),n.insertPointAt($++,le-ye,fe)):this.b===90?(n.insertPointAt($++,le,fe-ye),n.insertPointAt($++,le,fe+ge)):this.b===270?(n.insertPointAt($++,le,fe+ge),n.insertPointAt($++,le,fe-ye)):(n.insertPointAt($++,le-ye,fe),n.insertPointAt($++,le+ge,fe)))),k=K}F&&(Q=n.getPoint($-1).x,ne=n.getPoint($-1).y,le=n.getPoint($).x,fe=n.getPoint($).y,this.b===180||this.b===0?ne!==fe&&(this.b===0?we=Math.min(Math.max((le+Q)/2,this.It[P.layer]+this._o.x),le):we=Math.max(Math.min((le+Q)/2,this.It[P.layer]+this._o.x),le),n.insertPointAt($++,we,ne),n.insertPointAt($++,we,fe)):Q!==le&&(this.b===90?we=Math.min(Math.max((fe+ne)/2,this.It[P.layer]+this._o.y),fe):we=Math.max(Math.min((fe+ne)/2,this.It[P.layer]+this._o.y),fe),n.insertPointAt($++,Q,we),n.insertPointAt($++,le,we)))}if(l!==null&&N&&n.pointsCount>=4){if(f!==null){const me=v===L.None?n.getLinkPointFromPoint(c,f,f.getDocumentPoint(L.Center),n.getPoint(3),!0):n.getPoint(0);if(v===L.None){const ke=n.getPoint(2),Ce=n.getPoint(3);this.direction===90||this.direction===270?(n.setPointAt(1,(me.x+ke.x)/2,ke.y),n.setPointAt(2,Ce.x,(ke.y+Ce.y)/2)):(n.setPointAt(1,ke.x,(me.y+ke.y)/2),n.setPointAt(2,(ke.x+Ce.x)/2,Ce.y))}me.isReal()||me.set(c.actualBounds.center),n.setPointAt(0,me.x,me.y)}if(g!==null){const me=w===L.None?n.getLinkPointFromPoint(h,g,g.getDocumentPoint(L.Center),n.getPoint(n.pointsCount-4),!1):n.getPoint(n.pointsCount-1);if(w===L.None){const ke=n.getPoint(n.pointsCount-3),Ce=n.getPoint(n.pointsCount-4);this.direction===90||this.direction===270?(n.setPointAt(n.pointsCount-2,(me.x+ke.x)/2,ke.y),n.setPointAt(n.pointsCount-2,Ce.x,(ke.y+Ce.y)/2)):(n.setPointAt(n.pointsCount-2,ke.x,(me.y+ke.y)/2),n.setPointAt(n.pointsCount-3,(ke.x+Ce.x)/2,Ce.y))}me.isReal()||me.set(h.actualBounds.center),n.setPointAt(n.pointsCount-1,me.x,me.y)}}n.commitRoute(),o.commit()}}aI(){this.Xy=-1,this.kg=0,this.Cs=0,this._a=null,this.Sg=null,this.$f=null;for(let e=0;e<this.Cn.length;e++)this.Cn[e]=null}Oh(e){let n;const o=this.ci[e];if(o>=this.Cn.length){const c=[];for(let h=0;h<this.Cn.length;h++)c[h]=this.Cn[h];this.Cn=c}this.Cn[o]===void 0||this.Cn[o]===null?n=[]:(n=this.Cn[o],this.Cn[o]=null);const l=this.$f[e];for(let c=0;c<l.length;c++){const h=l[c];n[h.index]=h}return n}Ih(e,n){this.Cn[this.ci[e]]=n}get layerSpacing(){return this.Ns}set layerSpacing(e){this.Ns!==e&&e>=0&&(this.Ns=e,this.invalidateLayout())}get columnSpacing(){return this.Wi}set columnSpacing(e){this.Wi!==e&&e>0&&(this.Wi=e,this.invalidateLayout())}get direction(){return this.b}set direction(e){this.b!==e&&(e===0||e===90||e===180||e===270?(this.b=e,this.invalidateLayout()):t.o("LayeredDigraphLayout.direction must be 0, 90, 180, or 270"))}get cycleRemoveOption(){return this.jf}set cycleRemoveOption(e){this.jf!==e&&(e===1||e===0||e===2)&&(this.jf=e,this.invalidateLayout())}get layeringOption(){return this.Hf}set layeringOption(e){this.Hf!==e&&(e===10||e===11||e===12)&&(this.Hf=e,this.invalidateLayout())}get initializeOption(){return this.qf}set initializeOption(e){this.qf!==e&&(e===20||e===21||e===22)&&(this.qf=e,this.invalidateLayout())}get iterations(){return this.Qa}set iterations(e){this.Qa!==e&&e>=0&&(this.Qa=e,this.invalidateLayout())}get aggressiveOption(){return this.Wf}set aggressiveOption(e){this.Wf!==e&&(e===30||e===31||e===32)&&(this.Wf=e,this.invalidateLayout())}get packOption(){return this.Qo}set packOption(e){this.Qo!==e&&e>=0&&e<8&&(this.Qo=e,this.invalidateLayout())}get packIterations(){return this.Jf}set packIterations(e){this.Jf=e}get alignOption(){return this.Ln}set alignOption(e){this.Ln!==e&&e>=0&&e<16&&(this.Ln=e,this.invalidateLayout())}get setsPortSpots(){return this.Nn}set setsPortSpots(e){this.Nn!==e&&(this.Nn=e,this.invalidateLayout())}get maxLayer(){return this.kt}get maxIndex(){return this.Xy}get maxColumn(){return this.zt}get minIndexLayer(){return this.kg}get maxIndexLayer(){return this.Cs}static CycleDepthFirst=0;static CycleGreedy=1;static CycleFromLayers=2;static LayerOptimalLinkLength=10;static LayerLongestPathSink=11;static LayerLongestPathSource=12;static InitDepthFirstOut=20;static InitDepthFirstIn=21;static InitNaive=22;static AggressiveNone=30;static AggressiveLess=31;static AggressiveMore=32;static PackNone=0;static PackExpand=1;static PackStraighten=2;static PackMedian=4;static PackAll=15;static AlignNone=0;static AlignUpperLeft=1;static AlignUpperRight=2;static AlignLowerLeft=4;static AlignLowerRight=8;static AlignAll=15}class bu extends Go{constructor(e){super(e)}createVertex(){return new sc(this)}createEdge(){return new Bp(this)}}class sc extends Nr{Yo;Hr;At;ak;ck;$i;Zf;Xn;ok;ek;sk;tc;An;RD;Eh;Je;Qf;he;Tn;jy=null;Hy=null;qy=null;Wy=null;constructor(e){super(e),this.Yo=-1,this.Hr=-1,this.At=-1,this.ak=NaN,this.ck=null,this.$i=!1,this.Zf=NaN,this.Xn=NaN,this.ok=0,this.ek=null,this.sk=null}static ID(e,n){return e.index-n.index}getProperSourceEdges(){if(!this.qy){const e=[];for(const n of this.fo){const o=n;o.valid&&e.push(o)}this.qy=e}return this.qy}getProperDestinationEdges(){if(!this.Wy){const e=[];for(const n of this.Wo){const o=n;o.valid&&e.push(o)}this.Wy=e}return this.Wy}getDestinationEdge(e){const n=this.getProperDestinationEdges();for(const o of n)if(o.toVertex===e)return o;t.o("Unable to find destination edge to given vertex")}getProperSourceVertexes(){if(!this.jy){const e=[];for(const n of this.fo){const o=n;!o.valid||o.fromVertex.layer<=o.toVertex.layer||e.push(o.fromVertex)}e.sort(sc.ID),this.jy=e}return this.jy}getProperDestinationVertexes(){if(!this.Hy){const e=[];for(const n of this.Wo){const o=n;!o.valid||o.fromVertex.layer<=o.toVertex.layer||e.push(o.toVertex)}e.sort(sc.ID),this.Hy=e}return this.Hy}addSourceEdge(e){super.addSourceEdge(e),this.jy=null,this.qy=null}deleteSourceEdge(e){super.deleteSourceEdge(e),this.jy=null,this.qy=null}addDestinationEdge(e){super.addDestinationEdge(e),this.Hy=null,this.Wy=null}deleteDestinationEdge(e){super.deleteDestinationEdge(e),this.Hy=null,this.Wy=null}get layer(){return this.Yo}set layer(e){this.Yo!==e&&(this.Yo=e)}get column(){return this.Hr}set column(e){this.Hr!==e&&(this.Hr=e)}get index(){return this.At}set index(e){this.At!==e&&(this.At=e)}get component(){return this.ak}set component(e){this.ak!==e&&(this.ak=e)}get near(){return this.ck}set near(e){this.ck!==e&&(this.ck=e)}}class Bp extends dl{$i;fk;uk;dk;gk;mk;pk;constructor(e){super(e),this.$i=!1,this.fk=!1,this.uk=!1,this.dk=NaN,this.gk=NaN,this.mk=0,this.pk=0}get fromVertex(){return this.He}set fromVertex(e){this.He!==e&&(this.He=e)}get toVertex(){return this.qe}set toVertex(e){this.qe!==e&&(this.qe=e)}get valid(){return this.$i}set valid(e){this.$i!==e&&(this.$i=e)}get rev(){return this.fk}set rev(e){this.fk!==e&&(this.fk=e)}get forest(){return this.uk}set forest(e){this.uk!==e&&(this.uk=e)}get portFromPos(){return this.dk}set portFromPos(e){this.dk!==e&&(this.dk=e)}get portToPos(){return this.gk}set portToPos(e){this.gk!==e&&(this.gk=e)}get portFromColOffset(){return this.mk}set portFromColOffset(e){this.mk!==e&&(this.mk=e)}get portToColOffset(){return this.pk}set portToColOffset(e){this.pk!==e&&(this.pk=e)}}var Jh=(G=>(G[G.Default=0]="Default",G[G.Destination=1]="Destination",G[G.Source=2]="Source",G))(Jh||{}),Qh=(G=>(G[G.Forwards=10]="Forwards",G[G.Reverse=11]="Reverse",G[G.Ascending=12]="Ascending",G[G.Descending=13]="Descending",G))(Qh||{}),ed=(G=>(G[G.CenterSubtrees=20]="CenterSubtrees",G[G.CenterChildren=21]="CenterChildren",G[G.Start=22]="Start",G[G.End=23]="End",G[G.Bus=24]="Bus",G[G.BusBranching=25]="BusBranching",G[G.TopLeftBus=26]="TopLeftBus",G[G.BottomRightBus=27]="BottomRightBus",G[G.Custom=28]="Custom",G))(ed||{}),wu=(G=>(G[G.None=30]="None",G[G.Block=31]="Block",G))(wu||{}),td=(G=>(G[G.Layered=40]="Layered",G[G.LastParents=41]="LastParents",G[G.Alternating=42]="Alternating",G[G.RootOnly=43]="RootOnly",G))(td||{}),nd=(G=>(G[G.Vertical=50]="Vertical",G[G.Horizontal=51]="Horizontal",G[G.FixedRoots=52]="FixedRoots",G))(nd||{}),Vp=(G=>(G[G.Individual=60]="Individual",G[G.Siblings=61]="Siblings",G[G.Uniform=62]="Uniform",G))(Vp||{});class Cy extends As{Fi;Li;_f;Ng;eC;Fe;Xi;Ms;U;B;yk;ls;constructor(e){super(),this.Fi=new b,this.Li=0,this.ls=1,this._f=40,this.Ng=60,this.eC=[],this.Fe=!0,this.Xi=50,this.Ms=new B(10,10).u();const n=new rc(this);this.U=new Rr(n),this.B=new Rr(n),this.yk=[],e&&Object.assign(this,e)}cloneProtected(e){super.cloneProtected(e),e.Li=this.Li,e._f=this._f,e.Ng=this.Ng,e.Fe=this.Fe,e.Xi=this.Xi,e.Ms.a(this.Ms),e.U.copyInheritedPropertiesFrom(this.U),e.B.copyInheritedPropertiesFrom(this.B)}oi(e){e in ed?this.alignment=e:e in nd?this.arrangement=e:e in wu?this.compaction=e:e in Jh?this.path=e:e in Qh?this.sorting=e:e in td?this.treeStyle=e:super.oi(e)}createNetwork(){return new rc(this)}makeNetwork(e){const n=this.createNetwork(),o=l=>{if(l instanceof Lt)return!l.isLinkLabel&&l.category!=="Comment";if(l instanceof vt){const c=l.fromNode;if(c===null||c.isLinkLabel||c.category==="Comment")return!1;const h=l.toNode;return!(h===null||h.isLinkLabel||h.category==="Comment")}return!1};return e instanceof Te?(n.addParts(e.nodes,!0,o),n.addParts(e.links,!0,o)):e instanceof Xt?n.addParts(e.memberParts,!1,o):n.addParts(e.iterator,!1,o),n}doLayout(e){this.network===null&&(this.network=this.makeNetwork(e)),this.arrangement!==52&&(this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin));let n=this.diagram;n===null&&e instanceof Te&&(n=e),this.path===0&&n!==null?this.ls=n.isTreePathToChildren?1:2:this.ls=this.path===0?1:this.path,this.network.vertexes.count>0&&(this.HI(),this.qI(),this.WI(),this.JI(),this.$N(),this.$I(),this.arrangeTrees(),this.updateParts()),this.network=null,this.Fi=new b,this.isValidLayout=!0}HI(){this.network.deleteSelfEdges();const e=this.network.vertexes.iterator;for(;e.next();){const c=e.value;c.initialized=!1,c.level=0,c.parent=null,c.children=[]}if(this.Fi.count>0){const c=new b,h=this.Fi.iterator;for(;h.next();){const f=h.value;if(f instanceof Lt){const g=this.network.findVertex(f);g!==null&&c.add(g)}else f instanceof Rr&&c.add(f)}this.Fi=c}this.Fi.count===0&&this.findRoots();const n=this.Fi.copy().iterator;for(;n.next();){const c=n.value;c.initialized||(c.initialized=!0,this.sC(c))}let o=this.network.vertexes,l=null;for(;l=this.ZI(o),l.count>0;){const c=this.ED(l);c!==null&&this.Fi.add(c),c.initialized=!0,this.sC(c),o=l}}ZI(e){const n=new b,o=e.iterator;for(;o.next();){const l=o.value;l.initialized||n.add(l)}return n}findRoots(){const e=this.network.vertexes,n=e.iterator;for(;n.next();){const o=n.value;switch(this.ls){case 1:o.sourceEdges.count===0&&this.Fi.add(o);break;case 2:o.destinationEdges.count===0&&this.Fi.add(o);break;default:t.o("Unhandled path value "+this.ls.toString())}}if(this.Fi.count===0){const o=this.ED(e);o!==null&&this.Fi.add(o)}}ED(e){let n=999999,o=null;const l=e.iterator;for(;l.next();){const c=l.value;switch(this.ls){case 1:c.sourceEdges.count<n&&(n=c.sourceEdges.count,o=c);break;case 2:c.destinationEdges.count<n&&(n=c.destinationEdges.count,o=c);break;default:t.o("Unhandled path value "+this.ls.toString())}}return o}sC(e){if(e===null)return;switch(this.ls){case 1:if(e.destinationEdges.count>0){const l=new m,c=e.destinationVertexes;for(;c.next();){const h=c.value;this.UD(e,h)&&l.add(h)}l.count>0&&(e.children=l.toArray())}break;case 2:if(e.sourceEdges.count>0){const l=new m,c=e.sourceVertexes;for(;c.next();){const h=c.value;this.UD(e,h)&&l.add(h)}l.count>0&&(e.children=l.toArray())}break;default:t.o("Unhandled path value"+this.ls.toString())}const n=e.children,o=n.length;for(let l=0;l<o;l++){const c=n[l];c.initialized=!0,c.level=e.level+1,c.parent=e,this.Fi.delete(c)}for(let l=0;l<o;l++){const c=n[l];this.sC(c)}}UD(e,n){return n.initialized?this.QI(n,e)||n.level>e.level?!1:(this._I(n.parent,n),!0):!0}QI(e,n){if(n===null)return!1;let o=n.parent;for(;o!==null&&o!==e;)o=o.parent;return o===e}_I(e,n){if(e===null||n===null)return;const o=e.children;let l=0;for(let c=0;c<o.length;c++)o[c]===n&&l++;if(l>0){const c=new Array(o.length-l);let h=0;for(let f=0;f<o.length;f++)o[f]!==n&&(c[h++]=o[f]);e.children=c}}qI(){const e=this.Fi.iterator;for(;e.next();){const n=e.value;n instanceof Rr&&this.BD(n)}}BD(e){if(e===null)return;this.initializeTreeVertexValues(e),e.alignment===25&&this.sortTreeVertexChildren(e);let n=0,o=e.childrenCount,l=0;const c=e.children,h=c.length;for(let f=0;f<h;f++){const g=c[f];this.BD(g),n+=g.descendantCount+1,o=Math.max(o,g.maxChildrenCount),l=Math.max(l,g.maxGenerationCount)}e.descendantCount=n,e.maxChildrenCount=o,e.maxGenerationCount=o>0?l+1:0}tE(e){switch(this._f){default:case 40:return e.parent!==null?e.parent:this.U;case 43:return e.parent===null?this.U:e.parent.parent===null?this.B:e.parent;case 42:return e.parent!==null?e.parent.parent!==null?e.parent.parent:this.B:this.U;case 41:{let n=!0;if(e.childrenCount===0)n=!1;else{const o=e.children,l=o.length;for(let c=0;c<l;c++)if(o[c].childrenCount>0){n=!1;break}}return n&&e.parent!==null?this.B:e.parent!==null?e.parent:this.U}}}initializeTreeVertexValues(e){const n=this.tE(e);if(e.copyInheritedPropertiesFrom(n),e.parent!==null&&e.parent.alignment===25){let o=e.angle;const l=e.parent.children;let c=0;for(;c<l.length&&e!==l[c];)c++;c%2===0?c!==l.length-1&&(o===90?o=180:o===180?o=270:o===270?o=180:o=270):o===90?o=0:o===180?o=90:o===270?o=0:o=90,e.angle=o}e.initialized=!0}WI(){const e=this.Fi.iterator;for(;e.next();){const n=e.value;n instanceof Rr&&this.VD(n)}}VD(e){if(e===null)return;this.assignTreeVertexValues(e);const n=e.children,o=n.length;for(let l=0;l<o;l++){const c=n[l];this.VD(c)}}assignTreeVertexValues(e){}JI(){const e=this.Fi.iterator;for(;e.next();){const n=e.value;n instanceof Rr&&this.zD(n)}}zD(e){if(e===null)return;e.alignment!==25&&this.sortTreeVertexChildren(e);const n=e.children,o=n.length;for(let l=0;l<o;l++){const c=n[l];this.zD(c)}}sortTreeVertexChildren(e){switch(e.sorting){default:case 10:break;case 11:e.children.reverse();break;case 12:e.children.sort(e.comparer);break;case 13:e.children.sort(e.comparer),e.children.reverse();break}}$N(){if(!this.comments)return;const e=this.network.vertexes.iterator;for(;e.next();){const n=e.value;this.addComments(n)}}addComments(e){const n=e.angle,o=e.parent;let l=0,c=21,h=!1;o!==null&&(l=o.angle,c=o.alignment,h=this.isBusAlignment(c));const f=n===90||n===270,g=l===90||l===270,v=e.childrenCount===0;let w=0,k=0,P=0;const N=e.commentSpacing;if(e.node!==null){const F=e.node.findNodesConnected();for(;F.next();){const H=F.value;if(H.category!=="Comment"||!H.canLayout())continue;e.comments===null&&(e.comments=[]),e.comments.push(H),H.ensureBounds();const V=H.measuredBounds;f&&!v||!h&&!g&&v||h&&g&&v?(w=Math.max(w,V.width),k+=V.height+Math.abs(P)):(w+=V.width+Math.abs(P),k=Math.max(k,V.height)),P=N}}if(e.comments!==null){f&&!v||!h&&!g&&v||h&&g&&v?(w+=Math.abs(e.commentMargin),k=Math.max(0,k-e.height)):(k+=Math.abs(e.commentMargin),w=Math.max(0,w-e.width));const F=z.V(0,0,e.bounds.width+w,e.bounds.height+k);e.bounds=F,z.e(F)}}isBusAlignment(e){return e===24||e===25||e===26||e===27}Jy(e){return e===24||e===25}nC(e){const n=e.parent;if(n!==null){const o=n.alignment;if(this.isBusAlignment(o))if(this.Jy(o)){const l=n.children;let c=0;for(;c<l.length&&e!==l[c];)c++;return c%2===0}else return o===26}return!1}layoutComments(e){if(e.comments!==null){const n=e.node.measuredBounds,o=e.parent,l=e.angle;let c=0,h=21,f=!1;o!==null&&(c=o.angle,h=o.alignment,f=this.isBusAlignment(h));const g=l===90||l===270,v=c===90||c===270,w=e.childrenCount===0,k=this.nC(e);let P=0;const N=e.comments,F=N.length,H=T.l();for(let $=0;$<F;$++){const K=N[$],J=K.measuredBounds;if(g&&!w||!f&&!v&&w||f&&v&&w){if(c>135&&!f||v&&k)if(e.commentMargin>=0){H.i(e.bounds.x-e.commentMargin-J.width,e.bounds.y+P),K.move(H);const Q=K.findLinksInto();for(;Q.next();){const ne=Q.value;ne.fromSpot=L.MiddleLeft,ne.toSpot=L.MiddleRight}}else{H.i(e.bounds.x+e.focus.x*2-e.commentMargin,e.bounds.y+P),K.move(H);const Q=K.findLinksInto();for(;Q.next();){const ne=Q.value;ne.fromSpot=L.MiddleRight,ne.toSpot=L.MiddleLeft}}else if(e.commentMargin>=0){H.i(e.bounds.x+e.focus.x*2+e.commentMargin,e.bounds.y+P),K.move(H);const Q=K.findLinksInto();for(;Q.next();){const ne=Q.value;ne.fromSpot=L.MiddleRight,ne.toSpot=L.MiddleLeft}}else{H.i(e.bounds.x+e.commentMargin-J.width,e.bounds.y+P),K.move(H);const Q=K.findLinksInto();for(;Q.next();){const ne=Q.value;ne.fromSpot=L.MiddleLeft,ne.toSpot=L.MiddleRight}}e.commentSpacing>=0?P+=J.height+e.commentSpacing:P+=e.commentSpacing-J.height}else{if(c>135&&!f||!v&&k)if(e.commentMargin>=0){H.i(e.bounds.x+P,e.bounds.y-e.commentMargin-J.height),K.move(H);const Q=K.findLinksInto();for(;Q.next();){const ne=Q.value;ne.fromSpot=L.MiddleTop,ne.toSpot=L.MiddleBottom}}else{H.i(e.bounds.x+P,e.bounds.y+e.focus.y*2-e.commentMargin),K.move(H);const Q=K.findLinksInto();for(;Q.next();){const ne=Q.value;ne.fromSpot=L.MiddleBottom,ne.toSpot=L.MiddleTop}}else if(e.commentMargin>=0){H.i(e.bounds.x+P,e.bounds.y+e.focus.y*2+e.commentMargin),K.move(H);const Q=K.findLinksInto();for(;Q.next();){const ne=Q.value;ne.fromSpot=L.MiddleBottom,ne.toSpot=L.MiddleTop}}else{H.i(e.bounds.x+P,e.bounds.y+e.commentMargin-J.height),K.move(H);const Q=K.findLinksInto();for(;Q.next();){const ne=Q.value;ne.fromSpot=L.MiddleTop,ne.toSpot=L.MiddleBottom}}e.commentSpacing>=0?P+=J.width+e.commentSpacing:P+=e.commentSpacing-J.width}}T.e(H);const V=P-e.commentSpacing-(g?n.height:n.width);if(this.ls===1){const $=e.destinationEdges;for(;$.next();){const K=$.value.link;K!==null&&!K.isAvoiding&&(K.fromEndSegmentLength=V>0?V:NaN)}}else{const $=e.sourceEdges;for(;$.next();){const K=$.value.link;K!==null&&!K.isAvoiding&&(K.toEndSegmentLength=V>0?V:NaN)}}}}$I(){if(this.layerStyle===62){const n=[];let o=this.network.vertexes.iterator;for(;o.next();){const l=o.value;let c=l.parent;c===null&&(c=l);const h=c.angle===0||c.angle===180;let f=n[l.level];f===void 0&&(f=0),n[l.level]=Math.max(f,h?l.width:l.height)}for(let l=0;l<n.length;l++)n[l]===void 0&&(n[l]=0);for(this.eC=n,o=this.network.vertexes.iterator;o.next();){const l=o.value;let c=l.parent;c===null&&(c=l),c.angle===0||c.angle===180?(c.angle===180&&(l.focusX+=n[l.level]-l.width),l.width=n[l.level]):(c.angle===270&&(l.focusY+=n[l.level]-l.height),l.height=n[l.level])}}else if(this.layerStyle===61){const n=this.network.vertexes.iterator;for(;n.next();){const o=n.value,l=o.angle===0||o.angle===180;let c=-1;for(let h=0;h<o.children.length;h++){const f=o.children[h];c=Math.max(c,l?f.width:f.height)}if(c>=0)for(let h=0;h<o.children.length;h++){const f=o.children[h];l?(o.angle===180&&(f.focusX+=c-f.width),f.width=c):(o.angle===270&&(f.focusY+=c-f.height),f.height=c)}}}const e=this.Fi.iterator;for(;e.next();){const n=e.value;n instanceof Rr&&this.layoutTree(n)}}layoutTree(e){if(e===null)return;const n=e.children,o=n.length;for(let l=0;l<o;l++){const c=n[l];this.layoutTree(c)}switch(e.compaction){case 30:this.XD(e);break;default:case 31:e.alignment===25?this.XD(e):this.iE(e);break}}XD(e){if(e.childrenCount===0){let Xe=!1,He=0,Ke=21;e.parent!==null&&(He=e.parent.angle,Ke=e.parent.alignment,Xe=this.isBusAlignment(Ke));const Et=this.nC(e);e.O.i(0,0),e.ut.i(e.width,e.height),e.parent!==null&&e.comments!==null&&((He===180||He===270)&&!Xe||Et)?He===180&&!Xe||(He===90||He===270)&&Et?e.lt.i(e.width-e.focus.x*2,0):e.lt.i(0,e.height-e.focus.y*2):e.lt.i(0,0);return}const n=this.orthoAngle(e),o=n===90||n===270;let l=0;const c=e.children,h=c.length;for(let Xe=0;Xe<h;Xe++){const He=c[Xe];l=Math.max(l,o?He.ut.width:He.ut.height)}const f=e.alignment,g=f===22,v=f===23,w=this.isBusAlignment(f),k=Math.max(0,e.breadthLimit),P=this.computeLayerSpacing(e),N=e.nodeSpacing,F=this.computeNodeIndent(e),H=g||v?0:F/2,V=e.rowSpacing;let $=0;(g||v)&&($=Math.max(0,e.rowIndent));const K=e.width,J=e.height;let Q=0,ne=0,le=0,fe=0,we=0,ye=0,ge=0,me=0,ke=0,Ce=0;if(w&&!this.Jy(f)&&n>135&&c.reverse(),this.Jy(f))if(h>1)for(let Xe=0;Xe<h;Xe++){const He=c[Xe],Ke=He.ut;Xe%2===0&&Xe!==h-1?ke=Math.max(ke,(o?Ke.width:Ke.height)+this.computeBusNodeSpacing(He)-N):Xe%2!==0&&(Ce=Math.max(Ce,(o?Ke.width:Ke.height)+this.computeBusNodeSpacing(He)-N))}else h===1&&(ke=o?c[0].ut.width:c[0].ut.height);if(w)switch(f){case 24:case 25:let Xe;n<135?Xe=this.YD(e,c,ke,Ce,Q,ne):Xe=this.GD(e,c,ke,Ce,Q,ne),ke=Xe.x,Q=Xe.width,ne=Xe.height;break;case 26:for(let He=0;He<h;He++){const Ke=c[He],Et=Ke.ut,It=ge===0?0:V;o?(Ke.O.i(l-Et.width,we+It),Q=Math.max(Q,Et.width),ne=Math.max(ne,we+It+Et.height),we+=It+Et.height):(Ke.O.i(fe+It,l-Et.height),Q=Math.max(Q,fe+It+Et.width),ne=Math.max(ne,Et.height),fe+=It+Et.width),ge++}break;case 27:for(let He=0;He<h;He++){const Ke=c[He],Et=Ke.ut,It=ge===0?0:V;o?(Ke.O.i(N/2+e.focus.x,we+It),Q=Math.max(Q,Et.width),ne=Math.max(ne,we+It+Et.height),we+=It+Et.height):(Ke.O.i(fe+It,N/2+e.focus.y),Q=Math.max(Q,fe+It+Et.width),ne=Math.max(ne,Et.height),fe+=It+Et.width),ge++}break}else for(let Xe=0;Xe<h;Xe++){const He=c[Xe],Ke=He.ut;if(o){k>0&&ge>0&&fe+N+Ke.width>k&&(fe<l&&this.ic(e,f,l-fe,0,me,Xe-1),ye++,ge=0,me=Xe,le=ne,fe=0,we=n>135?-ne-V:ne+V);const Et=ge===0?H:N;this.wk(He,0,we),He.O.i(fe+Et,we),Q=Math.max(Q,fe+Et+Ke.width),ne=Math.max(ne,le+(ye===0?0:V)+Ke.height),fe+=Et+Ke.width}else{k>0&&ge>0&&we+N+Ke.height>k&&(we<l&&this.ic(e,f,0,l-we,me,Xe-1),ye++,ge=0,me=Xe,le=Q,we=0,fe=n>135?-Q-V:Q+V);const Et=ge===0?H:N;this.wk(He,fe,0),He.O.i(fe,we+Et),ne=Math.max(ne,we+Et+Ke.height),Q=Math.max(Q,le+(ye===0?0:V)+Ke.width),we+=Et+Ke.height}ge++}ye>0&&(o?(ne+=Math.max(0,P),fe<Q&&this.ic(e,f,Q-fe,0,me,h-1),$>0&&(v||this.tu(e,$,0,0,h-1),Q+=$)):(Q+=Math.max(0,P),we<ne&&this.ic(e,f,0,ne-we,me,h-1),$>0&&(v||this.tu(e,0,$,0,h-1),ne+=$)));let Ie=0,Be=0;switch(f){case 20:o?Ie+=Q/2-e.focus.x-F/2:Be+=ne/2-e.focus.y-F/2;break;default:case 21:if(ye>0)o?Ie+=Q/2-e.focus.x-F/2:Be+=ne/2-e.focus.y-F/2;else{const He=h;if(o){const Ke=c[0].O.x+c[0].lt.x,Et=c[He-1].O.x+c[He-1].lt.x+c[He-1].focus.x*2;Ie+=Ke+(Et-Ke)/2-e.focus.x-F/2}else{const Ke=c[0].O.y+c[0].lt.y,Et=c[He-1].O.y+c[He-1].lt.y+c[He-1].focus.y*2;Be+=Ke+(Et-Ke)/2-e.focus.y-F/2}}break;case 22:o?(Ie-=F,Q+=F):(Be-=F,ne+=F);break;case 23:o?(Ie+=Q-e.width+F,Q+=F):(Be+=ne-e.height+F,ne+=F);break;case 24:case 25:o?h>1?Ie+=ke+N/2-e.focus.x:Ie+=c[0].focus.x-e.focus.x+c[0].lt.x:h>1?Be+=ke+N/2-e.focus.y:Be+=c[0].focus.y-e.focus.y+c[0].lt.y;break;case 26:o?Ie+=Q+N/2-e.focus.x:Be+=ne+N/2-e.focus.y;break;case 27:break;case 28:const Xe=this.customAlignment(e,Ie,Be,Q,ne);Ie=Xe[0],Be=Xe[1],Q=Xe[2],ne=Xe[3];break}for(let Xe=0;Xe<h;Xe++){const He=c[Xe];o?He.O.i(He.O.x+He.lt.x-Ie,He.O.y+(n>135?(w?-ne:-He.ut.height)+He.lt.y-P:J+P+He.lt.y)):He.O.i(He.O.x+(n>135?(w?-Q:-He.ut.width)+He.lt.x-P:K+P+He.lt.x),He.O.y+He.lt.y-Be)}o?(Q=this.oC(e,Q,Ie),Ie<0&&(Ie=0),n>135&&(Be+=ne+P),ne=Math.max(Math.max(ne,J),ne+J+P)):(n>135&&(Ie+=Q+P),Q=Math.max(Math.max(Q,K),Q+K+P),ne=this.rC(e,ne,Be),Be<0&&(Be=0)),e.lt.i(Ie,Be),e.ut.i(Q,ne)}customAlignment(e,n,o,l,c){return[n,o,l,c]}YD(e,n,o,l,c,h){const f=n.length;if(f===0)return new z(o,0,c,h);if(f===1){const V=n[0];return c=V.ut.width,h=V.ut.height,new z(o,0,c,h)}const g=e.nodeSpacing,v=e.rowSpacing,w=this.orthoAngle(e)===90;let k=0,P=0,N=0;for(let V=0;V<f;V++){if(V%2!==0||f>1&&V===f-1)continue;const $=n[V],K=$.ut,J=k===0?0:v;if(w){const Q=this.computeBusNodeSpacing($)-g;$.O.i(o-(K.width+Q),N+J),c=Math.max(c,K.width+Q),h=Math.max(h,N+J+K.height),N+=J+K.height}else{const Q=this.computeBusNodeSpacing($)-g;$.O.i(P+J,o-(K.height+Q)),h=Math.max(h,K.height+Q),c=Math.max(c,P+J+K.width),P+=J+K.width}k++}k=0;const F=P,H=N;w?(P=o+g,N=0):(P=0,N=o+g);for(let V=0;V<f;V++){if(V%2===0)continue;const $=n[V],K=$.ut,J=k===0?0:v;if(w){const Q=this.computeBusNodeSpacing($)-g;$.O.i(P+Q,N+J),c=Math.max(c,P+K.width+Q),h=Math.max(h,N+J+K.height),N+=J+K.height}else{const Q=this.computeBusNodeSpacing($)-g;$.O.i(P+J,N+Q),c=Math.max(c,P+J+K.width),h=Math.max(h,N+K.height+Q),P+=J+K.width}k++}if(f>1&&f%2===1){const V=n[f-1],$=V.ut,K=this.computeBusLastRowSpacing(V,w?Math.max(Math.abs(H),Math.abs(N)):Math.max(Math.abs(F),Math.abs(P)));if(w){V.O.i(o+g/2-V.focus.x-V.lt.x,h+K);const J=o+g/2-V.focus.x-V.lt.x;c=Math.max(c,J+$.width),J<0&&(c-=J),h=Math.max(h,Math.max(H,N)+K+$.height),V.O.x<0&&(o=this.xk(e,V.O.x,!1,o,g))}else{V.O.i(c+K,o+g/2-V.focus.y-V.lt.y),c=Math.max(c,Math.max(F,P)+K+$.width);const J=o+g/2-V.focus.y-V.lt.y;h=Math.max(h,J+$.height),J<0&&(h-=J),V.O.y<0&&(o=this.xk(e,V.O.y,!0,o,g))}}return new z(o,0,c,h)}GD(e,n,o,l,c,h){const f=n.length;if(f===0)return new z(o,0,c,h);if(f===1){const V=n[0];return c=V.ut.width,h=V.ut.height,new z(o,0,c,h)}const g=e.nodeSpacing,v=e.rowSpacing,w=this.orthoAngle(e)===270;let k=0,P=0,N=0;for(let V=0;V<f;V++){if(V%2!==0||f>1&&V===f-1)continue;const $=n[V],K=$.ut,J=k===0?0:v;if(w){const Q=this.computeBusNodeSpacing($)-g;N-=J+K.height,$.O.i(o-(K.width+Q),N),c=Math.max(c,K.width+Q),h=Math.max(h,Math.abs(N))}else{const Q=this.computeBusNodeSpacing($)-g;P-=J+K.width,$.O.i(P,o-(K.height+Q)),h=Math.max(h,K.height+Q),c=Math.max(c,Math.abs(P))}k++}k=0;const F=P,H=N;w?(P=o+g,N=0):(P=0,N=o+g);for(let V=0;V<f;V++){if(V%2===0)continue;const $=n[V],K=$.ut,J=k===0?0:v;if(w){const Q=this.computeBusNodeSpacing($)-g;N-=J+K.height,$.O.i(P+Q,N),c=Math.max(c,P+K.width+Q),h=Math.max(h,Math.abs(N))}else{const Q=this.computeBusNodeSpacing($)-g;P-=J+K.width,$.O.i(P,N+Q),h=Math.max(h,N+K.height+Q),c=Math.max(c,Math.abs(P))}k++}if(f>1&&f%2===1){const V=n[f-1],$=V.ut,K=this.computeBusLastRowSpacing(V,w?Math.max(Math.abs(H),Math.abs(N)):Math.max(Math.abs(F),Math.abs(P)));if(w){V.O.i(o+g/2-V.focus.x-V.lt.x,-h-$.height-K);const J=o+g/2-V.focus.x-V.lt.x;c=Math.max(c,J+$.width),J<0&&(c-=J),h=Math.max(h,Math.abs(Math.min(H,N))+K+$.height),V.O.x<0&&(o=this.xk(e,V.O.x,!1,o,g))}else{V.O.i(-c-$.width-K,o+g/2-V.focus.y-V.lt.y),c=Math.max(c,Math.abs(Math.min(F,P))+K+$.width);const J=o+g/2-V.focus.y-V.lt.y;h=Math.max(h,J+$.height),J<0&&(h-=J),V.O.y<0&&(o=this.xk(e,V.O.y,!0,o,g))}}for(let V=0;V<f;V++){const $=n[V];w?$.O.i($.O.x,$.O.y+h):$.O.i($.O.x+c,$.O.y)}return new z(o,0,c,h)}computeBusNodeSpacing(e){return e.parent===null?0:e.parent.nodeSpacing}computeBusLastRowSpacing(e,n){return e.parent===null?0:e.parent.rowSpacing}xk(e,n,o,l,c){const h=e.children,f=h.length;for(let v=0;v<f;v++)o?h[v].O.i(h[v].O.x,h[v].O.y-n):h[v].O.i(h[v].O.x-n,h[v].O.y);const g=h[f-1];return Math.max(l,o?g.lt.y+g.focus.y-c/2:g.lt.x+g.focus.x-c/2)}oC(e,n,o){switch(e.alignment){case 21:case 20:let l=n;return o+e.width>l&&(l=o+e.width),o<0&&(l-=o),l;case 22:return e.width>n?e.width:n;case 23:return e.focus.x*2>n?e.width:n+e.width-e.focus.x*2;case 24:case 25:const c=Math.min(0,o),h=Math.max(n,o+e.width);return Math.max(e.width,h-c);case 26:return e.width-e.focus.x+e.nodeSpacing/2+n;case 27:return Math.max(e.width,e.focus.x+e.nodeSpacing/2+n);default:return n}}rC(e,n,o){switch(e.alignment){case 21:case 20:let l=n;return o+e.height>l&&(l=o+e.height),o<0&&(l-=o),l;case 22:return e.height>n?e.height:n;case 23:return e.focus.y*2>n?e.height:n+e.height-e.focus.y*2;case 24:case 25:const c=Math.min(0,o),h=Math.max(n,o+e.height);return Math.max(e.height,h-c);case 26:return e.height-e.focus.y+e.nodeSpacing/2+n;case 27:return Math.max(e.height,e.focus.y+e.nodeSpacing/2+n);default:return n}}lC(e,n,o){switch(e){case 20:n/=2,o/=2;break;case 21:n/=2,o/=2;break;case 22:n=0,o=0;break;case 23:break;default:t.o("Unhandled alignment value "+e.toString())}return new T(n,o)}ic(e,n,o,l,c,h){const f=this.lC(n,o,l);this.tu(e,f.x,f.y,c,h)}tu(e,n,o,l,c){if(n===0&&o===0)return;const h=e.children;for(let f=l;f<=c;f++){const g=h[f].O;g.x+=n,g.y+=o}}wk(e,n,o){const l=e.parent;switch(this.ls){case 1:{const c=e.sourceEdges;for(;c.next();){const h=c.value;h.fromVertex===l&&h.relativePoint.i(n,o)}break}case 2:{const c=e.destinationEdges;for(;c.next();){const h=c.value;h.toVertex===l&&h.relativePoint.i(n,o)}break}default:t.o("Unhandled path value "+this.ls.toString())}}iE(e){if(e.childrenCount===0){const wt=e.parent;let Vt=!1,qt=0,on=21;wt!==null&&(qt=wt.angle,on=wt.alignment,Vt=this.isBusAlignment(on));const An=this.nC(e);e.O.i(0,0),e.ut.i(e.width,e.height),e.parent!==null&&e.comments!==null&&((qt===180||qt===270)&&!Vt||An)?qt===180&&!Vt||(qt===90||qt===270)&&An?e.lt.i(e.width-e.focus.x*2,0):e.lt.i(0,e.height-e.focus.y*2):e.lt.i(0,0),e.Cg=null,e.Lg=null;return}const n=this.orthoAngle(e),o=n===90||n===270;let l=0;const c=e.children,h=c.length;for(let wt=0;wt<h;wt++){const Vt=c[wt];l=Math.max(l,o?Vt.ut.width:Vt.ut.height)}const f=e.alignment,g=f===22,v=f===23,w=this.isBusAlignment(f),k=Math.max(0,e.breadthLimit),P=this.computeLayerSpacing(e),N=e.nodeSpacing,F=this.computeNodeIndent(e),H=e.rowSpacing;let V=0;(g||v)&&(V=Math.max(0,e.rowIndent));const $=e.width,K=e.height;let J=0,Q=0,ne=0,le=null,fe=null,we=0,ye=0,ge=0,me=0,ke=0,Ce=0,Ie=0,Be=0,Xe=0;if(w&&!this.Jy(f)&&n>135&&c.reverse(),this.Jy(f))if(h>1)for(let wt=0;wt<h;wt++)wt%2===0&&wt!==h-1?Be=Math.max(Be,o?c[wt].ut.width:c[wt].ut.height):wt%2!==0&&(Xe=Math.max(Xe,o?c[wt].ut.width:c[wt].ut.height));else h===1&&(Be=o?c[0].ut.width:c[0].ut.height);if(w){switch(f){case 24:let wt;n<135?wt=this.YD(e,c,Be,Xe,J,Q):wt=this.GD(e,c,Be,Xe,J,Q),Be=wt.x,J=wt.width,Q=wt.height;break;case 26:for(let Vt=0;Vt<h;Vt++){const qt=c[Vt],on=qt.ut,An=Ce===0?0:H;o?(qt.O.i(l-on.width,me+An),J=Math.max(J,on.width),Q=Math.max(Q,me+An+on.height),me+=An+on.height):(qt.O.i(ge+An,l-on.height),J=Math.max(J,ge+An+on.width),Q=Math.max(Q,on.height),ge+=An+on.width),Ce++}break;case 27:for(let Vt=0;Vt<h;Vt++){const qt=c[Vt],on=qt.ut,An=Ce===0?0:H;o?(qt.O.i(N/2+e.focus.x,me+An),J=Math.max(J,on.width),Q=Math.max(Q,me+An+on.height),me+=An+on.height):(qt.O.i(ge+An,N/2+e.focus.y),J=Math.max(J,ge+An+on.width),Q=Math.max(Q,on.height),ge+=An+on.width),Ce++}break}le=this.ae(2),fe=this.ae(2),o?(le[0].i(0,0),le[1].i(0,Q),fe[0].i(J,0),fe[1].i(J,Q)):(le[0].i(0,0),le[1].i(J,0),fe[0].i(0,Q),fe[1].i(J,Q))}else for(let wt=0;wt<h;wt++){const Vt=c[wt],qt=Vt.ut;if(o){k>0&&Ce>0&&ge+N+qt.width>k&&(ge<l&&this.ic(e,f,l-ge,0,Ie,wt-1),ke++,Ce=0,Ie=wt,ne=Q,ge=0,me=n>135?-Q-H:Q+H),this.wk(Vt,0,me);let on=0;if(Ce===0)le=Vt.Cg,fe=Vt.Lg,we=qt.width,ye=qt.height,(le===null||fe===null||n!==this.orthoAngle(Vt))&&(le=this.ae(2),fe=this.ae(2),le[0].i(0,0),le[1].i(0,ye),fe[0].i(we,0),fe[1].i(we,ye));else{const An=t.et(),kt=this.KD(e,Vt,le,fe,we,ye,An);on=kt.x,le=An[0],fe=An[1],we=kt.width,ye=kt.height,t.J(An),ge<qt.width&&on<0&&(this.tu(e,-on,0,Ie,wt-1),this.bk(le,-on,0),this.bk(fe,-on,0),on=0)}Vt.O.i(on,me),J=Math.max(J,we),Q=Math.max(Q,ne+(ke===0?0:H)+qt.height),ge=we}else{k>0&&Ce>0&&me+N+qt.height>k&&(me<l&&this.ic(e,f,0,l-me,Ie,wt-1),ke++,Ce=0,Ie=wt,ne=J,me=0,ge=n>135?-J-H:J+H),this.wk(Vt,ge,0);let on=0;if(Ce===0)le=Vt.Cg,fe=Vt.Lg,we=qt.width,ye=qt.height,(le===null||fe===null||n!==this.orthoAngle(Vt))&&(le=this.ae(2),fe=this.ae(2),le[0].i(0,0),le[1].i(we,0),fe[0].i(0,ye),fe[1].i(we,ye));else{const An=t.et(),kt=this.KD(e,Vt,le,fe,we,ye,An);on=kt.x,le=An[0],fe=An[1],we=kt.width,ye=kt.height,t.J(An),me<qt.height&&on<0&&(this.tu(e,0,-on,Ie,wt-1),this.bk(le,0,-on),this.bk(fe,0,-on),on=0)}Vt.O.i(ge,on),Q=Math.max(Q,ye),J=Math.max(J,ne+(ke===0?0:H)+qt.width),me=ye}Ce++}ke>0&&(o?(Q+=Math.max(0,P),ge<J&&this.ic(e,f,J-ge,0,Ie,h-1),V>0&&(v||this.tu(e,V,0,0,h-1),J+=V)):(J+=Math.max(0,P),me<Q&&this.ic(e,f,0,Q-me,Ie,h-1),V>0&&(v||this.tu(e,0,V,0,h-1),Q+=V)));let He=0,Ke=0;switch(f){case 20:o?He+=J/2-e.focus.x-F/2:Ke+=Q/2-e.focus.y-F/2;break;default:case 21:if(ke>0)o?He+=J/2-e.focus.x-F/2:Ke+=Q/2-e.focus.y-F/2;else{const Vt=h;if(o){const qt=c[0].O.x+c[0].lt.x,on=c[Vt-1].O.x+c[Vt-1].lt.x+c[Vt-1].focus.x*2;He+=qt+(on-qt)/2-e.focus.x-F/2}else{const qt=c[0].O.y+c[0].lt.y,on=c[Vt-1].O.y+c[Vt-1].lt.y+c[Vt-1].focus.y*2;Ke+=qt+(on-qt)/2-e.focus.y-F/2}}break;case 22:o?(He-=F,J+=F):(Ke-=F,Q+=F);break;case 23:o?(He+=J-e.width+F,J+=F):(Ke+=Q-e.height+F,Q+=F);break;case 24:o?h>1?He+=Be+N/2-e.focus.x:He+=c[0].focus.x-e.focus.x+c[0].lt.x:h>1?Ke+=Be+N/2-e.focus.y:Ke+=c[0].focus.y-e.focus.y+c[0].lt.y;break;case 26:o?He+=J+N/2-e.focus.x:Ke+=Q+N/2-e.focus.y;break;case 27:break;case 28:const wt=this.customAlignment(e,He,Ke,J,Q);He=wt[0],Ke=wt[1],J=wt[2],Q=wt[3];break}for(let wt=0;wt<h;wt++){const Vt=c[wt];o?Vt.O.i(Vt.O.x+Vt.lt.x-He,Vt.O.y+(n>135?(w?-Q:-Vt.ut.height)+Vt.lt.y-P:K+P+Vt.lt.y)):Vt.O.i(Vt.O.x+(n>135?(w?-J:-Vt.ut.width)+Vt.lt.x-P:$+P+Vt.lt.x),Vt.O.y+Vt.lt.y-Ke)}let Et=0,It=0;if(w)o?(J=this.oC(e,J,He),He<0&&(He=0),n>135&&(Ke+=Q+P),Q+=K+P,f===27&&(Et+=N/2+e.focus.x),It+=K+P):(n>135&&(He+=J+P),J+=$+P,Q=this.rC(e,Q,Ke),Ke<0&&(Ke=0),f===27&&(It+=N/2+e.focus.y),Et+=$+P);else if(o){if(e.comments===null){if($>J){const wt=this.lC(f,$-J,0);Et=wt.x,It=wt.y,J=$,He=0}}else J=this.oC(e,J,He);He<0&&(Et-=He,He=0),n>135&&(Ke+=Q+P),Q=Math.max(Math.max(Q,K),Q+K+P),It+=K+P}else{if(n>135&&(He+=J+P),J=Math.max(Math.max(J,$),J+$+P),e.comments===null){if(K>Q){const wt=this.lC(f,0,K-Q);Et=wt.x,It=wt.y,Q=K,Ke=0}}else Q=this.rC(e,Q,Ke);Ke<0&&(It-=Ke,Ke=0),Et+=$+P}let bt,At;if(ke>0)bt=this.ae(4),At=this.ae(4),o?(bt[2].i(0,K+P),bt[3].i(bt[2].x,Q),At[2].i(J,bt[2].y),At[3].i(At[2].x,bt[3].y)):(bt[2].i($+P,0),bt[3].i(J,bt[2].y),At[2].i(bt[2].x,Q),At[3].i(bt[3].x,At[2].y));else{bt=this.ae(le.length+2),At=this.ae(fe.length+2);for(let wt=0;wt<le.length;wt++){const Vt=le[wt];bt[wt+2].i(Vt.x+Et,Vt.y+It)}for(let wt=0;wt<fe.length;wt++){const Vt=fe[wt];At[wt+2].i(Vt.x+Et,Vt.y+It)}}o?(bt[0].i(He,0),bt[1].i(bt[0].x,K),bt[2].y<bt[1].y&&(bt[2].x>bt[0].x?bt[2].a(bt[1]):bt[1].a(bt[2])),bt[3].y<bt[2].y&&(bt[3].x>bt[0].x?bt[3].a(bt[2]):bt[2].a(bt[3])),At[0].i(He+$,0),At[1].i(At[0].x,K),At[2].y<At[1].y&&(At[2].x<At[0].x?At[2].a(At[1]):At[1].a(At[2])),At[3].y<At[2].y&&(At[3].x<At[0].x?At[3].a(At[2]):At[2].a(At[3])),bt[2].y-=P/2,At[2].y-=P/2):(bt[0].i(0,Ke),bt[1].i($,bt[0].y),bt[2].x<bt[1].x&&(bt[2].y>bt[0].y?bt[2].a(bt[1]):bt[1].a(bt[2])),bt[3].x<bt[2].x&&(bt[3].y>bt[0].y?bt[3].a(bt[2]):bt[2].a(bt[3])),At[0].i(0,Ke+K),At[1].i($,At[0].y),At[2].x<At[1].x&&(At[2].y<At[0].y?At[2].a(At[1]):At[1].a(At[2])),At[3].x<At[2].x&&(At[3].y<At[0].y?At[3].a(At[2]):At[2].a(At[3])),bt[2].x-=P/2,At[2].x-=P/2),this._s(le),this._s(fe),e.Cg=bt,e.Lg=At,e.lt.i(He,Ke),e.ut.i(J,Q)}bk(e,n,o){for(let l=0;l<e.length;l++){const c=e[l];c.x+=n,c.y+=o}}KD(e,n,o,l,c,h,f){const g=this.orthoAngle(e),v=g===90||g===270,w=e.nodeSpacing,k=o,P=l,N=c,F=h;let H=n.Cg,V=n.Lg;const $=n.ut,K=v?Math.max(F,$.height):Math.max(N,$.width);if((H===null||g!==this.orthoAngle(n))&&(H=this.ae(2),V=this.ae(2),v?(H[0].i(0,0),H[1].i(0,$.height),V[0].i($.width,0),V[1].i(V[0].x,H[1].y)):(H[0].i(0,0),H[1].i($.width,0),V[0].i(0,$.height),V[1].i(H[1].x,V[0].y))),v){const J=N;let Q=J-this.eE(P,H,J);return Q+=w,o=this.sE(k,H,Q),l=this.nE(P,V,Q),c=Math.max(0,Q)+$.width,h=K,this._s(k),this._s(H),this._s(P),this._s(V),f[0]=o,f[1]=l,new z(Q,0,c,h)}else{const J=F;let Q=J-this.oE(P,H,J);return Q+=w,o=this.rE(k,H,Q),l=this.lE(P,V,Q),c=K,h=Math.max(0,Q)+$.height,this._s(k),this._s(H),this._s(P),this._s(V),f[0]=o,f[1]=l,new z(Q,0,c,h)}}rE(e,n,o){if(e===null||e.length<2||n===null||n.length<2)return null;const l=this.ae(e.length+n.length);let c=0,h=0,f=0;for(;h<n.length&&n[h].x<e[0].x;){const w=n[h++];l[f++].i(w.x,w.y+o)}for(;c<e.length;){const w=e[c++];l[f++].i(w.x,w.y)}const g=e[e.length-1].x;for(;h<n.length&&n[h].x<=g;)h++;for(;h<n.length&&n[h].x>g;){const w=n[h++];l[f++].i(w.x,w.y+o)}const v=this.ae(f);for(c=0;c<f;c++)v[c].a(l[c]);return this._s(l),v}sE(e,n,o){if(e===null||e.length<2||n===null||n.length<2)return null;const l=this.ae(e.length+n.length);let c=0,h=0,f=0;for(;h<n.length&&n[h].y<e[0].y;){const w=n[h++];l[f++].i(w.x+o,w.y)}for(;c<e.length;){const w=e[c++];l[f++].i(w.x,w.y)}const g=e[e.length-1].y;for(;h<n.length&&n[h].y<=g;)h++;for(;h<n.length&&n[h].y>g;){const w=n[h++];l[f++].i(w.x+o,w.y)}const v=this.ae(f);for(c=0;c<f;c++)v[c].a(l[c]);return this._s(l),v}lE(e,n,o){if(e===null||e.length<2||n===null||n.length<2)return null;const l=this.ae(e.length+n.length);let c=0,h=0,f=0;for(;c<e.length&&e[c].x<n[0].x;){const w=e[c++];l[f++].i(w.x,w.y)}for(;h<n.length;){const w=n[h++];l[f++].i(w.x,w.y+o)}const g=n[n.length-1].x;for(;c<e.length&&e[c].x<=g;)c++;for(;c<e.length&&e[c].x>g;){const w=e[c++];l[f++].i(w.x,w.y)}const v=this.ae(f);for(c=0;c<f;c++)v[c].a(l[c]);return this._s(l),v}nE(e,n,o){if(e===null||e.length<2||n===null||n.length<2)return null;const l=this.ae(e.length+n.length);let c=0,h=0,f=0;for(;c<e.length&&e[c].y<n[0].y;){const w=e[c++];l[f++].i(w.x,w.y)}for(;h<n.length;){const w=n[h++];l[f++].i(w.x+o,w.y)}const g=n[n.length-1].y;for(;c<e.length&&e[c].y<=g;)c++;for(;c<e.length&&e[c].y>g;){const w=e[c++];l[f++].i(w.x,w.y)}const v=this.ae(f);for(c=0;c<f;c++)v[c].a(l[c]);return this._s(l),v}oE(e,n,o){let l=9999999;if(e===null||e.length<2||n===null||n.length<2)return l;let c=0,h=0;for(;c<e.length&&h<n.length;){const f=e[c],g=n[h],v=g.x;let w=g.y;w+=o;let k=f;c+1<e.length&&(k=e[c+1]);let P=g,N=P.x,F=P.y;h+1<n.length&&(P=n[h+1],N=P.x,F=P.y,F+=o);let H=l;f.x===v?H=w-f.y:f.x>v&&f.x<N?H=w+(f.x-v)/(N-v)*(F-w)-f.y:v>f.x&&v<k.x&&(H=w-(f.y+(v-f.x)/(k.x-f.x)*(k.y-f.y))),H<l&&(l=H),k.x<=f.x?c++:N<=v?h++:(k.x<=N&&c++,N<=k.x&&h++)}return l}eE(e,n,o){let l=9999999;if(e===null||e.length<2||n===null||n.length<2)return l;let c=0,h=0;for(;c<e.length&&h<n.length;){const f=e[c],g=n[h];let v=g.x;const w=g.y;v+=o;let k=f;c+1<e.length&&(k=e[c+1]);let P=g,N=P.x,F=P.y;h+1<n.length&&(P=n[h+1],N=P.x,F=P.y,N+=o);let H=l;f.y===w?H=v-f.x:f.y>w&&f.y<F?H=v+(f.y-w)/(F-w)*(N-v)-f.x:w>f.y&&w<k.y&&(H=v-(f.x+(w-f.y)/(k.y-f.y)*(k.x-f.x))),H<l&&(l=H),k.y<=f.y?c++:F<=w?h++:(k.y<=F&&c++,F<=k.y&&h++)}return l}ae(e){const n=this.yk[e];if(n!==void 0){const l=n.pop();if(l!==void 0)return l}const o=[];for(let l=0;l<e;l++)o[l]=new T;return o}_s(e){if(!e)return;const n=e.length;let o=this.yk[n];o===void 0&&(o=[],this.yk[n]=o),o.push(e)}arrangeTrees(){if(this.Xi===52){const e=this.Fi.iterator;for(;e.next();){const n=e.value;if(!(n instanceof Rr))continue;const o=n.node;if(o===null)continue;const l=o.position;let c=l.x,h=l.y;isFinite(c)||(c=0),isFinite(h)||(h=0),this.hC(n,c,h)}}else{const e=[],n=this.Fi.iterator;for(;n.next();){const h=n.value;h instanceof Rr&&e.push(h)}switch(this.sorting){default:case 10:break;case 11:e.reverse();break;case 12:e.sort(this.comparer);break;case 13:e.sort(this.comparer),e.reverse();break}const o=this.arrangementOrigin;let l=o.x,c=o.y;for(let h=0;h<e.length;h++){const f=e[h];switch(this.hC(f,l+f.lt.x,c+f.lt.y),this.Xi){case 50:c+=f.ut.height+this.Ms.height;break;default:case 51:l+=f.ut.width+this.Ms.width;break}}}}hC(e,n,o){if(e===null)return;e.x=n,e.y=o;const l=e.children,c=l.length;for(let h=0;h<c;h++){const f=l[h];this.hC(f,n+f.O.x,o+f.O.y)}}commitLayout(){this.zy(),this.commitNodes(),this.iC(),this.isRouting&&this.commitLinks()}commitNodes(){const e=this.network.vertexes.iterator;for(;e.next();)e.value.commit();for(e.reset();e.next();){const n=e.value;this.layoutComments(n)}}iC(){if(this.layerStyle!==62)return;const e=this.eC,n=[];let o=null;const l=this.network.vertexes.iterator;for(;l.next();){const v=l.value;o===null?o=v.bounds.copy():o.unionRect(v.bounds);let w=n[v.level];w===void 0?w=this.computeLayerSpacing(v):w=Math.max(w,this.computeLayerSpacing(v)),n[v.level]=w}for(let v=0;v<n.length;v++)n[v]===void 0&&(n[v]=0);let c;this.angle===90||this.angle===270?(o.inflate(this.nodeSpacing/2,this.layerSpacing),c=new T(-this.nodeSpacing/2,-this.layerSpacing/2)):(o.inflate(this.layerSpacing,this.nodeSpacing/2),c=new T(-this.layerSpacing/2,-this.nodeSpacing/2));const h=[],f=this.angle===90||this.angle===270?o.width:o.height;let g=0;if(this.angle===180||this.angle===270)for(let v=0;v<e.length;v++)g+=e[v]+n[v];for(let v=0;v<e.length;v++){const w=e[v]+n[v];this.angle===270?(g-=w,h.push(new z(0,g,f,w))):this.angle===90?(h.push(new z(0,g,f,w)),g+=w):this.angle===180?(g-=w,h.push(new z(g,0,w,f))):(h.push(new z(g,0,w,f)),g+=w)}this.commitLayers(h,c)}commitLayers(e,n){}commitLinks(){const e=this.network.edges.iterator;for(;e.next();)e.value.commit()}zy(){const e=this.Fi.iterator;for(;e.next();){const n=e.value;n instanceof Rr&&this.jD(n)}}jD(e){if(e===null)return;this.setPortSpots(e);const n=e.children,o=n.length;for(let l=0;l<o;l++){const c=n[l];this.jD(c)}}setPortSpots(e){const n=e.alignment;if(this.isBusAlignment(n))this.hE(e,n);else{const o=this.orthoAngle(e);if(this.ls===1){const l=e.destinationEdges;for(;l.next();){const c=l.value.link;if(c!==null){if(e.setsPortSpot)if(e.portSpot.isDefault())switch(o){case 0:c.fromSpot=L.MiddleRight;break;case 90:c.fromSpot=L.MiddleBottom;break;case 180:c.fromSpot=L.MiddleLeft;break;default:c.fromSpot=L.MiddleTop;break}else c.fromSpot=e.portSpot;if(e.setsChildPortSpot)if(e.childPortSpot.isDefault())switch(o){case 0:c.toSpot=L.MiddleLeft;break;case 90:c.toSpot=L.MiddleTop;break;case 180:c.toSpot=L.MiddleRight;break;default:c.toSpot=L.MiddleBottom;break}else c.toSpot=e.childPortSpot}}}else{const l=e.sourceEdges;for(;l.next();){const c=l.value.link;if(c!==null){if(e.setsPortSpot)if(e.portSpot.isDefault())switch(o){case 0:c.toSpot=L.MiddleRight;break;case 90:c.toSpot=L.MiddleBottom;break;case 180:c.toSpot=L.MiddleLeft;break;default:c.toSpot=L.MiddleTop;break}else c.toSpot=e.portSpot;if(e.setsChildPortSpot)if(e.childPortSpot.isDefault())switch(o){case 0:c.fromSpot=L.MiddleLeft;break;case 90:c.fromSpot=L.MiddleTop;break;case 180:c.fromSpot=L.MiddleRight;break;default:c.fromSpot=L.MiddleBottom;break}else c.fromSpot=e.childPortSpot}}}}}hE(e,n){const o=this.ls===1,l=this.orthoAngle(e);let c;switch(l){case 0:c=L.MiddleRight;break;case 90:c=L.MiddleBottom;break;case 180:c=L.MiddleLeft;break;default:c=L.MiddleTop;break}const h=e.children,f=h.length;switch(n){case 24:case 25:{for(let g=0;g<f;g++){const v=h[g],w=(o?v.sourceEdges:v.destinationEdges).first();if(w===null)continue;const k=w.link;if(k!==null){let P=l===90||l===270?L.MiddleLeft:L.MiddleTop;if(f===1||g===f-1&&f%2===1)switch(l){case 0:P=L.MiddleLeft;break;case 90:P=L.MiddleTop;break;case 180:P=L.MiddleRight;break;default:P=L.MiddleBottom;break}else g%2===0&&(P=l===90||l===270?L.MiddleRight:L.MiddleBottom);o?(e.setsPortSpot&&(k.fromSpot=c),e.setsChildPortSpot&&(k.toSpot=P)):(e.setsPortSpot&&(k.fromSpot=P),e.setsChildPortSpot&&(k.toSpot=c))}}break}case 26:{const g=l===90||l===270?L.MiddleRight:L.MiddleBottom,v=o?e.destinationEdges:e.sourceEdges;for(;v.next();){const w=v.value.link;w!==null&&(o?(e.setsPortSpot&&(w.fromSpot=c),e.setsChildPortSpot&&(w.toSpot=g)):(e.setsPortSpot&&(w.fromSpot=g),e.setsChildPortSpot&&(w.toSpot=c)))}break}case 27:{const g=l===90||l===270?L.MiddleLeft:L.MiddleTop,v=o?e.destinationEdges:e.sourceEdges;for(;v.next();){const w=v.value.link;w!==null&&(o?(e.setsPortSpot&&(w.fromSpot=c),e.setsChildPortSpot&&(w.toSpot=g)):(e.setsPortSpot&&(w.fromSpot=g),e.setsChildPortSpot&&(w.toSpot=c)))}break}}}orthoAngle(e){const n=e.angle;return n<=45?0:n<=135?90:n<=225?180:n<=315?270:0}computeLayerSpacing(e){const n=this.orthoAngle(e),o=n===90||n===270;let l=e.layerSpacing;if(e.layerSpacingParentOverlap>0){const c=Math.min(1,e.layerSpacingParentOverlap);l-=o?e.height*c:e.width*c}return l<(o?-e.height:-e.width)&&(l=o?-e.height:-e.width),l}computeNodeIndent(e){const n=this.orthoAngle(e),o=n===90||n===270;let l=e.nodeIndent;if(e.nodeIndentPastParent>0){const c=Math.min(1,e.nodeIndentPastParent);l+=o?e.width*c:e.height*c}return l=Math.max(0,l),l}get roots(){return this.Fi}set roots(e){this.Fi!==e&&(this.Fi=e,this.invalidateLayout())}get path(){return this.Li}set path(e){this.Li!==e&&(this.Li=e,this.invalidateLayout())}get treeStyle(){return this._f}set treeStyle(e){this._f!==e&&(e===40||e===42||e===41||e===43)&&(this._f=e,this.invalidateLayout())}get layerStyle(){return this.Ng}set layerStyle(e){this.Ng!==e&&(e===60||e===61||e===62)&&(this.Ng=e,this.invalidateLayout())}get comments(){return this.Fe}set comments(e){this.Fe!==e&&(this.Fe=e,this.invalidateLayout())}get arrangement(){return this.Xi}set arrangement(e){this.Xi!==e&&(e===50||e===51||e===52)&&(this.Xi=e,this.invalidateLayout())}get arrangementSpacing(){return this.Ms}set arrangementSpacing(e){this.Ms.equals(e)||(this.Ms.a(e),this.invalidateLayout())}get rootDefaults(){return this.U}set rootDefaults(e){this.U!==e&&(this.U=e,this.invalidateLayout())}get alternateDefaults(){return this.B}set alternateDefaults(e){this.B!==e&&(this.B=e,this.invalidateLayout())}get sorting(){return this.U.sorting}set sorting(e){this.U.sorting!==e&&(this.U.sorting=e,this.invalidateLayout())}get comparer(){return this.U.comparer}set comparer(e){this.U.comparer!==e&&(this.U.comparer=e,this.invalidateLayout())}get angle(){return this.U.angle}set angle(e){this.U.angle!==e&&(e===0||e===90||e===180||e===270?(this.U.angle=e,this.invalidateLayout()):t.o("TreeLayout.angle must be 0, 90, 180, or 270"))}get alignment(){return this.U.alignment}set alignment(e){this.U.alignment!==e&&(this.U.alignment=e,this.invalidateLayout())}get nodeIndent(){return this.U.nodeIndent}set nodeIndent(e){this.U.nodeIndent!==e&&e>=0&&(this.U.nodeIndent=e,this.invalidateLayout())}get nodeIndentPastParent(){return this.U.nodeIndentPastParent}set nodeIndentPastParent(e){this.U.nodeIndentPastParent!==e&&e>=0&&e<=1&&(this.U.nodeIndentPastParent=e,this.invalidateLayout())}get nodeSpacing(){return this.U.nodeSpacing}set nodeSpacing(e){this.U.nodeSpacing!==e&&(this.U.nodeSpacing=e,this.invalidateLayout())}get layerSpacing(){return this.U.layerSpacing}set layerSpacing(e){this.U.layerSpacing!==e&&(this.U.layerSpacing=e,this.invalidateLayout())}get layerSpacingParentOverlap(){return this.U.layerSpacingParentOverlap}set layerSpacingParentOverlap(e){this.U.layerSpacingParentOverlap!==e&&e>=0&&e<=1&&(this.U.layerSpacingParentOverlap=e,this.invalidateLayout())}get compaction(){return this.U.compaction}set compaction(e){this.U.compaction!==e&&(e===30||e===31)&&(this.U.compaction=e,this.invalidateLayout())}get breadthLimit(){return this.U.breadthLimit}set breadthLimit(e){this.U.breadthLimit!==e&&e>=0&&(this.U.breadthLimit=e,this.invalidateLayout())}get rowSpacing(){return this.U.rowSpacing}set rowSpacing(e){this.U.rowSpacing!==e&&(this.U.rowSpacing=e,this.invalidateLayout())}get rowIndent(){return this.U.rowIndent}set rowIndent(e){this.U.rowIndent!==e&&e>=0&&(this.U.rowIndent=e,this.invalidateLayout())}get commentSpacing(){return this.U.commentSpacing}set commentSpacing(e){this.U.commentSpacing!==e&&(this.U.commentSpacing=e,this.invalidateLayout())}get commentMargin(){return this.U.commentMargin}set commentMargin(e){this.U.commentMargin!==e&&(this.U.commentMargin=e,this.invalidateLayout())}get setsPortSpot(){return this.U.setsPortSpot}set setsPortSpot(e){this.U.setsPortSpot!==e&&(this.U.setsPortSpot=e,this.invalidateLayout())}get portSpot(){return this.U.portSpot}set portSpot(e){this.U.portSpot.equals(e)||(this.U.portSpot=e,this.invalidateLayout())}get setsChildPortSpot(){return this.U.setsChildPortSpot}set setsChildPortSpot(e){this.U.setsChildPortSpot!==e&&(this.U.setsChildPortSpot=e,this.invalidateLayout())}get childPortSpot(){return this.U.childPortSpot}set childPortSpot(e){this.U.childPortSpot.equals(e)||(this.U.childPortSpot=e,this.invalidateLayout())}get alternateSorting(){return this.B.sorting}set alternateSorting(e){this.B.sorting!==e&&(this.B.sorting=e,this.invalidateLayout())}get alternateComparer(){return this.B.comparer}set alternateComparer(e){this.B.comparer!==e&&(this.B.comparer=e,this.invalidateLayout())}get alternateAngle(){return this.B.angle}set alternateAngle(e){this.B.angle!==e&&(e===0||e===90||e===180||e===270)&&(this.B.angle=e,this.invalidateLayout())}get alternateAlignment(){return this.B.alignment}set alternateAlignment(e){this.B.alignment!==e&&(this.B.alignment=e,this.invalidateLayout())}get alternateNodeIndent(){return this.B.nodeIndent}set alternateNodeIndent(e){this.B.nodeIndent!==e&&e>=0&&(this.B.nodeIndent=e,this.invalidateLayout())}get alternateNodeIndentPastParent(){return this.B.nodeIndentPastParent}set alternateNodeIndentPastParent(e){this.B.nodeIndentPastParent!==e&&e>=0&&e<=1&&(this.B.nodeIndentPastParent=e,this.invalidateLayout())}get alternateNodeSpacing(){return this.B.nodeSpacing}set alternateNodeSpacing(e){this.B.nodeSpacing!==e&&(this.B.nodeSpacing=e,this.invalidateLayout())}get alternateLayerSpacing(){return this.B.layerSpacing}set alternateLayerSpacing(e){this.B.layerSpacing!==e&&(this.B.layerSpacing=e,this.invalidateLayout())}get alternateLayerSpacingParentOverlap(){return this.B.layerSpacingParentOverlap}set alternateLayerSpacingParentOverlap(e){this.B.layerSpacingParentOverlap!==e&&e>=0&&e<=1&&(this.B.layerSpacingParentOverlap=e,this.invalidateLayout())}get alternateCompaction(){return this.B.compaction}set alternateCompaction(e){this.B.compaction!==e&&(e===30||e===31)&&(this.B.compaction=e,this.invalidateLayout())}get alternateBreadthLimit(){return this.B.breadthLimit}set alternateBreadthLimit(e){this.B.breadthLimit!==e&&e>=0&&(this.B.breadthLimit=e,this.invalidateLayout())}get alternateRowSpacing(){return this.B.rowSpacing}set alternateRowSpacing(e){this.B.rowSpacing!==e&&(this.B.rowSpacing=e,this.invalidateLayout())}get alternateRowIndent(){return this.B.rowIndent}set alternateRowIndent(e){this.B.rowIndent!==e&&e>=0&&(this.B.rowIndent=e,this.invalidateLayout())}get alternateCommentSpacing(){return this.B.commentSpacing}set alternateCommentSpacing(e){this.B.commentSpacing!==e&&(this.B.commentSpacing=e,this.invalidateLayout())}get alternateCommentMargin(){return this.B.commentMargin}set alternateCommentMargin(e){this.B.commentMargin!==e&&(this.B.commentMargin=e,this.invalidateLayout())}get alternateSetsPortSpot(){return this.B.setsPortSpot}set alternateSetsPortSpot(e){this.B.setsPortSpot!==e&&(this.B.setsPortSpot=e,this.invalidateLayout())}get alternatePortSpot(){return this.B.portSpot}set alternatePortSpot(e){this.B.portSpot.equals(e)||(this.B.portSpot=e,this.invalidateLayout())}get alternateSetsChildPortSpot(){return this.B.setsChildPortSpot}set alternateSetsChildPortSpot(e){this.B.setsChildPortSpot!==e&&(this.B.setsChildPortSpot=e,this.invalidateLayout())}get alternateChildPortSpot(){return this.B.childPortSpot}set alternateChildPortSpot(e){this.B.childPortSpot.equals(e)||(this.B.childPortSpot=e,this.invalidateLayout())}static PathDefault=0;static PathDestination=1;static PathSource=2;static SortingForwards=10;static SortingReverse=11;static SortingAscending=12;static SortingDescending=13;static AlignmentCenterSubtrees=20;static AlignmentCenterChildren=21;static AlignmentStart=22;static AlignmentEnd=23;static AlignmentBus=24;static AlignmentBusBranching=25;static AlignmentTopLeftBus=26;static AlignmentBottomRightBus=27;static CompactionNone=30;static CompactionBlock=31;static StyleLayered=40;static StyleLastParents=41;static StyleAlternating=42;static StyleRootOnly=43;static ArrangementVertical=50;static ArrangementHorizontal=51;static ArrangementFixedRoots=52;static LayerIndividual=60;static LayerSiblings=61;static LayerUniform=62}class rc extends Go{constructor(e){super(e)}createVertex(){return new Rr(this)}createEdge(){return new Hp(this)}}class Rr extends Nr{O;ut;lt;kk;Pk;Sk;Mk;Nk;Ck;Lk;Fe;Cg;Lg;pe;ye;Yt;hi;$y;Zy;Qy;Ns;_y;tw;iw;ew;nw;ow;lw;hw;aw;cw;fw;constructor(e){super(e),this.kk=!1,this.Pk=null,this.Sk=[],this.Mk=0,this.Nk=0,this.Ck=0,this.Lk=0,this.Fe=null,this.O=new T(0,0),this.ut=new B(0,0),this.lt=new T(0,0),this.Cg=null,this.Lg=null,this.pe=10,this.ye=Nr.standardComparer,this.Yt=0,this.hi=21,this.$y=0,this.Zy=0,this.Qy=20,this.Ns=50,this._y=0,this.tw=31,this.iw=0,this.ew=25,this.nw=10,this.ow=10,this.lw=20,this.hw=!0,this.aw=L.Default,this.cw=!0,this.fw=L.Default}copyInheritedPropertiesFrom(e){e!==null&&(this.pe=e.sorting,this.ye=e.comparer,this.Yt=e.angle,this.hi=e.alignment,this.$y=e.nodeIndent,this.Zy=e.nodeIndentPastParent,this.Qy=e.nodeSpacing,this.Ns=e.layerSpacing,this._y=e.layerSpacingParentOverlap,this.tw=e.compaction,this.iw=e.breadthLimit,this.ew=e.rowSpacing,this.nw=e.rowIndent,this.ow=e.commentSpacing,this.lw=e.commentMargin,this.hw=e.setsPortSpot,this.aw=e.portSpot,this.cw=e.setsChildPortSpot,this.fw=e.childPortSpot)}get initialized(){return this.kk}set initialized(e){this.kk!==e&&(this.kk=e)}get parent(){return this.Pk}set parent(e){this.Pk!==e&&(this.Pk=e)}get children(){return this.Sk}set children(e){if(this.Sk!==e){if(e!==null){const n=e.length;for(let o=0;o<n;o++)e[o]}this.Sk=e}}get level(){return this.Mk}set level(e){this.Mk!==e&&(this.Mk=e)}get descendantCount(){return this.Nk}set descendantCount(e){this.Nk!==e&&(this.Nk=e)}get maxChildrenCount(){return this.Ck}set maxChildrenCount(e){this.Ck!==e&&(this.Ck=e)}get maxGenerationCount(){return this.Lk}set maxGenerationCount(e){this.Lk!==e&&(this.Lk=e)}get comments(){return this.Fe}set comments(e){if(this.Fe!==e){if(e!==null){const n=e.length;for(let o=0;o<n;o++)e[o]}this.Fe=e}}get sorting(){return this.pe}set sorting(e){this.pe!==e&&(this.pe=e)}get comparer(){return this.ye}set comparer(e){this.ye!==e&&(this.ye=e)}get angle(){return this.Yt}set angle(e){this.Yt!==e&&(this.Yt=e)}get alignment(){return this.hi}set alignment(e){this.hi!==e&&(this.hi=e)}get nodeIndent(){return this.$y}set nodeIndent(e){this.$y!==e&&(this.$y=e)}get nodeIndentPastParent(){return this.Zy}set nodeIndentPastParent(e){this.Zy!==e&&(this.Zy=e)}get nodeSpacing(){return this.Qy}set nodeSpacing(e){this.Qy!==e&&(this.Qy=e)}get layerSpacing(){return this.Ns}set layerSpacing(e){this.Ns!==e&&(this.Ns=e)}get layerSpacingParentOverlap(){return this._y}set layerSpacingParentOverlap(e){this._y!==e&&(this._y=e)}get compaction(){return this.tw}set compaction(e){this.tw!==e&&(this.tw=e)}get breadthLimit(){return this.iw}set breadthLimit(e){this.iw!==e&&(this.iw=e)}get rowSpacing(){return this.ew}set rowSpacing(e){this.ew!==e&&(this.ew=e)}get rowIndent(){return this.nw}set rowIndent(e){this.nw!==e&&(this.nw=e)}get commentSpacing(){return this.ow}set commentSpacing(e){this.ow!==e&&(this.ow=e)}get commentMargin(){return this.lw}set commentMargin(e){this.lw!==e&&(this.lw=e)}get setsPortSpot(){return this.hw}set setsPortSpot(e){this.hw!==e&&(this.hw=e)}get portSpot(){return this.aw}set portSpot(e){this.aw.equals(e)||(this.aw=e)}get setsChildPortSpot(){return this.cw}set setsChildPortSpot(e){this.cw!==e&&(this.cw=e)}get childPortSpot(){return this.fw}set childPortSpot(e){this.fw.equals(e)||(this.fw=e)}get childrenCount(){return this.children.length}get relativePosition(){return this.O}set relativePosition(e){this.O.set(e)}get subtreeSize(){return this.ut}set subtreeSize(e){this.ut.set(e)}get subtreeOffset(){return this.lt}set subtreeOffset(e){this.lt.set(e)}}class Hp extends dl{Ak;constructor(e){super(e),this.Ak=new T(0,0)}commit(){const e=this.link;if(e===null||e.isAvoiding)return;const n=this.network.layout;let o=null,l=null;switch(n.ls){case 1:o=this.fromVertex,l=this.toVertex;break;case 2:o=this.toVertex,l=this.fromVertex;break;default:t.o("Unhandled path value "+n.ls.toString())}if(o===null||l===null)return;const c=this.Ak;if(c.x===0&&c.y===0){this.aE(o,l);return}const h=o.bounds,f=n.orthoAngle(o),g=n.computeLayerSpacing(o),v=o.rowSpacing;e.updateRoute();const w=e.curve===9,k=e.isOrthogonal;let P=0,N,F;if(e.startRoute(),k||w){for(P=2;e.pointsCount>4;)e.removePoint(2);N=e.getPoint(1),F=e.getPoint(2)}else{for(P=1;e.pointsCount>3;)e.removePoint(1);N=e.getPoint(0),F=e.getPoint(e.pointsCount-1)}const H=e.getPoint(e.pointsCount-1);let V=0;f===0?(o.alignment===23?(V=h.bottom+c.y,c.y===0&&N.y>H.y+o.rowIndent&&(V=Math.min(V,Math.max(N.y,V-n.computeNodeIndent(o))))):o.alignment===22?(V=h.top+c.y,c.y===0&&N.y<H.y-o.rowIndent&&(V=Math.max(V,Math.min(N.y,V+n.computeNodeIndent(o))))):V=h.y+h.height/2+c.y,w?(e.insertPointAt(P,N.x,V),P++,e.insertPointAt(P,h.right+g,V),P++,e.insertPointAt(P,h.right+g+(c.x-v)/3,V),P++,e.insertPointAt(P,h.right+g+(c.x-v)*2/3,V),P++,e.insertPointAt(P,h.right+g+(c.x-v),V),P++,e.insertPointAt(P,F.x,V),P++):(k&&(e.insertPointAt(P,h.right+g/2,N.y),P++),e.insertPointAt(P,h.right+g/2,V),P++,e.insertPointAt(P,h.right+g+c.x-(k?v/2:v),V),P++,k&&(e.insertPointAt(P,e.getPoint(P-1).x,F.y),P++))):f===90?(o.alignment===23?(V=h.right+c.x,c.x===0&&N.x>H.x+o.rowIndent&&(V=Math.min(V,Math.max(N.x,V-n.computeNodeIndent(o))))):o.alignment===22?(V=h.left+c.x,c.x===0&&N.x<H.x-o.rowIndent&&(V=Math.max(V,Math.min(N.x,V+n.computeNodeIndent(o))))):V=h.x+h.width/2+c.x,w?(e.insertPointAt(P,V,N.y),P++,e.insertPointAt(P,V,h.bottom+g),P++,e.insertPointAt(P,V,h.bottom+g+(c.y-v)/3),P++,e.insertPointAt(P,V,h.bottom+g+(c.y-v)*2/3),P++,e.insertPointAt(P,V,h.bottom+g+(c.y-v)),P++,e.insertPointAt(P,V,F.y),P++):(k&&(e.insertPointAt(P,N.x,h.bottom+g/2),P++),e.insertPointAt(P,V,h.bottom+g/2),P++,e.insertPointAt(P,V,h.bottom+g+c.y-(k?v/2:v)),P++,k&&(e.insertPointAt(P,F.x,e.getPoint(P-1).y),P++))):f===180?(o.alignment===23?(V=h.bottom+c.y,c.y===0&&N.y>H.y+o.rowIndent&&(V=Math.min(V,Math.max(N.y,V-n.computeNodeIndent(o))))):o.alignment===22?(V=h.top+c.y,c.y===0&&N.y<H.y-o.rowIndent&&(V=Math.max(V,Math.min(N.y,V+n.computeNodeIndent(o))))):V=h.y+h.height/2+c.y,w?(e.insertPointAt(P,N.x,V),P++,e.insertPointAt(P,h.left-g,V),P++,e.insertPointAt(P,h.left-g+(c.x+v)/3,V),P++,e.insertPointAt(P,h.left-g+(c.x+v)*2/3,V),P++,e.insertPointAt(P,h.left-g+(c.x+v),V),P++,e.insertPointAt(P,F.x,V),P++):(k&&(e.insertPointAt(P,h.left-g/2,N.y),P++),e.insertPointAt(P,h.left-g/2,V),P++,e.insertPointAt(P,h.left-g+c.x+(k?v/2:v),V),P++,k&&(e.insertPointAt(P,e.getPoint(P-1).x,F.y),P++))):f===270?(o.alignment===23?(V=h.right+c.x,c.x===0&&N.x>H.x+o.rowIndent&&(V=Math.min(V,Math.max(N.x,V-n.computeNodeIndent(o))))):o.alignment===22?(V=h.left+c.x,c.x===0&&N.x<H.x-o.rowIndent&&(V=Math.max(V,Math.min(N.x,V+n.computeNodeIndent(o))))):V=h.x+h.width/2+c.x,w?(e.insertPointAt(P,V,N.y),P++,e.insertPointAt(P,V,h.top-g),P++,e.insertPointAt(P,V,h.top-g+(c.y+v)/3),P++,e.insertPointAt(P,V,h.top-g+(c.y+v)*2/3),P++,e.insertPointAt(P,V,h.top-g+(c.y+v)),P++,e.insertPointAt(P,V,F.y),P++):(k&&(e.insertPointAt(P,N.x,h.top-g/2),P++),e.insertPointAt(P,V,h.top-g/2),P++,e.insertPointAt(P,V,h.top-g+c.y+(k?v/2:v)),P++,k&&(e.insertPointAt(P,F.x,e.getPoint(P-1).y),P++))):t.o("Invalid angle "+f),e.commitRoute()}aE(e,n){const o=this.link;if(o===null)return;const l=this.network.layout,c=l.orthoAngle(e),h=l.orthoAngle(n);if(c===h)return;const f=l.computeLayerSpacing(e),g=e.bounds,v=n.bounds;if(c===0&&v.left-g.right<f+1||c===90&&v.top-g.bottom<f+1||c===180&&g.left-v.right<f+1||c===270&&g.top-v.bottom<f+1)return;o.updateRoute();const w=o.curve===9,k=o.isOrthogonal,P=this.fromVertex,N=l.isBusAlignment(P.alignment);if(o.startRoute(),c===0){const F=g.right+f/2;if(w){if(o.pointsCount===4){const H=o.getPoint(3).y;o.setPointAt(1,F-20,o.getPoint(1).y),o.insertPointAt(2,F-20,H),o.insertPointAt(3,F,H),o.insertPointAt(4,F+20,H),o.setPointAt(5,o.getPoint(5).x,H)}}else k?N?o.setPointAt(3,o.getPoint(2).x,o.getPoint(4).y):o.pointsCount===6&&(o.setPointAt(2,F,o.getPoint(2).y),o.setPointAt(3,F,o.getPoint(3).y)):o.pointsCount===4?o.insertPointAt(2,F,o.getPoint(2).y):o.pointsCount===3?o.setPointAt(1,F,o.getPoint(2).y):o.pointsCount===2&&o.insertPointAt(1,F,o.getPoint(1).y)}else if(c===90){const F=g.bottom+f/2;if(w){if(o.pointsCount===4){const H=o.getPoint(3).x;o.setPointAt(1,o.getPoint(1).x,F-20),o.insertPointAt(2,H,F-20),o.insertPointAt(3,H,F),o.insertPointAt(4,H,F+20),o.setPointAt(5,H,o.getPoint(5).y)}}else k?N?o.setPointAt(3,o.getPoint(2).x,o.getPoint(4).y):o.pointsCount===6&&(o.setPointAt(2,o.getPoint(2).x,F),o.setPointAt(3,o.getPoint(3).x,F)):o.pointsCount===4?o.insertPointAt(2,o.getPoint(2).x,F):o.pointsCount===3?o.setPointAt(1,o.getPoint(2).x,F):o.pointsCount===2&&o.insertPointAt(1,o.getPoint(1).x,F)}else if(c===180){const F=g.left-f/2;if(w){if(o.pointsCount===4){const H=o.getPoint(3).y;o.setPointAt(1,F+20,o.getPoint(1).y),o.insertPointAt(2,F+20,H),o.insertPointAt(3,F,H),o.insertPointAt(4,F-20,H),o.setPointAt(5,o.getPoint(5).x,H)}}else k?N?o.setPointAt(3,o.getPoint(2).x,o.getPoint(4).y):o.pointsCount===6&&(o.setPointAt(2,F,o.getPoint(2).y),o.setPointAt(3,F,o.getPoint(3).y)):o.pointsCount===4?o.insertPointAt(2,F,o.getPoint(2).y):o.pointsCount===3?o.setPointAt(1,F,o.getPoint(2).y):o.pointsCount===2&&o.insertPointAt(1,F,o.getPoint(1).y)}else if(c===270){const F=g.top-f/2;if(w){if(o.pointsCount===4){const H=o.getPoint(3).x;o.setPointAt(1,o.getPoint(1).x,F+20),o.insertPointAt(2,H,F+20),o.insertPointAt(3,H,F),o.insertPointAt(4,H,F-20),o.setPointAt(5,H,o.getPoint(5).y)}}else k?N?o.setPointAt(3,o.getPoint(2).x,o.getPoint(4).y):o.pointsCount===6&&(o.setPointAt(2,o.getPoint(2).x,F),o.setPointAt(3,o.getPoint(3).x,F)):o.pointsCount===4?o.insertPointAt(2,o.getPoint(2).x,F):o.pointsCount===3?o.setPointAt(1,o.getPoint(2).x,F):o.pointsCount===2&&o.insertPointAt(1,o.getPoint(1).x,F)}o.commitRoute()}get fromVertex(){return this.He}set fromVertex(e){this.He!==e&&(this.He=e)}get toVertex(){return this.qe}set toVertex(e){this.qe!==e&&(this.qe=e)}get relativePoint(){return this.Ak}set relativePoint(e){this.Ak.set(e)}}class Qr{constructor(){}static Light={colors:{text:"#0a0a0a",comment:"#ca8a04",link:"#0a0a0a",group:"#a3a3a344",outline:"#a3a3a3",selection:"#0ea5e9",div:"#fff",gridMinor:"#e5e5e5",gridMajor:"#a3a3a3",overviewBox:"#c026d3",tempLink:"#2563eb",tempPort:"#c026d3",adornmentFill:"#0ea5e9",adornmentStroke:"#1e40af",dragSelect:"#c026d3"},fonts:{normal:"10pt sans-serif",bold:"bold 12pt sans-serif"},numbers:{group:1,selection:3},margins:{group:new W(5)},arrowheads:{toArrow:"Standard"}};static Dark={colors:{text:"#f5f5f5",comment:"#facc15",link:"#f5f5f5",group:"#a3a3a388",outline:"#a3a3a3",selection:"#38bdf8",div:"#171717",gridMinor:"#262626",gridMajor:"#404040",overviewBox:"#e879f9",tempLink:"#60a5fa",tempPort:"#e879f9",adornmentFill:"#38bdf8",adornmentStroke:"#2563eb",dragSelect:"#e879f9"},fonts:{normal:"10pt sans-serif",bold:"bold 12pt sans-serif"},numbers:{group:1,selection:3},margins:{group:new W(5)},arrowheads:{toArrow:"Standard"}}}class pa{ts=new Set;iu=new _;Tk="light";Dk="light";Fk=!1;Ag="light";HD=e=>{const n=e.matches?"dark":"light";n!==this.Ag&&(this.Ag=n,this.Dk==="system"&&this.uw())};constructor(e){e&&Object.assign(this,e),e?.themeMap||(this.iu.set("light",{colors:{...Qr.Light.colors},fonts:{...Qr.Light.fonts},numbers:{...Qr.Light.numbers},margins:{...Qr.Light.margins},arrowheads:{...Qr.Light.arrowheads}}),this.iu.set("dark",{colors:{...Qr.Dark.colors},fonts:{...Qr.Dark.fonts},numbers:{...Qr.Dark.numbers},margins:{...Qr.Dark.margins},arrowheads:{...Qr.Dark.arrowheads}})),i.matchMedia&&(this.Ag=i.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}get themeMap(){return this.iu}set themeMap(e){this.iu!==e&&(this.iu=e,this.uw())}get defaultTheme(){return this.Tk}set defaultTheme(e){this.Tk!==e&&(t.s(e,"string",pa,"defaultTheme"),this.Tk=e,this.uw())}get currentTheme(){return this.Dk}set currentTheme(e){this.Dk!==e&&(t.s(e,"string",pa,"currentTheme"),this.Dk=e,this.uw())}get changesDivBackground(){return this.Fk}set changesDivBackground(e){if(this.Fk!==e&&(this.Fk=e,e))for(const n of this.ts)n.setDivBackground(this.findValue("div","","fill")),n.D("ThemeChanged",this)}get preferredColorScheme(){return this.Ag}addDiagram(e){return this.ts.add(e),this.aC(e),this}removeDiagram(e){return this.ts.delete(e),this.aC(e),this}hR(){this.ts.size===0&&i.matchMedia&&i.matchMedia("(prefers-color-scheme: dark)")?.addEventListener("change",this.HD)}aR(){this.ts.size===0&&i.matchMedia&&i.matchMedia("(prefers-color-scheme: dark)")?.removeEventListener("change",this.HD)}set(e,n){e===""&&(e=this.Tk),e==="system"&&(e=this.Ag);let o=this.iu.get(e);return o?o=this.qD(o,n):o=n,this.iu.set(e,o),this.uw(),this}findValue(e,n,o){return this.getValue(this.findTheme(this.currentTheme),e,n,o)||this.getValue(this.findTheme(this.defaultTheme),e,n,o)}getValue(e,n,o,l){if(!e)return;o==null&&(o="");let c=e;const h=g=>{if(c===void 0||g==="")return;if(typeof g=="number"||!(Array.isArray(g)||g.includes(".")))return c[g];const v=Array.isArray(g)?g:g.split(".");for(let w=0;w<v.length;w++){const k=v[w];if(k!==""&&(c=c[k],c===void 0))return}return c},f=()=>{if(!(o!==""&&(c=h(o),c===void 0)))return Array.isArray(c)&&typeof n=="number"?c=c[n%c.length]:c=h(n),c};if(c=f(),c===void 0&&typeof l=="string"&&l.length>0){let g=e.targetPropertyMap?.get(l);if(g?c=e[g]:(g=pa.cE.get(l),c=g?e[g]:e.colors),c=f(),c!==void 0)return c}return c}findTheme(e){return this.themeMap.get(e==="system"?this.Ag:e)}aC(e){const n=e.skipsUndoManager;e.skipsUndoManager=!0,e.updateAllThemeBindings(),this.Fk&&e.setDivBackground(this.findValue("div","","fill")),e.skipsUndoManager=n,e.D("ThemeChanged",this)}uw(){for(const e of this.ts)this.aC(e)}qD(e,n){for(const o in n)if(t.dw(n,o))try{n[o].constructor===Object?e[o]=this.qD(e[o]??{},n[o]):e[o]=n[o]}catch{delete e[o]}return e}static cE=new Map([["background","colors"],["defaultColumnSeparatorStroke","colors"],["defaultRowSeparatorStroke","colors"],["shadowColor","colors"],["fill","colors"],["stroke","colors"],["font","fonts"],["angle","numbers"],["fromEndSegmentLength","numbers"],["fromShortLength","numbers"],["height","numbers"],["opacity","numbers"],["scale","numbers"],["toEndSegmentLength","numbers"],["toShortLength","numbers"],["width","numbers"],["defaultColumnSeparatorStrokeWidth","numbers"],["defaultRowSeparatorStrokeWidth","numbers"],["shadowBlur","numbers"],["corner","numbers"],["curviness","numbers"],["smoothness","numbers"],["parameter1","numbers"],["parameter2","numbers"],["strokeWidth","numbers"],["strokeDashOffset","numbers"],["maxLines","numbers"],["spacingAbove","numbers"],["spacingBelow","numbers"],["position","points"],["shadowOffset","points"],["desiredSize","sizes"],["maxSize","sizes"],["minSize","sizes"],["margin","margins"],["defaultSeparatorPadding","margins"],["padding","margins"],["alignment","spots"],["alignmentFocus","spots"],["fromSpot","spots"],["toSpot","spots"],["defaultAlignment","spots"],["spot1","spots"],["spot2","spots"],["verticalAlignment","spots"],["imageAlignment","spots"],["fromArrow","arrowheads"],["toArrow","arrowheads"]])}class Wp{Pt;N;Oi;cl;constructor(){this.N=Te.um(),this.Pt="",this.Oi=!0,this.cl=!0}get name(){return this.Pt}set name(e){this.Pt=e}get isEnabled(){return this.Oi}set isEnabled(e){this.Oi=e}get isRealtime(){return this.cl}set isRealtime(e){this.cl=e}get diagram(){return this.N}set diagram(e){this.N!==e&&(this.N=e,e.bl=!0,e.requestUpdate())}invalidateRouter(){this.N!==null&&(this.N.bl=!0,this.N.requestUpdate())}canRoute(e){if(!this.isEnabled)return!1;const n=this.diagram;return!(n&&(!this.isRealtime&&n.gu||n.animationManager.isTicking))}routeLinks(e,n){}toString(){return this.name!==""?this.name+" Router":t.Dn(this.constructor)}}class ky extends Wp{constructor(e){super(),this.name="AvoidsNodes",e&&Object.assign(this,e)}canRoute(e){return(e instanceof Te?e.Vm:e.diagram.Vm)?super.canRoute(e):!1}routeLinks(e,n){const o=n instanceof Te?null:n,l=e.iterator,c=this.diagram.getPositions(!0,o,null);for(;l.next();){const h=l.value;if(!h.isAvoiding||h.containingGroup!==o||h.toNode===null||h.fromNode===null||h.pointsCount<4)continue;h.startRoute();const f=h.pointsCount,g=h.getPoint(1),v=h.getPoint(f-2),w=h.fromNode.actualBounds.copy();w.inflate(vt.Ua,vt.Ua),w.unionPoint(h.getPoint(0));const k=h.toNode.actualBounds.copy();k.inflate(vt.Ua,vt.Ua),k.unionPoint(h.getPoint(f-1)),this.fE(h,w,k,c)&&this.uE(h,g,h.dN,v,h.gN,w,k,c),h.commitRoute()}}fE(e,n,o,l){const c=e.diagram,h=e.pointsCount;if(c===null||e.fromNode===e.toNode||e.layer.isTemporary||n.containsPoint(e.getPoint(h-1))&&!e.toNode.isMemberOf(e.fromNode)||o.containsPoint(e.getPoint(0))&&!e.fromNode.isMemberOf(e.toNode)||!e.isOrthogonal)return!1;if(e.segmentIndex===17)return!0;const f=e.getPoint(1),g=e.getPoint(h-2),v=e.getPoint(2);if(!l.isUnoccupied(Math.min(f.x,v.x),Math.min(f.y,v.y),Math.abs(f.x-v.x),Math.abs(f.y-v.y)))return!0;for(let k=2;k<h-3;k++){const P=e.getPoint(k),N=e.getPoint(k+1);if(!l.isUnoccupied(Math.min(P.x,N.x),Math.min(P.y,N.y),Math.abs(P.x-N.x),Math.abs(P.y-N.y)))return!0}const w=e.getPoint(h-3);return!l.isUnoccupied(Math.min(w.x,g.x),Math.min(w.y,g.y),Math.abs(w.x-g.x),Math.abs(w.y-g.y))}uE(e,n,o,l,c,h,f,g){const v=e.diagram,w=n,k=l;let P=null,N=null;if(v.isVirtualized){const V=g.bounds.copy(),$=e.getPoint(2),K=e.getPoint(e.pointsCount-3);V.inflate(-g.cellWidth,-g.cellHeight);const J=T.l();g.vd(n.x,n.y)||(I.gl(V.x,V.y,V.x+V.width,V.y+V.height,n.x,n.y,$.x,$.y,J)?(P=n=J.copy(),o=J.directionPoint($)):I.gl(V.x,V.y,V.x+V.width,V.y+V.height,$.x,$.y,K.x,K.y,J)?(P=n=J.copy(),o=J.directionPoint(K)):I.gl(V.x,V.y,V.x+V.width,V.y+V.height,K.x,K.y,l.x,l.y,J)&&(P=n=J.copy(),o=J.directionPoint(l))),g.vd(l.x,l.y)||(I.gl(V.x,V.y,V.x+V.width,V.y+V.height,l.x,l.y,K.x,K.y,J)?(N=l=J.copy(),c=K.directionPoint(J)):I.gl(V.x,V.y,V.x+V.width,V.y+V.height,K.x,K.y,$.x,$.y,J)?(N=l=J.copy(),c=$.directionPoint(J)):I.gl(V.x,V.y,V.x+V.width,V.y+V.height,$.x,$.y,n.x,n.y,J)&&(N=l=J.copy(),c=n.directionPoint(J))),T.e(J)}const F=h.copy().unionRect(f);F.inflate(g.cellWidth*g.Gc,g.cellHeight*g.Gc),g.NT(n,o,l,c,F,!0);let H=g.lo(l.x,l.y);if(!g.by&&H>=Kn.Rd&&(g.rA(),F.inflate(g.cellWidth*g.HM,g.cellHeight*g.qM),g.NT(n,o,l,c,F,!1),H=g.lo(l.x,l.y)),!g.by&&H<Kn.Rd&&!g.DO(l.x,l.y)){e.points.removeRange(2,e.pointsCount-3),this.cC(e,g,l.x,l.y,c,!0);const V=0,$=90,K=180,J=270,Q=e.getPoint(2);if(e.pointsCount<4)o===V||o===K?(Q.x=n.x,Q.y=l.y):(Q.x=l.x,Q.y=n.y),e.setPointAt(2,Q.x,Q.y),e.insertPointAt(3,Q.x,Q.y);else{const ne=e.getPoint(3);if(o===V||o===K)if(I.f(Q.x,ne.x)){const le=o===V?Math.max(Q.x,n.x):Math.min(Q.x,n.x);e.setPointAt(2,le,n.y),e.setPointAt(3,le,ne.y)}else I.f(Q.y,ne.y)?(Math.abs(n.y-Q.y)<=g.cellHeight/2&&(e.setPointAt(2,Q.x,n.y),e.setPointAt(3,ne.x,n.y)),e.insertPointAt(2,Q.x,n.y)):e.setPointAt(2,n.x,Q.y);else if(o===$||o===J)if(I.f(Q.y,ne.y)){const le=o===$?Math.max(Q.y,n.y):Math.min(Q.y,n.y);e.setPointAt(2,n.x,le),e.setPointAt(3,ne.x,le)}else I.f(Q.x,ne.x)?(Math.abs(n.x-Q.x)<=g.cellWidth/2&&(e.setPointAt(2,n.x,Q.y),e.setPointAt(3,n.x,ne.y)),e.insertPointAt(2,n.x,Q.y)):e.setPointAt(2,Q.x,n.y)}if(P!==null){const ne=e.getPoint(1),le=e.getPoint(2);ne.x!==le.x&&ne.y!==le.y?o===V||o===K?e.insertPointAt(2,ne.x,le.y):e.insertPointAt(2,le.x,ne.y):o===V||o===K?e.insertPointAt(2,w.x,P.y):e.insertPointAt(2,P.x,w.y)}N!==null&&(c===V||c===K?e.insertPointAt(e.pointsCount-2,k.x,N.y):e.insertPointAt(e.pointsCount-2,N.x,k.y))}}cC(e,n,o,l,c,h){const f=n.cellWidth,g=n.cellHeight;let v=n.lo(o,l),w=o,k=l,P=w,N=k;for(c===0?P+=f:c===90?N+=g:c===180?P-=f:N-=g,e.yN&&v>Kn.Xa&&n.lo(P,N)!==v-1&&(n.lo(w-f,k)===v-1?(c=180,P=w-f,N=k):n.lo(w+f,k)===v-1?(c=0,P=w+f,N=k):n.lo(w,k-g)===v-1?(c=270,P=w,N=k-g):n.lo(w,k+g)===v-1&&(c=90,P=w,N=k+g));v>Kn.Xa&&n.lo(P,N)===v-1;)w=P,k=N,c===0?P+=f:c===90?N+=g:c===180?P-=f:N-=g,v-=1;if(h?v>Kn.Xa&&(c===180||c===0?w=Math.floor(w/f)*f+f/2:(c===90||c===270)&&(k=Math.floor(k/g)*g+g/2)):(w=Math.floor(w/f)*f+f/2,k=Math.floor(k/g)*g+g/2),v>Kn.Xa){let F=c,H=w,V=k;if(c===0?(F=90,V+=g):c===90?(F=180,H-=f):c===180?(F=270,V-=g):c===270&&(F=0,H+=f),n.lo(H,V)===v-1)this.cC(e,n,H,V,F,!1);else{let $=w,K=k;c===0?(F=270,K-=g):c===90?(F=0,$+=f):c===180?(F=90,K+=g):c===270&&(F=180,$-=f),n.lo($,K)===v-1&&this.cC(e,n,$,K,F,!1)}}e.insertPointAt(e.pointsCount-2,w,k)}}_e.prototype.initializeStandardTools=function(){this.Jt("Action",new Qe,this.mouseDownTools),this.Jt("Relinking",new Ue,this.mouseDownTools),this.Jt("LinkReshaping",new Re,this.mouseDownTools),this.Jt("Rotating",new je,this.mouseDownTools),this.Jt("Resizing",new De,this.mouseDownTools),this.Jt("Linking",new $e,this.mouseMoveTools),this.Jt("Dragging",new Me,this.mouseMoveTools),this.Jt("DragSelecting",new Ht,this.mouseMoveTools),this.Jt("Panning",new un,this.mouseMoveTools),this.Jt("ContextMenu",new Ze,this.mouseUpTools),this.Jt("TextEditing",new Ve,this.mouseUpTools),this.Jt("ClickCreating",new ut,this.mouseUpTools),this.Jt("ClickSelecting",new Ee,this.mouseUpTools)},Te.CM("GraphLinksModel",Ql),Te.CM("TreeModel",pl);const Su=i.go,oc={get version(){return Te.version},Group:Xt,List:m,Set:b,Map:_,Point:T,Size:B,Rect:z,Margin:W,Spot:L,Geometry:te,PathFigure:ce,PathSegment:ae,InputEvent:ue,DiagramEvent:ie,ChangedEvent:pe,Model:Jt,GraphLinksModel:Ci,TreeModel:fa,Binding:Ds,ThemeBinding:gl,Transaction:de,UndoManager:xe,CommandHandler:Bn,Tool:Se,DraggingTool:Me,DraggingInfo:Dn,DraggingOptions:Si,LinkingBaseTool:qe,LinkingTool:$e,RelinkingTool:Ue,LinkReshapingTool:Re,ResizingTool:De,RotatingTool:je,ClickSelectingTool:Ee,ActionTool:Qe,ClickCreatingTool:ut,HTMLInfo:Ct,ContextMenuTool:Ze,DragSelectingTool:Ht,PanningTool:un,TextEditingTool:Ve,ToolManager:_e,Animation:_t,AnimationManager:xt,AnimationTrigger:Tt,Layer:ft,Diagram:Te,Palette:Wi,Overview:qi,Brush:Ae,GraphObject:Wt,Panel:Je,RowColumnDefinition:ei,Shape:zt,TextBlock:rn,Picture:li,Part:Pn,Adornment:gn,Node:Lt,Link:vt,Placeholder:us,Layout:As,LayoutNetwork:Go,LayoutVertex:Nr,LayoutEdge:dl,GridLayout:gu,PanelLayout:Ln,CircularLayout:Fp,CircularNetwork:nc,CircularVertex:Zh,CircularEdge:lr,ForceDirectedLayout:yl,ForceDirectedNetwork:yu,ForceDirectedVertex:xl,ForceDirectedEdge:jp,LayeredDigraphLayout:Sy,LayeredDigraphNetwork:bu,LayeredDigraphVertex:sc,LayeredDigraphEdge:Bp,TreeLayout:Cy,TreeNetwork:rc,TreeVertex:Rr,TreeEdge:Hp,Themes:Qr,ThemeManager:pa,Router:Wp,AnimationStyle:at,AutoScale:mt,CycleMode:Rt,Flip:ar,TextFormat:Xh,ImageStretch:hl,LayoutConditions:cu,LinkAdjusting:Jl,Curve:du,Routing:hu,Orientation:Ar,TextOverflow:Ip,PortSpreading:yi,ScrollMode:an,CollapsePolicy:gt,Sizing:cl,TriggerStart:rt,Stretch:Ms,ViewboxStretch:lu,Wrap:Uh,BrushType:Fs,ColorSpace:ha,GeometryStretch:ee,GeometryType:q,SegmentType:re,BindingMode:Fa,ChangeType:he,CircularArrangement:mu,CircularDirection:wo,CircularNodeDiameterFormula:ml,CircularSorting:ec,GridAlignment:fu,GridArrangement:fl,GridSorting:pu,LayeredDigraphAggressive:vu,LayeredDigraphAlign:zp,LayeredDigraphCycleRemove:ic,LayeredDigraphInit:vl,LayeredDigraphLayering:ja,LayeredDigraphPack:_p,TreeAlignment:ed,TreeArrangement:nd,TreeCompaction:wu,TreeLayerStyle:Vp,TreePath:Jh,TreeSorting:Qh,TreeStyle:td,GestureMode:Ne,LinkingDirection:ze,ReshapingBehavior:Pe,TextEditingAccept:yt,TextEditingStarting:Ut,TextEditingState:nn,WheelMode:be};for(const G in oc){const e=oc[G];t.it(e)&&e!==Xh&&(e.className=G)}t.G(Su)&&Su.version&&t.ni("WARNING: a `go` object on the root object is already defined.  "+("Debug"in Su?"debug ":"")+"version: "+Su.version+", replaced with version: "+oc.version),Te.prototype.go=oc,i.go=oc})();const qK=typeof globalThis<"u"?globalThis.go:self.go,ct=typeof globalThis<"u"?globalThis.go:self.go,KK=ct.Group,ZK=ct.List,JK=ct.Set,QK=ct.Map,bN=ct.Point,wN=ct.Size,eZ=ct.Rect,tZ=ct.Margin,SN=ct.Spot,nZ=ct.Geometry,iZ=ct.PathFigure,sZ=ct.PathSegment,rZ=ct.InputEvent,oZ=ct.DiagramEvent,aZ=ct.ChangedEvent,lZ=ct.Model,zw=ct.GraphLinksModel,cZ=ct.TreeModel,uZ=ct.Binding,hZ=ct.ThemeBinding,dZ=ct.Transaction,fZ=ct.UndoManager,pZ=ct.CommandHandler,gZ=ct.Tool,mZ=ct.DraggingTool,yZ=ct.DraggingInfo,xZ=ct.DraggingOptions,vZ=ct.LinkingBaseTool,bZ=ct.LinkingTool,wZ=ct.RelinkingTool,SZ=ct.LinkReshapingTool,CZ=ct.ResizingTool,kZ=ct.RotatingTool,PZ=ct.ClickSelectingTool,MZ=ct.ActionTool,TZ=ct.ClickCreatingTool,AZ=ct.HTMLInfo,DZ=ct.ContextMenuTool,EZ=ct.DragSelectingTool,NZ=ct.PanningTool,RZ=ct.TextEditingTool,LZ=ct.ToolManager,OZ=ct.Animation,IZ=ct.AnimationManager,FZ=ct.AnimationTrigger,jZ=ct.Layer,ly=ct.Diagram,_Z=ct.Palette,Bw=ct.Overview,zZ=ct.Brush,CN=ct.GraphObject,BZ=ct.Panel,VZ=ct.RowColumnDefinition,kN=ct.Shape,HZ=ct.TextBlock,WZ=ct.Picture,$Z=ct.Part,YZ=ct.Adornment,PN=ct.Node,UZ=ct.Link,XZ=ct.Placeholder,GZ=ct.Layout,qZ=ct.LayoutNetwork,KZ=ct.LayoutVertex,ZZ=ct.LayoutEdge,JZ=ct.GridLayout,QZ=ct.PanelLayout,eJ=ct.CircularLayout,tJ=ct.CircularNetwork,nJ=ct.CircularVertex,iJ=ct.CircularEdge,sJ=ct.ForceDirectedLayout,rJ=ct.ForceDirectedNetwork,oJ=ct.ForceDirectedVertex,aJ=ct.ForceDirectedEdge,lJ=ct.LayeredDigraphLayout,cJ=ct.LayeredDigraphNetwork,uJ=ct.LayeredDigraphVertex,hJ=ct.LayeredDigraphEdge,dJ=ct.TreeLayout,fJ=ct.TreeNetwork,pJ=ct.TreeVertex,gJ=ct.TreeEdge,mJ=ct.Themes,yJ=ct.ThemeManager,xJ=ct.Router,vJ=ct.version,bJ=ct.AnimationStyle,wJ=ct.AutoScale,SJ=ct.Curve,CJ=ct.CycleMode,kJ=ct.Flip,PJ=ct.ImageStretch,MJ=ct.LayoutConditions,TJ=ct.LinkAdjusting,AJ=ct.Orientation,DJ=ct.PortSpreading,EJ=ct.Routing,NJ=ct.ScrollMode,RJ=ct.CollapsePolicy,LJ=ct.Sizing,OJ=ct.TriggerStart,IJ=ct.Stretch,FJ=ct.TextFormat,jJ=ct.TextOverflow,_J=ct.ViewboxStretch,zJ=ct.Wrap,BJ=ct.BrushType,VJ=ct.ColorSpace,HJ=ct.GeometryStretch,WJ=ct.GeometryType,$J=ct.SegmentType,YJ=ct.BindingMode,UJ=ct.ChangeType,XJ=ct.CircularArrangement,GJ=ct.CircularDirection,qJ=ct.CircularNodeDiameterFormula,KJ=ct.CircularSorting,ZJ=ct.GridAlignment,JJ=ct.GridArrangement,QJ=ct.GridSorting,eQ=ct.LayeredDigraphAggressive,tQ=ct.LayeredDigraphAlign,nQ=ct.LayeredDigraphCycleRemove,iQ=ct.LayeredDigraphInit,sQ=ct.LayeredDigraphLayering,rQ=ct.LayeredDigraphPack,oQ=ct.TreeAlignment,aQ=ct.TreeArrangement,lQ=ct.TreeCompaction,cQ=ct.TreeLayerStyle,uQ=ct.TreePath,hQ=ct.TreeSorting,dQ=ct.TreeStyle,fQ=ct.GestureMode,pQ=ct.LinkingDirection,gQ=ct.ReshapingBehavior,mQ=ct.TextEditingAccept,yQ=ct.TextEditingStarting,xQ=ct.TextEditingState,vQ=ct.WheelMode,DT=Object.freeze(Object.defineProperty({__proto__:null,ActionTool:MZ,Adornment:YZ,Animation:OZ,AnimationManager:IZ,AnimationStyle:bJ,AnimationTrigger:FZ,AutoScale:wJ,Binding:uZ,BindingMode:YJ,Brush:zZ,BrushType:BJ,ChangeType:UJ,ChangedEvent:aZ,CircularArrangement:XJ,CircularDirection:GJ,CircularEdge:iJ,CircularLayout:eJ,CircularNetwork:tJ,CircularNodeDiameterFormula:qJ,CircularSorting:KJ,CircularVertex:nJ,ClickCreatingTool:TZ,ClickSelectingTool:PZ,CollapsePolicy:RJ,ColorSpace:VJ,CommandHandler:pZ,ContextMenuTool:DZ,Curve:SJ,CycleMode:CJ,Diagram:ly,DiagramEvent:oZ,DragSelectingTool:EZ,DraggingInfo:yZ,DraggingOptions:xZ,DraggingTool:mZ,Flip:kJ,ForceDirectedEdge:aJ,ForceDirectedLayout:sJ,ForceDirectedNetwork:rJ,ForceDirectedVertex:oJ,Geometry:nZ,GeometryStretch:HJ,GeometryType:WJ,GestureMode:fQ,GraphLinksModel:zw,GraphObject:CN,GridAlignment:ZJ,GridArrangement:JJ,GridLayout:JZ,GridSorting:QJ,Group:KK,HTMLInfo:AZ,ImageStretch:PJ,InputEvent:rZ,Layer:jZ,LayeredDigraphAggressive:eQ,LayeredDigraphAlign:tQ,LayeredDigraphCycleRemove:nQ,LayeredDigraphEdge:hJ,LayeredDigraphInit:iQ,LayeredDigraphLayering:sQ,LayeredDigraphLayout:lJ,LayeredDigraphNetwork:cJ,LayeredDigraphPack:rQ,LayeredDigraphVertex:uJ,Layout:GZ,LayoutConditions:MJ,LayoutEdge:ZZ,LayoutNetwork:qZ,LayoutVertex:KZ,Link:UZ,LinkAdjusting:TJ,LinkReshapingTool:SZ,LinkingBaseTool:vZ,LinkingDirection:pQ,LinkingTool:bZ,List:ZK,Map:QK,Margin:tZ,Model:lZ,Node:PN,Orientation:AJ,Overview:Bw,Palette:_Z,Panel:BZ,PanelLayout:QZ,PanningTool:NZ,Part:$Z,PathFigure:iZ,PathSegment:sZ,Picture:WZ,Placeholder:XZ,Point:bN,PortSpreading:DJ,Rect:eZ,RelinkingTool:wZ,ReshapingBehavior:gQ,ResizingTool:CZ,RotatingTool:kZ,Router:xJ,Routing:EJ,RowColumnDefinition:VZ,ScrollMode:NJ,SegmentType:$J,Set:JK,Shape:kN,Size:wN,Sizing:LJ,Spot:SN,Stretch:IJ,TextBlock:HZ,TextEditingAccept:mQ,TextEditingStarting:yQ,TextEditingState:xQ,TextEditingTool:RZ,TextFormat:FJ,TextOverflow:jJ,ThemeBinding:hZ,ThemeManager:yJ,Themes:mJ,Tool:gZ,ToolManager:LZ,Transaction:dZ,TreeAlignment:oQ,TreeArrangement:aQ,TreeCompaction:lQ,TreeEdge:gJ,TreeLayerStyle:cQ,TreeLayout:dJ,TreeModel:cZ,TreeNetwork:fJ,TreePath:uQ,TreeSorting:hQ,TreeStyle:dQ,TreeVertex:pJ,TriggerStart:OJ,UndoManager:fZ,ViewboxStretch:_J,WheelMode:vQ,Wrap:zJ,default:qK,go:ct,version:vJ},Symbol.toStringTag,{value:"Module"}));/*! Copyright (C) 1998-2025 by Northwoods Software Corporation. All Rights Reserved. */var bQ=function(i){_w(t,i);function t(s){var r=i.call(this,s)||this;return r.wasCleared=!1,r.modelChangedListener=null,r.divRef=X.createRef(),r}return t.prototype.getDiagram=function(){return this.divRef.current===null?null:ly.fromDiv(this.divRef.current)},t.prototype.clear=function(){var s=this.getDiagram();s!==null&&(s.clear(),this.wasCleared=!0)},t.prototype.componentDidMount=function(){var s=this;if(this.divRef.current!==null){var r=this.props.initDiagram();r.div=this.divRef.current,this.modelChangedListener=function(a){if(a.isTransactionFinished&&a.model&&!a.model.isReadOnly&&s.props.onModelChange){var u=a.model.toIncrementalData(a);u!==null&&s.props.onModelChange(u,a)}},r.addModelChangedListener(this.modelChangedListener),r.delayInitialization(function(){s.mergeData(r,!0)})}},t.prototype.componentWillUnmount=function(){var s=this.getDiagram();s!==null&&(s.div=null,this.modelChangedListener!==null&&(s.removeModelChangedListener(this.modelChangedListener),this.modelChangedListener=null))},t.prototype.shouldComponentUpdate=function(s,r){return s.divClassName!==this.props.divClassName||s.style!==this.props.style?!0:!(s.skipsDiagramUpdate||s.nodeDataArray===this.props.nodeDataArray&&s.linkDataArray===this.props.linkDataArray&&s.modelData===this.props.modelData)},t.prototype.componentDidUpdate=function(s,r){var a=this;if(!(s.nodeDataArray===this.props.nodeDataArray&&s.linkDataArray===this.props.linkDataArray&&s.modelData===this.props.modelData)){var u=this.getDiagram();u!==null&&(this.wasCleared?u.delayInitialization(function(){a.mergeData(u,!0),a.wasCleared=!1}):this.mergeData(u,!1))}},t.prototype.mergeData=function(s,r){var a=this,u=s.model;u.commit(function(d){a.props.modelData!==void 0&&d.assignAllDataProperties(d.modelData,a.props.modelData),d.mergeNodeDataArray(a.props.nodeDataArray),a.props.linkDataArray!==void 0&&d instanceof zw&&d.mergeLinkDataArray(a.props.linkDataArray)},r?"initial merge":"merge data")},t.prototype.render=function(){return X.createElement("div",{ref:this.divRef,className:this.props.divClassName,style:this.props.style})},t}(X.Component),wQ=function(i){_w(t,i);function t(s){var r=i.call(this,s)||this;return r.divRef=X.createRef(),r}return t.prototype.getOverview=function(){return this.divRef.current===null?null:ly.fromDiv(this.divRef.current)},t.prototype.componentDidMount=function(){if(this.divRef.current!==null){var s;this.props.initOverview!==void 0?s=this.props.initOverview():(s=new Bw,s.contentAlignment=SN.Center),s.div=this.divRef.current,s.observed=this.props.observedDiagram}},t.prototype.componentWillUnmount=function(){var s=this.getOverview();s!==null&&(s.div=null,s.observed=null)},t.prototype.shouldComponentUpdate=function(s,r){return s.divClassName!==this.props.divClassName||s.style!==this.props.style?!0:s.observedDiagram!==this.props.observedDiagram},t.prototype.componentDidUpdate=function(s,r){if(s.observedDiagram!==this.props.observedDiagram){var a=this.getOverview();a!==null&&(a.observed=this.props.observedDiagram)}},t.prototype.render=function(){return X.createElement("div",{ref:this.divRef,className:this.props.divClassName,style:this.props.style})},t}(X.Component);(function(i){_w(t,i);function t(s){var r=i.call(this,s)||this;return r.wasCleared=!1,r.divRef=X.createRef(),r}return t.prototype.getPalette=function(){return this.divRef.current===null?null:ly.fromDiv(this.divRef.current)},t.prototype.clear=function(){var s=this.getPalette();s!==null&&(s.clear(),this.wasCleared=!0)},t.prototype.componentDidMount=function(){var s=this;if(this.divRef.current!==null){var r=this.props.initPalette();r.div=this.divRef.current,r.delayInitialization(function(){s.mergeData(r,!0)})}},t.prototype.componentWillUnmount=function(){var s=this.getPalette();s!==null&&(s.div=null)},t.prototype.shouldComponentUpdate=function(s,r){return s.divClassName!==this.props.divClassName||s.style!==this.props.style?!0:!(s.nodeDataArray===this.props.nodeDataArray&&s.linkDataArray===this.props.linkDataArray&&s.modelData===this.props.modelData)},t.prototype.componentDidUpdate=function(s,r){var a=this;if(!(s.nodeDataArray===this.props.nodeDataArray&&s.linkDataArray===this.props.linkDataArray&&s.modelData===this.props.modelData)){var u=this.getPalette();u!==null&&(this.wasCleared?u.delayInitialization(function(){a.mergeData(u,!0),a.wasCleared=!1}):this.mergeData(u,!1))}},t.prototype.mergeData=function(s,r){var a=this,u=s.model;u.commit(function(d){a.props.modelData!==void 0&&d.assignAllDataProperties(d.modelData,a.props.modelData),d.mergeNodeDataArray(a.props.nodeDataArray),a.props.linkDataArray!==void 0&&d instanceof zw&&d.mergeLinkDataArray(a.props.linkDataArray)},r?"initial merge":"merge data")},t.prototype.render=function(){return X.createElement("div",{ref:this.divRef,className:this.props.divClassName,style:this.props.style})},t})(X.Component);var Jd={},ET;function SQ(){if(ET)return Jd;ET=1;var i=Ei();Object.defineProperty(Jd,"__esModule",{value:!0}),Jd.default=void 0;var t=i(Bi()),s=Li();return Jd.default=(0,t.default)([(0,s.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"},"0"),(0,s.jsx)("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"},"1")],"ZoomIn"),Jd}var CQ=SQ();const kQ=Qn(CQ);var Qd={},NT;function PQ(){if(NT)return Qd;NT=1;var i=Ei();Object.defineProperty(Qd,"__esModule",{value:!0}),Qd.default=void 0;var t=i(Bi()),s=Li();return Qd.default=(0,t.default)((0,s.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14M7 9h5v1H7z"}),"ZoomOut"),Qd}var MQ=PQ();const TQ=Qn(MQ),AQ=is(D.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),DQ=is(D.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),EQ=is(D.jsx("path",{d:"M17 4h3c1.1 0 2 .9 2 2v2h-2V6h-3zM4 8V6h3V4H4c-1.1 0-2 .9-2 2v2zm16 8v2h-3v2h3c1.1 0 2-.9 2-2v-2zM7 18H4v-2H2v2c0 1.1.9 2 2 2h3zM18 8H6v8h12z"}),"FitScreen"),NQ="data:image/svg+xml,%3csvg%20clip-rule='evenodd'%20fill-rule='evenodd'%20height='512'%20image-rendering='optimizeQuality'%20shape-rendering='geometricPrecision'%20text-rendering='geometricPrecision'%20viewBox='0%200%201707%201707'%20width='512'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Layer_x0020_1'%3e%3cg%20id='_477860872'%3e%3cg%3e%3cpath%20d='m1607%201364c-14%200-25-11-25-25v-796l-732-281-725%20281v797c0%2014-11%2025-25%2025s-25-11-25-25v-814c0-9%205-19%2015-22l750-289c6-3%2013-3%2018%200l757%20289c10%204%2015%2013%2015%2022v814c0%2013-11%2024-23%2024z'/%3e%3c/g%3e%3cg%3e%3cpath%20d='m1303%201364c-14%200-25-11-25-25v-534h-850v535c0%2014-11%2025-25%2025-13%200-25-11-25-25v-560c0-14%2012-25%2025-25h900c14%200%2025%2011%2025%2025v559c-1%2014-12%2025-25%2025z'/%3e%3c/g%3e%3cg%3e%3cpath%20d='m1303%20912h-900c-13%200-25-11-25-25s12-25%2025-25h900c14%200%2025%2011%2025%2025s-12%2025-25%2025z'/%3e%3c/g%3e%3cg%3e%3cpath%20d='m1303%201027h-900c-13%200-25-11-25-25s12-25%2025-25h900c14%200%2025%2011%2025%2025s-12%2025-25%2025z'/%3e%3c/g%3e%3cg%3e%3cpath%20d='m1303%201142h-900c-13%200-25-11-25-25s12-25%2025-25h900c14%200%2025%2011%2025%2025s-12%2025-25%2025z'/%3e%3c/g%3e%3cg%3e%3cpath%20d='m1303%201256h-900c-13%200-25-11-25-25s12-24%2025-24h900c14%200%2025%2011%2025%2025s-12%2024-25%2024z'/%3e%3c/g%3e%3cg%3e%3cpath%20d='m1201%20696h-695c-14%200-25-11-25-25v-151c0-14%2011-25%2025-25h695c13%200%2025%2011%2025%2025v151c-2%2014-13%2025-25%2025zm-671-49h646v-102h-646z'/%3e%3c/g%3e%3cg%3e%3cpath%20d='m677%20619h-38c-14%200-25-11-25-25%200-13%2011-25%2025-25h38c13%200%2025%2012%2025%2025%200%2014-12%2025-25%2025z'/%3e%3c/g%3e%3cg%3e%3cpath%20d='m872%20619h-39c-14%200-25-11-25-25%200-13%2011-25%2025-25h38c14%200%2025%2012%2025%2025%200%2014-11%2025-24%2025z'/%3e%3c/g%3e%3cg%3e%3cpath%20d='m1066%20619h-37c-14%200-25-11-25-25%200-13%2011-25%2025-25h37c14%200%2025%2012%2025%2025%200%2014-11%2025-25%2025z'/%3e%3c/g%3e%3cg%3e%3cpath%20d='m1682%201494h-1657c-14%200-25-11-25-25v-130c0-14%2011-25%2025-25h1657c14%200%2025%2011%2025%2025v130c-2%2014-13%2025-25%2025zm-1633-48h1608v-82h-1608z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",RQ="data:image/svg+xml,%3csvg%20id='Layer_1'%20height='512'%20viewBox='0%200%20520.3%20513.6'%20width='512'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Layer_54'%3e%3cg%3e%3cpath%20d='m520.3%2070.9-.2-51.3c0-.3%200-.6-.1-.9v-.2c-.1-.2-.1-.4-.2-.6s-.1-.3-.1-.4-.1-.3-.2-.5l-.2-.3c0-.1%200-.1-.1-.1l-.3-.5h-.1l-.6-.7h-.2l-.5-.4-.3-.2-.5-.3h-.3l-.8-.3h-273c-2.3%200-4.3%201.3-5.4%203.3l-212.2%20416.2-.2.3c0%20.1%200%20.1-.1.2-.1.2-.1.4-.2.6v.2c-.1.3-.2.5-.2.8v1c.1.2.1.4.1.6v.3c0%20.2.1.3.1.5.1.1.1.2.1.3l.3.5c0%20.1.1.1.1.2s.1.1.1.2l.2.3c.1.1.1.2.2.2l.6.7%2024.9%2024c1.2%201%202.7%201.6%204.2%201.6h259.6c2.3%200%204.3-1.2%205.4-3.2l95.1-185.8v4.9c-.1%2011.3%205.7%2021.9%2015.3%2027.9v165h-356.6c-13%200-23.6%2010.6-23.6%2023.6v8.8c0%203.3%202.7%206%206%206h406.6c3.3%200%206-2.7%206-6v-26.1c0-.1%200-.1.1-.1v-172.8c8-6.3%2012.6-15.9%2012.6-26.1v-134.6l38-74c.4-.9.6-1.8.6-2.8zm-341.8%20359.5%2053.4-104.8h57.2l-53.4%20104.8zm-69.8%200%2053.4-104.8h56.3l-53.4%20104.8zm33.7-200.8h55.1l-42.8%2084h-55.1zm55-108h55.1l-48.9%2096h-55.1zm173.8-96-42.8%2084h-56.3l42.8-84zm70.7%200-42.8%2084h-57.2l42.8-84zm-90.4%20204h48.9l-42.8%2084h-48.9zm-56.3%2084h-57.2l42.8-84h57.2zm111.3-96h-48.9l48.9-96h48.9zm-62.4%200h-57.2l48.9-96h57.2zm-21.8-96-48.9%2096h-56.3l48.9-96zm-111.3%20108h56.3l-42.8%2084h-56.3zm91.6%2096h48.9l-53.3%20104.8h-49zm159-216h-49l42.8-84h48.9zm-215.3-84h55.1l-42.8%2084h-55.1zm-152.8%20300h55.1l-53.4%20104.8h-55.1zm349.1-10.6h8.8l1.1-.2h.9l2-.3.6-.2%201.1-.2v161.1h-14.5zm-380.2%20186.6v-2.8c0-6.4%205.2-11.6%2011.6-11.6h383v14.4zm407.3-219.3c0%207.3-3.7%2014-9.9%2017.9-3.4%202.2-7.3%203.3-11.3%203.3h-1.2c-2.8-.1-5.5-.8-8-2.1-7.4-3.4-12.1-10.9-12-19v-28.5l10-19.5%2032.4-63.3zm.7-138.8-33.5%2065.5-125.8%20245.4h-253.4l-12.5-12h256.6c2.3%200%204.3-1.2%205.4-3.2l201-394.8v25.1z'/%3e%3cpath%20d='m90.7%20148.2c29.2%200%2052.8-23.6%2052.8-52.8s-23.6-52.8-52.8-52.8-52.8%2023.6-52.8%2052.8c.1%2029.1%2023.7%2052.7%2052.8%2052.8zm0-93.6c22.5%200%2040.8%2018.3%2040.8%2040.8s-18.3%2040.8-40.8%2040.8-40.8-18.3-40.8-40.8%2018.3-40.8%2040.8-40.8z'/%3e%3cpath%20d='m159%2084.7h22.3v12h-22.3z'/%3e%3cpath%20d='m0%2084.7h22.3v12h-22.3z'/%3e%3cpath%20d='m84.1.1h12v22.3h-12z'%20transform='matrix(1%20-.007%20.007%201%20-.076%20.629)'/%3e%3cpath%20d='m85.2%20159.1h12v22.3h-12z'%20transform='matrix(1%20-.007%20.007%201%20-1.186%20.641)'/%3e%3cpath%20d='m135.7%2028.6h22.3v12h-22.3z'%20transform='matrix(.707%20-.707%20.707%20.707%2018.572%20113.949)'/%3e%3cpath%20d='m23.3%20140.9h22.3v12h-22.3z'%20transform='matrix(.707%20-.707%20.707%20.707%20-93.799%2067.379)'/%3e%3cpath%20d='m28.1%2023.9h12v22.3h-12z'%20transform='matrix(.702%20-.712%20.712%20.702%20-14.805%2034.699)'/%3e%3cpath%20d='m141.3%20135.5h12v22.3h-12z'%20transform='matrix(.702%20-.712%20.712%20.702%20-60.55%20148.577)'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",LQ="/assets/roadlamp1-CgBiI6Fi.png",OQ="/assets/pump-BfCJotqe.svg",IQ="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20id='Layer_1'%20data-name='Layer%201'%20viewBox='0%200%2064%2064'%20width='512'%20height='512'%3e%3cpath%20d='M1,56H12v3a1,1,0,0,0,1,1h3v3a1,1,0,0,0,1,1h8a1,1,0,0,0,1-1V60H38v3a1,1,0,0,0,1,1h8a1,1,0,0,0,1-1V60h3a1,1,0,0,0,1-1V56H63a1,1,0,0,0,1-1V50a1,1,0,0,0-1-1H58V47h3a1,1,0,0,0,1-1V26a1,1,0,0,0-1-1H58V23h5a1,1,0,0,0,1-1V17a1,1,0,0,0-1-1H49V13h1a1,1,0,0,0,0-2H49V9h1a1,1,0,0,0,0-2H49V5h1a1,1,0,0,0,0-2H49a3,3,0,0,0-6,0H42a1,1,0,0,0,0,2h1V7H42a1,1,0,0,0,0,2h1v2H42a1,1,0,0,0,0,2h1v3H35V13h1a1,1,0,0,0,0-2H35V9h1a1,1,0,0,0,0-2H35V5h1a1,1,0,0,0,0-2H35a3,3,0,0,0-6,0H28a1,1,0,0,0,0,2h1V7H28a1,1,0,0,0,0,2h1v2H28a1,1,0,0,0,0,2h1v3H21V13h1a1,1,0,0,0,0-2H21V9h1a1,1,0,0,0,0-2H21V5h1a1,1,0,0,0,0-2H21a3,3,0,0,0-6,0H14a1,1,0,0,0,0,2h1V7H14a1,1,0,0,0,0,2h1v2H14a1,1,0,0,0,0,2h1v3H1a1,1,0,0,0-1,1v5a1,1,0,0,0,1,1H6v2H3a1,1,0,0,0-1,1V46a1,1,0,0,0,1,1H6v2H1a1,1,0,0,0-1,1v5A1,1,0,0,0,1,56Zm23,6H18V60h6Zm22,0H40V60h6Zm4-4H14V56H50Zm6-32V48H52V24h4Zm4,1V45H58V27ZM50,49H47V23h3ZM19,24h2V48H19Zm4-1H41V49H23ZM45,48H43V24h2ZM46,2a1,1,0,0,1,1,1H45A1,1,0,0,1,46,2ZM45,5h2V7H45Zm0,4h2v2H45Zm0,4h2v3H45ZM32,2a1,1,0,0,1,1,1H31A1,1,0,0,1,32,2ZM31,5h2V7H31Zm0,4h2v2H31Zm0,4h2v3H31ZM18,2a1,1,0,0,1,1,1H17A1,1,0,0,1,18,2ZM17,5h2V7H17Zm0,4h2v2H17Zm0,4h2v3H17ZM2,21V18H62v3ZM8,46V24h4V48H8ZM4,45V27H6V45ZM14,23h3V49H14ZM2,51H62v3H2Z'/%3e%3cpath%20d='M38,32H34.618L37.9,25.447A1,1,0,0,0,37,24H32a1,1,0,0,0-.895.553l-6,12A1,1,0,0,0,26,38H29.9l-.89,8.9a1,1,0,0,0,1.863.6l8-14A1,1,0,0,0,38,32ZM31.462,42.425,32,37.1A1,1,0,0,0,31,36H27.618l5-10h2.764L32.1,32.553A1,1,0,0,0,33,34h3.277Z'/%3e%3c/svg%3e",FQ="/assets/oiltank-BqUSaSzZ.svg",jQ="/assets/network1-lcCiY15Q.png",_Q="/assets/manufacturing-BO75pGIV.svg",zQ="/assets/light-CiloHLRk.svg",BQ="data:image/svg+xml,%3csvg%20id='Capa_1'%20enable-background='new%200%200%20512%20512'%20height='512'%20viewBox='0%200%20512%20512'%20width='512'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%3e%3cpath%20d='m496.299%20249.155c1.706%201.184%203.7%201.784%205.702%201.784%205.508%200%209.999-4.47%209.999-10v-60.245c0-3.278-1.606-6.347-4.299-8.216l-55.946-38.82v-103.576c0-5.523-4.478-10-10-10h-60.245c-5.523%200-10%204.477-10%2010v47.897l-109.809-76.195c-3.428-2.379-7.974-2.379-11.401%200l-246%20170.694c-2.694%201.869-4.3%204.938-4.3%208.216v60.245c0%203.721%202.066%207.135%205.364%208.86%203.296%201.724%207.279%201.477%2010.337-.645l24.462-16.974v259.82h-30.163c-5.523%200-10%204.477-10%2010s4.477%2010%2010%2010h492c5.522%200%2010-4.477%2010-10s-4.478-10-10-10h-30.163v-259.819zm-104.789-209.073h40.245v79.699l-40.245-27.925zm-371.51%20145.845%20236-163.756c26.367%2018.295%20199.344%20138.32%20236%20163.755v35.902c-13.201-9.16-221.503-153.696-230.299-159.799-3.428-2.379-7.974-2.379-11.401%200-8.918%206.188-216.322%20150.101-230.3%20159.8zm100.408%20306.073v-192h100.49v192zm331.429%200h-210.939v-202c0-5.523-4.477-10-10-10h-120.49c-5.523%200-10%204.477-10%2010v202h-40.245v-273.697l195.837-135.886%20195.837%20135.887z'/%3e%3cpath%20d='m281.143%20289.632v90.368c0%205.523%204.477%2010%2010%2010h110.449c5.523%200%2010-4.477%2010-10v-90.368c0-5.523-4.477-10-10-10h-110.449c-5.523%200-10%204.477-10%2010zm20%2055.184h35.224v25.184h-35.224zm55.224%2025.184v-25.184h35.225v25.184zm35.225-45.184h-35.225v-25.184h35.225zm-55.225-25.184v25.184h-35.224v-25.184z'/%3e%3cpath%20d='m210.857%20185.714c0%2024.892%2020.251%2045.143%2045.143%2045.143s45.143-20.251%2045.143-45.143-20.251-45.143-45.143-45.143-45.143%2020.251-45.143%2045.143zm70.286%200c0%2013.864-11.279%2025.143-25.143%2025.143s-25.143-11.279-25.143-25.143%2011.279-25.143%2025.143-25.143%2025.143%2011.28%2025.143%2025.143z'/%3e%3c/g%3e%3c/svg%3e",VQ="/assets/factory-CTvW7Nsk.svg",HQ="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2064%2064'%20width='512'%20height='512'%3e%3cg%20id='Electric_Pole'%20data-name='Electric%20Pole'%3e%3cpath%20d='M33,34H31a1,1,0,0,0,0,2h2a1,1,0,0,0,0-2Z'/%3e%3cpath%20d='M17,34H15a1,1,0,0,0,0,2h2a1,1,0,0,0,0-2Z'/%3e%3cpath%20d='M49,34H47a1,1,0,0,0,0,2h2a1,1,0,0,0,0-2Z'/%3e%3cpath%20d='M62.8584,27.01025A18.88749,18.88749,0,0,1,51.51318,25.1416,1.886,1.886,0,0,0,51,25H49V24a1,1,0,0,0-2,0v1H45a1,1,0,0,0-1,1v4H37V25.44519L46.38354,17H55a1,1,0,0,0,1-1V8a1,1,0,0,0-1-1H52V4.59521a21.08654,21.08654,0,0,0,8.11328,1.61036,21.40888,21.40888,0,0,0,3.02832-.21582.99983.99983,0,1,0-.2832-1.9795A18.88328,18.88328,0,0,1,51.51318,2.1416,1.90059,1.90059,0,0,0,51,2H49V1a1,1,0,0,0-2,0V2H45a1,1,0,0,0-1,1V7H37V4a1,1,0,0,0-1-1H28a1,1,0,0,0-1,1V7H20V3a1,1,0,0,0-1-1H17V1a1,1,0,0,0-2,0V2H13a2.02718,2.02718,0,0,0-.51465.14258A18.76093,18.76093,0,0,1,1.1416,4.01025a.99983.99983,0,0,0-.2832,1.9795,21.338,21.338,0,0,0,3.02832.21582A21.08746,21.08746,0,0,0,12,4.59515V7H9A1,1,0,0,0,8,8v8a1,1,0,0,0,1,1h8.61646L27,25.44519V30H20V26a1,1,0,0,0-1-1H17V24a1,1,0,0,0-2,0v1H13a1.98625,1.98625,0,0,0-.51465.14258A18.75259,18.75259,0,0,1,1.1416,27.01025a.99983.99983,0,0,0-.2832,1.9795,21.338,21.338,0,0,0,3.02832.21582A21.08746,21.08746,0,0,0,12,27.59515V30H9a1,1,0,0,0-1,1v8a1,1,0,0,0,1,1h8.61646L27,48.44519V53H25a1,1,0,0,0,0,2h1v7H25a1,1,0,0,0,0,2H39a1,1,0,0,0,0-2H38V55h1a1,1,0,0,0,0-2H37V48.44519L46.38354,40H55a1,1,0,0,0,1-1V31a1,1,0,0,0-1-1H52V27.59521a21.08654,21.08654,0,0,0,8.11328,1.61036,21.40888,21.40888,0,0,0,3.02832-.21582.99983.99983,0,0,0-.2832-1.9795ZM37,22.75476V17h6.39423ZM46,4h4V7H46ZM29,5h6V7H29ZM14,4h4V7H14ZM10,9H54v6H10Zm10.60577,8H27v5.75476ZM29,17h6V30H29ZM14,27h4v3H14Zm6.60577,13H27v5.75476ZM36,62H28V55h8Zm-7-9V40h6V53Zm8-7.24524V40h6.39423ZM54,38H10V32H54Zm-8-8V27h4v3Z'/%3e%3cpath%20d='M31,13h2a1,1,0,0,0,0-2H31a1,1,0,0,0,0,2Z'/%3e%3cpath%20d='M17,11H15a1,1,0,0,0,0,2h2a1,1,0,0,0,0-2Z'/%3e%3cpath%20d='M47,13h2a1,1,0,0,0,0-2H47a1,1,0,0,0,0,2Z'/%3e%3c/g%3e%3c/svg%3e",WQ="/assets/electricmotor-WrpRLxu-.svg",$Q="data:image/svg+xml,%3csvg%20height='512'%20viewBox='0%200%2064%2064'%20width='512'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='outline'%3e%3cpath%20d='m59%2014h-7v-2h1a1%201%200%200%200%201-1v-1h1a3%203%200%200%200%203-3v-5h-2v5a1%201%200%200%201%20-1%201h-1v-1a1%201%200%200%200%20-1-1h-18a1%201%200%200%200%20-1%201v4a1%201%200%200%200%201%201h1v2h-31a3%203%200%200%200%20-3%203v40a1%201%200%200%200%201%201h4v3a1%201%200%200%200%201%201h10a1%201%200%200%200%201-1v-3h26v3a1%201%200%200%200%201%201h10a1%201%200%200%200%201-1v-3h4a1%201%200%200%200%201-1v-40a3%203%200%200%200%20-3-3zm-23-6h16v2h-16zm14%204v2h-2v-2zm-4%200v2h-4v-2zm-6%200v2h-2v-2zm-23%2048h-8v-2h8zm38%200h-8v-2h8zm5-4h-56v-4h56zm-49-11h-2v-2h2zm0-20h-2v-2h2zm2%2025v-30h14v30zm16%200v-30h4v30zm6%200v-30h18v30zm25%200h-5v-31a1%201%200%200%200%20-1-1h-42a1%201%200%200%200%20-1%201v2h-3a1%201%200%200%200%20-1%201v4a1%201%200%200%200%201%201h3v14h-3a1%201%200%200%200%20-1%201v4a1%201%200%200%200%201%201h3v3h-7v-33a1%201%200%200%201%201-1h54a1%201%200%200%201%201%201z'/%3e%3cpath%20d='m24%2022h-8a1%201%200%200%200%20-1%201v8a1%201%200%200%200%201%201h8a1%201%200%200%200%201-1v-8a1%201%200%200%200%20-1-1zm-1%208h-6v-6h6z'/%3e%3cpath%20d='m43.789%2037.614%207-9a1%201%200%200%200%20-.789-1.614h-3.233l2.09-3.485a1%201%200%200%200%20-.857-1.515h-5a1%201%200%200%200%20-.874.514l-5%209a1%201%200%200%200%20.874%201.486h4v4a1%201%200%200%200%20.676.946%201.01%201.01%200%200%200%20.324.054%201%201%200%200%200%20.789-.386zm-4.089-6.614%203.89-7h2.644l-2.09%203.485a1%201%200%200%200%20.856%201.515h2.955l-3.955%205.085v-2.085a1%201%200%200%200%20-1-1z'/%3e%3cpath%20d='m15%2034h10v2h-10z'/%3e%3cpath%20d='m15%2038h4v2h-4z'/%3e%3cpath%20d='m21%2038h4v2h-4z'/%3e%3cpath%20d='m49%2046h-2v2h3a1%201%200%200%200%201-1v-6h-2z'/%3e%3cpath%20d='m43%2046h2v2h-2z'/%3e%3cpath%20d='m39%2046h2v2h-2z'/%3e%3c/g%3e%3c/svg%3e",YQ="data:image/svg+xml,%3csvg%20height='512'%20viewBox='0%200%20512%20512'%20width='512'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%3e%3cpath%20d='m496%20464h-8v-264a8%208%200%200%200%20-8-8h-88v-176a8%208%200%200%200%20-8-8h-256a8%208%200%200%200%20-8%208v96h-88a8%208%200%200%200%20-8%208v344h-8a8%208%200%200%200%20-8%208v24a8%208%200%200%200%208%208h480a8%208%200%200%200%208-8v-24a8%208%200%200%200%20-8-8zm-104-256h80v256h-80zm-256-184h240v440h-56v-120a8%208%200%200%200%20-8-8h-112a8%208%200%200%200%20-8%208v120h-56zm168%20328v112h-40v-112zm-56%200v112h-40v-112zm-208-224h80v336h-80zm448%20360h-464v-8h464z'/%3e%3cpath%20d='m104%20136h-48a8%208%200%200%200%20-8%208v48a8%208%200%200%200%208%208h48a8%208%200%200%200%208-8v-48a8%208%200%200%200%20-8-8zm-8%2048h-32v-32h32z'/%3e%3cpath%20d='m104%20216h-48a8%208%200%200%200%20-8%208v48a8%208%200%200%200%208%208h48a8%208%200%200%200%208-8v-48a8%208%200%200%200%20-8-8zm-8%2048h-32v-32h32z'/%3e%3cpath%20d='m104%20296h-48a8%208%200%200%200%20-8%208v48a8%208%200%200%200%208%208h48a8%208%200%200%200%208-8v-48a8%208%200%200%200%20-8-8zm-8%2048h-32v-32h32z'/%3e%3cpath%20d='m408%20280h48a8%208%200%200%200%208-8v-48a8%208%200%200%200%20-8-8h-48a8%208%200%200%200%20-8%208v48a8%208%200%200%200%208%208zm8-48h32v32h-32z'/%3e%3cpath%20d='m408%20360h48a8%208%200%200%200%208-8v-48a8%208%200%200%200%20-8-8h-48a8%208%200%200%200%20-8%208v48a8%208%200%200%200%208%208zm8-48h32v32h-32z'/%3e%3cpath%20d='m160%20312h192a8%208%200%200%200%208-8v-64a8%208%200%200%200%20-8-8h-192a8%208%200%200%200%20-8%208v64a8%208%200%200%200%208%208zm88-16h-32v-48h32zm16-48h32v48h-32zm80%2048h-32v-48h32zm-176-48h32v48h-32z'/%3e%3cpath%20d='m160%20216h192a8%208%200%200%200%208-8v-64a8%208%200%200%200%20-8-8h-192a8%208%200%200%200%20-8%208v64a8%208%200%200%200%208%208zm88-16h-32v-48h32zm16-48h32v48h-32zm80%2048h-32v-48h32zm-176-48h32v48h-32z'/%3e%3cpath%20d='m160%20120h192a8%208%200%200%200%208-8v-64a8%208%200%200%200%20-8-8h-192a8%208%200%200%200%20-8%208v64a8%208%200%200%200%208%208zm88-16h-32v-48h32zm16-48h32v48h-32zm80%2048h-32v-48h32zm-176-48h32v48h-32z'/%3e%3c/g%3e%3c/svg%3e",UQ="data:image/svg+xml,%3csvg%20id='Layer_1'%20height='512'%20viewBox='0%200%2064%2064'%20width='512'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m43.079%2029.552-11.535-4.804.961-12.492c.033-.423-.206-.821-.594-.992-.39-.17-.843-.078-1.133.231l-15.253%2016.263c-.224.239-.317.573-.248.894.069.32.291.587.593.713l11.535%204.804-.961%2012.492c-.033.423.206.821.594.992.457.184.939-.025%201.133-.231l15.254-16.262c.224-.239.317-.573.248-.894-.069-.32-.291-.587-.593-.713zm-14.423%2014.428.799-10.379c.033-.431-.214-.834-.613-1l-10.871-4.527%2012.322-13.137-.799%2010.379c-.033.431.214.834.613%201l10.871%204.527z'/%3e%3cpath%20d='m58.966%2056.41h-7.136v-2.065h7.136c.82%200%201.583-.32%202.13-.882.583-.566.903-1.33.903-2.15%200-1.672-1.361-3.033-3.034-3.033h-7.136s7.119-8.279%207.119-18.82c.001-16.245-13.221-29.46-29.473-29.46s-29.475%2013.215-29.475%2029.459%2013.222%2029.459%2029.475%2029.459h6.208c.479%202.878%202.981%205.082%205.995%205.082h9.153c.552%200%201-.448%201-1v-.524h7.136c.82%200%201.583-.32%202.131-.883.582-.566.903-1.33.903-2.15%200-1.672-1.361-3.033-3.034-3.033zm0-6.131c.57%200%201.034.463%201.034%201.033%200%20.275-.105.53-.316.735-.187.192-.441.297-.717.297h-7.136v-2.065h7.136zm-56.966-20.82c0-15.141%2012.325-27.459%2027.475-27.459s27.475%2012.318%2027.475%2027.459c0%206.388-2.228%2012.201-6.594%2017.295h-8.677c-3.014%200-5.516%202.204-5.995%205.082h-6.208c-12.346%200-22.39-10.038-22.39-22.377s10.043-22.377%2022.389-22.377%2022.39%2010.038%2022.39%2022.377c0%204.064-1.203%208.096-3.478%2011.659-.297.465-.161%201.083.305%201.381s1.084.161%201.381-.305c2.481-3.884%203.792-8.288%203.792-12.735%200-13.441-10.941-24.377-24.39-24.377s-24.39%2010.936-24.39%2024.377%2010.941%2024.377%2024.39%2024.377h6.119v3.082h-6.119c-15.15%200-27.475-12.318-27.475-27.459zm47.831%2032.541h-8.153c-2.252%200-4.084-1.831-4.084-4.082v-5.082c0-2.251%201.833-4.082%204.084-4.082h8.153zm9.853-1.822c-.187.192-.441.297-.717.297h-7.136v-2.066h7.136c.57%200%201.034.463%201.034%201.033%200%20.276-.105.53-.316.736z'/%3e%3cpath%20d='m45%2052c-.552%200-1%20.448-1%201v5c0%20.552.448%201%201%201s1-.448%201-1v-5c0-.552-.448-1-1-1z'/%3e%3ccircle%20cx='47'%20cy='44.448'%20r='1'/%3e%3c/svg%3e",XQ="data:image/svg+xml,%3c?xml%20version='1.0'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='512'%20height='512'%20viewBox='0%200%20128%20128'%3e%3cg%3e%3cpath%20d='M121.25,102.5H119.5v-61h1.75a6.75,6.75,0,0,0,0-13.5h-2.7v-6.25A1.749,1.749,0,0,0,116.8,20h-4.613v-6.25a1.749,1.749,0,0,0-1.75-1.75H98.812a1.75,1.75,0,0,0-1.75,1.75V20H92.45a1.749,1.749,0,0,0-1.75,1.75V28H37.3v-6.25A1.749,1.749,0,0,0,35.55,20H30.937v-6.25A1.749,1.749,0,0,0,29.187,12H17.562a1.75,1.75,0,0,0-1.75,1.75V20H11.2a1.749,1.749,0,0,0-1.75,1.75V28H6.75a6.75,6.75,0,0,0,0,13.5H8.5v61H6.75a6.75,6.75,0,0,0,0,13.5h114.5a6.75,6.75,0,0,0,0-13.5Zm-20.688-87h8.125V20h-8.125Zm-6.362,8h20.85V28H94.2Zm-74.888-8h8.125V20H19.312Zm-6.362,8H33.8V28H12.95ZM3.5,34.752A3.254,3.254,0,0,1,6.75,31.5h114.5a3.25,3.25,0,0,1,0,6.5H6.75A3.254,3.254,0,0,1,3.5,34.752ZM12,41.5H116v61H12Zm109.25,71H6.75a3.25,3.25,0,0,1,0-6.5h114.5a3.25,3.25,0,0,1,0,6.5Z'/%3e%3cpath%20d='M75,66.337H65.8l.052-16.6a1.75,1.75,0,0,0-3.362-.688l-11.1,26.185A1.75,1.75,0,0,0,53,77.669h9.2l-.052,16.6a1.75,1.75,0,0,0,3.362.688l11.1-26.185A1.75,1.75,0,0,0,75,66.337ZM65.678,85.6l.03-9.671a1.751,1.751,0,0,0-1.75-1.756H55.643L62.322,58.41l-.03,9.671a1.751,1.751,0,0,0,1.75,1.756h8.315Z'/%3e%3cpath%20d='M31.2,53.478H27.477V49.761a1.75,1.75,0,0,0-3.5,0v3.717H20.258a1.75,1.75,0,0,0,0,3.5h3.719V60.7a1.75,1.75,0,0,0,3.5,0V56.978H31.2a1.75,1.75,0,0,0,0-3.5Z'/%3e%3cpath%20d='M107.742,53.478H96.805a1.75,1.75,0,0,0,0,3.5h10.937a1.75,1.75,0,0,0,0-3.5Z'/%3e%3c/g%3e%3c/svg%3e",GQ="/assets/air1-BE8aAXO1.png",qQ="/assets/meter-DE6A4KGG.jpeg",Za={nodeDefinitions:{meters:[{id:"METER",shape:"Rectangle",minWidth:150,minHeight:180,maxWidth:350,maxHeight:370,category:"MeterNode",text:"Meter",img:qQ}],shapes:[{id:"1",shape:"Rectangle",minWidth:150,minHeight:180,maxWidth:350,maxHeight:1200,category:"Shape1",text:"Warehouse",img:NQ},{id:"2",shape:"Rectangle",minWidth:150,minHeight:180,maxWidth:350,maxHeight:1200,category:"Shape2",text:"Solar-Cell",img:RQ},{id:"3",shape:"Rectangle",minWidth:150,minHeight:180,maxWidth:350,maxHeight:1200,category:"Shape3",text:"Road-Lamp",img:LQ},{id:"4",shape:"Rectangle",minWidth:150,minHeight:180,maxWidth:350,maxHeight:1200,category:"Shape4",text:"Pump",img:OQ},{id:"5",shape:"Rectangle",minWidth:150,minHeight:180,maxWidth:350,maxHeight:1200,category:"Shape5",text:"Power-Transformer",img:IQ},{id:"6",shape:"Rectangle",minWidth:150,minHeight:180,maxWidth:350,maxHeight:1200,category:"Shape6",text:"Oil-Tank",img:FQ},{id:"7",shape:"Rectangle",minWidth:150,minHeight:180,maxWidth:350,maxHeight:1200,category:"Shape7",text:"Network",img:jQ},{id:"8",shape:"Rectangle",minWidth:150,minHeight:180,maxWidth:350,maxHeight:1200,category:"Shape8",text:"Manufacturing",img:_Q},{id:"9",shape:"Rectangle",minWidth:150,minHeight:180,maxWidth:350,maxHeight:1200,category:"Shape9",text:"Light",img:zQ},{id:"10",shape:"Rectangle",minWidth:150,minHeight:180,maxWidth:350,maxHeight:1200,category:"Shape10",text:"Home",img:BQ},{id:"11",shape:"Rectangle",minWidth:150,minHeight:180,maxWidth:350,maxHeight:1200,category:"Shape11",text:"Factory",img:VQ},{id:"12",shape:"Rectangle",minWidth:150,minHeight:180,maxWidth:350,maxHeight:1200,category:"Shape12",text:"Electric-Pole",img:HQ},{id:"13",shape:"Rectangle",minWidth:150,minHeight:180,maxWidth:350,maxHeight:1200,category:"Shape13",text:"Electric-Motor",img:WQ},{id:"14",shape:"Rectangle",minWidth:150,minHeight:180,maxWidth:350,maxHeight:1200,category:"Shape14",text:"Electric-Generator",img:$Q},{id:"15",shape:"Rectangle",minWidth:150,minHeight:180,maxWidth:350,maxHeight:1200,category:"Shape15",text:"Company",img:YQ},{id:"16",shape:"Rectangle",minWidth:150,minHeight:180,maxWidth:350,maxHeight:1200,category:"Shape16",text:"Charge",img:UQ},{id:"17",shape:"Rectangle",minWidth:150,minHeight:180,maxWidth:350,maxHeight:1200,category:"Shape17",text:"Car-Battery",img:XQ},{id:"18",shape:"Rectangle",minWidth:150,minHeight:180,maxWidth:350,maxHeight:1200,category:"Shape18",text:"Air",img:GQ}]}};function RT(i,t){const s=t.diagram;function r(u){const d=u.part;return d===t||d instanceof go.Link||d.isMemberOf(t)||t.isMemberOf(d)?null:d}const a=s.layers;for(;a.next();){const u=a.value;if(!u.isTemporary&&u.findObjectsIn(i,r,null,!0).count>0)return!1}return!0}function MN(i,t,s){if(i.diagram instanceof go.Palette)return s;const r=i.actualBounds,a=i.location,u=new go.Rect(s.x-(a.x-r.x),s.y-(a.y-r.y),r.width,r.height);if(u.inflate(-.5,-.5),!(i.diagram.currentTool instanceof go.DraggingTool)&&(!i._temp||!i.layer.isTemporary)){for(i._temp=!0;!RT(u,i);)u.x+=10,u.y+=2;return u.inflate(.5,.5),new go.Point(u.x-(a.x-r.x),u.y-(a.y-r.y))}return RT(u,i)?s:a}function im(i,t,s,r,a){return i(t.Shape,"Circle",{fill:"transparent",stroke:a?"darkgray":"transparent",strokeWidth:1,desiredSize:new t.Size(8,8),alignment:r,alignmentFocus:r,portId:s,fromSpot:r,toSpot:r,fromLinkable:a,toLinkable:a,cursor:a?"pointer":"default",mouseEnter:(u,d)=>{a&&d.part.diagram&&!d.part.diagram.isReadOnly&&(d.stroke="dodgerblue")},mouseLeave:(u,d)=>{a&&(d.stroke="darkgray")}})}function TN(i,t,s){return[im(i,t,"T",t.Spot.Top,s),im(i,t,"B",t.Spot.Bottom,s),im(i,t,"L",t.Spot.Left,s),im(i,t,"R",t.Spot.Right,s)]}function KQ(i,t,s,r,a){const u=Za.nodeDefinitions.meters[0],d=new t.Size(u.minWidth,u.minHeight),p=new t.Size(u.maxWidth,u.maxHeight),m=i(t.Node,"Auto",{movable:a,selectionAdorned:!1,resizable:!1,dragComputation:MN,selectable:!0,cursor:a?"move":"default",minSize:d,maxSize:p,doubleClick:null,mouseEnter:(y,b)=>{s&&s(b.data,y.viewPoint)},mouseLeave:(y,b,S)=>{if(r){const M=S?.documentPoint;let A=S&&S.part===b,R=!1;if(b.diagram&&M&&S)try{R=b.containsPoint(M)}catch{}!A&&!R&&r()}},background:"transparent"},new t.Binding("location","loc",t.Point.parse).makeTwoWay(t.Point.stringify),new t.Binding("desiredSize","size",t.Size.parse).makeTwoWay(t.Size.stringify),i(t.Shape,"RoundedRectangle",{name:"METER_SHAPE",isPanelMain:!0,fill:"#f2f2f2",stroke:null,strokeWidth:1,fromLinkable:!1,toLinkable:!1,cursor:a?"move":"default"}),i(t.Picture,{source:u.img,stretch:t.GraphObject.Fill}),i(t.Panel,"Vertical",{alignment:t.Spot.Center,stretch:t.GraphObject.Fill,margin:new t.Margin(30,0,0,0)},i(t.TextBlock,{font:"bold 10pt sans-serif",stroke:"red",textAlign:"center",wrap:t.Wrap.Fit,editable:!1,maxLines:2,alignment:t.Spot.Center},new t.Binding("text","text")),i(t.TextBlock,{font:"9pt sans-serif",stroke:"red",textAlign:"center",wrap:t.Wrap.Fit,editable:!1,alignment:t.Spot.Center,margin:new t.Margin(2,0,8,0)},new t.Binding("text","meterId",y=>{if(y&&typeof y=="string"){const b=y.split("_");return`MeterID : ${b.length>1?b[b.length-1].toUpperCase():y}`}return""})),i(t.Panel,"Vertical",{alignment:t.Spot.Center,defaultAlignment:t.Spot.Center,defaultStretch:t.GraphObject.Horizontal},i(t.Panel,"Horizontal",{alignment:t.Spot.Center,defaultAlignment:t.Spot.Center,margin:new t.Margin(2,0,2,0)},i(t.TextBlock,{font:"bold 9pt sans-serif",stroke:"red",editable:!1,width:80,textAlign:"right"},new t.Binding("text","Wh_Recvd",y=>y==null?"0.00":parseFloat(y).toFixed(2))),i(t.TextBlock,{font:"bold 9pt sans-serif",stroke:"red",editable:!1,text:"_KWh",textAlign:"left"})),i(t.Panel,"Horizontal",{alignment:t.Spot.Center,defaultAlignment:t.Spot.Center,margin:new t.Margin(2,0,2,0)},i(t.TextBlock,{font:"bold 9pt sans-serif",stroke:"red",editable:!1,width:80,textAlign:"right"},new t.Binding("text","VLL_average",y=>y==null?"0.0":parseFloat(y).toFixed(1))),i(t.TextBlock,{font:"bold 9pt sans-serif",stroke:"red",editable:!1,width:30,text:"_V",textAlign:"left"})),i(t.Panel,"Horizontal",{alignment:t.Spot.Center,defaultAlignment:t.Spot.Center,margin:new t.Margin(2,0,2,0)},i(t.TextBlock,{font:"bold 9pt sans-serif",stroke:"red",editable:!1,width:80,textAlign:"right"},new t.Binding("text","Avg_Current",y=>y==null?"0.0":parseFloat(y).toFixed(1))),i(t.TextBlock,{font:"bold 9pt sans-serif",stroke:"red",editable:!1,width:30,text:"_A",textAlign:"left"}))),i(t.TextBlock,{font:"5pt sans-serif",stroke:"red",editable:!1,alignment:t.Spot.Center,textAlign:"center"},new t.Binding("text","time",y=>new Date(y).toLocaleString()))),i(t.Panel,"Spot",{alignment:t.Spot.BottomCenter,stretch:t.GraphObject.Horizontal,margin:new t.Margin(0,5,2,5)},i(t.Shape,"RoundedRectangle",{name:"HEAT_BG",stretch:t.GraphObject.Fill,height:20,fill:"whitesmoke",stroke:"lightgray",strokeWidth:.5}),i(t.Shape,"RoundedRectangle",{name:"HEAT_BAR",height:20,fill:"#f54e4e",stroke:null,alignment:t.Spot.Left,alignmentFocus:t.Spot.Left},new t.Binding("width","currentPercentage",(y,b)=>{const S=b.part.findObject("HEAT_BG");if(!S)return 0;const M=S.actualBounds.width;return Math.min(Math.max(y||0,0),100)/100*M}))),i(t.TextBlock,{alignment:t.Spot.Right,margin:new t.Margin(220,0,0,0),font:"bold 10pt sans-serif",editable:!1,width:40},new t.Binding("text","currentPercentage",y=>`${Math.round(Math.max(0,Math.min(100,y||0)))}%`)),...TN(i,t,a));return m.toolTip=i(t.Adornment,"Auto",i(t.Shape,"RoundedRectangle",{fill:"whitesmoke",stroke:"gray",strokeWidth:.5}),i(t.TextBlock,{margin:5,stroke:"black",font:"9pt sans-serif",textAlign:"left"},new t.Binding("text","",y=>{const b=y.text||"N/A",S=y.meterId||"N/A",M=y.Wh_Recvd!==void 0&&y.Wh_Recvd!==null?parseFloat(y.Wh_Recvd).toFixed(2):"N/A",A=y.VLL_average!==void 0&&y.VLL_average!==null?parseFloat(y.VLL_average).toFixed(2)+" V":"N/A",R=y.Avg_Current!==void 0&&y.Avg_Current!==null?parseFloat(y.Avg_Current).toFixed(2)+" A":"N/A";return`Meter: ${b}
ID: ${S}
KWh: ${M}
Voltage: ${A}
Current: ${R}`}))),m}function ZQ(i,t,s,r,a,u,d,p,m,y){(typeof i!="string"||!i)&&(console.error("createGenericNodeTemplate called with invalid shapeType:",i,". Defaulting to Rectangle."),i="Rectangle");const b=Za.nodeDefinitions.shapes.find(R=>R.category===t),S=new r.Size(b?.minWidth||100,b?.minHeight||50),M=new r.Size(b?.maxWidth||500,b?.maxHeight||500);return s(r.Node,"Auto",{selectionAdorned:!1,dragComputation:MN,doubleClick:(R,E)=>{a&&E&&E.data&&a(E.data.key,E.data.assignedRelayNo,E.data.assignedInputRelayNo)},mouseEnter:(R,E)=>{u&&u(E.data,R.viewPoint)},mouseLeave:(R,E,_)=>{if(d){const T=_?.documentPoint;let B=_&&_.part===E,z=!1;if(E.diagram&&T&&_)try{z=E.containsPoint(T)}catch{}!B&&!z&&d()}},movable:m,selectable:!0,cursor:m?"move":"default",minSize:S,maxSize:M,resizable:!1,background:"transparent"},new r.Binding("location","loc",r.Point.parse).makeTwoWay(r.Point.stringify),new r.Binding("desiredSize","size",r.Size.parse).makeTwoWay(r.Size.stringify),s(r.Shape,i,{name:"SHAPE",isPanelMain:!0,fill:"#f2f2f2",fromLinkable:!1,toLinkable:!1,cursor:m?"move":"default",strokeWidth:3}),s(r.Panel,"Spot",{alignment:r.Spot.Center,margin:new r.Margin(130,60,0,0)},new r.Binding("visible","assignedRelayNo",R=>R!=null&&R!==""),s(r.Shape,"Capsule",{width:40,height:20,fill:"lightgrey",stroke:null,cursor:"pointer",click:(R,E)=>{const _=E.part;console.log("e",R,_),_&&_.data&&_.data.assignedRelayNo!=null&&y(_.data.key,_.data.status)}},new r.Binding("fill","status",R=>R?"red":"green")),s(r.Shape,"Circle",{width:19,height:19,fill:"white",stroke:null,alignment:r.Spot.Left,alignmentFocus:r.Spot.Left,margin:new r.Margin(2,0,0,2)},new r.Binding("alignment","status",R=>R?r.Spot.Right:r.Spot.Left),new r.Binding("alignmentFocus","status",R=>R?r.Spot.Right:r.Spot.Left))),s(r.TextBlock,{text:"Relay",alignment:r.Spot.Center,margin:new r.Margin(90,60,0,0),font:"bold 10pt sans-serif",stroke:"black",editable:!1},new r.Binding("text","assignedRelayNo",R=>R!=null&&R!==""?"Relay: "+String(R):"Relay: N/A"),new r.Binding("visible","assignedRelayNo",R=>R!=null&&R!=="")),s(r.TextBlock,{text:"Status",alignment:r.Spot.Center,margin:new r.Margin(90,0,0,60),font:"bold 10pt sans-serif",stroke:"black",editable:!1},new r.Binding("visible","assignedRelayNo",R=>R!=null&&R!=="")),s(kN,"Circle",{alignment:r.Spot.Center,margin:new r.Margin(130,0,0,60),desiredSize:new wN(20,20),stroke:null,fill:"red"},new r.Binding("fill","status",R=>R?"red":"green"),new r.Binding("visible","assignedRelayNo",R=>R!=null&&R!=="")),s(r.Panel,"Vertical",{margin:new r.Margin(30,0,0,0)},s(r.Picture,{width:90,height:90,margin:new r.Margin(0,0,10,0),source:p||""},new r.Binding("source","img",R=>R||""),new r.Binding("visible","img",R=>!!R)),s(r.TextBlock,{font:"Bold 9pt sans-serif",stroke:"black",textAlign:"center",wrap:r.Wrap.Fit,margin:new r.Margin(0,0,80,0),editable:m,isMultiline:!0,overflow:r.TextBlock.OverflowEllipsis,maxLines:2},new r.Binding("text").makeTwoWay())),...TN(s,r,m))}function JQ(i,t,s,r,a,u,d,p){if(!s){console.error("NodeTemplate.jsx: addNodeTemplates - myDiagram instance is null or undefined.");return}s.nodeTemplateMap?s.nodeTemplateMap.clear():s.nodeTemplateMap=new t.Map;const m=Za.nodeDefinitions?.meters?.[0];if(m&&m.category==="MeterNode"){console.log("MeterNode Template registration started.",s.nodeDataArray);const y=KQ(i,t,a,u,d);y?(console.log("MeterNode Template created successfully.",y,m),s.nodeTemplateMap.add("MeterNode",y)):console.error("NodeTemplate.jsx: createMeterNodeTemplate() returned null or undefined.")}Za.nodeDefinitions&&Array.isArray(Za.nodeDefinitions.shapes)&&Za.nodeDefinitions.shapes.forEach(y=>{if(!y)return;const{category:b,shape:S,img:M}=y;if(!(!b||typeof b!="string")&&b!=="MeterNode"&&S&&typeof S=="string"){const A=ZQ(S,b,i,t,r,a,u,M,d,p);A?s.nodeTemplateMap.add(b,A):console.error(`NodeTemplate.jsx: createGenericNodeTemplate() returned null for category '${b}'.`)}})}let sm=null,rm=null,om=null;const kf=(i,t)=>{if(!i||!t){console.warn("DiagramAnimations: updateAnimation called with invalid goInstance or currentDiagram.");return}const s=i.Animation;if(!s||typeof s.EaseLinear!="function"||typeof s.EaseInOutQuad!="function"){console.warn("DiagramAnimations: updateAnimation - goInstance.Animation or its easing functions are not available. Skipping animation setup.");return}sm&&(sm.stop(),sm=null);try{const r=new s;r.easing=s.EaseLinear,r.duration=500;let a=0;t.links.each(d=>{const p=d.findObject("PIPE");p&&(r.add(p,"strokeDashOffset",20,0),a++)}),a>0&&(r.runCount=1/0,r.start(),sm=r)}catch{}rm&&(rm.stop(),rm=null);try{const r=new s;r.easing=s.EaseInOutQuad,r.reversible=!0,r.duration=2e3;let a=0;t.nodes.each(d=>{let p=d.findObject("WAVE1"),m=d.findObject("WAVE2");p&&typeof p.parameter1<"u"&&(r.add(p,"waves",0,1),a++),m&&typeof m.parameter1<"u"&&(r.add(m,"waves",1,0),a++)}),a>0&&(r.runCount=1/0,r.start(),rm=r)}catch(r){console.error("DiagramAnimations: Error setting up waves animation:",r)}om&&(om.stop(),om=null);try{const r=new s;r.easing=s.EaseInOutQuad,r.reversible=!0,r.duration=5e3;let a=0;t.nodes.each(d=>{let p=d.findObject("WAVE_GRADUATED_PANEL");p&&typeof p.alignment<"u"&&(r.add(p,"offset",-30,0),a++)}),a>0&&(r.runCount=1/0,r.start(),om=r,console.log("DiagramAnimations: Waves offset animation started successfully"))}catch{}};let LT=!1;const QQ=(i,t)=>{const{theme:s,nodeDataArray:r,linkDataArray:a,modelData:u,isEditMode:d,onShapeDoubleClickCallback:p,onNodeMouseEnter:m,onNodeMouseLeave:y,handleToggleDevice:b,setIsDiagramDirty:S}=t,M=i.GraphObject.make;if(!LT)try{i.AnimationManager&&typeof i.AnimationManager.defineAnimationEffect=="function"&&(i.AnimationManager.defineAnimationEffect("waves",(T,B,z,W,L,U,I)=>{if(T&&typeof T.parameter1<"u"){let q=W(L,B,z-B,U);T.parameter1=q}}),i.AnimationManager.defineAnimationEffect("offset",(T,B,z,W,L,U,I)=>{if(T&&typeof T.alignment<"u"){let q=W(L,B,z-B,U);T.alignment=new i.Spot(0,0,q,0)}}),LT=!0)}catch(T){console.error("[DiagramInit] Error defining custom animation effects:",T)}const A=M(i.Diagram,{"undoManager.isEnabled":!0,"animationManager.initialAnimationStyle":i.AnimationManager.None,isReadOnly:!d,allowMove:d,allowCopy:!1,allowDelete:d,allowLink:d,allowRelink:d,allowReshape:d,allowTextEdit:d,allowSelect:!0});A.grid&&(A.grid.visible=d,A.toolManager&&(A.toolManager.draggingTool&&(A.toolManager.draggingTool.isGridSnapEnabled=d),A.toolManager.resizingTool&&(A.toolManager.resizingTool.isGridSnapEnabled=d))),A.toolManager&&(A.toolManager.draggingTool&&(A.toolManager.draggingTool.isEnabled=d),A.toolManager.linkingTool&&(A.toolManager.linkingTool.isEnabled=d),A.toolManager.relinkingTool&&(A.toolManager.relinkingTool.isEnabled=d),A.toolManager.resizingTool&&(A.toolManager.resizingTool.isEnabled=d),A.toolManager.dragSelectingTool&&(A.toolManager.dragSelectingTool.isEnabled=d),A.toolManager.clickSelectingTool&&(A.toolManager.clickSelectingTool.isEnabled=!0)),JQ(M,i,A,p,m,y,d,b),A.addModelChangedListener(T=>{T.isTransactionFinished&&A.isModified&&(console.log("Diagram modified:",T.model.nodeDataArray),S(!0))}),A.linkTemplate=M(i.Link,{routing:i.Routing.AvoidsNodes,curve:i.Curve.JumpGap,corner:10,reshapable:d,relinkableFrom:d,relinkableTo:d,toShortLength:7,selectable:d,selectionAdorned:!0},new i.Binding("points").makeTwoWay(),M(i.Shape,{isPanelMain:!0,stroke:"black",strokeWidth:7}),M(i.Shape,{isPanelMain:!0,stroke:s?.palette?.grey?.[400]||"#aaa",strokeWidth:7}),M(i.Shape,{isPanelMain:!0,stroke:s?.palette?.primary?.main||"dodgerblue",strokeWidth:5,name:"PIPE",strokeDashArray:[10,10],strokeDashOffset:0}),M(i.Shape,{toArrow:"Triangle",fill:s?.palette?.grey?.[700]||"black",stroke:null,scale:1.5}),M(i.Panel,"Auto",{visible:!1},new i.Binding("visible","text",T=>T&&T!==""),M(i.Shape,{fill:"rgba(255, 255, 255, 0.9)",stroke:"black",strokeDashArray:[10,10]}),M(i.TextBlock,{stroke:"black",margin:3,font:"bold 9pt sans-serif"},new i.Binding("text"))));let R=!1;A.addModelChangedListener(T=>{if(T.isTransactionFinished&&!R){R=!0;try{const B=[];A.links.each(z=>{const W=z.fromNode,L=z.toNode}),B.length>0&&(A.startTransaction("remove invalid meter-to-meter links"),B.forEach(z=>{A.remove(z)}),A.commitTransaction("remove invalid meter-to-meter links")),A.startTransaction("update link styles"),A.links.each(z=>{const W=z.fromNode,L=z.toNode;if(W&&L){const U=W.category==="MeterNode"&&L.category!=="MeterNode"||W.category!=="MeterNode"&&L.category==="MeterNode",I=z.findObject("PIPE");if(I)if(U){I.strokeDashArray=[10,10],I.strokeWidth=6,I.stroke="#000000";const q=z.findObject("WHITE_STROKE");q&&(q.strokeDashArray=[3,3],q.strokeWidth=8,q.stroke="#FFFFFF")}else{I.strokeDashArray=[10,10],I.strokeWidth=5,I.stroke=s?.palette?.primary?.main||"dodgerblue";const q=z.findObject("WHITE_STROKE");q&&(q.strokeDashArray=null,q.strokeWidth=0)}}}),A.commitTransaction("update link styles")}finally{R=!1}}});const E=new i.GraphLinksModel({nodeDataArray:r||[],linkDataArray:a||[],modelData:{...u||{},triggerPasswordDialog:(T,B,z="genericAction",W=null)=>{u&&u.triggerPasswordDialog&&u.triggerPasswordDialog(T,B,z,W)}},linkKeyProperty:"key"});E.linkFromPortIdProperty="fromPort",E.linkToPortIdProperty="toPort",A.model=E,A.addDiagramListener("LinkDrawn",T=>{setTimeout(()=>{kf(i,A)},100)}),A.addDiagramListener("LinkRelinked",T=>{setTimeout(()=>{kf(i,A)},100)});const _=T=>{d||setTimeout(()=>{if(T.nodes.count>0){T.zoomToFit();const B=50,z=T.documentBounds;T.scale=Math.min((T.viewportBounds.width-B*2)/z.width,(T.viewportBounds.height-B*2)/z.height),T.centerRect(z)}},100)};return A.addDiagramListener("InitialLayoutCompleted",T=>{setTimeout(()=>{kf(i,A),_(A)},100)}),setTimeout(()=>{kf(i,A),_(A)},200),A.destroy=()=>{},A.requestUpdate(),A.toolManager&&A.toolManager.doMouseUp(),A};var ef={},OT;function eee(){if(OT)return ef;OT=1;var i=Ei();Object.defineProperty(ef,"__esModule",{value:!0}),ef.default=void 0;var t=i(Bi()),s=Li();return ef.default=(0,t.default)((0,s.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),ef}var tee=eee();const AN=Qn(tee);var tf={},IT;function nee(){if(IT)return tf;IT=1;var i=Ei();Object.defineProperty(tf,"__esModule",{value:!0}),tf.default=void 0;var t=i(Bi()),s=Li();return tf.default=(0,t.default)((0,s.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save"),tf}var iee=nee();const see=Qn(iee);var nf={},FT;function ree(){if(FT)return nf;FT=1;var i=Ei();Object.defineProperty(nf,"__esModule",{value:!0}),nf.default=void 0;var t=i(Bi()),s=Li();return nf.default=(0,t.default)((0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),nf}var oee=ree();const c0=Qn(oee);var sf={},jT;function aee(){if(jT)return sf;jT=1;var i=Ei();Object.defineProperty(sf,"__esModule",{value:!0}),sf.default=void 0;var t=i(Bi()),s=Li();return sf.default=(0,t.default)((0,s.jsx)("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8"}),"Undo"),sf}var lee=aee();const cee=Qn(lee);var rf={},_T;function uee(){if(_T)return rf;_T=1;var i=Ei();Object.defineProperty(rf,"__esModule",{value:!0}),rf.default=void 0;var t=i(Bi()),s=Li();return rf.default=(0,t.default)((0,s.jsx)("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7z"}),"Redo"),rf}var hee=uee();const dee=Qn(hee),fee=({isEditMode:i,onToggleEditMode:t,onUndo:s,onRedo:r,onSaveDiagram:a,onDeleteDiagram:u,isDiagramDirty:d,theme:p})=>D.jsxs(rw,{variant:"dense",sx:{borderBottom:`1px solid ${p.palette.divider}`,backgroundColor:p.palette.background.paper,flexShrink:0},children:[D.jsx(_o,{title:i?"Switch to View Mode":"Switch to Edit Mode",arrow:!0,children:D.jsx(Hi,{onClick:t,size:"small",children:i?D.jsx(JE,{}):D.jsx(AN,{})})}),i&&D.jsxs(D.Fragment,{children:[D.jsx(_o,{title:"Undo",arrow:!0,children:D.jsx(Hi,{onClick:s,color:p.palette.mode==="dark"?"primary":"default",children:D.jsx(cee,{})})}),D.jsx(_o,{title:"Redo",arrow:!0,children:D.jsx(Hi,{onClick:r,color:p.palette.mode==="dark"?"primary":"default",children:D.jsx(dee,{})})}),D.jsx(_o,{title:"Save Diagram",arrow:!0,children:D.jsx("span",{style:{display:"flex"},children:D.jsx(Hi,{onClick:a,disabled:!d,color:p.palette.mode==="dark"?"primary":"default",children:D.jsx(see,{})})})}),D.jsx(_o,{title:"Delete Diagram",arrow:!0,children:D.jsx("span",{style:{display:"flex"},children:D.jsx(Hi,{onClick:u,color:p.palette.mode==="dark"?"primary":"default",children:D.jsx(c0,{})})})})]})]}),pee=X.forwardRef((i,t)=>{const{nodeDataArray:s,linkDataArray:r,modelData:a,automationRules:u,onModelChange:d,onNodeDropped:p,onNodesDeleted:m,isEditMode:y,onToggleEditMode:b,onSaveDiagram:S,onDeleteDiagram:M,onUndo:A,onRedo:R,isDiagramDirty:E,setIsDiagramDirty:_,onShapeDoubleClickCallback:T,theme:B,handleToggleDevice:z,role:W}=i,L=X.useRef(null),U=X.useRef(null),[I,q]=X.useState(0),[ee,te]=X.useState(!1),[ce,re]=X.useState(null),ae=X.useCallback(pe=>{pe&&kf(DT,pe)},[]),ue=X.useCallback(()=>{const pe=QQ(DT,{theme:B,nodeDataArray:s,linkDataArray:r,modelData:a,isEditMode:y,onShapeDoubleClickCallback:T,setIsDiagramDirty:_,handleToggleDevice:z});return re(pe),pe},[B,s,r,a,y,T,z,ae]),ie=X.useCallback(()=>{const pe=CN.make,de=pe(Bw,{observed:ce,scale:.5,drawsGrid:!1});return de.box&&de.box.selectionObject&&(de.box.selectionObject.stroke="#BF2018",de.box.selectionObject.strokeWidth=.2),de},[]);X.useImperativeHandle(t,()=>({getDiagram:()=>L.current?.getDiagram(),getDiv:()=>U.current}),[]),X.useEffect(()=>{const pe=L.current?.getDiagram();if(pe){te(!0);const de=Se=>{d&&d(Se),Se.isTransactionFinished&&ae(Se.diagram)};pe.addModelChangedListener(de);const xe=Se=>{const be=[];Se.subject.each(Ne=>{Ne instanceof PN&&Ne.data&&Ne.data.key&&be.push(Ne.data.key)}),be.length>0&&m&&m(be)};return pe.addDiagramListener("SelectionDeleted",xe),()=>{pe?.removeModelChangedListener&&pe.removeModelChangedListener(de),pe?.removeDiagramListener&&pe.removeDiagramListener("SelectionDeleted",xe)}}},[L.current,d,m,ae]),X.useEffect(()=>{const pe=L.current?.getDiagram();if(!pe||!pe.model||u===void 0)return;const xe=(pe.model.modelData||{}).automationRules||[];let Se=!0;Se=JSON.stringify(xe)!==JSON.stringify(u||[]),Se&&pe.model.commit(be=>{be.modelData||(be.modelData={}),be.modelData.automationRules=u||[]},"updateAutomationRulesInModelData")},[u,L.current]);const[,he]=AK({accept:"node",drop:(pe,de)=>{if(!pe){it.error("Dropped item is undefined."),console.error("DiagramWithDnD: Dropped item (newNodeFromPalette) is undefined.");return}if(!pe.category){it.error("Dropped item is missing a category."),console.error("DiagramWithDnD: Dropped item is missing a category. Item:",pe);return}const xe=L.current?.getDiagram(),Se=xe?.div;if(!xe||!Se){it.error("Diagram not available for drop operation.");return}const be=de.getClientOffset();if(!be){it.error("Could not determine drop location.");return}const Ne=Se.getBoundingClientRect(),_e=xe.transformViewToDoc(new bN(be.x-Ne.left,be.y-Ne.top)),Me=xe.grid?.gridCellSize.width||20,qe=parseFloat(pe.minWidth)||100,ze=parseFloat(pe.minHeight)||50,$e=Math.round((_e.x-qe/2)/Me)*Me,Ue=Math.round((_e.y-ze/2)/Me)*Me,Pe=I;q(je=>je+1);const De={key:`${pe.category}_${Date.now().toString(36)}_${Pe}`,text:pe.text||"New Node",size:`${qe} ${ze}`,loc:`${$e} ${Ue}`,category:pe.category,img:pe.img||null,assignedRelayNo:null,...pe.category==="MeterNode"&&{meterId:pe.id,meterDetails:pe.meterDetails||{}}};xe.model.commit(je=>{je.addNodeData(De)},"add node from palette"),p&&(console.log("DiagramWithDnD: Calling onNodeDropped with newNodeData:",De,pe),p(De))},collect:pe=>({isOver:!!pe.isOver()})});return D.jsxs("div",{ref:pe=>{he(pe),U.current=pe},style:{flexGrow:1,height:"100%",display:"flex",flexDirection:"column",position:"relative",border:`1px solid ${B.palette.divider}`,borderRadius:B.shape.borderRadius,overflow:"hidden"},children:[W==="ADMIN"&&D.jsx(fee,{isEditMode:y,onToggleEditMode:b,isDiagramDirty:E,onUndo:A,onRedo:R,onSaveDiagram:S,onDeleteDiagram:M,theme:B}),D.jsxs(Bt,{sx:{flexGrow:1,height:"calc(100% - 48px)",position:"relative"},children:[!ee&&U.current&&D.jsx(Bt,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:D.jsx(mr,{})}),U.current&&D.jsx(bQ,{ref:L,initDiagram:ue,nodeDataArray:s,linkDataArray:r,modelData:a,onModelChange:d,skipsDiagramUpdate:!0,divClassName:"diagram-component",style:{width:"100%",height:"100%",backgroundColor:"#EFE2DD",display:ee?"block":"none"}},y?"edit-diagram-instance":"view-diagram-instance"),ce&&D.jsx(wQ,{initOverview:ie,divClassName:"overview-component",observedDiagram:ce,style:{position:"absolute",top:"6px",left:"7px",width:"175px",height:"90px",backgroundColor:$r(B.palette.background.paper,1),border:`1px solid ${B.palette.divider}`,borderRadius:B.shape.borderRadius,boxShadow:B.shadows[3],zIndex:10}}),D.jsxs(Bt,{sx:{position:"absolute",top:96,left:52,zIndex:100,pointerEvents:"auto"},children:[D.jsx(Hi,{onClick:()=>{const pe=L.current?.getDiagram();pe?pe.commandHandler.increaseZoom():console.error("Diagram is not initialized yet.")},size:"small","aria-label":"Zoom In",title:"Zoom In",sx:{paddingY:0},children:D.jsx(kQ,{sx:{fontSize:16,color:"#BF2018"}})}),D.jsx(Hi,{onClick:()=>{const pe=L.current?.getDiagram();pe?pe.commandHandler.decreaseZoom():console.error("Diagram is not initialized yet.")},size:"small","aria-label":"Zoom Out",title:"Zoom Out",sx:{paddingY:0},children:D.jsx(TQ,{sx:{fontSize:16,color:"#BF2018"}})}),D.jsx(Hi,{onClick:()=>{const pe=L.current?.getDiagram();if(pe){pe.zoomToFit(),pe.centerRect(pe.documentBounds);const xe=pe.scale*.96;pe.scale=xe}else console.error("Diagram is not initialized yet.")},size:"small","aria-label":"Zoom Reset",title:"Zoom Reset",sx:{paddingY:0},children:D.jsx(EQ,{sx:{fontSize:16,color:"#BF2018"}})})]})]})]})}),gee=X.memo(pee),mee={NODE:"node"},yee=(i,t,s)=>({width:"180px",height:"50px",margin:"8px",alignItems:"center",backgroundColor:"#fff0d4",cursor:t?"grabbing":"grab",borderRadius:"10px",display:"flex",justifyContent:"space-between",paddingLeft:"10px",fontFamily:"Roboto, sans-serif",fontSize:"10pt",fontWeight:"bold",color:"black",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",opacity:t?.5:1}),zT=({nodeGlobalData:i})=>{const[{isDragging:t},s]=bK({type:mee.NODE,item:i,collect:r=>({isDragging:r.isDragging()})});return D.jsxs("div",{ref:s,style:yee(i.text,t,i.img),children:[D.jsx("span",{children:i.text}),i.img&&D.jsx("img",{src:i.img,alt:i.text,style:{width:"40px",height:"40px",marginRight:"10px",objectFit:"contain"}})]})};var of={},BT;function xee(){if(BT)return of;BT=1;var i=Ei();Object.defineProperty(of,"__esModule",{value:!0}),of.default=void 0;var t=i(Bi()),s=Li();return of.default=(0,t.default)((0,s.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),of}var vee=xee();const VT=Qn(vee);var af={},HT;function bee(){if(HT)return af;HT=1;var i=Ei();Object.defineProperty(af,"__esModule",{value:!0}),af.default=void 0;var t=i(Bi()),s=Li();return af.default=(0,t.default)((0,s.jsx)("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess"),af}var wee=bee();const WT=Qn(wee),See=({meters:i=[]})=>{const t=vs(),[s,r]=X.useState(!1),[a,u]=X.useState(!1),d=i.map(S=>({id:String(S.meterNo),text:S.label||`Meter ${S.meterNo}`,category:"MeterNode",minWidth:Za.nodeDefinitions.meters[0].minWidth,minHeight:Za.nodeDefinitions.meters[0].minHeight,meterDetails:{...S}})),p=Object.values(Za.nodeDefinitions.shapes),m=()=>{r(!s)},y=()=>{u(!a)},b={height:40,bgcolor:t.palette.background.paper,borderRadius:0,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 8px",borderBottom:`1px solid ${t.palette.divider}`,cursor:"pointer"};return D.jsxs("div",{style:{width:"100%",height:"100%",overflowY:"auto",backgroundColor:t.palette.background.default},children:[D.jsxs(Bt,{sx:{display:"flex",flexDirection:"column",alignContent:"center"},children:[D.jsxs(Bt,{sx:b,onClick:m,children:[D.jsx(Oe,{sx:{fontSize:16,fontWeight:"bold",color:t.palette.text.primary},children:"Meters"}),D.jsx(Hi,{onClick:S=>{S.stopPropagation(),m()},size:"small",children:s?D.jsx(VT,{sx:{color:"success.main"}}):D.jsx(WT,{sx:{color:"error.main"}})})]}),D.jsx(vb,{in:!s,children:D.jsx(Bt,{sx:{alignContent:"center",p:.5},children:d.length>0?d.map(S=>D.jsx(zT,{nodeGlobalData:S},S.id)):D.jsx(Oe,{variant:"caption",sx:{display:"block",textAlign:"center",p:2,color:t.palette.text.secondary},children:"No meters configured."})})})]}),D.jsxs(Bt,{sx:{display:"flex",flexDirection:"column",alignContent:"center",mt:1},children:[D.jsxs(Bt,{sx:b,onClick:y,children:[D.jsx(Oe,{sx:{fontSize:16,fontWeight:"bold",color:t.palette.text.primary},children:"Shapes"}),D.jsx(Hi,{onClick:S=>{S.stopPropagation(),y()},size:"small",children:a?D.jsx(VT,{sx:{color:"success.main"}}):D.jsx(WT,{sx:{color:"error.main"}})})]}),D.jsx(vb,{in:!a,children:D.jsx(Bt,{sx:{alignContent:"center",p:.5},children:p.map(S=>D.jsx(zT,{nodeGlobalData:S},S.id))})})]})]})};function Cee(){const i=vs(),[t,s]=X.useState(!1),r=X.useRef(null),{addLogEntry:a}=vN(),{adminPassword:u,fetchAdminPassword:d}=Ma(),{role:p}=Kl(),{configuredMeters:m,loadingMeters:y,initialNodeDataArray:b,initialLinkDataArray:S,initialModelData:M,loadingInitialDiagram:A,fetchInitialDiagram:R}=UK(),[E,_]=X.useState([]),[T,B]=X.useState(!1),[z,W]=X.useState(!1),[L,U]=X.useState({actionType:null,description:"",onConfirmExecute:null,payload:null}),{nodeDataArray:I,linkDataArray:q,modelData:ee,isDiagramDirty:te,setIsDiagramDirty:ce,isEditMode:re,setIsEditMode:ae,isSaveDiagramDialogOpen:ue,setIsSaveDiagramDialogOpen:ie,diagramNameInput:he,setDiagramNameInput:pe,diagramDescriptionInput:de,setDiagramDescriptionInput:xe,isDeleteConfirmOpen:Se,setIsDeleteConfirmOpen:be,handleModelChange:Ne,handleNodeDropped:_e,handleNodesDeleted:Me,handleOpenSaveDialog:qe,handleConfirmSaveDiagram:ze,handleDeleteDiagramRequest:$e,handleConfirmDeleteDiagram:Ue}=XK(b,S,M,R,r),{toggleEditMode:Pe,handleConfirmEnterEditMode:Re,handleCancelEnterEditMode:De,memoizedOnShapeDoubleClickCallback:je,handleUndo:Ee,handleRedo:Qe,onConfirmSaveHandler:ut,onConfirmDeleteHandler:Ht}=GK({diagramRef:r,isEditMode:re,setIsEditMode:ae,isDiagramDirty:te,setIsDiagramDirty:ce,setIsConfirmEditModeDialogOpen:B,handleConfirmSaveDiagram:ze,handleConfirmDeleteDiagram:Ue,fetchInitialDiagram:R});X.useEffect(()=>{_(I)},[I]),X.useEffect(()=>{s(!0),d()},[d]);const un=X.useCallback((Ve,at,xt="genericAction",_t=null)=>{if(!u){d().then(()=>{Ma.getState().adminPassword?(U({description:Ve,onConfirmExecute:at,payload:_t,actionType:xt}),W(!0)):it.error("Admin password not loaded. Cannot confirm action.")});return}U({description:Ve,onConfirmExecute:at,payload:_t,actionType:xt}),W(!0)},[u,d]),Ct=async Ve=>{const{deviceKey:at,newStatus:xt}=Ve,_t=r.current?.getDiagram();if(!_t){it.error("Diagram not ready.");return}const Mt=_t.findNodeForKey(at);if(!Mt||!Mt.data){it.error("Device node not found in diagram.");return}const rt=Mt.data,Tt=rt.assignedRelayNo;if(Tt==null){it.error(`Device "${rt.text||"Unnamed Shape"}" does not have an output relay assigned.`);return}try{await ji.post(`${Hn.appBaseUrl}/v1/api/control-relay`,{relayNumber:Tt,action:xt?"on":"off"}),a({source:"Manual Control",item_type:"SCADA Shape",item_id:String(at),item_name:rt.text||"Unnamed Shape",action:`Output ${xt?"ON":"OFF"} command sent`,details:`Relay ${Tt} instructed.`}),_t.model.commit(ft=>{ft.set(Mt.data,"status",xt)},"toggle SCADA device status"),it.success(`Device "${rt.text||"Unnamed Shape"}" toggle command sent.`)}catch(ft){console.error("Error toggling SCADA device:",ft),it.error("Failed to toggle SCADA device.")}},ht=(Ve,at)=>{const Mt=r.current?.getDiagram()?.findNodeForKey(Ve)?.data?.text||"Unnamed Shape",rt=!at;un(`toggle SCADA shape "${Mt}" output ${rt?"ON":"OFF"}`,()=>Ct({deviceKey:Ve,newStatus:rt}),"toggleScadaDevice",{deviceKey:Ve,newStatus:rt})},Ze=async Ve=>{W(!1);const at=Ma.getState().adminPassword;if(Ve===at){if(L&&typeof L.onConfirmExecute=="function")try{await L.onConfirmExecute(L.payload)}catch(xt){console.error(`Error executing ${L.actionType}:`,xt),it.error(`Failed to execute action: ${xt.message||"Unknown error"}`)}}else it.error("Incorrect password.");U({actionType:null,description:"",onConfirmExecute:null,payload:null})},yt=X.useCallback(Ve=>{const at=r.current?.getDiagram();if(!at||!at.model)return;const{measurement:xt,data:_t}=Ve;console.log("diagram",Ve);const Mt=_t.reduce((rt,Tt)=>!rt||new Date(Tt.time)>new Date(rt.time)?Tt:rt,null);Mt&&at.model.commit(rt=>{const Tt=rt.nodeDataArray.find(mt=>{const Rt=mt.category==="MeterNode"&&mt.meterId?`${Hn.gatewayName}_id${mt.meterId}`:mt.meterId;return console.log("meterreerer",Rt,xt),Rt});console.log("nodeto update",Tt);let ft=new Date;Tt&&(rt.set(Tt,"Avg_Current",Mt.Avg_Current),rt.set(Tt,"VLL_average",Mt.VLL_Average),rt.set(Tt,"Wh_Recvd",Mt.Wh_Received),rt.set(Tt,"time",ft.toISOString()))},"updateLastMeterMeasurement")},[r,Hn.gatewayName]),Ut=X.useCallback(Ve=>{const at=r.current?.getDiagram();if(!at||!at.model)return;const{measurement:xt,results:_t}=Ve;if(!_t||_t.percentage===void 0){console.warn("Received minmax-current-response with invalid results:",Ve);return}at.model.commit(Mt=>{const rt=Mt.nodeDataArray.find(Tt=>Tt.category==="MeterNode"&&Tt.meterId?`${Hn.gatewayName}_id${Tt.meterId}`:Tt.meterId);rt&&Mt.set(rt,"currentPercentage",Number(_t.percentage))},"updateCurrentPercentageOnNodes")},[r,Hn.gatewayName]);X.useEffect(()=>{let Ve;const at=async()=>{if(!E||E.length===0)return;const xt=E.filter(_t=>_t.category==="MeterNode"&&_t.meterId);if(xt.length!==0)try{await Promise.all(xt.map(async _t=>{const Mt=`${Hn.gatewayName}_id${_t.meterId}`;try{const[rt,Tt]=await Promise.all([ji.post(`${Hn.appBaseUrl}/v2/api/query/meter-measurements`,{measurement:Mt,timeFilter:"1h",fields:["Wh_Received","Avg_Current","VLL_Average"]}),ji.post(`${Hn.appBaseUrl}/v2/api/query/minmax-current`,{measurement:Mt})]);yt(rt.data),Ut(Tt.data)}catch(rt){console.error(`Error fetching meter data for ${Mt}:`,rt)}}))}catch(_t){console.error("Error in fetchData interval:",_t)}};return at(),Ve=setInterval(at,12e3),()=>{Ve&&clearInterval(Ve)}},[E,Hn.gatewayName]);const nn=y||A;return D.jsx(Zr,{in:t,timeout:500,children:D.jsxs(Bt,{sx:{display:"flex",flexDirection:"column",height:"calc(100vh - 64px - 16px)",p:{xs:.5,sm:1},boxSizing:"border-box"},children:[nn?D.jsxs(Bt,{sx:{display:"flex",justifyContent:"center",alignItems:"center",flexGrow:1,height:"100%"},children:[D.jsx(mr,{}),D.jsx(Oe,{sx:{ml:2},children:"Loading SCADA Data..."})]}):D.jsx(qq,{backend:HK,children:D.jsx(Fi,{in:!nn,timeout:500,style:{height:"100%"},children:D.jsxs(Bt,{sx:{display:"flex",gap:{xs:1,sm:1.5},width:"100%",height:"100%",flexGrow:1,boxSizing:"border-box"},children:[re&&D.jsx(ts,{elevation:2,sx:{width:"220px",flexShrink:0,height:"100%",overflowY:"auto",backgroundColor:i.palette.mode==="dark"?i.palette.background.paper:i.palette.grey[50],borderRadius:2,border:`1px solid ${i.palette.divider}`},children:y?D.jsxs(Bt,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:[D.jsx(mr,{size:24}),D.jsx(Oe,{variant:"caption",sx:{ml:1},children:"Loading Meters..."})]}):D.jsx(See,{meters:m})}),D.jsx(Bt,{sx:{flexGrow:1,height:"100%",display:"flex",position:"relative",backgroundColor:"#EFE2DD"},children:D.jsx(gee,{ref:r,nodeDataArray:I,linkDataArray:q,modelData:{...ee},onModelChange:Ne,onNodeDropped:_e,onNodesDeleted:Me,isEditMode:re,onToggleEditMode:Pe,onSaveDiagram:qe,onDeleteDiagram:$e,onUndo:Ee,onRedo:Qe,isDiagramDirty:te,setIsDiagramDirty:ce,theme:i,onShapeDoubleClickCallback:je,handleToggleDevice:ht,role:p})})]})})}),D.jsx(WK,{isOpen:ue,setIsSaveDiagramDialogOpen:ie,onConfirm:()=>ut(r.current?.getDiagram()),diagramNameInput:he,setDiagramNameInput:pe,diagramDescriptionInput:de,setDiagramDescriptionInput:xe}),D.jsx(YK,{isOpen:Se,setIsDeleteConfirmOpen:be,onConfirm:()=>Ht(r.current?.getDiagram()),hasModelId:!!ee.id}),D.jsx($K,{isOpen:T,onClose:De,onConfirm:Re}),D.jsx(QE,{open:z,onClose:()=>{W(!1),U({actionType:null,description:"",onConfirmExecute:null,payload:null})},onConfirm:Ze,dialogType:L.actionType,actionDescription:L.description})]})})}var lf={},$T;function kee(){if($T)return lf;$T=1;var i=Ei();Object.defineProperty(lf,"__esModule",{value:!0}),lf.default=void 0;var t=i(Bi()),s=Li();return lf.default=(0,t.default)((0,s.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),lf}var Pee=kee();const YT=Qn(Pee);var cf={},UT;function Mee(){if(UT)return cf;UT=1;var i=Ei();Object.defineProperty(cf,"__esModule",{value:!0}),cf.default=void 0;var t=i(Bi()),s=Li();return cf.default=(0,t.default)((0,s.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert"),cf}var Tee=Mee();const Aee=Qn(Tee),Dee=["Nos (Numbers)","Sets","Pieces","Litres (L)","Millilitres (mL)","Cubic meters (m)","Kilograms (kg)","Grams (g)","Tons (t)","Kilowatt-hour (kWh)","Megajoules (MJ)","British Thermal Unit (BTU)","Square meters (m)","Square feet (ft)","Hours (h)","Minutes (min)","Seconds (s)","Pallets","Batches","Cycles","Barrels (bbl)","Gallons (gal)","Cubic feet (cf)","Pieces per hour (P/hr)","Units per shift","Kilograms per hour (kg/h)"],Eee=[{unit:"Nos (Numbers)",desc:"Count of individual items",notes:"Discrete units, e.g., devices, products, parts"},{unit:"Sets",desc:"Grouped items or assemblies",notes:"Furniture sets, equipment sets"},{unit:"Pieces",desc:"Individual components or small units",notes:"Manufacturing parts, office supplies"},{unit:"Litres (L)",desc:"Volume of liquids",notes:"Water, chemicals, fuel, beverages"},{unit:"Millilitres (mL)",desc:"Smaller volume units",notes:"Lab chemicals, oils"},{unit:"Cubic meters (m)",desc:"Larger volume units",notes:"Bulk liquids, gases, wood stacks (stere)"},{unit:"Kilograms (kg)",desc:"Weight or mass",notes:"Raw materials, bulk goods"},{unit:"Grams (g)",desc:"Smaller weight units",notes:"Ingredients, powders"},{unit:"Tons (t)",desc:"Large weight units",notes:"Coal, minerals, industrial bulk materials"},{unit:"Kilowatt-hour (kWh)",desc:"Energy consumption or production",notes:"Electricity usage or generation"},{unit:"Megajoules (MJ)",desc:"Energy measurement",notes:"Industrial energy, fuels"},{unit:"British Thermal Unit (BTU)",desc:"Energy measurement",notes:"Heating, cooling, fuel energy"},{unit:"Square meters (m)",desc:"Area measurement",notes:"Floor space, production area"},{unit:"Square feet (ft)",desc:"Area measurement",notes:"Office, commercial space"},{unit:"Hours (h)",desc:"Time duration",notes:"Production time, machine run time"},{unit:"Minutes (min)",desc:"Smaller time units",notes:"Cycle times, process durations"},{unit:"Seconds (s)",desc:"Precise time measurement",notes:"High-frequency process timing"},{unit:"Pallets",desc:"Unit load for transport/storage",notes:"Industrial logistics, warehousing"},{unit:"Batches",desc:"Grouped production lots",notes:"Chemical batches, food production batches"},{unit:"Cycles",desc:"Repetitive process counts",notes:"Machine cycles, production cycles"},{unit:"Barrels (bbl)",desc:"Volume for petroleum products",notes:"Oil industry volume measurement (1 barrel  159 litres)"},{unit:"Gallons (gal)",desc:"Volume (imperial/US)",notes:"Fuel, liquids"},{unit:"Cubic feet (cf)",desc:"Volume (imperial)",notes:"Gas volumes, wood volume"},{unit:"Pieces per hour (P/hr)",desc:"Production rate",notes:"Manufacturing throughput"},{unit:"Units per shift",desc:"Production quantity per work shift",notes:"Factory production KPIs"},{unit:"Kilograms per hour (kg/h)",desc:"Production mass flow rate",notes:"Continuous process industries"}];async function Nee(i){if(!i)throw new Error("combine_id is required!");console.log("combine_id:",i);try{const t=await Jn.request(KD,{input:{uid:i}});if(console.log("deleteKpiByUid response:",t),it.success("KPI deleted successfully!"),!t?.deleteKpiByUid?.kpi)throw new Error("Failed to delete KPI row");return t.deleteKpiByUid.kpi}catch(t){throw console.error("Delete KPI error:",t.response?.errors||t),it.error(`Failed to delete KPI: ${t.message}`),t}}async function Ree(i){console.log("Deleting KPI by uid:",i);try{const t=await Jn.request(KD,{input:{uid:i}});if(console.log("Delete KPI by uid response:",t),it.success("KPI deleted successfully!"),!t?.deleteKpiByUid?.kpi)throw new Error("Failed to delete KPI by uid");return t}catch(t){throw console.error("Delete KPI by uid error:",t),it.error(`Failed to delete KPI by uid: ${t.message}`),t}}const Lee=()=>{const[i,t]=X.useState(""),[s,r]=X.useState(""),[a,u]=X.useState([]),[d,p]=X.useState(!1),[m,y]=X.useState([{parameter:"",value:"",unit:""}]),[b,S]=X.useState(!1),[M,A]=X.useState([]),[R,E]=X.useState(null),[_,T]=X.useState(null),[B,z]=X.useState(!1),[W,L]=X.useState(null),[U,I]=X.useState(!1),[q,ee]=X.useState(null),[te,ce]=X.useState("minutes"),[re,ae]=X.useState(!1),[ue,ie]=X.useState([]),[he,pe]=X.useState(!1),de={"& .MuiInputBase-root":{height:28,fontSize:12,minHeight:0},"& .MuiInputBase-input":{py:.2,fontSize:12}},xe=(Ve,at,xt)=>{u(_t=>_t.map((Mt,rt)=>rt===Ve?{...Mt,[at]:xt}:Mt))},Se=(Ve,at,xt)=>{y(_t=>_t.map((Mt,rt)=>rt===Ve?{...Mt,[at]:xt}:Mt))},be=()=>{m.length<10&&y(Ve=>[...Ve,{parameter:"",value:"",unit:""}])},Ne=Ve=>{m.length>1&&y(at=>at.filter((xt,_t)=>_t!==Ve))},_e=async()=>{try{const Ve=await Jn.request(JY);if(console.log("Fetched KPI data:",Ve.allKpis.nodes),Ve?.allKpis){const at=Ve.allKpis.nodes||[];if(at.length>0){const xt=at.filter(mt=>mt.added===!0),_t={};xt.forEach(mt=>{_t[mt.parameters]=mt.units});const rt=[...new Set(xt.map(mt=>mt.parameters))].map(mt=>({parameter:mt,unit:_t[mt]||"",value:""})),Tt={};at.filter(mt=>mt.added===!1).forEach(mt=>{(!Tt[mt.parameters]||new Date(mt.created_date)>new Date(Tt[mt.parameters].created_date))&&(Tt[mt.parameters]=mt)});const ft=rt.map(mt=>({...mt,value:Tt[mt.parameter]?.values||""}));A(at),u(ft)}else A([]),u([])}else A([]),u([])}catch(Ve){console.error("Error fetching KPI data:",Ve),A([]),u([])}};X.useEffect(()=>{_e()},[]);const Me=async()=>{console.log("dialogParameters",m);const Ve=m.filter(at=>at.parameter.trim()!==""&&at.unit.trim()!=="");if(Ve.length>0){console.log("validParameters",Ve);try{await ze(Ve,{},null,!0),p(!1),y([{parameter:"",value:"",unit:""}]),_e()}catch(at){it.error("Failed to save KPI data."),console.error("Error saving KPI data:",at)}}else it.error("Please fill in at least one parameter completely")},qe=()=>{p(!1),y([{parameter:"",value:"",unit:""}])};async function ze(Ve,at={},xt=null,_t=!1){try{for(const Mt of Ve){const rt=Mt.value&&!isNaN(parseFloat(Mt.value))?parseFloat(Mt.value):0;if(!(await Jn.request(ZY,{input:{kpi:{values:rt,parameters:Mt.parameter,units:Mt.unit,added:_t,createdDate:Mt.created_date||null,combineId:Mt.combine_id||null}}}))?.createKpi?.kpi)throw new Error("No rows affected during KPI insertion")}it.success("KPI data written successfully!")}catch(Mt){throw console.error("GraphQL KPI insertion error:",Mt),it.error("Error: "+(Mt.message||"Failed to insert KPI data")),Mt}}const $e=async()=>{console.log("fields",a);const Ve=a.filter(at=>at&&typeof at.parameter=="string"&&at.parameter.trim()!==""&&at.value!==void 0&&at.value!==null&&String(at.value).trim()!=="").map(at=>({...at}));if(Ve.length>0)try{const at=window.crypto&&window.crypto.randomUUID?window.crypto.randomUUID():`${Date.now()}_${Math.random().toString(36).substr(2,9)}`,xt=i?new Date(i).toISOString():null,_t=s?new Date(s).toISOString():null,Mt=Ve.map(Tt=>({...Tt,created_date:xt,combine_id:at})),rt=Ve.map(Tt=>({...Tt,created_date:_t,combine_id:at}));await ze([...Mt,...rt],{},null,!1),_e(),u(Tt=>Tt.map(ft=>({...ft,value:""}))),pe(!0),t(""),r("")}catch(at){it.error("Failed to save KPI data."),console.error("Error saving KPI data:",at)}else it.error("Please fill in at least one parameter completely")};Array.from(new Set(M.map(Ve=>Ve.parameters).filter(Boolean)));const Ue=(Ve,at)=>{E(Ve.currentTarget),T(at)},Pe=()=>{E(null),T(null)},Re=()=>{_!==null&&nn[_]&&(L(nn[_]),z(!0)),Pe()},De=Ve=>{console.log("row",Ve),I(!0),ee(Ve),Pe()},je=()=>{z(!1),L(null)},Ee=()=>{I(!1),ee(null)},Qe=async Ve=>{if(!Ve.uid){it.error("Cannot delete: UID is required for deletion."),Ee();return}console.log("Deleting KPI row:",Ve.uid,"deleteRowData",Ve);try{await Nee(Ve.uid),_e(),Ee()}catch{it.error("Failed to delete KPI row.")}},ut=m.some(Ve=>!Ve.parameter.trim()||!Ve.unit.trim());function Ht(Ve,at,xt){if(!Ve||!at)return"";const _t=new Date(Ve),rt=new Date(at)-_t;return rt<=0?"":xt==="minutes"?Math.floor(rt/(1e3*60)):xt==="hours"?Math.floor(rt/(1e3*60*60)):xt==="days"?Math.floor(rt/(1e3*60*60*24)):""}const un=Ht(i,s,te),Ct=()=>{ie([]),ae(!0)},ht=()=>{ae(!1),ie([])},Ze=Ve=>{ie(at=>at.includes(Ve)?at.filter(xt=>xt!==Ve):[...at,Ve])},yt=async()=>{try{console.log("delete");for(const Ve of ue){const at=M.filter(xt=>xt.parameters===Ve).map(xt=>xt.uid);for(const xt of at)await Ree(xt)}u(Ve=>Ve.filter(at=>!ue.includes(at.parameter))),_e(),it.success("Fields deleted successfully!"),ht()}catch(Ve){console.log("Error deleting fields:",Ve),it.error("Failed to delete one or more fields.")}};X.useEffect(()=>{i&&s&&pe(!1)},[i,s]);const Ut={};M.filter(Ve=>Ve.added===!1).forEach(Ve=>{const at=Ve.combine_id||Ve.uid;Ut[at]?(Ut[at].uids.push(Ve.uid),Ut[at].values.push(Ve.values),Ut[at].created_dates.push(Ve.created_date)):Ut[at]={...Ve,uids:[Ve.uid],values:[Ve.values],created_dates:[Ve.created_date]}});const nn=Object.values(Ut).map(Ve=>{const at=Ve.created_dates.filter(Boolean).map(Mt=>new Date(Mt)).sort((Mt,rt)=>Mt-rt);let xt="-";if(at.length>0){const Mt=at[0].toLocaleString(),rt=at[at.length-1].toLocaleString();xt=Mt===rt?Mt:`${Mt}  ${rt}`}let _t="-";return Ve.values&&Ve.values.length>0&&(_t=Ve.values.every(rt=>rt===Ve.values[0])?Ve.values[0]:Ve.values.join(", ")),{...Ve,createdDateDisplay:xt,uid:Ve.uids.join(", "),values:_t}});return console.log("mergedKpiData",nn),console.log("fields",a),D.jsxs(Bt,{sx:{p:{xs:1,sm:1}},children:[D.jsxs(ts,{elevation:3,sx:{p:{xs:.5,sm:1},borderRadius:2,textAlign:"center"},children:[D.jsxs(Bt,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,flexWrap:"wrap",gap:.5},children:[D.jsx(Oe,{variant:"h6",sx:{fontSize:"1.05rem"},children:"Key Performance Indicators"}),D.jsxs(Bt,{sx:{display:"flex",alignItems:"center",gap:.5},children:[D.jsx(Sn,{variant:"contained",size:"small",startIcon:D.jsx(YT,{}),onClick:()=>{p(!0),t(""),r("")},sx:{minWidth:"auto",px:1,py:.25,fontSize:"0.85rem"},children:"Add Parameter"}),D.jsx(Sn,{variant:"outlined",startIcon:D.jsx(c0,{}),size:"small",sx:{minWidth:"auto",px:1,py:.25,fontSize:"0.85rem"},onClick:Ct,disabled:a.length===0,children:"Delete Parameters"})]})]}),D.jsxs(Bt,{sx:{display:"flex",flexDirection:"row",alignItems:"center",gap:2,mb:.5},children:[D.jsxs(Bt,{sx:{display:"flex",alignItems:"center",gap:.5},children:[D.jsx(Oe,{variant:"subtitle2",sx:{fontWeight:"bold",fontSize:"0.95rem"},children:"From:"}),D.jsx(Gn,{type:"datetime-local",value:i,onChange:Ve=>t(Ve.target.value),size:"extraSmall",sx:de,inputProps:{max:new Date().toISOString().slice(0,16)}})]}),D.jsxs(Bt,{sx:{display:"flex",alignItems:"center",gap:.5},children:[D.jsx(Oe,{variant:"subtitle2",sx:{fontWeight:"bold",fontSize:"0.95rem"},children:"To:"}),D.jsx(Gn,{type:"datetime-local",value:s,onChange:Ve=>r(Ve.target.value),size:"extraSmall",sx:de,inputProps:{max:new Date().toISOString().slice(0,16)}})]})]}),i&&s&&D.jsxs(Bt,{sx:{display:"flex",alignItems:"center",gap:1,mt:1},children:[D.jsx(Oe,{sx:{fontWeight:"bold",minWidth:70,fontSize:"0.95rem"},children:"Duration"}),D.jsx(Gn,{value:un,InputProps:{readOnly:!0},size:"small",sx:de}),D.jsxs(Jm,{value:te,onChange:Ve=>ce(Ve.target.value),size:"small",sx:de,children:[D.jsx(io,{value:"minutes",children:"Minutes"}),D.jsx(io,{value:"hours",children:"Hours"}),D.jsx(io,{value:"days",children:"Days"})]})]}),D.jsxs(Bt,{sx:{position:"relative"},children:[D.jsx(Ra,{sx:{maxWidth:"100%",overflowX:"auto",opacity:i&&s?1:.5},children:D.jsxs(oo,{size:"small",sx:{minWidth:400},children:[D.jsx(qa,{children:D.jsxs(wn,{sx:{height:26,"& th, & td":{py:.25}},children:[D.jsx(Fe,{align:"center",sx:{fontWeight:"bold",py:.25},children:"Parameters"}),D.jsx(Fe,{align:"center",sx:{fontWeight:"bold",py:.25},children:"Values"}),D.jsx(Fe,{align:"center",sx:{fontWeight:"bold",py:.25},children:"Unit"})]})}),D.jsx(ao,{children:a.filter(Ve=>Ve.parameter!=="from_date"&&Ve.parameter!=="to_date").map((Ve,at)=>D.jsxs(wn,{children:[D.jsx(Fe,{align:"center",children:D.jsx(Gn,{type:"text",value:Ve.parameter,onChange:xt=>xe(at,"parameter",xt.target.value),size:"small",fullWidth:!0,disabled:!0,sx:{...de,"& .MuiInputBase-input.Mui-disabled":{WebkitTextFillColor:"black"}}})}),D.jsx(Fe,{align:"center",children:D.jsx(Gn,{type:"text",inputMode:"decimal",value:Ve.value,onChange:xt=>{const _t=xt.target.value.replace(",",".");/^\d*\.?\d*$/.test(_t)&&xe(at,"value",_t)},onKeyDown:xt=>{const _t=["Backspace","Tab","ArrowLeft","ArrowRight","Delete","."];(xt.ctrlKey||xt.metaKey)&&["a","c","v","x"].includes(xt.key.toLowerCase())||(!_t.includes(xt.key)&&!/^[0-9]$/.test(xt.key)&&xt.preventDefault(),xt.key==="."&&xt.currentTarget.value.includes(".")&&xt.preventDefault())},size:"small",disabled:!i||!s||he,sx:de})}),D.jsx(Fe,{align:"center",children:D.jsx(Gn,{type:"text",value:Ve.unit||"",size:"small",fullWidth:!0,disabled:!0,sx:{...de,"& .MuiInputBase-input.Mui-disabled":{WebkitTextFillColor:"black"}}})})]},at))})]})}),(!i||!s)&&D.jsx(Bt,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",bgcolor:"rgba(255,255,255,0.6)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"all",borderRadius:2}})]}),D.jsx(Bt,{sx:{display:"flex",justifyContent:"center",alignItems:"center",mt:.5},children:D.jsx(Sn,{variant:"contained",size:"small",onClick:$e,disabled:!i||!s||i===s||he,children:"Submit"})})]}),D.jsxs(Ji,{open:d,onClose:qe,maxWidth:"md",fullWidth:!0,children:[D.jsx(Ks,{align:"center",children:"Add KPI Parameters"}),D.jsxs(ws,{children:[D.jsxs(oo,{size:"small",children:[D.jsx(qa,{children:D.jsxs(wn,{children:[D.jsx(Fe,{sx:{fontWeight:"bold"},children:"Parameter Name"}),D.jsx(Fe,{sx:{fontWeight:"bold"},children:"Unit"}),D.jsx(Fe,{})]})}),D.jsx(ao,{children:m.map((Ve,at)=>D.jsxs(wn,{children:[D.jsx(Fe,{children:D.jsx(Gn,{value:Ve.parameter,onChange:xt=>{const _t=xt.target.value.toUpperCase();if(M.map(rt=>rt.parameters).filter(Boolean).includes(_t)){it.error("Cannot add parameter name that already exists");return}console.log("Changing parameter:",_t),Se(at,"parameter",_t)},size:"small",sx:{...de,minWidth:300}})}),D.jsx(Fe,{children:D.jsxs(Jm,{value:Ve.unit,onChange:xt=>Se(at,"unit",xt.target.value),size:"small",displayEmpty:!0,fullWidth:!0,sx:{...de,minWidth:100},children:[D.jsx(io,{value:"",children:D.jsx("em",{children:"Select Unit"})}),Dee.map(xt=>D.jsx(io,{value:xt,children:xt},xt))]})}),D.jsx(Fe,{children:D.jsx(Hi,{onClick:()=>Ne(at),disabled:m.length===1,color:"error",children:D.jsx(c0,{})})})]},at))})]}),m.length<10&&D.jsx(Sn,{variant:"outlined",startIcon:D.jsx(YT,{}),onClick:be,size:"small",sx:{alignSelf:"flex-start",mt:2},children:"Add Parameter"})]}),D.jsxs(qs,{sx:{justifyContent:"center"},children:[D.jsx(Sn,{onClick:qe,variant:"contained",size:"small",color:"info",children:"Cancel"}),D.jsx(Sn,{onClick:Me,variant:"contained",size:"small",disabled:ut,children:"Submit"})]})]}),D.jsxs(Ji,{open:b,onClose:()=>S(!1),maxWidth:"md",fullWidth:!0,children:[D.jsx(Ks,{children:"Unit of Measure (UoM) Information"}),D.jsx(ws,{children:D.jsxs(oo,{size:"small",children:[D.jsx(qa,{children:D.jsxs(wn,{children:[D.jsx(Fe,{sx:{fontWeight:"bold"},children:"Unit"}),D.jsx(Fe,{sx:{fontWeight:"bold"},children:"Description / Usage Example"}),D.jsx(Fe,{sx:{fontWeight:"bold"},children:"Notes / Typical Industry Application"})]})}),D.jsx(ao,{children:Eee.map(Ve=>D.jsxs(wn,{sx:{"& td":{py:.25}},children:[D.jsx(Fe,{sx:{fontSize:"0.85rem"},children:Ve.unit}),D.jsx(Fe,{sx:{fontSize:"0.85rem"},children:Ve.desc}),D.jsx(Fe,{sx:{fontSize:"0.85rem"},children:Ve.notes})]},Ve.unit))})]})}),D.jsx(qs,{children:D.jsx(Sn,{onClick:()=>S(!1),children:"Close"})})]}),D.jsxs(ts,{elevation:1,sx:{mt:2},children:[D.jsx(Oe,{variant:"h6",sx:{fontSize:"1.05rem",ml:1,pt:1},children:"All KPI Data"}),D.jsx(Ra,{children:D.jsxs(oo,{size:"small",children:[D.jsx(qa,{children:D.jsxs(wn,{children:[D.jsx(Fe,{sx:{fontWeight:"bold",whiteSpace:"nowrap"},children:"Sl. No"}),D.jsx(Fe,{sx:{fontWeight:"bold",width:"30%"},children:"Parameter"})," ",D.jsx(Fe,{sx:{fontWeight:"bold",whiteSpace:"nowrap"},children:"Value"}),D.jsx(Fe,{sx:{fontWeight:"bold",whiteSpace:"nowrap"},children:"Unit"}),D.jsx(Fe,{sx:{fontWeight:"bold",whiteSpace:"nowrap"},children:"Created Date (From - To)"}),D.jsx(Fe,{sx:{fontWeight:"bold",whiteSpace:"nowrap"},children:"Updated Date"}),D.jsx(Fe,{})," "]})}),D.jsx(ao,{children:nn.length>0?nn.map((Ve,at)=>D.jsxs(wn,{sx:{height:0},children:[D.jsx(Fe,{sx:{py:.1,whiteSpace:"nowrap",fontSize:"10px"},children:at+1}),D.jsx(Fe,{sx:{py:.1,width:"30%",fontSize:"10px"},children:Ve.parameters||"-"}),D.jsx(Fe,{sx:{py:.1,whiteSpace:"nowrap",fontSize:"10px"},children:Ve.values||"-"}),D.jsx(Fe,{sx:{py:.1,whiteSpace:"nowrap",fontSize:"10px"},children:Ve.units||"-"}),D.jsx(Fe,{sx:{py:.1,whiteSpace:"nowrap",fontSize:"10px"},children:Ve.createdDateDisplay}),D.jsx(Fe,{sx:{py:.1,whiteSpace:"nowrap",fontSize:"10px"},children:Ve.updated_date?new Date(Ve.updated_date).toLocaleString():"-"}),D.jsxs(Fe,{align:"right",sx:{py:.5},children:[D.jsx(Hi,{onClick:xt=>Ue(xt,at),"aria-label":"more options",size:"small",children:D.jsx(Aee,{fontSize:"small"})}),D.jsxs(tw,{anchorEl:R,open:_===at,onClose:Pe,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[D.jsx(io,{onClick:Re,children:"View"}),D.jsx(io,{onClick:()=>De(Ve),children:"Delete"})]})]})]},at)):D.jsx(wn,{children:D.jsx(Fe,{colSpan:8,align:"center",children:"No KPI data available."})})})]})})]}),D.jsxs(Ji,{open:B,onClose:je,maxWidth:"sm",fullWidth:!0,children:[D.jsx(Ks,{children:"KPI Row Details"}),D.jsx(ws,{children:W&&D.jsx(oo,{size:"small",children:D.jsxs(ao,{children:[D.jsxs(wn,{children:[D.jsx(Fe,{sx:{fontWeight:"bold",width:"30%"},children:"Parameter"}),D.jsx(Fe,{children:W.parameters||"-"})]}),D.jsxs(wn,{children:[D.jsx(Fe,{sx:{fontWeight:"bold",width:"30%"},children:"Value"}),D.jsx(Fe,{children:W.values||"-"})]}),D.jsxs(wn,{children:[D.jsx(Fe,{sx:{fontWeight:"bold",width:"30%"},children:"Unit"}),D.jsx(Fe,{children:W.units||"-"})]}),D.jsxs(wn,{children:[D.jsx(Fe,{sx:{fontWeight:"bold",width:"30%"},children:"Created Date"}),D.jsx(Fe,{children:W.createdDateDisplay||"-"})]}),D.jsxs(wn,{children:[D.jsx(Fe,{sx:{fontWeight:"bold",width:"30%"},children:"Updated Date"}),D.jsx(Fe,{children:W.updated_date?new Date(W.updated_date).toLocaleString():"-"})]})]})})}),D.jsx(qs,{children:D.jsx(Sn,{onClick:je,variant:"contained",size:"small",children:"Close"})})]}),D.jsxs(Ji,{open:U,onClose:Ee,maxWidth:"xs",fullWidth:!0,children:[D.jsx(Ks,{children:"Delete Confirmation"}),D.jsx(ws,{children:D.jsx(Oe,{children:"Are you sure you want to delete?"})}),D.jsxs(qs,{children:[D.jsx(Sn,{onClick:Ee,variant:"contained",size:"small",color:"info",children:"Cancel"}),D.jsx(Sn,{onClick:()=>Qe(q),variant:"contained",color:"error",size:"small",children:"Delete"})]})]}),D.jsxs(Ji,{open:re,onClose:ht,maxWidth:"xs",fullWidth:!0,children:[D.jsx(Ks,{sx:{py:1,px:1},children:"Delete Parameters"}),D.jsxs(ws,{sx:{py:0,px:1},children:[D.jsx(Oe,{children:"Select parameters to delete:"}),D.jsx(tu,{spacing:0,children:a.filter(Ve=>Ve.parameter!=="from_date"&&Ve.parameter!=="to_date"&&Ve.parameter!=="created_by"&&Ve.parameter!=="time").map((Ve,at)=>D.jsxs(Bt,{sx:{display:"flex",alignItems:"center",minHeight:10,py:0},children:[D.jsx(Zf,{size:"small",checked:ue.includes(Ve.parameter),onChange:()=>Ze(Ve.parameter),sx:{my:0}}),D.jsx(Oe,{sx:{fontSize:"0.95rem",my:0},children:Ve.parameter})]},Ve.parameter))})]}),D.jsxs(qs,{children:[D.jsx(Sn,{onClick:ht,variant:"contained",size:"small",color:"info",children:"Cancel"}),D.jsx(Sn,{onClick:yt,variant:"contained",color:"error",size:"small",disabled:ue.length===0,children:"Delete"})]})]})]})},Oee="/Switchology.png",XT=({password:i,setPassword:t,onSubmit:s,showForgotDialog:r,setShowForgotDialog:a,forgotAuthKey:u,setForgotAuthKey:d,resetTarget:p,setResetTarget:m,newPassword:y,setNewPassword:b,confirmPassword:S,setConfirmPassword:M,handleResetPassword:A,role:R})=>D.jsxs("form",{onSubmit:s,style:{display:"flex",flexDirection:"column",alignItems:"center",gap:5},children:[D.jsx(Pc,{label:`${R} Password`,value:i,onChange:E=>t(E.target.value),error:!!i&&i.length<4,helperText:i&&i.length<4?"Minimum 4 characters":""}),R==="Admin"&&D.jsx(Bt,{sx:{width:"100%",display:"flex",justifyContent:"flex-end"},children:D.jsx(Oe,{variant:"body2",color:"primary",sx:{cursor:"pointer"},onClick:()=>a(!0),children:"Forgot Password?"})}),D.jsx(Sn,{type:"submit",variant:"contained",size:"small",disabled:i.length!==4,children:"Login"}),D.jsx(Iee,{open:r,onClose:()=>a(!1),authKey:u,onAuthKeyChange:d,resetTarget:p,onResetTargetChange:m,newPassword:y,onNewPasswordChange:b,confirmPassword:S,onConfirmPasswordChange:M,onReset:A})]}),Iee=({open:i,onClose:t,authKey:s,onAuthKeyChange:r,resetTarget:a,onResetTargetChange:u,newPassword:d,onNewPasswordChange:p,confirmPassword:m,onConfirmPasswordChange:y,onReset:b})=>D.jsx(Ji,{open:i,onClose:t,maxWidth:"xs",fullWidth:!0,children:D.jsxs(ws,{sx:{display:"flex",flexDirection:"column",gap:2},children:[D.jsx(Oe,{variant:"subtitle2",textAlign:"center",children:"Forgot Password"}),D.jsx(Gn,{label:"Auth Key",type:"password",value:s,onChange:S=>r(S.target.value),fullWidth:!0,size:"small"}),D.jsxs(Gn,{label:"Change For",select:!0,value:a,onChange:S=>u(S.target.value),SelectProps:{native:!0},fullWidth:!0,size:"small",children:[D.jsx("option",{value:"ADMIN",children:"Admin"}),D.jsx("option",{value:"VIEWER",children:"Viewer"})]}),D.jsx(Gn,{label:"New Password",type:"password",value:d,onChange:S=>p(S.target.value),fullWidth:!0,size:"small"}),D.jsx(Gn,{label:"Confirm Password",type:"password",value:m,onChange:S=>y(S.target.value),fullWidth:!0,size:"small"}),D.jsxs(Bt,{sx:{display:"flex",gap:1},children:[D.jsx(Sn,{variant:"outlined",size:"small",onClick:t,fullWidth:!0,children:"Cancel"}),D.jsx(Sn,{variant:"contained",size:"small",onClick:b,disabled:!s||!d||d!==m,fullWidth:!0,children:"Reset"})]})]})}),GT=_n.forwardRef(function(t,s){const{children:r,value:a,index:u,...d}=t;return D.jsx("div",{role:"tabpanel",hidden:a!==u,id:`login-tabpanel-${u}`,"aria-labelledby":`login-tab-${u}`,ref:s,...d,children:a===u&&r})}),Fee=()=>{const i=vs(),t=Fh(),{setRole:s}=Kl(),[r,a]=X.useState(null),[u,d]=X.useState(""),[p,m]=X.useState(!1),[y,b]=X.useState(""),[S,M]=X.useState("ADMIN"),[A,R]=X.useState(""),[E,_]=X.useState(""),[T,B]=X.useState(0),[z,W]=X.useState(!1);X.useEffect(()=>{W(!0),(async()=>{try{await Ma.getState().fetchAdminPassword();const te=Ma.getState().adminPassword,ce=Ma.getState().viewerPassword,re=Ma.getState().nodeId,ae=Ma.getState().userid;console.log("adadad",te,ce,re,ae),te&&a({adminPassword:te,viewerPassword:ce,nodeId:re,userid:ae})}catch(te){console.error("Error fetching profile data:",te)}})()},[]);const L=async ee=>{if(ee.preventDefault(),!r){it.error("Profile data not loaded. Please try again later.");return}const te=T===0?u===r.adminPassword:u===r.viewerPassword;console.log("popopop",te,u,r.adminPassword);const ce=T===0?"ADMIN":"VIEWER";if(te)try{s(ce),localStorage.setItem("userid",r.userid),localStorage.setItem("userRole",ce);const re={token:Math.random().toString(36).substring(2),createdAt:Date.now()},ae=JSON.stringify(re);sessionStorage.setItem("secureTokenData",ae),localStorage.setItem("secureTokenData",ae),console.log("Login successful - token set"),console.log("Token stored:",ae),console.log("User ID stored:",r.userid),console.log("Role stored:",ce),t("/dashboard",{replace:!0})}catch(re){it.error("Login failed: "+(re.message||"Unknown error"))}else it.error("Invalid credentials")},U=async()=>{const ee="skygw123";if(console.log("erere",ee),!y||y!==ee){it.error("Invalid authentication key");return}if(!A||A.length<4){it.error("Password must be at least 4 characters");return}if(A!==E){it.error("Passwords do not match");return}if(S==="ADMIN"&&A===r?.viewerPassword){it.error("Admin and Viewer passwords cannot be the same");return}if(S==="VIEWER"&&A===r?.adminPassword){it.error("Viewer and Admin passwords cannot be the same");return}try{if(!r?.userid){it.error("User not loaded");return}(await Jn.request(FY,{input:{userid:r.userid,profilePatch:{...S==="ADMIN"?{adminPassword:A}:{viewerPassword:A}}}}))?.updateProfileByUserid?.profile?(it.success(`${S==="ADMIN"?"Admin":"Viewer"} password updated`),m(!1),b(""),R(""),_(""),window.location.reload()):it.error("Reset failed or email not found.")}catch(te){it.error("Reset failed: "+(te.message||"Unknown error"))}},I={400:"#FF8F82",600:"#D04A1A"},q=(ee,te)=>{B(te)};return D.jsx(Bt,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"98vh",backgroundColor:i.palette.background.default},children:D.jsx(Fi,{in:z,timeout:700,children:D.jsx(dB,{sx:{maxWidth:500,width:"100%",boxShadow:i.shadows[8],borderRadius:3,overflow:"hidden"},children:D.jsxs(yB,{sx:{display:"flex",flexDirection:"column",alignItems:"center",p:{xs:2,sm:3}},children:[D.jsx("img",{src:Oee,alt:"Switchology Logo",style:{height:"80px",width:"100%",objectFit:"scale-down"}}),D.jsx(Oe,{sx:{maxWidth:"80%",mx:"auto",fontWeight:600,fontSize:13,lineHeight:"16px",textAlign:"center",color:i.palette.text.secondary,my:1},children:"You can Login using Admin or Viewer"}),D.jsxs(Bt,{sx:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",mt:0},children:[D.jsxs(UW,{value:T,onChange:q,indicatorColor:"primary",textColor:"primary",variant:"fullWidth",sx:{minWidth:{xs:"100%",sm:400},backgroundColor:"white",borderRadius:"12px",marginBottom:"16px",boxShadow:`0 4px 10px ${i.palette.mode==="dark"?"rgba(0,0,0, 0.5)":"rgba(0,0,0, 0.25)"}`,"& .MuiTabs-indicator":{backgroundColor:I[600],height:"4px",borderRadius:"2px"}},children:[D.jsx(FP,{label:"Admin",id:"login-tab-0","aria-controls":"login-tabpanel-0",sx:{color:I[600],fontWeight:"bold",fontSize:"0.875rem",borderRadius:"8px 0 0 8px",transition:"background-color 0.3s, color 0.3s, transform 0.2s","&.Mui-selected":{backgroundColor:I[600],color:"white"},"&:hover":{backgroundColor:I[400],transform:"translateY(-2px)"}}}),D.jsx(FP,{label:"Viewer",id:"login-tab-1","aria-controls":"login-tabpanel-1",sx:{color:I[600],fontWeight:"bold",fontSize:"0.875rem",borderRadius:"0 8px 8px 0",transition:"background-color 0.3s, color 0.3s, transform 0.2s","&.Mui-selected":{backgroundColor:I[600],color:"white"},"&:hover":{backgroundColor:I[400],transform:"translateY(-2px)"}}})]}),D.jsx(Bt,{sx:{width:"100%",px:{xs:1,sm:2}},children:r?D.jsxs(D.Fragment,{children:[D.jsx(GT,{value:T,index:0,children:D.jsx(XT,{password:u,setPassword:d,onSubmit:L,showForgotDialog:p,setShowForgotDialog:m,forgotAuthKey:y,setForgotAuthKey:b,resetTarget:S,setResetTarget:M,newPassword:A,setNewPassword:R,confirmPassword:E,setConfirmPassword:_,handleResetPassword:U,role:"Admin",disabled:!r})}),D.jsx(GT,{value:T,index:1,children:D.jsx(XT,{password:u,setPassword:d,onSubmit:L,showForgotDialog:p,setShowForgotDialog:m,forgotAuthKey:y,setForgotAuthKey:b,resetTarget:S,setResetTarget:M,newPassword:A,setNewPassword:R,confirmPassword:E,setConfirmPassword:_,handleResetPassword:U,role:"Viewer",disabled:!r})})]}):D.jsx(Oe,{color:"error",align:"center",sx:{my:2},children:"Loading profile data..."})})]})]})})})})},jee=({loading:i,tariffData:t,fields:s,handleEdit:r,handleDeleteClick:a})=>D.jsx(Ra,{component:ts,children:D.jsxs(oo,{size:"small",children:[D.jsx(qa,{children:D.jsxs(wn,{children:[D.jsx(Fe,{sx:{fontSize:"0.675rem",fontWeight:"bold",textAlign:"center",width:"5%"},children:"Created Date"}),D.jsx(Fe,{sx:{fontSize:"0.675rem",fontWeight:"bold",textAlign:"center",width:"5%"},children:"Updated Date"}),s.map(u=>D.jsx(Fe,{sx:{fontSize:"0.675rem",fontWeight:"bold",textAlign:"center"},children:u.label},u.name)),D.jsx(Fe,{sx:{fontSize:"0.675rem",fontWeight:"bold",textAlign:"center"},children:"Actions"})]})}),D.jsx(ao,{children:i?D.jsx(wn,{children:D.jsx(Fe,{colSpan:s.length+3,sx:{textAlign:"center"},children:"Loading..."})}):t?.tariffs.map(u=>D.jsxs(wn,{children:[D.jsx(Fe,{sx:{textAlign:"center",fontSize:"0.675rem"},children:Hn.formatDatesInTariff(u.createdDate)}),D.jsx(Fe,{sx:{textAlign:"center",fontSize:"0.675rem"},children:Hn.formatDatesInTariff(u.updatedDate)}),D.jsx(Fe,{sx:{textAlign:"center",fontSize:"0.675rem"},children:u.tariffName}),D.jsx(Fe,{sx:{textAlign:"center",fontSize:"0.675rem"},children:u.percentOfCdKva}),D.jsx(Fe,{sx:{textAlign:"center",fontSize:"0.675rem"},children:u.demandChargesRsKva}),D.jsx(Fe,{sx:{textAlign:"center",fontSize:"0.675rem"},children:u.energyChargesRsKwh}),D.jsx(Fe,{sx:{textAlign:"center",fontSize:"0.675rem"},children:u.fuelCostAdjRsKwh}),D.jsx(Fe,{sx:{textAlign:"center",fontSize:"0.675rem"},children:u.interestOnRevenue}),D.jsx(Fe,{sx:{textAlign:"center",fontSize:"0.675rem"},children:u.interestOnTax}),D.jsx(Fe,{sx:{textAlign:"center",fontSize:"0.675rem"},children:u.taxPercent}),D.jsxs(Fe,{sx:{display:"flex",flexDirection:"row",justifyContent:"center"},children:[D.jsx(Hi,{color:"primary",size:"small",onClick:()=>r(u),children:D.jsx(AN,{})}),D.jsx(Hi,{color:"error",size:"small",onClick:()=>a(u),children:D.jsx(c0,{})})]})]},u.id))})]})}),_ee=({fields:i,formData:t,tariffData:s,loading:r,onChange:a,onClose:u,onSave:d,onTariffChange:p})=>{const[m,y]=X.useState(!1),[b,S]=X.useState(null),M=async(L,U)=>{const I={input:{id:L,tariffPatch:U}};try{const q=await Jn.request(YY,I);if(q?.updateTariffById?.tariff)return it.success("Tariff updated successfully!"),Object.keys(t).forEach(ee=>a(ee,"")),p&&p(),q.updateTariffById.tariff;throw it.error("Failed to update tariff: No data returned"),new Error("No data returned from mutation")}catch(q){throw console.error("Update mutation error:",q),it.error(`Error updating tariff: ${q.message}`),q}finally{u()}},A=async L=>{try{console.log("Attempting to delete tariff:",L);const U=await Jn.request(UY,{input:{id:L}});console.log("Delete response:",U);const{deleteTariffById:I}=U;if(I?.tariff)return it.success("Tariff deleted successfully!"),y(!1),S(null),p&&p(),I.tariff;throw new Error("No data returned from server")}catch(U){throw console.error("Delete operation failed:",{error:U.message,id:L,stack:U.stack,clientStatus:!!Hn?.graphqlClient}),it.error(`Delete failed: ${U.message}`),U}},R=(L,U)=>{if(L.type==="float"){if(U===""){a(L.name,"");return}if(U==="."){a(L.name,"0.");return}if(!/^\d*\.?\d*$/.test(U))return;const q=parseFloat(U);if(isNaN(q)){a(L.name,U);return}if(L.min!==void 0&&q<L.min||L.max!==void 0&&q>L.max)return;if(U.endsWith(".")){a(L.name,U);return}const ee=U.split(".");ee[1]&&ee[1].length>L.precision?a(L.name,q.toFixed(L.precision)):a(L.name,U)}else L.type==="text"&&L.length?a(L.name,U.slice(0,L.length)):a(L.name,U)},E=L=>L.type==="float"&&(L.min!==void 0||L.max!==void 0)?`(Range: ${L.min||0} to ${L.max||100}% (3 decimal places))`:L.type==="text"&&L.length?`(Maximum ${L.length} characters (${L.length-(t[L.name]?.length||0)} remaining))`:"",_=L=>{if(!L||!L.id){console.error("Invalid tariff data:",L),it.error("Invalid tariff data");return}const U={tariffName:L.tariffName,Contract:L.percentOfCdKva.toString(),demandCharge:L.demandChargesRsKva.toString(),energyCharge:L.energyChargesRsKwh.toString(),fuelCostAdjustment:L.fuelCostAdjRsKwh.toString(),interestOnRevenue:L.interestOnRevenue.toString(),interestOnTaxes:L.interestOnTax.toString(),tax:L.taxPercent.toString(),editingId:L.id};Object.entries(U).forEach(([I,q])=>{a(I,q)})},T=L=>{S(L),y(!0)},B=async()=>{if(b){console.log("tariffToDelete",b);try{await A(b.id),it.success("Tariff deleted successfully!")}catch(L){console.error("Error in handleDeleteConfirm:",L),it.error(`Failed to delete tariff: ${L.message}`)}}},z=()=>{y(!1),S(null)},W=async()=>{try{if(!t.editingId){await d(),p&&p();return}const L=t.editingId,U={tariffName:t.tariffName,percentOfCdKva:parseFloat(t.Contract),demandChargesRsKva:parseFloat(t.demandCharge),energyChargesRsKwh:parseFloat(t.energyCharge),fuelCostAdjRsKwh:parseFloat(t.fuelCostAdjustment),interestOnRevenue:parseFloat(t.interestOnRevenue),interestOnTax:parseFloat(t.interestOnTaxes),taxPercent:parseFloat(t.tax),updatedDate:new Date().toISOString()};await M(L,U)}catch(L){console.error("Error in handleSaveInternal:",L),it.error(`Error saving tariff: ${L.message}`)}finally{u()}};return D.jsxs(D.Fragment,{children:[D.jsx(Bt,{sx:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:2,mt:1},children:i.map(L=>D.jsx(Bt,{sx:{gridColumn:L.name==="tariffName"?"1 / -1":"auto"},children:D.jsx(Gn,{fullWidth:!0,label:L.label,InputLabelProps:{sx:{fontSize:"0.97rem"}},variant:"outlined",required:L.required,size:"small",type:L.type==="float"?"text":L.type,inputProps:{inputMode:L.type==="float"?"decimal":"text",min:L.min,max:L.max,maxLength:L.type==="text"?L.length:void 0},value:t[L.name]||"",onChange:U=>R(L,U.target.value),helperText:E(L),FormHelperTextProps:{sx:{margin:"0px 0 0 0",fontSize:"0.7rem",fontStyle:"italic"}}})},L.name))}),D.jsxs(Bt,{sx:{display:"flex",justifyContent:"center",mt:2,mb:1,gap:1},children:[D.jsx(Sn,{onClick:()=>{Object.keys(t).forEach(L=>a(L,"")),u()},variant:"contained",size:"small",color:"error",children:"Close"}),D.jsx(Sn,{onClick:W,variant:"contained",size:"small",color:"primary",disabled:!t.tariffName||!t.Contract||!t.demandCharge||!t.energyCharge||!t.fuelCostAdjustment||!t.interestOnRevenue||!t.interestOnTaxes||!t.tax,children:t.editingId?"Update":"Save"})]}),D.jsx(Bt,{sx:{borderTop:"1px solid #e0e0e0",my:1}}),D.jsx(Oe,{variant:"h6",sx:{textAlign:"center"},children:"Tariff Information"}),D.jsx(jee,{loading:r,tariffData:s,fields:i,configInit:Hn,handleEdit:_,handleDeleteClick:T}),D.jsxs(Ji,{open:m,onClose:z,"aria-labelledby":"delete-dialog-title","aria-describedby":"delete-dialog-description",children:[D.jsx(Ks,{id:"delete-dialog-title",children:"Confirm Delete"}),D.jsx(ws,{children:D.jsxs(Oe,{children:['Are you sure you want to delete tariff "',b?.tariffName,'"?']})}),D.jsxs(qs,{children:[D.jsx(Sn,{onClick:z,color:"primary",size:"small",variant:"outlined",children:"Cancel"}),D.jsx(Sn,{onClick:B,color:"error",size:"small",variant:"contained",autoFocus:!0,children:"Delete"})]})]})]})},zee=({open:i,onClose:t,tariffData:s,loading:r,error:a})=>{const u=[{name:"tariffName",label:"Tariff Name",type:"text",length:20},{name:"Contract",label:"Percent % of CD (KVA)",type:"float",min:0,max:100,precision:3},{name:"demandCharge",label:"Demand Charges Rs/KVA",type:"number"},{name:"energyCharge",label:"Energy Charges Rs/KWh",type:"number"},{name:"fuelCostAdjustment",label:"Fuel Cost Adj Rs/KWh",type:"number"},{name:"interestOnRevenue",label:"Interest on Revenue",type:"number"},{name:"interestOnTaxes",label:"Interest on Tax",type:"number"},{name:"tax",label:"Tax %",type:"float",min:0,max:100,precision:3}],[d,p]=X.useState(u.reduce((M,A)=>(M[A.name]="",M),{})),[m,y]=X.useState(!1),b=(M,A)=>{p(R=>({...R,[M]:A}))},S=async()=>{y(!0);try{const M={tariffName:d.tariffName,percentOfCdKva:parseFloat(d.Contract)||0,demandChargesRsKva:parseFloat(d.demandCharge)||0,energyChargesRsKwh:parseFloat(d.energyCharge)||0,fuelCostAdjRsKwh:parseFloat(d.fuelCostAdjustment)||0,interestOnRevenue:parseFloat(d.interestOnRevenue)||0,interestOnTax:parseFloat(d.interestOnTaxes)||0,taxPercent:parseFloat(d.tax)||0,createdDate:new Date().toISOString(),updatedDate:new Date().toISOString()};console.log(M);const A=await Jn.request(WY,{input:{tariff:M}});console.log("data=>",A),A?.createTariff?.tariff?(it.success("Tariff saved successfully!"),p(u.reduce((R,E)=>(R[E.name]="",R),{}))):it.error("Failed to save tariff.")}catch(M){console.error("Error saving tariff:",M),it.error("Error saving tariff. Please try again.")}finally{y(!1)}};return D.jsxs(Ji,{open:i,onClose:t,fullWidth:!0,maxWidth:"lg",TransitionComponent:Fi,PaperProps:{sx:{borderRadius:2,boxShadow:5}},children:[D.jsx(Ks,{sx:{textAlign:"center",fontWeight:"medium"},children:"Tariff Settings"}),D.jsx(ws,{sx:{m:0},children:D.jsx(_ee,{fields:u,formData:d,tariffData:s,loading:r||m,onChange:b,onClose:t,onSave:S})})]})},Bee=({open:i,onClose:t,dgTariff:s,onStateChange:r})=>D.jsxs(Ji,{open:i,onClose:t,maxWidth:"xs",fullWidth:!0,TransitionComponent:Fi,PaperProps:{sx:{borderRadius:2,boxShadow:5,p:1}},children:[D.jsx(Ks,{sx:{textAlign:"center",fontWeight:"medium"},children:"DG Tariff Settings"}),D.jsxs(ws,{children:[D.jsx(Oe,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Please enter the DG Tariff rate for calculating energy charges."}),D.jsx(Gn,{label:"DG Tariff (Rs)",type:"number",size:"small",required:!0,fullWidth:!0,value:s,onChange:a=>r({dgTariff:Number(a.target.value)})})]}),D.jsxs(qs,{sx:{justifyContent:"center",gap:1,pb:2},children:[D.jsx(Sn,{onClick:t,variant:"outlined",color:"secondary",size:"small",children:"Cancel"}),D.jsx(Sn,{onClick:t,variant:"contained",color:"primary",size:"small",disabled:!s,children:"Confirm"})]})]}),Vee=({state:i,onStateChange:t,isSmallScreen:s,disabled:r,tableData:a,setTableData:u,tariffData:d,loading:p,setLoading:m,handleApplyDateFilter:y})=>{const{fromDate:b,toDate:S,isApplied:M,contractDemand:A,fcaCharges:R,interOnReven:E,interOnTax:_,dgTariff:T}=i;return D.jsxs(tu,{direction:s?"column":"row",spacing:1,sx:{width:s?"100%":"auto",flex:2},children:[D.jsx(Gn,{label:"Contract Demand (kVA)",type:"number",size:"small",value:A,onChange:B=>t({contractDemand:Math.min(Number(B.target.value),1e3)}),sx:{width:s?"100%":"auto"},disabled:r}),D.jsx(Gn,{label:"FCA Charges (Rs)",type:"number",size:"small",value:R,onChange:B=>t({fcaCharges:Number(B.target.value)}),sx:{width:s?"100%":"auto"},disabled:r}),D.jsx(Gn,{label:"Inter on Reven (Rs)",type:"number",size:"small",value:E,onChange:B=>t({interOnReven:Number(B.target.value)}),sx:{width:s?"100%":"auto"},disabled:r}),D.jsx(Gn,{label:"Inter on Tax (Rs)",type:"number",size:"small",value:_,onChange:B=>t({interOnTax:Number(B.target.value)}),sx:{width:s?"100%":"auto"},disabled:r}),D.jsx(Hee,{disabled:!b||!S||!A||a.some(B=>B.isDg)&&!T||M,onClick:()=>y(i,a,u,d,m,t),isSmallScreen:s,loading:p}),D.jsx(Sn,{variant:"contained",color:"primary",sx:{width:s?"30%":"auto",alignSelf:"center"},size:"small",onClick:()=>t({openModifyAdjNetConsumption:!0}),disabled:!r,children:"Modify"}),D.jsx(Sn,{variant:"contained",color:"error",sx:{width:s?"30%":"auto",alignSelf:"center"},size:"small",onClick:()=>{t({fromDate:null,toDate:null,contractDemand:"",fcaCharges:"",interOnReven:"",interOnTax:"",dgTariff:"",isApplied:!1}),u(a.map(B=>({...B,dg_previous:0,dg_present:0,dg_netConsumption:0,dg_energyCharges:0,isDg:!1,eb_previous:0,eb_present:0,netConsumption:0,energyCharges:0,tax:0,contractDemand:0,canShared:!1,demandCharges:0,fcaCharges:0,interOnReven:0,interOnTax:0,currentBillAmount:0,adjustmentNetConsumption:0,adjustedReadingKWh:0,adjEnergyCharges:0,adjTax:0,adjCurrentBillAmount:0,sharedNetConsumption:0})))},children:"Reset"})]})},Hee=({disabled:i,onClick:t,isSmallScreen:s,loading:r})=>D.jsx(Sn,{onClick:t,variant:"contained",color:"secondary",size:"small",disabled:i||r,sx:{width:s?"30%":"auto",mt:2,alignSelf:"center"},children:r?"Processing...":"Apply"});function Wee(i){return typeof i=="string"}function $ee(i,t,s){return i===void 0||Wee(i)?t:{...t,ownerState:{...t.ownerState,...s}}}function Yee(i,t=[]){if(i===void 0)return{};const s={};return Object.keys(i).filter(r=>r.match(/^on[A-Z]/)&&typeof i[r]=="function"&&!t.includes(r)).forEach(r=>{s[r]=i[r]}),s}function Vw(i,t,s){return typeof i=="function"?i(t,s):i}function Uee(...i){const t=X.useRef(void 0),s=X.useCallback(r=>{const a=i.map(u=>{if(u==null)return null;if(typeof u=="function"){const d=u,p=d(r);return typeof p=="function"?p:()=>{d(null)}}return u.current=r,()=>{u.current=null}});return()=>{a.forEach(u=>u?.())}},i);return X.useMemo(()=>i.every(r=>r==null)?null:r=>{t.current&&(t.current(),t.current=void 0),r!=null&&(t.current=s(r))},i)}function qT(i){if(i===void 0)return{};const t={};return Object.keys(i).filter(s=>!(s.match(/^on[A-Z]/)&&typeof i[s]=="function")).forEach(s=>{t[s]=i[s]}),t}function Xee(i){const{getSlotProps:t,additionalProps:s,externalSlotProps:r,externalForwardedProps:a,className:u}=i;if(!t){const A=Pt(s?.className,u,a?.className,r?.className),R={...s?.style,...a?.style,...r?.style},E={...s,...a,...r};return A.length>0&&(E.className=A),Object.keys(R).length>0&&(E.style=R),{props:E,internalRef:void 0}}const d=Yee({...a,...r}),p=qT(r),m=qT(a),y=t(d),b=Pt(y?.className,s?.className,u,a?.className,r?.className),S={...y?.style,...s?.style,...a?.style,...r?.style},M={...y,...s,...m,...p};return b.length>0&&(M.className=b),Object.keys(S).length>0&&(M.style=S),{props:M,internalRef:y.ref}}function Os(i){const{elementType:t,externalSlotProps:s,ownerState:r,skipResolvingSlotProps:a=!1,...u}=i,d=a?{}:Vw(s,r),{props:p,internalRef:m}=Xee({...u,externalSlotProps:d}),y=Uee(m,d?.ref,i.additionalProps?.ref);return $ee(t,{...p,ref:y},r)}const uf=(i,t)=>i.length!==t.length?!1:t.every(s=>i.includes(s)),Gee=({openTo:i,defaultOpenTo:t,views:s,defaultViews:r})=>{const a=s??r;let u;if(i!=null)u=i;else if(a.includes(t))u=t;else if(a.length>0)u=a[0];else throw new Error("MUI: The `views` prop must contain at least one view");return{views:a,openTo:u}},u0=(i,t,s)=>{let r=t;return r=i.setHours(r,i.getHours(s)),r=i.setMinutes(r,i.getMinutes(s)),r=i.setSeconds(r,i.getSeconds(s)),r},Vf=({date:i,disableFuture:t,disablePast:s,maxDate:r,minDate:a,isDateDisabled:u,utils:d,timezone:p})=>{const m=u0(d,d.dateWithTimezone(void 0,p),i);s&&d.isBefore(a,m)&&(a=m),t&&d.isAfter(r,m)&&(r=m);let y=i,b=i;for(d.isBefore(i,a)&&(y=a,b=null),d.isAfter(i,r)&&(b&&(b=r),y=null);y||b;){if(y&&d.isAfter(y,r)&&(y=null),b&&d.isBefore(b,a)&&(b=null),y){if(!u(y))return y;y=d.addDays(y,1)}if(b){if(!u(b))return b;b=d.addDays(b,-1)}}return null},qee=(i,t)=>t==null||!i.isValid(t)?null:t,Yo=(i,t,s)=>t==null||!i.isValid(t)?s:t,Kee=(i,t,s)=>!i.isValid(t)&&t!=null&&!i.isValid(s)&&s!=null?!0:i.isEqual(t,s),Hw=(i,t)=>{const r=[i.startOfYear(t)];for(;r.length<12;){const a=r[r.length-1];r.push(i.addMonths(a,1))}return r},DN=(i,t,s)=>s==="date"?i.startOfDay(i.dateWithTimezone(void 0,t)):i.dateWithTimezone(void 0,t),Zee=["year","month","day"],KT=i=>Zee.includes(i),Ww=(i,{format:t,views:s},r)=>{if(t!=null)return t;const a=i.formats;return uf(s,["year"])?a.year:uf(s,["month"])?a.month:uf(s,["day"])?a.dayOfMonth:uf(s,["month","year"])?`${a.month} ${a.year}`:uf(s,["day","month"])?`${a.month} ${a.dayOfMonth}`:r?/en/.test(i.getCurrentLocaleCode())?a.normalDateWithWeekday:a.normalDate:a.keyboardDate},Jee=(i,t)=>{const s=i.startOfWeek(t);return[0,1,2,3,4,5,6].map(r=>i.addDays(s,r))},Qee=["hours","minutes","seconds"],ete=i=>Qee.includes(i),ZT=(i,t)=>t.getHours(i)*3600+t.getMinutes(i)*60+t.getSeconds(i),tte=(i,t)=>(s,r)=>i?t.isAfter(s,r):ZT(s,t)>ZT(r,t),Pa={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},nte=i=>Math.max(...i.map(t=>{var s;return(s=Pa[t.type])!=null?s:1})),hf=(i,t,s)=>{if(t===Pa.year)return i.startOfYear(s);if(t===Pa.month)return i.startOfMonth(s);if(t===Pa.day)return i.startOfDay(s);let r=s;return t<Pa.minutes&&(r=i.setMinutes(r,0)),t<Pa.seconds&&(r=i.setSeconds(r,0)),t<Pa.milliseconds&&(r=i.setMilliseconds(r,0)),r},ite=({props:i,utils:t,granularity:s,timezone:r,getTodayDate:a})=>{var u;let d=a?a():hf(t,s,DN(t,r));i.minDate!=null&&t.isAfterDay(i.minDate,d)&&(d=hf(t,s,i.minDate)),i.maxDate!=null&&t.isBeforeDay(i.maxDate,d)&&(d=hf(t,s,i.maxDate));const p=tte((u=i.disableIgnoringDatePartForTimeValidation)!=null?u:!1,t);return i.minTime!=null&&p(i.minTime,d)&&(d=hf(t,s,i.disableIgnoringDatePartForTimeValidation?i.minTime:u0(t,d,i.minTime))),i.maxTime!=null&&p(d,i.maxTime)&&(d=hf(t,s,i.disableIgnoringDatePartForTimeValidation?i.maxTime:u0(t,d,i.maxTime))),d},EN=(i,t)=>{const s=i.formatTokenMap[t];if(s==null)throw new Error([`MUI: The token "${t}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof s=="string"?{type:s,contentType:s==="meridiem"?"letter":"digit",maxLength:void 0}:{type:s.sectionType,contentType:s.contentType,maxLength:s.maxLength}},ste=i=>{switch(i){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}},cy=(i,t,s)=>{const r=[],a=i.dateWithTimezone(void 0,t),u=i.startOfWeek(a),d=i.endOfWeek(a);let p=u;for(;i.isBefore(p,d);)r.push(p),p=i.addDays(p,1);return r.map(m=>i.formatByString(m,s))},NN=(i,t,s,r)=>{switch(s){case"month":return Hw(i,i.dateWithTimezone(void 0,t)).map(a=>i.formatByString(a,r));case"weekDay":return cy(i,t,r);case"meridiem":{const a=i.dateWithTimezone(void 0,t);return[i.startOfDay(a),i.endOfDay(a)].map(u=>i.formatByString(u,r))}default:return[]}},RN=(i,t,s)=>{let r=t;for(r=Number(r).toString();r.length<s;)r=`0${r}`;return r},LN=(i,t,s,r,a)=>{if(a.type==="day"&&a.contentType==="digit-with-letter"){const d=i.setDate(r.longestMonth,s);return i.formatByString(d,a.format)}const u=s.toString();return a.hasLeadingZerosInInput?RN(i,u,a.maxLength):u},rte=(i,t,s,r,a,u,d)=>{const p=ste(r),m=r==="Home",y=r==="End",b=s.value===""||m||y,S=()=>{const A=a[s.type]({currentDate:u,format:s.format,contentType:s.contentType}),R=B=>LN(i,t,B,A,s),E=s.type==="minutes"&&d!=null&&d.minutesStep?d.minutesStep:1;let T=parseInt(s.value,10)+p*E;if(b){if(s.type==="year"&&!y&&!m)return i.formatByString(i.dateWithTimezone(void 0,t),s.format);p>0||m?T=A.minimum:T=A.maximum}return T%E!==0&&((p<0||m)&&(T+=E-(E+T)%E),(p>0||y)&&(T-=T%E)),T>A.maximum?R(A.minimum+(T-A.maximum-1)%(A.maximum-A.minimum+1)):T<A.minimum?R(A.maximum-(A.minimum-T-1)%(A.maximum-A.minimum+1)):R(T)},M=()=>{const A=NN(i,t,s.type,s.format);if(A.length===0)return s.value;if(b)return p>0||m?A[0]:A[A.length-1];const E=(A.indexOf(s.value)+A.length+p)%A.length;return A[E]};return s.contentType==="digit"||s.contentType==="digit-with-letter"?S():M()},$w=(i,t)=>{let s=i.value||i.placeholder;const r=t==="non-input"?i.hasLeadingZerosInFormat:i.hasLeadingZerosInInput;return t==="non-input"&&i.hasLeadingZerosInInput&&!i.hasLeadingZerosInFormat&&(s=Number(s).toString()),["input-rtl","input-ltr"].includes(t)&&i.contentType==="digit"&&!r&&s.length===1&&(s=`${s}`),t==="input-rtl"&&(s=`${s}`),s},lh=i=>i.replace(/[\u2066\u2067\u2068\u2069]/g,""),ON=(i,t)=>{let s=0,r=t?1:0;const a=[];for(let u=0;u<i.length;u+=1){const d=i[u],p=$w(d,t?"input-rtl":"input-ltr"),m=`${d.startSeparator}${p}${d.endSeparator}`,y=lh(m).length,b=m.length,S=lh(p),M=r+p.indexOf(S[0])+d.startSeparator.length,A=M+S.length;a.push(oe({},d,{start:s,end:s+y,startInInput:M,endInInput:A})),s+=y,r+=b}return a},ote=(i,t,s,r,a)=>{switch(r.type){case"year":return s.fieldYearPlaceholder({digitAmount:i.formatByString(i.dateWithTimezone(void 0,t),a).length,format:a});case"month":return s.fieldMonthPlaceholder({contentType:r.contentType,format:a});case"day":return s.fieldDayPlaceholder({format:a});case"weekDay":return s.fieldWeekDayPlaceholder({contentType:r.contentType,format:a});case"hours":return s.fieldHoursPlaceholder({format:a});case"minutes":return s.fieldMinutesPlaceholder({format:a});case"seconds":return s.fieldSecondsPlaceholder({format:a});case"meridiem":return s.fieldMeridiemPlaceholder({format:a});default:return a}},JT=(i,t,s,r)=>i.formatByString(i.parse(t,s),r),IN=(i,t,s)=>i.formatByString(i.dateWithTimezone(void 0,t),s).length===4,FN=(i,t,s,r,a)=>{if(s!=="digit")return!1;const u=i.dateWithTimezone(void 0,t);switch(r){case"year":return IN(i,t,a)?i.formatByString(i.setYear(u,1),a)==="0001":i.formatByString(i.setYear(u,2001),a)==="01";case"month":return i.formatByString(i.startOfYear(u),a).length>1;case"day":return i.formatByString(i.startOfMonth(u),a).length>1;case"weekDay":return i.formatByString(i.startOfWeek(u),a).length>1;case"hours":return i.formatByString(i.setHours(u,1),a).length>1;case"minutes":return i.formatByString(i.setMinutes(u,1),a).length>1;case"seconds":return i.formatByString(i.setSeconds(u,1),a).length>1;default:throw new Error("Invalid section type")}},ate=(i,t)=>{const s=[],{start:r,end:a}=i.escapedCharacters,u=new RegExp(`(\\${r}[^\\${a}]*\\${a})+`,"g");let d=null;for(;d=u.exec(t);)s.push({start:d.index,end:u.lastIndex-1});return s},QT=(i,t,s,r,a,u,d,p)=>{let m="";const y=[],b=i.date(),S=z=>{if(z==="")return null;const W=EN(i,z),L=FN(i,t,W.contentType,W.type,z),U=d?L:W.contentType==="digit",I=a!=null&&i.isValid(a);let q=I?i.formatByString(a,z):"",ee=null;if(U)if(L)ee=q===""?i.formatByString(b,z).length:q.length;else{if(W.maxLength==null)throw new Error(`MUI: The token ${z} should have a 'maxDigitNumber' property on it's adapter`);ee=W.maxLength,I&&(q=RN(i,q,ee))}return y.push(oe({},W,{format:z,maxLength:ee,value:q,placeholder:ote(i,t,s,W,z),hasLeadingZeros:L,hasLeadingZerosInFormat:L,hasLeadingZerosInInput:U,startSeparator:y.length===0?m:"",endSeparator:"",modified:!1})),null};let M=10,A=r,R=i.expandFormat(r);for(;R!==A;)if(A=R,R=i.expandFormat(A),M-=1,M<0)throw new Error("MUI: The format expansion seems to be  enter in an infinite loop. Please open an issue with the format passed to the picker component");const E=R,_=ate(i,E),T=new RegExp(`^(${Object.keys(i.formatTokenMap).sort((z,W)=>W.length-z.length).join("|")})`,"g");let B="";for(let z=0;z<E.length;z+=1){const W=_.find(ee=>ee.start<=z&&ee.end>=z),L=E[z],U=W!=null,I=`${B}${E.slice(z)}`,q=T.test(I);!U&&L.match(/([A-Za-z]+)/)&&q?(B=I.slice(0,T.lastIndex),z+=T.lastIndex-1):U&&W?.start===z||W?.end===z||(S(B),B="",y.length===0?m+=L:y[y.length-1].endSeparator+=L)}return S(B),y.map(z=>{const W=L=>{let U=L;return p&&U!==null&&U.includes(" ")&&(U=`${U}`),u==="spacious"&&["/",".","-"].includes(U)&&(U=` ${U} `),U};return z.startSeparator=W(z.startSeparator),z.endSeparator=W(z.endSeparator),z})},lte=(i,t)=>{const s=t.some(p=>p.type==="day"),r=[],a=[];for(let p=0;p<t.length;p+=1){const m=t[p];s&&m.type==="weekDay"||(r.push(m.format),a.push($w(m,"non-input")))}const u=r.join(" "),d=a.join(" ");return i.parse(d,u)},cte=(i,t)=>{const r=i.map(a=>{const u=$w(a,t?"input-rtl":"input-ltr");return`${a.startSeparator}${u}${a.endSeparator}`}).join("");return t?`${r}`:r},ute=(i,t)=>{const s=i.dateWithTimezone(void 0,t),r=i.endOfYear(s),a=i.endOfDay(s),{maxDaysInMonth:u,longestMonth:d}=Hw(i,s).reduce((p,m)=>{const y=i.getDaysInMonth(m);return y>p.maxDaysInMonth?{maxDaysInMonth:y,longestMonth:m}:p},{maxDaysInMonth:0,longestMonth:null});return{year:({format:p})=>({minimum:0,maximum:IN(i,t,p)?9999:99}),month:()=>({minimum:1,maximum:i.getMonth(r)+1}),day:({currentDate:p})=>({minimum:1,maximum:p!=null&&i.isValid(p)?i.getDaysInMonth(p):u,longestMonth:d}),weekDay:({format:p,contentType:m})=>{if(m==="digit"){const y=cy(i,t,p).map(Number);return{minimum:Math.min(...y),maximum:Math.max(...y)}}return{minimum:1,maximum:7}},hours:({format:p})=>{const m=i.getHours(a);return i.formatByString(i.endOfDay(s),p)!==m.toString()?{minimum:1,maximum:Number(i.formatByString(i.startOfDay(s),p))}:{minimum:0,maximum:m}},minutes:()=>({minimum:0,maximum:i.getMinutes(a)}),seconds:()=>({minimum:0,maximum:i.getSeconds(a)}),meridiem:()=>({minimum:0,maximum:0})}},hte=(i,t,s,r,a)=>{switch(s.type){case"year":return i.setYear(a,i.getYear(r));case"month":return i.setMonth(a,i.getMonth(r));case"weekDay":{const u=cy(i,t,s.format),d=i.formatByString(r,s.format),p=u.indexOf(d),y=u.indexOf(s.value)-p;return i.addDays(r,y)}case"day":return i.setDate(a,i.getDate(r));case"meridiem":{const u=i.getHours(r)<12,d=i.getHours(a);return u&&d>=12?i.addHours(a,-12):!u&&d<12?i.addHours(a,12):a}case"hours":return i.setHours(a,i.getHours(r));case"minutes":return i.setMinutes(a,i.getMinutes(r));case"seconds":return i.setSeconds(a,i.getSeconds(r));default:return a}},eA={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8},tA=(i,t,s,r,a,u)=>[...r].sort((d,p)=>eA[d.type]-eA[p.type]).reduce((d,p)=>!u||p.modified?hte(i,t,p,s,d):d,a),dte=()=>navigator.userAgent.toLowerCase().indexOf("android")>-1,fte=(i,t)=>{const s={};if(!t)return i.forEach((m,y)=>{const b=y===0?null:y-1,S=y===i.length-1?null:y+1;s[y]={leftIndex:b,rightIndex:S}}),{neighbors:s,startIndex:0,endIndex:i.length-1};const r={},a={};let u=0,d=0,p=i.length-1;for(;p>=0;){d=i.findIndex((m,y)=>{var b;return y>=u&&((b=m.endSeparator)==null?void 0:b.includes(" "))&&m.endSeparator!==" / "}),d===-1&&(d=i.length-1);for(let m=d;m>=u;m-=1)a[m]=p,r[p]=m,p-=1;u=d+1}return i.forEach((m,y)=>{const b=a[y],S=b===0?null:r[b-1],M=b===i.length-1?null:r[b+1];s[y]={leftIndex:S,rightIndex:M}}),{neighbors:s,startIndex:r[0],endIndex:r[i.length-1]}},pte=["value","referenceDate"],il={emptyValue:null,getTodayValue:DN,getInitialReferenceValue:i=>{let{value:t,referenceDate:s}=i,r=pt(i,pte);return t!=null&&r.utils.isValid(t)?t:s??ite(r)},cleanValue:qee,areValuesEqual:Kee,isSameError:(i,t)=>i===t,hasError:i=>i!=null,defaultErrorState:null,getTimezone:(i,t)=>t==null||!i.isValid(t)?null:i.getTimezone(t),setTimezone:(i,t,s)=>s==null?null:i.setTimezone(s,t)},gte={updateReferenceValue:(i,t,s)=>t==null||!i.isValid(t)?s:t,getSectionsFromValue:(i,t,s,r,a)=>!i.isValid(t)&&!!s?s:ON(a(t),r),getValueStrFromSections:cte,getActiveDateManager:(i,t)=>({date:t.value,referenceDate:t.referenceValue,getSections:s=>s,getNewValuesFromNewActiveDate:s=>({value:s,referenceValue:s==null||!i.isValid(s)?t.referenceValue:s})}),parseValueStr:(i,t,s)=>s(i.trim(),t)},mte=["localeText"],l1=X.createContext(null),Yw=function(t){var s;const{localeText:r}=t,a=pt(t,mte),{utils:u,localeText:d}=(s=X.useContext(l1))!=null?s:{utils:void 0,localeText:void 0},p=Vs({props:a,name:"MuiLocalizationProvider"}),{children:m,dateAdapter:y,dateFormats:b,dateLibInstance:S,adapterLocale:M,localeText:A}=p,R=X.useMemo(()=>oe({},A,d,r),[A,d,r]),E=X.useMemo(()=>{if(!y)return u||null;const B=new y({locale:M,formats:b,instance:S});if(!B.isMUIAdapter)throw new Error(["MUI: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return B},[y,M,b,S,u]),_=X.useMemo(()=>E?{minDate:E.date("1900-01-01T00:00:00.000"),maxDate:E.date("2099-12-31T00:00:00.000")}:null,[E]),T=X.useMemo(()=>({utils:E,defaultDates:_,localeText:R}),[_,E,R]);return D.jsx(l1.Provider,{value:T,children:m})},yte=i=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:oe({},i)}}}}),jN={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"open previous view",openNextView:"open next view",calendarViewSwitchingButtonAriaLabel:i=>i==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(i,t,s)=>`Select ${i}. ${t===null?"No time selected":`Selected time is ${s.format(t,"fullTime")}`}`,hoursClockNumberText:i=>`${i} hours`,minutesClockNumberText:i=>`${i} minutes`,secondsClockNumberText:i=>`${i} seconds`,selectViewText:i=>`Select ${i}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:i=>`Week ${i}`,calendarWeekNumberText:i=>`${i}`,openDatePickerDialogue:(i,t)=>i!==null&&t.isValid(i)?`Choose date, selected date is ${t.format(i,"fullDate")}`:"Choose date",openTimePickerDialogue:(i,t)=>i!==null&&t.isValid(i)?`Choose time, selected time is ${t.format(i,"fullTime")}`:"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:i=>"Y".repeat(i.digitAmount),fieldMonthPlaceholder:i=>i.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:i=>i.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa"},xte=jN;yte(jN);const su=()=>{const i=X.useContext(l1);if(i===null)throw new Error(["MUI: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(i.utils===null)throw new Error(["MUI: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const t=X.useMemo(()=>oe({},xte,i.localeText),[i.localeText]);return X.useMemo(()=>oe({},i,{localeText:t}),[i,t])},Gi=()=>su().utils,Rp=()=>su().defaultDates,Zl=()=>su().localeText,uy=i=>{const t=Gi(),s=X.useRef();return s.current===void 0&&(s.current=t.dateWithTimezone(void 0,i)),s.current};function vte(i){return Qt("MuiPickersToolbar",i)}en("MuiPickersToolbar",["root","content"]);const bte=i=>{const{classes:t,isLandscape:s}=i;return tn({root:["root"],content:["content"],penIconButton:["penIconButton",s&&"penIconButtonLandscape"]},vte,t)},wte=st("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(i,t)=>t.root})(({theme:i,ownerState:t})=>oe({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:i.spacing(2,3)},t.isLandscape&&{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"})),Ste=st("div",{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(i,t)=>t.content})(({ownerState:i})=>{var t;return{display:"flex",flexWrap:"wrap",width:"100%",justifyContent:i.isLandscape?"flex-start":"space-between",flexDirection:i.isLandscape?(t=i.landscapeDirection)!=null?t:"column":"row",flex:1,alignItems:i.isLandscape?"flex-start":"center"}}),Cte=X.forwardRef(function(t,s){const r=Vs({props:t,name:"MuiPickersToolbar"}),{children:a,className:u,toolbarTitle:d,hidden:p,titleId:m}=r,y=r,b=bte(y);return p?null:D.jsxs(wte,{ref:s,className:Pt(b.root,u),ownerState:y,children:[D.jsx(Oe,{color:"text.secondary",variant:"overline",id:m,children:d}),D.jsx(Ste,{className:b.content,ownerState:y,children:a})]})});function kte(i){return Qt("MuiDatePickerToolbar",i)}en("MuiDatePickerToolbar",["root","title"]);const Pte=["value","isLandscape","onChange","toolbarFormat","toolbarPlaceholder","views","className"],Mte=i=>{const{classes:t}=i;return tn({root:["root"],title:["title"]},kte,t)},Tte=st(Cte,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(i,t)=>t.root})({}),Ate=st(Oe,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(i,t)=>t.title})(({ownerState:i})=>oe({},i.isLandscape&&{margin:"auto 16px auto auto"})),Dte=X.forwardRef(function(t,s){const r=Vs({props:t,name:"MuiDatePickerToolbar"}),{value:a,isLandscape:u,toolbarFormat:d,toolbarPlaceholder:p="",views:m,className:y}=r,b=pt(r,Pte),S=Gi(),M=Zl(),A=Mte(r),R=X.useMemo(()=>{if(!a)return p;const _=Ww(S,{format:d,views:m},!0);return S.formatByString(a,_)},[a,d,p,S,m]),E=r;return D.jsx(Tte,oe({ref:s,toolbarTitle:M.datePickerToolbarTitle,isLandscape:u,className:Pt(A.root,y)},b,{children:D.jsx(Ate,{variant:"h4",align:u?"left":"center",ownerState:E,className:A.title,children:R})}))}),_N=i=>{if(i!==void 0)return Object.keys(i).reduce((t,s)=>oe({},t,{[`${s.slice(0,1).toLowerCase()}${s.slice(1)}`]:i[s]}),{})};function zN(i,t){var s,r,a,u;const d=Gi(),p=Rp(),m=Vs({props:i,name:t}),y=X.useMemo(()=>{var S;return((S=m.localeText)==null?void 0:S.toolbarTitle)==null?m.localeText:oe({},m.localeText,{datePickerToolbarTitle:m.localeText.toolbarTitle})},[m.localeText]),b=(s=m.slots)!=null?s:_N(m.components);return oe({},m,{localeText:y},Gee({views:m.views,openTo:m.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{disableFuture:(r=m.disableFuture)!=null?r:!1,disablePast:(a=m.disablePast)!=null?a:!1,minDate:Yo(d,m.minDate,p.minDate),maxDate:Yo(d,m.maxDate,p.maxDate),slots:oe({toolbar:Dte},b),slotProps:(u=m.slotProps)!=null?u:m.componentsProps})}const Ete=is(D.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Nte=is(D.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),Rte=is(D.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),Lte=is(D.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar");is(D.jsxs(X.Fragment,{children:[D.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),D.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");is(D.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");is(D.jsxs(X.Fragment,{children:[D.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),D.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time");const Ote=is(D.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function Ite(i){return Qt("MuiPickersArrowSwitcher",i)}en("MuiPickersArrowSwitcher",["root","spacer","button"]);const Fte=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel"],jte=["ownerState"],_te=["ownerState"],zte=st("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(i,t)=>t.root})({display:"flex"}),Bte=st("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(i,t)=>t.spacer})(({theme:i})=>({width:i.spacing(3)})),nA=st(Hi,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(i,t)=>t.button})(({ownerState:i})=>oe({},i.hidden&&{visibility:"hidden"})),Vte=i=>{const{classes:t}=i;return tn({root:["root"],spacer:["spacer"],button:["button"]},Ite,t)},Hte=X.forwardRef(function(t,s){var r,a,u,d;const m=vs().direction==="rtl",y=Vs({props:t,name:"MuiPickersArrowSwitcher"}),{children:b,className:S,slots:M,slotProps:A,isNextDisabled:R,isNextHidden:E,onGoToNext:_,nextLabel:T,isPreviousDisabled:B,isPreviousHidden:z,onGoToPrevious:W,previousLabel:L}=y,U=pt(y,Fte),I=y,q=Vte(I),ee={isDisabled:R,isHidden:E,goTo:_,label:T},te={isDisabled:B,isHidden:z,goTo:W,label:L},ce=(r=M?.previousIconButton)!=null?r:nA,re=Os({elementType:ce,externalSlotProps:A?.previousIconButton,additionalProps:{size:"medium",title:te.label,"aria-label":te.label,disabled:te.isDisabled,edge:"end",onClick:te.goTo},ownerState:oe({},I,{hidden:te.isHidden}),className:q.button}),ae=(a=M?.nextIconButton)!=null?a:nA,ue=Os({elementType:ae,externalSlotProps:A?.nextIconButton,additionalProps:{size:"medium",title:ee.label,"aria-label":ee.label,disabled:ee.isDisabled,edge:"start",onClick:ee.goTo},ownerState:oe({},I,{hidden:ee.isHidden}),className:q.button}),ie=(u=M?.leftArrowIcon)!=null?u:Nte,he=Os({elementType:ie,externalSlotProps:A?.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),pe=pt(he,jte),de=(d=M?.rightArrowIcon)!=null?d:Rte,xe=Os({elementType:de,externalSlotProps:A?.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),Se=pt(xe,_te);return D.jsxs(zte,oe({ref:s,className:Pt(q.root,S),ownerState:I},U,{children:[D.jsx(ce,oe({},re,{children:m?D.jsx(de,oe({},Se)):D.jsx(ie,oe({},pe))})),b?D.jsx(Oe,{variant:"subtitle1",component:"span",children:b}):D.jsx(Bte,{className:q.spacer,ownerState:I}),D.jsx(ae,oe({},ue,{children:m?D.jsx(ie,oe({},pe)):D.jsx(de,oe({},Se))}))]}))}),lp=36,hy=2,dy=320,Wte=280,Uw=334,$te=st(Ji)({[`& .${Lf.container}`]:{outline:0},[`& .${Lf.paper}`]:{outline:0,minWidth:dy}}),Yte=st(ws)({"&:first-of-type":{padding:0}});function Ute(i){var t,s;const{children:r,onDismiss:a,open:u,slots:d,slotProps:p}=i,m=(t=d?.dialog)!=null?t:$te,y=(s=d?.mobileTransition)!=null?s:Zr;return D.jsx(m,oe({open:u,onClose:a},p?.dialog,{TransitionComponent:y,TransitionProps:p?.mobileTransition,PaperComponent:d?.mobilePaper,PaperProps:p?.mobilePaper,children:D.jsx(Yte,{children:r})}))}function Xte(i){return Qt("MuiPickersPopper",i)}en("MuiPickersPopper",["root","paper"]);function Gte(i,t){return Array.isArray(t)?t.every(s=>i.indexOf(s)!==-1):i.indexOf(t)!==-1}const qte=(i,t)=>s=>{(s.key==="Enter"||s.key===" ")&&(i(s),s.preventDefault(),s.stopPropagation())},h0=(i=document)=>{const t=i.activeElement;return t?t.shadowRoot?h0(t.shadowRoot):t:null},Kte="@media (pointer: fine)",Zte="@media (prefers-reduced-motion: reduce)",fh=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),iA=fh&&fh[1]?parseInt(fh[1],10):null,sA=fh&&fh[2]?parseInt(fh[2],10):null,Jte=iA&&iA<10||sA&&sA<13||!1,BN=()=>A1(Zte,{defaultMatches:!1})||Jte,Qte=["PaperComponent","popperPlacement","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],ene=i=>{const{classes:t}=i;return tn({root:["root"],paper:["paper"]},Xte,t)},tne=st(G1,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(i,t)=>t.root})(({theme:i})=>({zIndex:i.zIndex.modal})),nne=st(ts,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(i,t)=>t.paper})(({ownerState:i})=>oe({outline:0,transformOrigin:"top center"},i.placement.includes("top")&&{transformOrigin:"bottom center"}));function ine(i,t){return t.documentElement.clientWidth<i.clientX||t.documentElement.clientHeight<i.clientY}function sne(i,t){const s=X.useRef(!1),r=X.useRef(!1),a=X.useRef(null),u=X.useRef(!1);X.useEffect(()=>{if(!i)return;function m(){u.current=!0}return document.addEventListener("mousedown",m,!0),document.addEventListener("touchstart",m,!0),()=>{document.removeEventListener("mousedown",m,!0),document.removeEventListener("touchstart",m,!0),u.current=!1}},[i]);const d=vn(m=>{if(!u.current)return;const y=r.current;r.current=!1;const b=Is(a.current);if(!a.current||"clientX"in m&&ine(m,b))return;if(s.current){s.current=!1;return}let S;m.composedPath?S=m.composedPath().indexOf(a.current)>-1:S=!b.documentElement.contains(m.target)||a.current.contains(m.target),!S&&!y&&t(m)}),p=()=>{r.current=!0};return X.useEffect(()=>{if(i){const m=Is(a.current),y=()=>{s.current=!0};return m.addEventListener("touchstart",d),m.addEventListener("touchmove",y),()=>{m.removeEventListener("touchstart",d),m.removeEventListener("touchmove",y)}}},[i,d]),X.useEffect(()=>{if(i){const m=Is(a.current);return m.addEventListener("click",d),()=>{m.removeEventListener("click",d),r.current=!1}}},[i,d]),[a,p,p]}const rne=X.forwardRef((i,t)=>{const{PaperComponent:s,popperPlacement:r,ownerState:a,children:u,paperSlotProps:d,paperClasses:p,onPaperClick:m,onPaperTouchStart:y}=i,b=pt(i,Qte),S=oe({},a,{placement:r}),M=Os({elementType:s,externalSlotProps:d,additionalProps:{tabIndex:-1,elevation:8,ref:t},className:p,ownerState:S});return D.jsx(s,oe({},b,M,{onClick:A=>{var R;m(A),(R=M.onClick)==null||R.call(M,A)},onTouchStart:A=>{var R;y(A),(R=M.onTouchStart)==null||R.call(M,A)},ownerState:S,children:u}))});function one(i){var t,s,r,a;const u=Vs({props:i,name:"MuiPickersPopper"}),{anchorEl:d,children:p,containerRef:m=null,shouldRestoreFocus:y,onBlur:b,onDismiss:S,open:M,role:A,placement:R,slots:E,slotProps:_,reduceAnimations:T}=u;X.useEffect(()=>{function xe(Se){M&&(Se.key==="Escape"||Se.key==="Esc")&&S()}return document.addEventListener("keydown",xe),()=>{document.removeEventListener("keydown",xe)}},[S,M]);const B=X.useRef(null);X.useEffect(()=>{A==="tooltip"||y&&!y()||(M?B.current=h0(document):B.current&&B.current instanceof HTMLElement&&setTimeout(()=>{B.current instanceof HTMLElement&&B.current.focus()}))},[M,A,y]);const[z,W,L]=sne(M,b??S),U=X.useRef(null),I=fi(U,m),q=fi(I,z),ee=u,te=ene(ee),ce=BN(),re=T??ce,ae=xe=>{xe.key==="Escape"&&(xe.stopPropagation(),S())},ue=((t=E?.desktopTransition)!=null?t:re)?Zr:Fi,ie=(s=E?.desktopTrapFocus)!=null?s:Z2,he=(r=E?.desktopPaper)!=null?r:nne,pe=(a=E?.popper)!=null?a:tne,de=Os({elementType:pe,externalSlotProps:_?.popper,additionalProps:{transition:!0,role:A,open:M,anchorEl:d,placement:R,onKeyDown:ae},className:te.root,ownerState:u});return D.jsx(pe,oe({},de,{children:({TransitionProps:xe,placement:Se})=>D.jsx(ie,oe({open:M,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:A==="tooltip",isEnabled:()=>!0},_?.desktopTrapFocus,{children:D.jsx(ue,oe({},xe,_?.desktopTransition,{children:D.jsx(rne,{PaperComponent:he,ownerState:ee,popperPlacement:Se,ref:q,onPaperClick:W,onPaperTouchStart:L,paperClasses:te.paper,paperSlotProps:_?.desktopPaper,children:p})}))}))}))}const Xw=({timezone:i,value:t,defaultValue:s,onChange:r,valueManager:a})=>{var u,d;const p=Gi(),m=X.useRef(s),y=(u=t??m.current)!=null?u:a.emptyValue,b=X.useMemo(()=>a.getTimezone(p,y),[p,a,y]),S=vn(E=>b==null?E:a.setTimezone(p,b,E)),M=(d=i??b)!=null?d:"default",A=X.useMemo(()=>a.setTimezone(p,M,y),[a,p,M,y]),R=vn((E,..._)=>{const T=S(E);r?.(T,..._)});return{value:A,handleValueChange:R,timezone:M}},Gw=({name:i,timezone:t,value:s,defaultValue:r,onChange:a,valueManager:u})=>{const[d,p]=uo({name:i,state:"value",controlled:s,default:r??u.emptyValue}),m=vn((y,...b)=>{p(y),a?.(y,...b)});return Xw({timezone:t,value:d,defaultValue:void 0,onChange:m,valueManager:u})};function VN(i,t,s,r){const{value:a,onError:u}=i,d=su(),p=X.useRef(r),m=t({adapter:d,value:a,props:i});return X.useEffect(()=>{u&&!s(m,p.current)&&u(m,a),p.current=m},[s,u,p,m,a]),m}const ane=i=>{const t=Gi(),s=Zl(),r=su(),u=vs().direction==="rtl",{valueManager:d,fieldValueManager:p,validator:m,internalProps:y,internalProps:{value:b,defaultValue:S,referenceDate:M,onChange:A,format:R,formatDensity:E="dense",selectedSections:_,onSelectedSectionsChange:T,shouldRespectLeadingZeros:B=!1,timezone:z}}=i,{timezone:W,value:L,handleValueChange:U}=Xw({timezone:z,value:b,defaultValue:S,onChange:A,valueManager:d}),I=X.useMemo(()=>ute(t,W),[t,W]),q=X.useCallback((_e,Me=null)=>p.getSectionsFromValue(t,_e,Me,u,qe=>QT(t,W,s,R,qe,E,B,u)),[p,R,s,u,B,t,E,W]),ee=X.useMemo(()=>p.getValueStrFromSections(q(d.emptyValue),u),[p,q,d.emptyValue,u]),[te,ce]=X.useState(()=>{const _e=q(L),Me={sections:_e,value:L,referenceValue:d.emptyValue,tempValueStrAndroid:null},qe=nte(_e),ze=d.getInitialReferenceValue({referenceDate:M,value:L,utils:t,props:y,granularity:qe,timezone:W});return oe({},Me,{referenceValue:ze})}),[re,ae]=uo({controlled:_,default:null,name:"useField",state:"selectedSectionIndexes"}),ue=_e=>{ae(_e),T?.(_e),ce(Me=>oe({},Me,{selectedSectionQuery:null}))},ie=X.useMemo(()=>{if(re==null)return null;if(re==="all")return{startIndex:0,endIndex:te.sections.length-1,shouldSelectBoundarySelectors:!0};if(typeof re=="number")return{startIndex:re,endIndex:re};if(typeof re=="string"){const _e=te.sections.findIndex(Me=>Me.type===re);return{startIndex:_e,endIndex:_e}}return re},[re,te.sections]),he=({value:_e,referenceValue:Me,sections:qe})=>{if(ce($e=>oe({},$e,{sections:qe,value:_e,referenceValue:Me,tempValueStrAndroid:null})),d.areValuesEqual(t,te.value,_e))return;const ze={validationError:m({adapter:r,value:_e,props:oe({},y,{value:_e,timezone:W})})};U(_e,ze)},pe=(_e,Me)=>{const qe=[...te.sections];return qe[_e]=oe({},qe[_e],{value:Me,modified:!0}),ON(qe,u)},de=()=>{he({value:d.emptyValue,referenceValue:te.referenceValue,sections:q(d.emptyValue)})},xe=()=>{if(ie==null)return;const _e=te.sections[ie.startIndex],Me=p.getActiveDateManager(t,te,_e),ze=Me.getSections(te.sections).filter(Re=>Re.value!=="").length===(_e.value===""?0:1),$e=pe(ie.startIndex,""),Ue=ze?null:t.date(new Date("")),Pe=Me.getNewValuesFromNewActiveDate(Ue);(Ue!=null&&!t.isValid(Ue))!=(Me.date!=null&&!t.isValid(Me.date))?he(oe({},Pe,{sections:$e})):ce(Re=>oe({},Re,Pe,{sections:$e,tempValueStrAndroid:null}))},Se=_e=>{const Me=($e,Ue)=>{const Pe=t.parse($e,R);if(Pe==null||!t.isValid(Pe))return null;const Re=QT(t,W,s,R,Pe,E,B,u);return tA(t,W,Pe,Re,Ue,!1)},qe=p.parseValueStr(_e,te.referenceValue,Me),ze=p.updateReferenceValue(t,qe,te.referenceValue);he({value:qe,referenceValue:ze,sections:q(qe,te.sections)})},be=({activeSection:_e,newSectionValue:Me,shouldGoToNextSection:qe})=>{qe&&ie&&ie.startIndex<te.sections.length-1?ue(ie.startIndex+1):ie&&ie.startIndex!==ie.endIndex&&ue(ie.startIndex);const ze=p.getActiveDateManager(t,te,_e),$e=pe(ie.startIndex,Me),Ue=ze.getSections($e),Pe=lte(t,Ue);let Re,De;if(Pe!=null&&t.isValid(Pe)){const je=tA(t,W,Pe,Ue,ze.referenceDate,!0);Re=ze.getNewValuesFromNewActiveDate(je),De=!0}else Re=ze.getNewValuesFromNewActiveDate(Pe),De=(Pe!=null&&!t.isValid(Pe))!=(ze.date!=null&&!t.isValid(ze.date));return De?he(oe({},Re,{sections:$e})):ce(je=>oe({},je,Re,{sections:$e,tempValueStrAndroid:null}))},Ne=_e=>ce(Me=>oe({},Me,{tempValueStrAndroid:_e}));return X.useEffect(()=>{const _e=q(te.value);ce(Me=>oe({},Me,{sections:_e}))},[R,t.locale]),X.useEffect(()=>{let _e=!1;d.areValuesEqual(t,te.value,L)?_e=d.getTimezone(t,te.value)!==d.getTimezone(t,L):_e=!0,_e&&ce(Me=>oe({},Me,{value:L,referenceValue:p.updateReferenceValue(t,L,Me.referenceValue),sections:q(L)}))},[L]),{state:te,selectedSectionIndexes:ie,setSelectedSections:ue,clearValue:de,clearActiveSection:xe,updateSectionValue:be,updateValueFromValueStr:Se,setTempAndroidValueStr:Ne,sectionsValueBoundaries:I,placeholder:ee,timezone:W}},lne=5e3,Qu=i=>i.saveQuery!=null,cne=({sections:i,updateSectionValue:t,sectionsValueBoundaries:s,setTempAndroidValueStr:r,timezone:a})=>{const u=Gi(),[d,p]=X.useState(null),m=vn(()=>p(null));X.useEffect(()=>{var A;d!=null&&((A=i[d.sectionIndex])==null?void 0:A.type)!==d.sectionType&&m()},[i,d,m]),X.useEffect(()=>{if(d!=null){const A=setTimeout(()=>m(),lne);return()=>{window.clearTimeout(A)}}return()=>{}},[d,m]);const y=({keyPressed:A,sectionIndex:R},E,_)=>{const T=A.toLowerCase(),B=i[R];if(d!=null&&(!_||_(d.value))&&d.sectionIndex===R){const W=`${d.value}${T}`,L=E(W,B);if(!Qu(L))return p({sectionIndex:R,value:W,sectionType:B.type}),L}const z=E(T,B);return Qu(z)&&!z.saveQuery?(m(),null):(p({sectionIndex:R,value:T,sectionType:B.type}),Qu(z)?null:z)},b=A=>{const R=(T,B,z)=>{const W=B.filter(L=>L.toLowerCase().startsWith(z));return W.length===0?{saveQuery:!1}:{sectionValue:W[0],shouldGoToNextSection:W.length===1}},E=(T,B,z,W)=>{const L=U=>NN(u,a,B.type,U);if(B.contentType==="letter")return R(B.format,L(B.format),T);if(z&&W!=null&&EN(u,z).contentType==="letter"){const U=L(z),I=R(z,U,T);return Qu(I)?{saveQuery:!1}:oe({},I,{sectionValue:W(I.sectionValue,U)})}return{saveQuery:!1}};return y(A,(T,B)=>{switch(B.type){case"month":{const z=W=>JT(u,W,u.formats.month,B.format);return E(T,B,u.formats.month,z)}case"weekDay":{const z=(W,L)=>L.indexOf(W).toString();return E(T,B,u.formats.weekday,z)}case"meridiem":return E(T,B);default:return{saveQuery:!1}}})},S=A=>{const R=(_,T)=>{const B=+`${_}`,z=s[T.type]({currentDate:null,format:T.format,contentType:T.contentType});if(B>z.maximum)return{saveQuery:!1};if(B<z.minimum)return{saveQuery:!0};const W=+`${_}0`>z.maximum||_.length===z.maximum.toString().length;return{sectionValue:LN(u,a,B,z,T),shouldGoToNextSection:W}};return y(A,(_,T)=>{if(T.contentType==="digit"||T.contentType==="digit-with-letter")return R(_,T);if(T.type==="month"){FN(u,a,"digit","month","MM");const B=R(_,{type:T.type,format:"MM",hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(Qu(B))return B;const z=JT(u,B.sectionValue,"MM",T.format);return oe({},B,{sectionValue:z})}if(T.type==="weekDay"){const B=R(_,T);if(Qu(B))return B;const z=cy(u,a,T.format)[Number(B.sectionValue)-1];return oe({},B,{sectionValue:z})}return{saveQuery:!1}},_=>!Number.isNaN(Number(_)))};return{applyCharacterEditing:vn(A=>{const R=i[A.sectionIndex],_=A.keyPressed!==" "&&!Number.isNaN(Number(A.keyPressed))?S(A):b(A);_==null?r(null):t({activeSection:R,newSectionValue:_.sectionValue,shouldGoToNextSection:_.shouldGoToNextSection})}),resetCharacterQuery:m}},une=["onClick","onKeyDown","onFocus","onBlur","onMouseUp","onPaste","error","clearable","onClear","disabled"],hne=i=>{const t=Gi(),{state:s,selectedSectionIndexes:r,setSelectedSections:a,clearValue:u,clearActiveSection:d,updateSectionValue:p,updateValueFromValueStr:m,setTempAndroidValueStr:y,sectionsValueBoundaries:b,placeholder:S,timezone:M}=ane(i),{inputRef:A,internalProps:R,internalProps:{readOnly:E=!1,unstableFieldRef:_,minutesStep:T},forwardedProps:{onClick:B,onKeyDown:z,onFocus:W,onBlur:L,onMouseUp:U,onPaste:I,error:q,clearable:ee,onClear:te,disabled:ce},fieldValueManager:re,valueManager:ae,validator:ue}=i,ie=pt(i.forwardedProps,une),{applyCharacterEditing:he,resetCharacterQuery:pe}=cne({sections:s.sections,updateSectionValue:p,sectionsValueBoundaries:b,setTempAndroidValueStr:y,timezone:M}),de=X.useRef(null),xe=fi(A,de),Se=X.useRef(void 0),Ne=vs().direction==="rtl",_e=X.useMemo(()=>fte(s.sections,Ne),[s.sections,Ne]),Me=()=>{var Ze;if(E){a(null);return}const yt=(Ze=de.current.selectionStart)!=null?Ze:0;let Ut;yt<=s.sections[0].startInInput||yt>=s.sections[s.sections.length-1].endInInput?Ut=1:Ut=s.sections.findIndex(Ve=>Ve.startInInput-Ve.startSeparator.length>yt);const nn=Ut===-1?s.sections.length-1:Ut-1;a(nn)},qe=vn((Ze,...yt)=>{Ze.isDefaultPrevented()||(B?.(Ze,...yt),Me())}),ze=vn(Ze=>{U?.(Ze),Ze.preventDefault()}),$e=vn((...Ze)=>{W?.(...Ze);const yt=de.current;window.clearTimeout(Se.current),Se.current=setTimeout(()=>{!yt||yt!==de.current||r!=null||E||(yt.value.length&&Number(yt.selectionEnd)-Number(yt.selectionStart)===yt.value.length?a("all"):Me())})}),Ue=vn((...Ze)=>{L?.(...Ze),a(null)}),Pe=vn(Ze=>{if(I?.(Ze),E){Ze.preventDefault();return}const yt=Ze.clipboardData.getData("text");if(r&&r.startIndex===r.endIndex){const Ut=s.sections[r.startIndex],nn=/^[a-zA-Z]+$/.test(yt),Ve=/^[0-9]+$/.test(yt),at=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(yt);if(Ut.contentType==="letter"&&nn||Ut.contentType==="digit"&&Ve||Ut.contentType==="digit-with-letter"&&at){pe(),p({activeSection:Ut,newSectionValue:yt,shouldGoToNextSection:!0}),Ze.preventDefault();return}if(nn||Ve){Ze.preventDefault();return}}Ze.preventDefault(),pe(),m(yt)}),Re=vn(Ze=>{if(E)return;const yt=Ze.target.value;if(yt===""){pe(),u();return}const Ut=Ze.nativeEvent.data,nn=Ut&&Ut.length>1,Ve=nn?Ut:yt,at=lh(Ve);if(r==null||nn){m(nn?Ut:at);return}let xt;if(r.startIndex===0&&r.endIndex===s.sections.length-1&&at.length===1)xt=at;else{const _t=lh(re.getValueStrFromSections(s.sections,Ne));let Mt=-1,rt=-1;for(let Rt=0;Rt<_t.length;Rt+=1)Mt===-1&&_t[Rt]!==at[Rt]&&(Mt=Rt),rt===-1&&_t[_t.length-Rt-1]!==at[at.length-Rt-1]&&(rt=Rt);const Tt=s.sections[r.startIndex];if(Mt<Tt.start||_t.length-rt-1>Tt.end)return;const mt=at.length-_t.length+Tt.end-lh(Tt.endSeparator||"").length;xt=at.slice(Tt.start+lh(Tt.startSeparator||"").length,mt)}if(xt.length===0){dte()?y(Ve):(pe(),d());return}he({keyPressed:xt,sectionIndex:r.startIndex})}),De=vn(Ze=>{switch(z?.(Ze),!0){case(Ze.key==="a"&&(Ze.ctrlKey||Ze.metaKey)):{Ze.preventDefault(),a("all");break}case Ze.key==="ArrowRight":{if(Ze.preventDefault(),r==null)a(_e.startIndex);else if(r.startIndex!==r.endIndex)a(r.endIndex);else{const yt=_e.neighbors[r.startIndex].rightIndex;yt!==null&&a(yt)}break}case Ze.key==="ArrowLeft":{if(Ze.preventDefault(),r==null)a(_e.endIndex);else if(r.startIndex!==r.endIndex)a(r.startIndex);else{const yt=_e.neighbors[r.startIndex].leftIndex;yt!==null&&a(yt)}break}case Ze.key==="Delete":{if(Ze.preventDefault(),E)break;r==null||r.startIndex===0&&r.endIndex===s.sections.length-1?u():d(),pe();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(Ze.key):{if(Ze.preventDefault(),E||r==null)break;const yt=s.sections[r.startIndex],Ut=re.getActiveDateManager(t,s,yt),nn=rte(t,M,yt,Ze.key,b,Ut.date,{minutesStep:T});p({activeSection:yt,newSectionValue:nn,shouldGoToNextSection:!1});break}}});ys(()=>{if(!de.current)return;if(r==null){de.current.scrollLeft&&(de.current.scrollLeft=0);return}const Ze=s.sections[r.startIndex],yt=s.sections[r.endIndex];let Ut=Ze.startInInput,nn=yt.endInInput;if(r.shouldSelectBoundarySelectors&&(Ut-=Ze.startSeparator.length,nn+=yt.endSeparator.length),Ut!==de.current.selectionStart||nn!==de.current.selectionEnd){const Ve=de.current.scrollTop;de.current===h0(document)&&de.current.setSelectionRange(Ut,nn),de.current.scrollTop=Ve}});const je=VN(oe({},R,{value:s.value,timezone:M}),ue,ae.isSameError,ae.defaultErrorState),Ee=X.useMemo(()=>q!==void 0?q:ae.hasError(je),[ae,je,q]);X.useEffect(()=>{!Ee&&!r&&pe()},[s.referenceValue,r,Ee]),X.useEffect(()=>(de.current&&de.current===document.activeElement&&a("all"),()=>window.clearTimeout(Se.current)),[]),X.useEffect(()=>{s.tempValueStrAndroid!=null&&r!=null&&(pe(),d())},[s.tempValueStrAndroid]);const Qe=X.useMemo(()=>{var Ze;return(Ze=s.tempValueStrAndroid)!=null?Ze:re.getValueStrFromSections(s.sections,Ne)},[s.sections,re,s.tempValueStrAndroid,Ne]),ut=X.useMemo(()=>r==null||s.sections[r.startIndex].contentType==="letter"?"text":"numeric",[r,s.sections]),Ht=de.current&&de.current===h0(document),un=ae.areValuesEqual(t,s.value,ae.emptyValue),Ct=!Ht&&un;X.useImperativeHandle(_,()=>({getSections:()=>s.sections,getActiveSectionIndex:()=>{var Ze,yt,Ut;const nn=(Ze=de.current.selectionStart)!=null?Ze:0,Ve=(yt=de.current.selectionEnd)!=null?yt:0,at=!!((Ut=de.current)!=null&&Ut.readOnly);if(nn===0&&Ve===0||at)return null;const xt=nn<=s.sections[0].startInInput?1:s.sections.findIndex(_t=>_t.startInInput-_t.startSeparator.length>nn);return xt===-1?s.sections.length-1:xt-1},setSelectedSections:Ze=>a(Ze)}));const ht=vn((Ze,...yt)=>{var Ut;Ze.preventDefault(),te?.(Ze,...yt),u(),de==null||(Ut=de.current)==null||Ut.focus(),a(0)});return oe({placeholder:S,autoComplete:"off",disabled:!!ce},ie,{value:Ct?"":Qe,inputMode:ut,readOnly:E,onClick:qe,onFocus:$e,onBlur:Ue,onPaste:Pe,onChange:Re,onKeyDown:De,onMouseUp:ze,onClear:ht,error:Ee,ref:xe,clearable:!!(ee&&!un&&!E&&!ce)})},dne=({open:i,onOpen:t,onClose:s})=>{const r=X.useRef(typeof i=="boolean").current,[a,u]=X.useState(!1);X.useEffect(()=>{if(r){if(typeof i!="boolean")throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");u(i)}},[r,i]);const d=X.useCallback(p=>{r||u(p),p&&t&&t(),!p&&s&&s()},[r,t,s]);return{isOpen:a,setIsOpen:d}},fne=i=>{const{action:t,hasChanged:s,dateState:r,isControlled:a}=i,u=!a&&!r.hasBeenModifiedSinceMount;return t.name==="setValueFromField"?!0:t.name==="setValueFromAction"?u&&["accept","today","clear"].includes(t.pickerAction)?!0:s(r.lastPublishedValue):t.name==="setValueFromView"&&t.selectionState!=="shallow"||t.name==="setValueFromShortcut"?u?!0:s(r.lastPublishedValue):!1},pne=i=>{const{action:t,hasChanged:s,dateState:r,isControlled:a,closeOnSelect:u}=i,d=!a&&!r.hasBeenModifiedSinceMount;return t.name==="setValueFromAction"?d&&["accept","today","clear"].includes(t.pickerAction)?!0:s(r.lastCommittedValue):t.name==="setValueFromView"&&t.selectionState==="finish"&&u?d?!0:s(r.lastCommittedValue):t.name==="setValueFromShortcut"?t.changeImportance==="accept"&&s(r.lastCommittedValue):!1},gne=i=>{const{action:t,closeOnSelect:s}=i;return t.name==="setValueFromAction"?!0:t.name==="setValueFromView"?t.selectionState==="finish"&&s:t.name==="setValueFromShortcut"?t.changeImportance==="accept":!1},mne=({props:i,valueManager:t,valueType:s,wrapperVariant:r,validator:a})=>{const{onAccept:u,onChange:d,value:p,defaultValue:m,closeOnSelect:y=r==="desktop",selectedSections:b,onSelectedSectionsChange:S,timezone:M}=i,{current:A}=X.useRef(m),{current:R}=X.useRef(p!==void 0),E=Gi(),_=su(),[T,B]=uo({controlled:b,default:null,name:"usePickerValue",state:"selectedSections"}),{isOpen:z,setIsOpen:W}=dne(i),[L,U]=X.useState(()=>{let $e;return p!==void 0?$e=p:A!==void 0?$e=A:$e=t.emptyValue,{draft:$e,lastPublishedValue:$e,lastCommittedValue:$e,lastControlledValue:p,hasBeenModifiedSinceMount:!1}}),{timezone:I,handleValueChange:q}=Xw({timezone:M,value:p,defaultValue:A,onChange:d,valueManager:t});VN(oe({},i,{value:L.draft,timezone:I}),a,t.isSameError,t.defaultErrorState);const ee=vn($e=>{const Ue={action:$e,dateState:L,hasChanged:je=>!t.areValuesEqual(E,$e.value,je),isControlled:R,closeOnSelect:y},Pe=fne(Ue),Re=pne(Ue),De=gne(Ue);if(U(je=>oe({},je,{draft:$e.value,lastPublishedValue:Pe?$e.value:je.lastPublishedValue,lastCommittedValue:Re?$e.value:je.lastCommittedValue,hasBeenModifiedSinceMount:!0})),Pe){const Ee={validationError:$e.name==="setValueFromField"?$e.context.validationError:a({adapter:_,value:$e.value,props:oe({},i,{value:$e.value,timezone:I})})};$e.name==="setValueFromShortcut"&&$e.shortcut!=null&&(Ee.shortcut=$e.shortcut),q($e.value,Ee)}Re&&u&&u($e.value),De&&W(!1)});if(p!==void 0&&(L.lastControlledValue===void 0||!t.areValuesEqual(E,L.lastControlledValue,p))){const $e=t.areValuesEqual(E,L.draft,p);U(Ue=>oe({},Ue,{lastControlledValue:p},$e?{}:{lastCommittedValue:p,lastPublishedValue:p,draft:p,hasBeenModifiedSinceMount:!0}))}const te=vn(()=>{ee({value:t.emptyValue,name:"setValueFromAction",pickerAction:"clear"})}),ce=vn(()=>{ee({value:L.lastPublishedValue,name:"setValueFromAction",pickerAction:"accept"})}),re=vn(()=>{ee({value:L.lastPublishedValue,name:"setValueFromAction",pickerAction:"dismiss"})}),ae=vn(()=>{ee({value:L.lastCommittedValue,name:"setValueFromAction",pickerAction:"cancel"})}),ue=vn(()=>{ee({value:t.getTodayValue(E,I,s),name:"setValueFromAction",pickerAction:"today"})}),ie=vn(()=>W(!0)),he=vn(()=>W(!1)),pe=vn(($e,Ue="partial")=>ee({name:"setValueFromView",value:$e,selectionState:Ue})),de=vn(($e,Ue,Pe)=>ee({name:"setValueFromShortcut",value:$e,changeImportance:Ue??"accept",shortcut:Pe})),xe=vn(($e,Ue)=>ee({name:"setValueFromField",value:$e,context:Ue})),Se=vn($e=>{B($e),S?.($e)}),be={onClear:te,onAccept:ce,onDismiss:re,onCancel:ae,onSetToday:ue,onOpen:ie,onClose:he},Ne={value:L.draft,onChange:xe,selectedSections:T,onSelectedSectionsChange:Se},_e=X.useMemo(()=>t.cleanValue(E,L.draft),[E,t,L.draft]),Me={value:_e,onChange:pe,onClose:he,open:z,onSelectedSectionsChange:Se},ze=oe({},be,{value:_e,onChange:pe,onSelectShortcut:de,isValid:$e=>{const Ue=a({adapter:_,value:$e,props:oe({},i,{value:$e,timezone:I})});return!t.hasError(Ue)}});return{open:z,fieldProps:Ne,viewProps:Me,layoutProps:ze,actions:be}};function HN({onChange:i,onViewChange:t,openTo:s,view:r,views:a,autoFocus:u,focusedView:d,onFocusedViewChange:p}){var m,y;const b=X.useRef(s),S=X.useRef(a),M=X.useRef(a.includes(s)?s:a[0]),[A,R]=uo({name:"useViews",state:"view",controlled:r,default:M.current}),E=X.useRef(u?A:null),[_,T]=uo({name:"useViews",state:"focusedView",controlled:d,default:E.current});X.useEffect(()=>{(b.current&&b.current!==s||S.current&&S.current.some(ee=>!a.includes(ee)))&&(R(a.includes(s)?s:a[0]),S.current=a,b.current=s)},[s,R,A,a]);const B=a.indexOf(A),z=(m=a[B-1])!=null?m:null,W=(y=a[B+1])!=null?y:null,L=vn((ee,te)=>{T(te?ee:ce=>ee===ce?null:ce),p?.(ee,te)}),U=vn(ee=>{L(ee,!0),ee!==A&&(R(ee),t&&t(ee))}),I=vn(()=>{W&&U(W)}),q=vn((ee,te,ce)=>{const re=te==="finish",ae=ce?a.indexOf(ce)<a.length-1:!!W;if(i(ee,re&&ae?"partial":te,ce),ce&&ce!==A){const ie=a[a.indexOf(ce)+1];ie&&U(ie)}else re&&I()});return{view:A,setView:U,focusedView:_,setFocusedView:L,nextView:W,previousView:z,defaultView:a.includes(s)?s:a[0],goToNextView:I,setValueAndGoToNextView:q}}const yne=["className","sx"],xne=({props:i,propsFromPickerValue:t,additionalViewProps:s,inputRef:r,autoFocusView:a})=>{const{onChange:u,open:d,onSelectedSectionsChange:p,onClose:m}=t,{view:y,views:b,openTo:S,onViewChange:M,viewRenderers:A,timezone:R}=i,E=pt(i,yne),{view:_,setView:T,defaultView:B,focusedView:z,setFocusedView:W,setValueAndGoToNextView:L}=HN({view:y,views:b,openTo:S,onChange:u,onViewChange:M,autoFocus:a}),{hasUIView:U,viewModeLookup:I}=X.useMemo(()=>b.reduce((ue,ie)=>{let he;return A[ie]!=null?he="UI":he="field",ue.viewModeLookup[ie]=he,he==="UI"&&(ue.hasUIView=!0),ue},{hasUIView:!1,viewModeLookup:{}}),[A,b]),q=X.useMemo(()=>b.reduce((ue,ie)=>A[ie]!=null&&ete(ie)?ue+1:ue,0),[A,b]),ee=I[_],te=vn(()=>ee==="UI"),[ce,re]=X.useState(ee==="UI"?_:null);return ce!==_&&I[_]==="UI"&&re(_),ys(()=>{ee==="field"&&d&&(m(),setTimeout(()=>{r?.current.focus(),p(_)}))},[_]),ys(()=>{if(!d)return;let ue=_;ee==="field"&&ce!=null&&(ue=ce),ue!==B&&I[ue]==="UI"&&I[B]==="UI"&&(ue=B),ue!==_&&T(ue),W(ue,!0)},[d]),{hasUIView:U,shouldRestoreFocus:te,layoutProps:{views:b,view:ce,onViewChange:T},renderCurrentView:()=>{if(ce==null)return null;const ue=A[ce];return ue==null?null:ue(oe({},E,s,t,{views:b,timezone:R,onChange:L,view:ce,onViewChange:T,focusedView:z,onFocusedViewChange:W,showViewSwitcher:q>1,timeViewsCount:q}))}}};function rA(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}const vne=(i,t)=>{const[s,r]=X.useState(rA);return ys(()=>{const u=()=>{r(rA())};return window.addEventListener("orientationchange",u),()=>{window.removeEventListener("orientationchange",u)}},[]),Gte(i,["hours","minutes","seconds"])?!1:(t||s)==="landscape"},bne=({props:i,propsFromPickerValue:t,propsFromPickerViews:s,wrapperVariant:r})=>{const{orientation:a}=i,u=vne(s.views,a);return{layoutProps:oe({},s,t,{isLandscape:u,wrapperVariant:r,disabled:i.disabled,readOnly:i.readOnly})}},WN=({props:i,valueManager:t,valueType:s,wrapperVariant:r,inputRef:a,additionalViewProps:u,validator:d,autoFocusView:p})=>{const m=mne({props:i,valueManager:t,valueType:s,wrapperVariant:r,validator:d}),y=xne({props:i,inputRef:a,additionalViewProps:u,autoFocusView:p,propsFromPickerValue:m.viewProps}),b=bne({props:i,wrapperVariant:r,propsFromPickerValue:m.layoutProps,propsFromPickerViews:y.layoutProps});return{open:m.open,actions:m.actions,fieldProps:m.fieldProps,renderCurrentView:y.renderCurrentView,hasUIView:y.hasUIView,shouldRestoreFocus:y.shouldRestoreFocus,layoutProps:b.layoutProps}};function $N(i){return Qt("MuiPickersLayout",i)}const eb=en("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),wne=["onAccept","onClear","onCancel","onSetToday","actions"];function Sne(i){const{onAccept:t,onClear:s,onCancel:r,onSetToday:a,actions:u}=i,d=pt(i,wne),p=Zl();if(u==null||u.length===0)return null;const m=u?.map(y=>{switch(y){case"clear":return D.jsx(Sn,{onClick:s,children:p.clearButtonLabel},y);case"cancel":return D.jsx(Sn,{onClick:r,children:p.cancelButtonLabel},y);case"accept":return D.jsx(Sn,{onClick:t,children:p.okButtonLabel},y);case"today":return D.jsx(Sn,{onClick:a,children:p.todayButtonLabel},y);default:return null}});return D.jsx(qs,oe({},d,{children:m}))}const Cne=["items","changeImportance","isLandscape","onChange","isValid"],kne=["getValue"];function Pne(i){const{items:t,changeImportance:s,onChange:r,isValid:a}=i,u=pt(i,Cne);if(t==null||t.length===0)return null;const d=t.map(p=>{let{getValue:m}=p,y=pt(p,kne);const b=m({isValid:a});return{label:y.label,onClick:()=>{r(b,s,y)},disabled:!a(b)}});return D.jsx(ew,oe({dense:!0,sx:[{maxHeight:Uw,maxWidth:200,overflow:"auto"},...Array.isArray(u.sx)?u.sx:[u.sx]]},u,{children:d.map(p=>D.jsx(oD,{children:D.jsx(Nf,oe({},p))},p.label))}))}function Mne(i){return i.view!==null}const Tne=i=>{const{classes:t,isLandscape:s}=i;return tn({root:["root",s&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},$N,t)},Ane=i=>{var t,s;const{wrapperVariant:r,onAccept:a,onClear:u,onCancel:d,onSetToday:p,view:m,views:y,onViewChange:b,value:S,onChange:M,onSelectShortcut:A,isValid:R,isLandscape:E,disabled:_,readOnly:T,children:B,components:z,componentsProps:W,slots:L,slotProps:U}=i,I=L??_N(z),q=U??W,ee=Tne(i),te=(t=I?.actionBar)!=null?t:Sne,ce=Os({elementType:te,externalSlotProps:q?.actionBar,additionalProps:{onAccept:a,onClear:u,onCancel:d,onSetToday:p,actions:r==="desktop"?[]:["cancel","accept"],className:ee.actionBar},ownerState:oe({},i,{wrapperVariant:r})}),re=D.jsx(te,oe({},ce)),ae=I?.toolbar,ue=Os({elementType:ae,externalSlotProps:q?.toolbar,additionalProps:{isLandscape:E,onChange:M,value:S,view:m,onViewChange:b,views:y,disabled:_,readOnly:T,className:ee.toolbar},ownerState:oe({},i,{wrapperVariant:r})}),ie=Mne(ue)&&ae?D.jsx(ae,oe({},ue)):null,he=B,pe=I?.tabs,de=m&&pe?D.jsx(pe,oe({view:m,onViewChange:b,className:ee.tabs},q?.tabs)):null,xe=(s=I?.shortcuts)!=null?s:Pne,Se=Os({elementType:xe,externalSlotProps:q?.shortcuts,additionalProps:{isValid:R,isLandscape:E,onChange:A,className:ee.shortcuts},ownerState:{isValid:R,isLandscape:E,onChange:A,className:ee.shortcuts,wrapperVariant:r}}),be=m&&xe?D.jsx(xe,oe({},Se)):null;return{toolbar:ie,content:he,tabs:de,actionBar:re,shortcuts:be}},Dne=i=>{const{isLandscape:t,classes:s}=i;return tn({root:["root",t&&"landscape"],contentWrapper:["contentWrapper"]},$N,s)},YN=st("div",{name:"MuiPickersLayout",slot:"Root",overridesResolver:(i,t)=>t.root})(({theme:i,ownerState:t})=>({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${eb.toolbar}`]:t.isLandscape?{gridColumn:i.direction==="rtl"?3:1,gridRow:"2 / 3"}:{gridColumn:"2 / 4",gridRow:1},[`.${eb.shortcuts}`]:t.isLandscape?{gridColumn:"2 / 4",gridRow:1}:{gridColumn:i.direction==="rtl"?3:1,gridRow:"2 / 3"},[`& .${eb.actionBar}`]:{gridColumn:"1 / 4",gridRow:3}}));YN.propTypes={as:nt.elementType,ownerState:nt.shape({isLandscape:nt.bool.isRequired}).isRequired,sx:nt.oneOfType([nt.arrayOf(nt.oneOfType([nt.func,nt.object,nt.bool])),nt.func,nt.object])};const Ene=st("div",{name:"MuiPickersLayout",slot:"ContentWrapper",overridesResolver:(i,t)=>t.contentWrapper})({gridColumn:2,gridRow:2,display:"flex",flexDirection:"column"}),UN=function(t){const s=Vs({props:t,name:"MuiPickersLayout"}),{toolbar:r,content:a,tabs:u,actionBar:d,shortcuts:p}=Ane(s),{sx:m,className:y,isLandscape:b,ref:S,wrapperVariant:M}=s,A=s,R=Dne(A);return D.jsxs(YN,{ref:S,sx:m,className:Pt(y,R.root),ownerState:A,children:[b?p:r,b?r:p,D.jsx(Ene,{className:R.contentWrapper,children:M==="desktop"?D.jsxs(X.Fragment,{children:[a,u]}):D.jsxs(X.Fragment,{children:[u,a]})}),d]})};function Nne(i,{disableFuture:t,maxDate:s,timezone:r}){const a=Gi();return X.useMemo(()=>{const u=a.dateWithTimezone(void 0,r),d=a.startOfMonth(t&&a.isBefore(u,s)?u:s);return!a.isAfter(d,i)},[t,s,i,a,r])}function Rne(i,{disablePast:t,minDate:s,timezone:r}){const a=Gi();return X.useMemo(()=>{const u=a.dateWithTimezone(void 0,r),d=a.startOfMonth(t&&a.isAfter(u,s)?u:s);return!a.isBefore(d,i)},[t,s,i,a,r])}const XN=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],Lne=["disablePast","disableFuture","minTime","maxTime","shouldDisableClock","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],One=["minDateTime","maxDateTime"],Ine=[...XN,...Lne,...One],GN=i=>Ine.reduce((t,s)=>(i.hasOwnProperty(s)&&(t[s]=i[s]),t),{}),Fne=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","readOnly","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef"],jne=(i,t)=>{const s=oe({},i),r={},a=u=>{s.hasOwnProperty(u)&&(r[u]=s[u],delete s[u])};return Fne.forEach(a),XN.forEach(a),{forwardedProps:s,internalProps:r}},fy=({props:i,value:t,adapter:s})=>{if(t===null)return null;const{shouldDisableDate:r,shouldDisableMonth:a,shouldDisableYear:u,disablePast:d,disableFuture:p,timezone:m}=i,y=s.utils.dateWithTimezone(void 0,m),b=Yo(s.utils,i.minDate,s.defaultDates.minDate),S=Yo(s.utils,i.maxDate,s.defaultDates.maxDate);switch(!0){case!s.utils.isValid(t):return"invalidDate";case!!(r&&r(t)):return"shouldDisableDate";case!!(a&&a(t)):return"shouldDisableMonth";case!!(u&&u(t)):return"shouldDisableYear";case!!(p&&s.utils.isAfterDay(t,y)):return"disableFuture";case!!(d&&s.utils.isBeforeDay(t,y)):return"disablePast";case!!(b&&s.utils.isBeforeDay(t,b)):return"minDate";case!!(S&&s.utils.isAfterDay(t,S)):return"maxDate";default:return null}};function _ne(i){return Qt("MuiPickersDay",i)}const wc=en("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),zne=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],Bne=i=>{const{selected:t,disableMargin:s,disableHighlightToday:r,today:a,disabled:u,outsideCurrentMonth:d,showDaysOutsideCurrentMonth:p,classes:m}=i,y=d&&!p;return tn({root:["root",t&&!y&&"selected",u&&"disabled",!s&&"dayWithMargin",!r&&a&&"today",d&&p&&"dayOutsideMonth",y&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},_ne,m)},qN=({theme:i,ownerState:t})=>oe({},i.typography.caption,{width:lp,height:lp,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:i.transitions.create("background-color",{duration:i.transitions.duration.short}),color:(i.vars||i).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / ${i.vars.palette.action.hoverOpacity})`:$r(i.palette.primary.main,i.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / ${i.vars.palette.action.focusOpacity})`:$r(i.palette.primary.main,i.palette.action.focusOpacity),[`&.${wc.selected}`]:{willChange:"background-color",backgroundColor:(i.vars||i).palette.primary.dark}},[`&.${wc.selected}`]:{color:(i.vars||i).palette.primary.contrastText,backgroundColor:(i.vars||i).palette.primary.main,fontWeight:i.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(i.vars||i).palette.primary.dark}},[`&.${wc.disabled}:not(.${wc.selected})`]:{color:(i.vars||i).palette.text.disabled},[`&.${wc.disabled}&.${wc.selected}`]:{opacity:.6}},!t.disableMargin&&{margin:`0 ${hy}px`},t.outsideCurrentMonth&&t.showDaysOutsideCurrentMonth&&{color:(i.vars||i).palette.text.secondary},!t.disableHighlightToday&&t.today&&{[`&:not(.${wc.selected})`]:{border:`1px solid ${(i.vars||i).palette.text.secondary}`}}),KN=(i,t)=>{const{ownerState:s}=i;return[t.root,!s.disableMargin&&t.dayWithMargin,!s.disableHighlightToday&&s.today&&t.today,!s.outsideCurrentMonth&&s.showDaysOutsideCurrentMonth&&t.dayOutsideMonth,s.outsideCurrentMonth&&!s.showDaysOutsideCurrentMonth&&t.hiddenDaySpacingFiller]},Vne=st(aa,{name:"MuiPickersDay",slot:"Root",overridesResolver:KN})(qN),Hne=st("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:KN})(({theme:i,ownerState:t})=>oe({},qN({theme:i,ownerState:t}),{opacity:0,pointerEvents:"none"})),df=()=>{},Wne=X.forwardRef(function(t,s){const r=Vs({props:t,name:"MuiPickersDay"}),{autoFocus:a=!1,className:u,day:d,disabled:p=!1,disableHighlightToday:m=!1,disableMargin:y=!1,isAnimating:b,onClick:S,onDaySelect:M,onFocus:A=df,onBlur:R=df,onKeyDown:E=df,onMouseDown:_=df,onMouseEnter:T=df,outsideCurrentMonth:B,selected:z=!1,showDaysOutsideCurrentMonth:W=!1,children:L,today:U=!1}=r,I=pt(r,zne),q=oe({},r,{autoFocus:a,disabled:p,disableHighlightToday:m,disableMargin:y,selected:z,showDaysOutsideCurrentMonth:W,today:U}),ee=Bne(q),te=Gi(),ce=X.useRef(null),re=fi(ce,s);ys(()=>{a&&!p&&!b&&!B&&ce.current.focus()},[a,p,b,B]);const ae=ie=>{_(ie),B&&ie.preventDefault()},ue=ie=>{p||M(d),B&&ie.currentTarget.focus(),S&&S(ie)};return B&&!W?D.jsx(Hne,{className:Pt(ee.root,ee.hiddenDaySpacingFiller,u),ownerState:q,role:I.role}):D.jsx(Vne,oe({className:Pt(ee.root,u),ref:re,centerRipple:!0,disabled:p,tabIndex:z?0:-1,onKeyDown:ie=>E(ie,d),onFocus:ie=>A(ie,d),onBlur:ie=>R(ie,d),onMouseEnter:ie=>T(ie,d),onClick:ue,onMouseDown:ae},I,{ownerState:q,children:L||te.format(d,"dayOfMonth")}))}),$ne=X.memo(Wne),Yne=i=>Qt("MuiPickersSlideTransition",i),No=en("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),Une=["children","className","reduceAnimations","slideDirection","transKey","classes"],Xne=i=>{const{classes:t,slideDirection:s}=i,r={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${s}`],exitActive:[`slideExitActiveLeft-${s}`]};return tn(r,Yne,t)},Gne=st(vp,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(i,t)=>[t.root,{[`.${No["slideEnter-left"]}`]:t["slideEnter-left"]},{[`.${No["slideEnter-right"]}`]:t["slideEnter-right"]},{[`.${No.slideEnterActive}`]:t.slideEnterActive},{[`.${No.slideExit}`]:t.slideExit},{[`.${No["slideExitActiveLeft-left"]}`]:t["slideExitActiveLeft-left"]},{[`.${No["slideExitActiveLeft-right"]}`]:t["slideExitActiveLeft-right"]}]})(({theme:i})=>{const t=i.transitions.create("transform",{duration:i.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${No["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${No["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${No.slideEnterActive}`]:{transform:"translate(0%)",transition:t},[`& .${No.slideExit}`]:{transform:"translate(0%)"},[`& .${No["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:t,zIndex:0},[`& .${No["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:t,zIndex:0}}});function qne(i){const t=Vs({props:i,name:"MuiPickersSlideTransition"}),{children:s,className:r,reduceAnimations:a,transKey:u}=t,d=pt(t,Une),p=Xne(t),m=vs();if(a)return D.jsx("div",{className:Pt(p.root,r),children:s});const y={exit:p.exit,enterActive:p.enterActive,enter:p.enter,exitActive:p.exitActive};return D.jsx(Gne,{className:Pt(p.root,r),childFactory:b=>X.cloneElement(b,{classNames:y}),role:"presentation",children:D.jsx(_1,oe({mountOnEnter:!0,unmountOnExit:!0,timeout:m.transitions.duration.complex,classNames:y},d,{children:s}),u)})}const ZN=({shouldDisableDate:i,shouldDisableMonth:t,shouldDisableYear:s,minDate:r,maxDate:a,disableFuture:u,disablePast:d,timezone:p})=>{const m=su();return X.useCallback(y=>fy({adapter:m,value:y,props:{shouldDisableDate:i,shouldDisableMonth:t,shouldDisableYear:s,minDate:r,maxDate:a,disableFuture:u,disablePast:d,timezone:p}})!==null,[m,i,t,s,r,a,u,d,p])},Kne=i=>Qt("MuiDayCalendar",i);en("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const Zne=["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],Jne=["ownerState"],Qne=i=>{const{classes:t}=i;return tn({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},Kne,t)},JN=(lp+hy*2)*6,eie=st("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(i,t)=>t.root})({}),tie=st("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(i,t)=>t.header})({display:"flex",justifyContent:"center",alignItems:"center"}),nie=st(Oe,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(i,t)=>t.weekDayLabel})(({theme:i})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(i.vars||i).palette.text.secondary})),iie=st(Oe,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(i,t)=>t.weekNumberLabel})(({theme:i})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:i.palette.text.disabled})),sie=st(Oe,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(i,t)=>t.weekNumber})(({theme:i})=>oe({},i.typography.caption,{width:lp,height:lp,padding:0,margin:`0 ${hy}px`,color:i.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),rie=st("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(i,t)=>t.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:JN}),oie=st(qne,{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(i,t)=>t.slideTransition})({minHeight:JN}),aie=st("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(i,t)=>t.monthContainer})({overflow:"hidden"}),lie=st("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(i,t)=>t.weekContainer})({margin:`${hy}px 0`,display:"flex",justifyContent:"center"});function cie(i){var t,s,r;let{parentProps:a,day:u,focusableDay:d,selectedDays:p,isDateDisabled:m,currentMonthNumber:y,isViewFocused:b}=i,S=pt(i,Zne);const{disabled:M,disableHighlightToday:A,isMonthSwitchingAnimating:R,showDaysOutsideCurrentMonth:E,components:_,componentsProps:T,slots:B,slotProps:z,timezone:W}=a,L=Gi(),U=uy(W),I=d!==null&&L.isSameDay(u,d),q=p.some(pe=>L.isSameDay(pe,u)),ee=L.isSameDay(u,U),te=(t=(s=B?.day)!=null?s:_?.Day)!=null?t:$ne,ce=Os({elementType:te,externalSlotProps:(r=z?.day)!=null?r:T?.day,additionalProps:oe({disableHighlightToday:A,showDaysOutsideCurrentMonth:E,role:"gridcell",isAnimating:R,"data-timestamp":L.toJsDate(u).valueOf()},S),ownerState:oe({},a,{day:u,selected:q})}),re=pt(ce,Jne),ae=X.useMemo(()=>M||m(u),[M,m,u]),ue=X.useMemo(()=>L.getMonth(u)!==y,[L,u,y]),ie=X.useMemo(()=>{const pe=L.startOfMonth(L.setMonth(u,y));return E?L.isSameDay(u,L.startOfWeek(pe)):L.isSameDay(u,pe)},[y,u,E,L]),he=X.useMemo(()=>{const pe=L.endOfMonth(L.setMonth(u,y));return E?L.isSameDay(u,L.endOfWeek(pe)):L.isSameDay(u,pe)},[y,u,E,L]);return D.jsx(te,oe({},re,{day:u,disabled:ae,autoFocus:b&&I,today:ee,outsideCurrentMonth:ue,isFirstVisibleCell:ie,isLastVisibleCell:he,selected:q,tabIndex:I?0:-1,"aria-selected":q,"aria-current":ee?"date":void 0}))}function uie(i){const t=Vs({props:i,name:"MuiDayCalendar"}),{onFocusedDayChange:s,className:r,currentMonth:a,selectedDays:u,focusedDay:d,loading:p,onSelectedDaysChange:m,onMonthSwitchingAnimationEnd:y,readOnly:b,reduceAnimations:S,renderLoading:M=()=>D.jsx("span",{children:"..."}),slideDirection:A,TransitionProps:R,disablePast:E,disableFuture:_,minDate:T,maxDate:B,shouldDisableDate:z,shouldDisableMonth:W,shouldDisableYear:L,dayOfWeekFormatter:U,hasFocus:I,onFocusedViewChange:q,gridLabelId:ee,displayWeekNumber:te,fixedWeekNumber:ce,autoFocus:re,timezone:ae}=t,ue=uy(ae),ie=Gi(),he=Qne(t),de=vs().direction==="rtl",xe=U||((Ct,ht)=>ie.format(ht,"weekdayShort").charAt(0).toUpperCase()),Se=ZN({shouldDisableDate:z,shouldDisableMonth:W,shouldDisableYear:L,minDate:T,maxDate:B,disablePast:E,disableFuture:_,timezone:ae}),be=Zl(),[Ne,_e]=uo({name:"DayCalendar",state:"hasFocus",controlled:I,default:re??!1}),[Me,qe]=X.useState(()=>d||ue),ze=vn(Ct=>{b||m(Ct)}),$e=Ct=>{Se(Ct)||(s(Ct),qe(Ct),q?.(!0),_e(!0))},Ue=vn((Ct,ht)=>{switch(Ct.key){case"ArrowUp":$e(ie.addDays(ht,-7)),Ct.preventDefault();break;case"ArrowDown":$e(ie.addDays(ht,7)),Ct.preventDefault();break;case"ArrowLeft":{const Ze=ie.addDays(ht,de?1:-1),yt=ie.addMonths(ht,de?1:-1),Ut=Vf({utils:ie,date:Ze,minDate:de?Ze:ie.startOfMonth(yt),maxDate:de?ie.endOfMonth(yt):Ze,isDateDisabled:Se,timezone:ae});$e(Ut||Ze),Ct.preventDefault();break}case"ArrowRight":{const Ze=ie.addDays(ht,de?-1:1),yt=ie.addMonths(ht,de?-1:1),Ut=Vf({utils:ie,date:Ze,minDate:de?ie.startOfMonth(yt):Ze,maxDate:de?Ze:ie.endOfMonth(yt),isDateDisabled:Se,timezone:ae});$e(Ut||Ze),Ct.preventDefault();break}case"Home":$e(ie.startOfWeek(ht)),Ct.preventDefault();break;case"End":$e(ie.endOfWeek(ht)),Ct.preventDefault();break;case"PageUp":$e(ie.addMonths(ht,1)),Ct.preventDefault();break;case"PageDown":$e(ie.addMonths(ht,-1)),Ct.preventDefault();break}}),Pe=vn((Ct,ht)=>$e(ht)),Re=vn((Ct,ht)=>{Ne&&ie.isSameDay(Me,ht)&&q?.(!1)}),De=ie.getMonth(a),je=X.useMemo(()=>u.filter(Ct=>!!Ct).map(Ct=>ie.startOfDay(Ct)),[ie,u]),Ee=De,Qe=X.useMemo(()=>X.createRef(),[Ee]),ut=ie.startOfWeek(ue),Ht=X.useMemo(()=>{const Ct=ie.startOfMonth(a),ht=ie.endOfMonth(a);return Se(Me)||ie.isAfterDay(Me,ht)||ie.isBeforeDay(Me,Ct)?Vf({utils:ie,date:Me,minDate:Ct,maxDate:ht,disablePast:E,disableFuture:_,isDateDisabled:Se,timezone:ae}):Me},[a,_,E,Me,Se,ie,ae]),un=X.useMemo(()=>{const Ct=ie.setTimezone(a,ae),ht=ie.getWeekArray(Ct);let Ze=ie.addMonths(Ct,1);for(;ce&&ht.length<ce;){const yt=ie.getWeekArray(Ze),Ut=ie.isSameDay(ht[ht.length-1][0],yt[0][0]);yt.slice(Ut?1:0).forEach(nn=>{ht.length<ce&&ht.push(nn)}),Ze=ie.addMonths(Ze,1)}return ht},[a,ce,ie,ae]);return D.jsxs(eie,{role:"grid","aria-labelledby":ee,className:he.root,children:[D.jsxs(tie,{role:"row",className:he.header,children:[te&&D.jsx(iie,{variant:"caption",role:"columnheader","aria-label":be.calendarWeekNumberHeaderLabel,className:he.weekNumberLabel,children:be.calendarWeekNumberHeaderText}),Jee(ie,ue).map((Ct,ht)=>{var Ze;const yt=ie.format(Ct,"weekdayShort");return D.jsx(nie,{variant:"caption",role:"columnheader","aria-label":ie.format(ie.addDays(ut,ht),"weekday"),className:he.weekDayLabel,children:(Ze=xe?.(yt,Ct))!=null?Ze:yt},yt+ht.toString())})]}),p?D.jsx(rie,{className:he.loadingContainer,children:M()}):D.jsx(oie,oe({transKey:Ee,onExited:y,reduceAnimations:S,slideDirection:A,className:Pt(r,he.slideTransition)},R,{nodeRef:Qe,children:D.jsx(aie,{ref:Qe,role:"rowgroup",className:he.monthContainer,children:un.map((Ct,ht)=>D.jsxs(lie,{role:"row",className:he.weekContainer,"aria-rowindex":ht+1,children:[te&&D.jsx(sie,{className:he.weekNumber,role:"rowheader","aria-label":be.calendarWeekNumberAriaLabelText(ie.getWeekNumber(Ct[0])),children:be.calendarWeekNumberText(ie.getWeekNumber(Ct[0]))}),Ct.map((Ze,yt)=>D.jsx(cie,{parentProps:t,day:Ze,selectedDays:je,focusableDay:Ht,onKeyDown:Ue,onFocus:Pe,onBlur:Re,onDaySelect:ze,isDateDisabled:Se,currentMonthNumber:De,isViewFocused:Ne,"aria-colindex":yt+1},Ze.toString()))]},`week-${Ct[0]}`))})}))]})}const hie=(i,t,s)=>(r,a)=>{switch(a.type){case"changeMonth":return oe({},r,{slideDirection:a.direction,currentMonth:a.newMonth,isMonthSwitchingAnimating:!i});case"finishMonthSwitchingAnimation":return oe({},r,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(r.focusedDay!=null&&a.focusedDay!=null&&s.isSameDay(a.focusedDay,r.focusedDay))return r;const u=a.focusedDay!=null&&!t&&!s.isSameMonth(r.currentMonth,a.focusedDay);return oe({},r,{focusedDay:a.focusedDay,isMonthSwitchingAnimating:u&&!i&&!a.withoutMonthSwitchingAnimation,currentMonth:u?s.startOfMonth(a.focusedDay):r.currentMonth,slideDirection:a.focusedDay!=null&&s.isAfterDay(a.focusedDay,r.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},die=i=>{const{value:t,referenceDate:s,defaultCalendarMonth:r,disableFuture:a,disablePast:u,disableSwitchToMonthOnDayFocus:d=!1,maxDate:p,minDate:m,onMonthChange:y,reduceAnimations:b,shouldDisableDate:S,timezone:M}=i,A=Gi(),R=X.useRef(hie(!!b,d,A)).current,E=X.useMemo(()=>{let I=null;return s?I=s:r&&(I=A.startOfMonth(r)),il.getInitialReferenceValue({value:t,utils:A,timezone:M,props:i,referenceDate:I,granularity:Pa.day})},[]),[_,T]=X.useReducer(R,{isMonthSwitchingAnimating:!1,focusedDay:E,currentMonth:A.startOfMonth(E),slideDirection:"left"}),B=X.useCallback(I=>{T(oe({type:"changeMonth"},I)),y&&y(I.newMonth)},[y]),z=X.useCallback(I=>{const q=I;A.isSameMonth(q,_.currentMonth)||B({newMonth:A.startOfMonth(q),direction:A.isAfterDay(q,_.currentMonth)?"left":"right"})},[_.currentMonth,B,A]),W=ZN({shouldDisableDate:S,minDate:m,maxDate:p,disableFuture:a,disablePast:u,timezone:M}),L=X.useCallback(()=>{T({type:"finishMonthSwitchingAnimation"})},[]),U=vn((I,q)=>{W(I)||T({type:"changeFocusedDay",focusedDay:I,withoutMonthSwitchingAnimation:q})});return{referenceDate:E,calendarState:_,changeMonth:z,changeFocusedDay:U,isDateDisabled:W,onMonthSwitchingAnimationEnd:L,handleChangeMonth:B}},fie=["props","getOpenDialogAriaText"],pie=["ownerState"],gie=["ownerState"],mie=i=>{var t,s,r,a,u;let{props:d,getOpenDialogAriaText:p}=i,m=pt(i,fie);const{slots:y,slotProps:b,className:S,sx:M,format:A,formatDensity:R,timezone:E,name:_,label:T,inputRef:B,readOnly:z,disabled:W,autoFocus:L,localeText:U,reduceAnimations:I}=d,q=Gi(),ee=X.useRef(null),te=X.useRef(null),ce=sl(),re=(t=b==null||(s=b.toolbar)==null?void 0:s.hidden)!=null?t:!1,{open:ae,actions:ue,hasUIView:ie,layoutProps:he,renderCurrentView:pe,shouldRestoreFocus:de,fieldProps:xe}=WN(oe({},m,{props:d,inputRef:ee,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"desktop"})),Se=(r=y.inputAdornment)!=null?r:Km,be=Os({elementType:Se,externalSlotProps:b?.inputAdornment,additionalProps:{position:"end"},ownerState:d}),Ne=pt(be,pie),_e=(a=y.openPickerButton)!=null?a:Hi,Me=Os({elementType:_e,externalSlotProps:b?.openPickerButton,additionalProps:{disabled:W||z,onClick:ae?ue.onClose:ue.onOpen,"aria-label":p(xe.value,q),edge:Ne.position},ownerState:d}),qe=pt(Me,gie),ze=y.openPickerIcon,$e=y.field,Ue=Os({elementType:$e,externalSlotProps:b?.field,additionalProps:oe({},xe,re&&{id:ce},{readOnly:z,disabled:W,className:S,sx:M,format:A,formatDensity:R,timezone:E,label:T,name:_,autoFocus:L&&!d.open,focused:ae?!0:void 0}),ownerState:d});ie&&(Ue.InputProps=oe({},Ue.InputProps,{ref:te},!d.disableOpenPicker&&{[`${Ne.position}Adornment`]:D.jsx(Se,oe({},Ne,{children:D.jsx(_e,oe({},qe,{children:D.jsx(ze,oe({},b?.openPickerIcon))}))}))}));const Pe=oe({textField:y.textField,clearIcon:y.clearIcon,clearButton:y.clearButton},Ue.slots),Re=(u=y.layout)!=null?u:UN,De=fi(ee,Ue.inputRef,B);let je=ce;re&&(T?je=`${ce}-label`:je=void 0);const Ee=oe({},b,{toolbar:oe({},b?.toolbar,{titleId:ce}),popper:oe({"aria-labelledby":je},b?.popper)});return{renderPicker:()=>D.jsxs(Yw,{localeText:U,children:[D.jsx($e,oe({},Ue,{slots:Pe,slotProps:Ee,inputRef:De})),D.jsx(one,oe({role:"dialog",placement:"bottom-start",anchorEl:te.current},ue,{open:ae,slots:y,slotProps:Ee,shouldRestoreFocus:de,reduceAnimations:I,children:D.jsx(Re,oe({},he,Ee?.layout,{slots:y,slotProps:Ee,children:pe()}))}))]})}},yie=i=>{var t,s,r;const a=Gi(),u=Rp();return oe({},i,{disablePast:(t=i.disablePast)!=null?t:!1,disableFuture:(s=i.disableFuture)!=null?s:!1,format:(r=i.format)!=null?r:a.formats.keyboardDate,minDate:Yo(a,i.minDate,u.minDate),maxDate:Yo(a,i.maxDate,u.maxDate)})},xie=({props:i,inputRef:t})=>{const s=yie(i),{forwardedProps:r,internalProps:a}=jne(s);return hne({inputRef:t,forwardedProps:r,internalProps:a,valueManager:il,fieldValueManager:gte,validator:fy})},vie=["ownerState"],bie=({clearable:i,fieldProps:t,InputProps:s,onClear:r,slots:a,slotProps:u,components:d,componentsProps:p})=>{var m,y,b,S,M,A;const R=Zl(),E=(m=(y=a?.clearButton)!=null?y:d?.ClearButton)!=null?m:Hi,_=Os({elementType:E,externalSlotProps:(b=u?.clearButton)!=null?b:p?.clearButton,ownerState:{},className:"clearButton",additionalProps:{title:R.fieldClearLabel}}),T=pt(_,vie),B=(S=(M=a?.clearIcon)!=null?M:d?.ClearIcon)!=null?S:Ote,z=Os({elementType:B,externalSlotProps:(A=u?.clearIcon)!=null?A:p?.clearIcon,ownerState:{}}),W=oe({},s,{endAdornment:D.jsxs(X.Fragment,{children:[i&&D.jsx(Km,{position:"end",sx:{marginRight:s!=null&&s.endAdornment?-1:-1.5},children:D.jsx(E,oe({},T,{onClick:r,children:D.jsx(B,oe({fontSize:"small"},z))}))}),s?.endAdornment]})}),L=oe({},t,{sx:[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(t.sx)?t.sx:[t.sx]]});return{InputProps:W,fieldProps:L}},wie=["components","componentsProps","slots","slotProps","InputProps","inputProps"],Sie=["inputRef"],Cie=["ref","onPaste","onKeyDown","inputMode","readOnly","clearable","onClear"],QN=X.forwardRef(function(t,s){var r,a,u;const d=Vs({props:t,name:"MuiDateField"}),{components:p,componentsProps:m,slots:y,slotProps:b,InputProps:S,inputProps:M}=d,A=pt(d,wie),R=d,E=(r=(a=y?.textField)!=null?a:p?.TextField)!=null?r:Gn,_=Os({elementType:E,externalSlotProps:(u=b?.textField)!=null?u:m?.textField,externalForwardedProps:A,ownerState:R}),{inputRef:T}=_,B=pt(_,Sie);B.inputProps=oe({},M,B.inputProps),B.InputProps=oe({},S,B.InputProps);const z=xie({props:B,inputRef:T}),{ref:W,onPaste:L,onKeyDown:U,inputMode:I,readOnly:q,clearable:ee,onClear:te}=z,ce=pt(z,Cie),{InputProps:re,fieldProps:ae}=bie({onClear:te,clearable:ee,fieldProps:ce,InputProps:ce.InputProps,slots:y,slotProps:b,components:p,componentsProps:m});return D.jsx(E,oe({ref:s},ae,{InputProps:oe({},re,{readOnly:q}),inputProps:oe({},ce.inputProps,{inputMode:I,onPaste:L,onKeyDown:U,ref:W})}))}),kie=i=>Qt("MuiPickersFadeTransitionGroup",i);en("MuiPickersFadeTransitionGroup",["root"]);const Pie=i=>{const{classes:t}=i;return tn({root:["root"]},kie,t)},Mie=st(vp,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(i,t)=>t.root})({display:"block",position:"relative"});function eR(i){const t=Vs({props:i,name:"MuiPickersFadeTransitionGroup"}),{children:s,className:r,reduceAnimations:a,transKey:u}=t,d=Pie(t),p=vs();return a?s:D.jsx(Mie,{className:Pt(d.root,r),children:D.jsx(Zr,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:p.transitions.duration.enteringScreen,enter:p.transitions.duration.enteringScreen,exit:0},children:s},u)})}function Tie(i){return Qt("MuiPickersMonth",i)}const am=en("MuiPickersMonth",["root","monthButton","disabled","selected"]),Aie=["autoFocus","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow"],Die=i=>{const{disabled:t,selected:s,classes:r}=i;return tn({root:["root"],monthButton:["monthButton",t&&"disabled",s&&"selected"]},Tie,r)},Eie=st("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(i,t)=>[t.root]})(({ownerState:i})=>({flexBasis:i.monthsPerRow===3?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"})),Nie=st("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(i,t)=>[t.monthButton,{[`&.${am.disabled}`]:t.disabled},{[`&.${am.selected}`]:t.selected}]})(({theme:i})=>oe({color:"unset",backgroundColor:"transparent",border:0,outline:0},i.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:i.vars?`rgba(${i.vars.palette.action.activeChannel} / ${i.vars.palette.action.hoverOpacity})`:$r(i.palette.action.active,i.palette.action.hoverOpacity)},"&:hover":{backgroundColor:i.vars?`rgba(${i.vars.palette.action.activeChannel} / ${i.vars.palette.action.hoverOpacity})`:$r(i.palette.action.active,i.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${am.disabled}`]:{color:(i.vars||i).palette.text.secondary},[`&.${am.selected}`]:{color:(i.vars||i).palette.primary.contrastText,backgroundColor:(i.vars||i).palette.primary.main,"&:focus, &:hover":{backgroundColor:(i.vars||i).palette.primary.dark}}})),Rie=X.memo(function(t){const s=Vs({props:t,name:"MuiPickersMonth"}),{autoFocus:r,children:a,disabled:u,selected:d,value:p,tabIndex:m,onClick:y,onKeyDown:b,onFocus:S,onBlur:M,"aria-current":A,"aria-label":R}=s,E=pt(s,Aie),_=X.useRef(null),T=Die(s);return ys(()=>{if(r){var B;(B=_.current)==null||B.focus()}},[r]),D.jsx(Eie,oe({className:T.root,ownerState:s},E,{children:D.jsx(Nie,{ref:_,disabled:u,type:"button",role:"radio",tabIndex:u?-1:m,"aria-current":A,"aria-checked":d,"aria-label":R,onClick:B=>y(B,p),onKeyDown:B=>b(B,p),onFocus:B=>S(B,p),onBlur:B=>M(B,p),className:T.monthButton,ownerState:s,children:a})}))});function Lie(i){return Qt("MuiMonthCalendar",i)}en("MuiMonthCalendar",["root"]);const Oie=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId"],Iie=i=>{const{classes:t}=i;return tn({root:["root"]},Lie,t)};function Fie(i,t){const s=Gi(),r=Rp(),a=Vs({props:i,name:t});return oe({disableFuture:!1,disablePast:!1},a,{minDate:Yo(s,a.minDate,r.minDate),maxDate:Yo(s,a.maxDate,r.maxDate)})}const jie=st("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(i,t)=>t.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:dy,boxSizing:"border-box"}),_ie=X.forwardRef(function(t,s){const r=Fie(t,"MuiMonthCalendar"),{className:a,value:u,defaultValue:d,referenceDate:p,disabled:m,disableFuture:y,disablePast:b,maxDate:S,minDate:M,onChange:A,shouldDisableMonth:R,readOnly:E,disableHighlightToday:_,autoFocus:T=!1,onMonthFocus:B,hasFocus:z,onFocusedViewChange:W,monthsPerRow:L=3,timezone:U,gridLabelId:I}=r,q=pt(r,Oie),{value:ee,handleValueChange:te,timezone:ce}=Gw({name:"MonthCalendar",timezone:U,value:u,defaultValue:d,onChange:A,valueManager:il}),re=uy(ce),ae=Nh(),ue=Gi(),ie=X.useMemo(()=>il.getInitialReferenceValue({value:ee,utils:ue,props:r,timezone:ce,referenceDate:p,granularity:Pa.month}),[]),he=r,pe=Iie(he),de=X.useMemo(()=>ue.getMonth(re),[ue,re]),xe=X.useMemo(()=>ee!=null?ue.getMonth(ee):_?null:ue.getMonth(ie),[ee,ue,_,ie]),[Se,be]=X.useState(()=>xe||de),[Ne,_e]=uo({name:"MonthCalendar",state:"hasFocus",controlled:z,default:T??!1}),Me=vn(De=>{_e(De),W&&W(De)}),qe=X.useCallback(De=>{const je=ue.startOfMonth(b&&ue.isAfter(re,M)?re:M),Ee=ue.startOfMonth(y&&ue.isBefore(re,S)?re:S),Qe=ue.startOfMonth(De);return ue.isBefore(Qe,je)||ue.isAfter(Qe,Ee)?!0:R?R(Qe):!1},[y,b,S,M,re,R,ue]),ze=vn((De,je)=>{if(E)return;const Ee=ue.setMonth(ee??ie,je);te(Ee)}),$e=vn(De=>{qe(ue.setMonth(ee??ie,De))||(be(De),Me(!0),B&&B(De))});X.useEffect(()=>{be(De=>xe!==null&&De!==xe?xe:De)},[xe]);const Ue=vn((De,je)=>{switch(De.key){case"ArrowUp":$e((12+je-3)%12),De.preventDefault();break;case"ArrowDown":$e((12+je+3)%12),De.preventDefault();break;case"ArrowLeft":$e((12+je+(ae.direction==="ltr"?-1:1))%12),De.preventDefault();break;case"ArrowRight":$e((12+je+(ae.direction==="ltr"?1:-1))%12),De.preventDefault();break}}),Pe=vn((De,je)=>{$e(je)}),Re=vn((De,je)=>{Se===je&&Me(!1)});return D.jsx(jie,oe({ref:s,className:Pt(pe.root,a),ownerState:he,role:"radiogroup","aria-labelledby":I},q,{children:Hw(ue,ee??ie).map(De=>{const je=ue.getMonth(De),Ee=ue.format(De,"monthShort"),Qe=ue.format(De,"month"),ut=je===xe,Ht=m||qe(De);return D.jsx(Rie,{selected:ut,value:je,onClick:ze,onKeyDown:Ue,autoFocus:Ne&&je===Se,disabled:Ht,tabIndex:je===Se?0:-1,onFocus:Pe,onBlur:Re,"aria-current":de===je?"date":void 0,"aria-label":Qe,monthsPerRow:L,children:Ee},Ee)})}))});function zie(i){return Qt("MuiPickersYear",i)}const lm=en("MuiPickersYear",["root","yearButton","selected","disabled"]),Bie=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow"],Vie=i=>{const{disabled:t,selected:s,classes:r}=i;return tn({root:["root"],yearButton:["yearButton",t&&"disabled",s&&"selected"]},zie,r)},Hie=st("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(i,t)=>[t.root]})(({ownerState:i})=>({flexBasis:i.yearsPerRow===3?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"})),Wie=st("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(i,t)=>[t.yearButton,{[`&.${lm.disabled}`]:t.disabled},{[`&.${lm.selected}`]:t.selected}]})(({theme:i})=>oe({color:"unset",backgroundColor:"transparent",border:0,outline:0},i.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:i.vars?`rgba(${i.vars.palette.action.activeChannel} / ${i.vars.palette.action.focusOpacity})`:$r(i.palette.action.active,i.palette.action.focusOpacity)},"&:hover":{backgroundColor:i.vars?`rgba(${i.vars.palette.action.activeChannel} / ${i.vars.palette.action.hoverOpacity})`:$r(i.palette.action.active,i.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${lm.disabled}`]:{color:(i.vars||i).palette.text.secondary},[`&.${lm.selected}`]:{color:(i.vars||i).palette.primary.contrastText,backgroundColor:(i.vars||i).palette.primary.main,"&:focus, &:hover":{backgroundColor:(i.vars||i).palette.primary.dark}}})),$ie=X.memo(function(t){const s=Vs({props:t,name:"MuiPickersYear"}),{autoFocus:r,className:a,children:u,disabled:d,selected:p,value:m,tabIndex:y,onClick:b,onKeyDown:S,onFocus:M,onBlur:A,"aria-current":R}=s,E=pt(s,Bie),_=X.useRef(null),T=Vie(s);return X.useEffect(()=>{r&&_.current.focus()},[r]),D.jsx(Hie,oe({className:Pt(T.root,a),ownerState:s},E,{children:D.jsx(Wie,{ref:_,disabled:d,type:"button",role:"radio",tabIndex:d?-1:y,"aria-current":R,"aria-checked":p,onClick:B=>b(B,m),onKeyDown:B=>S(B,m),onFocus:B=>M(B,m),onBlur:B=>A(B,m),className:T.yearButton,ownerState:s,children:u})}))});function Yie(i){return Qt("MuiYearCalendar",i)}en("MuiYearCalendar",["root"]);const Uie=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow","timezone","gridLabelId"],Xie=i=>{const{classes:t}=i;return tn({root:["root"]},Yie,t)};function Gie(i,t){var s;const r=Gi(),a=Rp(),u=Vs({props:i,name:t});return oe({disablePast:!1,disableFuture:!1},u,{yearsPerRow:(s=u.yearsPerRow)!=null?s:3,minDate:Yo(r,u.minDate,a.minDate),maxDate:Yo(r,u.maxDate,a.maxDate)})}const qie=st("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(i,t)=>t.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:dy,maxHeight:Wte,boxSizing:"border-box",position:"relative"}),Kie=X.forwardRef(function(t,s){const r=Gie(t,"MuiYearCalendar"),{autoFocus:a,className:u,value:d,defaultValue:p,referenceDate:m,disabled:y,disableFuture:b,disablePast:S,maxDate:M,minDate:A,onChange:R,readOnly:E,shouldDisableYear:_,disableHighlightToday:T,onYearFocus:B,hasFocus:z,onFocusedViewChange:W,yearsPerRow:L,timezone:U,gridLabelId:I}=r,q=pt(r,Uie),{value:ee,handleValueChange:te,timezone:ce}=Gw({name:"YearCalendar",timezone:U,value:d,defaultValue:p,onChange:R,valueManager:il}),re=uy(ce),ae=Nh(),ue=Gi(),ie=X.useMemo(()=>il.getInitialReferenceValue({value:ee,utils:ue,props:r,timezone:ce,referenceDate:m,granularity:Pa.year}),[]),he=r,pe=Xie(he),de=X.useMemo(()=>ue.getYear(re),[ue,re]),xe=X.useMemo(()=>ee!=null?ue.getYear(ee):T?null:ue.getYear(ie),[ee,ue,T,ie]),[Se,be]=X.useState(()=>xe||de),[Ne,_e]=uo({name:"YearCalendar",state:"hasFocus",controlled:z,default:a??!1}),Me=vn(Ee=>{_e(Ee),W&&W(Ee)}),qe=X.useCallback(Ee=>{if(S&&ue.isBeforeYear(Ee,re)||b&&ue.isAfterYear(Ee,re)||A&&ue.isBeforeYear(Ee,A)||M&&ue.isAfterYear(Ee,M))return!0;if(!_)return!1;const Qe=ue.startOfYear(Ee);return _(Qe)},[b,S,M,A,re,_,ue]),ze=vn((Ee,Qe)=>{if(E)return;const ut=ue.setYear(ee??ie,Qe);te(ut)}),$e=vn(Ee=>{qe(ue.setYear(ee??ie,Ee))||(be(Ee),Me(!0),B?.(Ee))});X.useEffect(()=>{be(Ee=>xe!==null&&Ee!==xe?xe:Ee)},[xe]);const Ue=vn((Ee,Qe)=>{switch(Ee.key){case"ArrowUp":$e(Qe-L),Ee.preventDefault();break;case"ArrowDown":$e(Qe+L),Ee.preventDefault();break;case"ArrowLeft":$e(Qe+(ae.direction==="ltr"?-1:1)),Ee.preventDefault();break;case"ArrowRight":$e(Qe+(ae.direction==="ltr"?1:-1)),Ee.preventDefault();break}}),Pe=vn((Ee,Qe)=>{$e(Qe)}),Re=vn((Ee,Qe)=>{Se===Qe&&Me(!1)}),De=X.useRef(null),je=fi(s,De);return X.useEffect(()=>{if(a||De.current===null)return;const Ee=De.current.querySelector('[tabindex="0"]');if(!Ee)return;const Qe=Ee.offsetHeight,ut=Ee.offsetTop,Ht=De.current.clientHeight,un=De.current.scrollTop,Ct=ut+Qe;Qe>Ht||ut<un||(De.current.scrollTop=Ct-Ht/2-Qe/2)},[a]),D.jsx(qie,oe({ref:je,className:Pt(pe.root,u),ownerState:he,role:"radiogroup","aria-labelledby":I},q,{children:ue.getYearRange(A,M).map(Ee=>{const Qe=ue.getYear(Ee),ut=Qe===xe,Ht=y||qe(Ee);return D.jsx($ie,{selected:ut,value:Qe,onClick:ze,onKeyDown:Ue,autoFocus:Ne&&Qe===Se,disabled:Ht,tabIndex:Qe===Se?0:-1,onFocus:Pe,onBlur:Re,"aria-current":de===Qe?"date":void 0,yearsPerRow:L,children:ue.format(Ee,"year")},ue.format(Ee,"year"))})}))}),Zie=i=>Qt("MuiPickersCalendarHeader",i),Jie=en("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),Qie=["slots","slotProps","components","componentsProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone"],ese=["ownerState"],tse=i=>{const{classes:t}=i;return tn({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},Zie,t)},nse=st("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(i,t)=>t.root})({display:"flex",alignItems:"center",marginTop:16,marginBottom:8,paddingLeft:24,paddingRight:12,maxHeight:30,minHeight:30}),ise=st("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(i,t)=>t.labelContainer})(({theme:i})=>oe({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},i.typography.body1,{fontWeight:i.typography.fontWeightMedium})),sse=st("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(i,t)=>t.label})({marginRight:6}),rse=st(Hi,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(i,t)=>t.switchViewButton})(({ownerState:i})=>oe({marginRight:"auto"},i.view==="year"&&{[`.${Jie.switchViewIcon}`]:{transform:"rotate(180deg)"}})),ose=st(Ete,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(i,t)=>t.switchViewIcon})(({theme:i})=>({willChange:"transform",transition:i.transitions.create("transform"),transform:"rotate(0deg)"})),ase=X.forwardRef(function(t,s){var r,a,u,d;const p=Zl(),m=Gi(),y=Vs({props:t,name:"MuiPickersCalendarHeader"}),{slots:b,slotProps:S,components:M,currentMonth:A,disabled:R,disableFuture:E,disablePast:_,maxDate:T,minDate:B,onMonthChange:z,onViewChange:W,view:L,reduceAnimations:U,views:I,labelId:q,className:ee,timezone:te}=y,ce=pt(y,Qie),re=y,ae=tse(y),ue=(r=(a=b?.switchViewButton)!=null?a:M?.SwitchViewButton)!=null?r:rse,ie=Os({elementType:ue,externalSlotProps:S?.switchViewButton,additionalProps:{size:"small","aria-label":p.calendarViewSwitchingButtonAriaLabel(L)},ownerState:re,className:ae.switchViewButton}),he=(u=(d=b?.switchViewIcon)!=null?d:M?.SwitchViewIcon)!=null?u:ose,pe=Os({elementType:he,externalSlotProps:S?.switchViewIcon,ownerState:void 0,className:ae.switchViewIcon}),de=pt(pe,ese),xe=()=>z(m.addMonths(A,1),"left"),Se=()=>z(m.addMonths(A,-1),"right"),be=Nne(A,{disableFuture:E,maxDate:T,timezone:te}),Ne=Rne(A,{disablePast:_,minDate:B,timezone:te}),_e=()=>{if(!(I.length===1||!W||R))if(I.length===2)W(I.find(Me=>Me!==L)||I[0]);else{const Me=I.indexOf(L)!==0?0:1;W(I[Me])}};return I.length===1&&I[0]==="year"?null:D.jsxs(nse,oe({},ce,{ownerState:re,className:Pt(ee,ae.root),ref:s,children:[D.jsxs(ise,{role:"presentation",onClick:_e,ownerState:re,"aria-live":"polite",className:ae.labelContainer,children:[D.jsx(eR,{reduceAnimations:U,transKey:m.format(A,"monthAndYear"),children:D.jsx(sse,{id:q,ownerState:re,className:ae.label,children:m.format(A,"monthAndYear")})}),I.length>1&&!R&&D.jsx(ue,oe({},ie,{children:D.jsx(he,oe({},de))}))]}),D.jsx(Zr,{in:L==="day",children:D.jsx(Hte,{slots:b,slotProps:S,onGoToPrevious:Se,isPreviousDisabled:Ne,previousLabel:p.previousMonth,onGoToNext:xe,isNextDisabled:be,nextLabel:p.nextMonth})})]}))}),lse=st("div")({overflow:"hidden",width:dy,maxHeight:Uw,display:"flex",flexDirection:"column",margin:"0 auto"}),cse=i=>Qt("MuiDateCalendar",i);en("MuiDateCalendar",["root","viewTransitionContainer"]);const use=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","defaultCalendarMonth","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","components","componentsProps","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow","timezone"],hse=i=>{const{classes:t}=i;return tn({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},cse,t)};function dse(i,t){var s,r,a,u,d,p,m;const y=Gi(),b=Rp(),S=BN(),M=Vs({props:i,name:t});return oe({},M,{loading:(s=M.loading)!=null?s:!1,disablePast:(r=M.disablePast)!=null?r:!1,disableFuture:(a=M.disableFuture)!=null?a:!1,openTo:(u=M.openTo)!=null?u:"day",views:(d=M.views)!=null?d:["year","day"],reduceAnimations:(p=M.reduceAnimations)!=null?p:S,renderLoading:(m=M.renderLoading)!=null?m:()=>D.jsx("span",{children:"..."}),minDate:Yo(y,M.minDate,b.minDate),maxDate:Yo(y,M.maxDate,b.maxDate)})}const fse=st(lse,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(i,t)=>t.root})({display:"flex",flexDirection:"column",height:Uw}),pse=st(eR,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(i,t)=>t.viewTransitionContainer})({}),gse=X.forwardRef(function(t,s){var r,a,u;const d=Gi(),p=sl(),m=dse(t,"MuiDateCalendar"),{autoFocus:y,onViewChange:b,value:S,defaultValue:M,referenceDate:A,disableFuture:R,disablePast:E,defaultCalendarMonth:_,onChange:T,onYearChange:B,onMonthChange:z,reduceAnimations:W,shouldDisableDate:L,shouldDisableMonth:U,shouldDisableYear:I,view:q,views:ee,openTo:te,className:ce,disabled:re,readOnly:ae,minDate:ue,maxDate:ie,disableHighlightToday:he,focusedView:pe,onFocusedViewChange:de,showDaysOutsideCurrentMonth:xe,fixedWeekNumber:Se,dayOfWeekFormatter:be,components:Ne,componentsProps:_e,slots:Me,slotProps:qe,loading:ze,renderLoading:$e,displayWeekNumber:Ue,yearsPerRow:Pe,monthsPerRow:Re,timezone:De}=m,je=pt(m,use),{value:Ee,handleValueChange:Qe,timezone:ut}=Gw({name:"DateCalendar",timezone:De,value:S,defaultValue:M,onChange:T,valueManager:il}),{view:Ht,setView:un,focusedView:Ct,setFocusedView:ht,goToNextView:Ze,setValueAndGoToNextView:yt}=HN({view:q,views:ee,openTo:te,onChange:Qe,onViewChange:b,autoFocus:y,focusedView:pe,onFocusedViewChange:de}),{referenceDate:Ut,calendarState:nn,changeFocusedDay:Ve,changeMonth:at,handleChangeMonth:xt,isDateDisabled:_t,onMonthSwitchingAnimationEnd:Mt}=die({value:Ee,defaultCalendarMonth:_,referenceDate:A,reduceAnimations:W,onMonthChange:z,minDate:ue,maxDate:ie,shouldDisableDate:L,disablePast:E,disableFuture:R,timezone:ut}),rt=re&&Ee||ue,Tt=re&&Ee||ie,ft=`${p}-grid-label`,mt=Ct!==null,Rt=(r=(a=Me?.calendarHeader)!=null?a:Ne?.CalendarHeader)!=null?r:ase,an=Os({elementType:Rt,externalSlotProps:(u=qe?.calendarHeader)!=null?u:_e?.calendarHeader,additionalProps:{views:ee,view:Ht,currentMonth:nn.currentMonth,onViewChange:un,onMonthChange:(Bn,Ms)=>xt({newMonth:Bn,direction:Ms}),minDate:rt,maxDate:Tt,disabled:re,disablePast:E,disableFuture:R,reduceAnimations:W,timezone:ut,labelId:ft,slots:Me,slotProps:qe},ownerState:m}),gt=vn(Bn=>{const Ms=d.startOfMonth(Bn),Ar=d.endOfMonth(Bn),ar=_t(Bn)?Vf({utils:d,date:Bn,minDate:d.isBefore(ue,Ms)?Ms:ue,maxDate:d.isAfter(ie,Ar)?Ar:ie,disablePast:E,disableFuture:R,isDateDisabled:_t,timezone:ut}):Bn;ar?(yt(ar,"finish"),z?.(Ms)):(Ze(),at(Ms)),Ve(ar,!0)}),Te=vn(Bn=>{const Ms=d.startOfYear(Bn),Ar=d.endOfYear(Bn),ar=_t(Bn)?Vf({utils:d,date:Bn,minDate:d.isBefore(ue,Ms)?Ms:ue,maxDate:d.isAfter(ie,Ar)?Ar:ie,disablePast:E,disableFuture:R,isDateDisabled:_t,timezone:ut}):Bn;ar?(yt(ar,"finish"),B?.(ar)):(Ze(),at(Ms)),Ve(ar,!0)}),Nn=vn(Bn=>Qe(Bn&&u0(d,Bn,Ee??Ut),"finish",Ht));X.useEffect(()=>{Ee!=null&&d.isValid(Ee)&&at(Ee)},[Ee]);const Dn=m,hi=hse(Dn),Si={disablePast:E,disableFuture:R,maxDate:ie,minDate:ue},Wi={disableHighlightToday:he,readOnly:ae,disabled:re,timezone:ut,gridLabelId:ft},qi=X.useRef(Ht);X.useEffect(()=>{qi.current!==Ht&&(Ct===qi.current&&ht(Ht,!0),qi.current=Ht)},[Ct,ht,Ht]);const Ps=X.useMemo(()=>[Ee],[Ee]);return D.jsxs(fse,oe({ref:s,className:Pt(hi.root,ce),ownerState:Dn},je,{children:[D.jsx(Rt,oe({},an)),D.jsx(pse,{reduceAnimations:W,className:hi.viewTransitionContainer,transKey:Ht,ownerState:Dn,children:D.jsxs("div",{children:[Ht==="year"&&D.jsx(Kie,oe({},Si,Wi,{value:Ee,onChange:Te,shouldDisableYear:I,hasFocus:mt,onFocusedViewChange:Bn=>ht("year",Bn),yearsPerRow:Pe,referenceDate:Ut})),Ht==="month"&&D.jsx(_ie,oe({},Si,Wi,{hasFocus:mt,className:ce,value:Ee,onChange:gt,shouldDisableMonth:U,onFocusedViewChange:Bn=>ht("month",Bn),monthsPerRow:Re,referenceDate:Ut})),Ht==="day"&&D.jsx(uie,oe({},nn,Si,Wi,{onMonthSwitchingAnimationEnd:Mt,onFocusedDayChange:Ve,reduceAnimations:W,selectedDays:Ps,onSelectedDaysChange:Nn,shouldDisableDate:L,shouldDisableMonth:U,shouldDisableYear:I,hasFocus:mt,onFocusedViewChange:Bn=>ht("day",Bn),showDaysOutsideCurrentMonth:xe,fixedWeekNumber:Se,dayOfWeekFormatter:be,displayWeekNumber:Ue,components:Ne,componentsProps:_e,slots:Me,slotProps:qe,loading:ze,renderLoading:$e}))]})})]}))}),ph=({view:i,onViewChange:t,views:s,focusedView:r,onFocusedViewChange:a,value:u,defaultValue:d,referenceDate:p,onChange:m,className:y,classes:b,disableFuture:S,disablePast:M,minDate:A,maxDate:R,shouldDisableDate:E,shouldDisableMonth:_,shouldDisableYear:T,reduceAnimations:B,onMonthChange:z,monthsPerRow:W,onYearChange:L,yearsPerRow:U,defaultCalendarMonth:I,components:q,componentsProps:ee,slots:te,slotProps:ce,loading:re,renderLoading:ae,disableHighlightToday:ue,readOnly:ie,disabled:he,showDaysOutsideCurrentMonth:pe,dayOfWeekFormatter:de,sx:xe,autoFocus:Se,fixedWeekNumber:be,displayWeekNumber:Ne,timezone:_e})=>D.jsx(gse,{view:i,onViewChange:t,views:s.filter(KT),focusedView:r&&KT(r)?r:null,onFocusedViewChange:a,value:u,defaultValue:d,referenceDate:p,onChange:m,className:y,classes:b,disableFuture:S,disablePast:M,minDate:A,maxDate:R,shouldDisableDate:E,shouldDisableMonth:_,shouldDisableYear:T,reduceAnimations:B,onMonthChange:z,monthsPerRow:W,onYearChange:L,yearsPerRow:U,defaultCalendarMonth:I,components:q,componentsProps:ee,slots:te,slotProps:ce,loading:re,renderLoading:ae,disableHighlightToday:ue,readOnly:ie,disabled:he,showDaysOutsideCurrentMonth:pe,dayOfWeekFormatter:de,sx:xe,autoFocus:Se,fixedWeekNumber:be,displayWeekNumber:Ne,timezone:_e}),tR=X.forwardRef(function(t,s){var r,a,u,d;const p=Zl(),m=Gi(),y=zN(t,"MuiDesktopDatePicker"),b=oe({day:ph,month:ph,year:ph},y.viewRenderers),S=oe({},y,{viewRenderers:b,format:Ww(m,y,!1),yearsPerRow:(r=y.yearsPerRow)!=null?r:4,slots:oe({openPickerIcon:Lte,field:QN},y.slots),slotProps:oe({},y.slotProps,{field:A=>{var R;return oe({},Vw((R=y.slotProps)==null?void 0:R.field,A),GN(y),{ref:s})},toolbar:oe({hidden:!0},(a=y.slotProps)==null?void 0:a.toolbar)})}),{renderPicker:M}=mie({props:S,valueManager:il,valueType:"date",getOpenDialogAriaText:(u=(d=S.localeText)==null?void 0:d.openDatePickerDialogue)!=null?u:p.openDatePickerDialogue,validator:fy});return M()});tR.propTypes={autoFocus:nt.bool,className:nt.string,closeOnSelect:nt.bool,components:nt.object,componentsProps:nt.object,dayOfWeekFormatter:nt.func,defaultCalendarMonth:nt.any,defaultValue:nt.any,disabled:nt.bool,disableFuture:nt.bool,disableHighlightToday:nt.bool,disableOpenPicker:nt.bool,disablePast:nt.bool,displayWeekNumber:nt.bool,fixedWeekNumber:nt.number,format:nt.string,formatDensity:nt.oneOf(["dense","spacious"]),inputRef:l2,label:nt.node,loading:nt.bool,localeText:nt.object,maxDate:nt.any,minDate:nt.any,monthsPerRow:nt.oneOf([3,4]),name:nt.string,onAccept:nt.func,onChange:nt.func,onClose:nt.func,onError:nt.func,onMonthChange:nt.func,onOpen:nt.func,onSelectedSectionsChange:nt.func,onViewChange:nt.func,onYearChange:nt.func,open:nt.bool,openTo:nt.oneOf(["day","month","year"]),orientation:nt.oneOf(["landscape","portrait"]),readOnly:nt.bool,reduceAnimations:nt.bool,referenceDate:nt.any,renderLoading:nt.func,selectedSections:nt.oneOfType([nt.oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),nt.number,nt.shape({endIndex:nt.number.isRequired,startIndex:nt.number.isRequired})]),shouldDisableDate:nt.func,shouldDisableMonth:nt.func,shouldDisableYear:nt.func,showDaysOutsideCurrentMonth:nt.bool,slotProps:nt.object,slots:nt.object,sx:nt.oneOfType([nt.arrayOf(nt.oneOfType([nt.func,nt.object,nt.bool])),nt.func,nt.object]),timezone:nt.string,value:nt.any,view:nt.oneOf(["day","month","year"]),viewRenderers:nt.shape({day:nt.func,month:nt.func,year:nt.func}),views:nt.arrayOf(nt.oneOf(["day","month","year"]).isRequired),yearsPerRow:nt.oneOf([3,4])};const mse=["props","getOpenDialogAriaText"],yse=i=>{var t,s,r;let{props:a,getOpenDialogAriaText:u}=i,d=pt(i,mse);const{slots:p,slotProps:m,className:y,sx:b,format:S,formatDensity:M,timezone:A,name:R,label:E,inputRef:_,readOnly:T,disabled:B,localeText:z}=a,W=Gi(),L=X.useRef(null),U=sl(),I=(t=m==null||(s=m.toolbar)==null?void 0:s.hidden)!=null?t:!1,{open:q,actions:ee,layoutProps:te,renderCurrentView:ce,fieldProps:re}=WN(oe({},d,{props:a,inputRef:L,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"mobile"})),ae=p.field,ue=Os({elementType:ae,externalSlotProps:m?.field,additionalProps:oe({},re,I&&{id:U},!(B||T)&&{onClick:ee.onOpen,onKeyDown:qte(ee.onOpen)},{readOnly:T??!0,disabled:B,className:y,sx:b,format:S,formatDensity:M,timezone:A,label:E,name:R}),ownerState:a});ue.inputProps=oe({},ue.inputProps,{"aria-label":u(re.value,W)});const ie=oe({textField:p.textField},ue.slots),he=(r=p.layout)!=null?r:UN,pe=fi(L,ue.inputRef,_);let de=U;I&&(E?de=`${U}-label`:de=void 0);const xe=oe({},m,{toolbar:oe({},m?.toolbar,{titleId:U}),mobilePaper:oe({"aria-labelledby":de},m?.mobilePaper)});return{renderPicker:()=>D.jsxs(Yw,{localeText:z,children:[D.jsx(ae,oe({},ue,{slots:ie,slotProps:xe,inputRef:pe})),D.jsx(Ute,oe({},ee,{open:q,slots:p,slotProps:xe,children:D.jsx(he,oe({},te,xe?.layout,{slots:p,slotProps:xe,children:ce()}))}))]})}},nR=X.forwardRef(function(t,s){var r,a,u;const d=Zl(),p=Gi(),m=zN(t,"MuiMobileDatePicker"),y=oe({day:ph,month:ph,year:ph},m.viewRenderers),b=oe({},m,{viewRenderers:y,format:Ww(p,m,!1),slots:oe({field:QN},m.slots),slotProps:oe({},m.slotProps,{field:M=>{var A;return oe({},Vw((A=m.slotProps)==null?void 0:A.field,M),GN(m),{ref:s})},toolbar:oe({hidden:!1},(r=m.slotProps)==null?void 0:r.toolbar)})}),{renderPicker:S}=yse({props:b,valueManager:il,valueType:"date",getOpenDialogAriaText:(a=(u=b.localeText)==null?void 0:u.openDatePickerDialogue)!=null?a:d.openDatePickerDialogue,validator:fy});return S()});nR.propTypes={autoFocus:nt.bool,className:nt.string,closeOnSelect:nt.bool,components:nt.object,componentsProps:nt.object,dayOfWeekFormatter:nt.func,defaultCalendarMonth:nt.any,defaultValue:nt.any,disabled:nt.bool,disableFuture:nt.bool,disableHighlightToday:nt.bool,disableOpenPicker:nt.bool,disablePast:nt.bool,displayWeekNumber:nt.bool,fixedWeekNumber:nt.number,format:nt.string,formatDensity:nt.oneOf(["dense","spacious"]),inputRef:l2,label:nt.node,loading:nt.bool,localeText:nt.object,maxDate:nt.any,minDate:nt.any,monthsPerRow:nt.oneOf([3,4]),name:nt.string,onAccept:nt.func,onChange:nt.func,onClose:nt.func,onError:nt.func,onMonthChange:nt.func,onOpen:nt.func,onSelectedSectionsChange:nt.func,onViewChange:nt.func,onYearChange:nt.func,open:nt.bool,openTo:nt.oneOf(["day","month","year"]),orientation:nt.oneOf(["landscape","portrait"]),readOnly:nt.bool,reduceAnimations:nt.bool,referenceDate:nt.any,renderLoading:nt.func,selectedSections:nt.oneOfType([nt.oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),nt.number,nt.shape({endIndex:nt.number.isRequired,startIndex:nt.number.isRequired})]),shouldDisableDate:nt.func,shouldDisableMonth:nt.func,shouldDisableYear:nt.func,showDaysOutsideCurrentMonth:nt.bool,slotProps:nt.object,slots:nt.object,sx:nt.oneOfType([nt.arrayOf(nt.oneOfType([nt.func,nt.object,nt.bool])),nt.func,nt.object]),timezone:nt.string,value:nt.any,view:nt.oneOf(["day","month","year"]),viewRenderers:nt.shape({day:nt.func,month:nt.func,year:nt.func}),views:nt.arrayOf(nt.oneOf(["day","month","year"]).isRequired),yearsPerRow:nt.oneOf([3,4])};const xse=["desktopModeMediaQuery"],oA=X.forwardRef(function(t,s){const r=Vs({props:t,name:"MuiDatePicker"}),{desktopModeMediaQuery:a=Kte}=r,u=pt(r,xse);return A1(a,{defaultMatches:!0})?D.jsx(tR,oe({ref:s},u)):D.jsx(nR,oe({ref:s},u))});var ff={},aA;function vse(){if(aA)return ff;aA=1;var i=Ei();Object.defineProperty(ff,"__esModule",{value:!0}),ff.default=void 0;var t=i(Bi()),s=Li();return ff.default=(0,t.default)((0,s.jsx)("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"AddCircleOutline"),ff}var bse=vse();const wse=Qn(bse),Sse=({form:i,handleChange:t,isValid:s,onClose:r,onSubmit:a,initialData:u,meters:d,tariffData:p,onOpenTariffSettings:m})=>(console.log("tariffData=>",p),D.jsxs(Bt,{sx:{p:2,display:"flex",flexDirection:"column",gap:2},children:[D.jsx(Oe,{variant:"h6",sx:{textAlign:"center",fontWeight:"bold"},children:"Generate Report for the Meters"}),D.jsxs(Bt,{sx:{display:"flex",alignItems:"center"},children:[D.jsx(Gn,{select:!0,value:i.tariff,label:"Tariff",onChange:t("tariff"),size:"small",fullWidth:!0,required:!0,children:p.length===0?D.jsx(io,{disabled:!0,children:"No tariffs available"}):p.map(y=>D.jsx(io,{value:y.tariffName,children:y.tariffName},y.id))}),D.jsx(Hi,{color:"primary",onClick:m,size:"small",title:"Add New Tariff",children:D.jsx(wse,{})})]}),D.jsxs(Bt,{sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:2},children:[D.jsx(Gn,{select:!u,disabled:!!u,value:i.firstMeter,label:"Meter Name",onChange:t("firstMeter"),size:"small",children:d.map(y=>D.jsx(io,{value:y,children:y},y))}),D.jsx(Gn,{value:"WH Received",label:"Parameter",disabled:!0,size:"small"})]}),D.jsxs(Bt,{sx:{display:"flex",justifyContent:"center",gap:2},children:[D.jsx(Sn,{size:"small",onClick:r,variant:"contained",color:"error",children:"Cancel"}),D.jsx(Sn,{size:"small",onClick:()=>a(i),disabled:!s,variant:"contained",color:"primary",children:"Submit"})]})]})),Cse=X.memo(({open:i,onClose:t,onSubmit:s,initialData:r,meters:a,tariffData:u,onOpenTariffSettings:d})=>{const[p,m]=X.useReducer((S,M)=>({...S,...M}),{firstMeter:"",tariff:"",firstMeterParam:"WH Received",bescom_bill:0,...r}),y=S=>M=>{const A=typeof M=="object"&&M!==null&&"target"in M?M.target.value:M;m({[S]:A})},b=p.firstMeter&&p.tariff;return D.jsx(Ji,{open:i,onClose:t,fullWidth:!0,maxWidth:"sm",TransitionComponent:Fi,PaperProps:{sx:{borderRadius:2,boxShadow:5}},children:D.jsx(Sse,{form:p,handleChange:y,isValid:b,onClose:t,onSubmit:s,initialData:r,meters:a,tariffData:u,onOpenTariffSettings:d})})}),kse=({open:i,onClose:t,onConfirm:s})=>D.jsxs(Ji,{open:i,onClose:t,TransitionComponent:Fi,PaperProps:{sx:{borderRadius:2,boxShadow:5,p:1}},children:[D.jsx(Ks,{sx:{textAlign:"center",fontWeight:"medium"},children:"Confirm Meter Sharing"}),D.jsxs(ws,{children:[D.jsx(qm,{children:"This action will remove the selected meter and redistribute its consumption to other meters. You can reapply the data if needed."}),D.jsx(qm,{sx:{mt:2,fontWeight:"bold",textAlign:"center"},children:"Are you sure you want to proceed?"})]}),D.jsxs(qs,{sx:{justifyContent:"center",gap:1,pb:2},children:[D.jsx(Sn,{onClick:t,variant:"outlined",color:"secondary",children:"Cancel"}),D.jsx(Sn,{onClick:s,color:"primary",variant:"contained",children:"Confirm"})]})]});function pi(i){if(i===null||i===!0||i===!1)return NaN;var t=Number(i);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Zt(i,t){if(t.length<i)throw new TypeError(i+" argument"+(i>1?"s":"")+" required, but only "+t.length+" present")}function sn(i){Zt(1,arguments);var t=Object.prototype.toString.call(i);return i instanceof Date||el(i)==="object"&&t==="[object Date]"?new Date(i.getTime()):typeof i=="number"||t==="[object Number]"?new Date(i):((typeof i=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Om(i,t){Zt(2,arguments);var s=sn(i),r=pi(t);return isNaN(r)?new Date(NaN):(r&&s.setDate(s.getDate()+r),s)}function Im(i,t){Zt(2,arguments);var s=sn(i),r=pi(t);if(isNaN(r))return new Date(NaN);if(!r)return s;var a=s.getDate(),u=new Date(s.getTime());u.setMonth(s.getMonth()+r+1,0);var d=u.getDate();return a>=d?u:(s.setFullYear(u.getFullYear(),u.getMonth(),a),s)}function py(i,t){Zt(2,arguments);var s=sn(i).getTime(),r=pi(t);return new Date(s+r)}var Pse=36e5;function Mse(i,t){Zt(2,arguments);var s=pi(t);return py(i,s*Pse)}var Tse={};function Ia(){return Tse}function Vc(i,t){var s,r,a,u,d,p,m,y;Zt(1,arguments);var b=Ia(),S=pi((s=(r=(a=(u=t?.weekStartsOn)!==null&&u!==void 0?u:t==null||(d=t.locale)===null||d===void 0||(p=d.options)===null||p===void 0?void 0:p.weekStartsOn)!==null&&a!==void 0?a:b.weekStartsOn)!==null&&r!==void 0?r:(m=b.locale)===null||m===void 0||(y=m.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&s!==void 0?s:0);if(!(S>=0&&S<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var M=sn(i),A=M.getDay(),R=(A<S?7:0)+A-S;return M.setDate(M.getDate()-R),M.setHours(0,0,0,0),M}function d0(i){var t=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()));return t.setUTCFullYear(i.getFullYear()),i.getTime()-t.getTime()}function Ph(i){Zt(1,arguments);var t=sn(i);return t.setHours(0,0,0,0),t}var Ase=864e5;function Dse(i,t){Zt(2,arguments);var s=Ph(i),r=Ph(t),a=s.getTime()-d0(s),u=r.getTime()-d0(r);return Math.round((a-u)/Ase)}var Ese=6e4;function Nse(i,t){Zt(2,arguments);var s=pi(t);return py(i,s*Ese)}function Rse(i,t){Zt(2,arguments);var s=pi(t);return py(i,s*1e3)}function Lse(i,t){Zt(2,arguments);var s=pi(t),r=s*7;return Om(i,r)}function lA(i,t){Zt(2,arguments);var s=pi(t);return Im(i,s*12)}function Hf(i,t){Zt(2,arguments);var s=sn(i),r=sn(t),a=s.getTime()-r.getTime();return a<0?-1:a>0?1:a}var gy=6e4,my=36e5,Ose=1e3;function Ise(i,t){Zt(2,arguments);var s=Ph(i),r=Ph(t);return s.getTime()===r.getTime()}function Fse(i){return Zt(1,arguments),i instanceof Date||el(i)==="object"&&Object.prototype.toString.call(i)==="[object Date]"}function iR(i){if(Zt(1,arguments),!Fse(i)&&typeof i!="number")return!1;var t=sn(i);return!isNaN(Number(t))}function jse(i,t){Zt(2,arguments);var s=sn(i),r=sn(t),a=s.getFullYear()-r.getFullYear(),u=s.getMonth()-r.getMonth();return a*12+u}function _se(i,t){Zt(2,arguments);var s=sn(i),r=sn(t);return s.getFullYear()-r.getFullYear()}function cA(i,t){var s=i.getFullYear()-t.getFullYear()||i.getMonth()-t.getMonth()||i.getDate()-t.getDate()||i.getHours()-t.getHours()||i.getMinutes()-t.getMinutes()||i.getSeconds()-t.getSeconds()||i.getMilliseconds()-t.getMilliseconds();return s<0?-1:s>0?1:s}function sR(i,t){Zt(2,arguments);var s=sn(i),r=sn(t),a=cA(s,r),u=Math.abs(Dse(s,r));s.setDate(s.getDate()-a*u);var d=+(cA(s,r)===-a),p=a*(u-d);return p===0?0:p}function yy(i,t){return Zt(2,arguments),sn(i).getTime()-sn(t).getTime()}var uA={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},zse="trunc";function Lp(i){return i?uA[i]:uA[zse]}function Bse(i,t,s){Zt(2,arguments);var r=yy(i,t)/my;return Lp(void 0)(r)}function Vse(i,t,s){Zt(2,arguments);var r=yy(i,t)/gy;return Lp(void 0)(r)}function c1(i){Zt(1,arguments);var t=sn(i);return t.setHours(23,59,59,999),t}function u1(i){Zt(1,arguments);var t=sn(i),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}function Hse(i){Zt(1,arguments);var t=sn(i);return c1(t).getTime()===u1(t).getTime()}function rR(i,t){Zt(2,arguments);var s=sn(i),r=sn(t),a=Hf(s,r),u=Math.abs(jse(s,r)),d;if(u<1)d=0;else{s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-a*u);var p=Hf(s,r)===-a;Hse(sn(i))&&u===1&&Hf(i,r)===1&&(p=!1),d=a*(u-Number(p))}return d===0?0:d}function Wse(i,t,s){Zt(2,arguments);var r=rR(i,t)/3;return Lp(void 0)(r)}function $se(i,t,s){Zt(2,arguments);var r=yy(i,t)/1e3;return Lp(void 0)(r)}function Yse(i,t,s){Zt(2,arguments);var r=sR(i,t)/7;return Lp(void 0)(r)}function Use(i,t){Zt(2,arguments);var s=sn(i),r=sn(t),a=Hf(s,r),u=Math.abs(_se(s,r));s.setFullYear(1584),r.setFullYear(1584);var d=Hf(s,r)===-a,p=a*(u-Number(d));return p===0?0:p}function Xse(i,t){var s;Zt(1,arguments);var r=i||{},a=sn(r.start),u=sn(r.end),d=u.getTime();if(!(a.getTime()<=d))throw new RangeError("Invalid interval");var p=[],m=a;m.setHours(0,0,0,0);var y=Number((s=void 0)!==null&&s!==void 0?s:1);if(y<1||isNaN(y))throw new RangeError("`options.step` must be a number greater than 1");for(;m.getTime()<=d;)p.push(sn(m)),m.setDate(m.getDate()+y),m.setHours(0,0,0,0);return p}function hA(i){Zt(1,arguments);var t=sn(i);return t.setDate(1),t.setHours(0,0,0,0),t}function tb(i){Zt(1,arguments);var t=sn(i),s=t.getFullYear();return t.setFullYear(s+1,0,0),t.setHours(23,59,59,999),t}function cm(i){Zt(1,arguments);var t=sn(i),s=new Date(0);return s.setFullYear(t.getFullYear(),0,1),s.setHours(0,0,0,0),s}function nb(i,t){var s,r,a,u,d,p,m,y;Zt(1,arguments);var b=Ia(),S=pi((s=(r=(a=(u=t?.weekStartsOn)!==null&&u!==void 0?u:t==null||(d=t.locale)===null||d===void 0||(p=d.options)===null||p===void 0?void 0:p.weekStartsOn)!==null&&a!==void 0?a:b.weekStartsOn)!==null&&r!==void 0?r:(m=b.locale)===null||m===void 0||(y=m.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&s!==void 0?s:0);if(!(S>=0&&S<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var M=sn(i),A=M.getDay(),R=(A<S?-7:0)+6-(A-S);return M.setDate(M.getDate()+R),M.setHours(23,59,59,999),M}function oR(i,t){Zt(2,arguments);var s=pi(t);return py(i,-s)}var Gse=864e5;function qse(i){Zt(1,arguments);var t=sn(i),s=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),a=s-r;return Math.floor(a/Gse)+1}function Mh(i){Zt(1,arguments);var t=1,s=sn(i),r=s.getUTCDay(),a=(r<t?7:0)+r-t;return s.setUTCDate(s.getUTCDate()-a),s.setUTCHours(0,0,0,0),s}function aR(i){Zt(1,arguments);var t=sn(i),s=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(s+1,0,4),r.setUTCHours(0,0,0,0);var a=Mh(r),u=new Date(0);u.setUTCFullYear(s,0,4),u.setUTCHours(0,0,0,0);var d=Mh(u);return t.getTime()>=a.getTime()?s+1:t.getTime()>=d.getTime()?s:s-1}function Kse(i){Zt(1,arguments);var t=aR(i),s=new Date(0);s.setUTCFullYear(t,0,4),s.setUTCHours(0,0,0,0);var r=Mh(s);return r}var Zse=6048e5;function lR(i){Zt(1,arguments);var t=sn(i),s=Mh(t).getTime()-Kse(t).getTime();return Math.round(s/Zse)+1}function Jc(i,t){var s,r,a,u,d,p,m,y;Zt(1,arguments);var b=Ia(),S=pi((s=(r=(a=(u=t?.weekStartsOn)!==null&&u!==void 0?u:t==null||(d=t.locale)===null||d===void 0||(p=d.options)===null||p===void 0?void 0:p.weekStartsOn)!==null&&a!==void 0?a:b.weekStartsOn)!==null&&r!==void 0?r:(m=b.locale)===null||m===void 0||(y=m.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&s!==void 0?s:0);if(!(S>=0&&S<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var M=sn(i),A=M.getUTCDay(),R=(A<S?7:0)+A-S;return M.setUTCDate(M.getUTCDate()-R),M.setUTCHours(0,0,0,0),M}function qw(i,t){var s,r,a,u,d,p,m,y;Zt(1,arguments);var b=sn(i),S=b.getUTCFullYear(),M=Ia(),A=pi((s=(r=(a=(u=t?.firstWeekContainsDate)!==null&&u!==void 0?u:t==null||(d=t.locale)===null||d===void 0||(p=d.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&a!==void 0?a:M.firstWeekContainsDate)!==null&&r!==void 0?r:(m=M.locale)===null||m===void 0||(y=m.options)===null||y===void 0?void 0:y.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(A>=1&&A<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var R=new Date(0);R.setUTCFullYear(S+1,0,A),R.setUTCHours(0,0,0,0);var E=Jc(R,t),_=new Date(0);_.setUTCFullYear(S,0,A),_.setUTCHours(0,0,0,0);var T=Jc(_,t);return b.getTime()>=E.getTime()?S+1:b.getTime()>=T.getTime()?S:S-1}function Jse(i,t){var s,r,a,u,d,p,m,y;Zt(1,arguments);var b=Ia(),S=pi((s=(r=(a=(u=t?.firstWeekContainsDate)!==null&&u!==void 0?u:t==null||(d=t.locale)===null||d===void 0||(p=d.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&a!==void 0?a:b.firstWeekContainsDate)!==null&&r!==void 0?r:(m=b.locale)===null||m===void 0||(y=m.options)===null||y===void 0?void 0:y.firstWeekContainsDate)!==null&&s!==void 0?s:1),M=qw(i,t),A=new Date(0);A.setUTCFullYear(M,0,S),A.setUTCHours(0,0,0,0);var R=Jc(A,t);return R}var Qse=6048e5;function cR(i,t){Zt(1,arguments);var s=sn(i),r=Jc(s,t).getTime()-Jse(s,t).getTime();return Math.round(r/Qse)+1}function ii(i,t){for(var s=i<0?"-":"",r=Math.abs(i).toString();r.length<t;)r="0"+r;return s+r}var Fl={y:function(t,s){var r=t.getUTCFullYear(),a=r>0?r:1-r;return ii(s==="yy"?a%100:a,s.length)},M:function(t,s){var r=t.getUTCMonth();return s==="M"?String(r+1):ii(r+1,2)},d:function(t,s){return ii(t.getUTCDate(),s.length)},a:function(t,s){var r=t.getUTCHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,s){return ii(t.getUTCHours()%12||12,s.length)},H:function(t,s){return ii(t.getUTCHours(),s.length)},m:function(t,s){return ii(t.getUTCMinutes(),s.length)},s:function(t,s){return ii(t.getUTCSeconds(),s.length)},S:function(t,s){var r=s.length,a=t.getUTCMilliseconds(),u=Math.floor(a*Math.pow(10,r-3));return ii(u,s.length)}},eh={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ere={G:function(t,s,r){var a=t.getUTCFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(t,s,r){if(s==="yo"){var a=t.getUTCFullYear(),u=a>0?a:1-a;return r.ordinalNumber(u,{unit:"year"})}return Fl.y(t,s)},Y:function(t,s,r,a){var u=qw(t,a),d=u>0?u:1-u;if(s==="YY"){var p=d%100;return ii(p,2)}return s==="Yo"?r.ordinalNumber(d,{unit:"year"}):ii(d,s.length)},R:function(t,s){var r=aR(t);return ii(r,s.length)},u:function(t,s){var r=t.getUTCFullYear();return ii(r,s.length)},Q:function(t,s,r){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(s){case"Q":return String(a);case"QQ":return ii(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,s,r){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(s){case"q":return String(a);case"qq":return ii(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,s,r){var a=t.getUTCMonth();switch(s){case"M":case"MM":return Fl.M(t,s);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(t,s,r){var a=t.getUTCMonth();switch(s){case"L":return String(a+1);case"LL":return ii(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(t,s,r,a){var u=cR(t,a);return s==="wo"?r.ordinalNumber(u,{unit:"week"}):ii(u,s.length)},I:function(t,s,r){var a=lR(t);return s==="Io"?r.ordinalNumber(a,{unit:"week"}):ii(a,s.length)},d:function(t,s,r){return s==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):Fl.d(t,s)},D:function(t,s,r){var a=qse(t);return s==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):ii(a,s.length)},E:function(t,s,r){var a=t.getUTCDay();switch(s){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(t,s,r,a){var u=t.getUTCDay(),d=(u-a.weekStartsOn+8)%7||7;switch(s){case"e":return String(d);case"ee":return ii(d,2);case"eo":return r.ordinalNumber(d,{unit:"day"});case"eee":return r.day(u,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(u,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(u,{width:"short",context:"formatting"});case"eeee":default:return r.day(u,{width:"wide",context:"formatting"})}},c:function(t,s,r,a){var u=t.getUTCDay(),d=(u-a.weekStartsOn+8)%7||7;switch(s){case"c":return String(d);case"cc":return ii(d,s.length);case"co":return r.ordinalNumber(d,{unit:"day"});case"ccc":return r.day(u,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(u,{width:"narrow",context:"standalone"});case"cccccc":return r.day(u,{width:"short",context:"standalone"});case"cccc":default:return r.day(u,{width:"wide",context:"standalone"})}},i:function(t,s,r){var a=t.getUTCDay(),u=a===0?7:a;switch(s){case"i":return String(u);case"ii":return ii(u,s.length);case"io":return r.ordinalNumber(u,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(t,s,r){var a=t.getUTCHours(),u=a/12>=1?"pm":"am";switch(s){case"a":case"aa":return r.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(u,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(u,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(u,{width:"wide",context:"formatting"})}},b:function(t,s,r){var a=t.getUTCHours(),u;switch(a===12?u=eh.noon:a===0?u=eh.midnight:u=a/12>=1?"pm":"am",s){case"b":case"bb":return r.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(u,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(u,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(u,{width:"wide",context:"formatting"})}},B:function(t,s,r){var a=t.getUTCHours(),u;switch(a>=17?u=eh.evening:a>=12?u=eh.afternoon:a>=4?u=eh.morning:u=eh.night,s){case"B":case"BB":case"BBB":return r.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(u,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(u,{width:"wide",context:"formatting"})}},h:function(t,s,r){if(s==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return Fl.h(t,s)},H:function(t,s,r){return s==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Fl.H(t,s)},K:function(t,s,r){var a=t.getUTCHours()%12;return s==="Ko"?r.ordinalNumber(a,{unit:"hour"}):ii(a,s.length)},k:function(t,s,r){var a=t.getUTCHours();return a===0&&(a=24),s==="ko"?r.ordinalNumber(a,{unit:"hour"}):ii(a,s.length)},m:function(t,s,r){return s==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Fl.m(t,s)},s:function(t,s,r){return s==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Fl.s(t,s)},S:function(t,s){return Fl.S(t,s)},X:function(t,s,r,a){var u=a._originalDate||t,d=u.getTimezoneOffset();if(d===0)return"Z";switch(s){case"X":return fA(d);case"XXXX":case"XX":return Ac(d);case"XXXXX":case"XXX":default:return Ac(d,":")}},x:function(t,s,r,a){var u=a._originalDate||t,d=u.getTimezoneOffset();switch(s){case"x":return fA(d);case"xxxx":case"xx":return Ac(d);case"xxxxx":case"xxx":default:return Ac(d,":")}},O:function(t,s,r,a){var u=a._originalDate||t,d=u.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+dA(d,":");case"OOOO":default:return"GMT"+Ac(d,":")}},z:function(t,s,r,a){var u=a._originalDate||t,d=u.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+dA(d,":");case"zzzz":default:return"GMT"+Ac(d,":")}},t:function(t,s,r,a){var u=a._originalDate||t,d=Math.floor(u.getTime()/1e3);return ii(d,s.length)},T:function(t,s,r,a){var u=a._originalDate||t,d=u.getTime();return ii(d,s.length)}};function dA(i,t){var s=i>0?"-":"+",r=Math.abs(i),a=Math.floor(r/60),u=r%60;if(u===0)return s+String(a);var d=t;return s+String(a)+d+ii(u,2)}function fA(i,t){if(i%60===0){var s=i>0?"-":"+";return s+ii(Math.abs(i)/60,2)}return Ac(i,t)}function Ac(i,t){var s=t||"",r=i>0?"-":"+",a=Math.abs(i),u=ii(Math.floor(a/60),2),d=ii(a%60,2);return r+u+s+d}var pA=function(t,s){switch(t){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});case"PPPP":default:return s.date({width:"full"})}},uR=function(t,s){switch(t){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});case"pppp":default:return s.time({width:"full"})}},tre=function(t,s){var r=t.match(/(P+)(p+)?/)||[],a=r[1],u=r[2];if(!u)return pA(t,s);var d;switch(a){case"P":d=s.dateTime({width:"short"});break;case"PP":d=s.dateTime({width:"medium"});break;case"PPP":d=s.dateTime({width:"long"});break;case"PPPP":default:d=s.dateTime({width:"full"});break}return d.replace("{{date}}",pA(a,s)).replace("{{time}}",uR(u,s))},h1={p:uR,P:tre},nre=["D","DD"],ire=["YY","YYYY"];function hR(i){return nre.indexOf(i)!==-1}function dR(i){return ire.indexOf(i)!==-1}function f0(i,t,s){if(i==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(i==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(i==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(i==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var sre={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},rre=function(t,s,r){var a,u=sre[t];return typeof u=="string"?a=u:s===1?a=u.one:a=u.other.replace("{{count}}",s.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function ib(i){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=t.width?String(t.width):i.defaultWidth,r=i.formats[s]||i.formats[i.defaultWidth];return r}}var ore={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},are={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},lre={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cre={date:ib({formats:ore,defaultWidth:"full"}),time:ib({formats:are,defaultWidth:"full"}),dateTime:ib({formats:lre,defaultWidth:"full"})},ure={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hre=function(t,s,r,a){return ure[t]};function pf(i){return function(t,s){var r=s!=null&&s.context?String(s.context):"standalone",a;if(r==="formatting"&&i.formattingValues){var u=i.defaultFormattingWidth||i.defaultWidth,d=s!=null&&s.width?String(s.width):u;a=i.formattingValues[d]||i.formattingValues[u]}else{var p=i.defaultWidth,m=s!=null&&s.width?String(s.width):i.defaultWidth;a=i.values[m]||i.values[p]}var y=i.argumentCallback?i.argumentCallback(t):t;return a[y]}}var dre={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},fre={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},pre={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gre={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},yre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},xre=function(t,s){var r=Number(t),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},vre={ordinalNumber:xre,era:pf({values:dre,defaultWidth:"wide"}),quarter:pf({values:fre,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:pf({values:pre,defaultWidth:"wide"}),day:pf({values:gre,defaultWidth:"wide"}),dayPeriod:pf({values:mre,defaultWidth:"wide",formattingValues:yre,defaultFormattingWidth:"wide"})};function gf(i){return function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=s.width,a=r&&i.matchPatterns[r]||i.matchPatterns[i.defaultMatchWidth],u=t.match(a);if(!u)return null;var d=u[0],p=r&&i.parsePatterns[r]||i.parsePatterns[i.defaultParseWidth],m=Array.isArray(p)?wre(p,function(S){return S.test(d)}):bre(p,function(S){return S.test(d)}),y;y=i.valueCallback?i.valueCallback(m):m,y=s.valueCallback?s.valueCallback(y):y;var b=t.slice(d.length);return{value:y,rest:b}}}function bre(i,t){for(var s in i)if(i.hasOwnProperty(s)&&t(i[s]))return s}function wre(i,t){for(var s=0;s<i.length;s++)if(t(i[s]))return s}function Sre(i){return function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(i.matchPattern);if(!r)return null;var a=r[0],u=t.match(i.parsePattern);if(!u)return null;var d=i.valueCallback?i.valueCallback(u[0]):u[0];d=s.valueCallback?s.valueCallback(d):d;var p=t.slice(a.length);return{value:d,rest:p}}}var Cre=/^(\d+)(th|st|nd|rd)?/i,kre=/\d+/i,Pre={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Mre={any:[/^b/i,/^(a|c)/i]},Tre={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Are={any:[/1/i,/2/i,/3/i,/4/i]},Dre={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ere={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Nre={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Rre={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Lre={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ore={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ire={ordinalNumber:Sre({matchPattern:Cre,parsePattern:kre,valueCallback:function(t){return parseInt(t,10)}}),era:gf({matchPatterns:Pre,defaultMatchWidth:"wide",parsePatterns:Mre,defaultParseWidth:"any"}),quarter:gf({matchPatterns:Tre,defaultMatchWidth:"wide",parsePatterns:Are,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:gf({matchPatterns:Dre,defaultMatchWidth:"wide",parsePatterns:Ere,defaultParseWidth:"any"}),day:gf({matchPatterns:Nre,defaultMatchWidth:"wide",parsePatterns:Rre,defaultParseWidth:"any"}),dayPeriod:gf({matchPatterns:Lre,defaultMatchWidth:"any",parsePatterns:Ore,defaultParseWidth:"any"})},Kw={code:"en-US",formatDistance:rre,formatLong:cre,formatRelative:hre,localize:vre,match:Ire,options:{weekStartsOn:0,firstWeekContainsDate:1}},Fre=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jre=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_re=/^'([^]*?)'?$/,zre=/''/g,Bre=/[a-zA-Z]/;function Fc(i,t,s){var r,a,u,d,p,m,y,b,S,M,A,R,E,_,T,B,z,W;Zt(2,arguments);var L=String(t),U=Ia(),I=(r=(a=s?.locale)!==null&&a!==void 0?a:U.locale)!==null&&r!==void 0?r:Kw,q=pi((u=(d=(p=(m=s?.firstWeekContainsDate)!==null&&m!==void 0?m:s==null||(y=s.locale)===null||y===void 0||(b=y.options)===null||b===void 0?void 0:b.firstWeekContainsDate)!==null&&p!==void 0?p:U.firstWeekContainsDate)!==null&&d!==void 0?d:(S=U.locale)===null||S===void 0||(M=S.options)===null||M===void 0?void 0:M.firstWeekContainsDate)!==null&&u!==void 0?u:1);if(!(q>=1&&q<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var ee=pi((A=(R=(E=(_=s?.weekStartsOn)!==null&&_!==void 0?_:s==null||(T=s.locale)===null||T===void 0||(B=T.options)===null||B===void 0?void 0:B.weekStartsOn)!==null&&E!==void 0?E:U.weekStartsOn)!==null&&R!==void 0?R:(z=U.locale)===null||z===void 0||(W=z.options)===null||W===void 0?void 0:W.weekStartsOn)!==null&&A!==void 0?A:0);if(!(ee>=0&&ee<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!I.localize)throw new RangeError("locale must contain localize property");if(!I.formatLong)throw new RangeError("locale must contain formatLong property");var te=sn(i);if(!iR(te))throw new RangeError("Invalid time value");var ce=d0(te),re=oR(te,ce),ae={firstWeekContainsDate:q,weekStartsOn:ee,locale:I,_originalDate:te},ue=L.match(jre).map(function(ie){var he=ie[0];if(he==="p"||he==="P"){var pe=h1[he];return pe(ie,I.formatLong)}return ie}).join("").match(Fre).map(function(ie){if(ie==="''")return"'";var he=ie[0];if(he==="'")return Vre(ie);var pe=ere[he];if(pe)return!(s!=null&&s.useAdditionalWeekYearTokens)&&dR(ie)&&f0(ie,t,String(i)),!(s!=null&&s.useAdditionalDayOfYearTokens)&&hR(ie)&&f0(ie,t,String(i)),pe(re,ie,I.localize,ae);if(he.match(Bre))throw new RangeError("Format string contains an unescaped latin alphabet character `"+he+"`");return ie}).join("");return ue}function Vre(i){var t=i.match(_re);return t?t[1].replace(zre,"'"):i}function Hre(i,t){if(i==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s]);return i}function Wre(i,t){var s,r;Zt(1,arguments);var a=sn(i);if(isNaN(a.getTime()))throw new RangeError("Invalid time value");var u=String((s=t?.format)!==null&&s!==void 0?s:"extended"),d=String((r=t?.representation)!==null&&r!==void 0?r:"complete");if(u!=="extended"&&u!=="basic")throw new RangeError("format must be 'extended' or 'basic'");if(d!=="date"&&d!=="time"&&d!=="complete")throw new RangeError("representation must be 'date', 'time', or 'complete'");var p="",m="",y=u==="extended"?"-":"",b=u==="extended"?":":"";if(d!=="time"){var S=ii(a.getDate(),2),M=ii(a.getMonth()+1,2),A=ii(a.getFullYear(),4);p="".concat(A).concat(y).concat(M).concat(y).concat(S)}if(d!=="date"){var R=a.getTimezoneOffset();if(R!==0){var E=Math.abs(R),_=ii(Math.floor(E/60),2),T=ii(E%60,2),B=R<0?"+":"-";m="".concat(B).concat(_,":").concat(T)}else m="Z";var z=ii(a.getHours(),2),W=ii(a.getMinutes(),2),L=ii(a.getSeconds(),2),U=p===""?"":"T",I=[z,W,L].join(b);p="".concat(p).concat(U).concat(I).concat(m)}return p}function $re(i){Zt(1,arguments);var t=sn(i),s=t.getDate();return s}function fR(i){Zt(1,arguments);var t=sn(i),s=t.getFullYear(),r=t.getMonth(),a=new Date(0);return a.setFullYear(s,r+1,0),a.setHours(0,0,0,0),a.getDate()}function Yre(i){Zt(1,arguments);var t=sn(i),s=t.getHours();return s}function Ure(i){Zt(1,arguments);var t=sn(i),s=t.getMilliseconds();return s}function Xre(i){Zt(1,arguments);var t=sn(i),s=t.getMinutes();return s}function Gre(i){Zt(1,arguments);var t=sn(i),s=t.getMonth();return s}function qre(i){Zt(1,arguments);var t=sn(i),s=t.getSeconds();return s}function Kre(i,t){var s,r,a,u,d,p,m,y;Zt(1,arguments);var b=sn(i),S=b.getFullYear(),M=Ia(),A=pi((s=(r=(a=(u=t?.firstWeekContainsDate)!==null&&u!==void 0?u:t==null||(d=t.locale)===null||d===void 0||(p=d.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&a!==void 0?a:M.firstWeekContainsDate)!==null&&r!==void 0?r:(m=M.locale)===null||m===void 0||(y=m.options)===null||y===void 0?void 0:y.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(A>=1&&A<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var R=new Date(0);R.setFullYear(S+1,0,A),R.setHours(0,0,0,0);var E=Vc(R,t),_=new Date(0);_.setFullYear(S,0,A),_.setHours(0,0,0,0);var T=Vc(_,t);return b.getTime()>=E.getTime()?S+1:b.getTime()>=T.getTime()?S:S-1}function Zre(i,t){var s,r,a,u,d,p,m,y;Zt(1,arguments);var b=Ia(),S=pi((s=(r=(a=(u=t?.firstWeekContainsDate)!==null&&u!==void 0?u:t==null||(d=t.locale)===null||d===void 0||(p=d.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&a!==void 0?a:b.firstWeekContainsDate)!==null&&r!==void 0?r:(m=b.locale)===null||m===void 0||(y=m.options)===null||y===void 0?void 0:y.firstWeekContainsDate)!==null&&s!==void 0?s:1),M=Kre(i,t),A=new Date(0);A.setFullYear(M,0,S),A.setHours(0,0,0,0);var R=Vc(A,t);return R}var Jre=6048e5;function Qre(i,t){Zt(1,arguments);var s=sn(i),r=Vc(s,t).getTime()-Zre(s,t).getTime();return Math.round(r/Jre)+1}function eoe(i){return Zt(1,arguments),sn(i).getFullYear()}function sb(i,t){Zt(2,arguments);var s=sn(i),r=sn(t);return s.getTime()>r.getTime()}function mf(i,t){Zt(2,arguments);var s=sn(i),r=sn(t);return s.getTime()<r.getTime()}function toe(i,t){Zt(2,arguments);var s=sn(i),r=sn(t);return s.getTime()===r.getTime()}function gA(i,t){(t==null||t>i.length)&&(t=i.length);for(var s=0,r=Array(t);s<t;s++)r[s]=i[s];return r}function noe(i,t){if(i){if(typeof i=="string")return gA(i,t);var s={}.toString.call(i).slice(8,-1);return s==="Object"&&i.constructor&&(s=i.constructor.name),s==="Map"||s==="Set"?Array.from(i):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?gA(i,t):void 0}}function mA(i,t){var s=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!s){if(Array.isArray(i)||(s=noe(i))||t){s&&(i=s);var r=0,a=function(){};return{s:a,n:function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}},e:function(y){throw y},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,d=!0,p=!1;return{s:function(){s=s.call(i)},n:function(){var y=s.next();return d=y.done,y},e:function(y){p=!0,u=y},f:function(){try{d||s.return==null||s.return()}finally{if(p)throw u}}}}function gi(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),t&&Ym(i,t)}function p0(i){return p0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p0(i)}function pR(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pR=function(){return!!i})()}function ioe(i,t){if(t&&(el(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pn(i)}function mi(i){var t=pR();return function(){var s,r=p0(i);if(t){var a=p0(this).constructor;s=Reflect.construct(r,arguments,a)}else s=r.apply(this,arguments);return ioe(this,s)}}function oi(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function soe(i,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,y2(r.key),r)}}function ai(i,t,s){return t&&soe(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}var roe=10,gR=function(){function i(){oi(this,i),dn(this,"priority",void 0),dn(this,"subPriority",0)}return ai(i,[{key:"validate",value:function(s,r){return!0}}]),i}(),ooe=function(i){gi(s,i);var t=mi(s);function s(r,a,u,d,p){var m;return oi(this,s),m=t.call(this),m.value=r,m.validateValue=a,m.setValue=u,m.priority=d,p&&(m.subPriority=p),m}return ai(s,[{key:"validate",value:function(a,u){return this.validateValue(a,this.value,u)}},{key:"set",value:function(a,u,d){return this.setValue(a,u,this.value,d)}}]),s}(gR),aoe=function(i){gi(s,i);var t=mi(s);function s(){var r;oi(this,s);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return r=t.call.apply(t,[this].concat(u)),dn(pn(r),"priority",roe),dn(pn(r),"subPriority",-1),r}return ai(s,[{key:"set",value:function(a,u){if(u.timestampIsSet)return a;var d=new Date(0);return d.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),d.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),d}}]),s}(gR),Ti=function(){function i(){oi(this,i),dn(this,"incompatibleTokens",void 0),dn(this,"priority",void 0),dn(this,"subPriority",void 0)}return ai(i,[{key:"run",value:function(s,r,a,u){var d=this.parse(s,r,a,u);return d?{setter:new ooe(d.value,this.validate,this.set,this.priority,this.subPriority),rest:d.rest}:null}},{key:"validate",value:function(s,r,a){return!0}}]),i}(),loe=function(i){gi(s,i);var t=mi(s);function s(){var r;oi(this,s);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return r=t.call.apply(t,[this].concat(u)),dn(pn(r),"priority",140),dn(pn(r),"incompatibleTokens",["R","u","t","T"]),r}return ai(s,[{key:"parse",value:function(a,u,d){switch(u){case"G":case"GG":case"GGG":return d.era(a,{width:"abbreviated"})||d.era(a,{width:"narrow"});case"GGGGG":return d.era(a,{width:"narrow"});case"GGGG":default:return d.era(a,{width:"wide"})||d.era(a,{width:"abbreviated"})||d.era(a,{width:"narrow"})}}},{key:"set",value:function(a,u,d){return u.era=d,a.setUTCFullYear(d,0,1),a.setUTCHours(0,0,0,0),a}}]),s}(Ti),Ss={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ta={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Cs(i,t){return i&&{value:t(i.value),rest:i.rest}}function cs(i,t){var s=t.match(i);return s?{value:parseInt(s[0],10),rest:t.slice(s[0].length)}:null}function Aa(i,t){var s=t.match(i);if(!s)return null;if(s[0]==="Z")return{value:0,rest:t.slice(1)};var r=s[1]==="+"?1:-1,a=s[2]?parseInt(s[2],10):0,u=s[3]?parseInt(s[3],10):0,d=s[5]?parseInt(s[5],10):0;return{value:r*(a*my+u*gy+d*Ose),rest:t.slice(s[0].length)}}function mR(i){return cs(Ss.anyDigitsSigned,i)}function xs(i,t){switch(i){case 1:return cs(Ss.singleDigit,t);case 2:return cs(Ss.twoDigits,t);case 3:return cs(Ss.threeDigits,t);case 4:return cs(Ss.fourDigits,t);default:return cs(new RegExp("^\\d{1,"+i+"}"),t)}}function g0(i,t){switch(i){case 1:return cs(Ss.singleDigitSigned,t);case 2:return cs(Ss.twoDigitsSigned,t);case 3:return cs(Ss.threeDigitsSigned,t);case 4:return cs(Ss.fourDigitsSigned,t);default:return cs(new RegExp("^-?\\d{1,"+i+"}"),t)}}function Zw(i){switch(i){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function yR(i,t){var s=t>0,r=s?t:1-t,a;if(r<=50)a=i||100;else{var u=r+50,d=Math.floor(u/100)*100,p=i>=u%100;a=i+d-(p?100:0)}return s?a:1-a}function xR(i){return i%400===0||i%4===0&&i%100!==0}var coe=function(i){gi(s,i);var t=mi(s);function s(){var r;oi(this,s);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return r=t.call.apply(t,[this].concat(u)),dn(pn(r),"priority",130),dn(pn(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return ai(s,[{key:"parse",value:function(a,u,d){var p=function(y){return{year:y,isTwoDigitYear:u==="yy"}};switch(u){case"y":return Cs(xs(4,a),p);case"yo":return Cs(d.ordinalNumber(a,{unit:"year"}),p);default:return Cs(xs(u.length,a),p)}}},{key:"validate",value:function(a,u){return u.isTwoDigitYear||u.year>0}},{key:"set",value:function(a,u,d){var p=a.getUTCFullYear();if(d.isTwoDigitYear){var m=yR(d.year,p);return a.setUTCFullYear(m,0,1),a.setUTCHours(0,0,0,0),a}var y=!("era"in u)||u.era===1?d.year:1-d.year;return a.setUTCFullYear(y,0,1),a.setUTCHours(0,0,0,0),a}}]),s}(Ti),uoe=function(i){gi(s,i);var t=mi(s);function s(){var r;oi(this,s);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return r=t.call.apply(t,[this].concat(u)),dn(pn(r),"priority",130),dn(pn(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return ai(s,[{key:"parse",value:function(a,u,d){var p=function(y){return{year:y,isTwoDigitYear:u==="YY"}};switch(u){case"Y":return Cs(xs(4,a),p);case"Yo":return Cs(d.ordinalNumber(a,{unit:"year"}),p);default:return Cs(xs(u.length,a),p)}}},{key:"validate",value:function(a,u){return u.isTwoDigitYear||u.year>0}},{key:"set",value:function(a,u,d,p){var m=qw(a,p);if(d.isTwoDigitYear){var y=yR(d.year,m);return a.setUTCFullYear(y,0,p.firstWeekContainsDate),a.setUTCHours(0,0,0,0),Jc(a,p)}var b=!("era"in u)||u.era===1?d.year:1-d.year;return a.setUTCFullYear(b,0,p.firstWeekContainsDate),a.setUTCHours(0,0,0,0),Jc(a,p)}}]),s}(Ti),hoe=function(i){gi(s,i);var t=mi(s);function s(){var r;oi(this,s);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return r=t.call.apply(t,[this].concat(u)),dn(pn(r),"priority",130),dn(pn(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return ai(s,[{key:"parse",value:function(a,u){return g0(u==="R"?4:u.length,a)}},{key:"set",value:function(a,u,d){var p=new Date(0);return p.setUTCFullYear(d,0,4),p.setUTCHours(0,0,0,0),Mh(p)}}]),s}(Ti),doe=function(i){gi(s,i);var t=mi(s);function s(){var r;oi(this,s);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return r=t.call.apply(t,[this].concat(u)),dn(pn(r),"priority",130),dn(pn(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return ai(s,[{key:"parse",value:function(a,u){return g0(u==="u"?4:u.length,a)}},{key:"set",value:function(a,u,d){return a.setUTCFullYear(d,0,1),a.setUTCHours(0,0,0,0),a}}]),s}(Ti),foe=function(i){gi(s,i);var t=mi(s);function s(){var r;oi(this,s);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return r=t.call.apply(t,[this].concat(u)),dn(pn(r),"priority",120),dn(pn(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return ai(s,[{key:"parse",value:function(a,u,d){switch(u){case"Q":case"QQ":return xs(u.length,a);case"Qo":return d.ordinalNumber(a,{unit:"quarter"});case"QQQ":return d.quarter(a,{width:"abbreviated",context:"formatting"})||d.quarter(a,{width:"narrow",context:"formatting"});case"QQQQQ":return d.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return d.quarter(a,{width:"wide",context:"formatting"})||d.quarter(a,{width:"abbreviated",context:"formatting"})||d.quarter(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,u){return u>=1&&u<=4}},{key:"set",value:function(a,u,d){return a.setUTCMonth((d-1)*3,1),a.setUTCHours(0,0,0,0),a}}]),s}(Ti),poe=function(i){gi(s,i);var t=mi(s);function s(){var r;oi(this,s);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return r=t.call.apply(t,[this].concat(u)),dn(pn(r),"priority",120),dn(pn(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return ai(s,[{key:"parse",value:function(a,u,d){switch(u){case"q":case"qq":return xs(u.length,a);case"qo":return d.ordinalNumber(a,{unit:"quarter"});case"qqq":return d.quarter(a,{width:"abbreviated",context:"standalone"})||d.quarter(a,{width:"narrow",context:"standalone"});case"qqqqq":return d.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return d.quarter(a,{width:"wide",context:"standalone"})||d.quarter(a,{width:"abbreviated",context:"standalone"})||d.quarter(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,u){return u>=1&&u<=4}},{key:"set",value:function(a,u,d){return a.setUTCMonth((d-1)*3,1),a.setUTCHours(0,0,0,0),a}}]),s}(Ti),goe=function(i){gi(s,i);var t=mi(s);function s(){var r;oi(this,s);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return r=t.call.apply(t,[this].concat(u)),dn(pn(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),dn(pn(r),"priority",110),r}return ai(s,[{key:"parse",value:function(a,u,d){var p=function(y){return y-1};switch(u){case"M":return Cs(cs(Ss.month,a),p);case"MM":return Cs(xs(2,a),p);case"Mo":return Cs(d.ordinalNumber(a,{unit:"month"}),p);case"MMM":return d.month(a,{width:"abbreviated",context:"formatting"})||d.month(a,{width:"narrow",context:"formatting"});case"MMMMM":return d.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return d.month(a,{width:"wide",context:"formatting"})||d.month(a,{width:"abbreviated",context:"formatting"})||d.month(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,u){return u>=0&&u<=11}},{key:"set",value:function(a,u,d){return a.setUTCMonth(d,1),a.setUTCHours(0,0,0,0),a}}]),s}(Ti),moe=function(i){gi(s,i);var t=mi(s);function s(){var r;oi(this,s);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return r=t.call.apply(t,[this].concat(u)),dn(pn(r),"priority",110),dn(pn(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return ai(s,[{key:"parse",value:function(a,u,d){var p=function(y){return y-1};switch(u){case"L":return Cs(cs(Ss.month,a),p);case"LL":return Cs(xs(2,a),p);case"Lo":return Cs(d.ordinalNumber(a,{unit:"month"}),p);case"LLL":return d.month(a,{width:"abbreviated",context:"standalone"})||d.month(a,{width:"narrow",context:"standalone"});case"LLLLL":return d.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return d.month(a,{width:"wide",context:"standalone"})||d.month(a,{width:"abbreviated",context:"standalone"})||d.month(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,u){return u>=0&&u<=11}},{key:"set",value:function(a,u,d){return a.setUTCMonth(d,1),a.setUTCHours(0,0,0,0),a}}]),s}(Ti);function yoe(i,t,s){Zt(2,arguments);var r=sn(i),a=pi(t),u=cR(r,s)-a;return r.setUTCDate(r.getUTCDate()-u*7),r}var xoe=function(i){gi(s,i);var t=mi(s);function s(){var r;oi(this,s);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return r=t.call.apply(t,[this].concat(u)),dn(pn(r),"priority",100),dn(pn(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return ai(s,[{key:"parse",value:function(a,u,d){switch(u){case"w":return cs(Ss.week,a);case"wo":return d.ordinalNumber(a,{unit:"week"});default:return xs(u.length,a)}}},{key:"validate",value:function(a,u){return u>=1&&u<=53}},{key:"set",value:function(a,u,d,p){return Jc(yoe(a,d,p),p)}}]),s}(Ti);function voe(i,t){Zt(2,arguments);var s=sn(i),r=pi(t),a=lR(s)-r;return s.setUTCDate(s.getUTCDate()-a*7),s}var boe=function(i){gi(s,i);var t=mi(s);function s(){var r;oi(this,s);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return r=t.call.apply(t,[this].concat(u)),dn(pn(r),"priority",100),dn(pn(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return ai(s,[{key:"parse",value:function(a,u,d){switch(u){case"I":return cs(Ss.week,a);case"Io":return d.ordinalNumber(a,{unit:"week"});default:return xs(u.length,a)}}},{key:"validate",value:function(a,u){return u>=1&&u<=53}},{key:"set",value:function(a,u,d){return Mh(voe(a,d))}}]),s}(Ti),woe=[31,28,31,30,31,30,31,31,30,31,30,31],Soe=[31,29,31,30,31,30,31,31,30,31,30,31],Coe=function(i){gi(s,i);var t=mi(s);function s(){var r;oi(this,s);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return r=t.call.apply(t,[this].concat(u)),dn(pn(r),"priority",90),dn(pn(r),"subPriority",1),dn(pn(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return ai(s,[{key:"parse",value:function(a,u,d){switch(u){case"d":return cs(Ss.date,a);case"do":return d.ordinalNumber(a,{unit:"date"});default:return xs(u.length,a)}}},{key:"validate",value:function(a,u){var d=a.getUTCFullYear(),p=xR(d),m=a.getUTCMonth();return p?u>=1&&u<=Soe[m]:u>=1&&u<=woe[m]}},{key:"set",value:function(a,u,d){return a.setUTCDate(d),a.setUTCHours(0,0,0,0),a}}]),s}(Ti),koe=function(i){gi(s,i);var t=mi(s);function s(){var r;oi(this,s);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return r=t.call.apply(t,[this].concat(u)),dn(pn(r),"priority",90),dn(pn(r),"subpriority",1),dn(pn(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return ai(s,[{key:"parse",value:function(a,u,d){switch(u){case"D":case"DD":return cs(Ss.dayOfYear,a);case"Do":return d.ordinalNumber(a,{unit:"date"});default:return xs(u.length,a)}}},{key:"validate",value:function(a,u){var d=a.getUTCFullYear(),p=xR(d);return p?u>=1&&u<=366:u>=1&&u<=365}},{key:"set",value:function(a,u,d){return a.setUTCMonth(0,d),a.setUTCHours(0,0,0,0),a}}]),s}(Ti);function Jw(i,t,s){var r,a,u,d,p,m,y,b;Zt(2,arguments);var S=Ia(),M=pi((r=(a=(u=(d=s?.weekStartsOn)!==null&&d!==void 0?d:s==null||(p=s.locale)===null||p===void 0||(m=p.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&u!==void 0?u:S.weekStartsOn)!==null&&a!==void 0?a:(y=S.locale)===null||y===void 0||(b=y.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&r!==void 0?r:0);if(!(M>=0&&M<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var A=sn(i),R=pi(t),E=A.getUTCDay(),_=R%7,T=(_+7)%7,B=(T<M?7:0)+R-E;return A.setUTCDate(A.getUTCDate()+B),A}var Poe=function(i){gi(s,i);var t=mi(s);function s(){var r;oi(this,s);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return r=t.call.apply(t,[this].concat(u)),dn(pn(r),"priority",90),dn(pn(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return ai(s,[{key:"parse",value:function(a,u,d){switch(u){case"E":case"EE":case"EEE":return d.day(a,{width:"abbreviated",context:"formatting"})||d.day(a,{width:"short",context:"formatting"})||d.day(a,{width:"narrow",context:"formatting"});case"EEEEE":return d.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return d.day(a,{width:"short",context:"formatting"})||d.day(a,{width:"narrow",context:"formatting"});case"EEEE":default:return d.day(a,{width:"wide",context:"formatting"})||d.day(a,{width:"abbreviated",context:"formatting"})||d.day(a,{width:"short",context:"formatting"})||d.day(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,u){return u>=0&&u<=6}},{key:"set",value:function(a,u,d,p){return a=Jw(a,d,p),a.setUTCHours(0,0,0,0),a}}]),s}(Ti),Moe=function(i){gi(s,i);var t=mi(s);function s(){var r;oi(this,s);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return r=t.call.apply(t,[this].concat(u)),dn(pn(r),"priority",90),dn(pn(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return ai(s,[{key:"parse",value:function(a,u,d,p){var m=function(b){var S=Math.floor((b-1)/7)*7;return(b+p.weekStartsOn+6)%7+S};switch(u){case"e":case"ee":return Cs(xs(u.length,a),m);case"eo":return Cs(d.ordinalNumber(a,{unit:"day"}),m);case"eee":return d.day(a,{width:"abbreviated",context:"formatting"})||d.day(a,{width:"short",context:"formatting"})||d.day(a,{width:"narrow",context:"formatting"});case"eeeee":return d.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return d.day(a,{width:"short",context:"formatting"})||d.day(a,{width:"narrow",context:"formatting"});case"eeee":default:return d.day(a,{width:"wide",context:"formatting"})||d.day(a,{width:"abbreviated",context:"formatting"})||d.day(a,{width:"short",context:"formatting"})||d.day(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,u){return u>=0&&u<=6}},{key:"set",value:function(a,u,d,p){return a=Jw(a,d,p),a.setUTCHours(0,0,0,0),a}}]),s}(Ti),Toe=function(i){gi(s,i);var t=mi(s);function s(){var r;oi(this,s);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return r=t.call.apply(t,[this].concat(u)),dn(pn(r),"priority",90),dn(pn(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return ai(s,[{key:"parse",value:function(a,u,d,p){var m=function(b){var S=Math.floor((b-1)/7)*7;return(b+p.weekStartsOn+6)%7+S};switch(u){case"c":case"cc":return Cs(xs(u.length,a),m);case"co":return Cs(d.ordinalNumber(a,{unit:"day"}),m);case"ccc":return d.day(a,{width:"abbreviated",context:"standalone"})||d.day(a,{width:"short",context:"standalone"})||d.day(a,{width:"narrow",context:"standalone"});case"ccccc":return d.day(a,{width:"narrow",context:"standalone"});case"cccccc":return d.day(a,{width:"short",context:"standalone"})||d.day(a,{width:"narrow",context:"standalone"});case"cccc":default:return d.day(a,{width:"wide",context:"standalone"})||d.day(a,{width:"abbreviated",context:"standalone"})||d.day(a,{width:"short",context:"standalone"})||d.day(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,u){return u>=0&&u<=6}},{key:"set",value:function(a,u,d,p){return a=Jw(a,d,p),a.setUTCHours(0,0,0,0),a}}]),s}(Ti);function Aoe(i,t){Zt(2,arguments);var s=pi(t);s%7===0&&(s=s-7);var r=1,a=sn(i),u=a.getUTCDay(),d=s%7,p=(d+7)%7,m=(p<r?7:0)+s-u;return a.setUTCDate(a.getUTCDate()+m),a}var Doe=function(i){gi(s,i);var t=mi(s);function s(){var r;oi(this,s);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return r=t.call.apply(t,[this].concat(u)),dn(pn(r),"priority",90),dn(pn(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return ai(s,[{key:"parse",value:function(a,u,d){var p=function(y){return y===0?7:y};switch(u){case"i":case"ii":return xs(u.length,a);case"io":return d.ordinalNumber(a,{unit:"day"});case"iii":return Cs(d.day(a,{width:"abbreviated",context:"formatting"})||d.day(a,{width:"short",context:"formatting"})||d.day(a,{width:"narrow",context:"formatting"}),p);case"iiiii":return Cs(d.day(a,{width:"narrow",context:"formatting"}),p);case"iiiiii":return Cs(d.day(a,{width:"short",context:"formatting"})||d.day(a,{width:"narrow",context:"formatting"}),p);case"iiii":default:return Cs(d.day(a,{width:"wide",context:"formatting"})||d.day(a,{width:"abbreviated",context:"formatting"})||d.day(a,{width:"short",context:"formatting"})||d.day(a,{width:"narrow",context:"formatting"}),p)}}},{key:"validate",value:function(a,u){return u>=1&&u<=7}},{key:"set",value:function(a,u,d){return a=Aoe(a,d),a.setUTCHours(0,0,0,0),a}}]),s}(Ti),Eoe=function(i){gi(s,i);var t=mi(s);function s(){var r;oi(this,s);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return r=t.call.apply(t,[this].concat(u)),dn(pn(r),"priority",80),dn(pn(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return ai(s,[{key:"parse",value:function(a,u,d){switch(u){case"a":case"aa":case"aaa":return d.dayPeriod(a,{width:"abbreviated",context:"formatting"})||d.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaaa":return d.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return d.dayPeriod(a,{width:"wide",context:"formatting"})||d.dayPeriod(a,{width:"abbreviated",context:"formatting"})||d.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,u,d){return a.setUTCHours(Zw(d),0,0,0),a}}]),s}(Ti),Noe=function(i){gi(s,i);var t=mi(s);function s(){var r;oi(this,s);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return r=t.call.apply(t,[this].concat(u)),dn(pn(r),"priority",80),dn(pn(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return ai(s,[{key:"parse",value:function(a,u,d){switch(u){case"b":case"bb":case"bbb":return d.dayPeriod(a,{width:"abbreviated",context:"formatting"})||d.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbbb":return d.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return d.dayPeriod(a,{width:"wide",context:"formatting"})||d.dayPeriod(a,{width:"abbreviated",context:"formatting"})||d.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,u,d){return a.setUTCHours(Zw(d),0,0,0),a}}]),s}(Ti),Roe=function(i){gi(s,i);var t=mi(s);function s(){var r;oi(this,s);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return r=t.call.apply(t,[this].concat(u)),dn(pn(r),"priority",80),dn(pn(r),"incompatibleTokens",["a","b","t","T"]),r}return ai(s,[{key:"parse",value:function(a,u,d){switch(u){case"B":case"BB":case"BBB":return d.dayPeriod(a,{width:"abbreviated",context:"formatting"})||d.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBBB":return d.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return d.dayPeriod(a,{width:"wide",context:"formatting"})||d.dayPeriod(a,{width:"abbreviated",context:"formatting"})||d.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,u,d){return a.setUTCHours(Zw(d),0,0,0),a}}]),s}(Ti),Loe=function(i){gi(s,i);var t=mi(s);function s(){var r;oi(this,s);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return r=t.call.apply(t,[this].concat(u)),dn(pn(r),"priority",70),dn(pn(r),"incompatibleTokens",["H","K","k","t","T"]),r}return ai(s,[{key:"parse",value:function(a,u,d){switch(u){case"h":return cs(Ss.hour12h,a);case"ho":return d.ordinalNumber(a,{unit:"hour"});default:return xs(u.length,a)}}},{key:"validate",value:function(a,u){return u>=1&&u<=12}},{key:"set",value:function(a,u,d){var p=a.getUTCHours()>=12;return p&&d<12?a.setUTCHours(d+12,0,0,0):!p&&d===12?a.setUTCHours(0,0,0,0):a.setUTCHours(d,0,0,0),a}}]),s}(Ti),Ooe=function(i){gi(s,i);var t=mi(s);function s(){var r;oi(this,s);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return r=t.call.apply(t,[this].concat(u)),dn(pn(r),"priority",70),dn(pn(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return ai(s,[{key:"parse",value:function(a,u,d){switch(u){case"H":return cs(Ss.hour23h,a);case"Ho":return d.ordinalNumber(a,{unit:"hour"});default:return xs(u.length,a)}}},{key:"validate",value:function(a,u){return u>=0&&u<=23}},{key:"set",value:function(a,u,d){return a.setUTCHours(d,0,0,0),a}}]),s}(Ti),Ioe=function(i){gi(s,i);var t=mi(s);function s(){var r;oi(this,s);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return r=t.call.apply(t,[this].concat(u)),dn(pn(r),"priority",70),dn(pn(r),"incompatibleTokens",["h","H","k","t","T"]),r}return ai(s,[{key:"parse",value:function(a,u,d){switch(u){case"K":return cs(Ss.hour11h,a);case"Ko":return d.ordinalNumber(a,{unit:"hour"});default:return xs(u.length,a)}}},{key:"validate",value:function(a,u){return u>=0&&u<=11}},{key:"set",value:function(a,u,d){var p=a.getUTCHours()>=12;return p&&d<12?a.setUTCHours(d+12,0,0,0):a.setUTCHours(d,0,0,0),a}}]),s}(Ti),Foe=function(i){gi(s,i);var t=mi(s);function s(){var r;oi(this,s);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return r=t.call.apply(t,[this].concat(u)),dn(pn(r),"priority",70),dn(pn(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return ai(s,[{key:"parse",value:function(a,u,d){switch(u){case"k":return cs(Ss.hour24h,a);case"ko":return d.ordinalNumber(a,{unit:"hour"});default:return xs(u.length,a)}}},{key:"validate",value:function(a,u){return u>=1&&u<=24}},{key:"set",value:function(a,u,d){var p=d<=24?d%24:d;return a.setUTCHours(p,0,0,0),a}}]),s}(Ti),joe=function(i){gi(s,i);var t=mi(s);function s(){var r;oi(this,s);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return r=t.call.apply(t,[this].concat(u)),dn(pn(r),"priority",60),dn(pn(r),"incompatibleTokens",["t","T"]),r}return ai(s,[{key:"parse",value:function(a,u,d){switch(u){case"m":return cs(Ss.minute,a);case"mo":return d.ordinalNumber(a,{unit:"minute"});default:return xs(u.length,a)}}},{key:"validate",value:function(a,u){return u>=0&&u<=59}},{key:"set",value:function(a,u,d){return a.setUTCMinutes(d,0,0),a}}]),s}(Ti),_oe=function(i){gi(s,i);var t=mi(s);function s(){var r;oi(this,s);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return r=t.call.apply(t,[this].concat(u)),dn(pn(r),"priority",50),dn(pn(r),"incompatibleTokens",["t","T"]),r}return ai(s,[{key:"parse",value:function(a,u,d){switch(u){case"s":return cs(Ss.second,a);case"so":return d.ordinalNumber(a,{unit:"second"});default:return xs(u.length,a)}}},{key:"validate",value:function(a,u){return u>=0&&u<=59}},{key:"set",value:function(a,u,d){return a.setUTCSeconds(d,0),a}}]),s}(Ti),zoe=function(i){gi(s,i);var t=mi(s);function s(){var r;oi(this,s);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return r=t.call.apply(t,[this].concat(u)),dn(pn(r),"priority",30),dn(pn(r),"incompatibleTokens",["t","T"]),r}return ai(s,[{key:"parse",value:function(a,u){var d=function(m){return Math.floor(m*Math.pow(10,-u.length+3))};return Cs(xs(u.length,a),d)}},{key:"set",value:function(a,u,d){return a.setUTCMilliseconds(d),a}}]),s}(Ti),Boe=function(i){gi(s,i);var t=mi(s);function s(){var r;oi(this,s);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return r=t.call.apply(t,[this].concat(u)),dn(pn(r),"priority",10),dn(pn(r),"incompatibleTokens",["t","T","x"]),r}return ai(s,[{key:"parse",value:function(a,u){switch(u){case"X":return Aa(Ta.basicOptionalMinutes,a);case"XX":return Aa(Ta.basic,a);case"XXXX":return Aa(Ta.basicOptionalSeconds,a);case"XXXXX":return Aa(Ta.extendedOptionalSeconds,a);case"XXX":default:return Aa(Ta.extended,a)}}},{key:"set",value:function(a,u,d){return u.timestampIsSet?a:new Date(a.getTime()-d)}}]),s}(Ti),Voe=function(i){gi(s,i);var t=mi(s);function s(){var r;oi(this,s);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return r=t.call.apply(t,[this].concat(u)),dn(pn(r),"priority",10),dn(pn(r),"incompatibleTokens",["t","T","X"]),r}return ai(s,[{key:"parse",value:function(a,u){switch(u){case"x":return Aa(Ta.basicOptionalMinutes,a);case"xx":return Aa(Ta.basic,a);case"xxxx":return Aa(Ta.basicOptionalSeconds,a);case"xxxxx":return Aa(Ta.extendedOptionalSeconds,a);case"xxx":default:return Aa(Ta.extended,a)}}},{key:"set",value:function(a,u,d){return u.timestampIsSet?a:new Date(a.getTime()-d)}}]),s}(Ti),Hoe=function(i){gi(s,i);var t=mi(s);function s(){var r;oi(this,s);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return r=t.call.apply(t,[this].concat(u)),dn(pn(r),"priority",40),dn(pn(r),"incompatibleTokens","*"),r}return ai(s,[{key:"parse",value:function(a){return mR(a)}},{key:"set",value:function(a,u,d){return[new Date(d*1e3),{timestampIsSet:!0}]}}]),s}(Ti),Woe=function(i){gi(s,i);var t=mi(s);function s(){var r;oi(this,s);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return r=t.call.apply(t,[this].concat(u)),dn(pn(r),"priority",20),dn(pn(r),"incompatibleTokens","*"),r}return ai(s,[{key:"parse",value:function(a){return mR(a)}},{key:"set",value:function(a,u,d){return[new Date(d),{timestampIsSet:!0}]}}]),s}(Ti),$oe={G:new loe,y:new coe,Y:new uoe,R:new hoe,u:new doe,Q:new foe,q:new poe,M:new goe,L:new moe,w:new xoe,I:new boe,d:new Coe,D:new koe,E:new Poe,e:new Moe,c:new Toe,i:new Doe,a:new Eoe,b:new Noe,B:new Roe,h:new Loe,H:new Ooe,K:new Ioe,k:new Foe,m:new joe,s:new _oe,S:new zoe,X:new Boe,x:new Voe,t:new Hoe,T:new Woe},Yoe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Uoe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Xoe=/^'([^]*?)'?$/,Goe=/''/g,qoe=/\S/,Koe=/[a-zA-Z]/;function Zoe(i,t,s,r){var a,u,d,p,m,y,b,S,M,A,R,E,_,T,B,z,W,L;Zt(3,arguments);var U=String(i),I=String(t),q=Ia(),ee=(a=(u=r?.locale)!==null&&u!==void 0?u:q.locale)!==null&&a!==void 0?a:Kw;if(!ee.match)throw new RangeError("locale must contain match property");var te=pi((d=(p=(m=(y=r?.firstWeekContainsDate)!==null&&y!==void 0?y:r==null||(b=r.locale)===null||b===void 0||(S=b.options)===null||S===void 0?void 0:S.firstWeekContainsDate)!==null&&m!==void 0?m:q.firstWeekContainsDate)!==null&&p!==void 0?p:(M=q.locale)===null||M===void 0||(A=M.options)===null||A===void 0?void 0:A.firstWeekContainsDate)!==null&&d!==void 0?d:1);if(!(te>=1&&te<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var ce=pi((R=(E=(_=(T=r?.weekStartsOn)!==null&&T!==void 0?T:r==null||(B=r.locale)===null||B===void 0||(z=B.options)===null||z===void 0?void 0:z.weekStartsOn)!==null&&_!==void 0?_:q.weekStartsOn)!==null&&E!==void 0?E:(W=q.locale)===null||W===void 0||(L=W.options)===null||L===void 0?void 0:L.weekStartsOn)!==null&&R!==void 0?R:0);if(!(ce>=0&&ce<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(I==="")return U===""?sn(s):new Date(NaN);var re={firstWeekContainsDate:te,weekStartsOn:ce,locale:ee},ae=[new aoe],ue=I.match(Uoe).map(function(Ue){var Pe=Ue[0];if(Pe in h1){var Re=h1[Pe];return Re(Ue,ee.formatLong)}return Ue}).join("").match(Yoe),ie=[],he=mA(ue),pe;try{var de=function(){var Pe=pe.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&dR(Pe)&&f0(Pe,I,i),!(r!=null&&r.useAdditionalDayOfYearTokens)&&hR(Pe)&&f0(Pe,I,i);var Re=Pe[0],De=$oe[Re];if(De){var je=De.incompatibleTokens;if(Array.isArray(je)){var Ee=ie.find(function(ut){return je.includes(ut.token)||ut.token===Re});if(Ee)throw new RangeError("The format string mustn't contain `".concat(Ee.fullToken,"` and `").concat(Pe,"` at the same time"))}else if(De.incompatibleTokens==="*"&&ie.length>0)throw new RangeError("The format string mustn't contain `".concat(Pe,"` and any other token at the same time"));ie.push({token:Re,fullToken:Pe});var Qe=De.run(U,Pe,ee.match,re);if(!Qe)return{v:new Date(NaN)};ae.push(Qe.setter),U=Qe.rest}else{if(Re.match(Koe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Re+"`");if(Pe==="''"?Pe="'":Re==="'"&&(Pe=Joe(Pe)),U.indexOf(Pe)===0)U=U.slice(Pe.length);else return{v:new Date(NaN)}}};for(he.s();!(pe=he.n()).done;){var xe=de();if(el(xe)==="object")return xe.v}}catch(Ue){he.e(Ue)}finally{he.f()}if(U.length>0&&qoe.test(U))return new Date(NaN);var Se=ae.map(function(Ue){return Ue.priority}).sort(function(Ue,Pe){return Pe-Ue}).filter(function(Ue,Pe,Re){return Re.indexOf(Ue)===Pe}).map(function(Ue){return ae.filter(function(Pe){return Pe.priority===Ue}).sort(function(Pe,Re){return Re.subPriority-Pe.subPriority})}).map(function(Ue){return Ue[0]}),be=sn(s);if(isNaN(be.getTime()))return new Date(NaN);var Ne=oR(be,d0(be)),_e={},Me=mA(Se),qe;try{for(Me.s();!(qe=Me.n()).done;){var ze=qe.value;if(!ze.validate(Ne,re))return new Date(NaN);var $e=ze.set(Ne,_e,re);Array.isArray($e)?(Ne=$e[0],Hre(_e,$e[1])):Ne=$e}}catch(Ue){Me.e(Ue)}finally{Me.f()}return Ne}function Joe(i){return i.match(Xoe)[1].replace(Goe,"'")}function yA(i){Zt(1,arguments);var t=sn(i);return t.setMinutes(0,0,0),t}function Qoe(i,t){Zt(2,arguments);var s=yA(i),r=yA(t);return s.getTime()===r.getTime()}function eae(i,t){Zt(2,arguments);var s=sn(i),r=sn(t);return s.getFullYear()===r.getFullYear()&&s.getMonth()===r.getMonth()}function tae(i,t){Zt(2,arguments);var s=sn(i),r=sn(t);return s.getFullYear()===r.getFullYear()}function nae(i,t){Zt(2,arguments);var s=sn(i).getTime(),r=sn(t.start).getTime(),a=sn(t.end).getTime();if(!(r<=a))throw new RangeError("Invalid interval");return s>=r&&s<=a}function iae(i,t){var s;Zt(1,arguments);var r=pi((s=void 0)!==null&&s!==void 0?s:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof i=="string"||Object.prototype.toString.call(i)==="[object String]"))return new Date(NaN);var a=aae(i),u;if(a.date){var d=lae(a.date,r);u=cae(d.restDateString,d.year)}if(!u||isNaN(u.getTime()))return new Date(NaN);var p=u.getTime(),m=0,y;if(a.time&&(m=uae(a.time),isNaN(m)))return new Date(NaN);if(a.timezone){if(y=hae(a.timezone),isNaN(y))return new Date(NaN)}else{var b=new Date(p+m),S=new Date(0);return S.setFullYear(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()),S.setHours(b.getUTCHours(),b.getUTCMinutes(),b.getUTCSeconds(),b.getUTCMilliseconds()),S}return new Date(p+m+y)}var um={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},sae=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,rae=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,oae=/^([+-])(\d{2})(?::?(\d{2}))?$/;function aae(i){var t={},s=i.split(um.dateTimeDelimiter),r;if(s.length>2)return t;if(/:/.test(s[0])?r=s[0]:(t.date=s[0],r=s[1],um.timeZoneDelimiter.test(t.date)&&(t.date=i.split(um.timeZoneDelimiter)[0],r=i.substr(t.date.length,i.length))),r){var a=um.timezone.exec(r);a?(t.time=r.replace(a[1],""),t.timezone=a[1]):t.time=r}return t}function lae(i,t){var s=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=i.match(s);if(!r)return{year:NaN,restDateString:""};var a=r[1]?parseInt(r[1]):null,u=r[2]?parseInt(r[2]):null;return{year:u===null?a:u*100,restDateString:i.slice((r[1]||r[2]).length)}}function cae(i,t){if(t===null)return new Date(NaN);var s=i.match(sae);if(!s)return new Date(NaN);var r=!!s[4],a=yf(s[1]),u=yf(s[2])-1,d=yf(s[3]),p=yf(s[4]),m=yf(s[5])-1;if(r)return mae(t,p,m)?dae(t,p,m):new Date(NaN);var y=new Date(0);return!pae(t,u,d)||!gae(t,a)?new Date(NaN):(y.setUTCFullYear(t,u,Math.max(a,d)),y)}function yf(i){return i?parseInt(i):1}function uae(i){var t=i.match(rae);if(!t)return NaN;var s=rb(t[1]),r=rb(t[2]),a=rb(t[3]);return yae(s,r,a)?s*my+r*gy+a*1e3:NaN}function rb(i){return i&&parseFloat(i.replace(",","."))||0}function hae(i){if(i==="Z")return 0;var t=i.match(oae);if(!t)return 0;var s=t[1]==="+"?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return xae(r,a)?s*(r*my+a*gy):NaN}function dae(i,t,s){var r=new Date(0);r.setUTCFullYear(i,0,4);var a=r.getUTCDay()||7,u=(t-1)*7+s+1-a;return r.setUTCDate(r.getUTCDate()+u),r}var fae=[31,null,31,30,31,30,31,31,30,31,30,31];function vR(i){return i%400===0||i%4===0&&i%100!==0}function pae(i,t,s){return t>=0&&t<=11&&s>=1&&s<=(fae[t]||(vR(i)?29:28))}function gae(i,t){return t>=1&&t<=(vR(i)?366:365)}function mae(i,t,s){return t>=1&&t<=53&&s>=0&&s<=6}function yae(i,t,s){return i===24?t===0&&s===0:s>=0&&s<60&&t>=0&&t<60&&i>=0&&i<25}function xae(i,t){return t>=0&&t<=59}function vae(i,t){Zt(2,arguments);var s=sn(i),r=pi(t),a=s.getFullYear(),u=s.getDate(),d=new Date(0);d.setFullYear(a,r,15),d.setHours(0,0,0,0);var p=fR(d);return s.setMonth(r,Math.min(u,p)),s}function bae(i,t){Zt(2,arguments);var s=sn(i),r=pi(t);return s.setDate(r),s}function wae(i,t){Zt(2,arguments);var s=sn(i),r=pi(t);return s.setHours(r),s}function Sae(i,t){Zt(2,arguments);var s=sn(i),r=pi(t);return s.setMilliseconds(r),s}function Cae(i,t){Zt(2,arguments);var s=sn(i),r=pi(t);return s.setMinutes(r),s}function kae(i,t){Zt(2,arguments);var s=sn(i),r=pi(t);return s.setSeconds(r),s}function Pae(i,t){Zt(2,arguments);var s=sn(i),r=pi(t);return isNaN(s.getTime())?new Date(NaN):(s.setFullYear(r),s)}const Mae=({open:i,onClose:t,state:s,handleStateChange:r,setTableData:a})=>{const[u,d]=X.useState(s.adjustmentNetConsumption),p=()=>{r({adjustmentNetConsumption:u}),r({openModifyAdjNetConsumption:!1}),a(m=>m.map(y=>({...y,canShared:!1,adjustmentNetConsumption:Number(u)})))};return D.jsxs(Ji,{open:i,onClose:t,TransitionComponent:Fi,PaperProps:{sx:{borderRadius:2,boxShadow:5,p:1}},children:[D.jsx(Ks,{sx:{textAlign:"center",fontWeight:"medium"},children:"Net Consumption Value kWh"}),D.jsxs(ws,{sx:{textAlign:"center"},children:[D.jsx(qm,{sx:{color:"warning.main",fontSize:"14px",mb:2,textAlign:"left"},children:"Note: Enter New Net Consumption, difference with actual meter readings will be shown in Difference kWh Column. Bill will be generated based on this new Net Consumption value. Ensure Shared meters are already selected if any."}),D.jsx(Gn,{label:"Adjusted Net Consumption in kWh",size:"small",value:u,onChange:m=>d(m.target.value),fullWidth:!0,type:"number"})]}),D.jsxs(qs,{sx:{justifyContent:"center",gap:1,pb:2},children:[D.jsx(Sn,{variant:"outlined",color:"secondary",size:"small",onClick:t,children:"Cancel"}),D.jsx(Sn,{variant:"contained",color:"primary",size:"small",onClick:p,children:"Confirm"})]})]})};var Fm={exports:{}},Tae=Fm.exports,xA;function Aae(){return xA||(xA=1,function(i,t){(function(s,r){i.exports=r(Gl(),f1())})(typeof self<"u"?self:Tae,function(s,r){return function(){var a={328:function(m,y,b){Object.defineProperty(y,"__esModule",{value:!0}),y.PrintContextConsumer=y.PrintContext=void 0;var S=b(496),M=Object.prototype.hasOwnProperty.call(S,"createContext");y.PrintContext=M?S.createContext({}):null,y.PrintContextConsumer=y.PrintContext?y.PrintContext.Consumer:function(){return null}},428:function(m,y,b){Object.defineProperty(y,"__esModule",{value:!0}),y.ReactToPrint=void 0;var S=b(316),M=b(496),A=b(190),R=b(328),E=b(940),_=function(T){function B(){var z=T.apply(this,S.__spreadArray([],S.__read(arguments),!1))||this;return z.startPrint=function(W){var L=z.props,U=L.onAfterPrint,I=L.onPrintError,q=L.print,ee=L.documentTitle;setTimeout(function(){var te,ce;if(W.contentWindow)if(W.contentWindow.focus(),q)q(W).then(function(){return U?.()}).then(function(){return z.handleRemoveIframe()}).catch(function(ue){I?I("print",ue):z.logMessages(["An error was thrown by the specified `print` function"])});else{if(W.contentWindow.print){var re=(ce=(te=W.contentDocument)===null||te===void 0?void 0:te.title)!==null&&ce!==void 0?ce:"",ae=W.ownerDocument.title;ee&&(W.ownerDocument.title=ee,W.contentDocument&&(W.contentDocument.title=ee)),W.contentWindow.print(),ee&&(W.ownerDocument.title=ae,W.contentDocument&&(W.contentDocument.title=re))}else z.logMessages(["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."]);U?.(),z.handleRemoveIframe()}else z.logMessages(["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/gregnb/react-to-print/issues/"])},500)},z.triggerPrint=function(W){var L=z.props,U=L.onBeforePrint,I=L.onPrintError;if(U){var q=U();q&&typeof q.then=="function"?q.then(function(){z.startPrint(W)}).catch(function(ee){I&&I("onBeforePrint",ee)}):z.startPrint(W)}else z.startPrint(W)},z.handlePrint=function(W){var L=z.props,U=L.bodyClass,I=L.content,q=L.copyStyles,ee=L.fonts,te=L.pageStyle,ce=L.nonce,re=typeof W=="function"?W():null;if(re&&typeof I=="function"&&z.logMessages(['"react-to-print" received a `content` prop and a content param passed the callback return by `useReactToPrint. The `content` prop will be ignored.'],"warning"),re||typeof I!="function"||(re=I()),re!==void 0)if(re!==null){var ae=document.createElement("iframe");ae.width="".concat(document.documentElement.clientWidth,"px"),ae.height="".concat(document.documentElement.clientHeight,"px"),ae.style.position="absolute",ae.style.top="-".concat(document.documentElement.clientHeight+100,"px"),ae.style.left="-".concat(document.documentElement.clientWidth+100,"px"),ae.id="printWindow",ae.srcdoc="<!DOCTYPE html>";var ue=(0,A.findDOMNode)(re);if(ue){var ie=ue.cloneNode(!0),he=ie instanceof Text,pe=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),de=he?[]:ie.querySelectorAll("img"),xe=he?[]:ie.querySelectorAll("video"),Se=ee?ee.length:0;z.numResourcesToLoad=pe.length+de.length+xe.length+Se,z.resourcesLoaded=[],z.resourcesErrored=[];var be=function(Ne,_e){z.resourcesLoaded.includes(Ne)?z.logMessages(["Tried to mark a resource that has already been handled",Ne],"debug"):(_e?(z.logMessages(S.__spreadArray(['"react-to-print" was unable to load a resource but will continue attempting to print the page'],S.__read(_e),!1)),z.resourcesErrored.push(Ne)):z.resourcesLoaded.push(Ne),z.resourcesLoaded.length+z.resourcesErrored.length===z.numResourcesToLoad&&z.triggerPrint(ae))};ae.onload=function(){var Ne,_e,Me,qe;ae.onload=null;var ze=ae.contentDocument||((_e=ae.contentWindow)===null||_e===void 0?void 0:_e.document);if(ze){ze.body.appendChild(ie),ee&&(!((Me=ae.contentDocument)===null||Me===void 0)&&Me.fonts&&(!((qe=ae.contentWindow)===null||qe===void 0)&&qe.FontFace)?ee.forEach(function(Mt){var rt=new FontFace(Mt.family,Mt.source,{weight:Mt.weight,style:Mt.style});ae.contentDocument.fonts.add(rt),rt.loaded.then(function(){be(rt)}).catch(function(Tt){be(rt,["Failed loading the font:",rt,"Load error:",Tt])})}):(ee.forEach(function(Mt){return be(Mt)}),z.logMessages(['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'])));var $e=typeof te=="function"?te():te;if(typeof $e!="string")z.logMessages(['"react-to-print" expected a "string" from `pageStyle` but received "'.concat(typeof $e,'". Styles from `pageStyle` will not be applied.')]);else{var Ue=ze.createElement("style");ce&&(Ue.setAttribute("nonce",ce),ze.head.setAttribute("nonce",ce)),Ue.appendChild(ze.createTextNode($e)),ze.head.appendChild(Ue)}if(U&&(Ne=ze.body.classList).add.apply(Ne,S.__spreadArray([],S.__read(U.split(" ")),!1)),!he){for(var Pe=he?[]:ue.querySelectorAll("canvas"),Re=ze.querySelectorAll("canvas"),De=0;De<Pe.length;++De){var je=Pe[De],Ee=Re[De].getContext("2d");Ee&&Ee.drawImage(je,0,0)}var Qe=function(Mt){var rt=de[Mt],Tt=rt.getAttribute("src");if(Tt){var ft=new Image;ft.onload=function(){return be(rt)},ft.onerror=function(mt,Rt,an,gt,Te){return be(rt,["Error loading <img>",rt,"Error",Te])},ft.src=Tt}else be(rt,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it. The <img> is:',rt])};for(De=0;De<de.length;De++)Qe(De);var ut=function(Mt){var rt=xe[Mt];rt.preload="auto";var Tt=rt.getAttribute("poster");if(Tt){var ft=new Image;ft.onload=function(){return be(rt)},ft.onerror=function(mt,Rt,an,gt,Te){return be(rt,["Error loading video poster",Tt,"for video",rt,"Error:",Te])},ft.src=Tt}else rt.readyState>=2?be(rt):(rt.onloadeddata=function(){return be(rt)},rt.onerror=function(mt,Rt,an,gt,Te){return be(rt,["Error loading video",rt,"Error",Te])},rt.onstalled=function(){return be(rt,["Loading video stalled, skipping",rt])})};for(De=0;De<xe.length;De++)ut(De);var Ht="input",un=ue.querySelectorAll(Ht),Ct=ze.querySelectorAll(Ht);for(De=0;De<un.length;De++)Ct[De].value=un[De].value;var ht="input[type=checkbox],input[type=radio]",Ze=ue.querySelectorAll(ht),yt=ze.querySelectorAll(ht);for(De=0;De<Ze.length;De++)yt[De].checked=Ze[De].checked;var Ut="select",nn=ue.querySelectorAll(Ut),Ve=ze.querySelectorAll(Ut);for(De=0;De<nn.length;De++)Ve[De].value=nn[De].value}if(q)for(var at=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']"),xt=function(Mt,rt){var Tt=at[Mt];if(Tt.tagName.toLowerCase()==="style"){var ft=ze.createElement(Tt.tagName),mt=Tt.sheet;if(mt){var Rt="";try{for(var an=mt.cssRules.length,gt=0;gt<an;++gt)typeof mt.cssRules[gt].cssText=="string"&&(Rt+="".concat(mt.cssRules[gt].cssText,`\r
`))}catch{z.logMessages(["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/gregnb/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",Tt],"warning")}ft.setAttribute("id","react-to-print-".concat(Mt)),ce&&ft.setAttribute("nonce",ce),ft.appendChild(ze.createTextNode(Rt)),ze.head.appendChild(ft)}}else if(Tt.getAttribute("href"))if(Tt.hasAttribute("disabled"))z.logMessages(["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",Tt],"warning"),be(Tt);else{for(var Te=ze.createElement(Tt.tagName),Nn=(gt=0,Tt.attributes.length);gt<Nn;++gt){var Dn=Tt.attributes[gt];Dn&&Te.setAttribute(Dn.nodeName,Dn.nodeValue||"")}Te.onload=function(){return be(Te)},Te.onerror=function(hi,Si,Wi,qi,Ps){return be(Te,["Failed to load",Te,"Error:",Ps])},ce&&Te.setAttribute("nonce",ce),ze.head.appendChild(Te)}else z.logMessages(["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",Tt],"warning"),be(Tt)},_t=(De=0,at.length);De<_t;++De)xt(De)}z.numResourcesToLoad!==0&&q||z.triggerPrint(ae)},z.handleRemoveIframe(!0),document.body.appendChild(ae)}else z.logMessages(['"react-to-print" could not locate the DOM node corresponding with the `content` prop'])}else z.logMessages(['There is nothing to print because the "content" prop returned "null". Please ensure "content" is renderable before allowing "react-to-print" to be called.']);else z.logMessages(["To print a functional component ensure it is wrapped with `React.forwardRef`, and ensure the forwarded ref is used. See the README for an example: https://github.com/gregnb/react-to-print#examples"])},z.handleRemoveIframe=function(W){var L=z.props.removeAfterPrint;if(W||L){var U=document.getElementById("printWindow");U&&document.body.removeChild(U)}},z.logMessages=function(W,L){L===void 0&&(L="error"),z.props.suppressErrors||(L==="error"?console.error(W):L==="warning"?console.warn(W):L==="debug"&&console.debug(W))},z}return S.__extends(B,T),B.prototype.handleClick=function(z,W){var L=this,U=this.props,I=U.onBeforeGetContent,q=U.onPrintError;if(I){var ee=I();ee&&typeof ee.then=="function"?ee.then(function(){return L.handlePrint(W)}).catch(function(te){q&&q("onBeforeGetContent",te)}):this.handlePrint(W)}else this.handlePrint(W)},B.prototype.render=function(){var z=this.props,W=z.children,L=z.trigger;if(L)return M.cloneElement(L(),{onClick:this.handleClick.bind(this)});if(!R.PrintContext)return this.logMessages(['"react-to-print" requires React ^16.3.0 to be able to use "PrintContext"']),null;var U={handlePrint:this.handleClick.bind(this)};return M.createElement(R.PrintContext.Provider,{value:U},W)},B.defaultProps=E.defaultProps,B}(M.Component);y.ReactToPrint=_},940:function(m,y){Object.defineProperty(y,"__esModule",{value:!0}),y.defaultProps=void 0,y.defaultProps={copyStyles:!0,pageStyle:`
        @page {
            /* Remove browser default header (title) and footer (url) */
            margin: 0;
        }
        @media print {
            body {
                /* Tell browsers to print background colors */
                -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
                color-adjust: exact; /* Firefox */
            }
        }
    `,removeAfterPrint:!1,suppressErrors:!1}},892:function(m,y,b){Object.defineProperty(y,"__esModule",{value:!0}),y.useReactToPrint=void 0;var S=b(316),M=b(496),A=b(428),R=b(940),E=b(860),_=Object.prototype.hasOwnProperty.call(M,"useMemo")&&Object.prototype.hasOwnProperty.call(M,"useCallback");y.useReactToPrint=function(T){if(!_)return T.suppressErrors||console.error('"react-to-print" requires React ^16.8.0 to be able to use "useReactToPrint"'),function(){throw new Error('"react-to-print" requires React ^16.8.0 to be able to use "useReactToPrint"')};var B=M.useMemo(function(){return new A.ReactToPrint(S.__assign(S.__assign({},R.defaultProps),T))},[T]);return M.useCallback(function(z,W){return(0,E.wrapCallbackWithArgs)(B,B.handleClick,W)(z)},[B])}},860:function(m,y,b){Object.defineProperty(y,"__esModule",{value:!0}),y.wrapCallbackWithArgs=void 0;var S=b(316);y.wrapCallbackWithArgs=function(M,A){for(var R=[],E=2;E<arguments.length;E++)R[E-2]=arguments[E];return function(){for(var _=[],T=0;T<arguments.length;T++)_[T]=arguments[T];return A.apply(M,S.__spreadArray(S.__spreadArray([],S.__read(_),!1),S.__read(R),!1))}}},496:function(m){m.exports=s},190:function(m){m.exports=r},316:function(m,y,b){b.r(y),b.d(y,{__addDisposableResource:function(){return ze},__assign:function(){return A},__asyncDelegator:function(){return pe},__asyncGenerator:function(){return he},__asyncValues:function(){return de},__await:function(){return ie},__awaiter:function(){return U},__classPrivateFieldGet:function(){return _e},__classPrivateFieldIn:function(){return qe},__classPrivateFieldSet:function(){return Me},__createBinding:function(){return q},__decorate:function(){return E},__disposeResources:function(){return Ue},__esDecorate:function(){return T},__exportStar:function(){return ee},__extends:function(){return M},__generator:function(){return I},__importDefault:function(){return Ne},__importStar:function(){return be},__makeTemplateObject:function(){return xe},__metadata:function(){return L},__param:function(){return _},__propKey:function(){return z},__read:function(){return ce},__rest:function(){return R},__runInitializers:function(){return B},__setFunctionName:function(){return W},__spread:function(){return re},__spreadArray:function(){return ue},__spreadArrays:function(){return ae},__values:function(){return te}});var S=function(Pe,Re){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(De,je){De.__proto__=je}||function(De,je){for(var Ee in je)Object.prototype.hasOwnProperty.call(je,Ee)&&(De[Ee]=je[Ee])},S(Pe,Re)};function M(Pe,Re){if(typeof Re!="function"&&Re!==null)throw new TypeError("Class extends value "+String(Re)+" is not a constructor or null");function De(){this.constructor=Pe}S(Pe,Re),Pe.prototype=Re===null?Object.create(Re):(De.prototype=Re.prototype,new De)}var A=function(){return A=Object.assign||function(Pe){for(var Re,De=1,je=arguments.length;De<je;De++)for(var Ee in Re=arguments[De])Object.prototype.hasOwnProperty.call(Re,Ee)&&(Pe[Ee]=Re[Ee]);return Pe},A.apply(this,arguments)};function R(Pe,Re){var De={};for(var je in Pe)Object.prototype.hasOwnProperty.call(Pe,je)&&Re.indexOf(je)<0&&(De[je]=Pe[je]);if(Pe!=null&&typeof Object.getOwnPropertySymbols=="function"){var Ee=0;for(je=Object.getOwnPropertySymbols(Pe);Ee<je.length;Ee++)Re.indexOf(je[Ee])<0&&Object.prototype.propertyIsEnumerable.call(Pe,je[Ee])&&(De[je[Ee]]=Pe[je[Ee]])}return De}function E(Pe,Re,De,je){var Ee,Qe=arguments.length,ut=Qe<3?Re:je===null?je=Object.getOwnPropertyDescriptor(Re,De):je;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ut=Reflect.decorate(Pe,Re,De,je);else for(var Ht=Pe.length-1;Ht>=0;Ht--)(Ee=Pe[Ht])&&(ut=(Qe<3?Ee(ut):Qe>3?Ee(Re,De,ut):Ee(Re,De))||ut);return Qe>3&&ut&&Object.defineProperty(Re,De,ut),ut}function _(Pe,Re){return function(De,je){Re(De,je,Pe)}}function T(Pe,Re,De,je,Ee,Qe){function ut(xt){if(xt!==void 0&&typeof xt!="function")throw new TypeError("Function expected");return xt}for(var Ht,un=je.kind,Ct=un==="getter"?"get":un==="setter"?"set":"value",ht=!Re&&Pe?je.static?Pe:Pe.prototype:null,Ze=Re||(ht?Object.getOwnPropertyDescriptor(ht,je.name):{}),yt=!1,Ut=De.length-1;Ut>=0;Ut--){var nn={};for(var Ve in je)nn[Ve]=Ve==="access"?{}:je[Ve];for(var Ve in je.access)nn.access[Ve]=je.access[Ve];nn.addInitializer=function(xt){if(yt)throw new TypeError("Cannot add initializers after decoration has completed");Qe.push(ut(xt||null))};var at=(0,De[Ut])(un==="accessor"?{get:Ze.get,set:Ze.set}:Ze[Ct],nn);if(un==="accessor"){if(at===void 0)continue;if(at===null||typeof at!="object")throw new TypeError("Object expected");(Ht=ut(at.get))&&(Ze.get=Ht),(Ht=ut(at.set))&&(Ze.set=Ht),(Ht=ut(at.init))&&Ee.unshift(Ht)}else(Ht=ut(at))&&(un==="field"?Ee.unshift(Ht):Ze[Ct]=Ht)}ht&&Object.defineProperty(ht,je.name,Ze),yt=!0}function B(Pe,Re,De){for(var je=arguments.length>2,Ee=0;Ee<Re.length;Ee++)De=je?Re[Ee].call(Pe,De):Re[Ee].call(Pe);return je?De:void 0}function z(Pe){return typeof Pe=="symbol"?Pe:"".concat(Pe)}function W(Pe,Re,De){return typeof Re=="symbol"&&(Re=Re.description?"[".concat(Re.description,"]"):""),Object.defineProperty(Pe,"name",{configurable:!0,value:De?"".concat(De," ",Re):Re})}function L(Pe,Re){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(Pe,Re)}function U(Pe,Re,De,je){return new(De||(De=Promise))(function(Ee,Qe){function ut(Ct){try{un(je.next(Ct))}catch(ht){Qe(ht)}}function Ht(Ct){try{un(je.throw(Ct))}catch(ht){Qe(ht)}}function un(Ct){var ht;Ct.done?Ee(Ct.value):(ht=Ct.value,ht instanceof De?ht:new De(function(Ze){Ze(ht)})).then(ut,Ht)}un((je=je.apply(Pe,Re||[])).next())})}function I(Pe,Re){var De,je,Ee,Qe,ut={label:0,sent:function(){if(1&Ee[0])throw Ee[1];return Ee[1]},trys:[],ops:[]};return Qe={next:Ht(0),throw:Ht(1),return:Ht(2)},typeof Symbol=="function"&&(Qe[Symbol.iterator]=function(){return this}),Qe;function Ht(un){return function(Ct){return function(ht){if(De)throw new TypeError("Generator is already executing.");for(;Qe&&(Qe=0,ht[0]&&(ut=0)),ut;)try{if(De=1,je&&(Ee=2&ht[0]?je.return:ht[0]?je.throw||((Ee=je.return)&&Ee.call(je),0):je.next)&&!(Ee=Ee.call(je,ht[1])).done)return Ee;switch(je=0,Ee&&(ht=[2&ht[0],Ee.value]),ht[0]){case 0:case 1:Ee=ht;break;case 4:return ut.label++,{value:ht[1],done:!1};case 5:ut.label++,je=ht[1],ht=[0];continue;case 7:ht=ut.ops.pop(),ut.trys.pop();continue;default:if(!((Ee=(Ee=ut.trys).length>0&&Ee[Ee.length-1])||ht[0]!==6&&ht[0]!==2)){ut=0;continue}if(ht[0]===3&&(!Ee||ht[1]>Ee[0]&&ht[1]<Ee[3])){ut.label=ht[1];break}if(ht[0]===6&&ut.label<Ee[1]){ut.label=Ee[1],Ee=ht;break}if(Ee&&ut.label<Ee[2]){ut.label=Ee[2],ut.ops.push(ht);break}Ee[2]&&ut.ops.pop(),ut.trys.pop();continue}ht=Re.call(Pe,ut)}catch(Ze){ht=[6,Ze],je=0}finally{De=Ee=0}if(5&ht[0])throw ht[1];return{value:ht[0]?ht[1]:void 0,done:!0}}([un,Ct])}}}var q=Object.create?function(Pe,Re,De,je){je===void 0&&(je=De);var Ee=Object.getOwnPropertyDescriptor(Re,De);Ee&&!("get"in Ee?!Re.__esModule:Ee.writable||Ee.configurable)||(Ee={enumerable:!0,get:function(){return Re[De]}}),Object.defineProperty(Pe,je,Ee)}:function(Pe,Re,De,je){je===void 0&&(je=De),Pe[je]=Re[De]};function ee(Pe,Re){for(var De in Pe)De==="default"||Object.prototype.hasOwnProperty.call(Re,De)||q(Re,Pe,De)}function te(Pe){var Re=typeof Symbol=="function"&&Symbol.iterator,De=Re&&Pe[Re],je=0;if(De)return De.call(Pe);if(Pe&&typeof Pe.length=="number")return{next:function(){return Pe&&je>=Pe.length&&(Pe=void 0),{value:Pe&&Pe[je++],done:!Pe}}};throw new TypeError(Re?"Object is not iterable.":"Symbol.iterator is not defined.")}function ce(Pe,Re){var De=typeof Symbol=="function"&&Pe[Symbol.iterator];if(!De)return Pe;var je,Ee,Qe=De.call(Pe),ut=[];try{for(;(Re===void 0||Re-- >0)&&!(je=Qe.next()).done;)ut.push(je.value)}catch(Ht){Ee={error:Ht}}finally{try{je&&!je.done&&(De=Qe.return)&&De.call(Qe)}finally{if(Ee)throw Ee.error}}return ut}function re(){for(var Pe=[],Re=0;Re<arguments.length;Re++)Pe=Pe.concat(ce(arguments[Re]));return Pe}function ae(){for(var Pe=0,Re=0,De=arguments.length;Re<De;Re++)Pe+=arguments[Re].length;var je=Array(Pe),Ee=0;for(Re=0;Re<De;Re++)for(var Qe=arguments[Re],ut=0,Ht=Qe.length;ut<Ht;ut++,Ee++)je[Ee]=Qe[ut];return je}function ue(Pe,Re,De){if(De||arguments.length===2)for(var je,Ee=0,Qe=Re.length;Ee<Qe;Ee++)!je&&Ee in Re||(je||(je=Array.prototype.slice.call(Re,0,Ee)),je[Ee]=Re[Ee]);return Pe.concat(je||Array.prototype.slice.call(Re))}function ie(Pe){return this instanceof ie?(this.v=Pe,this):new ie(Pe)}function he(Pe,Re,De){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var je,Ee=De.apply(Pe,Re||[]),Qe=[];return je={},ut("next"),ut("throw"),ut("return"),je[Symbol.asyncIterator]=function(){return this},je;function ut(Ze){Ee[Ze]&&(je[Ze]=function(yt){return new Promise(function(Ut,nn){Qe.push([Ze,yt,Ut,nn])>1||Ht(Ze,yt)})})}function Ht(Ze,yt){try{(Ut=Ee[Ze](yt)).value instanceof ie?Promise.resolve(Ut.value.v).then(un,Ct):ht(Qe[0][2],Ut)}catch(nn){ht(Qe[0][3],nn)}var Ut}function un(Ze){Ht("next",Ze)}function Ct(Ze){Ht("throw",Ze)}function ht(Ze,yt){Ze(yt),Qe.shift(),Qe.length&&Ht(Qe[0][0],Qe[0][1])}}function pe(Pe){var Re,De;return Re={},je("next"),je("throw",function(Ee){throw Ee}),je("return"),Re[Symbol.iterator]=function(){return this},Re;function je(Ee,Qe){Re[Ee]=Pe[Ee]?function(ut){return(De=!De)?{value:ie(Pe[Ee](ut)),done:!1}:Qe?Qe(ut):ut}:Qe}}function de(Pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,De=Pe[Symbol.asyncIterator];return De?De.call(Pe):(Pe=te(Pe),Re={},je("next"),je("throw"),je("return"),Re[Symbol.asyncIterator]=function(){return this},Re);function je(Ee){Re[Ee]=Pe[Ee]&&function(Qe){return new Promise(function(ut,Ht){(function(un,Ct,ht,Ze){Promise.resolve(Ze).then(function(yt){un({value:yt,done:ht})},Ct)})(ut,Ht,(Qe=Pe[Ee](Qe)).done,Qe.value)})}}}function xe(Pe,Re){return Object.defineProperty?Object.defineProperty(Pe,"raw",{value:Re}):Pe.raw=Re,Pe}var Se=Object.create?function(Pe,Re){Object.defineProperty(Pe,"default",{enumerable:!0,value:Re})}:function(Pe,Re){Pe.default=Re};function be(Pe){if(Pe&&Pe.__esModule)return Pe;var Re={};if(Pe!=null)for(var De in Pe)De!=="default"&&Object.prototype.hasOwnProperty.call(Pe,De)&&q(Re,Pe,De);return Se(Re,Pe),Re}function Ne(Pe){return Pe&&Pe.__esModule?Pe:{default:Pe}}function _e(Pe,Re,De,je){if(De==="a"&&!je)throw new TypeError("Private accessor was defined without a getter");if(typeof Re=="function"?Pe!==Re||!je:!Re.has(Pe))throw new TypeError("Cannot read private member from an object whose class did not declare it");return De==="m"?je:De==="a"?je.call(Pe):je?je.value:Re.get(Pe)}function Me(Pe,Re,De,je,Ee){if(je==="m")throw new TypeError("Private method is not writable");if(je==="a"&&!Ee)throw new TypeError("Private accessor was defined without a setter");if(typeof Re=="function"?Pe!==Re||!Ee:!Re.has(Pe))throw new TypeError("Cannot write private member to an object whose class did not declare it");return je==="a"?Ee.call(Pe,De):Ee?Ee.value=De:Re.set(Pe,De),De}function qe(Pe,Re){if(Re===null||typeof Re!="object"&&typeof Re!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof Pe=="function"?Re===Pe:Pe.has(Re)}function ze(Pe,Re,De){if(Re!=null){if(typeof Re!="object"&&typeof Re!="function")throw new TypeError("Object expected.");var je;if(De){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");je=Re[Symbol.asyncDispose]}if(je===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");je=Re[Symbol.dispose]}if(typeof je!="function")throw new TypeError("Object not disposable.");Pe.stack.push({value:Re,dispose:je,async:De})}else De&&Pe.stack.push({async:!0});return Re}var $e=typeof SuppressedError=="function"?SuppressedError:function(Pe,Re,De){var je=new Error(De);return je.name="SuppressedError",je.error=Pe,je.suppressed=Re,je};function Ue(Pe){function Re(De){Pe.error=Pe.hasError?new $e(De,Pe.error,"An error was suppressed during disposal."):De,Pe.hasError=!0}return function De(){for(;Pe.stack.length;){var je=Pe.stack.pop();try{var Ee=je.dispose&&je.dispose.call(je.value);if(je.async)return Promise.resolve(Ee).then(De,function(Qe){return Re(Qe),De()})}catch(Qe){Re(Qe)}}if(Pe.hasError)throw Pe.error}()}y.default={__extends:M,__assign:A,__rest:R,__decorate:E,__param:_,__metadata:L,__awaiter:U,__generator:I,__createBinding:q,__exportStar:ee,__values:te,__read:ce,__spread:re,__spreadArrays:ae,__spreadArray:ue,__await:ie,__asyncGenerator:he,__asyncDelegator:pe,__asyncValues:de,__makeTemplateObject:xe,__importStar:be,__importDefault:Ne,__classPrivateFieldGet:_e,__classPrivateFieldSet:Me,__classPrivateFieldIn:qe,__addDisposableResource:ze,__disposeResources:Ue}}},u={};function d(m){var y=u[m];if(y!==void 0)return y.exports;var b=u[m]={exports:{}};return a[m](b,b.exports,d),b.exports}d.d=function(m,y){for(var b in y)d.o(y,b)&&!d.o(m,b)&&Object.defineProperty(m,b,{enumerable:!0,get:y[b]})},d.o=function(m,y){return Object.prototype.hasOwnProperty.call(m,y)},d.r=function(m){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})};var p={};return function(){var m=p;Object.defineProperty(m,"__esModule",{value:!0}),m.useReactToPrint=m.ReactToPrint=m.PrintContextConsumer=void 0;var y=d(328);Object.defineProperty(m,"PrintContextConsumer",{enumerable:!0,get:function(){return y.PrintContextConsumer}});var b=d(428);Object.defineProperty(m,"ReactToPrint",{enumerable:!0,get:function(){return b.ReactToPrint}});var S=d(892);Object.defineProperty(m,"useReactToPrint",{enumerable:!0,get:function(){return S.useReactToPrint}});var M=d(428);m.default=M.ReactToPrint}(),p}()})}(Fm)),Fm.exports}var Dae=Aae();const wi=(i,t=2)=>{const s=Number(i);return Number.isNaN(s)||typeof s!="number"?0 .toFixed(t):s.toFixed(t)},Xa=(i,t)=>{const s=Number(i)||0,r=Number(t)||0;return r===0?0:s/r*100},m0=(i,t)=>{const s=Number(i.sharedNetConsumption)||0,r=Number(i.adjustmentNetConsumption)||0,a=t/100;return s===0?s+r*a:r*a},vA=(i,t)=>{const s=m0(i,t),r=Number(i.netConsumption)||0;return s-r},bA=(i,t)=>{const s=Number(i.energyCharges)||0,r=Number(i.tax)||0,a=t/100,u=Number(i.rawPercentofCDKVA)||0,d=(Number(i.demandCharges)||0)*a*(u/100),p=(Number(i.fcaCharges)||0)*a,m=(Number(i.interOnReven)||0)*a,y=(Number(i.interOnTax)||0)*a;return s+r+d+p+m+y},y0=(i,t)=>{const s=Number(i.adjEnergyCharges)||0,r=m0(i,t);return s*r},d1=(i,t)=>{const s=Number(i.adjTax)||0,r=y0(i,t);return s*r},wA=(i,t)=>{const s=Number(i.adjCurrentBillAmount)||0,r=y0(i,t),a=d1(i,t),u=t/100,d=Number(i.rawPercentofCDKVA)||0,p=(Number(i.demandCharges)||0)*u*(d/100),m=(Number(i.fcaCharges)||0)*u,y=(Number(i.interOnReven)||0)*u,b=(Number(i.interOnTax)||0)*u;return s+r+a+p+m+y+b};var hm={exports:{}},SA;function Eae(){return SA||(SA=1,function(i,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=function(m,y){switch(m){case"P":return y.date({width:"short"});case"PP":return y.date({width:"medium"});case"PPP":return y.date({width:"long"});case"PPPP":default:return y.date({width:"full"})}},r=function(m,y){switch(m){case"p":return y.time({width:"short"});case"pp":return y.time({width:"medium"});case"ppp":return y.time({width:"long"});case"pppp":default:return y.time({width:"full"})}},a=function(m,y){var b=m.match(/(P+)(p+)?/)||[],S=b[1],M=b[2];if(!M)return s(m,y);var A;switch(S){case"P":A=y.dateTime({width:"short"});break;case"PP":A=y.dateTime({width:"medium"});break;case"PPP":A=y.dateTime({width:"long"});break;case"PPPP":default:A=y.dateTime({width:"full"});break}return A.replace("{{date}}",s(S,y)).replace("{{time}}",r(M,y))},u={p:r,P:a},d=u;t.default=d,i.exports=t.default}(hm,hm.exports)),hm.exports}var Nae=Eae();const Rae=Qn(Nae),Lae={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},Oae={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",fullDateWithWeekday:"PPPP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",monthAndYear:"LLLL yyyy",monthAndDate:"MMMM d",fullTime:"p",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",fullDateTime:"PP p",fullDateTime12h:"PP hh:mm aa",fullDateTime24h:"PP HH:mm",keyboardDateTime:"P p",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class Iae{constructor(t){this.isMUIAdapter=!0,this.isTimezoneCompatible=!1,this.lib="date-fns",this.locale=void 0,this.formats=void 0,this.formatTokenMap=Lae,this.escapedCharacters={start:"'",end:"'"},this.longFormatters=void 0,this.date=u=>typeof u>"u"?new Date:u===null?null:new Date(u),this.dateWithTimezone=u=>this.date(u),this.getTimezone=()=>"default",this.setTimezone=u=>u,this.toJsDate=u=>u,this.getCurrentLocaleCode=()=>{var u;return((u=this.locale)==null?void 0:u.code)||"en-US"},this.is12HourCycleInCurrentLocale=()=>this.locale?/a/.test(this.locale.formatLong.time({width:"short"})):!0,this.expandFormat=u=>{const d=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;return u.match(d).map(p=>{const m=p[0];if(m==="p"||m==="P"){const y=this.longFormatters[m];return y(p,this.locale.formatLong)}return p}).join("")},this.getFormatHelperText=u=>this.expandFormat(u).replace(/(aaa|aa|a)/g,"(a|p)m").toLocaleLowerCase(),this.isNull=u=>u===null,this.formatNumber=u=>u,this.getMeridiemText=u=>u==="am"?"AM":"PM";const{locale:s,formats:r,longFormatters:a}=t;this.locale=s,this.formats=oe({},Oae,r),this.longFormatters=a}}class Fae extends Iae{constructor({locale:t,formats:s}={}){if(typeof Om!="function")throw new Error(["MUI: The `date-fns` package v3.x is not compatible with this adapter.","Please, install v2.x of the package or use the `AdapterDateFnsV3` instead."].join(`
`));super({locale:t??Kw,formats:s,longFormatters:Rae}),this.parseISO=r=>iae(r),this.toISO=r=>Wre(r,{format:"extended"}),this.parse=(r,a)=>r===""?null:Zoe(r,a,new Date,{locale:this.locale}),this.isValid=r=>iR(this.date(r)),this.format=(r,a)=>this.formatByString(r,this.formats[a]),this.formatByString=(r,a)=>Fc(r,a,{locale:this.locale}),this.getDiff=(r,a,u)=>{switch(u){case"years":return Use(r,this.date(a));case"quarters":return Wse(r,this.date(a));case"months":return rR(r,this.date(a));case"weeks":return Yse(r,this.date(a));case"days":return sR(r,this.date(a));case"hours":return Bse(r,this.date(a));case"minutes":return Vse(r,this.date(a));case"seconds":return $se(r,this.date(a));default:return yy(r,this.date(a))}},this.isEqual=(r,a)=>r===null&&a===null?!0:toe(r,a),this.isSameYear=(r,a)=>tae(r,a),this.isSameMonth=(r,a)=>eae(r,a),this.isSameDay=(r,a)=>Ise(r,a),this.isSameHour=(r,a)=>Qoe(r,a),this.isAfter=(r,a)=>sb(r,a),this.isAfterYear=(r,a)=>sb(r,tb(a)),this.isAfterDay=(r,a)=>sb(r,c1(a)),this.isBefore=(r,a)=>mf(r,a),this.isBeforeYear=(r,a)=>mf(r,cm(a)),this.isBeforeDay=(r,a)=>mf(r,Ph(a)),this.isWithinRange=(r,[a,u])=>nae(r,{start:a,end:u}),this.startOfYear=r=>cm(r),this.startOfMonth=r=>hA(r),this.startOfWeek=r=>Vc(r,{locale:this.locale}),this.startOfDay=r=>Ph(r),this.endOfYear=r=>tb(r),this.endOfMonth=r=>u1(r),this.endOfWeek=r=>nb(r,{locale:this.locale}),this.endOfDay=r=>c1(r),this.addYears=(r,a)=>lA(r,a),this.addMonths=(r,a)=>Im(r,a),this.addWeeks=(r,a)=>Lse(r,a),this.addDays=(r,a)=>Om(r,a),this.addHours=(r,a)=>Mse(r,a),this.addMinutes=(r,a)=>Nse(r,a),this.addSeconds=(r,a)=>Rse(r,a),this.getYear=r=>eoe(r),this.getMonth=r=>Gre(r),this.getDate=r=>$re(r),this.getHours=r=>Yre(r),this.getMinutes=r=>Xre(r),this.getSeconds=r=>qre(r),this.getMilliseconds=r=>Ure(r),this.setYear=(r,a)=>Pae(r,a),this.setMonth=(r,a)=>vae(r,a),this.setDate=(r,a)=>bae(r,a),this.setHours=(r,a)=>wae(r,a),this.setMinutes=(r,a)=>Cae(r,a),this.setSeconds=(r,a)=>kae(r,a),this.setMilliseconds=(r,a)=>Sae(r,a),this.getDaysInMonth=r=>fR(r),this.getNextMonth=r=>Im(r,1),this.getPreviousMonth=r=>Im(r,-1),this.getMonthArray=r=>{const u=[cm(r)];for(;u.length<12;){const d=u[u.length-1];u.push(this.getNextMonth(d))}return u},this.mergeDateAndTime=(r,a)=>this.setSeconds(this.setMinutes(this.setHours(r,this.getHours(a)),this.getMinutes(a)),this.getSeconds(a)),this.getWeekdays=()=>{const r=new Date;return Xse({start:Vc(r,{locale:this.locale}),end:nb(r,{locale:this.locale})}).map(a=>this.formatByString(a,"EEEEEE"))},this.getWeekArray=r=>{const a=Vc(hA(r),{locale:this.locale}),u=nb(u1(r),{locale:this.locale});let d=0,p=a;const m=[];for(;mf(p,u);){const y=Math.floor(d/7);m[y]=m[y]||[],m[y].push(p),p=Om(p,1),d+=1}return m},this.getWeekNumber=r=>Qre(r,{locale:this.locale}),this.getYearRange=(r,a)=>{const u=cm(r),d=tb(a),p=[];let m=u;for(;mf(m,d);)p.push(m),m=lA(m,1);return p}}}const jae=({fromDate:i,toDate:t,onFromDateChange:s,onToDateChange:r,isSmallScreen:a,disabled:u})=>{const d={"& .MuiInputBase-root":{height:40,fontSize:"0.8rem"}};return D.jsx(Yw,{dateAdapter:Fae,children:D.jsxs(tu,{direction:a?"column":"row",spacing:1,sx:{width:a?"100%":"auto"},children:[D.jsx(oA,{label:"From Date",value:i,onChange:s,sx:{width:a?"100%":"auto"},disabled:u,slotProps:{textField:{size:"small",sx:d}}}),D.jsx(oA,{label:"To Date",value:t,onChange:r,sx:{width:a?"100%":"auto"},disabled:u,slotProps:{textField:{size:"small",sx:d}}})]})})},si={header:{fontWeight:"bold",fontSize:"0.69rem",whiteSpace:"wrap",padding:"3px",textAlign:"center",borderRight:"1px solid #e0e0e0"},cell:{fontSize:"0.72rem",whiteSpace:"nowrap",padding:"4px",textAlign:"right"},cellCenter:{fontSize:"0.72rem",whiteSpace:"nowrap",padding:"1px",textAlign:"center"},totalRow:{fontWeight:"bold",fontSize:"0.72rem",whiteSpace:"nowrap",padding:"4px"},totalRowRight:{fontWeight:"bold",fontSize:"0.72rem",whiteSpace:"nowrap",padding:"6px",textAlign:"right"}},_ae=({data:i,handleStateChange:t,onEdit:s,onDelete:r,setTableData:a,setShareDialog:u,totals:d,sharedMeters:p,state:m})=>{const y=()=>i.reduce((re,ae)=>re+ae.netConsumption||0,0),b=re=>re.netConsumption/y()*100||0,S=i.reduce((re,ae)=>re+b(ae),0),M=re=>re.sharedNetConsumption==0?Number((re.sharedNetConsumption+re.adjustmentNetConsumption)*b(re)/100||0):Number(re.adjustmentNetConsumption*b(re)/100||0),A=re=>{if(re==null)return"0.00";const ae=typeof re=="string"?parseFloat(re):re;return isNaN(ae)?"0.00":ae.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})};_n.useEffect(()=>{if(!i.length)return;i.find(ae=>ae.netConsumption!==void 0)?.netConsumption&&t({showAdjNetCons:!0}),p.length>0&&t({afterSharedValue:i.reduce((ae,ue)=>ae+M(ue),0)})},[i]);const R=()=>{const re=i.find(ae=>ae.contractDemand!==void 0)?.contractDemand;return Number(re)||0},E=re=>re.energyCharges+re.tax+re.demandCharges*b(re)/100*(re.rawPercentofCDKVA/100)+re.fcaCharges*b(re)/100+re.interOnReven*b(re)/100+re.interOnTax*b(re)/100||0,_=(re,ae)=>M(re)-re.netConsumption,T=(re,ae)=>re.adjEnergyCharges*M(re),B=(re,ae)=>{const ue=T(re);return re.adjTax*ue},z=(re,ae)=>{_(re);const ue=T(re),ie=B(re),he=re.demandCharges*ae(re)/100*(re.rawPercentofCDKVA/100),pe=re.fcaCharges*ae(re)/100,de=re.interOnReven*ae(re)/100,xe=re.interOnTax*ae(re)/100;return re.adjCurrentBillAmount+ue+ie+he+pe+de+xe},W=()=>i.reduce((re,ae)=>re+ae.sharedNetConsumption||0,0),L=()=>i.reduce((re,ae)=>re+ae.demandCharges*b(ae)/100*(ae.rawPercentofCDKVA/100)||0,0),U=()=>i.reduce((re,ae)=>re+E(ae),0),I=()=>i.reduce((re,ae)=>re+M(ae),0),q=()=>i.reduce((re,ae)=>re+_(ae),0),ee=()=>i.reduce((re,ae)=>re+ae.adjEnergyCharges*(ae.adjustmentNetConsumption*b(ae)/100)||0,0),te=()=>i.reduce((re,ae)=>re+ae.adjTax*Number(ae.adjEnergyCharges*Number(ae.adjustmentNetConsumption*b(ae)/100)||0)||0,0),ce=()=>i.reduce((re,ae)=>re+z(ae,b),0);return D.jsx(Ra,{children:D.jsxs(oo,{size:"small",sx:{border:"1px solid #e0e0e0"},children:[D.jsx(qa,{children:D.jsx(wn,{children:["Date (Mtr_Added)","DG (Dual)","Shared Meter","Meter Name (Mtr_Id)","Tariff","Previous Readings kWh","Present Readings kWh","Net Consumption kWh","Percentage share %","Shared Net Consumption kWh","Adjusted Net Consumption kWh","Difference  kWh (Adj Cons - Net Cons)","Energy Charges Rs. ","Tax Rs. ","Contract Demand kVA","Demand Charges Rs. ","FCA Charges Rs. ","Inter on Reven Rs. ","Inter on Tax Rs. ","Current Bill Amount Rs.+++++","Action"].map(re=>D.jsx(Fe,{sx:{...si.header,minWidth:re==="Meter Name"?"160px":"auto",whiteSpace:re==="Date (Mtr_Added)"||re==="DG (Dual)"?"wrap":"normal"},children:re},re))})}),D.jsxs(ao,{children:[i.map((re,ae)=>D.jsxs(wn,{hover:!0,children:[D.jsx(Fe,{sx:si.cellCenter,children:re.created_at?new Date(re.created_at).toLocaleDateString("en-IN"):"N/A"}),D.jsx(zae,{row:re,i:ae,state:m,handleStateChange:t,setTableData:a,tableData:i}),D.jsx(Bae,{row:re,setShareDialog:u}),D.jsx(Fe,{sx:si.cellCenter,children:re.firstMeter}),D.jsx(Fe,{sx:si.cellCenter,children:re.tariff}),D.jsx(CA,{value:re.eb_previous,label:"EB",dgValue:re.dg_previous,hasDG:re.isDg}),D.jsx(CA,{value:re.eb_present,label:"EB",dgValue:re.dg_present,hasDG:re.isDg}),D.jsx(Vae,{netConsumption:re.netConsumption,dgNetConsumption:re.dg_netConsumption,hasDG:re.isDg,duplicate:re.duplicateNetConsumption,hideOther:re.hideOtherDatas}),D.jsx(Fe,{sx:si.cell,children:b(re)?.toFixed(2)}),D.jsx(Hae,{sharedMeters:p,value:re.sharedNetConsumption}),D.jsx(Fe,{sx:si.cell,children:A(M(re))}),D.jsx(Fe,{sx:si.cell,children:A(_(re))}),D.jsx(Fe,{sx:si.cell,children:A(T(re))}),D.jsx(Fe,{sx:si.cell,children:A(B(re))}),D.jsx(Fe,{sx:si.cell,children:A(re.contractDemand)}),D.jsx(Fe,{sx:si.cell,children:A(re.demandCharges*b(re)/100*(re.rawPercentofCDKVA/100))}),D.jsx(Fe,{sx:si.cell,children:A(re.fcaCharges*b(re)/100)}),D.jsx(Fe,{sx:si.cell,children:A(re.interOnReven*b(re)/100)}),D.jsx(Fe,{sx:si.cell,children:A(re.interOnTax*b(re)/100)}),D.jsx(Fe,{sx:si.cell,children:A(z(re,b))}),D.jsx(Wae,{onDelete:()=>r(re,ae),onEdit:()=>s(re,ae)})]},ae)),D.jsx($ae,{formatNumber:A,totals:d,contractDemand:R,totalDemandCharges:L(),totalPercentageShare:S,totalCurrentBillAmount:U(),totalAdjustedNetConsumption:I(),totalSharedNetConsumtion:W(),totalAdjustReadingKWh:q,totalAdjustEnergyCharge:ee,totalAdjustTax:te,totalAdjustCurrentBillAmount:ce})]})]})})},zae=({row:i,i:t,state:s,handleStateChange:r,setTableData:a,tableData:u})=>D.jsx(Fe,{sx:si.cellCenter,children:D.jsx(Zf,{checked:!!i.isDg,size:"small",onChange:d=>{const p=d.target.checked;a(m=>{const y=m.map((b,S)=>S===t?{...b,isDg:p}:b);return(s.dgTariff===0||u.some(b=>b.isDg))&&r({openDGTariffDialog:!0}),y})}})}),Bae=({row:i,setShareDialog:t})=>D.jsx(Fe,{sx:si.cellCenter,children:i.canShared&&D.jsx(Zf,{checked:!!i.hideOtherDatas,size:"small",disabled:i.isDg,onChange:s=>s.target.checked&&t(i)})}),CA=({value:i,label:t,dgValue:s,hasDG:r})=>D.jsxs(Fe,{sx:si.cell,children:[D.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingX:"4px"},children:[D.jsxs("strong",{children:[t,":"]}),D.jsx("span",{children:Number(i).toFixed(2)||0})]}),r&&D.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingX:"4px"},children:[D.jsx("strong",{children:"DG:"}),D.jsx("span",{children:Number(s).toFixed(2)||0})]})]}),Vae=({netConsumption:i,dgNetConsumption:t,hasDG:s,duplicate:r,hideOther:a})=>D.jsxs(Fe,{sx:si.cell,children:[D.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingX:"4px"},children:[D.jsx("strong",{children:"EB:"}),D.jsx("span",{children:Number(a?r:i||0).toFixed(2)})]}),s&&D.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingX:"4px"},children:[D.jsx("strong",{children:"DG:"}),D.jsx("span",{children:Number(a?r:t||0).toFixed(2)})]})]}),Hae=({sharedMeters:i,value:t})=>{const s=i.length>0?D.jsxs("div",{children:[D.jsx("h3",{style:{textAlign:"center"},children:"Shared Meters"}),i.map((r,a)=>D.jsxs("div",{children:[D.jsx("strong",{children:r.meterName}),D.jsxs("li",{children:["Total: ",(r.eb_netConsumption||0).toFixed(2)]}),a!==i.length-1&&D.jsx("hr",{})]},a))]}):D.jsx("div",{children:"No shared data"});return D.jsx(_o,{title:s,arrow:!0,followCursor:!0,children:D.jsx(Fe,{sx:si.cell,children:Number(t||0).toFixed(2)})})},Wae=({onDelete:i,onEdit:t})=>D.jsxs(Fe,{sx:si.cellCenter,children:[D.jsx(Hi,{size:"small",onClick:i,children:D.jsx(AQ,{fontSize:"small"})}),D.jsx(Hi,{size:"small",onClick:t,children:D.jsx(DQ,{fontSize:"small"})})]}),$ae=({totals:i,contractDemand:t,totalPercentageShare:s,totalCurrentBillAmount:r,totalAdjustedNetConsumption:a,totalSharedNetConsumtion:u,totalAdjustReadingKWh:d,totalAdjustEnergyCharge:p,totalAdjustTax:m,totalAdjustCurrentBillAmount:y,totalDemandCharges:b,formatNumber:S})=>D.jsxs(wn,{children:[Array(4).fill().map((M,A)=>D.jsx(Fe,{sx:si.totalRow},A)),D.jsx(Fe,{sx:si.totalRow,children:"(Total)"}),Array(2).fill().map((M,A)=>D.jsx(Fe,{sx:si.totalRow},A+4)),D.jsx(Fe,{sx:si.totalRowRight,children:S(i?.netConsumption)}),D.jsx(Fe,{sx:si.totalRowRight,children:S(s)}),D.jsx(Fe,{sx:si.totalRowRight,children:S(u)}),D.jsx(Fe,{sx:si.totalRowRight,children:S(a)}),D.jsx(Fe,{sx:si.totalRowRight,children:S(d())}),D.jsx(Fe,{sx:si.totalRowRight,children:S(p())}),D.jsx(Fe,{sx:si.totalRowRight,children:S(m())}),D.jsx(Fe,{sx:si.totalRowRight,children:S(t())}),D.jsx(Fe,{sx:si.totalRowRight,children:S(b)}),D.jsx(Fe,{sx:si.totalRowRight,children:S(i?.fcaCharges*s/100)}),D.jsx(Fe,{sx:si.totalRowRight,children:S(i?.interOnReven*s/100)}),D.jsx(Fe,{sx:si.totalRowRight,children:S(i?.interOnTax*s/100)}),D.jsx(Fe,{sx:si.totalRowRight,children:S(y())})]}),Yae="/skylightsenergyLOGO.png",Uae=()=>D.jsxs(Bt,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",px:2,pt:3,backgroundColor:"#fff",flexDirection:{xs:"column",md:"row"},"@media print":{flexDirection:"row",pageBreakInside:"avoid"}},children:[D.jsx(Bt,{sx:{display:"flex",flex:1},children:D.jsxs(Bt,{sx:{ml:1},children:[D.jsx("img",{src:Yae,alt:"Skylights Energy Logo",style:{width:"auto",height:"28px"}}),D.jsxs(Bt,{sx:{color:"text.secondary",mt:0},children:[D.jsx(Oe,{fontSize:"10px",children:"www.skylightsenergy.in"}),D.jsx(Oe,{fontSize:"10px",children:"info@skylightsenergy.in"}),D.jsx(Oe,{fontSize:"10px",children:"No. 15 1st Cross, 3rd Main Begur Rd, Bommanahalli Bangalore 560068, KA India"})]})]})}),D.jsxs(Bt,{sx:{textAlign:{xs:"left",md:"right"},mt:{xs:1,md:0},flex:1,"@media print":{textAlign:"right",mt:0}},children:[D.jsx(Oe,{fontWeight:"bold",children:"Harnessing Tech x Driven Power"}),D.jsx(Oe,{sx:{mt:1},fontSize:"10px",children:"+91-9100010019"}),D.jsx(Oe,{sx:{mt:1},fontSize:"10px",children:"GSTIN: 29ACGFS8716P1ZZ"})]})]}),Xae=({data:i})=>D.jsxs(Bt,{children:[D.jsx(Oe,{fontWeight:"bold",fontSize:"12px",children:"Customer Information"}),D.jsx(Ra,{sx:{border:"1px solid #ccc",borderRadius:"5px"},children:D.jsx(oo,{size:"small",sx:{"& .MuiTableCell-root":{py:0}},children:D.jsxs(ao,{children:[D.jsxs(wn,{sx:{"& .MuiTableCell-root":{py:0}},children:[D.jsx(Fe,{sx:{backgroundColor:"#f9fafb",py:.5,width:"17%"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Meter ID:"})}),D.jsx(Fe,{sx:{py:.5,width:"17%"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:i?.firstMeter?i.firstMeter.includes("(")?i.firstMeter.split("(")[1]?.replace(")",""):i.firstMeter:""})}),D.jsx(Fe,{rowSpan:5,sx:{backgroundColor:"#f9fafb",py:.5,width:"13%"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Address:"})}),D.jsx(Fe,{rowSpan:5,sx:{py:.5,width:"17%"},children:D.jsx(Oe,{fontSize:"10px",children:i.address})})]}),D.jsxs(wn,{sx:{"& .MuiTableCell-root":{py:0}},children:[D.jsx(Fe,{sx:{backgroundColor:"#f9fafb",py:.5,width:"17%"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Meter Name:"})}),D.jsx(Fe,{sx:{py:.5,width:"17%"},children:D.jsx(Oe,{fontSize:"10px",children:i.meterLableName})})]}),D.jsx(wn,{sx:{"& .MuiTableCell-root":{py:0}}}),D.jsxs(wn,{sx:{"& .MuiTableCell-root":{py:0}},children:[D.jsx(Fe,{sx:{backgroundColor:"#f9fafb",py:.5,width:"17%"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Building Name:"})}),D.jsx(Fe,{sx:{py:.5,width:"17%"},children:D.jsx(Oe,{fontSize:"10px",children:i.buildingName})})]}),D.jsxs(wn,{sx:{"& .MuiTableCell-root":{py:0}},children:[D.jsx(Fe,{sx:{backgroundColor:"#f9fafb",py:.5,width:"17%"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Organization Name:"})}),D.jsx(Fe,{sx:{py:.5,width:"17%"},children:D.jsx(Oe,{fontSize:"10px",children:i.orgName})})]}),D.jsx(wn,{sx:{"& .MuiTableCell-root":{py:0}},children:D.jsx(Fe,{colSpan:4,sx:{width:"17%"},children:D.jsx(Oe,{variant:"caption",color:"text.secondary",fontSize:"10px",sx:{lineHeight:1},children:"This electricity bill format is automatically generated by M/s. Skylights Energy. It should be noted that the data presented here does not hold any legal validity or can be used for any legal claims. It is not intended to replicate any ESCOM bills and does not serve as a duplicate. The information displayed is extracted from energy analytics software and is limited to the extracted data, without providing any guarantees or legal implications."})})})]})})})]}),Gae=({data:i})=>D.jsxs(Bt,{children:[D.jsx(Oe,{fontSize:"12px",fontWeight:"bold",children:"Billing Details"}),D.jsx(Ra,{sx:{mb:.4,border:"1px solid #ccc",borderRadius:"5px"},children:D.jsx(oo,{size:"small",children:D.jsxs(ao,{children:[D.jsxs(wn,{sx:{"& .MuiTableCell-root":{py:0}},children:[D.jsx(Fe,{sx:{backgroundColor:"#f9fafb",py:.5,width:"20%"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"RR No."})}),D.jsx(Fe,{sx:{py:0,width:"14%"},children:D.jsx(Oe,{fontSize:"10px",children:i.tenantMeterId})}),D.jsx(Fe,{sx:{backgroundColor:"#f9fafb",py:.5,width:"13%"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Account ID"})}),D.jsx(Fe,{sx:{py:0,width:"10%"},children:D.jsx(Oe,{fontSize:"10px",children:i.tenantMeterId})}),D.jsx(Fe,{sx:{backgroundColor:"#f9fafb",py:.5,width:"13%"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Bill Date"})}),D.jsx(Fe,{sx:{py:.5,width:"10%"},children:D.jsx(Oe,{fontSize:"10px",children:new Date().toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"})})})]}),D.jsxs(wn,{sx:{"& .MuiTableCell-root":{py:0}},children:[D.jsx(Fe,{sx:{backgroundColor:"#f9fafb",py:.5,width:"10%"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Billing Period"})}),D.jsx(Fe,{sx:{py:.5,width:"14%"},children:D.jsxs(Oe,{fontSize:"10px",fontWeight:"bold",children:[i.period?new Date(i.period.split("-")[0]).toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"}):""," - ",i.period?new Date(i.period.split("-")[1]).toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"}):""]})}),D.jsx(Fe,{sx:{backgroundColor:"#f9fafb",py:.5,width:"13%"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Due Date"})}),D.jsx(Fe,{sx:{py:.5,width:"10%"},children:D.jsx(Oe,{fontSize:"10px",children:(()=>{if(!i.period)return"";const t=new Date(i.period.split("-")[0]);return t.setDate(t.getDate()+15),t.toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"})})()})})]})]})})}),D.jsx(Ra,{sx:{border:"1px solid #ccc",borderRadius:"5px"},children:D.jsx(oo,{size:"small",children:D.jsxs(ao,{children:[D.jsxs(wn,{sx:{"& .MuiTableCell-root":{py:0}},children:[D.jsx(Fe,{sx:{backgroundColor:"#f9fafb",width:"25%"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Name & Address:"})}),D.jsx(Fe,{colSpan:7,children:D.jsxs(Oe,{fontSize:"10px",children:[i.meterLableName," -",i.buildingName," - ",i.orgName," - ",i.address]})})]}),D.jsxs(wn,{sx:{"& .MuiTableCell-root":{py:0}},children:[D.jsx(Fe,{sx:{backgroundColor:"#f9fafb"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Tariff"})}),D.jsx(Fe,{sx:{width:"15%"},children:D.jsx(Oe,{fontSize:"10px",children:i.tariff})}),D.jsx(Fe,{sx:{backgroundColor:"#f9fafb",width:"40%"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Wheeling Energy"})}),D.jsx(Fe,{sx:{},children:D.jsx(Oe,{fontSize:"10px",children:"0"})})]}),D.jsxs(wn,{sx:{"& .MuiTableCell-root":{py:0}},children:[D.jsx(Fe,{sx:{backgroundColor:"#f9fafb"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Contract Demand (KVA)"})}),D.jsx(Fe,{sx:{},children:D.jsx(Oe,{fontSize:"10px",children:i.contractDemand})}),D.jsx(Fe,{sx:{backgroundColor:"#f9fafb"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Special Energy"})}),D.jsx(Fe,{sx:{},children:D.jsx(Oe,{fontSize:"10px",children:"0"})})]}),D.jsxs(wn,{sx:{"& .MuiTableCell-root":{py:0}},children:[D.jsx(Fe,{sx:{backgroundColor:"#f9fafb"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"90% of CD (KVA)"})}),D.jsx(Fe,{children:D.jsx(Oe,{fontSize:"10px",children:i.contractDemand*.9})}),D.jsx(Fe,{sx:{backgroundColor:"#f9fafb"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Base Consumption"})}),D.jsx(Fe,{children:D.jsx(Oe,{fontSize:"10px",children:"0"})})]}),D.jsxs(wn,{sx:{"& .MuiTableCell-root":{py:0}},children:[D.jsx(Fe,{sx:{backgroundColor:"#f9fafb"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Recorded Demand (KVA)"})}),D.jsx(Fe,{children:D.jsx(Oe,{fontSize:"10px",children:i.contractDemand*.9})}),D.jsx(Fe,{sx:{backgroundColor:"#f9fafb"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Power Cut"})}),D.jsx(Fe,{children:D.jsx(Oe,{fontSize:"10px",children:"0"})})]}),D.jsxs(wn,{sx:{"& .MuiTableCell-root":{py:0}},children:[D.jsx(Fe,{sx:{backgroundColor:"#f9fafb"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Billing Demand (KVA)"})}),D.jsx(Fe,{children:D.jsx(Oe,{fontSize:"10px",children:i.contractDemand*.9})}),D.jsx(Fe,{sx:{backgroundColor:"#f9fafb"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Power Cut Energy Entitlement Demand Entitlement"})}),D.jsx(Fe,{children:D.jsx(Oe,{fontSize:"10px",children:"0"})})]}),D.jsxs(wn,{sx:{"& .MuiTableCell-root":{py:0}},children:[D.jsx(Fe,{sx:{backgroundColor:"#f9fafb"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Type"})}),D.jsx(Fe,{sx:{fontWeight:"bold"},children:D.jsx(Oe,{fontSize:"10px",children:i.tariff})})]})]})})})]}),qae=({data:i})=>{const t=s=>{if(s==null)return"0.00";const r=typeof s=="string"?parseFloat(s):s;return isNaN(r)?"0.00":r.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})};return D.jsxs(D.Fragment,{children:[D.jsx(Oe,{fontWeight:"bold",fontSize:"12px",children:"Meter Readings:"}),D.jsx(Ra,{sx:{border:"1px solid #ccc",borderRadius:"5px"},children:D.jsxs(oo,{size:"small","aria-label":"meter readings",children:[D.jsx(qa,{children:D.jsxs(wn,{sx:{"& .MuiTableCell-root":{py:0},backgroundColor:"gray.100"},children:[D.jsx(Fe,{sx:{fontSize:"13px",fontWeight:"bold"},children:D.jsx(Oe,{fontSize:"11px",fontWeight:"bold",textAlign:"left",children:"Description"})}),D.jsx(Fe,{sx:{fontSize:"13px",fontWeight:"bold"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",textAlign:"right",children:"EB Meter"})}),D.jsx(Fe,{sx:{fontSize:"13px",fontWeight:"bold"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",textAlign:"right",children:"DG Meter"})}),D.jsx(Fe,{sx:{fontSize:"13px",fontWeight:"bold"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",textAlign:"right",children:"PF"})})]})}),D.jsxs(ao,{children:[D.jsxs(wn,{sx:{"& .MuiTableCell-root":{py:0}},children:[D.jsx(Fe,{sx:{fontsize:"10px",backgroundColor:"#f9fafb"},children:D.jsxs(Oe,{fontSize:"10px",fontWeight:"bold",children:["Present Reading (",i.period?new Date(i.period.split("-")[1]).toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"}):"",")"]})}),D.jsx(Fe,{sx:{fontsize:"10px"},align:"right",children:D.jsx(Oe,{fontSize:"10px",children:i.eb_present?t(i.eb_present):"0.00"})}),D.jsx(Fe,{sx:{fontsize:"10px",backgroundColor:"#f9fafb"},align:"right",children:D.jsx(Oe,{fontSize:"10px",children:i.dg_present?t(i.dg_present):"0.00"})}),D.jsx(Fe,{sx:{fontsize:"10px"},align:"right",children:D.jsx(Oe,{fontSize:"10px",children:i.md_present?t(i.md_present):"0.00"})})]}),D.jsxs(wn,{sx:{"& .MuiTableCell-root":{py:0}},children:[D.jsx(Fe,{sx:{fontsize:"10px",backgroundColor:"#f9fafb"},children:D.jsxs(Oe,{fontSize:"10px",fontWeight:"bold",children:["Previous Reading (",i.period?new Date(i.period.split("-")[0]).toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"}):"",")"]})}),D.jsx(Fe,{align:"right",children:D.jsx(Oe,{fontSize:"10px",children:i.eb_previous?t(i.eb_previous):"0.00"})}),D.jsx(Fe,{sx:{fontsize:"10px"},align:"right",children:D.jsx(Oe,{fontSize:"10px",children:i.md_previous?t(i.md_previous):"0.00"})}),D.jsx(Fe,{sx:{fontsize:"10px",backgroundColor:"#f9fafb"},align:"right",children:D.jsx(Oe,{fontSize:"10px",children:i.pf_previous?t(i.pf_previous):"0.00"})})]}),D.jsxs(wn,{sx:{"& .MuiTableCell-root":{py:0}},children:[D.jsx(Fe,{sx:{fontsize:"10px",backgroundColor:"#f9fafb"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Difference"})}),D.jsx(Fe,{align:"right",children:D.jsx(Oe,{fontSize:"10px",children:i.eb_present&&i.eb_previous?t(i.eb_present-i.eb_previous):0})}),D.jsx(Fe,{align:"right",children:D.jsx(Oe,{fontSize:"10px",children:i.dg_present&&i.dg_previous?t(i.dg_present-i.dg_previous):0})}),D.jsx(Fe,{align:"right",children:D.jsx(Oe,{fontSize:"10px",children:i.md_present&&i.md_previous?t(i.md_present-i.md_previous):0})})]}),D.jsxs(wn,{sx:{"& .MuiTableCell-root":{py:0}},children:[D.jsx(Fe,{sx:{fontsize:"10px",backgroundColor:"#f9fafb"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Meter Constant"})}),D.jsx(Fe,{align:"right",children:D.jsx(Oe,{fontSize:"10px",children:"1"})}),D.jsx(Fe,{align:"right",children:D.jsx(Oe,{fontSize:"10px",children:"1"})}),D.jsx(Fe,{align:"right",children:D.jsx(Oe,{fontSize:"10px",children:"1"})})]}),D.jsxs(wn,{sx:{"& .MuiTableCell-root":{py:0}},children:[D.jsx(Fe,{sx:{backgroundColor:"#f9fafb"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Consumption"})}),D.jsx(Fe,{align:"right",children:D.jsx(Oe,{fontSize:"10px",children:i.eb_present&&i.eb_previous?t(i.eb_present-i.eb_previous):0})}),D.jsx(Fe,{sx:{backgroundColor:"#f9fafb"},align:"right",children:D.jsx(Oe,{fontSize:"10px",children:i.dg_present&&i.dg_previous?t(i.dg_present-i.dg_previous):0})}),D.jsx(Fe,{align:"right",children:D.jsx(Oe,{fontSize:"10px",children:i.md_present&&i.md_previous?t(i.md_present-i.md_previous):0})})]}),D.jsxs(wn,{sx:{"& .MuiTableCell-root":{py:0}},children:[D.jsx(Fe,{sx:{backgroundColor:"#f9fafb"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Less/Adjt Consumption"})}),D.jsx(Fe,{align:"right",children:D.jsx(Oe,{fontSize:"10px",children:i.rowAdjNetConsumptionkwh?t(i.rowAdjNetConsumptionkwh):0})}),D.jsx(Fe,{sx:{backgroundColor:"#f9fafb"},align:"right",children:D.jsx(Oe,{fontSize:"10px",children:0})}),D.jsx(Fe,{sx:{backgroundColor:"#f9fafb"},align:"right",children:D.jsx(Oe,{fontSize:"10px",children:0})})]}),D.jsxs(wn,{sx:{"& .MuiTableCell-root":{py:0}},children:[D.jsx(Fe,{sx:{backgroundColor:"#f9fafb"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Net Consumption"})}),D.jsx(Fe,{align:"right",children:D.jsx(Oe,{fontSize:"10px",children:i.rowAdjNetConsumption?t(i.rowAdjNetConsumption):0})}),D.jsx(Fe,{sx:{backgroundColor:"#f9fafb"},align:"right",children:D.jsx(Oe,{fontSize:"10px",children:i.dg_netConsumption?t(i.dg_netConsumption):0})}),D.jsx(Fe,{sx:{backgroundColor:"#f9fafb"},align:"right",children:D.jsx(Oe,{fontSize:"10px",children:i.pf_netConsumption?t(i.pf_netConsumption):0})})]})]})]})})]})},Kae=({data:i})=>D.jsxs(D.Fragment,{children:[D.jsx(Oe,{fontWeight:"bold",fontSize:"12px",children:"TOD meter readings for meter"}),D.jsx(Ra,{sx:{border:"1px solid #ccc",borderRadius:"5px"},children:D.jsxs(oo,{size:"small",children:[D.jsx(qa,{children:D.jsxs(wn,{sx:{backgroundColor:"gray.100","& .MuiTableCell-root":{py:0}},children:[D.jsx(Fe,{children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Time Zone"})}),D.jsx(Fe,{sx:{fontsize:"10px",fontWeight:"bold"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Name of the Zone"})}),D.jsx(Fe,{sx:{fontsize:"10px",fontWeight:"bold"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Present Readings"})}),D.jsx(Fe,{sx:{fontsize:"10px",fontWeight:"bold"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Previous Readings"})}),D.jsx(Fe,{sx:{fontsize:"10px",fontWeight:"bold"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Consumption"})}),D.jsx(Fe,{sx:{fontsize:"10px",fontWeight:"bold"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"MD Reading"})})]})}),D.jsxs(ao,{children:[D.jsxs(wn,{sx:{"& .MuiTableCell-root":{py:0}},children:[D.jsx(Fe,{sx:{fontsize:"10px"},children:D.jsx(Oe,{fontSize:"10px",children:"06:00 Hrs to 10:00Hrs"})}),D.jsx(Fe,{sx:{fontsize:"10px"},children:D.jsx(Oe,{fontSize:"10px",children:"Morning Peak"})}),D.jsx(Fe,{sx:{fontsize:"10px"},children:D.jsx(Oe,{fontSize:"10px",children:"-"})}),D.jsx(Fe,{sx:{fontsize:"10px"},children:D.jsx(Oe,{fontSize:"10px",children:"-"})}),D.jsx(Fe,{sx:{fontsize:"10px"},children:D.jsx(Oe,{fontSize:"10px",children:"-"})}),D.jsx(Fe,{sx:{fontsize:"10px"},children:D.jsx(Oe,{fontSize:"10px",children:"-"})})]}),D.jsxs(wn,{sx:{"& .MuiTableCell-root":{py:0}},children:[D.jsx(Fe,{sx:{fontsize:"10px"},children:D.jsx(Oe,{fontSize:"10px",children:"10:00 Hrs to 18:00Hrs"})}),D.jsx(Fe,{sx:{fontsize:"10px"},children:D.jsx(Oe,{fontSize:"10px",children:"Normal"})}),D.jsx(Fe,{sx:{fontsize:"10px"},children:D.jsx(Oe,{fontSize:"10px",children:"-"})}),D.jsx(Fe,{sx:{fontsize:"10px"},children:D.jsx(Oe,{fontSize:"10px",children:"-"})}),D.jsx(Fe,{sx:{fontsize:"10px"},children:D.jsx(Oe,{fontSize:"10px",children:"-"})}),D.jsx(Fe,{sx:{fontsize:"10px"},children:D.jsx(Oe,{fontSize:"10px",children:"-"})})]}),D.jsxs(wn,{sx:{"& .MuiTableCell-root":{py:0}},children:[D.jsx(Fe,{sx:{fontsize:"10px"},children:D.jsx(Oe,{fontSize:"10px",children:"18:00 Hrs to 22:00Hrs"})}),D.jsx(Fe,{sx:{fontsize:"10px"},children:D.jsx(Oe,{fontSize:"10px",children:"On Peak"})}),D.jsx(Fe,{sx:{fontsize:"10px"},children:D.jsx(Oe,{fontSize:"10px",children:"-"})}),D.jsx(Fe,{sx:{fontsize:"10px"},children:D.jsx(Oe,{fontSize:"10px",children:"-"})}),D.jsx(Fe,{sx:{fontsize:"10px"},children:D.jsx(Oe,{fontSize:"10px",children:"-"})}),D.jsx(Fe,{sx:{fontsize:"10px"},children:D.jsx(Oe,{fontSize:"10px",children:"-"})})]}),D.jsxs(wn,{sx:{"& .MuiTableCell-root":{py:0}},children:[D.jsx(Fe,{sx:{fontsize:"10px"},children:D.jsx(Oe,{fontSize:"10px",children:"22:00 Hrs to 06:00Hrs"})}),D.jsx(Fe,{sx:{fontsize:"10px"},children:D.jsx(Oe,{fontSize:"10px",children:"Off Peak"})}),D.jsx(Fe,{sx:{fontsize:"10px"},children:D.jsx(Oe,{fontSize:"10px",children:"-"})}),D.jsx(Fe,{sx:{fontsize:"10px"},children:D.jsx(Oe,{fontSize:"10px",children:"-"})}),D.jsx(Fe,{sx:{fontsize:"10px"},children:D.jsx(Oe,{fontSize:"10px",children:"-"})}),D.jsx(Fe,{sx:{fontsize:"10px"},children:D.jsx(Oe,{fontSize:"10px",children:"-"})})]})]})]})})]}),Zae=({data:i})=>{const t=s=>{if(s==null)return"0.00";const r=typeof s=="string"?parseFloat(s):s;return isNaN(r)?"0.00":r.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})};return D.jsxs(Bt,{children:[D.jsx(Oe,{fontWeight:"bold",fontSize:"12px",children:"Your Detailed Bill"}),D.jsx(Ra,{sx:{border:"1px solid #ccc",borderRadius:"5px"},children:D.jsxs(oo,{size:"small",children:[D.jsx(qa,{children:D.jsxs(wn,{sx:{backgroundColor:"#f9fafb","& .MuiTableCell-root":{py:0}},children:[D.jsx(Fe,{children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Description"})}),D.jsx(Fe,{sx:{fontsize:"10px",fontWeight:"bold",textAlign:"right"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Amount (Rs.)"})})]})}),D.jsxs(ao,{children:[D.jsxs(wn,{sx:{"& .MuiTableCell-root":{py:0}},children:[D.jsx(Fe,{sx:{fontsize:"10px"},children:D.jsxs(Oe,{fontSize:"10px",fontWeight:"bold",children:["Demand Charges: ",i.contractDemand*.9,"KVA at Rs.",i.rawDemandChargesRsKva,"/KVA"]})}),D.jsx(Fe,{sx:{fontsize:"10px"},align:"right",children:D.jsxs(Oe,{fontSize:"10px",children:["",t(i.demandCharges)]})})]}),D.jsxs(wn,{sx:{"& .MuiTableCell-root":{py:0}},children:[D.jsx(Fe,{sx:{fontsize:"10px"},children:D.jsxs(Oe,{fontSize:"10px",fontWeight:"bold",children:["Energy Charges: ",t(i.rowAdjNetConsumption),"KWh at Rs.",i.rawEnergyChargesRsKwh,"/KWh"]})}),D.jsx(Fe,{sx:{fontsize:"10px"},align:"right",children:D.jsxs(Oe,{fontSize:"10px",children:["",t(i.adjEnergyCharges)]})})]}),D.jsxs(wn,{sx:{"& .MuiTableCell-root":{py:0}},children:[D.jsx(Fe,{sx:{fontsize:"10px"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Fuel Cost Adj Rs."})}),D.jsx(Fe,{sx:{fontsize:"10px"},align:"right",children:D.jsxs(Oe,{fontSize:"10px",children:["",t(i.fcaCharges)]})})]}),D.jsxs(wn,{sx:{"& .MuiTableCell-root":{py:0}},children:[D.jsx(Fe,{sx:{fontsize:"10px"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Interest on Revenue Rs."})}),D.jsx(Fe,{sx:{fontsize:"10px"},align:"right",children:D.jsxs(Oe,{fontSize:"10px",children:["",t(i.interOnReven)]})})]}),D.jsxs(wn,{sx:{"& .MuiTableCell-root":{py:0}},children:[D.jsx(Fe,{sx:{fontsize:"10px"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Interest on Tax Rs."})}),D.jsx(Fe,{sx:{fontsize:"10px"},align:"right",children:D.jsxs(Oe,{fontSize:"10px",children:["",t(i.interOnTax)]})})]}),D.jsxs(wn,{sx:{"& .MuiTableCell-root":{py:0}},children:[D.jsx(Fe,{sx:{fontsize:"10px"},children:D.jsxs(Oe,{fontSize:"10px",fontWeight:"bold",children:["Tax ",i.rawTaxPercent,"% of (Energy Charges)"]})}),D.jsx(Fe,{sx:{fontsize:"10px"},align:"right",children:D.jsxs(Oe,{fontSize:"10px",children:["",t(i.adjTax)]})})]}),D.jsxs(wn,{sx:{"& .MuiTableCell-root":{py:0}},children:[D.jsx(Fe,{sx:{fontsize:"10px"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Current Bill Amount"})}),D.jsx(Fe,{sx:{fontsize:"10px"},align:"right",children:D.jsxs(Oe,{fontSize:"10px",children:["",t(i.adjCurrentBillAmount)]})})]}),D.jsxs(wn,{sx:{"& .MuiTableCell-root":{py:0}},children:[D.jsx(Fe,{sx:{fontsize:"10px"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Arrears"})}),D.jsx(Fe,{sx:{fontsize:"10px"},align:"right",children:D.jsx(Oe,{fontSize:"10px",children:"-"})})]}),D.jsxs(wn,{sx:{"& .MuiTableCell-root":{py:0}},children:[D.jsx(Fe,{sx:{fontsize:"10px"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Bill Correction"})}),D.jsx(Fe,{sx:{fontsize:"10px"},align:"right",children:D.jsx(Oe,{fontSize:"10px",children:"-"})})]}),D.jsxs(wn,{sx:{"& .MuiTableCell-root":{py:0}},children:[D.jsx(Fe,{sx:{fontsize:"10px"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"FAC Short claim adjustment"})}),D.jsx(Fe,{sx:{fontsize:"10px"},align:"right",children:D.jsx(Oe,{fontSize:"10px",children:"-"})})]}),D.jsxs(wn,{sx:{"& .MuiTableCell-root":{py:0}},children:[D.jsx(Fe,{sx:{fontsize:"10px"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Bill rounding adjustment"})}),D.jsx(Fe,{sx:{fontsize:"10px"},align:"right",children:D.jsx(Oe,{fontSize:"10px",children:"-"})})]}),D.jsxs(wn,{sx:{fontWeight:"bold","& .MuiTableCell-root":{py:0}},children:[D.jsx(Fe,{sx:{fontsize:"10px"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Net EB Payable Amount"})}),D.jsx(Fe,{sx:{fontsize:"10px"},align:"right",children:D.jsxs(Oe,{fontSize:"10px",fontWeight:"bold",children:["",t(i.adjCurrentBillAmount)]})})]}),D.jsxs(wn,{sx:{"& .MuiTableCell-root":{py:0}},children:[D.jsx(Fe,{sx:{fontsize:"10px"},children:D.jsxs(Oe,{fontSize:"10px",fontWeight:"bold",children:["DG Energy ",i.dg_netConsumption," KWh at Rs. ",i.dgTariff||0,"/KWh"]})}),D.jsx(Fe,{sx:{fontsize:"10px"},align:"right",children:D.jsxs(Oe,{fontSize:"10px",fontWeight:"bold",children:["",t(i.dg_netConsumption*(i.dgTariff||0))]})})]}),D.jsxs(wn,{sx:{backgroundColor:"#f9fafb",fontWeight:"bold","& .MuiTableCell-root":{py:0}},children:[D.jsx(Fe,{sx:{fontsize:"10px"},children:D.jsx(Oe,{fontSize:"10px",fontWeight:"bold",children:"Total Payable Amount"})}),D.jsx(Fe,{sx:{fontsize:"10px"},align:"right",children:D.jsxs(Oe,{fontSize:"10px",fontWeight:"bold",children:["",t(i.adjCurrentBillAmount+i.dg_netConsumption*(i.dgTariff||0))]})})]})]})]})})]})},Jae="/Switchology.png",Qae="/Switchonomy.png",ele=()=>D.jsxs(Bt,{sx:{borderTop:"1px solid #e0e0e0",mt:1,pt:1,px:2,display:"flex",justifyContent:"space-around",alignItems:"center"},children:[D.jsx(Bt,{children:D.jsx("img",{src:Qae,alt:"Switchonomy Logo",style:{width:"auto",height:"40px"}})}),D.jsx(Bt,{children:D.jsx("img",{src:Jae,alt:"Switchology Logo",style:{width:"auto",height:"40px"}})})]}),tle=X.forwardRef(({data:i},t)=>{const s=i.length;return D.jsxs("div",{ref:t,children:[D.jsx(D1,{styles:{"@media print":{body:{counterReset:"page"},".page":{counterIncrement:"page",position:"relative",pageBreakAfter:"always"},".page-number":{position:"absolute",bottom:"10px",right:"20px",fontSize:"10px",color:"#555"},".page-number::after":{content:'"Page: " counter(page) "/"'+s+'"'},"@page":{marginBottom:"30px"}}}}),i.map((r,a)=>D.jsxs(Bt,{className:"page",sx:{},children:[D.jsx(Uae,{}),D.jsx(Bt,{sx:{px:4,pb:1,borderTop:1,borderColor:"gray.200"},children:D.jsx(Xae,{data:r})}),D.jsx(Bt,{sx:{px:4,pb:0},children:D.jsx(Gae,{data:r})}),D.jsx(Bt,{sx:{px:4,pb:1},children:D.jsx(qae,{data:r})}),D.jsx(Bt,{sx:{px:4,py:0},children:D.jsx(Kae,{data:r})}),D.jsx(Bt,{sx:{px:4,py:0},children:D.jsx(Zae,{data:r})}),D.jsx(ele,{data:r}),D.jsx(Bt,{className:"page-number"})]},a))]})}),nle=({printRef:i,data:t})=>D.jsx(D.Fragment,{children:D.jsx(tle,{ref:i,data:t})}),ile=nu(i=>({adjNetConsumption:0,setAdjustmentNetConsumption:t=>i({adjNetConsumption:t})})),sle=i=>{const[t,s]=X.useState([]),[r,a]=X.useState([]),[u,d]=X.useState([]),[p,m]=X.useState(!0),[y,b]=X.useState({tariffs:[],loading:!0,error:null}),S=localStorage.getItem("accessToken")||"",{adjustmentNetConsumption:M,setAdjustmentNetConsumption:A}=ile();X.useEffect(()=>{(async()=>{try{const T=Jn.request(dw),B=Jn.request(jY,{nodeId:i}),z=Jn.request($Y);console.log("tariffsPromise=>",B);const[W,L,U]=await Promise.all([T,B,z]);console.log("tariffResult=>",U.allTariffs.nodes),console.log("meterInfoData=>",W.allMeterConfigrations.nodes),console.log("reportData=>",L.allReportdata.nodes);const I=W?.allMeterConfigrations.nodes||[];s(I.map(q=>`${q.label}(${Hn.gatewayName}_id${q.meterNo})`)),a(L?.allReportdata.nodes||[]),b({tariffs:U?.allTariffs?.nodes||[],loading:!1,error:null})}catch(T){console.error("Failed to fetch billing data:",T),T.message.includes("meter_configration")&&console.error("Meter info fetch error:",T),T.message.includes("reportdata")&&console.error("Report data fetch error:",T),T.message.includes("tariffs")&&b({tariffs:[],loading:!1,error:T})}})()},[]),X.useEffect(()=>{S?(async()=>{m(!0);try{const B=(await ji.get(`${Hn.appBaseUrl}/v2/api/meterconfig/getallmeter`,{headers:{Authorization:`Bearer ${S}`}})).data.measurements?.filter(z=>!r.some(W=>W.firstMeter.includes(z)))||[]}catch(T){console.error("Fetch all meters error:",T)}finally{m(!1)}})():m(!1)},[S,r]);const E=(_=>_.reduce((T,B)=>({tariff:B.tariff,eb_present:T.eb_present+(Number(B.eb_present)||0),eb_previous:T.eb_previous+(Number(B.eb_previous)||0),dg_present:T.dg_present+(Number(B.dg_present)||0),dg_previous:T.dg_previous+(Number(B.dg_previous)||0),netConsumption:T.netConsumption+(Number(B.netConsumption)||0),energyCharges:T.energyCharges+(Number(B.energyCharges)||0),tax:T.tax+(Number(B.tax)||0),rawDemandChargesRsKva:Number(B.rawDemandChargesRsKva)||0,contractDemand:T.contractDemand+(Number(B.contractDemand)||0),demandCharges:Number(B.demandCharges)||0,rawEnergyChargesRsKwh:Number(B.rawEnergyChargesRsKwh)||0,fcaCharges:Number(B.fcaCharges)||0,interOnReven:Number(B.interOnReven)||0,interOnTax:Number(B.interOnTax)||0,currentBillAmount:T.currentBillAmount+(Number(B.currentBillAmount)||0),adjustmentNetConsumption:T.adjustmentNetConsumption+(Number(B.adjustmentNetConsumption)||0),adjustedReadingKWh:T.adjustedReadingKWh+(Number(B.adjustedReadingKWh)||0),adjEnergyCharges:T.adjEnergyCharges+(Number(B.adjEnergyCharges)||0),adjTax:T.adjTax+(Number(B.adjTax)||0),adjCurrentBillAmount:T.adjCurrentBillAmount+(Number(B.adjCurrentBillAmount)||0),percentageShare:T.netConsumption>0?_.reduce((z,W)=>{const L=Number(W.netConsumption)/T.netConsumption*100;return z+(L||0)},0):0}),{eb_present:0,eb_previous:0,dg_present:0,dg_previous:0,netConsumption:0,energyCharges:0,tax:0,contractDemand:0,demandCharges:0,fcaCharges:0,interOnReven:0,interOnTax:0,currentBillAmount:0,adjustmentNetConsumption:0,rawDemandChargesRsKva:0,rawEnergyChargesRsKwh:0,adjustedReadingKWh:0,adjEnergyCharges:0,adjTax:0,adjCurrentBillAmount:0,percentageShare:0}))(r);return{meters:t,tableData:r,setTableData:a,sharedMeters:u,setSharedMeters:d,totals:E,loading:p,setLoading:m,tariffData:y,loadingTariff:y.loading}},rle=({isSmallScreen:i,meters:t,onAdd:s,onTariff:r,tariffData:a,loadingTariff:u})=>D.jsxs(tu,{direction:"row",spacing:1,sx:{flexWrap:"wrap",gap:1},children:[D.jsx(Sn,{onClick:s,variant:"contained",size:"small",disabled:!t||t.length===0,children:"Add"}),D.jsx(Sn,{onClick:r,variant:"contained",color:"secondary",size:"small",children:"Tariff Settings"})]}),ole=async(i,t,s,r,a,u)=>{const{fromDate:d,toDate:p,contractDemand:m,fcaCharges:y,interOnReven:b,interOnTax:S,adjustmentNetConsumption:M,dgTariff:A}=i,R=localStorage.getItem("accessToken")||"";if(!d||!p){it.error("Please select both From and To dates");return}if(d>p){it.error("From date cannot be later than To date");return}try{a(!0);const E=Fc(d,"yyyy-MM-dd'T'HH:mm:ss'Z'"),_=Fc(p,"yyyy-MM-dd'T'HH:mm:ss'Z'"),T=t.map(I=>({meter_id:I.firstMeter.match(/\((.*?)\)/)?.[1]||I.firstMeter,param:["Wh_Received","Wh_Delivered"]}));console.log("metersPayload",T);const B=await ji.get(`${Hn.appBaseUrl}/v2/api/report/get-data-batch`,{params:{from:E,to:_,meters:JSON.stringify(T)},headers:{Authorization:`Bearer ${R}`}});console.log("response",B);const{results:z}=B.data;if(!z||z.length===0){it.warning("No valid data found for the selected meters"),a(!1);return}const W=t.map(I=>{const q=I.firstMeter.match(/\((.*?)\)/),ee=I.firstMeter.split("(")[0]||I.firstMeter,te=q?q[1]:I.firstMeter,ce=z.filter(Ne=>Ne.meterId===te),re=ce.find(Ne=>Ne.param==="Wh_Received"),ae=ce.find(Ne=>Ne.param==="Wh_Delivered"),ue=r?.find(Ne=>Ne.tariff_name===I.tariff)||{},ie=re?.max!=null&&re?.min!=null?re.max-re.min:0,he=ie*(Number(ue.energy_charges_rs_kwh)||0),pe=he*(Number(ue.tax_percent)||0)/100,de=(Number(m)||0)*(Number(ue.demand_charges_rs_kva)||0),xe=he+pe+de+Number(y||0)+Number(b||0)+Number(S||0),Se=Number(ue.energy_charges_rs_kwh)||0,be=(Number(ue.tax_percent)||0)/100;return{...I,meterLableName:ee,rawPercentofCDKVA:Number(ue.percent_of_cd_kva)||0,rawDemandChargesRsKva:Number(ue.demand_charges_rs_kva)||0,rawEnergyChargesRsKwh:Number(ue.energy_charges_rs_kwh)||0,rawTaxPercent:Number(ue.tax_percent)||0,rawFuelCostAdjRsKwh:Number(ue.fuel_cost_adj_rs_kwh)||0,rawInterestOnRevenue:Number(ue.interest_on_revenue)||0,rawInterestOnTax:Number(ue.interest_on_tax)||0,dg_previous:Number(ae?.min)||0,dg_present:Number(ae?.max)||0,dg_netConsumption:ae?.max!=null&&ae?.min!=null?ae.max-ae.min:0,dg_energyCharges:((Number(ae?.max)||0)-(Number(ae?.min)||0))*(Number(A)||0),eb_previous:Number(re?.min)||0,eb_present:Number(re?.max)||0,netConsumption:ie,energyCharges:he,tax:pe,contractDemand:Number(m||0),canShared:!0,demandCharges:de,fcaCharges:Number(y||0),interOnReven:Number(b||0),interOnTax:Number(S||0),currentBillAmount:xe,adjustmentNetConsumption:Number(M||0),adjEnergyCharges:Se,adjTax:be,adjCurrentBillAmount:0,sharedNetConsumption:0}}),L=W.reduce((I,q)=>I+(Number(q.netConsumption)||0),0),U=W.map(I=>({...I,adjustmentNetConsumption:Number(M)===0?L:Number(M)}));s(U),Number(M)===0&&u({adjustmentNetConsumption:L}),u({isApplied:!0}),it.success("Data filtered successfully")}catch(E){console.error("Error fetching filtered data:",E),it.error("Error fetching filtered data: "+(E.response?.data?.error||E.message))}finally{a(!1)}},ale=()=>{const i=vs(),t=A1(i.breakpoints.down("md")),s=X.useRef(null),r=Dae.useReactToPrint({content:()=>s.current,documentTitle:new Date().toLocaleDateString("en-IN",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,"-"),onAfterPrint:()=>console.log("Printing completed")}),[a,u]=X.useState({openForm:!1,openTariff:!1,shareDialog:null,editData:null,fromDate:null,toDate:null,contractDemand:"",fcaCharges:"",interOnReven:"",interOnTax:"",adjustmentNetConsumption:"",dgTariff:0,showAdjNetCons:!1,afterSharedValue:0,openModifyAdjNetConsumption:!1,isApplied:!1,showBillTemplate:!1,billData:[],openDGTariffDialog:!1}),[d,p]=X.useState(!1);X.useEffect(()=>{p(!0)},[]);const{meters:m,tableData:y,setTableData:b,sharedMeters:S,setSharedMeters:M,totals:A,loading:R,setLoading:E,tariffData:_,loadingTariff:T}=sle(),B=q=>u(ee=>({...ee,...q})),z=async q=>{const ee={firstMeter:q.firstMeter,tariff:q.tariff,bescomBill:0,...a.editData&&{updated_at:new Date().toISOString()}},te=a.editData?VY:NY,ce=a.editData?{input:{id:a.editData.id,reportDataPatch:ee}}:{input:{reportdatum:ee}};try{const re=await Jn.request(te,ce);if(console.log("response=>",re),a.editData)b(ae=>ae.map(ue=>ue.id===a.editData.id?{...ue,...ee}:ue));else{const ae=re.createReportdatum?.reportdatum;ae?b(ue=>[...ue,ae]):it.warning("Form submitted but no data returned.")}B({openForm:!1,editData:null}),it.success(`Form ${a.editData?"Updated":"Submitted"} Successfully!`)}catch(re){it.error("Error in submitting the form: "+re.message),console.error("Error submitting form:",re)}},W=async q=>{console.log("row",q.id);try{await Jn.request(HY,{input:{id:q.id}}),it.success("Meter data deleted successfully!"),b(ee=>ee.filter(te=>te.id!==q.id))}catch(ee){it.error("Error deleting meter data: "+ee.message),console.error("Error deleting meter data:",ee)}},L=q=>{B({editData:q,openForm:!0})},U=q=>{if(!q)return;const ee=Number(q.netConsumption)||0;M(te=>{const ce={meterName:q.firstMeter,eb_netConsumption:Number(q.eb_present-q.eb_previous)||0,total_netConsumption:ee},re=[...te,ce],ae=[...new Map(re.map(ie=>[ie.meterName,ie])).values()],ue=ae.reduce((ie,he)=>ie+(he.total_netConsumption||0),0);return b(ie=>{const he=ie.filter(pe=>pe.firstMeter!==q.firstMeter&&!ae.some(de=>de.meterName===pe.firstMeter)).reduce((pe,de)=>pe+(Number(de.netConsumption)||0),0);return ie.map(pe=>{if(pe.firstMeter!==q.firstMeter&&!ae.some(de=>de.meterName===pe.firstMeter)){const de=he>0?Number(pe.netConsumption)/he:0;return{...pe,sharedNetConsumption:ue*de}}return pe}).filter(pe=>pe.firstMeter!==q.firstMeter)}),ae})},I=async()=>{E(!0);try{const q=y.reduce((xe,Se)=>xe+(Number(Se.netConsumption)||0),0),ee=y.map(xe=>{const Se=Xa(xe.netConsumption,q);return{...xe,dgTariff:a.dgTariff,buildingName:Hn.buildingName,address:Hn.address,orgName:Hn.orgName,tenantMeterId:xe.firstMeter,tenantName:"FULL BUILDING",tenantSinceDate:"01/05/23",period:a.fromDate&&a.toDate?`${Fc(a.fromDate,"yyyy/MM/dd")}-${Fc(a.toDate,"yyyy/MM/dd")}`:"N/A",billDate:new Date().toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"}),dueDate:new Date(Date.now()+360*60*60*1e3).toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"}),discDate:new Date(Date.now()+10080*60*1e3).toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"}),rowAdjNetConsumptionkwh:wi(vA(xe,Se)),rowAdjNetConsumption:wi(m0(xe,Se)),percentageShare:wi(Se),demandCharges:wi((Number(xe.demandCharges)||0)*(Se/100)*((Number(xe.rawPercentofCDKVA)||0)/100)),fcaCharges:wi((Number(xe.fcaCharges)||0)*(Se/100)),interOnReven:wi((Number(xe.interOnReven)||0)*(Se/100)),interOnTax:wi((Number(xe.interOnTax)||0)*(Se/100)),currentBillAmount:wi(bA(xe,Se)),adjEnergyCharges:wi(y0(xe,Se)),adjTax:wi(d1(xe,Se)),adjCurrentBillAmount:wi(wA(xe,Se))}}),te=y.reduce((xe,Se)=>xe+Xa(Se.netConsumption,q),0),ce=y.reduce((xe,Se)=>xe+bA(Se,Xa(Se.netConsumption,q)),0),re=y.reduce((xe,Se)=>xe+m0(Se,Xa(Se.netConsumption,q)),0),ae=y.reduce((xe,Se)=>xe+vA(Se,Xa(Se.netConsumption,q)),0),ue=y.reduce((xe,Se)=>xe+y0(Se,Xa(Se.netConsumption,q)),0),ie=y.reduce((xe,Se)=>xe+d1(Se,Xa(Se.netConsumption,q)),0),he=y.reduce((xe,Se)=>xe+wA(Se,Xa(Se.netConsumption,q)),0),pe=y.reduce((xe,Se)=>xe+(Number(Se.demandCharges)||0)*(Xa(Se.netConsumption,q)/100)*((Number(Se.rawPercentofCDKVA)||0)/100),0),de={isTotal:!0,firstMeter:"(Total)",meterLableName:"(Total)",buildingName:Hn.buildingName,address:Hn.address,orgName:Hn.orgName,period:a.fromDate&&a.toDate?`${Fc(a.fromDate,"yyyy/MM/dd")}-${Fc(a.toDate,"yyyy/MM/dd")}`:"N/A",billDate:new Date().toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"}),eb_previous:wi(A.eb_previous),eb_present:wi(A.eb_present),dg_previous:wi(A.dg_previous),dg_present:wi(A.dg_present),dg_netConsumption:wi(A.dg_netConsumption),dg_energyCharges:wi(A.dg_energyCharges),dgTariff:a.dgTariff,netConsumption:wi(A.netConsumption),energyCharges:wi(A.energyCharges),tax:wi(A.tax*(te/100)),contractDemand:a.contractDemand,demandCharges:wi(pe),fcaCharges:wi(A.fcaCharges*(te/100)),interOnReven:wi(A.interOnReven*(te/100)),interOnTax:wi(A.interOnTax*(te/100)),currentBillAmount:wi(ce),sharedNetConsumption:wi(y.reduce((xe,Se)=>xe+(Number(Se.sharedNetConsumption)||0),0)),rowAdjNetConsumption:wi(re),adjustmentNetConsumption:wi(re),adjustedReadingKWh:wi(ae),adjEnergyCharges:wi(ue),adjTax:wi(ie),adjCurrentBillAmount:wi(he),rawPercentofCDKVA:y.length>0&&Number(y[0].rawPercentofCDKVA)||0,rawDemandChargesRsKva:y.length>0&&Number(y[0].rawDemandChargesRsKva)||0,rawEnergyChargesRsKwh:y.length>0&&Number(y[0].rawEnergyChargesRsKwh)||0,rawTaxPercent:y.length>0&&Number(y[0].rawTaxPercent)||0};B({showBillTemplate:!0,billData:[...ee,de]}),it.success("Bill generated successfully")}catch(q){console.error("Error generating bill:",q),it.error(q.response?.data?.error||"Failed to generate bill")}finally{E(!1)}};return D.jsx(Zr,{in:d,timeout:700,children:D.jsx(Bt,{sx:{display:"flex",flexDirection:"column",alignItems:"center",p:{xs:1,sm:2}},children:R&&!a.showBillTemplate?D.jsx(mr,{}):D.jsxs(D.Fragment,{children:[D.jsxs(tu,{direction:"column",spacing:2,sx:{width:"100%",mb:2},children:[D.jsx(ts,{elevation:3,sx:{p:2,borderRadius:2},children:D.jsx(rle,{isSmallScreen:t,meters:m,onAdd:()=>B({openForm:!0,editData:null}),onTariff:()=>B({openTariff:!0}),tariffData:_?.tariffs||[],loadingTariff:T})}),D.jsxs(ts,{elevation:3,sx:{p:2,borderRadius:2},children:[D.jsx(jae,{fromDate:a.fromDate,toDate:a.toDate,onFromDateChange:q=>B({fromDate:q}),onToDateChange:q=>B({toDate:q}),isSmallScreen:t,disabled:a.isApplied}),D.jsx(Bt,{sx:{mt:2},children:D.jsx(Vee,{state:a,onStateChange:B,isSmallScreen:t,disabled:a.isApplied,tableData:y,setTableData:b,tariffData:_?.tariffs||[],loading:R,setLoading:E,handleApplyDateFilter:ole})})]})]}),D.jsx(Cse,{open:a.openForm,onClose:()=>B({openForm:!1,editData:null}),onSubmit:z,initialData:a.editData,meters:m||[],tariffData:_?.tariffs||[],onOpenTariffSettings:()=>B({openTariff:!0})}),D.jsx(Bt,{sx:{width:"100%",borderBottom:"2px solid #e0e0e0",my:2}}),D.jsx(Sn,{onClick:I,variant:"contained",color:"primary",size:"medium",sx:{mb:2,px:3,py:1},disabled:!a.isApplied||R,children:R?D.jsx(mr,{size:24,color:"inherit"}):"Generate Bill"}),D.jsx(Fi,{in:y&&y.length>0||S&&S.length>0,timeout:500,children:D.jsx(ts,{elevation:3,sx:{width:"100%",borderRadius:2,overflow:"hidden"},children:D.jsx(_ae,{data:y||[],handleStateChange:B,onEdit:L,onDelete:W,setTableData:b,setShareDialog:q=>B({shareDialog:q}),totals:A,sharedMeters:S||[],state:a})})}),D.jsx(zee,{open:a.openTariff,onClose:()=>B({openTariff:!1}),tariffData:_,loading:T}),D.jsx(Ji,{open:!!a.shareDialog,onClose:()=>B({shareDialog:null}),TransitionComponent:Fi,children:D.jsx(kse,{open:!!a.shareDialog,onClose:()=>B({shareDialog:null}),onConfirm:()=>{U(a.shareDialog),B({shareDialog:null})}})}),D.jsx(Ji,{open:a.openModifyAdjNetConsumption,onClose:()=>B({openModifyAdjNetConsumption:!1}),TransitionComponent:Fi,children:D.jsx(Mae,{open:a.openModifyAdjNetConsumption,onClose:()=>B({openModifyAdjNetConsumption:!1}),state:a,handleStateChange:B,setTableData:b})}),D.jsx(Ji,{open:a.openDGTariffDialog,onClose:()=>B({openDGTariffDialog:!1}),TransitionComponent:Fi,children:D.jsx(Bee,{open:a.openDGTariffDialog,onClose:()=>B({openDGTariffDialog:!1}),dgTariff:a.dgTariff,onStateChange:B})}),D.jsxs(Ji,{open:a.showBillTemplate,onClose:()=>B({showBillTemplate:!1}),maxWidth:"lg",fullWidth:!0,TransitionComponent:Fi,children:[D.jsx(Ks,{children:D.jsxs(Bt,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:1},children:[D.jsx(Oe,{variant:"h6",sx:{flex:1,textAlign:"center",ml:{xs:0,sm:12}},children:"Detailed Bill"}),D.jsx(Sn,{variant:"contained",color:"secondary",size:"small",onClick:()=>B({showBillTemplate:!1}),children:"Close"}),D.jsx(Sn,{variant:"contained",size:"small",onClick:r,disabled:R,children:R?D.jsx(mr,{size:20}):"Print Bill"})]})}),D.jsx(ws,{sx:{mb:2},children:R?D.jsx(Bt,{sx:{display:"flex",justifyContent:"center",my:5},children:D.jsx(mr,{})}):D.jsx(nle,{printRef:s,data:a.billData.sort((q,ee)=>{const te=ce=>ce?.firstMeter?ce.firstMeter.includes("(")?ce.firstMeter.split("(")[1]?.replace(")",""):ce.firstMeter:"";return te(q).localeCompare(te(ee))})})})]})]})})})},lle=()=>{const{isLoading:i,hasProfile:t,roleLoaded:s}=Dw(),{checkGatewayStatus:r,isLoggedIn:a}=Np(),[u,d]=X.useState({needsAuthentication:!1,needsSubscription:!1,subscriptionIsActive:!0}),[p,m]=X.useState(!1);if(X.useEffect(()=>{(async()=>{const S=await r();d(S),m(!0)})()},[]),i||!s||!p)return D.jsxs(Bt,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column",gap:2},children:[D.jsx(mr,{size:60}),D.jsx(Oe,{variant:"h6",children:"Loading application..."})]});const y=()=>{const b=a();return console.log("getDefaultRoute - loggedIn:",b,"hasProfile:",t,"gatewayStatus:",u),u?.needsAuthentication?(console.log("Redirecting to /gateway/auth - gateway locked"),"/gateway/auth"):u?.needsSubscription?(console.log("Redirecting to /gateway/subscription - subscription inactive"),"/gateway/subscription"):t?t&&!b?(console.log("Redirecting to /auth/login - profile exists but not logged in"),"/auth/login"):t&&b?(console.log("Redirecting to /dashboard - profile exists and logged in"),"/dashboard"):(console.log("Redirecting to /dashboard - default fallback"),"/dashboard"):(console.log("Redirecting to /user/profile - no profile exists"),"/user/profile")};return D.jsxs(ej,{children:[D.jsx(Ro,{path:"/auth/login",element:D.jsx(Sa,{children:D.jsx(Fee,{})})}),D.jsx(Ro,{path:"/gateway/auth",element:D.jsx(Sa,{children:D.jsx(GX,{})})}),D.jsx(Ro,{path:"/gateway/subscription",element:D.jsx(Sa,{children:D.jsx(qX,{})})}),D.jsx(Ro,{path:"/user/profile",element:D.jsx(Sa,{children:D.jsx(S3,{})})}),D.jsx(Ro,{path:"/dashboard",element:D.jsx(Sa,{children:D.jsx(Zu,{component:XU})})}),D.jsx(Ro,{path:"/analytics/ems",element:D.jsx(Sa,{children:D.jsx(Zu,{component:GU})})}),D.jsx(Ro,{path:"/analytics/kpi",element:D.jsx(Sa,{children:D.jsx(Zu,{component:Lee})})}),D.jsx(Ro,{path:"/scada/diagram",element:D.jsx(Sa,{children:D.jsx(Zu,{component:Cee})})}),D.jsx(Ro,{path:"/admin/setup",element:D.jsx(Sa,{allowedRoles:["ADMIN"],children:D.jsx(Zu,{component:UX})})}),D.jsx(Ro,{path:"/admin/meter-config",element:D.jsx(Sa,{allowedRoles:["ADMIN"],children:D.jsx(Zu,{component:ale})})}),D.jsx(Ro,{path:"*",element:D.jsx(_l,{to:y(),replace:!0})})]})};function cle(){const[i,t]=X.useState(!1);return X.useEffect(()=>{t(!0)},[]),D.jsxs(Cj,{children:[D.jsx(Zr,{in:i,timeout:700,children:D.jsx(Bt,{sx:{height:"100%"},children:D.jsx(lle,{})})}),D.jsx(jm,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}const ule=X.createContext(),ob={300:"#FFA79D",500:"#F2592A",700:"#AD3B10"},jl={light:ob[300],main:ob[500],dark:ob[700],contrastText:"#fff"},kA={main:"#00BCD4",contrastText:"#fff"},hle=({children:i})=>{const{themeMode:t,setThemeMode:s}=Ew(),r=()=>{s(d=>d==="light"?"dark":"light")},a=Wm({palette:{mode:"light",primary:jl,secondary:jk,accent:kA,action:{active:jl.main,hover:"rgba(242, 89, 42, 0.08)"},error:{main:"#ea5455"},background:{default:"#F2F5F6",paper:"#ffffff",hover:"#e0e0e0",timeRange:"#ffffff",widget:"#e0e0e0",textColor:"#363636"},text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"}},typography:{fontFamily:["Source Sans Pro","sans-serif"].join(","),allVariants:{textTransform:"none"},fontSize:14,h1:{fontSize:43,fontWeight:600},h2:{fontSize:37,fontWeight:600},h3:{fontSize:33,fontWeight:600},h4:{fontSize:27,fontWeight:600},h5:{fontSize:23,fontWeight:600},h6:{fontSize:18,fontWeight:600}},components:{MuiButton:{styleOverrides:{root:{}}},MuiAppBar:{styleOverrides:{colorPrimary:{backgroundColor:jl.main,color:jl.contrastText}}}},breakpoints:{values:{xs:0,sm:600,md:960,lg:1280,xl:1920}}}),u=Wm({palette:{mode:"dark",primary:jl,secondary:jk,accent:kA,action:{active:jl.main,hover:"rgba(242, 89, 42, 0.12)"},error:{main:"#ea5455"},background:{default:"#121212",paper:"#1e1e1e",widget:"#2c2c2c",hover:"#333333",timeRange:"#303654",textColor:"#fafafa"},text:{primary:"#ffffff",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)"}},typography:{fontFamily:["Source Sans Pro","sans-serif"].join(","),allVariants:{textTransform:"none"},fontSize:14,h1:{fontSize:43,fontWeight:600},h2:{fontSize:37,fontWeight:600},h3:{fontSize:33,fontWeight:600},h4:{fontSize:27,fontWeight:600},h5:{fontSize:23,fontWeight:600},h6:{fontSize:18,fontWeight:600}},components:{MuiButton:{styleOverrides:{root:{}}},MuiAppBar:{styleOverrides:{colorPrimary:{backgroundColor:jl.main,color:jl.contrastText}}}},breakpoints:{values:{xs:0,sm:600,md:960,lg:1280,xl:1920}}});return D.jsx(ule.Provider,{value:{themeMode:t,toggleTheme:r,darkTheme:u,lightTheme:a},children:D.jsx($j,{theme:t==="dark"?u:a,children:i})})};self.MonacoEnvironment={getWorkerUrl:function(i,t){return"/monaco-editor/vs/base/worker/workerMain.js"}};gL.createRoot(document.getElementById("firstRoot")).render(D.jsxs(hle,{children:[D.jsx(jm,{}),D.jsx(u4,{}),D.jsx(cle,{})]}));
